"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5319],{27037:function(e,t,r){r.r(t),r.d(t,{default:function(){return S}}),r(61013),r(98010),r(63238);var a=r(6594),s=r(6383),i=r(78695),l=r(17025),n=r(67469),o=r(27515),c=r(53754),d=r(32465),u=r(83094),h=r(47518),v=(r(56561),r(93462),r(48366),r(32420),r(5100),r(78066),r(76543)),g=r(53913),m=r(61642),f=r(61097),b=!h.Z.slow&&!h.Z.edge;function p(e){(0,m.Z)(e)}function S(e,t){function r(e){var t=[];t.push({name:c.ZP.translate("Connect"),id:"connect"}),t.push({name:c.ZP.translate("Delete"),id:"delete"}),d.default.show({items:t,title:e.Name}).then((function(t){switch(t){case"connect":!function(e){a.ZP.show(),g.Z.connectToServer(e,{enableAutoLogin:n.Z.enableAutoLogin()}).then((function(e){a.ZP.hide();var t=e.ApiClient;switch(e.State){case"SignedIn":v.ZP.onServerChanged(t.getCurrentUserId(),t.accessToken(),t),v.ZP.navigate("home.html");break;case"ServerSignIn":v.ZP.onServerChanged(null,null,t),v.ZP.navigate("login.html?serverid="+e.Servers[0].Id);break;case"ServerUpdateNeeded":p({text:c.ZP.translate("core#ServerUpdateNeeded","https://github.com/jellyfin/jellyfin"),html:c.ZP.translate("core#ServerUpdateNeeded",'<a href="https://github.com/jellyfin/jellyfin">https://github.com/jellyfin/jellyfin</a>')});break;default:p({text:c.ZP.translate("MessageUnableToConnectToServer")})}}))}(e);break;case"delete":!function(e){a.ZP.show(),g.Z.deleteServer(e.Id).then((function(){a.ZP.hide(),m()}))}(e)}}))}function h(t){S=t,function(e,t){var r=t.map((function(e){return{name:e.Name,showIcon:!0,icon:"cast",cardType:"",id:e.Id,server:e}})),s=r.map((function(e){var t;t=e.showIcon?'<span class="cardImageIcon material-icons '+e.icon+'"></span>':'<div class="cardImage" style="'+e.cardImageStyle+'"></div>';var r="card overflowSquareCard loginSquareCard scalableCard overflowSquareCard-scalable";i.Z.tv&&(r+=" show-focus",b&&(r+=" show-animation"));var a="";return a+='<button raised class="'+r+'" style="display:inline-block;" data-id="'+e.id+'" data-url="'+(e.url||"")+'" data-cardtype="'+e.cardType+'">',a+='<div class="cardBox">',a+='<div class="cardScalable">',a+='<div class="cardPadder cardPadder-square">',a+="</div>",a+='<div class="cardContent">',a+='<div class="cardImageContainer coveredImage '.concat(f.default.getDefaultBackgroundClass(),'" style="border-radius:0.2em">'),a+=t,a+="</div>",a+="</div>",a+="</div>",a+='<div class="cardFooter">',(a+='<div class="cardText cardTextCentered">'+e.name+"</div>")+"</div></div></button>"})).join(""),l=e.querySelector(".servers");r.length||(s="<p>"+c.ZP.translate("MessageNoServersAvailable")+"</p>"),l.innerHTML=s,a.ZP.hide()}(e,t),i.Z.tv&&o.Z.autoFocus(e)}function m(){a.ZP.show(),g.Z.getAvailableServers().then(h)}var S;!function(e,t){"1"==t.showuser?(e.classList.add("libraryPage"),e.classList.remove("standalonePage"),e.classList.add("noSecondaryNavPage")):(e.classList.add("standalonePage"),e.classList.remove("libraryPage"),e.classList.remove("noSecondaryNavPage"))}(e,t),e.addEventListener("viewshow",(function(e){var t=e.detail.isRestored;s.appRouter.setTitle(null),l.Z.setTransparentMenu(!0),t||m()})),e.querySelector(".servers").addEventListener("click",(function(e){var t=u.ZP.parentWithClass(e.target,"card");if(t){var a=t.getAttribute("data-url");if(a)s.appRouter.show(a);else{var i=t.getAttribute("data-id");r(S.filter((function(e){return e.Id===i}))[0])}}}))}},48366:function(e,t,r){r(5769),r(63238),r(61418),r(17460),r(14078);var a=r(13800),s=r(83094),i=r(78695),l=r(12392),n=r(27515),o=r(47518),c=(r(67752),r(1892)),d=r.n(c),u=r(75869),h=(d()(u.Z,{insert:"head",singleton:!1}),u.Z.locals,Object.create(HTMLDivElement.prototype));function v(e){var t=e.detail.command;"end"===t?(n.Z.focusLast(this,"."+this.getAttribute("data-navcommands")),e.preventDefault(),e.stopPropagation()):"pageup"===t?(n.Z.moveFocus(e.target,this,"."+this.getAttribute("data-navcommands"),-12),e.preventDefault(),e.stopPropagation()):"pagedown"===t&&(n.Z.moveFocus(e.target,this,"."+this.getAttribute("data-navcommands"),12),e.preventDefault(),e.stopPropagation())}h.createdCallback=function(){this.classList.add("emby-scroller")},h.scrollToBeginning=function(){this.scroller&&this.scroller.slideTo(0,!0)},h.toStart=function(e,t){this.scroller&&this.scroller.toStart(e,t)},h.toCenter=function(e,t){this.scroller&&this.scroller.toCenter(e,t)},h.scrollToPosition=function(e,t){this.scroller&&this.scroller.slideTo(e,t)},h.getScrollPosition=function(){if(this.scroller)return this.scroller.getScrollPosition()},h.getScrollSize=function(){if(this.scroller)return this.scroller.getScrollSize()},h.getScrollEventName=function(){if(this.scroller)return this.scroller.getScrollEventName()},h.getScrollSlider=function(){if(this.scroller)return this.scroller.getScrollSlider()},h.addScrollEventListener=function(e,t){this.scroller&&s.ZP.addEventListener(this.scroller.getScrollFrame(),this.scroller.getScrollEventName(),e,t)},h.removeScrollEventListener=function(e,t){this.scroller&&s.ZP.removeEventListener(this.scroller.getScrollFrame(),this.scroller.getScrollEventName(),e,t)},h.attachedCallback=function(){this.getAttribute("data-navcommands")&&l.ZP.on(this,v);var e="false"!==this.getAttribute("data-horizontal"),t=this.querySelector(".scrollSlider");e&&(t.style["white-space"]="nowrap");var c,d=i.Z.desktop&&e&&"false"!==this.getAttribute("data-scrollbuttons"),u={horizontal:e,mouseDragging:1,mouseWheel:"false"!==this.getAttribute("data-mousewheel"),touchDragging:1,slidee:t,scrollBy:200,speed:e?270:240,elasticBounds:1,dragHandle:1,autoImmediate:!0,skipSlideToWhenVisible:"true"===this.getAttribute("data-skipfocuswhenvisible"),dispatchScrollEvent:d||"true"===this.getAttribute("data-scrollevent"),hideScrollbar:d||"true"===this.getAttribute("data-hidescrollbar"),allowNativeSmoothScroll:"true"===this.getAttribute("data-allownativesmoothscroll")&&!d,allowNativeScroll:!d,forceHideScrollbars:d,requireAnimation:d&&o.Z.edge};this.scroller=new a.Z(this,u),this.scroller.init(),this.scroller.reload(),i.Z.tv&&this.getAttribute("data-centerfocus")&&(this,c=this.scroller,s.ZP.addEventListener(this,"focus",(function(e){var t=n.Z.focusableParent(e.target);t&&c.toCenter(t)}),{capture:!0,passive:!0})),d&&function(e){r.e(6229).then(r.bind(r,6229)).then((function(){e.insertAdjacentHTML("beforebegin",'<div is="emby-scrollbuttons" class="emby-scrollbuttons padded-right"></div>')}))}(this)},h.pause=function(){var e=this.headroom;e&&e.pause()},h.resume=function(){var e=this.headroom;e&&e.resume()},h.detachedCallback=function(){this.getAttribute("data-navcommands")&&l.ZP.off(this,v);var e=this.headroom;e&&(e.destroy(),this.headroom=null);var t=this.scroller;t&&(t.destroy(),this.scroller=null)},document.registerElement("emby-scroller",{prototype:h,extends:"div"})},75869:function(e,t,r){var a=r(93476),s=r.n(a)()((function(e){return e[1]}));s.push([e.id,".emby-scroller-container{position:relative}.emby-scroller{margin-left:3.3%;margin-right:3.3%}.itemsContainer>.card>.cardBox{margin-left:0;margin-right:1.2em}.servers>.card>.cardBox{margin-left:.6em;margin-right:.6em}.layout-mobile .emby-scroller,.layout-tv .emby-scroller{padding-left:3.3%;padding-right:3.3%;margin-left:0;margin-right:0}",""]),t.Z=s}}]);