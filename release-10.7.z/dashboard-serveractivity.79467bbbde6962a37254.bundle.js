"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[838],{92780:function(t,e,i){i(23938),i(61013),i(32081),i(98010),i(63238),i(40895),i(19068),i(87211),i(25901),i(92189),i(95163),i(99785),i(91047),i(5769),i(17460),i(14078);var r=i(47005),n=i(53754),a=i(83094),s=i(48906),o=i(9785),c=i(1197),l=(i(78066),i(17734),i(53913)),u=i(61642);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function v(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,n=function(t,e){if("object"!==d(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e);if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key,"string"),"symbol"===d(n)?n:String(n)),r)}var n}function y(t,e,i,r,c){null==r&&(r=parseInt(e.getAttribute("data-activitystartindex")||"0")),c=c||parseInt(e.getAttribute("data-activitylimit")||"7");var l=new Date,u="false"!==e.getAttribute("data-useractivity");u?l.setTime(l.getTime()-864e5):l.setTime(l.getTime()-6048e5),ApiClient.getJSON(ApiClient.getUrl("System/ActivityLog/Entries",{startIndex:r,limit:c,minDate:l.toISOString(),hasUserId:u})).then((function(l){if(e.setAttribute("data-activitystartindex",r),e.setAttribute("data-activitylimit",c),!r){var u=a.ZP.parentWithClass(e,"activityContainer");u&&(l.Items.length?u.classList.remove("hide"):u.classList.add("hide"))}t.items=l.Items,function(t,e,i,r,a){t.innerHTML=i.Items.map((function(t){return function(t,e){var i="";i+='<div class="listItem listItem-border">';var r="#00a4dc",a="notifications";return"Error"!=t.Severity&&"Fatal"!=t.Severity&&"Warn"!=t.Severity||(r="#cc0000",a="notification_important"),t.UserId&&t.UserPrimaryImageTag?i+='<span class="listItemIcon material-icons dvr" style="width:2em!important;height:2em!important;padding:0;color:transparent;background-color:'+r+";background-image:url('"+e.getUserImageUrl(t.UserId,{type:"Primary",tag:t.UserPrimaryImageTag})+"');background-repeat:no-repeat;background-position:center center;background-size: cover;\"></span>":i+='<span class="listItemIcon material-icons '+a+'" style="background-color:'+r+'"></span>',i+='<div class="listItemBody three-line">',i+='<div class="listItemBodyText">',i+=t.Name,i+="</div>",i+='<div class="listItemBodyText secondary">',i+=s.Z(Date.parse(t.Date),Date.parse(new Date),{locale:o.ZP.getLocale()}),i+="</div>",i+='<div class="listItemBodyText secondary listItemBodyText-nowrap">',i+=t.ShortOverview||"",i+="</div>",i+="</div>",t.Overview&&(i+='<button type="button" is="paper-icon-button-light" class="btnEntryInfo" data-id="'.concat(t.Id,'" title="').concat(n.ZP.translate("Info"),'">\n                       <span class="material-icons info"></span>\n                    </button>')),i+"</div>"}(t,e)})).join("")}(e,i,l)}))}function f(t,e,i){var r=this.options;r&&r.serverId===e.serverId()&&y(this,r.element,e)}function Z(t){var e=a.ZP.parentWithClass(t.target,"btnEntryInfo");if(e){var i=e.getAttribute("data-id"),r=this.items;if(r){var n=r.filter((function(t){return t.Id.toString()===i}))[0];n&&function(t){(0,u.Z)({text:t.Overview})}(n)}}}var m=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e;var i=e.element;i.classList.add("activityLogListWidget"),i.addEventListener("click",Z.bind(this));var n=l.Z.getApiClient(e.serverId);y(this,i,n);var a=f.bind(this);this.updateFn=a,r.Events.on(c.default,"ActivityLogEntry",a),n.sendMessage("ActivityLogEntryStart","0,1500")}var e,i;return e=t,(i=[{key:"destroy",value:function(){var t=this.options;t&&(t.element.classList.remove("activityLogListWidget"),l.Z.getApiClient(t.serverId).sendMessage("ActivityLogEntryStop","0,1500"));var e=this.updateFn;e&&r.Events.off(c.default,"ActivityLogEntry",e),this.items=null,this.options=null}}])&&v(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.Z=m},78498:function(t,e,i){i.r(e),i.d(e,{default:function(){return a}});var r=i(92780),n=i(53754);function a(t,e){var i;"false"!==e.useractivity?(t.querySelector(".activityItems").setAttribute("data-useractivity","true"),t.querySelector(".sectionTitle").innerHTML=n.ZP.translate("HeaderActivity")):(t.querySelector(".activityItems").setAttribute("data-useractivity","false"),t.querySelector(".sectionTitle").innerHTML=n.ZP.translate("Alerts")),t.addEventListener("viewshow",(function(){i||(i=new r.Z({serverId:ApiClient.serverId(),element:t.querySelector(".activityItems")}))})),t.addEventListener("viewdestroy",(function(){i&&i.destroy(),i=null}))}},9785:function(t,e,i){i.d(e,{Kd:function(){return Y},mF:function(){return $}});var r=i(77946),n=i(12496),a=i(11401),s=i(84146),o=i(59996),c=i(78210),l=i(9477),u=i(33026),d=i(91814),v=i(88303),y=i(22410),f=i(35997),Z=i(73956),m=i(86496),p=i(6902),g=i(35163),b=i(36749),h=i(89310),I=i(22481),S=i(75710),L=i(11109),w=i(74270),A=i(37159),k=i(27324),T=i(68490),E=i(19046),P=i(81905),C=i(19656),x=i(5905),U=i(64660),O=i(69509),j=i(24770),D=i(84216),W=i(77411),q=i(23282),B=i(60754),M=i(21430),z=i(45614),F=i(83305),H=i(95861),N=i(37405),J=i(6148),K=i(63258),_=i(50281),G=i(67889),Q=i(44362),R=i(69244),V=i(96730),X=i(53754);function Y(){return t=X.ZP.getCurrentLocale(),{af:r.Z,ar:n.Z,"be-by":a.Z,"bg-bg":s.Z,bn:o.Z,ca:c.Z,cs:l.Z,da:u.Z,de:d.Z,el:v.Z,"en-gb":y.Z,"en-us":f.Z,eo:Z.Z,es:m.Z,"es-ar":m.Z,"es-do":m.Z,"es-mx":m.Z,fa:p.Z,fi:g.Z,fr:b.Z,"fr-ca":h.Z,gl:I.Z,gsw:d.Z,he:S.Z,"hi-in":L.Z,hr:w.Z,hu:A.Z,id:k.Z,is:T.Z,it:E.Z,ja:P.Z,kk:C.Z,ko:x.Z,"lt-lt":U.Z,ms:O.Z,nb:j.Z,nl:D.Z,pl:W.Z,pt:q.Z,"pt-br":B.Z,"pt-pt":q.Z,ro:M.Z,ru:z.Z,sk:F.Z,"sl-si":H.Z,sv:N.Z,ta:J.Z,th:K.Z,tr:_.Z,uk:G.Z,vi:Q.Z,"zh-cn":R.Z,"zh-hk":R.Z,"zh-tw":V.Z}[t]||f.Z;var t}var $={addSuffix:!0,locale:Y()};e.ZP={getLocale:Y,localeWithSuffix:$}}}]);