(self.webpackChunk=self.webpackChunk||[]).push([[3736],{9389:function(e,t,a){"use strict";var i=a(53754);t.ZP={getVideoQualityOptions:function(e){var t=e.currentMaxBitrate,a=e.videoWidth,n=e.videoHeight;a/n<16/9&&(a=n*(16/9));var o=a||4096,l=[],r={name:i.ZP.translate("Auto"),bitrate:0,selected:e.isAutomaticBitrateEnabled};if(e.enableAuto&&l.push(r),o>=3800&&(l.push({name:"4K - 120 Mbps",maxHeight:2160,bitrate:12e7}),l.push({name:"4K - 80 Mbps",maxHeight:2160,bitrate:8e7})),o>=1900&&(l.push({name:"1080p - 60 Mbps",maxHeight:1080,bitrate:6e7}),l.push({name:"1080p - 40 Mbps",maxHeight:1080,bitrate:4e7}),l.push({name:"1080p - 20 Mbps",maxHeight:1080,bitrate:2e7}),l.push({name:"1080p - 15 Mbps",maxHeight:1080,bitrate:15e6}),l.push({name:"1080p - 10 Mbps",maxHeight:1080,bitrate:1e7})),o>=1260&&(l.push({name:"720p - 8 Mbps",maxHeight:720,bitrate:8e6}),l.push({name:"720p - 6 Mbps",maxHeight:720,bitrate:6e6}),l.push({name:"720p - 4 Mbps",maxHeight:720,bitrate:4e6})),o>=620&&(l.push({name:"480p - 3 Mbps",maxHeight:480,bitrate:3e6}),l.push({name:"480p - 1.5 Mbps",maxHeight:480,bitrate:15e5}),l.push({name:"480p - 720 kbps",maxHeight:480,bitrate:72e4})),l.push({name:"360p - 420 kbps",maxHeight:360,bitrate:42e4}),t){for(var s=l.length-1,c=0,u=l.length;c<u;c++){var d=l[c];if(d.bitrate>0&&d.bitrate<=t){s=c;break}}var b=l[s];e.isAutomaticBitrateEnabled?r.autoText=b.name:b.selected=!0}return l},getAudioQualityOptions:function(e){var t=e.currentMaxBitrate,a=[],n={name:i.ZP.translate("Auto"),bitrate:0,selected:e.isAutomaticBitrateEnabled};if(e.enableAuto&&a.push(n),a.push({name:"2 Mbps",bitrate:2e6}),a.push({name:"1.5 Mbps",bitrate:15e5}),a.push({name:"1 Mbps",bitrate:1e6}),a.push({name:"320 kbps",bitrate:32e4}),a.push({name:"256 kbps",bitrate:256e3}),a.push({name:"192 kbps",bitrate:192e3}),a.push({name:"128 kbps",bitrate:128e3}),a.push({name:"96 kbps",bitrate:96e3}),a.push({name:"64 kbps",bitrate:64e3}),t){for(var o=a.length-1,l=0,r=a.length;l<r;l++){var s=a[l];if(s.bitrate>0&&s.bitrate<=t){o=l;break}}var c=a[o];e.isAutomaticBitrateEnabled?n.autoText=c.name:c.selected=!0}return a}}},29643:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return P}}),a(61013),a(23938),a(19068),a(87211),a(25901),a(92189),a(63238),a(95163),a(99785),a(91047),a(5769),a(17460),a(14078);var i=a(47518),n=a(67469),o=a(38102),l=a(27515),r=a(9389),s=a(53754),c=a(6594),u=a(47005),d=(a(50447),a(65219),a(53913)),b=a(38440),p=a(97942),h=a.n(p);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==y(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t);if("object"!==y(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i.key,"string"),"symbol"===y(n)?n:String(n)),i)}var n}function v(e){e.innerHTML=[5,10,15,20,25,30].map((function(e){return{name:s.ZP.translate("ValueSeconds",e),value:1e3*e}})).map((function(e){return'<option value="'.concat(e.value,'">').concat(e.name,"</option>")})).join("")}function f(e,t,a){var i="Audio"===a?r.ZP.getAudioQualityOptions({currentMaxBitrate:n.Z.maxStreamingBitrate(t,a),isAutomaticBitrateEnabled:n.Z.enableAutomaticBitrateDetection(t,a),enableAuto:!0}):r.ZP.getVideoQualityOptions({currentMaxBitrate:n.Z.maxStreamingBitrate(t,a),isAutomaticBitrateEnabled:n.Z.enableAutomaticBitrateDetection(t,a),enableAuto:!0});e.innerHTML=i.map((function(e){return'<option value="'.concat(e.bitrate||"",'">').concat(e.name,"</option>")})).join(""),n.Z.enableAutomaticBitrateDetection(t,a)?e.value="":e.value=n.Z.maxStreamingBitrate(t,a)}function S(e,t,a){e.value?(n.Z.maxStreamingBitrate(t,a,e.value),n.Z.enableAutomaticBitrateDetection(t,a,!1)):n.Z.enableAutomaticBitrateDetection(t,a,!0)}function k(e){var t=this,a=d.Z.getApiClient(t.options.serverId),i=t.options.userId,o=t.options.userSettings;return o.setUserInfo(i,a).then((function(){var e=t.options.enableSaveConfirmation;!function(e,t,a,i,o,l){c.ZP.show(),o.getUser(a).then((function(a){(function(e,t,a,i){return n.Z.enableSystemExternalPlayers(e.querySelector(".chkExternalVideoPlayer").checked),n.Z.maxChromecastBitrate(e.querySelector(".selectChromecastVideoQuality").value),S(e.querySelector(".selectVideoInNetworkQuality"),!0,"Video"),S(e.querySelector(".selectVideoInternetQuality"),!1,"Video"),S(e.querySelector(".selectMusicInternetQuality"),!1,"Audio"),a.allowedAudioChannels(e.querySelector("#selectAllowedAudioChannels").value),t.Configuration.AudioLanguagePreference=e.querySelector("#selectAudioLanguage").value,t.Configuration.PlayDefaultAudioTrack=e.querySelector(".chkPlayDefaultAudioTrack").checked,t.Configuration.EnableNextEpisodeAutoPlay=e.querySelector(".chkEpisodeAutoPlay").checked,a.preferFmp4HlsContainer(e.querySelector(".chkPreferFmp4HlsContainer").checked),a.enableCinemaMode(e.querySelector(".chkEnableCinemaMode").checked),a.enableNextVideoInfoOverlay(e.querySelector(".chkEnableNextVideoOverlay").checked),a.chromecastVersion(e.querySelector(".selectChromecastVersion").value),a.skipForwardLength(e.querySelector(".selectSkipForwardLength").value),a.skipBackLength(e.querySelector(".selectSkipBackLength").value),i.updateUserConfiguration(t.Id,t.Configuration)})(t,a,i,o).then((function(){c.ZP.hide(),l&&(0,b.Z)(s.ZP.translate("SettingsSaved")),u.Events.trigger(e,"saved")}),(function(){c.ZP.hide()}))}))}(t,t.options.element,i,o,a,e)})),e&&e.preventDefault(),!1}var g=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,function(e,t){e.element.innerHTML=s.ZP.translateHtml(h(),"core"),e.element.querySelector("form").addEventListener("submit",k.bind(t)),e.enableSaveButton&&e.element.querySelector(".btnSave").classList.remove("hide"),t.loadData(),e.autoFocus&&l.Z.autoFocus(e.element)}(t,this)}var t,a;return t=e,a=[{key:"loadData",value:function(){var e=this,t=e.options.element;c.ZP.show();var a=e.options.userId,l=d.Z.getApiClient(e.options.serverId),u=e.options.userSettings;l.getUser(a).then((function(d){u.setUserInfo(a,l).then((function(){e.dataLoaded=!0,function(e,t,a,l){var u,d,b=l.getCurrentUserId(),p=t.Id;!function(e,t,a){if(t.Policy.EnableVideoPlaybackTranscoding?e.querySelector(".videoQualitySection").classList.remove("hide"):e.querySelector(".videoQualitySection").classList.add("hide"),o.M.supports("multiserver"))return e.querySelector(".fldVideoInNetworkQuality").classList.remove("hide"),e.querySelector(".fldVideoInternetQuality").classList.remove("hide"),void(t.Policy.EnableAudioPlaybackTranscoding?e.querySelector(".musicQualitySection").classList.remove("hide"):e.querySelector(".musicQualitySection").classList.add("hide"));a.getEndpointInfo().then((function(a){a.IsInNetwork?(e.querySelector(".fldVideoInNetworkQuality").classList.remove("hide"),e.querySelector(".fldVideoInternetQuality").classList.add("hide"),e.querySelector(".musicQualitySection").classList.add("hide")):(e.querySelector(".fldVideoInNetworkQuality").classList.add("hide"),e.querySelector(".fldVideoInternetQuality").classList.remove("hide"),t.Policy.EnableAudioPlaybackTranscoding?e.querySelector(".musicQualitySection").classList.remove("hide"):e.querySelector(".musicQualitySection").classList.add("hide"))}))}(e,t,l),e.querySelector("#selectAllowedAudioChannels").value=a.allowedAudioChannels(),l.getCultures().then((function(a){!function(e,t){var a="";a+="<option value=''>".concat(s.ZP.translate("AnyLanguage"),"</option>");for(var i=0,n=t.length;i<n;i++){var o=t[i];a+="<option value='".concat(o.ThreeLetterISOLanguageName,"'>").concat(o.DisplayName,"</option>")}e.innerHTML=a}(e.querySelector("#selectAudioLanguage"),a),e.querySelector("#selectAudioLanguage",e).value=t.Configuration.AudioLanguagePreference||"",e.querySelector(".chkEpisodeAutoPlay").checked=t.Configuration.EnableNextEpisodeAutoPlay||!1})),l.getNamedConfiguration("cinemamode").then((function(t){t.EnableIntrosForMovies||t.EnableIntrosForEpisodes?e.querySelector(".cinemaModeOptions").classList.remove("hide"):e.querySelector(".cinemaModeOptions").classList.add("hide")})),o.M.supports("externalplayerintent")&&p===b?e.querySelector(".fldExternalPlayer").classList.remove("hide"):e.querySelector(".fldExternalPlayer").classList.add("hide"),p===b&&(t.Policy.EnableVideoPlaybackTranscoding||t.Policy.EnableAudioPlaybackTranscoding)?(e.querySelector(".qualitySections").classList.remove("hide"),o.M.supports("chromecast")&&t.Policy.EnableVideoPlaybackTranscoding?e.querySelector(".fldChromecastQuality").classList.remove("hide"):e.querySelector(".fldChromecastQuality").classList.add("hide")):(e.querySelector(".qualitySections").classList.add("hide"),e.querySelector(".fldChromecastQuality").classList.add("hide")),i.Z.tizen||i.Z.web0s?e.querySelector(".fldEnableNextVideoOverlay").classList.add("hide"):e.querySelector(".fldEnableNextVideoOverlay").classList.remove("hide"),e.querySelector(".chkPlayDefaultAudioTrack").checked=t.Configuration.PlayDefaultAudioTrack||!1,e.querySelector(".chkPreferFmp4HlsContainer").checked=a.preferFmp4HlsContainer(),e.querySelector(".chkEnableCinemaMode").checked=a.enableCinemaMode(),e.querySelector(".chkEnableNextVideoOverlay").checked=a.enableNextVideoInfoOverlay(),e.querySelector(".chkExternalVideoPlayer").checked=n.Z.enableSystemExternalPlayers(),f(e.querySelector(".selectVideoInNetworkQuality"),!0,"Video"),f(e.querySelector(".selectVideoInternetQuality"),!1,"Video"),f(e.querySelector(".selectMusicInternetQuality"),!1,"Audio"),u=e.querySelector(".selectChromecastVideoQuality"),d=r.ZP.getVideoQualityOptions({currentMaxBitrate:n.Z.maxChromecastBitrate(),isAutomaticBitrateEnabled:!n.Z.maxChromecastBitrate(),enableAuto:!0}),u.innerHTML=d.map((function(e){return'<option value="'.concat(e.bitrate||"",'">').concat(e.name,"</option>")})).join(""),u.value=n.Z.maxChromecastBitrate()||"",e.querySelector(".selectChromecastVersion").value=a.chromecastVersion();var h=e.querySelector(".selectSkipForwardLength");v(h),h.value=a.skipForwardLength();var y=e.querySelector(".selectSkipBackLength");v(y),y.value=a.skipBackLength(),function(e){i.Z.tizen||i.Z.web0s?e.querySelector(".fldEpisodeAutoPlay").classList.add("hide"):e.querySelector(".fldEpisodeAutoPlay").classList.remove("hide")}(e),c.ZP.hide()}(t,d,u,l)}))}))}},{key:"submit",value:function(){k.call(this)}},{key:"destroy",value:function(){this.options=null}}],a&&m(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),e}(),x=g,C=a(28978),L=a(6610),A=(a(17734),C.UserSettings);function P(e,t){var a,i=t.userId||ApiClient.getCurrentUserId(),n=i===ApiClient.getCurrentUserId()?C:new A;e.addEventListener("viewshow",(function(){a?a.loadData():a=new x({serverId:ApiClient.serverId(),userId:i,element:e.querySelector(".settingsContainer"),userSettings:n,enableSaveButton:!0,enableSaveConfirmation:!0,autoFocus:L.default.isEnabled()})})),e.addEventListener("change",(function(){})),e.addEventListener("viewdestroy",(function(){a&&(a.destroy(),a=null)}))}},97942:function(e){e.exports='<form style="margin:0 auto"> <div class="verticalSection verticalSection-extrabottompadding"> <h2 class="sectionTitle"> ${HeaderAudioSettings} </h2> <div class="selectContainer"> <select is="emby-select" id="selectAllowedAudioChannels" label="${LabelAllowedAudioChannels}"> <option value="-1">${Auto}</option> <option value="1">${LabelSelectMono}</option> <option value="2">${LabelSelectStereo}</option> <option value="6">5.1 ${LabelSelectAudioChannels}</option> <option value="8">7.1 ${LabelSelectAudioChannels}</option> </select> </div> <div class="selectContainer"> <select is="emby-select" id="selectAudioLanguage" label="${LabelAudioLanguagePreference}"></select> </div> <label class="checkboxContainer"> <input type="checkbox" is="emby-checkbox" class="chkPlayDefaultAudioTrack"/> <span>${LabelPlayDefaultAudioTrack}</span> </label> </div> <div class="qualitySections hide"> <div class="verticalSection verticalSection-extrabottompadding videoQualitySection hide"> <h2 class="sectionTitle"> ${HeaderVideoQuality} </h2> <div class="selectContainer fldVideoInNetworkQuality hide"> <select is="emby-select" class="selectVideoInNetworkQuality" label="${LabelHomeNetworkQuality}"></select> </div> <div class="selectContainer fldVideoInternetQuality hide"> <select is="emby-select" class="selectVideoInternetQuality" label="${LabelInternetQuality}"></select> </div> <div class="selectContainer fldChromecastQuality hide"> <select is="emby-select" class="selectChromecastVideoQuality" label="${LabelMaxChromecastBitrate}"></select> </div> </div> <div class="verticalSection verticalSection-extrabottompadding musicQualitySection hide"> <h2> ${HeaderMusicQuality} </h2> <div class="selectContainer"> <select is="emby-select" class="selectMusicInternetQuality" label="${LabelInternetQuality}"></select> </div> </div> </div> <div class="verticalSection verticalSection-extrabottompadding"> <h2 class="sectionTitle"> ${TabAdvanced} </h2> <div class="checkboxContainer checkboxContainer-withDescription"> <label> <input type="checkbox" is="emby-checkbox" class="chkPreferFmp4HlsContainer"/> <span>${PreferFmp4HlsContainer}</span> </label> <div class="fieldDescription checkboxFieldDescription">${PreferFmp4HlsContainerHelp}</div> </div> <div class="checkboxContainer checkboxContainer-withDescription cinemaModeOptions"> <label> <input type="checkbox" is="emby-checkbox" class="chkEnableCinemaMode"/> <span>${EnableCinemaMode}</span> </label> <div class="fieldDescription checkboxFieldDescription">${CinemaModeConfigurationHelp}</div> </div> <div class="checkboxContainer fldEpisodeAutoPlay hide"> <label> <input type="checkbox" is="emby-checkbox" class="chkEpisodeAutoPlay"/> <span>${PlayNextEpisodeAutomatically}</span> </label> </div> <div class="checkboxContainer checkboxContainer-withDescription fldEnableNextVideoOverlay hide"> <label> <input type="checkbox" is="emby-checkbox" class="chkEnableNextVideoOverlay"/> <span>${EnableNextVideoInfoOverlay}</span> </label> <div class="fieldDescription checkboxFieldDescription">${EnableNextVideoInfoOverlayHelp}</div> </div> <div class="checkboxContainer fldExternalPlayer checkboxContainer-withDescription hide"> <label> <input type="checkbox" is="emby-checkbox" class="chkExternalVideoPlayer"/> <span>${EnableExternalVideoPlayers}</span> </label> <div class="fieldDescription checkboxFieldDescription"> <div class="labelNativeExternalPlayers">${EnableExternalVideoPlayersHelp}</div> </div> </div> <div class="selectContainer"> <select is="emby-select" class="selectChromecastVersion" label="${LabelChromecastVersion}"> <option value="stable">${LabelStable}</option> <option value="unstable">${LabelUnstable}</option> </select> </div> <div class="selectContainer"> <select is="emby-select" class="selectSkipForwardLength" label="${LabelSkipForwardLength}"></select> </div> <div class="selectContainer"> <select is="emby-select" class="selectSkipBackLength" label="${LabelSkipBackLength}"></select> </div> </div> <button is="emby-button" type="submit" class="raised button-submit block btnSave hide"> <span>${Save}</span> </button> </form> '}}]);