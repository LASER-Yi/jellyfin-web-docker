"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1274],{10480:function(e,t,a){t.Z={getDisplayPlayMethod:function(e){return e.NowPlayingItem?e.TranscodingInfo&&e.TranscodingInfo.IsVideoDirect&&e.TranscodingInfo.IsAudioDirect?"Remux":e.TranscodingInfo&&e.TranscodingInfo.IsVideoDirect?"DirectStream":"Transcode"===e.PlayState.PlayMethod?"Transcode":"DirectStream"===e.PlayState.PlayMethod||"DirectPlay"===e.PlayState.PlayMethod?"DirectPlay":void 0:null}}},31274:function(e,t,a){a.r(t),a.d(t,{default:function(){return Z}}),a(61013),a(63238),a(61418),a(76056),a(43512),a(98010),a(5769),a(17460),a(14078),a(19068),a(87211),a(25901),a(92189),a(95163),a(99785),a(91047);var n=a(47005),l=(a(21865),a(53754)),r=a(78695),s=a(53218),i=a(10480),o=a(22155),u=a(1892),c=a.n(u),d=a(7261),p=(c()(d.Z,{insert:"head",singleton:!1}),d.Z.locals,a(53913));function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function v(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,l=function(e,t){if("object"!==f(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key,"string"),"symbol"===f(l)?l:String(l)),n)}var l}function b(){this.enabled(!1)}function y(e){return l.ZP.translate(""+e)}function m(e,t,a){var n,r,s,i,o=[];return e.TranscodingInfo&&(n=e.TranscodingInfo.VideoCodec,r=e.TranscodingInfo.AudioCodec,s=e.TranscodingInfo.Bitrate,i=e.TranscodingInfo.AudioChannels),n&&o.push({label:l.ZP.translate("LabelVideoCodec"),value:e.TranscodingInfo.IsVideoDirect?n.toUpperCase()+" (direct)":n.toUpperCase()}),r&&o.push({label:l.ZP.translate("LabelAudioCodec"),value:e.TranscodingInfo.IsAudioDirect?r.toUpperCase()+" (direct)":r.toUpperCase()}),"Transcode"===a&&(i&&o.push({label:l.ZP.translate("LabelAudioChannels"),value:i}),s&&o.push({label:l.ZP.translate("LabelBitrate"),value:h(s)}),e.TranscodingInfo.CompletionPercentage&&o.push({label:l.ZP.translate("LabelTranscodingProgress"),value:e.TranscodingInfo.CompletionPercentage.toFixed(1)+"%"}),e.TranscodingInfo.Framerate&&o.push({label:l.ZP.translate("LabelTranscodingFramerate"),value:e.TranscodingInfo.Framerate+" fps"}),e.TranscodingInfo.TranscodeReasons&&e.TranscodingInfo.TranscodeReasons.length&&o.push({label:l.ZP.translate("LabelReasonForTranscoding"),value:e.TranscodingInfo.TranscodeReasons.map(y).join("<br/>")})),o}function h(e){return e>1e6?(e/1e6).toFixed(1)+" Mbps":Math.floor(e/1e3)+" kbps"}function P(e,t,a){var n,r=[],i=s.O.currentMediaSource(t)||{},o=i.Bitrate,u=i.Size;i.Container&&r.push({label:l.ZP.translate("LabelProfileContainer"),value:i.Container}),u&&r.push({label:l.ZP.translate("LabelSize"),value:(n=u,n>=1073741824?parseFloat((n/1073741824).toFixed(1))+" GiB":n>=1048576?parseFloat((n/1048576).toFixed(1))+" MiB":Math.floor(n/1024)+" KiB")}),o&&r.push({label:l.ZP.translate("LabelBitrate"),value:h(o)});var c=(i.MediaStreams||[]).filter((function(e){return"Video"===e.Type}))[0]||{},d=c.Codec,p=s.O.getAudioStreamIndex(t),f=s.O.audioTracks(t).filter((function(e){return"Audio"===e.Type&&e.Index===p}))[0]||{},v=f.Codec,b=f.Channels,y=[];d&&y.push(d.toUpperCase()),c.Profile&&y.push(c.Profile),y.length&&r.push({label:l.ZP.translate("LabelVideoCodec"),value:y.join(" ")}),c.BitRate&&r.push({label:l.ZP.translate("LabelVideoBitrate"),value:h(c.BitRate)}),c.VideoRange&&r.push({label:l.ZP.translate("LabelVideoRange"),value:c.VideoRange}),c.ColorSpace&&r.push({label:l.ZP.translate("LabelColorSpace"),value:c.ColorSpace}),c.ColorTransfer&&r.push({label:l.ZP.translate("LabelColorTransfer"),value:c.ColorTransfer}),c.ColorPrimaries&&r.push({label:l.ZP.translate("LabelColorPrimaries"),value:c.ColorPrimaries});var m=[];return v&&m.push(v.toUpperCase()),f.Profile&&m.push(f.Profile),m.length&&r.push({label:l.ZP.translate("LabelAudioCodec"),value:m.join(" ")}),f.BitRate&&r.push({label:l.ZP.translate("LabelAudioBitrate"),value:h(f.BitRate)}),b&&r.push({label:l.ZP.translate("LabelAudioChannels"),value:b}),f.SampleRate&&r.push({label:l.ZP.translate("LabelAudioSampleRate"),value:f.SampleRate+" Hz"}),f.BitDepth&&r.push({label:l.ZP.translate("LabelAudioBitDepth"),value:f.BitDepth}),r}function S(e,t){var a=function(){!function(e,t){var a=(new Date).getTime();a-(e.lastRender||0)<700||(e.lastRender=a,function(e,t){var a=t.getStats?t.getStats():Promise.resolve({}),n=function(e,t){if((new Date).getTime()-(e.lastSessionTime||0)<1e4)return Promise.resolve(e.lastSession);var a=p.Z.getApiClient(s.O.currentItem(t).ServerId);return a.getSessions({deviceId:a.deviceId()}).then((function(t){return e.lastSession=t[0]||{},e.lastSessionTime=(new Date).getTime(),Promise.resolve(e.lastSession)}),(function(){return Promise.resolve({})}))}(e,t);return Promise.all([a,n]).then((function(e){var a=e[0].categories||[],n=e[1],r=i.Z.getDisplayPlayMethod(n),u=r;"DirectPlay"===r?u=l.ZP.translate("DirectPlaying"):"Remux"===r?u=l.ZP.translate("Remuxing"):"DirectStream"===r?u=l.ZP.translate("DirectStreaming"):"Transcode"===r&&(u=l.ZP.translate("Transcoding"));var c={stats:[],name:l.ZP.translate("LabelPlaybackInfo")};c.stats.unshift({label:l.ZP.translate("LabelPlayMethod"),value:u}),c.stats.unshift({label:l.ZP.translate("LabelPlayer"),value:t.name});var d=[];d.push(c);for(var f=0,v=a.length;f<v;f++){var b=a[f];"audio"===b.type?b.name=l.ZP.translate("LabelAudioInfo"):"video"===b.type&&(b.name=l.ZP.translate("LabelVideoInfo")),d.push(b)}var y=l.ZP.translate("LabelTranscodingInfo");"Remux"===r?y=l.ZP.translate("LabelRemuxingInfo"):"DirectStream"===r&&(y=l.ZP.translate("LabelDirectStreamingInfo")),n.TranscodingInfo&&d.push({stats:m(n,0,r),name:y}),d.push({stats:P(0,t),name:l.ZP.translate("LabelOriginalMediaInfo")});var h,S,g=p.Z.getApiClient(s.O.currentItem(t).ServerId);return o.Z.Manager.isSyncPlayEnabled()&&g.isMinServerVersion("10.6.0")&&d.push({stats:(h=[],S=o.Z.Manager.getStats(),h.push({label:l.ZP.translate("LabelSyncPlayTimeSyncDevice"),value:S.TimeSyncDevice}),h.push({label:l.ZP.translate("LabelSyncPlayTimeSyncOffset"),value:S.TimeSyncOffset+" "+l.ZP.translate("MillisecondsUnit")}),h.push({label:l.ZP.translate("LabelSyncPlayPlaybackDiff"),value:S.PlaybackDiff+" "+l.ZP.translate("MillisecondsUnit")}),h.push({label:l.ZP.translate("LabelSyncPlaySyncMethod"),value:S.SyncMethod}),h),name:l.ZP.translate("LabelSyncPlayInfo")}),Promise.resolve(d)}))}(e,t).then((function(t){var a=e.element;a&&function(e,t){e.querySelector(".playerStats-stats").innerHTML=t.map((function(e){var t="",a=e.stats;a.length&&e.name&&(t+='<div class="playerStats-stat playerStats-stat-header">',t+='<div class="playerStats-stat-label">',t+=e.name,t+="</div>",t+='<div class="playerStats-stat-value">',t+=e.subText||"",t+="</div>",t+="</div>");for(var n=0,l=a.length;n<l;n++){t+='<div class="playerStats-stat">';var r=a[n];t+='<div class="playerStats-stat-label">',t+=r.label,t+="</div>",t+='<div class="playerStats-stat-value">',t+=r.value,t+="</div>",t+="</div>"}return t})).join("")}(a,t)})))}(e,t)};e.onTimeUpdate=a,n.Events.on(t,"timeupdate",a)}function g(e,t){var a=e.onTimeUpdate;a&&n.Events.off(t,"timeupdate",a)}var T=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,function(e){var t,a=document.createElement("div");a.classList.add("playerStats"),r.Z.tv&&a.classList.add("playerStats-tv"),a.classList.add("hide"),t=r.Z.tv?"":'<button type="button" is="paper-icon-button-light" class="playerStats-closeButton"><span class="material-icons close"></span></button>';var n=r.Z.tv?"playerStats-content playerStats-content-tv":"playerStats-content";a.innerHTML='<div class="'+n+'">'+t+'<div class="playerStats-stats"></div></div>',(t=a.querySelector(".playerStats-closeButton"))&&t.addEventListener("click",b.bind(e)),document.body.appendChild(a),e.element=a}(this),this.enabled(!0)}var t,a;return t=e,a=[{key:"enabled",value:function(e){if(null==e)return this._enabled;var t=this.options;t&&(this._enabled=e,e?(this.element.classList.remove("hide"),S(this,t.player)):(this.element.classList.add("hide"),g(this,t.player)))}},{key:"toggle",value:function(){this.enabled(!this.enabled())}},{key:"destroy",value:function(){var e=this.options;e&&(this.options=null,g(this,e.player));var t=this.element;t&&(t.parentNode.removeChild(t),this.element=null)}}],a&&v(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Z=T},7261:function(e,t,a){var n=a(93476),l=a.n(n)()((function(e){return e[1]}));l.push([e.id,".playerStats{background:rgba(28,28,28,.8);border-radius:.3em;color:#fff;left:1.5em;position:absolute;top:5em}.playerStats-tv{top:4em}.playerStats-content{position:relative;font-size:84%}.playerStats-content-tv{font-size:60%}.playerStats-closeButton{position:absolute;top:.25em;right:.25em;color:#ccc;z-index:1}.playerStats-stats{display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;padding:0 3em 1em 1em;max-width:50em;overflow:hidden}.playerStats-stat{display:-webkit-flex;display:flex;margin-left:1em}.playerStats-stat-label{font-weight:500;margin:0 .5em 0 0}.playerStats-stat-header{margin:1em 1em 0 0}.playerStats-stat-value{color:#ddd}",""]),t.Z=l}}]);