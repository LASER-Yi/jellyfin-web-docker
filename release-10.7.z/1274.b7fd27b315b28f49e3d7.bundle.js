"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1274],{10480:function(e,a,t){a.Z={getDisplayPlayMethod:function(e){return e.NowPlayingItem?e.TranscodingInfo&&e.TranscodingInfo.IsVideoDirect&&e.TranscodingInfo.IsAudioDirect?"Remux":e.TranscodingInfo&&e.TranscodingInfo.IsVideoDirect?"DirectStream":"Transcode"===e.PlayState.PlayMethod?"Transcode":"DirectStream"===e.PlayState.PlayMethod||"DirectPlay"===e.PlayState.PlayMethod?"DirectPlay":void 0:null}}},31274:function(e,a,t){t.r(a),t.d(a,{default:function(){return Z}}),t(61013),t(63238),t(61418),t(76056),t(43512),t(98010),t(5769),t(17460),t(14078),t(99785);var n=t(47005),l=(t(21865),t(53754)),s=t(78695),r=t(53218),i=t(10480),o=t(22155),u=t(1892),c=t.n(u),d=t(7261),p=(c()(d.Z,{insert:"head",singleton:!1}),d.Z.locals,t(53913));function f(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(){this.enabled(!1)}function b(e){return l.ZP.translate(""+e)}function h(e,a,t){var n,s,r,i,o=[];return e.TranscodingInfo&&(n=e.TranscodingInfo.VideoCodec,s=e.TranscodingInfo.AudioCodec,r=e.TranscodingInfo.Bitrate,i=e.TranscodingInfo.AudioChannels),n&&o.push({label:l.ZP.translate("LabelVideoCodec"),value:e.TranscodingInfo.IsVideoDirect?n.toUpperCase()+" (direct)":n.toUpperCase()}),s&&o.push({label:l.ZP.translate("LabelAudioCodec"),value:e.TranscodingInfo.IsAudioDirect?s.toUpperCase()+" (direct)":s.toUpperCase()}),"Transcode"===t&&(i&&o.push({label:l.ZP.translate("LabelAudioChannels"),value:i}),r&&o.push({label:l.ZP.translate("LabelBitrate"),value:m(r)}),e.TranscodingInfo.CompletionPercentage&&o.push({label:l.ZP.translate("LabelTranscodingProgress"),value:e.TranscodingInfo.CompletionPercentage.toFixed(1)+"%"}),e.TranscodingInfo.Framerate&&o.push({label:l.ZP.translate("LabelTranscodingFramerate"),value:e.TranscodingInfo.Framerate+" fps"}),e.TranscodingInfo.TranscodeReasons&&e.TranscodingInfo.TranscodeReasons.length&&o.push({label:l.ZP.translate("LabelReasonForTranscoding"),value:e.TranscodingInfo.TranscodeReasons.map(b).join("<br/>")})),o}function m(e){return e>1e6?(e/1e6).toFixed(1)+" Mbps":Math.floor(e/1e3)+" kbps"}function y(e,a,t){var n,s=[],i=r.O.currentMediaSource(a)||{},o=i.Bitrate,u=i.Size;i.Container&&s.push({label:l.ZP.translate("LabelProfileContainer"),value:i.Container}),u&&s.push({label:l.ZP.translate("LabelSize"),value:(n=u,n>=1073741824?parseFloat((n/1073741824).toFixed(1))+" GiB":n>=1048576?parseFloat((n/1048576).toFixed(1))+" MiB":Math.floor(n/1024)+" KiB")}),o&&s.push({label:l.ZP.translate("LabelBitrate"),value:m(o)});var c=(i.MediaStreams||[]).filter((function(e){return"Video"===e.Type}))[0]||{},d=c.Codec,p=r.O.getAudioStreamIndex(a),f=r.O.audioTracks(a).filter((function(e){return"Audio"===e.Type&&e.Index===p}))[0]||{},v=f.Codec,b=f.Channels,h=[];d&&h.push(d.toUpperCase()),c.Profile&&h.push(c.Profile),h.length&&s.push({label:l.ZP.translate("LabelVideoCodec"),value:h.join(" ")}),c.BitRate&&s.push({label:l.ZP.translate("LabelVideoBitrate"),value:m(c.BitRate)}),c.VideoRange&&s.push({label:l.ZP.translate("LabelVideoRange"),value:c.VideoRange}),c.ColorSpace&&s.push({label:l.ZP.translate("LabelColorSpace"),value:c.ColorSpace}),c.ColorTransfer&&s.push({label:l.ZP.translate("LabelColorTransfer"),value:c.ColorTransfer}),c.ColorPrimaries&&s.push({label:l.ZP.translate("LabelColorPrimaries"),value:c.ColorPrimaries});var y=[];return v&&y.push(v.toUpperCase()),f.Profile&&y.push(f.Profile),y.length&&s.push({label:l.ZP.translate("LabelAudioCodec"),value:y.join(" ")}),f.BitRate&&s.push({label:l.ZP.translate("LabelAudioBitrate"),value:m(f.BitRate)}),b&&s.push({label:l.ZP.translate("LabelAudioChannels"),value:b}),f.SampleRate&&s.push({label:l.ZP.translate("LabelAudioSampleRate"),value:f.SampleRate+" Hz"}),f.BitDepth&&s.push({label:l.ZP.translate("LabelAudioBitDepth"),value:f.BitDepth}),s}function P(e,a){var t=function(){!function(e,a){var t=(new Date).getTime();t-(e.lastRender||0)<700||(e.lastRender=t,function(e,a){var t=a.getStats?a.getStats():Promise.resolve({}),n=function(e,a){if((new Date).getTime()-(e.lastSessionTime||0)<1e4)return Promise.resolve(e.lastSession);var t=p.Z.getApiClient(r.O.currentItem(a).ServerId);return t.getSessions({deviceId:t.deviceId()}).then((function(a){return e.lastSession=a[0]||{},e.lastSessionTime=(new Date).getTime(),Promise.resolve(e.lastSession)}),(function(){return Promise.resolve({})}))}(e,a);return Promise.all([t,n]).then((function(e){var t=e[0].categories||[],n=e[1],s=i.Z.getDisplayPlayMethod(n),u=s;"DirectPlay"===s?u=l.ZP.translate("DirectPlaying"):"Remux"===s?u=l.ZP.translate("Remuxing"):"DirectStream"===s?u=l.ZP.translate("DirectStreaming"):"Transcode"===s&&(u=l.ZP.translate("Transcoding"));var c={stats:[],name:l.ZP.translate("LabelPlaybackInfo")};c.stats.unshift({label:l.ZP.translate("LabelPlayMethod"),value:u}),c.stats.unshift({label:l.ZP.translate("LabelPlayer"),value:a.name});var d=[];d.push(c);for(var f=0,v=t.length;f<v;f++){var b=t[f];"audio"===b.type?b.name=l.ZP.translate("LabelAudioInfo"):"video"===b.type&&(b.name=l.ZP.translate("LabelVideoInfo")),d.push(b)}var m=l.ZP.translate("LabelTranscodingInfo");"Remux"===s?m=l.ZP.translate("LabelRemuxingInfo"):"DirectStream"===s&&(m=l.ZP.translate("LabelDirectStreamingInfo")),n.TranscodingInfo&&d.push({stats:h(n,0,s),name:m}),d.push({stats:y(0,a),name:l.ZP.translate("LabelOriginalMediaInfo")});var P,g,S=p.Z.getApiClient(r.O.currentItem(a).ServerId);return o.Z.Manager.isSyncPlayEnabled()&&S.isMinServerVersion("10.6.0")&&d.push({stats:(P=[],g=o.Z.Manager.getStats(),P.push({label:l.ZP.translate("LabelSyncPlayTimeSyncDevice"),value:g.TimeSyncDevice}),P.push({label:l.ZP.translate("LabelSyncPlayTimeSyncOffset"),value:g.TimeSyncOffset+" "+l.ZP.translate("MillisecondsUnit")}),P.push({label:l.ZP.translate("LabelSyncPlayPlaybackDiff"),value:g.PlaybackDiff+" "+l.ZP.translate("MillisecondsUnit")}),P.push({label:l.ZP.translate("LabelSyncPlaySyncMethod"),value:g.SyncMethod}),P),name:l.ZP.translate("LabelSyncPlayInfo")}),Promise.resolve(d)}))}(e,a).then((function(a){var t=e.element;t&&function(e,a){e.querySelector(".playerStats-stats").innerHTML=a.map((function(e){var a="",t=e.stats;t.length&&e.name&&(a+='<div class="playerStats-stat playerStats-stat-header">',a+='<div class="playerStats-stat-label">',a+=e.name,a+="</div>",a+='<div class="playerStats-stat-value">',a+=e.subText||"",a+="</div>",a+="</div>");for(var n=0,l=t.length;n<l;n++){a+='<div class="playerStats-stat">';var s=t[n];a+='<div class="playerStats-stat-label">',a+=s.label,a+="</div>",a+='<div class="playerStats-stat-value">',a+=s.value,a+="</div>",a+="</div>"}return a})).join("")}(t,a)})))}(e,a)};e.onTimeUpdate=t,n.Events.on(a,"timeupdate",t)}function g(e,a){var t=e.onTimeUpdate;t&&n.Events.off(a,"timeupdate",t)}var S=function(){function e(a){!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=a,function(e){var a,t=document.createElement("div");t.classList.add("playerStats"),s.Z.tv&&t.classList.add("playerStats-tv"),t.classList.add("hide"),a=s.Z.tv?"":'<button type="button" is="paper-icon-button-light" class="playerStats-closeButton"><span class="material-icons close"></span></button>';var n=s.Z.tv?"playerStats-content playerStats-content-tv":"playerStats-content";t.innerHTML='<div class="'+n+'">'+a+'<div class="playerStats-stats"></div></div>',(a=t.querySelector(".playerStats-closeButton"))&&a.addEventListener("click",v.bind(e)),document.body.appendChild(t),e.element=t}(this),this.enabled(!0)}var a,t;return a=e,t=[{key:"enabled",value:function(e){if(null==e)return this._enabled;var a=this.options;a&&(this._enabled=e,e?(this.element.classList.remove("hide"),P(this,a.player)):(this.element.classList.add("hide"),g(this,a.player)))}},{key:"toggle",value:function(){this.enabled(!this.enabled())}},{key:"destroy",value:function(){var e=this.options;e&&(this.options=null,g(this,e.player));var a=this.element;a&&(a.parentNode.removeChild(a),this.element=null)}}],t&&f(a.prototype,t),Object.defineProperty(a,"prototype",{writable:!1}),e}(),Z=S},7261:function(e,a,t){var n=t(93476),l=t.n(n)()((function(e){return e[1]}));l.push([e.id,".playerStats{background:rgba(28,28,28,.8);border-radius:.3em;color:#fff;left:1.5em;position:absolute;top:5em}.playerStats-tv{top:4em}.playerStats-content{position:relative;font-size:84%}.playerStats-content-tv{font-size:60%}.playerStats-closeButton{position:absolute;top:.25em;right:.25em;color:#ccc;z-index:1}.playerStats-stats{display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;padding:0 3em 1em 1em;max-width:50em;overflow:hidden}.playerStats-stat{display:-webkit-flex;display:flex;margin-left:1em}.playerStats-stat-label{font-weight:500;margin:0 .5em 0 0}.playerStats-stat-header{margin:1em 1em 0 0}.playerStats-stat-value{color:#ddd}",""]),a.Z=l}}]);