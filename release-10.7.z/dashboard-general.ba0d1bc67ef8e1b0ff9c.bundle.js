"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4083],{14066:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}}),a(5769),a(61013),a(63238),a(61418),a(17460),a(14078),a(71848);var n,i=a(6594),r=a(53754),o=(a(65219),a(92303),a(30983),a(50447),a(78066),a(76543)),l=a(61642);function s(){i.ZP.show();var e=this;return $(e).parents(".page"),ApiClient.getServerConfiguration().then((function(t){t.ServerName=$("#txtServerName",e).val(),t.UICulture=$("#selectLocalizationLanguage",e).val(),t.CachePath=e.querySelector("#txtCachePath").value,t.MetadataPath=$("#txtMetadataPath",e).val(),t.MetadataNetworkPath=$("#txtMetadataNetworkPath",e).val(),t.UICulture,ApiClient.updateServerConfiguration(t).then((function(){ApiClient.getNamedConfiguration(c).then((function(t){t.LoginDisclaimer=e.querySelector("#txtLoginDisclaimer").value,t.CustomCss=e.querySelector("#txtCustomCss").value,n&&(t.CustomCss,n.CustomCss),ApiClient.updateNamedConfiguration(c,t).then((function(){o.ZP.processServerConfigurationUpdateResult()}))}))}),(function(){(0,l.Z)(r.ZP.translate("ErrorDefault")),o.ZP.processServerConfigurationUpdateResult()}))})),!1}var c="branding";function u(e,t){$("#btnSelectCachePath",e).on("click.selectDirectory",(function(){a.e(3688).then(a.bind(a,63688)).then((function(t){var a=new(0,t.default);a.show({callback:function(t){t&&(e.querySelector("#txtCachePath").value=t),a.close()},validateWriteable:!0,header:r.ZP.translate("HeaderSelectServerCachePath"),instruction:r.ZP.translate("HeaderSelectServerCachePathHelp")})}))})),$("#btnSelectMetadataPath",e).on("click.selectDirectory",(function(){a.e(3688).then(a.bind(a,63688)).then((function(t){var a=new(0,t.default);a.show({path:$("#txtMetadataPath",e).val(),networkSharePath:$("#txtMetadataNetworkPath",e).val(),callback:function(t,n){t&&$("#txtMetadataPath",e).val(t),n&&$("#txtMetadataNetworkPath",e).val(n),a.close()},validateWriteable:!0,header:r.ZP.translate("HeaderSelectMetadataPath"),instruction:r.ZP.translate("HeaderSelectMetadataPathHelp"),enableNetworkSharePath:!0})}))})),$(".dashboardGeneralForm",e).off("submit",s).on("submit",s),e.addEventListener("viewshow",(function(){var t=ApiClient.getServerConfiguration(),a=ApiClient.getJSON(ApiClient.getUrl("Localization/Options")),r=ApiClient.getSystemInfo();Promise.all([t,a,r]).then((function(t){var a,n,r,o;a=e,n=t[0],r=t[1],o=t[2],a.querySelector("#txtServerName").value=o.ServerName,a.querySelector("#txtCachePath").value=o.CachePath||"",$("#txtMetadataPath",a).val(o.InternalMetadataPath||""),$("#txtMetadataNetworkPath",a).val(o.MetadataNetworkPath||""),$("#selectLocalizationLanguage",a).html(r.map((function(e){return'<option value="'+e.Value+'">'+e.Name+"</option>"}))).val(n.UICulture),n.UICulture,i.ZP.hide()})),ApiClient.getNamedConfiguration(c).then((function(t){n=t,e.querySelector("#txtLoginDisclaimer").value=t.LoginDisclaimer||"",e.querySelector("#txtCustomCss").value=t.CustomCss||""}))}))}},92303:function(e,t,a){a(32081),a(20252),a(99785);var n=a(1892),i=a.n(n),r=a(8254);function o(e,t){var a,n=this;function i(){if((!n.lineHeight||n.lineHeight<=0)&&(e.rows=1,a=n.getOffset(e),n.rows=e.rows||1,n.lineHeight=e.scrollHeight/n.rows-a/n.rows,n.maxAllowedHeight=n.lineHeight*t-a),n.lineHeight<=0)return e.style.overflowY="scroll",e.style.height="auto",void(e.rows=3);var i=0;e.scrollHeight-a>n.maxAllowedHeight?(e.style.overflowY="scroll",i=n.maxAllowedHeight):(e.style.overflowY="hidden",e.style.height="auto",i=e.scrollHeight),$(".customCssContainer").css("height",i+"px"),e.style.height=i+"px"}void 0===t&&(t=999),n.getOffset=function(e){for(var t=window.getComputedStyle(e,null),a=["paddingTop","paddingBottom"],n=0,i=0;i<a.length;i++)n+=parseInt(t[a[i]]);return n},e.addEventListener("input",i),e.addEventListener("focus",i),e.addEventListener("valueset",i),i()}i()(r.Z,{insert:"head",singleton:!1}),r.Z.locals,a(67752),a(30983);var l=Object.create(HTMLTextAreaElement.prototype),s=0;if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var c=Object.getOwnPropertyDescriptor(HTMLTextAreaElement.prototype,"value");if(c&&c.configurable){var u=c.set;c.set=function(e){u.call(this,e),this.dispatchEvent(new CustomEvent("valueset",{bubbles:!1,cancelable:!1}))},Object.defineProperty(HTMLTextAreaElement.prototype,"value",c)}}l.createdCallback=function(){this.id||(this.id="embytextarea"+s,s++)},l.attachedCallback=function(){if(!this.classList.contains("emby-textarea")){this.rows=1,this.classList.add("emby-textarea");var e=this.parentNode,t=this.ownerDocument.createElement("label");t.innerHTML=this.getAttribute("label")||"",t.classList.add("textareaLabel"),t.htmlFor=this.id,e.insertBefore(t,this),this.addEventListener("focus",(function(){t.classList.add("textareaLabelFocused"),t.classList.remove("textareaLabelUnfocused")})),this.addEventListener("blur",(function(){t.classList.remove("textareaLabelFocused"),t.classList.add("textareaLabelUnfocused")})),this.label=function(e){t.innerHTML=e},new o(this)}},document.registerElement("emby-textarea",{prototype:l,extends:"textarea"})},8254:function(e,t,a){var n=a(93476),i=a.n(n)()((function(e){return e[1]}));i.push([e.id,".emby-textarea{display:block;margin:0;margin-bottom:0!important;font-size:inherit;font-family:inherit;font-weight:inherit;color:inherit;padding:.35em .25em;box-sizing:border-box;outline:none!important;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%}.emby-textarea::-moz-focus-inner{border:0}.textareaLabel{display:inline-block;transition:all .2s ease-out;margin-bottom:.25em}.emby-textarea+.fieldDescription{margin-top:.25em}",""]),t.Z=i}}]);