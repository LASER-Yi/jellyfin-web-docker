"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7686,7046,4111],{27046:function(e,t,r){r.r(t),r.d(t,{getCommands:function(){return m},show:function(){return y}}),r(5769),r(63238),r(61418),r(17460),r(14078),r(52077),r(911),r(23938);var i=r(47518),n=r(53754),a=r(32465),s=r(38102),l=r(6383),o=r(71616),c=r(53218),d=r(53913),u=r(38440);function m(e){var t=e.item,r=e.user,a=c.O.canPlay(t),l=(i.Z.operaTv||i.Z.web0s)&&!r.Policy.IsAdministrator,d=[];a&&"Photo"!==t.MediaType&&(!1!==e.play&&d.push({name:n.ZP.translate("Play"),id:"resume",icon:"play_arrow"}),e.playAllFromHere&&"Program"!==t.Type&&"TvChannel"!==t.Type&&d.push({name:n.ZP.translate("PlayAllFromHere"),id:"playallfromhere",icon:"play_arrow"})),null!==c.O.getCurrentPlayer()&&(e.stopPlayback&&d.push({name:n.ZP.translate("StopPlayback"),id:"stopPlayback",icon:"stop"}),e.clearQueue&&d.push({name:n.ZP.translate("ClearQueue"),id:"clearQueue",icon:"clear_all"})),c.O.canQueue(t)&&(!1!==e.queue&&d.push({name:n.ZP.translate("AddToPlayQueue"),id:"queue",icon:"playlist_add"}),!1!==e.queue&&d.push({name:n.ZP.translate("PlayNext"),id:"queuenext",icon:"playlist_add"})),(t.IsFolder||"MusicArtist"===t.Type||"MusicGenre"===t.Type)&&"livetv"!==t.CollectionType&&!1!==e.shuffle&&d.push({name:n.ZP.translate("Shuffle"),id:"shuffle",icon:"shuffle"}),"Audio"!==t.MediaType&&"MusicAlbum"!==t.Type&&"MusicArtist"!==t.Type&&"MusicGenre"!==t.Type||!1===e.instantMix||o.ZP.isLocalItem(t)||d.push({name:n.ZP.translate("InstantMix"),id:"instantmix",icon:"explore"}),d.length&&d.push({divider:!0}),l||(o.ZP.supportsAddingToCollection(t)&&d.push({name:n.ZP.translate("AddToCollection"),id:"addtocollection",icon:"playlist_add"}),o.ZP.supportsAddingToPlaylist(t)&&!1!==e.playlist&&d.push({name:n.ZP.translate("AddToPlaylist"),id:"addtoplaylist",icon:"playlist_add"})),"Timer"===t.Type&&r.Policy.EnableLiveTvManagement&&!1!==e.cancelTimer&&d.push({name:n.ZP.translate("CancelRecording"),id:"canceltimer",icon:"cancel"}),"Recording"===t.Type&&"InProgress"===t.Status&&r.Policy.EnableLiveTvManagement&&!1!==e.cancelTimer&&d.push({name:n.ZP.translate("CancelRecording"),id:"canceltimer",icon:"cancel"}),"SeriesTimer"===t.Type&&r.Policy.EnableLiveTvManagement&&!1!==e.cancelTimer&&d.push({name:n.ZP.translate("CancelSeries"),id:"cancelseriestimer",icon:"cancel"}),t.CanDelete&&!1!==e.deleteItem&&("Playlist"===t.Type||"BoxSet"===t.Type?d.push({name:n.ZP.translate("Delete"),id:"delete",icon:"delete"}):d.push({name:n.ZP.translate("DeleteMedia"),id:"delete",icon:"delete"})),t.CanDownload&&s.M.supports("filedownload")&&"Book"!==t.Type&&(d.push({name:n.ZP.translate("Download"),id:"download",icon:"file_download"}),d.push({name:n.ZP.translate("CopyStreamURL"),id:"copy-stream",icon:"content_copy"})),d.length&&d.push({divider:!0});var u=o.ZP.canEdit(r,t);if(u&&!1!==e.edit&&"SeriesTimer"!==t.Type){var m="Timer"===t.Type||"SeriesTimer"===t.Type?n.ZP.translate("Edit"):n.ZP.translate("EditMetadata");d.push({name:m,id:"edit",icon:"edit"})}return o.ZP.canEditImages(r,t)&&!1!==e.editImages&&d.push({name:n.ZP.translate("EditImages"),id:"editimages",icon:"image"}),u&&("Video"!==t.MediaType||"TvChannel"===t.Type||"Program"===t.Type||"Virtual"===t.LocationType||"Recording"===t.Type&&"Completed"!==t.Status||!1!==e.editSubtitles&&d.push({name:n.ZP.translate("EditSubtitles"),id:"editsubtitles",icon:"closed_caption"})),!1!==e.identify&&o.ZP.canIdentify(r,t)&&d.push({name:n.ZP.translate("Identify"),id:"identify",icon:"edit"}),t.MediaSources&&!1!==e.moremediainfo&&d.push({name:n.ZP.translate("MoreMediaInfo"),id:"moremediainfo",icon:"info"}),"Program"===t.Type&&!1!==e.record&&t.TimerId&&d.push({name:n.ZP.translate("ManageRecording"),id:"record",icon:"fiber_manual_record"}),"Program"===t.Type&&!1!==e.record&&(t.TimerId||d.push({name:n.ZP.translate("Record"),id:"record",icon:"fiber_manual_record"})),o.ZP.canRefreshMetadata(t,r)&&d.push({name:n.ZP.translate("RefreshMetadata"),id:"refresh",icon:"refresh"}),t.PlaylistItemId&&e.playlistId&&d.push({name:n.ZP.translate("RemoveFromPlaylist"),id:"removefromplaylist",icon:"remove"}),e.collectionId&&d.push({name:n.ZP.translate("RemoveFromCollection"),id:"removefromcollection",icon:"remove"}),l||!0===e.share&&o.ZP.canShare(t,r)&&d.push({name:n.ZP.translate("Share"),id:"share",icon:"share"}),!1!==e.sync&&o.ZP.canSync(r,t)&&d.push({name:n.ZP.translate("Sync"),id:"sync",icon:"sync"}),!1!==e.openAlbum&&t.AlbumId&&"Photo"!==t.MediaType&&d.push({name:n.ZP.translate("ViewAlbum"),id:"album",icon:"album"}),!1!==e.openArtist&&t.AlbumArtists&&t.AlbumArtists.length&&d.push({name:n.ZP.translate("ViewAlbumArtist"),id:"artist",icon:"person"}),d}function h(e,t,r,i){return function(){e({command:t,updated:r,deleted:i})}}function p(e,t,r,i){var n=r?i?"queueNext":"queue":"play",a=0;t&&e.UserData&&e.UserData.PlaybackPositionTicks&&(a=e.UserData.PlaybackPositionTicks),"Program"===e.Type?c.O[n]({ids:[e.ChannelId],startPositionTicks:a,serverId:e.ServerId}):c.O[n]({items:[e],startPositionTicks:a})}function y(e){var t=m(e);return t.length?a.default.show({items:t,positionTo:e.positionTo,resolveOnClick:["share"]}).then((function(t){return function(e,t,i){var a=e.Id,s=e.ServerId,o=d.Z.getApiClient(s);return new Promise((function(d,m){switch(t){case"addtocollection":r.e(6372).then(r.bind(r,86372)).then((function(e){new(0,e.default)({items:[a],serverId:s}).then(h(d,t,!0),h(d,t))}));break;case"addtoplaylist":r.e(8013).then(r.bind(r,8013)).then((function(e){new(0,e.default)({items:[a],serverId:s}).then(h(d,t,!0),h(d,t))}));break;case"download":r.e(4111).then(r.bind(r,84111)).then((function(r){var i=o.getItemDownloadUrl(a);r.download([{url:i,itemId:a,serverId:s,title:e.Name,filename:e.Path.replace(/^.*[\\\/]/,"")}]),h(h(d,t),t)()}));break;case"copy-stream":var y=o.getItemDownloadUrl(a),f=function(){var e=document.createElement("textarea");e.value=y,document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy")?(0,u.Z)(n.ZP.translate("CopyStreamURLSuccess")):prompt(n.ZP.translate("CopyStreamURL"),y),document.body.removeChild(e)};void 0===navigator.clipboard?f():navigator.clipboard.writeText(y).then((function(){(0,u.Z)(n.ZP.translate("CopyStreamURLSuccess"))})).catch((function(){f()})),h(d,t)();break;case"editsubtitles":r.e(1569).then(r.bind(r,91569)).then((function(e){e.default.show(a,s).then(h(d,t,!0),h(d,t))}));break;case"edit":(function(e,t){return new Promise((function(i,n){var a=e.serverInfo().Id;"Timer"===t.Type?r.e(132).then(r.bind(r,80132)).then((function(e){e.default.show(t.Id,a).then(i,n)})):"SeriesTimer"===t.Type?r.e(4281).then(r.bind(r,44281)).then((function(e){e.default.show(t.Id,a).then(i,n)})):r.e(6508).then(r.bind(r,66508)).then((function(e){e.default.show(t.Id,a).then(i,n)}))}))})(o,e).then(h(d,t,!0),h(d,t));break;case"editimages":r.e(7067).then(r.bind(r,87067)).then((function(e){e.show({itemId:a,serverId:s}).then(h(d,t,!0),h(d,t))}));break;case"identify":r.e(5598).then(r.bind(r,35598)).then((function(e){e.show(a,s).then(h(d,t,!0),h(d,t))}));break;case"moremediainfo":r.e(1765).then(r.bind(r,81765)).then((function(e){e.show(a,s).then(h(d,t),h(d,t))}));break;case"refresh":!function(e,t){r.e(4231).then(r.bind(r,14231)).then((function(r){new(0,r.default)({itemIds:[t.Id],serverId:e.serverInfo().Id,mode:"CollectionFolder"===t.Type?"scan":null}).show()}))}(o,e),h(d,t)();break;case"open":l.appRouter.showItem(e),h(d,t)();break;case"play":p(e,!1),h(d,t)();break;case"resume":p(e,!0),h(d,t)();break;case"queue":p(e,!1,!0),h(d,t)();break;case"queuenext":p(e,!1,!0,!0),h(d,t)();break;case"stopPlayback":c.O.stop();break;case"clearQueue":c.O.clearQueue();break;case"record":r.e(4104).then(r.bind(r,34104)).then((function(e){e.default.show(a,s).then(h(d,t,!0),h(d,t))}));break;case"shuffle":c.O.shuffle(e),h(d,t)();break;case"instantmix":c.O.instantMix(e),h(d,t)();break;case"delete":(function(e,t){return new Promise((function(e,i){r.e(6860).then(r.bind(r,96860)).then((function(r){r.deleteItem({item:t,navigate:!1}).then((function(){e(!0)}),i)}))}))})(0,e).then(h(d,t,!0,!0),h(d,t));break;case"share":navigator.share({title:e.Name,text:e.Overview,url:"".concat(o.serverAddress(),"/web/index.html").concat(l.appRouter.getRouteUrl(e))});break;case"album":l.appRouter.showItem(e.AlbumId,e.ServerId),h(d,t)();break;case"artist":l.appRouter.showItem(e.AlbumArtists[0].Id,e.ServerId),h(d,t)();break;case"playallfromhere":case"queueallfromhere":h(d,t)();break;case"removefromplaylist":o.ajax({url:o.getUrl("Playlists/"+i.playlistId+"/Items",{EntryIds:[e.PlaylistItemId].join(",")}),type:"DELETE"}).then((function(){h(d,t,!0)()}));break;case"removefromcollection":o.ajax({type:"DELETE",url:o.getUrl("Collections/"+i.collectionId+"/Items",{Ids:[e.Id].join(",")})}).then((function(){h(d,t,!0)()}));break;case"canceltimer":!function(e,t,i,n){Promise.resolve().then(r.bind(r,58104)).then((function(e){var r=e.default,a=t.TimerId||t.Id;r.cancelTimerWithConfirmation(a,t.ServerId).then((function(){h(i,n,!0)()}))}))}(0,e,d,t);break;case"cancelseriestimer":!function(e,t,i,n){Promise.resolve().then(r.bind(r,58104)).then((function(e){e.default.cancelSeriesTimerWithConfirmation(t.Id,t.ServerId).then((function(){h(i,n,!0)()}))}))}(0,e,d,t);break;default:m()}}))}(e.item,t,e)})):Promise.reject()}t.default={getCommands:m,show:y}},52420:function(e,t,r){r.r(t),r.d(t,{default:function(){return ee}}),r(72410),r(15610),r(25901),r(92189),r(91047),r(5769),r(63238),r(61418),r(17460),r(14078),r(27471),r(55849),r(95289),r(95163),r(32081),r(69217),r(61013),r(98010),r(52077),r(911),r(23938),r(56446);var i=r(38102),n=r(6594),a=r(6383),s=r(78695),l=r(47005),o=r(28978),c=r(61097),d=r(28469),u=r(48734),m=r(28321),h=r(66056),p=r(27046),y=r(71616),f=r(83094),v=r(61160),g=r(91081),S=r(17025),T=r(53754),b=r(47518),I=r(53218),P=(r(2553),r(32420),r(65219),r(78066),r(5150),r(76560),r(48366),r(50447),r(67962)),L=r(76543),C=r(53913),A=r(56346),M=r(84111);function w(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Z(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(l)throw a}}}}function Z(e,t){if(e){if("string"==typeof e)return q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?q(e,t):void 0}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function k(e,t){var r=t.id;if(r)return e.getItem(e.getCurrentUserId(),r);if(t.seriesTimerId)return e.getLiveTvSeriesTimer(t.seriesTimerId);if(t.genre)return e.getGenre(t.genre,e.getCurrentUserId());if(t.musicgenre)return e.getMusicGenre(t.musicgenre,e.getCurrentUserId());if(t.musicartist)return e.getArtist(t.musicartist,e.getCurrentUserId());throw new Error("Invalid request")}function x(e,t,r){var i,n=w(e.querySelectorAll("."+t));try{for(n.s();!(i=n.n()).done;){var a=i.value;r?a.classList.remove("hide"):a.classList.add("hide")}}catch(e){n.e(e)}finally{n.f()}}function D(e,t,r){return{item:e,open:!1,play:!1,playAllFromHere:!1,queueAllFromHere:!1,positionTo:r,cancelTimer:!1,record:!1,deleteItem:!0===e.CanDelete,shuffle:!1,instantMix:!1,user:t,share:!0}}function E(e,t,r,i){var n=e.querySelector(".selectSource");if(!r.MediaSources||!y.ZP.supportsMediaSourceSelection(r)||-1===I.O.getSupportedCommands().indexOf("PlayMediaSource")||!I.O.canPlay(r))return e.querySelector(".trackSelections").classList.add("hide"),n.innerHTML="",e.querySelector(".selectVideo").innerHTML="",e.querySelector(".selectAudio").innerHTML="",void(e.querySelector(".selectSubtitles").innerHTML="");var a=r.MediaSources,s=[],l=[];a.forEach((function(e){!e.Name.endsWith("p")&&!e.Name.endsWith("i")||Number.isNaN(parseInt(e.Name,10))?l.push(e):s.push(e)})),s.sort((function(e,t){return parseInt(t.Name,10)-parseInt(e.Name,10)})),l.sort((function(e,t){var r=e.Name.toUpperCase(),i=t.Name.toUpperCase();return r<i?-1:r>i?1:0})),a=[],s.forEach((function(e){return a.push(e)})),l.forEach((function(e){return a.push(e)})),t._currentPlaybackMediaSources=a,e.querySelector(".trackSelections").classList.remove("hide"),n.setLabel(T.ZP.translate("LabelVersion"));var o=n.value,c=a[0].Id;n.innerHTML=a.map((function(e){var t=e.Id===c?" selected":"";return'<option value="'+e.Id+'"'+t+">"+e.Name+"</option>"})).join(""),a.length>1?e.querySelector(".selectSourceContainer").classList.remove("hide"):e.querySelector(".selectSourceContainer").classList.add("hide"),(n.value!==o||i)&&(H(e,a),N(e,a),B(e,a))}function H(e,t){var r=e.querySelector(".selectSource").value,i=t.filter((function(e){return e.Id===r}))[0].MediaStreams.filter((function(e){return"Video"===e.Type})),n=e.querySelector(".selectVideo");n.setLabel(T.ZP.translate("Video"));var a=i.length?i[0].Index:-1;n.innerHTML=i.map((function(e){var t=e.Index===a?" selected":"",r=[],i=u.ZP.getResolutionText(e);return i&&r.push(i),e.Codec&&r.push(e.Codec.toUpperCase()),'<option value="'+e.Index+'" '+t+">"+(e.DisplayTitle||r.join(" "))+"</option>"})).join(""),n.setAttribute("disabled","disabled"),i.length?e.querySelector(".selectVideoContainer").classList.remove("hide"):e.querySelector(".selectVideoContainer").classList.add("hide")}function N(e,t){var r=e.querySelector(".selectSource").value,i=t.filter((function(e){return e.Id===r}))[0],n=i.MediaStreams.filter((function(e){return"Audio"===e.Type})),a=e.querySelector(".selectAudio");a.setLabel(T.ZP.translate("Audio"));var s=i.DefaultAudioStreamIndex;a.innerHTML=n.map((function(e){var t=e.Index===s?" selected":"";return'<option value="'+e.Index+'" '+t+">"+e.DisplayTitle+"</option>"})).join(""),n.length>1?a.removeAttribute("disabled"):a.setAttribute("disabled","disabled"),n.length?e.querySelector(".selectAudioContainer").classList.remove("hide"):e.querySelector(".selectAudioContainer").classList.add("hide")}function B(e,t){var r=e.querySelector(".selectSource").value,i=t.filter((function(e){return e.Id===r}))[0],n=i.MediaStreams.filter((function(e){return"Subtitle"===e.Type})),a=e.querySelector(".selectSubtitles");a.setLabel(T.ZP.translate("Subtitles"));var s=null==i.DefaultSubtitleStreamIndex?-1:i.DefaultSubtitleStreamIndex;if(i.MediaStreams.filter((function(e){return"Video"===e.Type})).length){var l=-1===s?" selected":"";a.innerHTML='<option value="-1">'+T.ZP.translate("Off")+"</option>"+n.map((function(e){return l=e.Index===s?" selected":"",'<option value="'+e.Index+'" '+l+">"+e.DisplayTitle+"</option>"})).join(""),n.length>0?a.removeAttribute("disabled"):a.setAttribute("disabled","disabled"),e.querySelector(".selectSubtitlesContainer").classList.remove("hide")}else a.innerHTML="",e.querySelector(".selectSubtitlesContainer").classList.add("hide")}function U(e,t){var r=!1;if("Program"==t.Type){var i=new Date;i>=d.ZP.parseISO8601Date(t.StartDate,!0)&&i<d.ZP.parseISO8601Date(t.EndDate,!0)?(x(e,"btnPlay",!0),r=!0):x(e,"btnPlay"),x(e,"btnResume"),x(e,"btnInstantMix"),x(e,"btnShuffle")}else if(I.O.canPlay(t)){x(e,"btnPlay",!0),x(e,"btnInstantMix",-1!==["Audio","MusicAlbum","MusicGenre","MusicArtist"].indexOf(t.Type)),x(e,"btnShuffle",t.IsFolder||-1!==["MusicAlbum","MusicGenre","MusicArtist"].indexOf(t.Type)),r=!0;var n=t.UserData&&t.UserData.PlaybackPositionTicks>0;x(e,"btnResume",n);var a,s=w(e.querySelectorAll(".btnPlay"));try{for(s.s();!(a=s.n()).done;){var l=a.value.querySelector(".detailButton-icon");n?l.classList.replace("play_arrow","replay"):l.classList.replace("replay","play_arrow")}}catch(e){s.e(e)}finally{s.f()}}else x(e,"btnPlay"),x(e,"btnResume"),x(e,"btnInstantMix"),x(e,"btnShuffle");return r}function R(e,t,r){var i,n=[],s=w(e);try{for(s.s();!(i=s.n()).done;){var l=i.value,o=a.appRouter.getRouteUrl(l,{context:r,itemType:"MusicArtist",serverId:t});n.push('<a style="color:inherit;" class="button-link" is="emby-linkbutton" href="'+o+'">'+l.Name+"</a>")}}catch(e){s.e(e)}finally{s.f()}return n.join(" / ")}function O(e,t){(t.LocalTrailerCount||t.RemoteTrailers&&t.RemoteTrailers.length)&&-1!==I.O.getSupportedCommands().indexOf("PlayTrailers")?x(e,"btnPlayTrailer",!0):x(e,"btnPlayTrailer")}function F(e,t,l,u,v){var S=C.Z.getApiClient(u.ServerId);a.appRouter.setTitle(""),function(e,t){!function(e,t,r){var i=[];i.push(t);var n=c.default.getCardsHtml(i,{shape:"auto",showTitle:!1,centerText:!0,overlayText:!1,transition:!1,disableIndicators:!0,overlayPlayButton:!0,action:"play",width:.25*f.ZP.getWindowSize().innerWidth});e.innerHTML=n,r.lazyChildren(e),e.querySelector("button").tabIndex=-1}(e.querySelector(".detailImageContainer"),t,g.default)}(t,u),s.Z.tv||(function(e,t,r){var i=e.querySelector(".detailLogo"),n=function(e,t,r){return(r=r||{}).type="Logo",e.ImageTags&&e.ImageTags.Logo?(r.tag=e.ImageTags.Logo,t.getScaledImageUrl(e.Id,r)):e.ParentLogoImageTag?(r.tag=e.ParentLogoImageTag,t.getScaledImageUrl(e.ParentLogoItemId,r)):null}(t,r,{});n?(i.classList.remove("hide"),g.default.setLazyImage(i,n)):i.classList.add("hide")}(t,u,S),function(e,t,r){var i,n=e.querySelector("#itemBackdrop");!s.Z.mobile&&o.detailsBanner()&&(t.BackdropImageTags&&t.BackdropImageTags.length?(i=r.getScaledImageUrl(t.Id,{type:"Backdrop",maxWidth:f.ZP.getScreenWidth(),index:0,tag:t.BackdropImageTags[0]}),g.default.lazyImage(n,i)):t.ParentBackdropItemId&&t.ParentBackdropImageTags&&t.ParentBackdropImageTags.length?(i=r.getScaledImageUrl(t.ParentBackdropItemId,{type:"Backdrop",maxWidth:f.ZP.getScreenWidth(),index:0,tag:t.ParentBackdropImageTags[0]}),g.default.lazyImage(n,i)):t.ImageTags&&t.ImageTags.Primary?(i=r.getScaledImageUrl(t.Id,{type:"Primary",maxWidth:f.ZP.getScreenWidth(),tag:t.ImageTags.Primary}),g.default.lazyImage(n,i)):n.style.backgroundImage="")}(t,u,S)),s.Z.mobile&&function(e,t,r){var i;if(null!=t&&null!==(i=t.ImageTags)&&void 0!==i&&i.Primary){var n,a=r.getScaledImageUrl(t.Id,{type:"Primary",maxWidth:f.ZP.getScreenWidth(),tag:t.ImageTags.Primary}),s=e.querySelector("#primaryImage");s.src=a,s.alt=t.Name,1===t.PrimaryImageAspectRatio&&s.classList.add("aspect-square"),null===(n=e.querySelector(".primaryImageWrapper"))||void 0===n||n.classList.remove("hide")}}(t,u,S),function(e){f.ZP.getWindowSize().innerWidth>=1e3?m.ZP.setBackdrops([e]):m.ZP.clearBackdrop()}(u),t.querySelector(".detailPagePrimaryContainer").classList.add("detailRibbon"),function(e,t,r){var i,n=[],l=!1;e.AlbumArtists?(n.push(R(e.AlbumArtists,e.ServerId,r)),l=!0):e.ArtistItems&&e.ArtistItems.length&&"MusicVideo"===e.Type?(n.push(R(e.ArtistItems,e.ServerId,r)),l=!0):e.SeriesName&&"Episode"===e.Type?(i=a.appRouter.getRouteUrl({Id:e.SeriesId,Name:e.SeriesName,Type:"Series",IsFolder:!0,ServerId:e.ServerId},{context:r}),n.push('<a style="color:inherit;" class="button-link" tabindex="-1" is="emby-linkbutton" href="'+i+'">'+e.SeriesName+"</a>")):(e.IsSeries||e.EpisodeTitle)&&n.push(e.Name),e.SeriesName&&"Season"===e.Type?(i=a.appRouter.getRouteUrl({Id:e.SeriesId,Name:e.SeriesName,Type:"Series",IsFolder:!0,ServerId:e.ServerId},{context:r}),n.push('<a style="color:inherit;" class="button-link" tabindex="-1" is="emby-linkbutton" href="'+i+'">'+e.SeriesName+"</a>")):null!=e.ParentIndexNumber&&"Episode"===e.Type?(i=a.appRouter.getRouteUrl({Id:e.SeasonId,Name:e.SeasonName,Type:"Season",IsFolder:!0,ServerId:e.ServerId},{context:r}),n.push('<a style="color:inherit;" class="button-link" tabindex="-1" is="emby-linkbutton" href="'+i+'">'+e.SeasonName+"</a>")):null!=e.ParentIndexNumber&&e.IsSeries?n.push(e.SeasonName||"S"+e.ParentIndexNumber):e.Album&&e.AlbumId&&("MusicVideo"===e.Type||"Audio"===e.Type)?(i=a.appRouter.getRouteUrl({Id:e.AlbumId,Name:e.Album,Type:"MusicAlbum",IsFolder:!0,ServerId:e.ServerId},{context:r}),n.push('<a style="color:inherit;" class="button-link" tabindex="-1" is="emby-linkbutton" href="'+i+'">'+e.Album+"</a>")):e.Album&&n.push(e.Album);var o="",c=n[0],d=n[1];n.length&&(o=l?s.Z.mobile?'<h3 class="parentName musicParentName">'+n.join("</br>")+"</h3>":'<h3 class="parentName musicParentName">'+n.join(" - ")+"</h3>":'<h1 class="parentName">'+c+"</h1>");var u=y.ZP.getDisplayName(e,{includeParentInfo:!1});o&&!l?o+=d?'<h3 class="itemName infoText subtitle">'+d+" - "+u+"</h3>":'<h3 class="itemName infoText subtitle">'+u+"</h3>":o=e.OriginalTitle&&e.OriginalTitle!=e.Name?'<h1 class="itemName infoText parentNameLast withOriginalTitle">'+u+"</h1>"+o:'<h1 class="itemName infoText parentNameLast">'+u+"</h1>"+o,e.OriginalTitle&&e.OriginalTitle!=e.Name&&(o+='<h4 class="itemName infoText originalTitle">'+e.OriginalTitle+"</h4>"),t.innerHTML=o,o.length?t.classList.remove("hide"):t.classList.add("hide")}(u,t.querySelector(".nameContainer"),l.context),W(t,u,S,l.context),E(t,e,u),function(e,t,i,n){if("SeriesTimer"===t.Type){if(n.Policy.EnableLiveTvManagement)return r.e(4281).then(r.bind(r,44281)).then((function(r){r.default.embed(t,i.serverId(),{context:e.querySelector(".seriesRecordingEditor")})})),e.querySelector(".seriesTimerScheduleSection").classList.remove("hide"),x(e,"btnCancelSeriesTimer",!0),void function(e,t,r){t.getLiveTvTimers({UserId:t.getCurrentUserId(),ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Thumb",SortBy:"StartDate",EnableTotalRecordCount:!1,EnableUserData:!1,SeriesTimerId:r,Fields:"ChannelInfo,ChannelImage"}).then((function(t){t.Items.length&&t.Items[0].SeriesTimerId!=r&&(t.Items=[]);var i=function(e){var t="";return t+='<div is="emby-itemscontainer" class="itemsContainer vertical-list" data-contextmenu="false">',(t+=h.Z.getListViewHtml({items:e,enableUserDataButtons:!1,image:!0,imageSource:"channel",showProgramDateTime:!0,showChannel:!1,mediaInfo:!1,action:"none",moreButton:!1,recordButton:!1}))+"</div>"}(t.Items),n=e.querySelector(".seriesTimerSchedule");n.innerHTML=i,g.default.lazyChildren(n)}))}(e,i,t.Id);e.querySelector(".seriesTimerScheduleSection").classList.add("hide"),x(e,"btnCancelSeriesTimer")}else x(e,"btnCancelSeriesTimer")}(t,u,S,v),function(e,t,r,i){"Recording"===t.Type&&i.Policy.EnableLiveTvManagement&&t.TimerId&&"InProgress"===t.Status?x(e,"btnCancelTimer",!0):x(e,"btnCancelTimer")}(t,u,0,v),V(t,u,0,l.context,v);var b=U(t,u);(u.LocalTrailerCount||u.RemoteTrailers&&u.RemoteTrailers.length)&&-1!==I.O.getSupportedCommands().indexOf("PlayTrailers")?x(t,"btnPlayTrailer",!0):x(t,"btnPlayTrailer"),O(t,u),"Program"!==u.Type||b?x(t,"mainDetailButtons",!0):x(t,"mainDetailButtons"),function(e,t,i,n){if(!e.currentRecordingFields){var a=t.querySelector(".recordingFields");"Program"==i.Type&&n.Policy.EnableLiveTvManagement?r.e(5223).then(r.bind(r,35223)).then((function(t){var r=t.default;e.currentRecordingFields=new r({parent:a,programId:i.Id,serverId:i.ServerId}),a.classList.remove("hide")})):(a.classList.add("hide"),a.innerHTML="")}}(e,t,u,v);var P=(u.MediaSources||[]).filter((function(e){return"Grouping"==e.Type}));v.Policy.IsAdministrator&&P.length?t.querySelector(".btnSplitVersions").classList.remove("hide"):t.querySelector(".btnSplitVersions").classList.add("hide"),p.default.getCommands(D(u,v)).length?x(t,"btnMoreCommands",!0):x(t,"btnMoreCommands");var L=t.querySelector("#itemBirthday");if("Person"==u.Type&&u.PremiereDate)try{var A=d.ZP.parseISO8601Date(u.PremiereDate,!0).toDateString();L.classList.remove("hide"),L.innerHTML=T.ZP.translate("BirthDateValue",A)}catch(e){L.classList.add("hide")}else L.classList.add("hide");var M=t.querySelector("#itemDeathDate");if("Person"==u.Type&&u.EndDate)try{var w=d.ZP.parseISO8601Date(u.EndDate,!0).toDateString();M.classList.remove("hide"),M.innerHTML=T.ZP.translate("DeathDateValue",w)}catch(e){M.classList.add("hide")}else M.classList.add("hide");var Z=t.querySelector("#itemBirthLocation");if("Person"==u.Type&&u.ProductionLocations&&u.ProductionLocations.length){var q=u.ProductionLocations[0];!s.Z.tv&&i.M.supports("externallinks")&&(q='<a is="emby-linkbutton" class="button-link textlink" target="_blank" href="https://maps.google.com/maps?q='.concat(q,'">').concat(q,"</a>")),Z.classList.remove("hide"),Z.innerHTML=T.ZP.translate("BirthPlaceValue",q)}else Z.classList.add("hide");!function(e,t){"Audio"==t.MediaType||"MusicAlbum"==t.Type||"Book"==t.MediaType||"Photo"==t.MediaType?e.querySelector("#peopleHeader").innerHTML=T.ZP.translate("People"):e.querySelector("#peopleHeader").innerHTML=T.ZP.translate("HeaderCastAndCrew")}(t,u),n.ZP.hide(),"Book"===u.Type&&u.CanDownload&&i.M.supports("filedownload")&&x(t,"btnDownload",!0),Promise.resolve().then(r.bind(r,6610)).then((function(e){e.default.autoFocus(t)}))}function V(e,t,i,a,s){e.querySelector(".collectionItems").innerHTML="","Playlist"==t.Type?(e.querySelector("#childrenCollapsible").classList.remove("hide"),function(e,t){r.e(7057).then(r.bind(r,17057)).then((function(){PlaylistViewer.render(e,t)}))}(e,t)):"Studio"==t.Type||"Person"==t.Type||"Genre"==t.Type||"MusicGenre"==t.Type||"MusicArtist"==t.Type?(e.querySelector("#childrenCollapsible").classList.remove("hide"),function(e,t){r.e(5765).then(r.bind(r,25765)).then((function(){window.ItemsByName.renderItems(e,t)}))}(e,t)):t.IsFolder?("BoxSet"==t.Type&&e.querySelector("#childrenCollapsible").classList.add("hide"),_(e,t)):e.querySelector("#childrenCollapsible").classList.add("hide"),"Series"==t.Type?(function(e,t){var r=C.Z.getApiClient(t.ServerId);r.getLiveTvPrograms({UserId:r.getCurrentUserId(),HasAired:!1,SortBy:"StartDate",EnableTotalRecordCount:!1,EnableImages:!1,ImageTypeLimit:0,Limit:50,EnableUserData:!1,LibrarySeriesId:t.Id}).then((function(t){t.Items.length?e.querySelector("#seriesScheduleSection").classList.remove("hide"):e.querySelector("#seriesScheduleSection").classList.add("hide"),e.querySelector("#seriesScheduleList").innerHTML=h.Z.getListViewHtml({items:t.Items,enableUserDataButtons:!1,showParentTitle:!1,image:!1,showProgramDateTime:!0,mediaInfo:!1,showTitle:!0,moreButton:!1,action:"programdialog"}),n.ZP.hide()}))}(e,t),function(e,t,r){var i=e.querySelector(".nextUpSection");"Series"==t.Type?C.Z.getApiClient(t.ServerId).getNextUpEpisodes({SeriesId:t.Id,UserId:r.Id}).then((function(e){e.Items.length?i.classList.remove("hide"):i.classList.add("hide");var r=c.default.getCardsHtml({items:e.Items,shape:"overflowBackdrop",showTitle:!0,displayAsSpecial:"Season"==t.Type&&t.IndexNumber,overlayText:!1,centerText:!0,overlayPlayButton:!0}),n=i.querySelector(".nextUpItems");n.innerHTML=r,g.default.lazyChildren(n)})):i.classList.add("hide")}(e,t,s)):e.querySelector(".nextUpSection").classList.add("hide"),function(e,t){var i=t.Chapters||[];if(i.length&&!i[0].ImageTag&&(i=[]),i.length){e.querySelector("#scenesCollapsible").classList.remove("hide");var n=e.querySelector("#scenesContent");r.e(1797).then(r.bind(r,71797)).then((function(e){e.default.buildChapterCards(t,i,{itemsContainer:n,backdropShape:"overflowBackdrop",squareShape:"overflowSquare",imageBlurhashes:t.ImageBlurHashes})}))}else e.querySelector("#scenesCollapsible").classList.add("hide")}(e,t),t.SpecialFeatureCount&&0!=t.SpecialFeatureCount&&"Series"!=t.Type?(e.querySelector("#specialsCollapsible").classList.remove("hide"),function(e,t,r){C.Z.getApiClient(t.ServerId).getSpecialFeatures(r.Id,t.Id).then((function(t){var r=e.querySelector("#specialsContent");r.innerHTML=Y(t),g.default.lazyChildren(r)}))}(e,t,s)):e.querySelector("#specialsCollapsible").classList.add("hide"),K(e,t),t.PartCount&&t.PartCount>1?(e.querySelector("#additionalPartsCollapsible").classList.remove("hide"),function(e,t,r){C.Z.getApiClient(t.ServerId).getAdditionalVideoParts(r.Id,t.Id).then((function(t){if(t.Items.length){e.querySelector("#additionalPartsCollapsible").classList.remove("hide");var r=e.querySelector("#additionalPartsContent");r.innerHTML=Y(t.Items),g.default.lazyChildren(r)}else e.querySelector("#additionalPartsCollapsible").classList.add("hide")}))}(e,t,s)):e.querySelector("#additionalPartsCollapsible").classList.add("hide"),"MusicAlbum"==t.Type?function(e,t,r){C.Z.getApiClient(t.ServerId).getItems(r.Id,{SortBy:"SortName",SortOrder:"Ascending",IncludeItemTypes:"MusicVideo",Recursive:!0,Fields:"PrimaryImageAspectRatio,BasicSyncInfo,CanDelete,MediaSourceCount",AlbumIds:t.Id}).then((function(t){if(t.Items.length){e.querySelector("#musicVideosCollapsible").classList.remove("hide");var r=e.querySelector("#musicVideosContent");r.innerHTML=Y(t.Items),g.default.lazyChildren(r)}else e.querySelector("#musicVideosCollapsible").classList.add("hide")}))}(e,t,s):e.querySelector("#musicVideosCollapsible").classList.add("hide")}function j(e,t){var r=t.target,i="detail-clamp-text";e.classList.contains(i)?(e.classList.remove(i),r.innerHTML=T.ZP.translate("ShowLess")):(e.classList.add(i),r.innerHTML=T.ZP.translate("ShowMore"))}function W(e,t,r,n,l){!function(e,t,r){var i=e.querySelector("#similarCollapsible");if(i){if("Movie"!=t.Type&&"Trailer"!=t.Type&&"Series"!=t.Type&&"Program"!=t.Type&&"Recording"!=t.Type&&"MusicAlbum"!=t.Type&&"MusicArtist"!=t.Type&&"Playlist"!=t.Type)return void i.classList.add("hide");i.classList.remove("hide");var n=C.Z.getApiClient(t.ServerId),a={userId:n.getCurrentUserId(),limit:12,fields:"PrimaryImageAspectRatio,CanDelete"};"MusicAlbum"==t.Type&&t.AlbumArtists&&t.AlbumArtists.length&&(a.ExcludeArtistIds=t.AlbumArtists[0].Id),n.getSimilarItems(t.Id,a).then((function(e){if(e.Items.length){i.classList.remove("hide");var n="";n+=c.default.getCardsHtml({items:e.Items,shape:"autooverflow",showParentTitle:"MusicAlbum"==t.Type,centerText:!0,showTitle:!0,context:r,lazy:!0,showDetailsMenu:!0,coverImage:"MusicAlbum"==t.Type||"MusicArtist"==t.Type,overlayPlayButton:!0,overlayText:!1,showYear:"Movie"===t.Type||"Trailer"===t.Type||"Series"===t.Type});var a=i.querySelector(".similarContent");a.innerHTML=n,g.default.lazyChildren(a)}else i.classList.add("hide")}))}}(e,t,n),function(e,t,r){var i=e.querySelector(".moreFromSeasonSection");if(i){if("Episode"!==t.Type||!t.SeasonId||!t.SeriesId)return void i.classList.add("hide");var n=r.getCurrentUserId();r.getEpisodes(t.SeriesId,{SeasonId:t.SeasonId,UserId:n,Fields:"ItemCounts,PrimaryImageAspectRatio,BasicSyncInfo,CanDelete,MediaSourceCount"}).then((function(e){if(e.Items.length<2)i.classList.add("hide");else{i.classList.remove("hide"),i.querySelector("h2").innerHTML=T.ZP.translate("MoreFromValue",t.SeasonName);var r=i.querySelector(".itemsContainer");c.default.buildCards(e.Items,{parentContainer:i,itemsContainer:r,shape:"autooverflow",sectionTitleTagName:"h2",scalable:!0,showTitle:!0,overlayText:!1,centerText:!0,includeParentInfoInTitle:!1,allowBottomPadding:!1});var n=r.querySelector('.card[data-id="'+t.Id+'"]');n&&setTimeout((function(){i.querySelector(".emby-scroller").toStart(n.previousSibling||n,!0)}),100)}}))}}(e,t,r),function(e,t,r){var i=e.querySelector(".moreFromArtistSection");if(i){if("MusicArtist"===t.Type){if(!r.isMinServerVersion("3.4.1.19"))return void i.classList.add("hide")}else if("MusicAlbum"!==t.Type||!t.AlbumArtists||!t.AlbumArtists.length)return void i.classList.add("hide");var n={IncludeItemTypes:"MusicAlbum",Recursive:!0,ExcludeItemIds:t.Id,SortBy:"PremiereDate,ProductionYear,SortName",SortOrder:"Descending"};"MusicArtist"===t.Type?n.ContributingArtistIds=t.Id:r.isMinServerVersion("3.4.1.18")?n.AlbumArtistIds=t.AlbumArtists[0].Id:n.ArtistIds=t.AlbumArtists[0].Id,r.getItems(r.getCurrentUserId(),n).then((function(e){e.Items.length?(i.classList.remove("hide"),"MusicArtist"===t.Type?i.querySelector("h2").innerHTML=T.ZP.translate("HeaderAppearsOn"):i.querySelector("h2").innerHTML=T.ZP.translate("MoreFromValue",t.AlbumArtists[0].Name),c.default.buildCards(e.Items,{parentContainer:i,itemsContainer:i.querySelector(".itemsContainer"),shape:"autooverflow",sectionTitleTagName:"h2",scalable:!0,coverImage:"MusicArtist"===t.Type||"MusicAlbum"===t.Type,showTitle:!0,showParentTitle:!1,centerText:!0,overlayText:!1,overlayPlayButton:!0,showYear:!0})):i.classList.add("hide")}))}}(e,t,r),function(e,t,r){var i=(t.People||[]).filter((function(e){return"Director"===e.Type})),n=i.map((function(e){return'<a style="color:inherit;" class="button-link" is="emby-linkbutton" href="'+a.appRouter.getRouteUrl({Name:e.Name,Type:"Person",ServerId:t.ServerId,Id:e.Id},{context:r})+'">'+e.Name+"</a>"})).join(", ");e.querySelector(".directorsLabel").innerHTML=T.ZP.translate(i.length>1?"Directors":"Director"),e.querySelector(".directors").innerHTML=n;var s=e.querySelector(".directorsGroup");i.length?s.classList.remove("hide"):s.classList.add("hide")}(e,t,n),function(e,t,r){var i=(t.People||[]).filter((function(e){return"Writer"===e.Type})),n=i.map((function(e){return'<a style="color:inherit;" class="button-link" is="emby-linkbutton" href="'+a.appRouter.getRouteUrl({Name:e.Name,Type:"Person",ServerId:t.ServerId,Id:e.Id},{context:r})+'">'+e.Name+"</a>"})).join(", ");e.querySelector(".writersLabel").innerHTML=T.ZP.translate(i.length>1?"Writers":"Writer"),e.querySelector(".writers").innerHTML=n;var s=e.querySelector(".writersGroup");i.length?s.classList.remove("hide"):s.classList.add("hide")}(e,t,n),function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:G(t),i=t.GenreItems||[],n="music"===r?"MusicGenre":"Genre",s=i.map((function(e){return'<a style="color:inherit;" class="button-link" is="emby-linkbutton" href="'+a.appRouter.getRouteUrl({Name:e.Name,Type:n,ServerId:t.ServerId,Id:e.Id},{context:r})+'">'+e.Name+"</a>"})).join(", ");e.querySelector(".genresLabel").innerHTML=T.ZP.translate(i.length>1?"Genres":"Genre"),e.querySelector(".genres").innerHTML=s;var l=e.querySelector(".genresGroup");i.length?l.classList.remove("hide"):l.classList.add("hide")}(e,t,n),function(e,t,r){"TvChannel"===r.Type&&(e.querySelector(".programGuideSection").classList.remove("hide"),t.getLiveTvPrograms({ChannelIds:r.Id,UserId:t.getCurrentUserId(),HasAired:!1,SortBy:"StartDate",EnableTotalRecordCount:!1,EnableImages:!1,ImageTypeLimit:0,EnableUserData:!1}).then((function(t){!function(e,t){for(var r="",i=[],n=null,a=0,s=t.Items.length;a<s;a++){var l=t.Items[a],o=d.ZP.parseISO8601Date(l.StartDate);n&&n.toDateString()===o.toDateString()||(i.length&&(r+='<div class="verticalSection verticalDetailSection">',r+='<h2 class="sectionTitle padded-left">'+d.ZP.toLocaleDateString(n,{weekday:"long",month:"long",day:"numeric"})+"</h2>",r+='<div is="emby-itemscontainer" class="vertical-list padded-left padded-right">'+h.Z.getListViewHtml({items:i,enableUserDataButtons:!1,showParentTitle:!0,image:!1,showProgramTime:!0,mediaInfo:!1,parentTitleWithTitle:!0})+"</div></div>"),n=o,i=[]),i.push(l)}i.length&&(r+='<div class="verticalSection verticalDetailSection">',r+='<h2 class="sectionTitle padded-left">'+d.ZP.toLocaleDateString(n,{weekday:"long",month:"long",day:"numeric"})+"</h2>",r+='<div is="emby-itemscontainer" class="vertical-list padded-left padded-right">'+h.Z.getListViewHtml({items:i,enableUserDataButtons:!1,showParentTitle:!0,image:!1,showProgramTime:!0,mediaInfo:!1,parentTitleWithTitle:!0})+"</div></div>"),e.querySelector(".programGuide").innerHTML=r}(e,t)})))}(e,r,t),function(e,t){var r=e.querySelector(".tagline");t.Taglines&&t.Taglines.length?(r.classList.remove("hide"),r.innerHTML=t.Taglines[0]):r.classList.add("hide")}(e,t),function(e,t){var r,i=w(e.querySelectorAll(".overview"));try{for(i.s();!(r=i.n()).done;){var n=r.value,a=t.Overview||"";if(a){n.innerHTML=a,n.classList.remove("hide"),n.classList.add("detail-clamp-text");var s=n.parentElement.querySelector(".overview-expand");Math.abs(n.scrollHeight-n.offsetHeight)>2?s.classList.remove("hide"):s.classList.add("hide"),s.addEventListener("click",j.bind(null,n));var l,o=w(n.querySelectorAll("a"));try{for(o.s();!(l=o.n()).done;)l.value.setAttribute("target","_blank")}catch(e){o.e(e)}finally{o.f()}}else n.innerHTML="",n.classList.add("hide")}}catch(e){i.e(e)}finally{i.f()}}(e,t),function(e,t){var r,i=w(e.querySelectorAll(".itemMiscInfo-primary"));try{for(i.s();!(r=i.n()).done;){var n=r.value;u.ZP.fillPrimaryMediaInfo(n,t,{interactive:!0,episodeTitle:!1,subtitles:!1}),n.innerHTML&&"SeriesTimer"!==t.Type?n.classList.remove("hide"):n.classList.add("hide")}}catch(e){i.e(e)}finally{i.f()}var a,s=w(e.querySelectorAll(".itemMiscInfo-secondary"));try{for(s.s();!(a=s.n()).done;){var l=a.value;u.ZP.fillSecondaryMediaInfo(l,t,{interactive:!0}),l.innerHTML&&"SeriesTimer"!==t.Type?l.classList.remove("hide"):l.classList.add("hide")}}catch(e){s.e(e)}finally{s.f()}}(e,t),function(e,t){var r,i,n=e.querySelectorAll(".btnPlaystate");for(r=0,i=n.length;r<i;r++){var a=n[r];y.ZP.canMarkPlayed(t)?(a.classList.remove("hide"),a.setItem(t)):(a.classList.add("hide"),a.setItem(null))}var s=e.querySelectorAll(".btnUserRating");for(r=0,i=s.length;r<i;r++){var l=s[r];y.ZP.canRate(t)?(l.classList.remove("hide"),l.setItem(t)):(l.classList.add("hide"),l.setItem(null))}}(e,t),!s.Z.tv&&i.M.supports("externallinks")&&function(e,t){var r=e.querySelector(".itemExternalLinks"),i=[];if(!s.Z.tv&&t.HomePageUrl&&i.push('<a is="emby-linkbutton" class="button-link" href="'.concat(t.HomePageUrl,'" target="_blank">').concat(T.ZP.translate("ButtonWebsite"),"</a>")),t.ExternalUrls){var n,a=w(t.ExternalUrls);try{for(a.s();!(n=a.n()).done;){var l=n.value;i.push('<a is="emby-linkbutton" class="button-link" href="'.concat(l.Url,'" target="_blank">').concat(l.Name,"</a>"))}}catch(e){a.e(e)}finally{a.f()}}var o=[];i.length&&o.push(i.join(", ")),r.innerHTML=o.join(", "),o.length?r.classList.remove("hide"):r.classList.add("hide")}(e,t),function(e,t){var r=e.querySelector(".itemTags"),i=[],n=t.Tags||[];"Program"===t.Type&&(n=[]);for(var a=0,s=n.length;a<s;a++)i.push(n[a]);i.length?(r.innerHTML=T.ZP.translate("TagsValue",i.join(", ")),r.classList.remove("hide")):(r.innerHTML="",r.classList.add("hide"))}(e,t),function(e,t,r){var i=e.querySelector("#seriesAirTime");if("Series"==t.Type){var n="";if(t.AirDays&&t.AirDays.length&&(7==t.AirDays.length?n+="daily":n+=t.AirDays.map((function(e){return e+"s"})).join(",")),t.AirTime&&(n+=" at "+t.AirTime),t.Studios.length)if(r)n+=" on "+t.Studios[0].Name;else{var s=G(t);n+=' on <a class="textlink button-link" is="emby-linkbutton" href="'+a.appRouter.getRouteUrl(t.Studios[0],{context:s,itemType:"Studio",serverId:t.ServerId})+'">'+t.Studios[0].Name+"</a>"}n?(n=("Ended"==t.Status?"Aired ":"Airs ")+n,i.innerHTML=n,i.classList.remove("hide")):i.classList.add("hide")}else i.classList.add("hide")}(e,t,l)}function z(){return b.Z.mobile&&window.screen.availWidth<=1e3}function _(e,t){var i,n="ItemCounts,PrimaryImageAspectRatio,BasicSyncInfo,CanDelete,MediaSourceCount",a={ParentId:t.Id,Fields:n};"BoxSet"!==t.Type&&(a.SortBy="SortName");var l=C.Z.getApiClient(t.ServerId),o=l.getCurrentUserId();"Series"==t.Type?i=l.getSeasons(t.Id,{userId:o,Fields:n}):"Season"==t.Type?(n+=",Overview",i=l.getEpisodes(t.SeriesId,{seasonId:t.Id,userId:o,Fields:n})):"MusicArtist"==t.Type&&(a.SortBy="PremiereDate,ProductionYear,SortName"),(i=i||l.getItems(l.getCurrentUserId(),a)).then((function(i){var n="",a=!1,l=!1,o=e.querySelector(".childrenItemsContainer");if("MusicAlbum"==t.Type){var d,u=function(e,t){return e.every((function(e){return-1!==t.indexOf(e)}))&&e.length===t.length},m=!1,p=w(i.Items);try{for(p.s();!(d=p.n()).done;){var y=d.value;if(!u(y.ArtistItems.map((function(e){return e.Id})),y.AlbumArtists.map((function(e){return e.Id})))){m=!0;break}}}catch(e){p.e(e)}finally{p.f()}var f=i.Items.map((function(e){return e.ParentIndexNumber}));n=h.Z.getListViewHtml({items:i.Items,smallIcon:!0,showIndex:new Set(f).size>1||f.length>=1&&f[0]>1,index:"disc",showIndexNumberLeft:!0,playFromHere:!0,action:"playallfromhere",image:!1,artist:m,containerAlbumArtists:t.AlbumArtists}),l=!0}else if("Series"==t.Type)a=z(),n=c.default.getCardsHtml({items:i.Items,shape:"overflowPortrait",showTitle:!0,centerText:!0,lazy:!0,overlayPlayButton:!0,allowBottomPadding:!a});else if("Season"==t.Type||"Episode"==t.Type){if("Episode"!==t.Type&&(l=!0),a="Episode"==t.Type,i.Items.length<2&&"Episode"===t.Type)return;"Episode"===t.Type?n=c.default.getCardsHtml({items:i.Items,shape:"overflowBackdrop",showTitle:!0,displayAsSpecial:"Season"==t.Type&&t.IndexNumber,playFromHere:!0,overlayText:!0,lazy:!0,showDetailsMenu:!0,overlayPlayButton:!0,allowBottomPadding:!a,includeParentInfoInTitle:!1}):"Season"===t.Type&&(n=h.Z.getListViewHtml({items:i.Items,showIndexNumber:!1,enableOverview:!0,enablePlayedButton:!s.Z.mobile,infoButton:!s.Z.mobile,imageSize:"large",enableSideMediaInfo:!1,highlight:!1,action:s.Z.desktop?"none":"link",imagePlayButton:!0,includeParentInfoInTitle:!1}))}if("BoxSet"!==t.Type&&e.querySelector("#childrenCollapsible").classList.remove("hide"),a?(o.classList.add("scrollX"),o.classList.add("hiddenScrollX"),o.classList.remove("vertical-wrap"),o.classList.remove("vertical-list")):(o.classList.remove("scrollX"),o.classList.remove("hiddenScrollX"),o.classList.remove("smoothScrollX"),l?(o.classList.add("vertical-list"),o.classList.remove("vertical-wrap")):(o.classList.add("vertical-wrap"),o.classList.remove("vertical-list"))),s.Z.mobile&&o.classList.remove("padded-right"),o.innerHTML=n,g.default.lazyChildren(o),"BoxSet"==t.Type){var v=[{name:T.ZP.translate("HeaderVideos"),mediaType:"Video"},{name:T.ZP.translate("Series"),type:"Series"},{name:T.ZP.translate("Albums"),type:"MusicAlbum"},{name:T.ZP.translate("Books"),type:"Book"}];!function(e,t,i,n){e.querySelector(".collectionItems").classList.remove("hide"),e.querySelector(".collectionItems").innerHTML="";var a,s=w(i);try{for(s.s();!(a=s.n()).done;){var l=a.value,o=Q(n,l);o.length&&X(e,t,l,o)}}catch(e){s.e(e)}finally{s.f()}var c={name:T.ZP.translate("HeaderOtherItems")},d=n.filter((function(e){return!i.filter((function(t){return Q([e],t).length>0})).length}));d.length&&X(e,t,c,d),n.length||X(e,t,{name:T.ZP.translate("Items")},n);var u,m=function(){_(e,t)},h=w(e.querySelectorAll(".collectionItemsContainer"));try{for(h.s();!(u=h.n()).done;)u.value.notifyRefreshNeeded=m}catch(e){h.e(e)}finally{h.f()}(function(e){for(var t=0,r=e.length;t<r;t++)if(I.O.canPlay(e[t]))return!0;return!1})(n)||(x(e,"btnPlay",!1),x(e,"btnShuffle",!1)),Promise.resolve().then(r.bind(r,6610)).then((function(t){t.default.autoFocus(e)}))}(e,t,v,i.Items)}})),"Season"==t.Type?e.querySelector("#childrenTitle").innerHTML=T.ZP.translate("Episodes"):"Series"==t.Type?e.querySelector("#childrenTitle").innerHTML=T.ZP.translate("HeaderSeasons"):"MusicAlbum"==t.Type?e.querySelector("#childrenTitle").innerHTML=T.ZP.translate("HeaderTracks"):e.querySelector("#childrenTitle").innerHTML=T.ZP.translate("Items"),"MusicAlbum"==t.Type||"Season"==t.Type?(e.querySelector(".childrenSectionHeader").classList.add("hide"),e.querySelector("#childrenCollapsible").classList.add("verticalSection-extrabottompadding")):e.querySelector(".childrenSectionHeader").classList.remove("hide")}function G(e){return"Movie"===e.Type||"BoxSet"===e.Type?"movies":"Series"===e.Type||"Season"===e.Type||"Episode"===e.Type?"tvshows":"MusicArtist"===e.Type||"MusicAlbum"===e.Type||"Audio"===e.Type||"AudioBook"===e.Type?"music":"Program"===e.Type?"livetv":null}function Q(e,t){return e.filter((function(e){return t.mediaType?e.MediaType==t.mediaType:e.Type==t.type}))}function X(e,t,r,i){var n="";n+='<div class="verticalSection">',n+='<div class="sectionTitleContainer sectionTitleContainer-cards padded-left">',n+='<h2 class="sectionTitle sectionTitle-cards">',n+="<span>"+r.name+"</span>",n+="</h2>",n+="</div>",n+='<div is="emby-itemscontainer" class="itemsContainer collectionItemsContainer vertical-wrap padded-left padded-right">';var a,s="MusicAlbum"==r.type?(null==(a=!1)&&(a=z()),a?"overflowSquare":"square"):function(e){return null==e&&(e=z()),e?"overflowPortrait":"portrait"}(!1);n+=c.default.getCardsHtml({items:i,shape:s,showTitle:!0,showYear:"Video"===r.mediaType||"Series"===r.type,centerText:!0,lazy:!0,showDetailsMenu:!0,overlayMoreButton:!0,showAddToCollection:!1,showRemoveFromCollection:!0,collectionId:t.Id}),n+="</div>",n+="</div>";var l=e.querySelector(".collectionItems");l.insertAdjacentHTML("beforeend",n),g.default.lazyChildren(l.lastChild)}function Y(e){return c.default.getCardsHtml({items:e,shape:"autooverflow",showTitle:!0,action:"play",overlayText:!1,centerText:!0,showRuntime:!0})}function K(e,t){var i=(t.People||[]).filter((function(e){return"Actor"===e.Type}));if(i.length){e.querySelector("#castCollapsible").classList.remove("hide");var n=e.querySelector("#castContent");r.e(5740).then(r.bind(r,25740)).then((function(e){e.default.buildPeopleCards(i,{itemsContainer:n,coverImage:!0,serverId:t.ServerId,shape:"overflowPortrait",imageBlurhashes:t.ImageBlurHashes})}))}else e.querySelector("#castCollapsible").classList.add("hide")}function $(e,t,r,i){var n,a=w(e.querySelectorAll(t));try{for(a.s();!(n=a.n()).done;)n.value.addEventListener(r,i)}catch(e){a.e(e)}finally{a.f()}}function J(e){return e.preventDefault(),!1}function ee(e,t){function i(){return t.serverId?C.Z.getApiClient(t.serverId):ApiClient}function o(e,t,r){n.ZP.show();var a=i();Promise.all([k(a,r),a.getCurrentUser()]).then((function(i){var n,a,s=(a=2,function(e){if(Array.isArray(e))return e}(n=i)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var i,n,a,s,l=[],o=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(i=a.call(r)).done)&&(l.push(i.value),l.length!==t);o=!0);}catch(e){c=!0,n=e}finally{try{if(!o&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw n}}return l}}(n,a)||Z(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0],o=s[1];m=l,F(e,t,r,l,o)})).catch((function(e){console.error("failed to get item or current user: ",e)}))}function c(){!function(t,r){var i=m;if("Program"!==i.Type)!function(t,r){var i=function(t){var r=e.querySelector(".selectAudio").value||null;return{startPositionTicks:t,mediaSourceId:e.querySelector(".selectSource").value,audioStreamIndex:r,subtitleStreamIndex:e.querySelector(".selectSubtitles").value}}(r);i.items=[t],I.O.play(i)}(i,i.UserData&&"resume"===r?i.UserData.PlaybackPositionTicks:0);else{var n=C.Z.getApiClient(i.ServerId);n.getLiveTvChannel(i.ChannelId,n.getCurrentUserId()).then((function(e){I.O.play({items:[e]})}))}}(0,this.getAttribute("data-mode"))}function d(){E(e,g,m),O(e,m)}function u(t,r){var n,a=r,s=i();if("UserDataChanged"===a.MessageType&&m&&a.Data.UserId==s.getCurrentUserId()){var l=m.UserData.Key,o=a.Data.UserDataList.filter((function(e){return e.Key==l}))[0];o&&(m.UserData=o,U(e,m),n=m,function(e,t){var r=e.querySelector(".detailImageProgressContainer");r&&(r.innerHTML=v.ZP.getProgressBarHtml(t))}(e.querySelector(".detailImageContainer"),n))}}var m,h,y,f,g=this;h=i(),y=e.querySelector(".mainDetailButtons .btnResume"),f=e.querySelector(".mainDetailButtons .btnPlay"),s.Z.tv&&!y.classList.contains("hide")?(y.classList.add("fab"),y.classList.add("detailFloatingButton")):s.Z.tv&&y.classList.contains("hide")&&(f.classList.add("fab"),f.classList.add("detailFloatingButton")),e.querySelectorAll(".btnPlay"),$(e,".btnPlay","click",c),$(e,".btnResume","click",c),$(e,".btnInstantMix","click",(function(){I.O.instantMix(m)})),$(e,".btnShuffle","click",(function(){I.O.shuffle(m)})),$(e,".btnPlayTrailer","click",(function(){I.O.playTrailers(m)})),$(e,".btnCancelSeriesTimer","click",(function(){Promise.resolve().then(r.bind(r,58104)).then((function(e){e.default.cancelSeriesTimerWithConfirmation(m.Id,m.ServerId).then((function(){L.ZP.navigate("livetv.html")}))}))})),$(e,".btnCancelTimer","click",(function(){Promise.resolve().then(r.bind(r,58104)).then((function(r){r.default.cancelTimer(C.Z.getApiClient(m.ServerId),m.TimerId).then((function(){o(g,e,t)}))}))})),$(e,".btnDownload","click",(function(){var e=i().getItemDownloadUrl(m.Id);(0,M.download)([{url:e,itemId:m.Id,serverId:m.serverId}])})),e.querySelector(".detailImageContainer").addEventListener("click",(function(t){P.ZP.onClick.call(e.querySelector(".detailImageContainer"),t)})),e.querySelector(".trackSelections").addEventListener("submit",J),e.querySelector(".btnSplitVersions").addEventListener("click",(function(){!function(e,t,r,i){(0,A.Z)("Are you sure you wish to split the media sources into separate items?","Split Media Apart").then((function(){n.ZP.show(),r.ajax({type:"DELETE",url:r.getUrl("Videos/"+i.id+"/AlternateSources")}).then((function(){n.ZP.hide(),o(e,t,i)}))}))}(g,e,h,t)})),$(e,".btnMoreCommands","click",(function(){var r=this,n=e.querySelector(".selectSource").value||m.Id,s=i();s.getItem(s.getCurrentUserId(),n).then((function(i){n=i,s.getCurrentUser().then((function(i){p.default.show(D(n,i,r)).then((function(r){r.deleted?a.appRouter.goHome():r.updated&&o(g,e,t)}))}))}))})),e.querySelector(".selectSource").addEventListener("change",(function(){H(e,g._currentPlaybackMediaSources),N(e,g._currentPlaybackMediaSources),B(e,g._currentPlaybackMediaSources)})),e.addEventListener("viewshow",(function(e){S.Z.setTransparentMenu(!s.Z.mobile),e.detail.isRestored?m&&(a.appRouter.setTitle(""),E(this,g,m,!0)):o(g,this,t),l.Events.on(h,"message",u),l.Events.on(I.O,"playerchange",d)})),e.addEventListener("viewbeforehide",(function(){l.Events.off(h,"message",u),l.Events.off(I.O,"playerchange",d),S.Z.setTransparentMenu(!1)})),e.addEventListener("viewdestroy",(function(){m=null,g._currentPlaybackMediaSources=null,g.currentRecordingFields=null}))}window.ItemDetailPage=new function(){var e=this;e.setInitialCollapsibleState=V,e.renderDetails=W,e.renderCast=K}},48366:function(e,t,r){r(5769),r(63238),r(61418),r(17460),r(14078);var i=r(13800),n=r(83094),a=r(78695),s=r(12392),l=r(27515),o=r(47518),c=(r(67752),r(1892)),d=r.n(c),u=r(75869),m=(d()(u.Z,{insert:"head",singleton:!1}),u.Z.locals,Object.create(HTMLDivElement.prototype));function h(e){var t=e.detail.command;"end"===t?(l.Z.focusLast(this,"."+this.getAttribute("data-navcommands")),e.preventDefault(),e.stopPropagation()):"pageup"===t?(l.Z.moveFocus(e.target,this,"."+this.getAttribute("data-navcommands"),-12),e.preventDefault(),e.stopPropagation()):"pagedown"===t&&(l.Z.moveFocus(e.target,this,"."+this.getAttribute("data-navcommands"),12),e.preventDefault(),e.stopPropagation())}m.createdCallback=function(){this.classList.add("emby-scroller")},m.scrollToBeginning=function(){this.scroller&&this.scroller.slideTo(0,!0)},m.toStart=function(e,t){this.scroller&&this.scroller.toStart(e,t)},m.toCenter=function(e,t){this.scroller&&this.scroller.toCenter(e,t)},m.scrollToPosition=function(e,t){this.scroller&&this.scroller.slideTo(e,t)},m.getScrollPosition=function(){if(this.scroller)return this.scroller.getScrollPosition()},m.getScrollSize=function(){if(this.scroller)return this.scroller.getScrollSize()},m.getScrollEventName=function(){if(this.scroller)return this.scroller.getScrollEventName()},m.getScrollSlider=function(){if(this.scroller)return this.scroller.getScrollSlider()},m.addScrollEventListener=function(e,t){this.scroller&&n.ZP.addEventListener(this.scroller.getScrollFrame(),this.scroller.getScrollEventName(),e,t)},m.removeScrollEventListener=function(e,t){this.scroller&&n.ZP.removeEventListener(this.scroller.getScrollFrame(),this.scroller.getScrollEventName(),e,t)},m.attachedCallback=function(){this.getAttribute("data-navcommands")&&s.ZP.on(this,h);var e="false"!==this.getAttribute("data-horizontal"),t=this.querySelector(".scrollSlider");e&&(t.style["white-space"]="nowrap");var c,d=a.Z.desktop&&e&&"false"!==this.getAttribute("data-scrollbuttons"),u={horizontal:e,mouseDragging:1,mouseWheel:"false"!==this.getAttribute("data-mousewheel"),touchDragging:1,slidee:t,scrollBy:200,speed:e?270:240,elasticBounds:1,dragHandle:1,autoImmediate:!0,skipSlideToWhenVisible:"true"===this.getAttribute("data-skipfocuswhenvisible"),dispatchScrollEvent:d||"true"===this.getAttribute("data-scrollevent"),hideScrollbar:d||"true"===this.getAttribute("data-hidescrollbar"),allowNativeSmoothScroll:"true"===this.getAttribute("data-allownativesmoothscroll")&&!d,allowNativeScroll:!d,forceHideScrollbars:d,requireAnimation:d&&o.Z.edge};this.scroller=new i.Z(this,u),this.scroller.init(),this.scroller.reload(),a.Z.tv&&this.getAttribute("data-centerfocus")&&(this,c=this.scroller,n.ZP.addEventListener(this,"focus",(function(e){var t=l.Z.focusableParent(e.target);t&&c.toCenter(t)}),{capture:!0,passive:!0})),d&&function(e){r.e(6229).then(r.bind(r,6229)).then((function(){e.insertAdjacentHTML("beforebegin",'<div is="emby-scrollbuttons" class="emby-scrollbuttons padded-right"></div>')}))}(this)},m.pause=function(){var e=this.headroom;e&&e.pause()},m.resume=function(){var e=this.headroom;e&&e.resume()},m.detachedCallback=function(){this.getAttribute("data-navcommands")&&s.ZP.off(this,h);var e=this.headroom;e&&(e.destroy(),this.headroom=null);var t=this.scroller;t&&(t.destroy(),this.scroller=null)},document.registerElement("emby-scroller",{prototype:m,extends:"div"})},84111:function(e,t,r){r.r(t),r.d(t,{download:function(){return s}}),r(61013),r(63238),r(55849);var i=r(47518);function n(e){var t=document.createElement("a");t.download="",t.href=e,t.dispatchEvent(new MouseEvent("click"))}var a=r(29856);function s(e){a.Z.downloadFiles(e)||function(e){if(!e)throw new Error("`urls` required");if(void 0===document.createElement("a").download)return function(e){var t=0;!function r(){var i=document.createElement("iframe");i.style.display="none",i.src=e[t++],document.documentElement.appendChild(i);var n=setInterval((function(){"complete"!==i.contentWindow.document.readyState&&"interactive"!==i.contentWindow.document.readyState||(clearInterval(n),setTimeout((function(){i.parentNode.removeChild(i)}),1e3),t<e.length&&r())}),100)}()}(e);var t=0;e.forEach((function(e){if(i.Z.firefox&&!function(e){var t=document.createElement("a");return t.href=e,window.location.hostname===t.hostname&&window.location.protocol===t.protocol}(e))return setTimeout(n.bind(null,e),100*++t);n(e)}))}(e.map((function(e){return e.url})))}},75869:function(e,t,r){var i=r(93476),n=r.n(i)()((function(e){return e[1]}));n.push([e.id,".emby-scroller-container{position:relative}.emby-scroller{margin-left:3.3%;margin-right:3.3%}.itemsContainer>.card>.cardBox{margin-left:0;margin-right:1.2em}.servers>.card>.cardBox{margin-left:.6em;margin-right:.6em}.layout-mobile .emby-scroller,.layout-tv .emby-scroller{padding-left:3.3%;padding-right:3.3%;margin-left:0;margin-right:0}",""]),t.Z=n}}]);