(self.webpackChunk=self.webpackChunk||[]).push([[1353,7425,7282],{27282:function(e,t,n){"use strict";n.r(t),n.d(t,{getTabsElement:function(){return f},selectedTabIndex:function(){return h},setTabs:function(){return b}}),n(5769),n(63238),n(61418),n(17460),n(14078),n(61013);var a,s,r,i=n(83094),o=n(47518),l=n(47005),c=(n(29366),n(78066),document.querySelector(".skinHeader"));function d(){s||(s=c.querySelector(".headerTabs"))}function u(){this.selectedIndex(this.readySelectedIndex),this.readySelectedIndex=null}function m(e){function t(e){if(i.ZP.parentWithTag(e,"input"))return!1;var t=e.classList;return!t||!t.contains("scrollX")&&!t.contains("animatedScrollX")}for(var n=e;null!=n;){if(!t(n))return!1;n=n.parentNode}return!0}function b(e,t,i,b,h,f,v){if(!e)return a&&(s||(s=c.querySelector(".headerTabs")),d(),document.body.classList.remove("withSectionTabs"),s.innerHTML="",s.classList.add("hide"),a=null),{tabsContainer:s,replaced:!1};d();var y=s;if(a||y.classList.remove("hide"),a!==e){var g=0,p='<div is="emby-tabs"'+(null==t?"":' data-index="'+t+'"')+' class="tabs-viewmenubar"><div class="emby-tabs-slider" style="white-space:nowrap;">'+i().map((function(e){var t,n="emby-tab-button";return!1===e.enabled&&(n+=" hide"),e.cssClass&&(n+=" "+e.cssClass),t=e.href?'<a href="'+e.href+'" is="emby-linkbutton" class="'+n+'" data-index="'+g+'"><div class="emby-button-foreground">'+e.name+"</div></a>":'<button type="button" is="emby-button" class="'+n+'" data-index="'+g+'"><div class="emby-button-foreground">'+e.name+"</div></button>",g++,t})).join("")+"</div></div>";return y.innerHTML=p,window.CustomElements.upgradeSubtree(y),document.body.classList.add("withSectionTabs"),a=e,function(e,t,a){if(o.Z.touch){var s=function(n,a){m(a)&&e.contains(a)&&t.selectNext()},r=function(n,a){m(a)&&e.contains(a)&&t.selectPrevious()};n.e(5344).then(n.bind(n,85344)).then((function(t){var n=new(0,t.default)(e.parentNode.parentNode);l.Events.on(n,"swipeleft",s),l.Events.on(n,"swiperight",r),e.addEventListener("viewdestroy",(function(){n.destroy()}))}))}}(e,r=y.querySelector('[is="emby-tabs"]')),r.addEventListener("beforetabchange",(function(e){var t=b();if(null!=e.detail.previousIndex){var n=t[e.detail.previousIndex];n&&n.classList.remove("is-active")}var a=t[e.detail.selectedTabIndex];a&&a.classList.add("is-active")})),h&&r.addEventListener("beforetabchange",h),f&&r.addEventListener("tabchange",f),!1!==v&&(r.selectedIndex?r.selectedIndex(t):(r.readySelectedIndex=t,r.addEventListener("ready",u))),{tabsContainer:y,tabs:y.querySelector('[is="emby-tabs"]'),replaced:!0}}return r||(r=y.querySelector('[is="emby-tabs"]')),r.selectedIndex(t),a=e,{tabsContainer:y,tabs:r,replaced:!1}}function h(e){r||(r=s.querySelector('[is="emby-tabs"]')),null!=e?r.selectedIndex(e):r.triggerTabChange()}function f(){return document.querySelector(".tabs-viewmenubar")}},44101:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}}),n(5769),n(63238),n(61418),n(17460),n(14078),n(32081),n(27471);var a=n(47518),s=n(78695),r=n(28978),i=n(12392),o=n(6594),l=n(61097),c=n(83094),d=n(91081),u=n(17025),m=n(27282),b=n(53754),h=(n(2553),n(32420),n(29366),n(78066),n(93462),n(76543));function f(){var e=c.ZP.getWindowSize().innerWidth;return e>=1920?9:e>=1200?12:e>=1e3?10:8}function v(){return!s.Z.desktop}function y(){return v()?"overflowSquare":"square"}function g(){return[{name:b.ZP.translate("Albums")},{name:b.ZP.translate("Suggestions")},{name:b.ZP.translate("HeaderAlbumArtists")},{name:b.ZP.translate("Artists")},{name:b.ZP.translate("Playlists")},{name:b.ZP.translate("Songs")},{name:b.ZP.translate("Genres")}]}function p(e,t){var c=this;function p(t){var n,a;n=e,a=parseInt(t.detail.selectedTabIndex),L(n,a,(function(e){-1==C.indexOf(a)&&e.preRender&&e.preRender()}))}function I(t){var n,a;n=e,a=parseInt(t.detail.selectedTabIndex),S=a,L(n,a,(function(e){-1==C.indexOf(a)&&(C.push(a),e.renderTab())}))}function T(){return e.querySelectorAll(".pageTabContent")}var L=function(a,s,r){var i;switch(s){case 0:i="musicalbums";break;case 1:i="musicrecommended";break;case 2:case 3:i="musicartists";break;case 4:i="musicplaylists";break;case 5:i="songs";break;case 6:i="musicgenres"}n(97181)("./".concat(i)).then((function(n){var a,i=n.default;1==s&&(a=e.querySelector(".pageTabContent[data-index='"+s+"']"),c.tabContent=a);var o=x[s];o||(a=e.querySelector(".pageTabContent[data-index='"+s+"']"),o=1===s?c:new i(e,t,a),2==s?o.mode="albumartists":3==s&&(o.mode="artists"),x[s]=o,o.initTab&&o.initTab()),r(o)}))};function w(e){"search"===e.detail.command&&(e.preventDefault(),h.ZP.navigate("search.html?collectionType=music&parentId="+t.topParentId))}var S=parseInt(t.tab||function(e){switch(r.get("landing-"+e)){case"suggestions":return 1;case"albumartists":return 2;case"artists":return 3;case"playlists":return 4;case"songs":return 5;case"genres":return 6;default:return 0}}(t.topParentId));this.initTab=function(){for(var t,n=e.querySelector(".pageTabContent[data-index='1']").querySelectorAll(".itemsContainer"),r=0,i=n.length;r<i;r++)t=n[r],a.Z.mobile?(t.classList.add("hiddenScrollX"),s.Z.tv&&t.classList.add("smoothScrollX"),t.classList.add("scrollX"),t.classList.remove("vertical-wrap")):(t.classList.remove("hiddenScrollX"),t.classList.remove("smoothScrollX"),t.classList.remove("scrollX"),t.classList.add("vertical-wrap"))},this.renderTab=function(){var a,s;o.ZP.show(),a=e.querySelector(".pageTabContent[data-index='1']"),s=t.topParentId,console.debug("loadSuggestionsTab"),function(e,t){o.ZP.show();var a=ApiClient.getCurrentUserId(),s={IncludeItemTypes:"Audio",Limit:v()?3*f():2*f(),Fields:"PrimaryImageAspectRatio,BasicSyncInfo",ParentId:t,ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Banner,Thumb",EnableTotalRecordCount:!1};ApiClient.getJSON(ApiClient.getUrl("Users/"+a+"/Items/Latest",s)).then((function(t){var a=e.querySelector("#recentlyAddedSongs");a.innerHTML=l.default.getCardsHtml({items:t,showUnplayedIndicator:!1,showLatestItemsPopup:!1,shape:y(),showTitle:!0,showParentTitle:!0,lazy:!0,centerText:!0,overlayPlayButton:!0,allowBottomPadding:!v(),cardLayout:!1,coverImage:!0}),d.default.lazyChildren(a),o.ZP.hide(),Promise.resolve().then(n.bind(n,6610)).then((function(t){t.default.autoFocus(e)}))}))}(a,s),function(e,t){var n={SortBy:"DatePlayed",SortOrder:"Descending",IncludeItemTypes:"Audio",Limit:f(),Recursive:!0,Fields:"PrimaryImageAspectRatio,AudioInfo",Filters:"IsPlayed",ParentId:t,ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Banner,Thumb",EnableTotalRecordCount:!1};ApiClient.getItems(ApiClient.getCurrentUserId(),n).then((function(t){var n=e.querySelector("#recentlyPlayed");t.Items.length?n.classList.remove("hide"):n.classList.add("hide");var a=n.querySelector(".itemsContainer");a.innerHTML=l.default.getCardsHtml({items:t.Items,showUnplayedIndicator:!1,shape:y(),showTitle:!0,showParentTitle:!0,action:"instantmix",lazy:!0,centerText:!0,overlayMoreButton:!0,allowBottomPadding:!v(),cardLayout:!1,coverImage:!0}),d.default.lazyChildren(a)}))}(a,s),function(e,t){var n={SortBy:"PlayCount",SortOrder:"Descending",IncludeItemTypes:"Audio",Limit:f(),Recursive:!0,Fields:"PrimaryImageAspectRatio,AudioInfo",Filters:"IsPlayed",ParentId:t,ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Banner,Thumb",EnableTotalRecordCount:!1};ApiClient.getItems(ApiClient.getCurrentUserId(),n).then((function(t){var n=e.querySelector("#topPlayed");t.Items.length?n.classList.remove("hide"):n.classList.add("hide");var a=n.querySelector(".itemsContainer");a.innerHTML=l.default.getCardsHtml({items:t.Items,showUnplayedIndicator:!1,shape:y(),showTitle:!0,showParentTitle:!0,action:"instantmix",lazy:!0,centerText:!0,overlayMoreButton:!0,allowBottomPadding:!v(),cardLayout:!1,coverImage:!0}),d.default.lazyChildren(a)}))}(a,s),n.e(6021).then(n.bind(n,16021)).then((function(e){e.default.render(a,ApiClient.getCurrentUserId(),s,["favoriteArtists","favoriteAlbums","favoriteSongs"])}))};var x=[],C=[];e.addEventListener("viewshow",(function(n){if(m.setTabs(e,S,g,T,p,I),!e.getAttribute("data-title")){var a=t.topParentId;a?ApiClient.getItem(ApiClient.getCurrentUserId(),a).then((function(t){e.setAttribute("data-title",t.Name),u.Z.setTitle(t.Name)})):(e.setAttribute("data-title",b.ZP.translate("TabMusic")),u.Z.setTitle(b.ZP.translate("TabMusic")))}i.ZP.on(window,w)})),e.addEventListener("viewbeforehide",(function(e){i.ZP.off(window,w)})),e.addEventListener("viewdestroy",(function(e){x.forEach((function(e){e.destroy&&e.destroy()}))}))}},29366:function(e,t,n){"use strict";n(32081),n(67752);var a=n(83094),s=n(13800),r=n(47518),i=n(27515),o=n(1892),l=n.n(o),c=n(90685),d=(l()(c.Z,{insert:"head",singleton:!1}),c.Z.locals,n(2553),Object.create(HTMLDivElement.prototype)),u="emby-tab-button",m=u+"-active";function b(e){e.classList.add(m)}function h(e,t,n){var a;e.dispatchEvent(new CustomEvent("beforetabchange",{detail:{selectedTabIndex:t,previousIndex:n}})),null!=n&&n!==t&&(a=null)&&a.classList.remove("is-active")}function f(e){var t=this,n=t.querySelector("."+m),s=a.ZP.parentWithClass(e.target,u);if(s&&s!==n){n&&n.classList.remove(m);var r=n?parseInt(n.getAttribute("data-index")):null;b(s);var i=parseInt(s.getAttribute("data-index"));h(t,i,r),setTimeout((function(){t.selectedTabIndex=i,t.dispatchEvent(new CustomEvent("tabchange",{detail:{selectedTabIndex:i,previousIndex:r}}))}),120),t.scroller&&t.scroller.toCenter(s,!1)}}function v(e){var t=e.target.parentNode.querySelector(".lastFocused");t&&t.classList.remove("lastFocused"),e.target.classList.add("lastFocused")}function y(e){return e.querySelector("."+m)}function g(e,t){for(var n=e[t];n;){if(n.classList.contains(u)&&!n.classList.contains("hide"))return n;n=n[t]}return null}d.createdCallback=function(){this.classList.contains("emby-tabs")||(this.classList.add("emby-tabs"),this.classList.add("focusable"),a.ZP.addEventListener(this,"click",f,{passive:!0}),a.ZP.addEventListener(this,"focusout",v))},d.focus=function(){var e=this.querySelector("."+m),t=this.querySelector(".lastFocused");t?i.Z.focus(t):e?i.Z.focus(e):i.Z.autoFocus(this)},d.refresh=function(){this.scroller&&this.scroller.reload()},d.attachedCallback=function(){!function(e){if(!e.scroller){var t=e.querySelector(".emby-tabs-slider");t?(e.scroller=new s.Z(e,{horizontal:1,itemNav:0,mouseDragging:1,touchDragging:1,slidee:t,smart:!0,releaseSwing:!0,scrollBy:200,speed:120,elasticBounds:1,dragHandle:1,dynamicHandle:1,clickBar:1,hiddenScroll:!0,requireAnimation:!r.Z.safari,allowNativeSmoothScroll:!0}),e.scroller.init()):(e.classList.add("scrollX"),e.classList.add("hiddenScrollX"),e.classList.add("smoothScrollX"))}}(this);var e=this.querySelector("."+m),t=e?parseInt(e.getAttribute("data-index")):parseInt(this.getAttribute("data-index")||"0");if(-1!==t){this.selectedTabIndex=t;var n=this.querySelectorAll("."+u)[t];n&&b(n)}this.readyFired||(this.readyFired=!0,this.dispatchEvent(new CustomEvent("ready",{})))},d.detachedCallback=function(){this.scroller&&(this.scroller.destroy(),this.scroller=null),a.ZP.removeEventListener(this,"click",f,{passive:!0})},d.selectedIndex=function(e,t){var n=this;if(null==e)return n.selectedTabIndex||0;var a=n.selectedIndex();n.selectedTabIndex=e;var s=n.querySelectorAll("."+u);if(a===e||!1===t){h(n,e,a),n.dispatchEvent(new CustomEvent("tabchange",{detail:{selectedTabIndex:e}}));var r=s[a];b(s[e]),a!==e&&r&&r.classList.remove(m)}else f.call(n,{target:s[e]})},d.selectNext=function(){var e=g(y(this),"nextSibling");e&&f.call(this,{target:e})},d.selectPrevious=function(){var e=g(y(this),"previousSibling");e&&f.call(this,{target:e})},d.triggerBeforeTabChange=function(e){h(this,this.selectedIndex())},d.triggerTabChange=function(e){this.dispatchEvent(new CustomEvent("tabchange",{detail:{selectedTabIndex:this.selectedIndex()}}))},d.setTabEnabled=function(e,t){var n=this.querySelector('.emby-tab-button[data-index="'+e+'"]');t?n.classList.remove("hide"):n.classList.remove("add")},document.registerElement("emby-tabs",{prototype:d,extends:"div"})},90685:function(e,t,n){"use strict";var a=n(93476),s=n.n(a)()((function(e){return e[1]}));s.push([e.id,".emby-tab-button{box-sizing:border-box;background:transparent;box-shadow:none;cursor:pointer;outline:none;width:auto;font-family:inherit;font-size:inherit;display:inline-block;vertical-align:middle;-webkit-flex-shrink:0;flex-shrink:0;margin:0;padding:1.5em;position:relative;height:auto;min-width:0;line-height:1.25;border-radius:0;overflow:hidden;font-weight:600}.emby-tab-button.show-focus:focus{-webkit-transform:scale(1.3)!important;transform:scale(1.3)!important;background:0!important}.emby-tabs-slider{position:relative}.tabContent:not(.is-active){display:none}",""]),t.Z=s},97181:function(e,t,n){var a={"./music.html":[91693,7,9107],"./musicalbums":[36595,9,6056,2970],"./musicalbums.js":[36595,9,6056,2970],"./musicartists":[75341,9,6056,2642],"./musicartists.js":[75341,9,6056,2642],"./musicgenres":[28718,9,5523],"./musicgenres.js":[28718,9,5523],"./musicplaylists":[45794,9,9997],"./musicplaylists.js":[45794,9,9997],"./musicrecommended":[44101,9],"./musicrecommended.js":[44101,9],"./songs":[91498,9,6056,1949],"./songs.js":[91498,9,6056,1949]};function s(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],s=t[0];return Promise.all(t.slice(2).map(n.e)).then((function(){return n.t(s,16|t[1])}))}s.keys=function(){return Object.keys(a)},s.id=97181,e.exports=s}}]);