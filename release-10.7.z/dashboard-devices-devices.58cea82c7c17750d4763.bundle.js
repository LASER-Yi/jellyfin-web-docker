"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9375],{96084:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}}),n(5769),n(86248),n(63238),n(61418),n(17460),n(14078),n(61013),n(98010);var a=n(6594),i=n(83094),r=n(53754),c=n(7816),s=n(19502),o=n(9785),d=(n(78066),n(32420),n(5100),n(76543)),l=n(56346);function u(e,t,n,a,i,r,c){try{var s=e[r](c),o=s.value}catch(e){return void n(e)}s.done?t(o):Promise.resolve(o).then(a,i)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function c(e){u(r,a,i,c,s,"next",e)}function s(e){u(r,a,i,c,s,"throw",e)}c(void 0)}))}}var v=[];function f(e){return e!==ApiClient.deviceId()}function p(e){a.ZP.show(),ApiClient.getJSON(ApiClient.getUrl("Devices")).then((function(t){!function(e,t){var n="";n+=t.map((function(e){var t="";t+="<div data-id='"+e.Id+"' class='card backdropCard'>",t+='<div class="cardBox visualCardBox">',t+='<div class="cardScalable">',t+='<div class="cardPadder cardPadder-backdrop"></div>',t+='<a is="emby-linkbutton" href="'.concat(m?"#!/device.html?id="+e.Id:"#",'" class="cardContent cardImageContainer">');var n=c.ZP.getDeviceIcon(e);return n?(t+='<div class="cardImage" style="background-image:url(\''+n+"');background-size: auto 64%;background-position:center center;\">",t+="</div>"):t+='<span class="cardImageIcon material-icons tablet_android"></span>',t+="</a>",t+="</div>",t+='<div class="cardFooter">',(m||f(e.Id))&&(t+='<div style="text-align:right; float:right;padding-top:5px;">',t+='<button type="button" is="paper-icon-button-light" data-id="'+e.Id+'" title="'+r.ZP.translate("Menu")+'" class="btnDeviceMenu"><span class="material-icons more_vert"></span></button>',t+="</div>"),t+="<div class='cardText'>",t+=e.Name,t+="</div>",t+="<div class='cardText cardText-secondary'>",t+=e.AppName+" "+e.AppVersion,t+="</div>",t+="<div class='cardText cardText-secondary'>",e.LastUserName&&(t+=e.LastUserName,t+=", "+(0,s.Z)(Date.parse(e.DateLastActivity),o.mF)),t+="&nbsp;",t+="</div>",t+="</div>",(t+="</div>")+"</div>"})).join(""),e.querySelector(".devicesList").innerHTML=n}(e,t.Items),v=t.Items.map((function(e){return e.Id})),a.ZP.hide()}))}var m=ApiClient.isMinServerVersion("3.4.1.31");function h(e,t){e.querySelector(".devicesList").addEventListener("click",(function(t){var c=i.ZP.parentWithClass(t.target,"btnDeviceMenu");c&&function(e,t,i){var c=[];m&&c.push({name:r.ZP.translate("Edit"),id:"open",icon:"mode_edit"}),f(i)&&c.push({name:r.ZP.translate("Delete"),id:"delete",icon:"delete"}),Promise.resolve().then(n.bind(n,32465)).then((function(n){n.default.show({items:c,positionTo:t,callback:function(t){switch(t){case"open":d.ZP.navigate("device.html?id="+i);break;case"delete":!function(e,t){var n=r.ZP.translate("DeleteDeviceConfirmation");(0,l.Z)({text:n,title:r.ZP.translate("HeaderDeleteDevice"),confirmText:r.ZP.translate("Delete"),primary:"delete"}).then(Z(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.ZP.show(),n.next=3,ApiClient.deleteDevice(t);case 3:p(e);case 4:case"end":return n.stop()}}),n)}))))}(e,i)}}})}))}(e,c,c.getAttribute("data-id"))})),e.addEventListener("viewshow",(function(){p(this)})),e.querySelector("#deviceDeleteAll").addEventListener("click",(function(){var t,n;t=e,n=r.ZP.translate("DeleteDevicesConfirmation"),(0,l.Z)({text:n,title:r.ZP.translate("HeaderDeleteDevices"),confirmText:r.ZP.translate("Delete"),primary:"delete"}).then(Z(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.ZP.show(),e.next=3,Promise.all(v.filter(f).map((function(e){return ApiClient.deleteDevice(e)})));case 3:p(t);case 4:case"end":return e.stop()}}),e)}))))}))}},9785:function(e,t,n){n.d(t,{Kd:function(){return Y},mF:function(){return $}});var a=n(77946),i=n(12496),r=n(11401),c=n(84146),s=n(59996),o=n(78210),d=n(9477),l=n(33026),u=n(91814),Z=n(88303),v=n(22410),f=n(35997),p=n(73956),m=n(86496),h=n(6902),b=n(35163),g=n(36749),P=n(89310),k=n(22481),x=n(75710),D=n(11109),w=n(74270),C=n(37159),y=n(27324),I=n(68490),A=n(19046),L=n(81905),T=n(19656),S=n(5905),M=n(64660),N=n(69509),z=n(24770),E=n(84216),R=n(77411),q=n(23282),F=n(60754),H=n(21430),U=n(45614),_=n(83305),j=n(95861),B=n(37405),V=n(6148),W=n(63258),J=n(50281),K=n(67889),O=n(44362),G=n(69244),Q=n(96730),X=n(53754);function Y(){return e=X.ZP.getCurrentLocale(),{af:a.Z,ar:i.Z,"be-by":r.Z,"bg-bg":c.Z,bn:s.Z,ca:o.Z,cs:d.Z,da:l.Z,de:u.Z,el:Z.Z,"en-gb":v.Z,"en-us":f.Z,eo:p.Z,es:m.Z,"es-ar":m.Z,"es-do":m.Z,"es-mx":m.Z,fa:h.Z,fi:b.Z,fr:g.Z,"fr-ca":P.Z,gl:k.Z,gsw:u.Z,he:x.Z,"hi-in":D.Z,hr:w.Z,hu:C.Z,id:y.Z,is:I.Z,it:A.Z,ja:L.Z,kk:T.Z,ko:S.Z,"lt-lt":M.Z,ms:N.Z,nb:z.Z,nl:E.Z,pl:R.Z,pt:q.Z,"pt-br":F.Z,"pt-pt":q.Z,ro:H.Z,ru:U.Z,sk:_.Z,"sl-si":j.Z,sv:B.Z,ta:V.Z,th:W.Z,tr:J.Z,uk:K.Z,vi:O.Z,"zh-cn":G.Z,"zh-hk":G.Z,"zh-tw":Q.Z}[e]||f.Z;var e}var $={addSuffix:!0,locale:Y()};t.ZP={getLocale:Y,localeWithSuffix:$}}}]);