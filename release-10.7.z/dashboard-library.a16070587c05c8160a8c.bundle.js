(self.webpackChunk=self.webpackChunk||[]).push([[2118,1671],{84254:function(e,t,a){"use strict";a.r(t),a(5769),a(63238),a(61418),a(17460),a(14078),a(98010),a(32081),a(71848);var r=a(30504),s=a(6594),n=a(17025),i=a(53754),o=a(83094),l=a(7816),d=(a(5100),a(51671),a(76543)),c=a(56346),m=a(61097);function u(e,t){Promise.all([a.e(343),a.e(8123)]).then(a.bind(a,98123)).then((function(a){new(0,a.default)({refresh:f(e),library:t}).then((function(t){t&&h(e)}))}))}function h(e){s.ZP.show(),ApiClient.getVirtualFolders().then((function(t){!function(e,t){var r="";t.push({Name:i.ZP.translate("ButtonAddMediaLibrary"),icon:"add_circle",Locations:[],showType:!1,showLocations:!1,showMenu:!1,showNameWithIcon:!1,elementId:"addLibrary"});for(var n=0;n<t.length;n++){var l=t[n];r+=v(e,l,n)}var d=e.querySelector("#divVirtualFolders");d.innerHTML=r,d.classList.add("itemsContainer"),d.classList.add("vertical-wrap"),$(".btnCardMenu",d).on("click",(function(){!function(e,t,r){var s=o.ZP.parentWithClass(t,"card"),n=r[parseInt(s.getAttribute("data-index"))],l=[];l.push({name:i.ZP.translate("EditImages"),id:"editimages",icon:"photo"}),l.push({name:i.ZP.translate("ManageLibrary"),id:"edit",icon:"folder_open"}),l.push({name:i.ZP.translate("ButtonRemove"),id:"delete",icon:"delete"}),l.push({name:i.ZP.translate("ButtonRename"),id:"rename",icon:"mode_edit"}),l.push({name:i.ZP.translate("ScanLibrary"),id:"refresh",icon:"refresh"}),Promise.resolve().then(a.bind(a,32465)).then((function(r){r.show({items:l,positionTo:t,callback:function(t){switch(t){case"edit":u(e,n);break;case"editimages":!function(e,t){a.e(7067).then(a.bind(a,87067)).then((function(a){a.show({itemId:t.ItemId,serverId:ApiClient.serverId()}).then((function(){h(e)}))}))}(e,n);break;case"rename":!function(e,t){a.e(5506).then(a.bind(a,95506)).then((function(a){(0,a.default)({label:i.ZP.translate("LabelNewName"),confirmText:i.ZP.translate("ButtonRename")}).then((function(a){if(a&&a!=t.Name){var r=f(e);ApiClient.renameVirtualFolder(t.Name,a,r).then((function(){h(e)}))}}))}))}(e,n);break;case"delete":!function(e,t){var a=i.ZP.translate("MessageAreYouSureYouWishToRemoveMediaFolder");t.Locations.length&&(a+="<br/><br/>"+i.ZP.translate("MessageTheFollowingLocationWillBeRemovedFromLibrary")+"<br/><br/>",a+=t.Locations.join("<br/>")),(0,c.Z)({text:a,title:i.ZP.translate("HeaderRemoveMediaFolder"),confirmText:i.ZP.translate("Delete"),primary:"delete"}).then((function(){var a=f(e);ApiClient.removeVirtualFolder(t.Name,a).then((function(){h(e)}))}))}(e,n);break;case"refresh":!function(e,t){a.e(4231).then(a.bind(a,14231)).then((function(e){new(0,e.default)({itemIds:[t.ItemId],serverId:ApiClient.serverId(),mode:"scan"}).show()}))}(0,n)}}})}))}(e,this,t)})),d.querySelector("#addLibrary").addEventListener("click",(function(){!function(e){Promise.all([a.e(343),a.e(6970)]).then(a.bind(a,96970)).then((function(t){new(0,t.default)({collectionTypeOptions:g().filter((function(e){return!e.hidden})),refresh:f(e)}).then((function(t){t&&h(e)}))}))}(e)})),$(".editLibrary",d).on("click",(function(){var a=$(this).parents(".card")[0],r=parseInt(a.getAttribute("data-index")),s=t[r];s.ItemId&&u(e,s)})),s.ZP.hide()}(e,t)}))}function f(e){return"mediaLibraryPage"===e.id}function b(e,t){return i.ZP.translate(e,'<a is="emby-linkbutton" class="button-link" href="'+t+'" target="_blank" data-autohide="true">',"</a>")}function g(){return[{name:"",value:""},{name:i.ZP.translate("Movies"),value:"movies",message:b("MovieLibraryHelp","https://docs.jellyfin.org/general/server/media/movies.html")},{name:i.ZP.translate("TabMusic"),value:"music",message:b("MusicLibraryHelp","https://docs.jellyfin.org/general/server/media/music.html")},{name:i.ZP.translate("Shows"),value:"tvshows",message:b("TvLibraryHelp","https://docs.jellyfin.org/general/server/media/shows.html")},{name:i.ZP.translate("Books"),value:"books",message:b("BookLibraryHelp","https://docs.jellyfin.org/general/server/media/books.html")},{name:i.ZP.translate("Photos"),value:"homevideos"},{name:i.ZP.translate("MusicVideos"),value:"musicvideos"},{name:i.ZP.translate("Other"),value:"mixed",message:i.ZP.translate("MessageUnsetContentHelp")}]}function v(e,t,a){var r="",s="";e.classList.contains("wizardPage")&&(s+="min-width:33.3%;"),r+="<div "+(t.elementId?'id="'.concat(t.elementId,'" '):"")+'class="card backdropCard scalableCard backdropCard-scalable" style="'+s+'" data-index="'+a+'" data-id="'+t.ItemId+'">',r+='<div class="cardBox visualCardBox">',r+='<div class="cardScalable visualCardBox-cardScalable">',r+='<div class="cardPadder cardPadder-backdrop"></div>',r+='<div class="cardContent">';var n,d="";t.PrimaryImageItemId&&(d=ApiClient.getScaledImageUrl(t.PrimaryImageItemId,{maxWidth:Math.round(.4*o.ZP.getScreenWidth()),type:"Primary"})),d?(r+='<div class="cardImageContainer editLibrary '.concat(d?"":m.default.getDefaultBackgroundClass(),'" style="cursor:pointer">'),r+='<img src="'.concat(d,'" style="width:100%" />'),n=!0):t.showNameWithIcon||(r+='<div class="cardImageContainer editLibrary '.concat(m.default.getDefaultBackgroundClass(),'" style="cursor:pointer;">'),r+='<span class="cardImageIcon material-icons '+(t.icon||l.ZP.getLibraryIcon(t.CollectionType))+'"></span>',n=!0),n&&(r+='<div class="cardIndicators backdropCardIndicators">',r+='<div is="emby-itemrefreshindicator"'+(t.RefreshProgress||t.RefreshStatus&&"Idle"!==t.RefreshStatus?"":' class="hide"')+' data-progress="'+(t.RefreshProgress||0)+'" data-status="'+t.RefreshStatus+'"></div>',r+="</div>",r+="</div>"),!d&&t.showNameWithIcon&&(r+='<h3 class="cardImageContainer addLibrary" style="position:absolute;top:0;left:0;right:0;bottom:0;cursor:pointer;flex-direction:column;">',r+='<span class="cardImageIcon material-icons '+(t.icon||l.ZP.getLibraryIcon(t.CollectionType))+'"></span>',t.showNameWithIcon&&(r+='<div style="margin:1em 0;position:width:100%;">',r+=t.Name,r+="</div>"),r+="</h3>"),r+="</div>",r+="</div>",r+='<div class="cardFooter visualCardBox-cardFooter">',!1!==t.showMenu&&(r+='<div style="text-align:right; float:right;padding-top:5px;">',r+='<button type="button" is="paper-icon-button-light" class="btnCardMenu autoSize"><span class="material-icons more_vert"></span></button>',r+="</div>"),r+="<div class='cardText'>",t.showNameWithIcon?r+="&nbsp;":r+=t.Name,r+="</div>";var c=g().filter((function(e){return e.value==t.CollectionType}))[0];return c=c?c.name:i.ZP.translate("Other"),r+="<div class='cardText cardText-secondary'>",!1===t.showType?r+="&nbsp;":r+=c,r+="</div>",!1===t.showLocations?(r+="<div class='cardText cardText-secondary'>",r+="&nbsp;",r+="</div>"):t.Locations.length&&1===t.Locations.length?(r+="<div class='cardText cardText-secondary'>",r+=t.Locations[0],r+="</div>"):(r+="<div class='cardText cardText-secondary'>",r+=i.ZP.translate("NumLocationsValue",t.Locations.length),r+="</div>"),r+="</div>",(r+="</div>")+"</div>"}function p(){return[{href:"#!/library.html",name:i.ZP.translate("HeaderLibraries")},{href:"#!/librarydisplay.html",name:i.ZP.translate("Display")},{href:"#!/metadataimages.html",name:i.ZP.translate("Metadata")},{href:"#!/metadatanfo.html",name:i.ZP.translate("TabNfoSettings")}]}window.WizardLibraryPage={next:function(){d.ZP.navigate("wizardsettings.html")}},(0,d.RW)("pageshow","mediaLibraryPage",(function(){h(this)})),(0,d.Xz)("pageshow","mediaLibraryPage",(function(){n.Z.setTabs("librarysetup",0,p),(0,r.Z)({mode:"on",progressElem:this.querySelector(".refreshProgress"),taskKey:"RefreshLibrary",button:this.querySelector(".btnRefresh")})})),(0,d.Xz)("pagebeforehide","mediaLibraryPage",(function(){(0,r.Z)({mode:"off",progressElem:this.querySelector(".refreshProgress"),taskKey:"RefreshLibrary",button:this.querySelector(".btnRefresh")})}))},51671:function(e,t,a){"use strict";a.r(t),a(43512),a(63238),a(55849);var r=a(1892),s=a.n(r),n=a(20845),i=(s()(n.Z,{insert:"head",singleton:!1}),n.Z.locals,a(67752),a(75059)),o=a.n(i),l=Object.create(HTMLDivElement.prototype);l.createdCallback=function(){this.classList.add("progressring");var e=this;if(e.innerHTML=o(),window.MutationObserver){var t=new MutationObserver((function(t){t.forEach((function(t){e.setProgress(parseFloat(e.getAttribute("data-progress")||"0"))}))}));t.observe(e,{attributes:!0,childList:!1,characterData:!1}),e.observer=t}e.setProgress(parseFloat(e.getAttribute("data-progress")||"0"))},l.setProgress=function(e){var t;(e=Math.floor(e))<25?(t=e/100*360-90,this.querySelector(".animate-0-25-b").style.transform="rotate("+t+"deg)",this.querySelector(".animate-25-50-b").style.transform="rotate(-90deg)",this.querySelector(".animate-50-75-b").style.transform="rotate(-90deg)",this.querySelector(".animate-75-100-b").style.transform="rotate(-90deg)"):e>=25&&e<50?(t=(e-25)/100*360-90,this.querySelector(".animate-0-25-b").style.transform="none",this.querySelector(".animate-25-50-b").style.transform="rotate("+t+"deg)",this.querySelector(".animate-50-75-b").style.transform="rotate(-90deg)",this.querySelector(".animate-75-100-b").style.transform="rotate(-90deg)"):e>=50&&e<75?(t=(e-50)/100*360-90,this.querySelector(".animate-0-25-b").style.transform="none",this.querySelector(".animate-25-50-b").style.transform="none",this.querySelector(".animate-50-75-b").style.transform="rotate("+t+"deg)",this.querySelector(".animate-75-100-b").style.transform="rotate(-90deg)"):e>=75&&e<=100&&(t=(e-75)/100*360-90,this.querySelector(".animate-0-25-b").style.transform="none",this.querySelector(".animate-25-50-b").style.transform="none",this.querySelector(".animate-50-75-b").style.transform="none",this.querySelector(".animate-75-100-b").style.transform="rotate("+t+"deg)"),this.querySelector(".progressring-text").innerHTML=e+"%"},l.attachedCallback=function(){},l.detachedCallback=function(){var e=this.observer;e&&(e.disconnect(),this.observer=null)},document.registerElement("emby-progressring",{prototype:l,extends:"div"});var d=l,c=a(83094),m=a(1197),u=a(47005);function h(e,t,a){var r=this;if(r.itemId||(r.itemId=c.ZP.parentWithAttribute(r,"data-id").getAttribute("data-id")),a.ItemId===r.itemId){var s=parseFloat(a.Progress);s&&s<100?this.classList.remove("hide"):this.classList.add("hide"),this.setAttribute("data-progress",s)}}var f=Object.create(d);f.createdCallback=function(){var e,t;d.createdCallback&&d.createdCallback.call(this),e="RefreshProgress",t=h.bind(this),u.Events.on(m.default,e,t),this[e]=t},f.attachedCallback=function(){d.attachedCallback&&d.attachedCallback.call(this)},f.detachedCallback=function(){var e,t;d.detachedCallback&&d.detachedCallback.call(this),(t=this[e="RefreshProgress"])&&(u.Events.off(m.default,e,t),this[e]=null),this.itemId=null},document.registerElement("emby-itemrefreshindicator",{prototype:f,extends:"div"})},30504:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}}),a(98010),a(63238),a(76056);var r=a(47005),s=a(1197),n=a(53754),i=(a(78066),a(53913));function o(e){function t(){i.Z.getApiClient(u).getScheduledTasks({IsEnabled:!0}).then(a)}function a(t){var a=t.filter((function(t){return t.Key==e.taskKey}))[0];if(e.panel&&(a?e.panel.classList.remove("hide"):e.panel.classList.add("hide")),a){"Idle"==a.State?m.removeAttribute("disabled"):m.setAttribute("disabled","disabled"),m.setAttribute("data-taskid",a.Id);var r=(a.CurrentProgressPercentage||0).toFixed(1);if(e.progressElem&&(e.progressElem.value=r,"Running"==a.State?e.progressElem.classList.remove("hide"):e.progressElem.classList.add("hide")),e.lastResultElem){var s=a.LastExecutionResult?a.LastExecutionResult.Status:"";"Failed"==s?e.lastResultElem.html('<span style="color:#FF0000;">('+n.ZP.translate("LabelFailed")+")</span>"):"Cancelled"==s?e.lastResultElem.html('<span style="color:#0026FF;">('+n.ZP.translate("LabelCancelled")+")</span>"):"Aborted"==s?e.lastResultElem.html('<span style="color:#FF0000;">'+n.ZP.translate("LabelAbortedByServerShutdown")+"</span>"):e.lastResultElem.html(s)}}}function o(){var e;e=this.getAttribute("data-taskid"),i.Z.getApiClient(u).startScheduledTask(e).then(t)}function l(e,t,r){t.serverId()===u&&a(r)}var d,c,m=e.button,u=ApiClient.serverId();e.panel&&e.panel.classList.add("hide"),"off"==e.mode?(m.removeEventListener("click",o),r.Events.off(s.default,"ScheduledTasksInfo",l),i.Z.getApiClient(u).sendMessage("ScheduledTasksInfoStop"),d&&clearInterval(d)):(m.addEventListener("click",o),t(),c=i.Z.getApiClient(u),d&&clearInterval(d),c.sendMessage("ScheduledTasksInfoStart","1000,1000"),d=setInterval((function(){i.Z.getApiClient(u).isMessageChannelOpen()||t()}),5e3),r.Events.on(s.default,"ScheduledTasksInfo",l))}},20845:function(e,t,a){"use strict";var r=a(93476),s=a.n(r)()((function(e){return e[1]}));s.push([e.id,".progressring{position:relative;width:2.6em;height:2.6em;float:left;-webkit-user-select:none;-ms-user-select:none;user-select:none;box-sizing:border-box}.progressring-bg{width:100%;height:100%;border-radius:50%;border:.25em solid #000;box-sizing:border-box;background:rgba(0,0,0,.9);display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center}.progressring-text{text-align:center;color:#ddd;font-size:90%}.spiner-holder-one{width:51%;height:51%}.spiner-holder-one,.spiner-holder-two{position:absolute;top:0;left:0;overflow:hidden;background:transparent;box-sizing:border-box}.spiner-holder-two{width:100%;height:100%}.progressring-spiner{width:200%;height:200%;border-radius:50%;border-width:.25em;border-style:solid;box-sizing:border-box}.animate-0-25-a{-webkit-transform:rotate(90deg);transform:rotate(90deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}.animate-0-25-a,.animate-0-25-b{transition:-webkit-transform .18s ease-out;transition:transform .18s ease-out;transition:transform .18s ease-out,-webkit-transform .18s ease-out}.animate-0-25-b{-webkit-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}.animate-25-50-a{-webkit-transform:rotate(180deg);transform:rotate(180deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}.animate-25-50-a,.animate-25-50-b{transition:-webkit-transform .18s ease-out;transition:transform .18s ease-out;transition:transform .18s ease-out,-webkit-transform .18s ease-out}.animate-25-50-b{-webkit-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}.animate-50-75-a{-webkit-transform:rotate(270deg);transform:rotate(270deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}.animate-50-75-a,.animate-50-75-b{transition:-webkit-transform .18s ease-out;transition:transform .18s ease-out;transition:transform .18s ease-out,-webkit-transform .18s ease-out}.animate-50-75-b{-webkit-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}.animate-75-100-a{-webkit-transform:rotate(0deg);transform:rotate(0deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}.animate-75-100-a,.animate-75-100-b{transition:-webkit-transform .18s ease-out;transition:transform .18s ease-out;transition:transform .18s ease-out,-webkit-transform .18s ease-out}.animate-75-100-b{-webkit-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}",""]),t.Z=s},75059:function(e){e.exports='<div class="progressring-bg"> <div class="progressring-text"></div> </div> <div class="spiner-holder-one animate-0-25-a"> <div class="spiner-holder-two animate-0-25-b"> <div class="progressring-spiner"></div> </div> </div> <div class="spiner-holder-one animate-25-50-a"> <div class="spiner-holder-two animate-25-50-b"> <div class="progressring-spiner"></div> </div> </div> <div class="spiner-holder-one animate-50-75-a"> <div class="spiner-holder-two animate-50-75-b"> <div class="progressring-spiner"></div> </div> </div> <div class="spiner-holder-one animate-75-100-a"> <div class="spiner-holder-two animate-75-100-b"> <div class="progressring-spiner"></div> </div> </div> '}}]);