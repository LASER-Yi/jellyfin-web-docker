"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[40815],{31293:function(e,t,o){function i(e,t){var o,i=this;function n(){if((!i.lineHeight||i.lineHeight<=0)&&(e.rows=1,o=function(e){for(var t=window.getComputedStyle(e,null),o=0,i=0,n=["paddingTop","paddingBottom"];i<n.length;i++)o+=parseInt(t[n[i]],10);return o}(e),i.rows=e.rows||1,i.lineHeight=e.scrollHeight/i.rows-o/i.rows,i.maxAllowedHeight=i.lineHeight*t-o),i.lineHeight<=0)return e.style.overflowY="scroll",e.style.height="auto",void(e.rows=3);var n=0;e.scrollHeight-o>i.maxAllowedHeight?(e.style.overflowY="scroll",n=i.maxAllowedHeight):(e.style.overflowY="hidden",e.style.height="auto",n=e.scrollHeight),e.style.height=n+"px"}void 0===t&&(t=999),e.addEventListener("input",n),e.addEventListener("focus",n),e.addEventListener("valueset",n),n()}o(36947),o(36457),o(96054),o(69177),o(98959);var n=Object.create(HTMLTextAreaElement.prototype),a=0;if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var s=Object.getOwnPropertyDescriptor(HTMLTextAreaElement.prototype,"value");if(null!=s&&s.configurable){var l=s.set;s.set=function(e){l.call(this,e),this.dispatchEvent(new CustomEvent("valueset",{bubbles:!1,cancelable:!1}))},Object.defineProperty(HTMLTextAreaElement.prototype,"value",s)}}n.createdCallback=function(){this.id||(this.id="embytextarea"+a,a++)},n.attachedCallback=function(){if(!this.classList.contains("emby-textarea")){this.rows=1,this.classList.add("emby-textarea");var e=this.parentNode,t=this.ownerDocument.createElement("label");t.innerText=this.getAttribute("label")||"",t.classList.add("textareaLabel"),t.htmlFor=this.id,e.insertBefore(t,this),this.addEventListener("focus",(function(){t.classList.add("textareaLabelFocused"),t.classList.remove("textareaLabelUnfocused")})),this.addEventListener("blur",(function(){t.classList.remove("textareaLabelFocused"),t.classList.add("textareaLabelUnfocused")})),this.label=function(e){t.innerText=e},new i(this)}},document.registerElement("emby-textarea",{prototype:n,extends:"textarea"})},40815:function(e,t,o){o.r(t),o.d(t,{default:function(){return E}}),o(29305),o(32733),o(84701),o(81678),o(24776),o(69703),o(44962),o(86584),o(4754),o(94),o(36947),o(78557),o(83994),o(82367);var i=o(22696),n=o.n(i),a=o(97339),s=o(34789),l=o(46782),r=o(38829),c=o(22622),p=o(9164),u=o(98320),d=o(5898),v=o(67430),h=o(8566),b=o(39641),m=o(38783),y=o(44797),f=(o(63001),o(77157),o(10353),o(31293),o(71866));function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function S(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,g(i.key),i)}}function g(e){var t=function(e){if("object"!=k(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,"string");if("object"!=k(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==k(t)?t:t+""}function x(e,t){b.A.getThemes().then((function(o){e.innerHTML=o.map((function(e){return'<option value="'.concat(e.id,'">').concat(n()(e.name),"</option>")})).join("");var i=o.find((function(e){return e.default}));e.value=t||i.id}))}function C(e){var t=this,o=v.tF.getApiClient(t.options.serverId),i=t.options.userId,n=t.options.userSettings;return n.setUserInfo(i,o).then((function(){var e=t.options.enableSaveConfirmation;!function(e,t,o,i,n,s){h.Ay.show(),n.getUser(o).then((function(o){(function(e,t,o,i){return t.Configuration.DisplayMissingEpisodes=e.querySelector(".chkDisplayMissingEpisodes").checked,c.g.supports(a.Y.DisplayLanguage)&&o.language(e.querySelector("#selectLanguage").value),o.dateTimeLocale(e.querySelector(".selectDateTimeLocale").value),o.enableThemeSongs(e.querySelector("#chkThemeSong").checked),o.enableThemeVideos(e.querySelector("#chkThemeVideo").checked),o.theme(e.querySelector("#selectTheme").value),o.dashboardTheme(e.querySelector("#selectDashboardTheme").value),o.screensaver(e.querySelector(".selectScreensaver").value),o.backdropScreensaverInterval(e.querySelector("#txtBackdropScreensaverInterval").value),o.screensaverTime(e.querySelector("#txtScreensaverTime").value),o.libraryPageSize(e.querySelector("#txtLibraryPageSize").value),o.maxDaysForNextUp(e.querySelector("#txtMaxDaysForNextUp").value),o.enableRewatchingInNextUp(e.querySelector("#chkRewatchingNextUp").checked),o.useEpisodeImagesInNextUpAndResume(e.querySelector("#chkUseEpisodeImagesInNextUp").checked),o.enableFastFadein(e.querySelector("#chkFadein").checked),o.enableBlurhash(e.querySelector("#chkBlurhash").checked),o.enableBackdrops(e.querySelector("#chkBackdrops").checked),o.detailsBanner(e.querySelector("#chkDetailsBanner").checked),o.disableCustomCss(e.querySelector("#chkDisableCustomCss").checked),o.customCss(e.querySelector("#txtLocalCustomCss").value),t.Id===i.getCurrentUserId()&&b.A.setTheme(o.theme()),l.A.setLayout(e.querySelector(".selectLayout").value),i.updateUserConfiguration(t.Id,t.Configuration)})(t,o,i,n).then((function(){h.Ay.hide(),s&&(0,f.A)(d.Ay.translate("SettingsSaved")),y.A.trigger(e,"saved")}),(function(){h.Ay.hide()}))}))}(t,t.options.element,i,n,o,e)})),e&&e.preventDefault(),!1}var L=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,function(e,t){e.element.innerHTML=d.Ay.translateHtml('<form style="margin:0 auto"> <h2 class="sectionTitle"> ${Localization} </h2> <div class="selectContainer languageSection hide"> <select id="selectLanguage" is="emby-select" label="${LabelDisplayLanguage}"> <option value="">${Auto}</option> <option value="af">Afrikaans</option> <option value="ar">العربية</option> <option value="be-BY">Беларуская</option> <option value="bg-BG">Български</option> <option value="bn_BD">বাংলা (বাংলাদেশ)</option> <option value="ca">Català</option> <option value="cs">Čeština</option> <option value="cy">Cymraeg</option> <option value="da">Dansk</option> <option value="de">Deutsch</option> <option value="el">Ελληνικά</option> <option value="en-GB">English (United Kingdom)</option> <option value="en-US">English</option> <option value="eo">Esperanto</option> <option value="es">Español</option> <option value="es_419">Español americano</option> <option value="es-AR">Español (Argentina)</option> <option value="es_DO">Español (Dominicana)</option> <option value="es-MX">Español (México)</option> <option value="et">Eesti</option> <option value="eu">Euskara</option> <option value="fa">فارسی</option> <option value="fi">Suomi</option> <option value="fil">Filipino</option> <option value="fr">Français</option> <option value="fr-CA">Français (Canada)</option> <option value="gl">Galego</option> <option value="gsw">Schwiizerdütsch</option> <option value="he">עִבְרִית</option> <option value="hi-IN">हिन्दी</option> <option value="hr">Hrvatski </option> <option value="hu">Magyar</option> <option value="id">Bahasa Indonesia</option> <option value="is-IS">Íslenska</option> <option value="it">Italiano</option> <option value="ja">日本語</option> <option value="kk">Qazaqşa</option> <option value="ko">한국어</option> <option value="lt-LT">Lietuvių</option> <option value="lv">Latviešu</option> <option value="mk">Македонски</option> <option value="ml">മലയാളം</option> <option value="mr">मराठी</option> <option value="ms">Bahasa Melayu</option> <option value="nb">Norsk bokmål</option> <option value="ne">नेपाली</option> <option value="nl">Nederlands</option> <option value="nn">Norsk nynorsk</option> <option value="pa">ਪੰਜਾਬੀ</option> <option value="pl">Polski</option> <option value="pr">Pirate</option> <option value="pt">Português</option> <option value="pt-BR">Português (Brasil)</option> <option value="pt-PT">Português (Portugal)</option> <option value="ro">Românește</option> <option value="ru">Русский</option> <option value="sk">Slovenčina</option> <option value="sl-SI">Slovenščina</option> <option value="sq">Shqip</option> <option value="sr">Српски</option> <option value="sv">Svenska</option> <option value="ta">தமிழ்</option> <option value="te">తెలుగు</option> <option value="th">ภาษาไทย</option> <option value="tr">Türkçe</option> <option value="uk">Українська</option> <option value="ur_PK">اُردُو</option> <option value="vi">Tiếng Việt</option> <option value="zh-CN">汉语 (简化字)</option> <option value="zh-TW">漢語 (繁体字)</option> <option value="zh-HK">廣東話 (香港)</option> </select> <div class="fieldDescription"> <div>${LabelDisplayLanguageHelp}</div> <div class="learnHowToContributeContainer hide" style="margin-top:.25em"> <a is="emby-linkbutton" rel="noopener noreferrer" class="button-link" href="https://github.com/jellyfin/jellyfin" target="_blank">${LearnHowYouCanContribute}</a> </div> </div> </div> <div class="selectContainer fldDateTimeLocale hide"> <select is="emby-select" class="selectDateTimeLocale" label="${LabelDateTimeLocale}"> <option value="">${Auto}</option> <option value="af">Afrikaans</option> <option value="ar">العربية</option> <option value="be-BY">Беларуская</option> <option value="bg-BG">Български</option> <option value="bn_BD">বাংলা (বাংলাদেশ)</option> <option value="ca">Català</option> <option value="cs">Čeština</option> <option value="cy">Cymraeg</option> <option value="da">Dansk</option> <option value="de">Deutsch</option> <option value="el">Ελληνικά</option> <option value="en-GB">English (United Kingdom)</option> <option value="en-US">English</option> <option value="eo">Esperanto</option> <option value="es">Español</option> <option value="es_419">Español americano</option> <option value="es-AR">Español (Argentina)</option> <option value="es_DO">Español (Dominicana)</option> <option value="es-MX">Español (México)</option> <option value="et">Eesti</option> <option value="fa">فارسی</option> <option value="fi">Suomi</option> <option value="fil">Filipino</option> <option value="fr">Français</option> <option value="fr-CA">Français (Canada)</option> <option value="gl">Galego</option> <option value="gsw">Schwiizerdütsch</option> <option value="he">עִבְרִית</option> <option value="hi-IN">हिन्दी</option> <option value="hr">Hrvatski </option> <option value="hu">Magyar</option> <option value="id">Bahasa Indonesia</option> <option value="is-IS">Íslenska</option> <option value="it">Italiano</option> <option value="ja">日本語</option> <option value="kk">Qazaqşa</option> <option value="ko">한국어</option> <option value="lt-LT">Lietuvių</option> <option value="lv">Latviešu</option> <option value="mk">Македонски</option> <option value="ml">മലയാളം</option> <option value="mr">मराठी</option> <option value="ms">Bahasa Melayu</option> <option value="nb">Norsk bokmål</option> <option value="ne">नेपाली</option> <option value="nl">Nederlands</option> <option value="nn">Norsk nynorsk</option> <option value="pa">ਪੰਜਾਬੀ</option> <option value="pl">Polski</option> <option value="pr">Pirate</option> <option value="pt">Português</option> <option value="pt-BR">Português (Brasil)</option> <option value="pt-PT">Português (Portugal)</option> <option value="ro">Românește</option> <option value="ru">Русский</option> <option value="sk">Slovenčina</option> <option value="sl-SI">Slovenščina</option> <option value="sq">Shqip</option> <option value="sr">Српски</option> <option value="sv">Svenska</option> <option value="ta">தமிழ்</option> <option value="te">తెలుగు</option> <option value="th">ภาษาไทย</option> <option value="tr">Türkçe</option> <option value="uk">Українська</option> <option value="ur_PK">اُردُو</option> <option value="vi">Tiếng Việt</option> <option value="zh-CN">汉语 (简化字)</option> <option value="zh-TW">漢語 (繁体字)</option> <option value="zh-HK">廣東話 (香港)</option> </select> </div> <h2 class="sectionTitle"> ${Display} </h2> <div class="selectContainer fldDisplayMode hide"> <select is="emby-select" class="selectLayout" label="${LabelDisplayMode}"> <option value="">${Auto}</option> <option value="desktop">${Desktop}</option> <option value="mobile">${Mobile}</option> <option value="tv">${TV}</option> <option value="experimental">${Experimental}</option> </select> <div class="fieldDescription">${DisplayModeHelp}</div> <div class="fieldDescription">${LabelPleaseRestart}</div> </div> <div class="selectContainer"> <select id="selectTheme" is="emby-select" label="${LabelTheme}"></select> </div> <div class="checkboxContainer checkboxContainer-withDescription"> <label> <input type="checkbox" is="emby-checkbox" id="chkDisableCustomCss"/> <span>${DisableCustomCss}</span> </label> <div class="fieldDescription checkboxFieldDescription">${LabelDisableCustomCss}</div> </div> <div class="inputContainer customCssContainer"> <textarea is="emby-textarea" id="txtLocalCustomCss" label="${LabelCustomCss}" class="textarea-mono"></textarea> <div class="fieldDescription">${LabelLocalCustomCss}</div> </div> <div class="selectContainer selectDashboardThemeContainer hide"> <select id="selectDashboardTheme" is="emby-select" label="${LabelDashboardTheme}"></select> </div> <div class="selectContainer hide selectScreensaverContainer"> <select is="emby-select" class="selectScreensaver" label="${LabelScreensaver}"></select> </div> <div class="inputContainer hide txtScreensaverTimeContainer inputContainer-withDescription"> <input is="emby-input" type="number" id="txtScreensaverTime" pattern="[0-9]*" required="required" min="5" max="86400" step="1" label="${LabelScreensaverTime}"/> <div class="fieldDescription">${LabelScreensaverTimeHelp}</div> </div> <div class="inputContainer hide txtBackdropScreensaverIntervalContainer inputContainer-withDescription"> <input is="emby-input" type="number" id="txtBackdropScreensaverInterval" pattern="[0-9]*" required="required" min="1" max="3600" step="1" label="${LabelBackdropScreensaverInterval}"/> <div class="fieldDescription">${LabelBackdropScreensaverIntervalHelp}</div> </div> <div class="checkboxContainer checkboxContainer-withDescription"> <label> <input type="checkbox" is="emby-checkbox" id="chkFadein"/> <span>${EnableFasterAnimations}</span> </label> <div class="fieldDescription checkboxFieldDescription">${EnableFasterAnimationsHelp}</div> </div> <div class="checkboxContainer checkboxContainer-withDescription"> <label> <input type="checkbox" is="emby-checkbox" id="chkBlurhash"/> <span>${EnableBlurHash}</span> </label> <div class="fieldDescription checkboxFieldDescription">${EnableBlurHashHelp}</div> </div> <h2 class="sectionTitle"> ${HeaderLibraries} </h2> <div class="inputContainer inputContainer-withDescription"> <input is="emby-input" type="number" id="txtLibraryPageSize" pattern="[0-9]*" required="required" min="0" max="1000" step="1" label="${LabelLibraryPageSize}"/> <div class="fieldDescription">${LabelLibraryPageSizeHelp}</div> </div> <div class="checkboxContainer checkboxContainer-withDescription fldBackdrops"> <label> <input type="checkbox" is="emby-checkbox" id="chkBackdrops"/> <span>${Backdrops}</span> </label> <div class="fieldDescription checkboxFieldDescription">${EnableBackdropsHelp}</div> </div> <div class="checkboxContainer checkboxContainer-withDescription fldThemeSong"> <label> <input type="checkbox" is="emby-checkbox" id="chkThemeSong"/> <span>${ThemeSongs}</span> </label> <div class="fieldDescription checkboxFieldDescription">${EnableThemeSongsHelp}</div> </div> <div class="checkboxContainer checkboxContainer-withDescription fldThemeVideo"> <label> <input type="checkbox" is="emby-checkbox" id="chkThemeVideo"/> <span>${ThemeVideos}</span> </label> <div class="fieldDescription checkboxFieldDescription">${EnableThemeVideosHelp}</div> </div> <div class="checkboxContainer checkboxContainer-withDescription fldDisplayMissingEpisodes hide"> <label> <input type="checkbox" is="emby-checkbox" class="chkDisplayMissingEpisodes"/> <span>${DisplayMissingEpisodesWithinSeasons}</span> </label> <div class="fieldDescription checkboxFieldDescription">${DisplayMissingEpisodesWithinSeasonsHelp}</div> </div> <h2 class="sectionTitle"> ${NextUp} </h2> <div class="inputContainer inputContainer-withDescription"> <input is="emby-input" type="number" id="txtMaxDaysForNextUp" pattern="[0-9]*" required="required" min="0" max="1000" step="1" label="${LabelMaxDaysForNextUp}"/> <div class="fieldDescription">${LabelMaxDaysForNextUpHelp}</div> </div> <div class="checkboxContainer checkboxContainer-withDescription"> <label> <input type="checkbox" is="emby-checkbox" id="chkRewatchingNextUp"/> <span>${EnableRewatchingNextUp}</span> </label> <div class="fieldDescription checkboxFieldDescription">${EnableRewatchingNextUpHelp}</div> </div> <div class="checkboxContainer checkboxContainer-withDescription fldUseEpisodeImagesInNextUp"> <label> <input type="checkbox" is="emby-checkbox" id="chkUseEpisodeImagesInNextUp"/> <span>${UseEpisodeImagesInNextUp}</span> </label> <div class="fieldDescription checkboxFieldDescription">${UseEpisodeImagesInNextUpHelp}</div> </div> <h2 class="sectionTitle"> ${ItemDetails} </h2> <div class="checkboxContainer checkboxContainer-withDescription"> <label> <input type="checkbox" is="emby-checkbox" id="chkDetailsBanner"/> <span>${EnableDetailsBanner}</span> </label> <div class="fieldDescription checkboxFieldDescription">${EnableDetailsBannerHelp}</div> </div> <button is="emby-button" type="submit" class="raised button-submit block btnSave hide"> <span>${Save}</span> </button> </form> ',"core"),e.element.querySelector("form").addEventListener("submit",C.bind(t)),e.enableSaveButton&&e.element.querySelector(".btnSave").classList.remove("hide"),t.loadData(e.autoFocus)}(t,this)},t=[{key:"loadData",value:function(e){var t=this,o=t.options.element;h.Ay.show();var i=t.options.userId,b=v.tF.getApiClient(t.options.serverId),y=t.options.userSettings;return b.getUser(i).then((function(v){return y.setUserInfo(i,b).then((function(){t.dataLoaded=!0,function(e,t,o){c.g.supports(a.Y.DisplayLanguage)?e.querySelector(".languageSection").classList.remove("hide"):e.querySelector(".languageSection").classList.add("hide"),c.g.supports(a.Y.DisplayMode)?e.querySelector(".fldDisplayMode").classList.remove("hide"):e.querySelector(".fldDisplayMode").classList.add("hide"),c.g.supports(a.Y.ExternalLinks)?e.querySelector(".learnHowToContributeContainer").classList.remove("hide"):e.querySelector(".learnHowToContributeContainer").classList.add("hide"),e.querySelector(".selectDashboardThemeContainer").classList.toggle("hide",!t.Policy.IsAdministrator),c.g.supports(a.Y.Screensaver)?(e.querySelector(".selectScreensaverContainer").classList.remove("hide"),e.querySelector(".txtBackdropScreensaverIntervalContainer").classList.remove("hide"),e.querySelector(".txtScreensaverTimeContainer").classList.remove("hide")):(e.querySelector(".selectScreensaverContainer").classList.add("hide"),e.querySelector(".txtBackdropScreensaverIntervalContainer").classList.add("hide"),e.querySelector(".txtScreensaverTimeContainer").classList.add("hide")),u.Ay.supportsLocalization()?e.querySelector(".fldDateTimeLocale").classList.remove("hide"):e.querySelector(".fldDateTimeLocale").classList.add("hide"),x(e.querySelector("#selectTheme"),o.theme()),x(e.querySelector("#selectDashboardTheme"),o.dashboardTheme()),function(e,t){var o=e.querySelector(".selectScreensaver"),i=r.X.ofType(m.Q.Screensaver).map((function(e){return{name:d.Ay.translate(e.name),value:e.id}}));i.unshift({name:d.Ay.translate("None"),value:"none"}),o.innerHTML=i.map((function(e){return'<option value="'.concat(e.value,'">').concat(n()(e.name),"</option>")})).join(""),o.value=t.screensaver(),o.value||(o.value="none")}(e,o),e.querySelector("#txtBackdropScreensaverInterval").value=o.backdropScreensaverInterval(),e.querySelector("#txtScreensaverTime").value=o.screensaverTime(),e.querySelector(".chkDisplayMissingEpisodes").checked=t.Configuration.DisplayMissingEpisodes||!1,e.querySelector("#chkThemeSong").checked=o.enableThemeSongs(),e.querySelector("#chkThemeVideo").checked=o.enableThemeVideos(),e.querySelector("#chkFadein").checked=o.enableFastFadein(),e.querySelector("#chkBlurhash").checked=o.enableBlurhash(),e.querySelector("#chkBackdrops").checked=o.enableBackdrops(),e.querySelector("#chkDetailsBanner").checked=o.detailsBanner(),e.querySelector("#chkDisableCustomCss").checked=o.disableCustomCss(),e.querySelector("#txtLocalCustomCss").value=o.customCss(),e.querySelector("#selectLanguage").value=o.language()||"",e.querySelector(".selectDateTimeLocale").value=o.dateTimeLocale()||"",e.querySelector("#txtLibraryPageSize").value=o.libraryPageSize(),e.querySelector("#txtMaxDaysForNextUp").value=o.maxDaysForNextUp(),e.querySelector("#chkRewatchingNextUp").checked=o.enableRewatchingInNextUp(),e.querySelector("#chkUseEpisodeImagesInNextUp").checked=o.useEpisodeImagesInNextUpAndResume(),e.querySelector(".selectLayout").value=l.A.getSavedLayout()||"",function(e){s.A.tizen||s.A.web0s?e.querySelector(".fldDisplayMissingEpisodes").classList.add("hide"):e.querySelector(".fldDisplayMissingEpisodes").classList.remove("hide")}(e),h.Ay.hide()}(o,v,y),e&&p.A.autoFocus(o)}))}))}},{key:"submit",value:function(){C.call(this)}},{key:"destroy",value:function(){this.options=null}}],t&&S(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),D=L,T=o(82885),w=o(84069),A=T.UserSettings;function E(e,t){var o,i=t.userId||ApiClient.getCurrentUserId(),n=i===ApiClient.getCurrentUserId()?T:new A;e.addEventListener("viewshow",(function(){o?o.loadData():o=new D({serverId:ApiClient.serverId(),userId:i,element:e.querySelector(".settingsContainer"),userSettings:n,enableSaveButton:!0,enableSaveConfirmation:!0,autoFocus:w.default.isEnabled()})})),e.addEventListener("viewdestroy",(function(){o&&(o.destroy(),o=null)}))}},62882:function(e,t,o){o.r(t),o.d(t,{show:function(){return u}});var i=o(22696),n=o.n(i),a=o(79754),s=o(46782),l=o(5898),r=o(36300),c=(o(10353),function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],i=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")});function p(e,t,i){Promise.resolve().then(o.bind(o,10838)).then((function(o){var n=i?"on":"off";o.centerFocus[n](e,t)})).catch((function(e){console.warn("Error in centerFocus",e)}))}function u(e){var t,o,i,u={removeOnClose:!0,enableHistory:e.enableHistory,scrollY:!1};s.A.tv?(u.size="fullscreen",i=!0,u.autoFocus=!0):(u.modal=!1,u.entryAnimation=e.entryAnimation,u.exitAnimation=e.exitAnimation,u.entryAnimationDuration=e.entryAnimationDuration||140,u.exitAnimationDuration=e.exitAnimationDuration||100,u.autoFocus=!1);var d=a.default.createDialog(u);i?d.classList.add("actionsheet-fullscreen"):d.classList.add("actionsheet-not-fullscreen"),d.classList.add("actionSheet"),e.dialogClass&&d.classList.add(e.dialogClass);var v="",h=s.A.tv?"scrollY smoothScrollY hiddenScrollY":"scrollY",b="";e.items.length>20&&(b+="min-width:"+(r.Ay.getWindowSize().innerWidth>=300?240:200)+"px;");var m,y=!1,f=[];try{for(var k=c(e.items),S=k.next();!S.done;S=k.next())(m=(D=S.value).icon||(D.selected?"check":null))&&(y=!0),f.push(m||"")}catch(e){t={error:e}}finally{try{S&&!S.done&&(o=k.return)&&o.call(k)}finally{if(t)throw t.error}}s.A.tv&&(v+='<button is="paper-icon-button-light" class="btnCloseActionSheet hide-mouse-idle-tv" tabindex="-1" title="'.concat(l.Ay.translate("ButtonBack"),'">\n                     <span class="material-icons arrow_back" aria-hidden="true"></span>\n                 </button>'));var g=e.title&&!y;g||s.A.tv?v+='<div class="actionSheetContent actionSheetContent-centered">':v+='<div class="actionSheetContent">',e.title&&(v+='<h1 class="actionSheetTitle">'+n()(e.title)+"</h1>"),e.text&&(v+='<p class="actionSheetText">'+n()(e.text)+"</p>");var x="actionSheetScroller";s.A.tv&&(x+=" actionSheetScroller-tv focuscontainer-x focuscontainer-y"),v+='<div class="'+x+" "+h+'" style="'+b+'">';var C="listItem listItem-button actionSheetMenuItem";(e.border||e.shaded)&&(C+=" listItem-border"),e.menuItemClass&&(C+=" "+e.menuItemClass),s.A.tv&&(C+=" listItem-focusscale"),s.A.mobile&&(C+=" actionsheet-xlargeFont");for(var L=0;L<e.items.length;L++){var D;(D=e.items[L]).divider?v+='<div class="actionsheetDivider"></div>':(v+="<button"+(D.selected&&s.A.tv?" autoFocus":"")+' is="emby-button" type="button" class="'+C+'" data-id="'+(null==D.id||""===D.id?D.value:D.id)+'">',(m=f[L])?v+='<span class="actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons '.concat(m,'" aria-hidden="true"></span>'):y&&!g&&(v+='<span class="actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons check" aria-hidden="true" style="visibility:hidden;"></span>'),v+='<div class="listItemBody actionsheetListItemBody">',v+='<div class="listItemBodyText actionSheetItemText">',v+=n()(D.name||D.textContent||D.innerText),v+="</div>",D.secondaryText&&(v+='<div class="listItemBodyText secondary">'.concat(n()(D.secondaryText),"</div>")),v+="</div>",D.asideText&&(v+='<div class="listItemAside actionSheetItemAsideText">'.concat(n()(D.asideText),"</div>")),v+="</button>")}if(e.showCancel&&(v+='<div class="buttons">',v+='<button is="emby-button" type="button" class="btnCloseActionSheet">'.concat(l.Ay.translate("ButtonCancel"),"</button>"),v+="</div>"),v+="</div>",d.innerHTML=v,s.A.tv){var T=d.querySelector(".actionSheetScroller");T&&p(T,!1,!0)}var w=d.querySelector(".btnCloseActionSheet");w&&w.addEventListener("click",(function(){a.default.close(d)}));var A,E=null;return e.timeout&&(A=setTimeout((function(){a.default.close(d)}),e.timeout)),new Promise((function(t,o){var i=!1;d.addEventListener("click",(function(o){var n=r.Ay.parentWithClass(o.target,"actionSheetMenuItem");n&&(E=n.getAttribute("data-id"),e.resolveOnClick&&(Array.isArray(e.resolveOnClick)?-1!==e.resolveOnClick.indexOf(E)&&(t(E),i=!0):(t(E),i=!0)),a.default.close(d))})),d.addEventListener("close",(function(){if(s.A.tv){var n=d.querySelector(".actionSheetScroller");n&&p(n,!1,!1)}A&&(clearTimeout(A),A=void 0),i||(null!=E?(e.callback&&e.callback(E),t(E)):o(new Error("ActionSheet closed without resolving")))})),a.default.open(d).catch((function(e){console.warn("DialogHelper.open error",e)}));var n=e.positionTo&&"fullscreen"!==u.size?function(e,t,o){var i=r.Ay.getWindowSize(),n=i.innerHeight,a=i.innerWidth,s=function(e){var t,o,i=[];if(!document)return i;try{for(var n=c(e),a=n.next();!a.done;a=n.next()){var s=a.value.getBoundingClientRect();i.push({top:s.top,left:s.left,width:s.width,height:s.height})}}catch(e){t={error:e}}finally{try{a&&!a.done&&(o=n.return)&&o.call(n)}finally{if(t)throw t.error}}return i}([e])[0];"top"!==t.positionY&&(s.top+=(s.height||0)/2),s.left+=(s.width||0)/2;var l=o.offsetHeight||300,p=o.offsetWidth||160;s.top-=l/2,s.left-=p/2;var u=s.left+p-a,d=s.top+l-n;return u>0&&(s.left-=u+20),d>0&&(s.top-=d+20),s.top+=t.offsetTop||0,s.left+=t.offsetLeft||0,s.top=Math.max(s.top,10),s.left=Math.max(s.left,10),s}(e.positionTo,e,d):null;n&&(d.style.position="fixed",d.style.margin="0",d.style.left=n.left+"px",d.style.top=n.top+"px")}))}t.default={show:u}},63001:function(e,t,o){var i=o(46782),n=o(34789),a=o(62882),s=(o(69177),Object.create(HTMLSelectElement.prototype));function l(){return!(n.A.edgeUwp||n.A.xboxOne||n.A.tizen||n.A.orsay||n.A.web0s||!n.A.tv&&i.A.tv)}function r(e){var t=c(e),o=t?t.textContent||t.innerText:null;a.default.show({items:e.options,positionTo:e,title:o}).then((function(t){!function(e,t){e.value=t}(e,t),function(e){var t=new Event("change",{bubbles:!1,cancelable:!0});e.dispatchEvent(t)}(e)}))}function c(e){for(var t=e.previousSibling;t&&"LABEL"!==t.tagName;)t=t.previousSibling;return t}function p(){var e=c(this);e&&e.classList.add("selectLabelFocused")}function u(){var e=c(this);e&&e.classList.remove("selectLabelFocused")}function d(e){e.button||l()||(e.preventDefault(),r(this))}function v(e){13!==e.keyCode&&195!==e.keyCode||l()||(e.preventDefault(),r(this))}var h=0;s.createdCallback=function(){this.id||(this.id="embyselect"+h,h++),this.classList.add("emby-select-withcolor"),i.A.tv&&this.classList.add("emby-select-focusscale"),this.addEventListener("mousedown",d),this.addEventListener("keydown",v),this.addEventListener("focus",p),this.addEventListener("blur",u)},s.attachedCallback=function(){var e;if(!this.classList.contains("emby-select")){this.classList.add("emby-select");var t,o=this.ownerDocument.createElement("label");o.innerText=this.getAttribute("label")||"",o.classList.add("selectLabel"),o.htmlFor=this.id,null===(e=this.parentNode)||void 0===e||e.insertBefore(o,this),this.classList.contains("emby-select-withcolor")&&(null===(t=this.parentNode)||void 0===t||t.insertAdjacentHTML("beforeend",'<div class="selectArrowContainer"><div style="visibility:hidden;display:none;">0</div><span class="selectArrow material-icons keyboard_arrow_down" aria-hidden="true"></span></div>'))}},s.setLabel=function(e){var t;(null===(t=this.parentNode)||void 0===t?void 0:t.querySelector("label")).innerText=e},document.registerElement("emby-select",{prototype:s,extends:"select"})}}]);