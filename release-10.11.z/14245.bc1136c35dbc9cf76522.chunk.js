"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[14245,15605,40501,62882],{15605:function(t,e,n){n.r(e);var a=n(10736),i=n(5898),o=n(67430),r=n(44797),s=n(10353);function l(){var t=this,e=t.getAttribute("data-id"),n=t.getAttribute("data-serverid"),a=o.tF.getApiClient(n),i=this.getAttribute("data-likes");i="true"===i||"false"!==i&&null,function(t,e,n,a,i){return e.updateFavoriteStatus(e.getCurrentUserId(),n,!i)}(0,a,e,0,"true"===this.getAttribute("data-isfavorite")).then((function(e){u(t,e.Likes,e.IsFavorite)}))}function c(t,e,n){n.ItemId===this.getAttribute("data-id")&&u(this,n.Likes,n.IsFavorite)}function u(t,e,n,a){var i=t.querySelector(".material-icons");n?(i&&(i.classList.add("favorite"),i.classList.add("ratingbutton-icon-withrating")),t.classList.add("ratingbutton-withrating")):(i&&(i.classList.add("favorite"),i.classList.remove("ratingbutton-icon-withrating")),t.classList.remove("ratingbutton-withrating")),!1!==a&&(t.setAttribute("data-isfavorite",n),t.setAttribute("data-likes",null===e?"":e)),d(t,n)}function d(t,e){t.title=e?i.Ay.translate("Favorite"):i.Ay.translate("AddToFavorites");var n=t.querySelector(".button-text");n&&(n.innerText=t.title)}function f(t){var e,n,i;t.removeEventListener("click",l),(i=(e=t)[n="UserDataChanged"])&&(r.A.off(a.default,n,i),e[n]=null)}function p(t){var e,n,i;f(t),t.addEventListener("click",l),e=t,n="UserDataChanged",i=c.bind(e),r.A.on(a.default,n,i),e[n]=i}var v=Object.create(s.A);v.createdCallback=function(){s.A.createdCallback&&s.A.createdCallback.call(this)},v.attachedCallback=function(){s.A.attachedCallback&&s.A.attachedCallback.call(this);var t=this.getAttribute("data-id"),e=this.getAttribute("data-serverid");if(t&&e){var n=this.getAttribute("data-likes");u(this,n="true"===n||"false"!==n&&null,"true"===this.getAttribute("data-isfavorite"),!1),p(this)}else d(this)},v.detachedCallback=function(){s.A.detachedCallback&&s.A.detachedCallback.call(this),f(this)},v.setItem=function(t){if(t){this.setAttribute("data-id",t.Id),this.setAttribute("data-serverid",t.ServerId);var e=t.UserData||{};u(this,e.Likes,e.IsFavorite),p(this)}else this.removeAttribute("data-id"),this.removeAttribute("data-serverid"),this.removeAttribute("data-likes"),this.removeAttribute("data-isfavorite"),f(this)},document.registerElement("emby-ratingbutton",{prototype:v,extends:"button"})},35300:function(t,e,n){n(84734),n(77575),n(78557),n(67593),n(23630);var a=n(31524),i=n(50921),o=n(70267),r=n(97339),s=n(67430),l=n(98320),c=n(44797),u=n(34789),d=n(76542),f=n(46782),p=n(39738),v=n(22622),y=n(36300),h=n(5898),m=n(55802);function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function b(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,A(a.key),a)}}function A(t){var e=function(t){if("object"!=g(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==g(e)?e:e+""}n(15453),n(15605),n(29305),n(32733),n(84701),n(81678),n(44962),n(4754),n(94),n(36947),n(83994),n(82367);var S,L,w,k,B,P,T,C,I,x,E,M,q,R,N,O,D,F=new(function(){return t=function t(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=((e=document.createElement("div")).classList.add("appfooter"),document.body.appendChild(e),e),this.add=function(t){this.element.appendChild(t)},this.insert=function(t){"string"==typeof t?this.element.insertAdjacentHTML("afterbegin",t):this.element.insertBefore(t,this.element.firstChild)}},(e=[{key:"destroy",value:function(){this.element=null}}])&&b(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}()),_=n(22832),H=(n(57949),[]),U=0,V={},j=0,W=!0,Y=!1;function Q(){this.classList.add("hide")}function z(){p.f.playPause(S)}function G(){if(D)return D;var t,e,n=F.element;return(D=n.querySelector(".nowPlayingBar"))||(n.insertAdjacentHTML("afterbegin",(t="",t+='<div class="nowPlayingBar hide nowPlayingBar-hidden">',t+='<div class="nowPlayingBarTop">',t+='<div class="nowPlayingBarPositionContainer sliderContainer" dir="ltr">',t+='<input type="range" is="emby-slider" pin step=".01" min="0" max="100" value="0" class="slider-medium-thumb nowPlayingBarPositionSlider" data-slider-keep-progress="true"/>',t+="</div>",t+='<div class="nowPlayingBarInfoContainer">',t+='<div class="nowPlayingImage"></div>',t+='<div class="nowPlayingBarText"></div>',t+="</div>",t+='<div class="nowPlayingBarCenter" dir="ltr">',t+='<button is="paper-icon-button-light" class="previousTrackButton mediaButton" title="'.concat(h.Ay.translate("ButtonPreviousTrack"),'"><span class="material-icons skip_previous" aria-hidden="true"></span></button>'),t+='<button is="paper-icon-button-light" class="playPauseButton mediaButton" title="'.concat(h.Ay.translate("ButtonPause"),'"><span class="material-icons pause" aria-hidden="true"></span></button>'),t+='<button is="paper-icon-button-light" class="stopButton mediaButton" title="'.concat(h.Ay.translate("ButtonStop"),'"><span class="material-icons stop" aria-hidden="true"></span></button>'),f.A.mobile||(t+='<button is="paper-icon-button-light" class="nextTrackButton mediaButton" title="'.concat(h.Ay.translate("ButtonNextTrack"),'"><span class="material-icons skip_next" aria-hidden="true"></span></button>')),t+='<div class="nowPlayingBarCurrentTime"></div>',t+="</div>",t+='<div class="nowPlayingBarRight">',t+='<button is="paper-icon-button-light" class="muteButton mediaButton" title="'.concat(h.Ay.translate("Mute"),'"><span class="material-icons volume_up" aria-hidden="true"></span></button>'),t+='<div class="sliderContainer nowPlayingBarVolumeSliderContainer hide" style="width:9em;vertical-align:middle;display:inline-flex;">',t+='<input type="range" is="emby-slider" pin step="1" min="0" max="100" value="0" class="slider-medium-thumb nowPlayingBarVolumeSlider"/>',t+="</div>",t+='<button is="paper-icon-button-light" class="btnAirPlay mediaButton" title="'.concat(h.Ay.translate("AirPlay"),'"><span class="material-icons airplay" aria-hidden="true"></span></button>'),t+='<button is="paper-icon-button-light" class="openLyricsButton mediaButton hide" title="'.concat(h.Ay.translate("Lyrics"),'"><span class="material-icons lyrics" style="top:0.1em" aria-hidden="true"></span></button>'),t+='<button is="paper-icon-button-light" class="toggleRepeatButton mediaButton" title="'.concat(h.Ay.translate("Repeat"),'"><span class="material-icons repeat" aria-hidden="true"></span></button>'),t+='<button is="paper-icon-button-light" class="btnShuffleQueue mediaButton" title="'.concat(h.Ay.translate("Shuffle"),'"><span class="material-icons shuffle" aria-hidden="true"></span></button>'),t+='<div class="nowPlayingBarUserDataButtons">',t+="</div>",t+='<button is="paper-icon-button-light" class="playPauseButton mediaButton" title="'.concat(h.Ay.translate("ButtonPause"),'"><span class="material-icons pause" aria-hidden="true"></span></button>'),f.A.mobile?t+='<button is="paper-icon-button-light" class="nextTrackButton mediaButton" title="'.concat(h.Ay.translate("ButtonNextTrack"),'"><span class="material-icons skip_next" aria-hidden="true"></span></button>'):t+='<button is="paper-icon-button-light" class="btnToggleContextMenu mediaButton" title="'.concat(h.Ay.translate("ButtonMore"),'"><span class="material-icons more_vert" aria-hidden="true"></span></button>'),t+="</div>",(t+="</div>")+"</div>")),window.CustomElements.upgradeSubtree(n),D=n.querySelector(".nowPlayingBar"),f.A.mobile&&(D.querySelector(".btnShuffleQueue").classList.add("hide"),D.querySelector(".nowPlayingBarCenter").classList.add("hide")),u.A.safari&&u.A.slow&&D.classList.add("noMediaProgress"),_.Ay.on(D),L=(e=D).querySelector(".nowPlayingBarCurrentTime"),w=e.querySelector(".nowPlayingImage"),B=e.querySelector(".nowPlayingBarText"),P=e.querySelector(".nowPlayingBarUserDataButtons"),E=e.querySelector(".nowPlayingBarPositionSlider"),T=e.querySelector(".muteButton"),x=e.querySelectorAll(".playPauseButton"),q=e.querySelector(".toggleRepeatButton"),C=e.querySelector(".nowPlayingBarVolumeSlider"),I=e.querySelector(".nowPlayingBarVolumeSliderContainer"),N=D.querySelector(".openLyricsButton"),T.addEventListener("click",(function(){S&&p.f.toggleMute(S)})),e.querySelector(".stopButton").addEventListener("click",(function(){S&&p.f.stop(S)})),x.forEach((function(t){t.addEventListener("click",z)})),e.querySelector(".nextTrackButton").addEventListener("click",(function(){S&&p.f.nextTrack(S)})),e.querySelector(".previousTrackButton").addEventListener("click",(function(t){if(S){if(p.f.isPlayingAudio(S)){if(t.detail>1)return;if(p.f.currentTime(S)>=5e3||p.f.getCurrentPlaylistIndex(S)<=0)return p.f.seekPercent(0,S),void(E.value=0)}p.f.previousTrack(S)}})),e.querySelector(".previousTrackButton").addEventListener("dblclick",(function(){S&&p.f.previousTrack(S)})),(M=e.querySelector(".btnAirPlay")).addEventListener("click",(function(){S&&p.f.toggleAirPlay(S)})),e.querySelector(".btnShuffleQueue").addEventListener("click",(function(){S&&p.f.toggleQueueShuffleMode()})),N.addEventListener("click",(function(){Y?o.appRouter.back():o.appRouter.show("lyrics")})),(q=e.querySelector(".toggleRepeatButton")).addEventListener("click",(function(){switch(p.f.getRepeatMode()){case"RepeatAll":p.f.setRepeatMode("RepeatOne");break;case"RepeatOne":p.f.setRepeatMode("RepeatNone");break;case"RepeatNone":p.f.setRepeatMode("RepeatAll")}})),R=q.querySelector(".material-icons"),I.classList.toggle("hide",v.g.supports(r.Y.PhysicalVolumeControl)),C.addEventListener("input",(function(t){S&&S.setVolume(t.target.value)})),E.addEventListener("change",(function(){if(S){var t=parseFloat(this.value);p.f.seekPercent(t,S)}})),E.getBubbleText=function(t){if(null==V||!V.NowPlayingItem||!j)return"--:--";var e=j;return e/=100,e*=t,l.Ay.getDisplayRunningTime(e)},e.addEventListener("click",(function(t){y.Ay.parentWithTag(t.target,["BUTTON","INPUT"])||o.appRouter.showNowPlaying()}))),D}function J(t){x&&x.forEach((function(e){var n=e.querySelector(".material-icons");n.classList.remove("play_arrow","pause"),n.classList.add(t?"play_arrow":"pause"),e.title=h.Ay.translate(t?"Play":"ButtonPause")}))}function K(t){R.classList.remove("repeat","repeat_one");var e="buttonActive";switch(t){case"RepeatAll":R.classList.add("repeat"),q.classList.add(e);break;case"RepeatOne":R.classList.add("repeat_one"),q.classList.add(e);break;default:R.classList.add("repeat"),q.classList.remove(e)}}function X(t,e,n){if(E&&!E.dragging)if(e){var a=t/e;a*=100,E.value=a}else E.value=0;if(E&&E.setBufferedRanges(n,e,t),L){var i=null==t?"--:--":l.Ay.getDisplayRunningTime(t);e&&(i+=" / "+l.Ay.getDisplayRunningTime(e)),L.innerHTML=i}}function Z(t,e){var n=H,a=!0,i=!0;-1===n.indexOf("ToggleMute")&&(a=!1);var o=T.querySelector(".material-icons");o.classList.remove("volume_off","volume_up"),o.classList.add(t?"volume_off":"volume_up"),T.title=h.Ay.translate(t?"Unmute":"Mute"),-1===n.indexOf("SetVolume")&&(i=!1),S.isLocalPlayer&&v.g.supports(r.Y.PhysicalVolumeControl)&&(a=!1,i=!1),T.classList.toggle("hide",!a),C&&(I.classList.toggle("hide",!i),C.dragging||(C.value=e||0))}function $(t){if(O){var e=!!t&&"Audio"===t.Type&&t.HasLyrics;N.classList.toggle("hide",!e),tt()}}function tt(){O&&N.classList.toggle("buttonActive",Y)}function et(t,e){console.debug("nowplaying event: "+t.type),st.call(this,t,e)}function nt(){O&&K(p.f.getRepeatMode())}function at(){if(O){var t=p.f.getQueueShuffleMode(),e="buttonActive",n=D.querySelector(".btnShuffleQueue");"Shuffle"===t?n.classList.add(e):n.classList.remove(e)}}function it(){O=!1;var t=document.getElementsByClassName("nowPlayingBar")[0];t&&function(t){t.offsetWidth,t.classList.add("nowPlayingBar-hidden"),y.Ay.addEventListener(t,y.Ay.whichTransitionEvent(),Q,{once:!0})}(t)}function ot(t,e){console.debug("[nowPlayingBar:onPlaybackStopped] event: "+t.type),this.isLocalPlayer?"Audio"!==e.NextMediaType&&it():e.NextMediaType||it()}function rt(){O&&J(this.paused())}function st(t,e){if("init"!==t.type){console.debug("[nowPlayingBar:onStateChanged] event: "+t.type);e.NowPlayingItem&&!f.A.tv&&!1!==e.IsFullscreen?this.isLocalPlayer&&e.NowPlayingItem&&"Video"===e.NowPlayingItem.MediaType?it():(O=!0,D||(G(),$(e.NowPlayingItem)),function(t,e,n){var o;W?(o=G(),y.Ay.removeEventListener(o,y.Ay.whichTransitionEvent(),Q,{once:!0}),o.classList.remove("hide"),o.offsetWidth,o.classList.remove("nowPlayingBar-hidden")):it(),V=e;var r=p.f.getPlayerInfo(),l=e.PlayState||{};J(l.IsPaused);var c=r.supportedCommands;H=c,-1===c.indexOf("SetRepeatMode")?q.classList.add("hide"):q.classList.remove("hide");var u=-1===c.indexOf("AirPlay");if(M.classList.toggle("hide",u),K(p.f.getRepeatMode()),at(),Z(l.IsMuted,l.VolumeLevel),E&&!E.dragging){E.disabled=!l.CanSeek;var v=e.MediaSource&&null==e.MediaSource.RunTimeTicks;E.setIsClear(v)}var h=e.NowPlayingItem||{};X(l.PositionTicks,h.RunTimeTicks,p.f.getBufferedRanges(n)),function(t){var e=t.NowPlayingItem,n=e?(0,i.Y)(e):void 0;if(B.innerHTML="",n){var o=document.createElement("div"),r=document.createElement("div");if(r.classList.add("nowPlayingBarSecondaryText"),n.length>1&&n[1]){var l=document.createElement("a");l.innerText=n[1],r.appendChild(l)}if(n[0]){var c=document.createElement("a");c.innerText=n[0],o.appendChild(c)}B.appendChild(o),B.appendChild(r)}var u=e?(0,a.V)(e,{height:70}):null;if(u!==k&&(u?(k=u,d.default.lazyImage(w,k),w.style.display=null,B.style.marginLeft=null):(k=null,w.style.backgroundImage="",w.style.display="none",B.style.marginLeft="1em")),e.Id){var p=s.tF.getApiClient(e.ServerId);p.getItem(p.getCurrentUserId(),e.Id).then((function(t){var e=t.UserData||{},n=null==e.Likes?"":e.Likes;if(!f.A.mobile){var a=D.querySelector(".btnToggleContextMenu"),i=a.cloneNode(!0);a.parentNode.replaceChild(i,a);var o={play:!1,queue:!1,stopPlayback:!0,clearQueue:!0,positionTo:a=D.querySelector(".btnToggleContextMenu")};p.getCurrentUser().then((function(e){a.addEventListener("click",(function(){m.default.show(Object.assign({item:t,user:e},o)).catch((function(){}))}))}))}P.innerHTML='<button is="emby-ratingbutton" type="button" class="mediaButton paper-icon-button-light" data-id="'+t.Id+'" data-serverid="'+t.ServerId+'" data-itemtype="'+t.Type+'" data-likes="'+n+'" data-isfavorite="'+e.IsFavorite+'"><span class="material-icons favorite" aria-hidden="true"></span></button>'}))}else P.innerHTML=""}(e),$(h)}(0,e,this)):it()}}function lt(){if(O){var t=(new Date).getTime();if(!(t-U<700)){U=t;var e=this;j=p.f.duration(e),X(1e4*p.f.currentTime(e),j,p.f.getBufferedRanges(e))}}}function ct(){O&&Z(this.isMuted(),this.getVolume())}function ut(t,e){var n=p.f.getPlayerState(t);st.call(t,{type:e},n)}function dt(t){Y=(0,o.isLyricsPage)(),t!==S&&(function(){var t=S;t&&(c.A.off(t,"playbackstart",et),c.A.off(t,"statechange",et),c.A.off(t,"repeatmodechange",nt),c.A.off(t,"shufflequeuemodechange",at),c.A.off(t,"playbackstop",ot),c.A.off(t,"volumechange",ct),c.A.off(t,"pause",rt),c.A.off(t,"unpause",rt),c.A.off(t,"timeupdate",lt),S=null,it())}(),S=t,t&&(ut(t,"init"),c.A.on(t,"playbackstart",et),c.A.on(t,"statechange",et),c.A.on(t,"repeatmodechange",nt),c.A.on(t,"shufflequeuemodechange",at),c.A.on(t,"playbackstop",ot),c.A.on(t,"volumechange",ct),c.A.on(t,"pause",rt),c.A.on(t,"unpause",rt),c.A.on(t,"timeupdate",lt)))}c.A.on(p.f,"playerchange",(function(){dt(p.f.getCurrentPlayer())})),dt(p.f.getCurrentPlayer()),document.addEventListener("viewbeforeshow",(function(t){Y=(0,o.isLyricsPage)(),tt(),t.detail.options.enableMediaControl?W||(W=!0,S?ut(S,"refresh"):it()):W&&(W=!1,it())}))},62882:function(t,e,n){n.r(e),n.d(e,{show:function(){return d}});var a=n(22696),i=n.n(a),o=n(79754),r=n(46782),s=n(5898),l=n(36300),c=(n(10353),function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],a=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")});function u(t,e,a){Promise.resolve().then(n.bind(n,10838)).then((function(n){var i=a?"on":"off";n.centerFocus[i](t,e)})).catch((function(t){console.warn("Error in centerFocus",t)}))}function d(t){var e,n,a,d={removeOnClose:!0,enableHistory:t.enableHistory,scrollY:!1};r.A.tv?(d.size="fullscreen",a=!0,d.autoFocus=!0):(d.modal=!1,d.entryAnimation=t.entryAnimation,d.exitAnimation=t.exitAnimation,d.entryAnimationDuration=t.entryAnimationDuration||140,d.exitAnimationDuration=t.exitAnimationDuration||100,d.autoFocus=!1);var f=o.default.createDialog(d);a?f.classList.add("actionsheet-fullscreen"):f.classList.add("actionsheet-not-fullscreen"),f.classList.add("actionSheet"),t.dialogClass&&f.classList.add(t.dialogClass);var p="",v=r.A.tv?"scrollY smoothScrollY hiddenScrollY":"scrollY",y="";t.items.length>20&&(y+="min-width:"+(l.Ay.getWindowSize().innerWidth>=300?240:200)+"px;");var h,m=!1,g=[];try{for(var b=c(t.items),A=b.next();!A.done;A=b.next())(h=(B=A.value).icon||(B.selected?"check":null))&&(m=!0),g.push(h||"")}catch(t){e={error:t}}finally{try{A&&!A.done&&(n=b.return)&&n.call(b)}finally{if(e)throw e.error}}r.A.tv&&(p+='<button is="paper-icon-button-light" class="btnCloseActionSheet hide-mouse-idle-tv" tabindex="-1" title="'.concat(s.Ay.translate("ButtonBack"),'">\n                     <span class="material-icons arrow_back" aria-hidden="true"></span>\n                 </button>'));var S=t.title&&!m;S||r.A.tv?p+='<div class="actionSheetContent actionSheetContent-centered">':p+='<div class="actionSheetContent">',t.title&&(p+='<h1 class="actionSheetTitle">'+i()(t.title)+"</h1>"),t.text&&(p+='<p class="actionSheetText">'+i()(t.text)+"</p>");var L="actionSheetScroller";r.A.tv&&(L+=" actionSheetScroller-tv focuscontainer-x focuscontainer-y"),p+='<div class="'+L+" "+v+'" style="'+y+'">';var w="listItem listItem-button actionSheetMenuItem";(t.border||t.shaded)&&(w+=" listItem-border"),t.menuItemClass&&(w+=" "+t.menuItemClass),r.A.tv&&(w+=" listItem-focusscale"),r.A.mobile&&(w+=" actionsheet-xlargeFont");for(var k=0;k<t.items.length;k++){var B;(B=t.items[k]).divider?p+='<div class="actionsheetDivider"></div>':(p+="<button"+(B.selected&&r.A.tv?" autoFocus":"")+' is="emby-button" type="button" class="'+w+'" data-id="'+(null==B.id||""===B.id?B.value:B.id)+'">',(h=g[k])?p+='<span class="actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons '.concat(h,'" aria-hidden="true"></span>'):m&&!S&&(p+='<span class="actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons check" aria-hidden="true" style="visibility:hidden;"></span>'),p+='<div class="listItemBody actionsheetListItemBody">',p+='<div class="listItemBodyText actionSheetItemText">',p+=i()(B.name||B.textContent||B.innerText),p+="</div>",B.secondaryText&&(p+='<div class="listItemBodyText secondary">'.concat(i()(B.secondaryText),"</div>")),p+="</div>",B.asideText&&(p+='<div class="listItemAside actionSheetItemAsideText">'.concat(i()(B.asideText),"</div>")),p+="</button>")}if(t.showCancel&&(p+='<div class="buttons">',p+='<button is="emby-button" type="button" class="btnCloseActionSheet">'.concat(s.Ay.translate("ButtonCancel"),"</button>"),p+="</div>"),p+="</div>",f.innerHTML=p,r.A.tv){var P=f.querySelector(".actionSheetScroller");P&&u(P,!1,!0)}var T=f.querySelector(".btnCloseActionSheet");T&&T.addEventListener("click",(function(){o.default.close(f)}));var C,I=null;return t.timeout&&(C=setTimeout((function(){o.default.close(f)}),t.timeout)),new Promise((function(e,n){var a=!1;f.addEventListener("click",(function(n){var i=l.Ay.parentWithClass(n.target,"actionSheetMenuItem");i&&(I=i.getAttribute("data-id"),t.resolveOnClick&&(Array.isArray(t.resolveOnClick)?-1!==t.resolveOnClick.indexOf(I)&&(e(I),a=!0):(e(I),a=!0)),o.default.close(f))})),f.addEventListener("close",(function(){if(r.A.tv){var i=f.querySelector(".actionSheetScroller");i&&u(i,!1,!1)}C&&(clearTimeout(C),C=void 0),a||(null!=I?(t.callback&&t.callback(I),e(I)):n(new Error("ActionSheet closed without resolving")))})),o.default.open(f).catch((function(t){console.warn("DialogHelper.open error",t)}));var i=t.positionTo&&"fullscreen"!==d.size?function(t,e,n){var a=l.Ay.getWindowSize(),i=a.innerHeight,o=a.innerWidth,r=function(t){var e,n,a=[];if(!document)return a;try{for(var i=c(t),o=i.next();!o.done;o=i.next()){var r=o.value.getBoundingClientRect();a.push({top:r.top,left:r.left,width:r.width,height:r.height})}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return a}([t])[0];"top"!==e.positionY&&(r.top+=(r.height||0)/2),r.left+=(r.width||0)/2;var s=n.offsetHeight||300,u=n.offsetWidth||160;r.top-=s/2,r.left-=u/2;var d=r.left+u-o,f=r.top+s-i;return d>0&&(r.left-=d+20),f>0&&(r.top-=f+20),r.top+=e.offsetTop||0,r.left+=e.offsetLeft||0,r.top=Math.max(r.top,10),r.left=Math.max(r.left,10),r}(t.positionTo,t,f):null;i&&(f.style.position="fixed",f.style.margin="0",f.style.left=i.left+"px",f.style.top=i.top+"px")}))}e.default={show:d}}}]);