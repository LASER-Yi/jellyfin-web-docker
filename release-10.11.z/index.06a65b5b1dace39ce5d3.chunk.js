"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[13057],{4838:function(e,n,t){n.A={getDisplayPlayMethod:function(e){var n,t,r,a;return e.NowPlayingItem?(null!==(n=e.TranscodingInfo)&&void 0!==n&&n.IsVideoDirect||null===(t=e.TranscodingInfo)||void 0===t||!t.VideoCodec)&&null!==(r=e.TranscodingInfo)&&void 0!==r&&r.IsAudioDirect?"Remux":null!==(a=e.TranscodingInfo)&&void 0!==a&&a.IsVideoDirect?"DirectStream":"Transcode"===e.PlayState.PlayMethod?"Transcode":"DirectStream"===e.PlayState.PlayMethod||"DirectPlay"===e.PlayState.PlayMethod?"DirectPlay":void 0:null}}},8375:function(e,n,t){var r=t(62540),a=t(63703),o=t(62010),i=t(98756),s=t(37793),c=t(75720),l=t(9042),u=t(5898);t(63696),n.A=function(e){var n=e.open,t=e.title,d=e.text,f=e.onClose;return(0,r.jsxs)(o.A,{open:n,onClose:f,children:[t&&(0,r.jsx)(l.A,{children:t}),(0,r.jsx)(s.A,{children:(0,r.jsx)(c.A,{sx:{whiteSpace:"pre-wrap"},children:d})}),(0,r.jsx)(i.A,{children:(0,r.jsx)(a.A,{onClick:f,children:u.Ay.translate("ButtonGotIt")})})]})}},22147:function(e,n,t){var r=t(62540),a=t(63696),o=t(63703),i=t(62010),s=t(98756),c=t(37793),l=t(9042),u=t(57836),d=t(5898),f=t(70140);n.A=function(e){var n=e.open,t=e.title,h=e.label,v=e.helperText,y=e.initialText,m=e.onClose,p=e.confirmButtonText,g=e.onConfirm,x=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,a,o=t.call(e),i=[];try{for(;(void 0===n||n-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i}((0,a.useState)(y||""),2),A=x[0],b=x[1],j=(0,a.useCallback)((function(e){b(e.target.value)}),[]),w=(0,a.useCallback)((function(){g(A),b("")}),[A,g]);return(0,r.jsxs)(i.A,{open:n,onClose:m,maxWidth:"xs",fullWidth:!0,children:[t&&(0,r.jsx)(l.A,{children:t||""}),(0,r.jsx)(c.A,{children:(0,r.jsx)(f.A,{children:(0,r.jsx)(u.A,{label:h,value:A,helperText:v,onChange:j,variant:"standard"})})}),(0,r.jsx)(s.A,{children:(0,r.jsx)(o.A,{onClick:w,children:p||d.Ay.translate("ButtonOk")})})]})}},32203:function(e,n,t){t.d(n,{Bq:function(){return c},Jd:function(){return s},yq:function(){return i}});var r=t(65369),a=t(11444),o="assets/img/devices/";function i(e){var n;switch(e.AppName||e.Client){case"Samsung Smart TV":return o+"samsungtv.svg";case"Xbox One":return o+"xbox.svg";case"Sony PS4":return o+"playstation.svg";case"Kodi":case"Kodi JellyCon":return o+"kodi.svg";case"Jellyfin Android":case"AndroidTV":case"Android TV":case"Jellyfin Android TV":case"Jellyfin for Android":case"Jellyfin for Android TV":return o+"android.svg";case"Jellyfin Mobile (iOS)":case"Jellyfin Mobile (iPadOS)":case"Jellyfin iOS":case"Jellyfin iPadOS":case"Jellyfin tvOS":case"Swiftfin iPadOS":case"Swiftfin iOS":case"Swiftfin tvOS":case"Infuse":case"Infuse-Direct":case"Infuse-Library":return o+"apple.svg";case"Home Assistant":return o+"home-assistant.svg";case"Jellyfin for WebOS":case"LG Smart TV":return o+"webos.svg";case"Jellyfin Roku":return o+"roku.svg";case"Jellyfin for Titan OS":return o+"titanos.svg";case"Finamp":return o+"finamp.svg";case"Jellyfin Web":return function(e){switch(e){case"Opera":case"Opera TV":case"Opera Android":return o+"opera.svg";case"Chrome":case"Chrome Android":return o+"chrome.svg";case"Firefox":case"Firefox Android":return o+"firefox.svg";case"Safari":case"Safari iPad":case"Safari iPhone":return o+"safari.svg";case"Edge Chromium":case"Edge Chromium Android":case"Edge Chromium iPad":case"Edge Chromium iPhone":return o+"edgechromium.svg";case"Edge":return o+"edge.svg";case"Internet Explorer":return o+"msie.svg";case"Titan OS":return o+"titanos.svg";case"Vega OS":return o+"firetv.svg";default:return o+"html5.svg"}}(e.Name||e.DeviceName);default:if(null===(n=e.Capabilities)||void 0===n?void 0:n.IconUrl)try{return new URL(e.Capabilities.IconUrl).toString()}catch(n){console.error("[getDeviceIcon] device capabilities has invalid IconUrl",e,n)}return o+"other.svg"}}function s(e){switch(e){case r.X.Movies:return"movie";case r.X.Music:return"music_note";case r.X.Homevideos:case r.X.Photos:return"photo";case r.X.Livetv:return"live_tv";case r.X.Tvshows:return"tv";case r.X.Trailers:return"theaters";case r.X.Musicvideos:return"music_video";case r.X.Books:return"book";case r.X.Boxsets:return"video_library";case r.X.Playlists:return"queue";case"channels":return"videocam";case void 0:return"quiz";default:return"folder"}}function c(e,n){switch(e){case a.D.MusicAlbum:return"album";case a.D.MusicArtist:case a.D.Person:return"person";case a.D.Audio:return"audiotrack";case a.D.Movie:return"movie";case a.D.Episode:case a.D.Series:return"tv";case a.D.Program:return"live_tv";case a.D.Book:return"book";case a.D.Folder:return"folder";case a.D.BoxSet:return"video_library";case a.D.Playlist:return"queue";case a.D.Photo:return"photo";case a.D.PhotoAlbum:return"photo_album";default:return n}}n.Ay={getDeviceIcon:i,getLibraryIcon:s,getItemTypeIcon:c}},36645:function(e,n,t){t.d(n,{QW:function(){return A},Qp:function(){return p},Rn:function(){return m},Tj:function(){return h},a_:function(){return v},hn:function(){return u},n5:function(){return d},uA:function(){return y},w:function(){return f},zo:function(){return x}});var r=t(76942),a=t(58953),o=t(4452),i=t.n(o),s=2/3,c=16/9,l=1e3/185,u=function(e){return"Program"===e||"Timer"===e||"Recording"===e},d=function(e){return"play"===e.defaultAction&&e.isFolder?"link":e.isPhoto?"play":e.defaultAction},f=function(e){var n=window.screen;return!!(n&&n.availWidth-e>20)},h=function(e){return null==e?r.G8.MixedSquare:e>=1.33?r.G8.MixedBackdrop:e>.8?r.G8.MixedSquare:r.G8.MixedPortrait},v=function(e){var n;return i()(((n={card:!0})["".concat(e.shape,"Card")]=e.shape,n["".concat(e.cardCssClass)]=e.cardCssClass,n["".concat(e.cardClass)]=e.cardClass,n["card-hoverable"]=e.isDesktop,n["show-focus"]=e.isTV,n["show-animation"]=e.isTV&&e.enableFocusTransform,n.groupedCard=e.showChildCountIndicator&&e.childCount,n["card-withuserdata"]=!["MusicAlbum","MusicArtist","Audio"].includes(e.itemType),n.itemAction="button"===e.tagName,n))},y=function(e){var n;return i()(((n={cardImageContainer:!0,coveredImage:e.hasCoverImage,"coveredImage-contain":e.hasCoverImage&&"TvChannel"===e.itemType})[p(e.itemName)]=!e.imgUrl,n))},m=function(e){return i()({cardBox:!0,visualCardBox:e.cardLayout,"cardBox-bottompadded":e.hasOuterCardFooter&&!e.cardLayout})},p=function(e){return"defaultCardBackground defaultCardBackground".concat(g(e))},g=function(e){if(e){for(var n=Math.floor(e.length/2),t=String(e.slice(n,n+1).charCodeAt(0)),r=0,o=0;o<t.length;o++)r+=parseInt(t.charAt(o),10);return parseInt(String(r).slice(-1),10)%5+1}return(0,a.HO)(1,5)},x=function(e){return e?-1!==(e=e.toLowerCase()).indexOf("portrait")?s:-1!==e.indexOf("backdrop")?c:-1!==e.indexOf("square")?1:-1!==e.indexOf("banner")?l:null:null},A=function(e,n,t,r){switch(e){case"portrait":return b(n,r);case"square":return j(n,r);case"banner":return w(n);case"backdrop":return I(n,r);case"smallBackdrop":return S(n);case"overflowSmallBackdrop":return C(n,t,r);case"overflowPortrait":return k(n,t,r);case"overflowSquare":return T(n,t,r);case"overflowBackdrop":return P(n,t,r);default:return 4}},b=function(e,n){switch(!0){case n:return 5.9999999988;case e>=2200:return 10;case e>=1920:return 9.000000000009;case e>=1600:return 8;case e>=1400:return 7.0000000000021;case e>=1200:return 5.9999999988;case e>=800:return 5;case e>=700:return 4;default:return 3.0000000003}},j=function(e,n){switch(!0){case n:return 5.9999999988;case e>=2200:return 10;case e>=1920:return 9.000000000009;case e>=1600:return 8;case e>=1400:return 7.0000000000021;case e>=1200:return 5.9999999988;case e>=800:return 5;case e>=700:return 4;case e>=500:return 3.0000000003;default:return 2}},w=function(e){switch(!0){case e>=2200:return 4;case e>=1200:return 3.0000000003;case e>=800:return 2;default:return 1}},I=function(e,n){switch(!0){case n:return 4;case e>=2500:return 6;case e>=1600:return 5;case e>=1200:return 4;case e>=770:return 3;case e>=420:return 2;default:return 1}},S=function(e){switch(!0){case e>=1600:return 8;case e>=1400:return 7.000000000007001;case e>=1200:return 5.9999999988;case e>=1e3:return 5;case e>=800:return 4;case e>=500:return 3.0000000003;default:return 2}},C=function(e,n,t){switch(!0){case t:return 100/18.9;case n&&e>=800:return 100/15.5;case n:return 100/23.3;case e>=540:return 100/30;default:return 100/72}},k=function(e,n,t){switch(!0){case t:return 100/15.5;case n&&e>=1700:return 100/11.6;case n:return 100/15.5;case e>=1400:return 100/15;case e>=1200:return 100/18;case e>=760:return 100/23;case e>=400:return 100/31.5;default:return 100/42}},T=function(e,n,t){switch(!0){case t:return 100/15.5;case n&&e>=1700:return 100/11.6;case n:return 100/15.5;case e>=1400:return 100/15;case e>=1200:return 100/18;case e>=760:return 100/23;case e>=540:return 100/31.5;default:return 100/42}},P=function(e,n,t){switch(!0){case t:return 100/23.3;case n&&e>=1700:return 100/18.5;case n:return 100/23.3;case e>=1800:return 100/23.5;case e>=1400:return 100/30;case e>=760:return 2.5;case e>=640:return 100/56;default:return 100/72}}},38742:function(e,n,t){t.d(n,{Y:function(){return i}});var r=t(24698),a=t(80401),o=t(69410),i=function(e){var n=(0,o.gf)().api;return(0,a.I)({queryKey:["ActivityLogEntries",e],queryFn:function(t){var a=t.signal;return function(e,n,t){return a=void 0,o=void 0,s=function(){return function(e,n){var t,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(e,o)}catch(e){s=[6,e],r=0}finally{t=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(a){switch(a.label){case 0:return[4,(0,r.A)(e).getLogEntries(n,{signal:null==t?void 0:t.signal})];case 1:return[2,a.sent().data]}}))},new((i=void 0)||(i=Promise))((function(e,n){function t(e){try{c(s.next(e))}catch(e){n(e)}}function r(e){try{c(s.throw(e))}catch(e){n(e)}}function c(n){var a;n.done?e(n.value):(a=n.value,a instanceof i?a:new i((function(e){e(a)}))).then(t,r)}c((s=s.apply(a,o||[])).next())}));var a,o,i,s}(n,e,{signal:a})},enabled:!!n,refetchOnMount:!1})}},42305:function(e,n,t){t.d(n,{L:function(){return c}});var r=t(8280),a=t(80401),o=t(48272),i=t(69410),s=function(e){return(0,r.j)({queryKey:["SystemInfo"],queryFn:function(n){var t=n.signal;return function(e,n){return t=void 0,r=void 0,i=function(){return function(e,n){var t,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(e,o)}catch(e){s=[6,e],r=0}finally{t=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(t){switch(t.label){case 0:return[4,(0,o.c)(e).getSystemInfo(n)];case 1:return[2,t.sent().data]}}))},new((a=void 0)||(a=Promise))((function(e,n){function o(e){try{c(i.next(e))}catch(e){n(e)}}function s(e){try{c(i.throw(e))}catch(e){n(e)}}function c(n){var t;n.done?e(n.value):(t=n.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}c((i=i.apply(t,r||[])).next())}));var t,r,a,i}(e,{signal:t,headers:{"Cache-Control":"no-cache"}})},staleTime:1e3,enabled:!!e})},c=function(){var e=(0,i.gf)().api;return(0,a.I)(s(e))}},45939:function(e,n,t){var r=t(10104);n.A=function(e){switch(e){case r.$.Information:return"info";case r.$.Warning:return"warning";case r.$.Error:case r.$.Critical:return"error"}}},57807:function(e,n,t){var r=t(62540),a=t(63703),o=t(62010),i=t(98756),s=t(37793),c=t(75720),l=t(9042),u=(t(63696),t(5898)),d=function(){return d=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},d.apply(this,arguments)};n.A=function(e){var n=e.confirmButtonColor,t=void 0===n?"primary":n,f=e.confirmButtonText,h=e.title,v=e.text,y=e.onCancel,m=e.onConfirm,p=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t}(e,["confirmButtonColor","confirmButtonText","title","text","onCancel","onConfirm"]);return(0,r.jsxs)(o.A,d({onClose:y},p,{children:[(0,r.jsx)(l.A,{children:h}),(0,r.jsx)(s.A,{children:(0,r.jsx)(c.A,{sx:{whiteSpace:"pre-wrap"},children:v})}),(0,r.jsxs)(i.A,{children:[(0,r.jsx)(a.A,{variant:"text",onClick:y,children:u.Ay.translate("ButtonCancel")}),(0,r.jsx)(a.A,{color:t,onClick:m,children:f||u.Ay.translate("ButtonOk")})]})]}))}},73422:function(e,n,t){t.r(n),t.d(n,{Component:function(){return on}});var r,a=t(62540),o=t(63696),i=t(65242),s=t(5898),c=t(92779),l=t(57962),u=t(28335),d=t(10822),f=t(35117),h=t(44790),v=t(60434),y=t(90158),m=t(89348),p=t(76562);!function(e){e.CDRom="CDRom",e.Fixed="Fixed",e.Network="Network",e.NoRootDirectory="NoRootDirectory",e.Ram="Ram",e.Removable="Removable",e.Unknown="Unknown"}(r||(r={}));var g=function(e){return void 0===(null==e?void 0:e.UsedSpace)||e.UsedSpace<0?-1:Math.max(0,e.FreeSpace||0)+Math.max(0,e.UsedSpace)},x=t(95326),A=t(48066),b=t(22802),j=t(13960),w=t(49107),I=function(e){switch(e.type){case r.CDRom:return(0,a.jsx)(x.A,{});case r.Network:return(0,a.jsx)(A.A,{});case r.Ram:return(0,a.jsx)(b.A,{});case r.Removable:return(0,a.jsx)(w.A,{});default:return(0,a.jsx)(j.A,{})}},S=function(e){if(e)return Object.keys(r).includes(e)?s.Ay.translate("StorageType.".concat(e)):e},C=function(e){var n,t=e.label,r=e.folder,o=void 0===(null==r?void 0:r.UsedSpace)||r.UsedSpace<0?"?":(0,p.iJ)(r.UsedSpace),i=g(r),s=i<0?"?":(0,p.iJ)(i),c=function(e){var n=g(e);if(n<=0)return 0;var t=(null==e?void 0:e.UsedSpace)||0;return Math.min(100,t/n*100)}(r),l=r?(n=c)>=90?"error":n>=80?"warning":"success":"primary";return(0,a.jsxs)(f.Ay,{children:[(0,a.jsx)(h.A,{title:S(null==r?void 0:r.StorageType),children:(0,a.jsx)(I,{type:null==r?void 0:r.StorageType})}),(0,a.jsx)(v.A,{primary:(0,a.jsx)(m.A,{component:"span",variant:"body2",children:t}),secondary:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.A,{color:"textPrimary",sx:{paddingBottom:.5,lineBreak:"anywhere"},children:r?r.Path:(0,a.jsx)(y.A,{})}),(0,a.jsx)(d.A,{variant:r?"determinate":"indeterminate",color:l,value:c}),(0,a.jsx)(m.A,{variant:"body2",color:"textSecondary",sx:{textAlign:"end"},children:"".concat(o," / ").concat(s)})]}),slots:{secondary:"div"}})]})},k=t(63703),T=t(65090),P=t(9055),D=function(e){var n=e.title,t=e.href,r=e.children;return(0,a.jsxs)(c.A,{children:[(0,a.jsx)(k.A,{component:P.N_,to:t,variant:"text",color:"inherit",endIcon:(0,a.jsx)(T.A,{}),sx:{marginTop:1,marginBottom:1},children:(0,a.jsx)(m.A,{variant:"h3",component:"span",children:n})}),r]})},O=t(48272),M=t(8280),B=t(80401),L=t(69410),R=function(e){return(0,M.j)({queryKey:["SystemStorage"],queryFn:function(n){var t=n.signal;return function(e,n){return t=void 0,r=void 0,o=function(){return function(e,n){var t,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(e,o)}catch(e){s=[6,e],r=0}finally{t=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(t){switch(t.label){case 0:return[4,(0,O.c)(e).getSystemStorage(n)];case 1:return[2,t.sent().data]}}))},new((a=void 0)||(a=Promise))((function(e,n){function i(e){try{c(o.next(e))}catch(e){n(e)}}function s(e){try{c(o.throw(e))}catch(e){n(e)}}function c(n){var t;n.done?e(n.value):(t=n.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,s)}c((o=o.apply(t,r||[])).next())}));var t,r,a,o}(e,{signal:t})},enabled:!!e,refetchOnWindowFocus:!1})},F=function(){var e,n=(e=(0,L.gf)().api,(0,B.I)(R(e))).data;return(0,a.jsx)(D,{title:s.Ay.translate("HeaderPaths"),href:"/dashboard/settings",children:(0,a.jsxs)(u.A,{sx:{bgcolor:"background.paper"},children:[(0,a.jsx)(C,{label:s.Ay.translate("LabelCache"),folder:null==n?void 0:n.CacheFolder}),(0,a.jsx)(C,{label:s.Ay.translate("LabelImageCache"),folder:null==n?void 0:n.ImageCacheFolder}),(0,a.jsx)(C,{label:s.Ay.translate("LabelProgramData"),folder:null==n?void 0:n.ProgramDataFolder}),(0,a.jsx)(C,{label:s.Ay.translate("LabelLogs"),folder:null==n?void 0:n.LogFolder}),(0,a.jsx)(C,{label:s.Ay.translate("LabelMetadata"),folder:null==n?void 0:n.InternalMetadataFolder}),(0,a.jsx)(C,{label:s.Ay.translate("LabelTranscodes"),folder:null==n?void 0:n.TranscodingTempFolder}),(0,a.jsx)(C,{label:s.Ay.translate("LabelWeb"),folder:null==n?void 0:n.WebFolder})]})})},W=t(69856),N=t(70140),q=t(67702),U=t(22487),V=t(50299),E=t(42305),G=function(e){var n=e.onScanLibrariesClick,t=e.onRestartClick,r=e.onShutdownClick,o=e.isScanning,i=(0,E.L)(),c=i.data,l=i.isPending;return(0,a.jsx)(D,{title:s.Ay.translate("TabServer"),href:"/dashboard/settings",children:(0,a.jsxs)(N.A,{spacing:2,children:[(0,a.jsx)(W.A,{sx:{padding:2},children:(0,a.jsxs)(N.A,{direction:"row",children:[(0,a.jsxs)(N.A,{flexGrow:1,spacing:1,children:[(0,a.jsx)(m.A,{fontWeight:"bold",children:s.Ay.translate("LabelServerName")}),(0,a.jsx)(m.A,{fontWeight:"bold",children:s.Ay.translate("LabelServerVersion")}),(0,a.jsx)(m.A,{fontWeight:"bold",children:s.Ay.translate("LabelWebVersion")}),(0,a.jsx)(m.A,{fontWeight:"bold",children:s.Ay.translate("LabelBuildVersion")})]}),(0,a.jsx)(N.A,{flexGrow:5,spacing:1,children:l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.A,{}),(0,a.jsx)(y.A,{}),(0,a.jsx)(y.A,{}),(0,a.jsx)(y.A,{})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.A,{children:null==c?void 0:c.ServerName}),(0,a.jsx)(m.A,{children:null==c?void 0:c.Version}),(0,a.jsx)(m.A,{children:"10.11.6"}),(0,a.jsx)(m.A,{children:"Release"})]})})]})}),(0,a.jsxs)(N.A,{direction:"row",spacing:1.5,children:[(0,a.jsx)(k.A,{onClick:n,startIcon:(0,a.jsx)(q.A,{}),sx:{fontWeight:"bold"},disabled:o,children:s.Ay.translate("ButtonScanAllLibraries")}),(0,a.jsx)(k.A,{onClick:t,startIcon:(0,a.jsx)(U.A,{}),color:"error",sx:{fontWeight:"bold"},children:s.Ay.translate("Restart")}),(0,a.jsx)(k.A,{onClick:r,startIcon:(0,a.jsx)(V.A,{}),color:"error",sx:{fontWeight:"bold"},children:s.Ay.translate("ButtonShutdown")})]})]})})},H=t(50501),J=t(69018),K=t(73828),_=t(20558),X=t(93721),Y=t(45939),Q=t(10104),$=t(95858),z=function(e){var n=e.item,t=e.displayShortOverview,r=e.to,i=(0,o.useMemo)((function(){return n.Date?(0,_.A)(Date.parse(n.Date),Date.now(),{locale:(0,X.JK)()}):"N/A"}),[n]);return(0,a.jsx)(f.Ay,{disablePadding:!0,children:(0,a.jsxs)($.A,{to:r,children:[(0,a.jsx)(K.A,{children:(0,a.jsx)(J.A,{sx:{bgcolor:(0,Y.A)(n.Severity||Q.$.Information)+".main"},children:(0,a.jsx)(H.A,{sx:{color:"#fff"}})})}),(0,a.jsx)(v.A,{primary:(0,a.jsx)(m.A,{sx:{whiteSpace:"pre-wrap"},children:n.Name}),secondary:(0,a.jsxs)(N.A,{children:[(0,a.jsx)(m.A,{sx:{textOverflow:"ellipsis",overflow:"hidden"},variant:"body1",color:"text.secondary",children:i}),t&&(0,a.jsx)(m.A,{sx:{textOverflow:"ellipsis",overflow:"hidden"},variant:"body1",color:"text.secondary",children:n.ShortOverview})]}),disableTypography:!0})]})})},Z=t(38742),ee=t(34630),ne=function(){var e,n=(0,o.useMemo)((function(){return(0,ee.A)(new Date,86400).toISOString()}),[]),t=(0,Z.Y)({startIndex:0,limit:7,minDate:n,hasUserId:!0}),r=t.data,i=t.isPending;return(0,a.jsx)(D,{title:s.Ay.translate("HeaderActivity"),href:"/dashboard/activity?useractivity=true",children:i?(0,a.jsxs)(N.A,{spacing:2,children:[(0,a.jsx)(y.A,{variant:"rounded",height:60}),(0,a.jsx)(y.A,{variant:"rounded",height:60}),(0,a.jsx)(y.A,{variant:"rounded",height:60}),(0,a.jsx)(y.A,{variant:"rounded",height:60})]}):(0,a.jsx)(u.A,{sx:{bgcolor:"background.paper"},children:null===(e=null==r?void 0:r.Items)||void 0===e?void 0:e.map((function(e){return(0,a.jsx)(z,{item:e,displayShortOverview:!0,to:"/dashboard/activity?useractivity=true"},e.Id)}))})})},te=function(){var e,n,t=(0,o.useMemo)((function(){return(0,ee.A)(new Date,604800).toISOString()}),[]),r=(0,Z.Y)({startIndex:0,limit:4,minDate:t,hasUserId:!1}),i=r.data;return r.isPending||0===(null===(e=null==i?void 0:i.Items)||void 0===e?void 0:e.length)?null:(0,a.jsx)(D,{title:s.Ay.translate("Alerts"),href:"/dashboard/activity?useractivity=false",children:(0,a.jsx)(u.A,{sx:{bgcolor:"background.paper"},children:null===(n=null==i?void 0:i.Items)||void 0===n?void 0:n.map((function(e){return(0,a.jsx)(z,{item:e,displayShortOverview:!1,to:"/dashboard/activity?useractivity=false"},e.Id)}))})})},re=t(38596),ae=t(57807),oe=t(54861),ie=t(50909),se=t(13478),ce=function(e){var n=e.tasks,t=(0,o.useMemo)((function(){return(null==n?void 0:n.filter((function(e){return e.State==ie.D.Running})))||[]}),[n]);return 0==t.length?null:(0,a.jsx)(D,{title:s.Ay.translate("HeaderRunningTasks"),href:"/dashboard/tasks",children:(0,a.jsx)(W.A,{sx:{padding:2},children:(0,a.jsx)(N.A,{spacing:2,maxWidth:"330px",children:t.map((function(e){return(0,a.jsxs)(c.A,{children:[(0,a.jsx)(m.A,{children:e.Name}),(0,a.jsx)(se.A,{task:e})]},e.Id)}))})})})},le=t(13786),ue=t(47587),de=t(32203),fe=t(23648),he=t(80096),ve=t(67430),ye=t(98320),me=t(64680),pe=t(36300),ge=t(36645),xe=t(30032),Ae=t(2066),be=t(37631),je=t(7729),we=t(37745),Ie=t(68569),Se=t(75487),Ce=t(8375),ke=t(4838),Te=t(61432),Pe=t(59225),De=t(22147),Oe=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,a,o=t.call(e),i=[];try{for(;(void 0===n||n-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i},Me=function(e){var n,t,r,i,c,l=e.device,u=Oe((0,o.useState)(""),2),f=u[0],h=u[1],v=Oe((0,o.useState)(""),2),y=v[0],p=v[1],g=Oe((0,o.useState)(!1),2),x=g[0],A=g[1],b=Oe((0,o.useState)(!1),2),j=b[0],w=b[1],I=(c=(0,L.gf)().api,(0,re.n)({mutationFn:function(e){return(0,Te.v)(c).sendMessageCommand(e)}})),S=function(){var e=(0,L.gf)().api;return(0,re.n)({mutationFn:function(n){return(0,Te.v)(e).sendPlaystateCommand(n)}})}(),C=(0,o.useCallback)((function(){l.Id&&S.mutate({sessionId:l.Id,command:Pe.t.PlayPause})}),[l,S]),k=(0,o.useCallback)((function(){l.Id&&S.mutate({sessionId:l.Id,command:Pe.t.Stop})}),[l,S]),T=(0,o.useCallback)((function(e){l.Id&&(I.mutate({sessionId:l.Id,messageCommand:{Text:e,TimeoutMs:5e3}}),w(!1))}),[I,l]),P=(0,o.useCallback)((function(){w(!0)}),[]),D=(0,o.useCallback)((function(){w(!1)}),[]),O=(0,o.useCallback)((function(){A(!1)}),[]),M=(0,o.useCallback)((function(){var e;switch(ke.A.getDisplayPlayMethod(l)){case"Remux":h(s.Ay.translate("Remuxing")),p(s.Ay.translate("RemuxHelp1")+"\n"+s.Ay.translate("RemuxHelp2"));break;case"DirectStream":h(s.Ay.translate("DirectStreaming")),p(s.Ay.translate("DirectStreamHelp1")+"\n"+s.Ay.translate("DirectStreamHelp2"));break;case"DirectPlay":h(s.Ay.translate("DirectPlaying")),p(s.Ay.translate("DirectPlayHelp"));break;case"Transcode":var n=null===(e=l.TranscodingInfo)||void 0===e?void 0:e.TranscodeReasons,t=(null==n?void 0:n.map((function(e){return s.Ay.translate(e)})))||[];h(s.Ay.translate("Transcoding")),p(s.Ay.translate("MediaIsBeingConverted")+"\n\n"+function(e){var n,t="",r=!1,a=ke.A.getDisplayPlayMethod(e);if("DirectPlay"===a?t+=s.Ay.translate("DirectPlaying"):"Remux"===a?t+=s.Ay.translate("Remuxing"):"DirectStream"===a?t+=s.Ay.translate("DirectStreaming"):"Transcode"===a&&((null===(n=e.TranscodingInfo)||void 0===n?void 0:n.Framerate)&&(t+="".concat(s.Ay.translate("Framerate"),": ").concat(e.TranscodingInfo.Framerate,"fps")),r=!0),r){var o=[];e.TranscodingInfo&&(e.TranscodingInfo.Bitrate&&(e.TranscodingInfo.Bitrate>1e6?o.push((e.TranscodingInfo.Bitrate/1e6).toFixed(1)+" Mbps"):o.push(Math.floor(e.TranscodingInfo.Bitrate/1e3)+" Kbps")),e.TranscodingInfo.Container&&o.push(e.TranscodingInfo.Container.toUpperCase()),e.TranscodingInfo.VideoCodec&&o.push(e.TranscodingInfo.VideoCodec.toUpperCase()),e.TranscodingInfo.AudioCodec&&e.TranscodingInfo.AudioCodec!==e.TranscodingInfo.Container&&o.push(e.TranscodingInfo.AudioCodec.toUpperCase())),o.length&&(t+="\n\n"+o.join(" "))}return t}(l)+"\n\n"+s.Ay.translate("LabelReasonForTranscoding")+"\n"+t.join("\n"))}A(!0)}),[l]),B=(0,o.useMemo)((function(){return function(e){var n,t,r="",a=e.NowPlayingItem;if(!a)return{bottomText:s.Ay.translate("LastSeen",(0,he.A)(Date.parse(e.LastActivityDate),(0,X.OE)()))};var o=fe.Ay.getDisplayName(a),i="";return(null===(n=a.Artists)||void 0===n?void 0:n.length)?(i=o,o=a.Artists[0]):a.SeriesName||a.Album?(i=o,o=a.SeriesName||a.Album):a.ProductionYear&&(i=a.ProductionYear.toString()),(null===(t=a.ImageTags)||void 0===t?void 0:t.Logo)?r=ve.tF.getApiClient(e.ServerId).getScaledImageUrl(a.Id,{tag:a.ImageTags.Logo,maxHeight:24,maxWidth:130,type:"Logo"}):a.ParentLogoImageTag&&(r=ve.tF.getApiClient(e.ServerId).getScaledImageUrl(a.ParentLogoItemId,{tag:a.ParentLogoImageTag,maxHeight:24,maxWidth:130,type:"Logo"})),{topText:o,bottomText:i,image:r}}(l)}),[l]),R=(0,o.useMemo)((function(){return l.NowPlayingItem&&function(e){var n,t;if(!e.ServerId)return null;var r=ve.tF.getApiClient(e.ServerId);if((null===(n=null==e?void 0:e.BackdropImageTags)||void 0===n?void 0:n.length)&&e.Id)return r.getScaledImageUrl(e.Id,{maxWidth:Math.round(.2*pe.Ay.getScreenWidth()),type:me.y.Backdrop,tag:e.BackdropImageTags[0]});if((null===(t=null==e?void 0:e.ParentBackdropImageTags)||void 0===t?void 0:t.length)&&e.ParentBackdropItemId)return r.getScaledImageUrl(e.ParentBackdropItemId,{maxWidth:Math.round(.2*pe.Ay.getScreenWidth()),type:me.y.Backdrop,tag:e.ParentBackdropImageTags[0]});var a=(null==e?void 0:e.ImageTags)||{};return(null==e?void 0:e.Id)&&a.Thumb?r.getScaledImageUrl(e.Id,{maxWidth:Math.round(.2*pe.Ay.getScreenWidth()),type:me.y.Thumb,tag:a.Thumb}):(null==e?void 0:e.ParentThumbImageTag)&&e.ParentThumbItemId?r.getScaledImageUrl(e.ParentThumbItemId,{maxWidth:Math.round(.2*pe.Ay.getScreenWidth()),type:me.y.Thumb,tag:e.ParentThumbImageTag}):(null==e?void 0:e.Id)&&a.Primary?r.getScaledImageUrl(e.Id,{maxWidth:Math.round(.2*pe.Ay.getScreenWidth()),type:me.y.Primary,tag:a.Primary}):(null==e?void 0:e.AlbumPrimaryImageTag)&&e.AlbumId?r.getScaledImageUrl(e.AlbumId,{maxWidth:Math.round(.2*pe.Ay.getScreenWidth()),type:me.y.Primary,tag:e.AlbumPrimaryImageTag}):null}(l.NowPlayingItem)}),[l]),F=(0,o.useMemo)((function(){return function(e){var n,t=e.NowPlayingItem,r="0:00",a="0:00";return t&&((null===(n=e.PlayState)||void 0===n?void 0:n.PositionTicks)&&(r=ye.Ay.getDisplayRunningTime(e.PlayState.PositionTicks)),t.RunTimeTicks&&(a=ye.Ay.getDisplayRunningTime(t.RunTimeTicks))),{start:r,end:a}}(l)}),[l]),W=(0,o.useMemo)((function(){return(0,de.yq)(l)}),[l]),q=l.ServerId&&l.SupportsRemoteControl,U=!!l.NowPlayingItem;return(0,a.jsxs)(le.A,{sx:{width:{xs:"100%",sm:"360px"}},children:[(0,a.jsx)(De.A,{open:j,onClose:D,title:s.Ay.translate("HeaderSendMessage"),label:s.Ay.translate("LabelMessageText"),confirmButtonText:s.Ay.translate("ButtonSend"),onConfirm:T}),(0,a.jsx)(Ce.A,{open:x,title:f,text:y,onClose:O}),(0,a.jsx)(ue.A,{sx:{height:200,display:"flex"},className:(0,ge.Qp)(l.Id),image:R||void 0,children:(0,a.jsxs)(N.A,{justifyContent:"space-between",flexGrow:1,sx:{backgroundColor:R?"rgba(0, 0, 0, 0.7)":null,padding:2},children:[(0,a.jsxs)(N.A,{direction:"row",alignItems:"center",spacing:1,children:[(0,a.jsx)("img",{src:W,style:{maxWidth:"2.5em",maxHeight:"2.5em"},alt:l.DeviceName||""}),(0,a.jsxs)(N.A,{children:[(0,a.jsx)(m.A,{children:l.DeviceName}),(0,a.jsx)(m.A,{children:l.Client+" "+l.ApplicationVersion})]})]}),(0,a.jsxs)(N.A,{direction:"row",alignItems:"end",children:[(0,a.jsxs)(N.A,{flexGrow:1,children:[B.image?(0,a.jsx)("img",{src:B.image,style:{maxHeight:"24px",maxWidth:"130px",alignSelf:"flex-start"},alt:"Media Icon"}):(0,a.jsx)(m.A,{children:B.topText}),(0,a.jsx)(m.A,{children:B.bottomText})]}),l.NowPlayingItem&&(0,a.jsxs)(m.A,{children:[F.start," / ",F.end]})]})]})}),null!=(null===(n=l.PlayState)||void 0===n?void 0:n.PositionTicks)&&null!=(null===(t=l.NowPlayingItem)||void 0===t?void 0:t.RunTimeTicks)&&(0,a.jsx)(d.A,{variant:"buffer",value:l.PlayState.PositionTicks/l.NowPlayingItem.RunTimeTicks*100,valueBuffer:(null===(r=l.TranscodingInfo)||void 0===r?void 0:r.CompletionPercentage)||0,sx:{"& .MuiLinearProgress-dashed":{animation:"none",backgroundImage:"none",backgroundColor:"background.paper"},"& .MuiLinearProgress-bar2":{backgroundColor:"#dd4919"}}}),(0,a.jsx)(Ie.A,{disableSpacing:!0,children:(0,a.jsxs)(N.A,{direction:"row",flexGrow:1,justifyContent:"center",children:[q&&U&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Se.A,{onClick:C,children:(null===(i=l.PlayState)||void 0===i?void 0:i.IsPaused)?(0,a.jsx)(Ae.A,{}):(0,a.jsx)(be.A,{})}),(0,a.jsx)(Se.A,{onClick:k,children:(0,a.jsx)(je.A,{})})]}),U&&(0,a.jsx)(Se.A,{onClick:M,children:(0,a.jsx)(we.A,{})}),q&&(0,a.jsx)(Se.A,{onClick:P,children:(0,a.jsx)(xe.A,{})})]})}),l.UserName&&(0,a.jsx)(N.A,{direction:"row",flexGrow:1,justifyContent:"center",sx:{paddingBottom:2},children:(0,a.jsx)(m.A,{children:l.UserName})})]})},Be=t(10749),Le=t(10736),Re=t(44797),Fe="Sessions",We=function(e){var n=(0,L.gf)().api;return(0,B.I)({queryKey:[Fe,e],queryFn:function(t){var r=t.signal;return function(e,n,t){return r=void 0,a=void 0,i=function(){return function(e,n){var t,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(e,o)}catch(e){s=[6,e],r=0}finally{t=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(r){switch(r.label){case 0:return[4,(0,Te.v)(e).getSessions(n,{signal:null==t?void 0:t.signal})];case 1:return[2,r.sent().data]}}))},new((o=void 0)||(o=Promise))((function(e,n){function t(e){try{c(i.next(e))}catch(e){n(e)}}function s(e){try{c(i.throw(e))}catch(e){n(e)}}function c(n){var r;n.done?e(n.value):(r=n.value,r instanceof o?r:new o((function(e){e(r)}))).then(t,s)}c((i=i.apply(r,a||[])).next())}));var r,a,o,i}(n,e,{signal:r})},enabled:!!n,refetchOnWindowFocus:!1})},Ne=t(31297),qe=t(34401),Ue={activeWithinSeconds:960},Ve=function(){var e=(0,L.gf)().__legacyApiClient__,n=We(Ue),t=(0,o.useCallback)((function(e){var n,t,r=function(e){void 0===e&&(e=[]);var n=(0,ee.A)(new Date,95);return e.filter((function(e){return!!e.LastActivityDate&&!!((0,qe.A)(e.LastActivityDate)>=n&&(e.NowPlayingItem||e.UserId))}))}(e),a=Ne.q.getQueryData([Fe,Ue]);if(a){var o=function(e,n,t){if(t||2===arguments.length)for(var r,a=0,o=n.length;a<o;a++)!r&&a in n||(r||(r=Array.prototype.slice.call(n,0,a)),r[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))}([],function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,a,o=t.call(e),i=[];try{for(;(void 0===n||n-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i}(a),!1),i=function(e){var n=o.findIndex((function(n){return n.DeviceId===e.DeviceId}));-1==n?o.push(e):o[n]=e};try{for(var s=function(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),c=s.next();!c.done;c=s.next())i(c.value)}catch(e){n={error:e}}finally{try{c&&!c.done&&(t=s.return)&&t.call(s)}finally{if(n)throw n.error}}return o}return r}),[]);return(0,o.useEffect)((function(){var n=function(e,n,r){Ne.q.setQueryData([Fe,Ue],t(r))},r=setInterval((function(){(null==e?void 0:e.isMessageChannelOpen())||Ne.q.invalidateQueries({queryKey:[Fe]})}),2e3);return null==e||e.sendMessage(Be.Y.SessionsStart,"0,1500"),Re.A.on(Le.default,Be.Y.Sessions,n),function(){clearInterval(r),null==e||e.sendMessage(Be.Y.SessionsStop,null),Re.A.off(Le.default,Be.Y.Sessions,n)}}),[]),n},Ee=function(){var e=Ve().data;return(0,a.jsx)(D,{title:s.Ay.translate("HeaderDevices"),href:"/dashboard/devices",children:(0,a.jsx)(N.A,{direction:"row",flexWrap:"wrap",gap:2,children:null==e?void 0:e.map((function(e){return(0,a.jsx)(Me,{device:e},e.Id)}))})})},Ge=t(22204),He=t(94200),Je=t(3889),Ke=t(46550),_e=t(66563),Xe=t(42663),Ye=t(53455),Qe=t(71857),$e=function(e,n){return(0,M.j)({queryKey:["ItemCounts",n],queryFn:function(t){var r=t.signal;return function(e,n,t){return r=void 0,a=void 0,i=function(){return function(e,n){var t,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(e,o)}catch(e){s=[6,e],r=0}finally{t=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(r){switch(r.label){case 0:return[4,(0,Qe.Q)(e).getItemCounts(n,t)];case 1:return[2,r.sent().data]}}))},new((o=void 0)||(o=Promise))((function(e,n){function t(e){try{c(i.next(e))}catch(e){n(e)}}function s(e){try{c(i.throw(e))}catch(e){n(e)}}function c(n){var r;n.done?e(n.value):(r=n.value,r instanceof o?r:new o((function(e){e(r)}))).then(t,s)}c((i=i.apply(r,a||[])).next())}));var r,a,o,i}(e,n,{signal:r})},enabled:!!e,refetchOnWindowFocus:!1})},ze=t(41906),Ze=t(58953),en=function(e){var n=e.metrics,t=e.Icon,r=(0,ze.Y)().dateTimeLocale;return(0,a.jsx)(le.A,{sx:{display:"flex",alignItems:"center",height:"100%"},children:(0,a.jsxs)(N.A,{direction:"row",sx:{width:"100%",padding:2,justifyContent:"space-between",alignItems:"center"},children:[n.map((function(e){var n=e.label,t=e.value;return(0,a.jsxs)(c.A,{children:[(0,a.jsx)(m.A,{variant:"body2",color:"text.secondary",children:n}),(0,a.jsx)(m.A,{variant:"h5",component:"div",children:void 0!==t?(0,Ze.WZ)(t,r):(0,a.jsx)(y.A,{})})]},n)})),(0,a.jsx)(t,{fontSize:"large"})]})})},nn=function(){return nn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},nn.apply(this,arguments)},tn=[{Icon:Je.A,metrics:[{key:"MovieCount",i18n:"Movies"}]},{Icon:Xe.A,metrics:[{key:"SeriesCount",i18n:"Series"},{key:"EpisodeCount",i18n:"Episodes"}]},{Icon:Ke.A,metrics:[{key:"AlbumCount",i18n:"Albums"},{key:"SongCount",i18n:"Songs"}]},{Icon:_e.A,metrics:[{key:"MusicVideoCount",i18n:"MusicVideos"}]},{Icon:He.A,metrics:[{key:"BookCount",i18n:"Books"}]},{Icon:Ye.A,metrics:[{key:"BoxSetCount",i18n:"Collections"}]}],rn=function(){var e,n=(e=(0,L.gf)().api,(0,B.I)($e(e,undefined))),t=n.data,r=n.isPending,i=(0,o.useMemo)((function(){return tn.filter((function(e){return r||e.metrics.some((function(e){var n=e.key;return null==t?void 0:t[n]}))})).map((function(e){return{Icon:e.Icon,metrics:e.metrics.map((function(e){var n=e.i18n,r=e.key;return{label:s.Ay.translate(n),value:null==t?void 0:t[r]}}))}}))}),[t,r]);return(0,a.jsx)(c.A,{children:(0,a.jsx)(l.Ay,{container:!0,spacing:2,sx:{alignItems:"stretch"},children:i.map((function(e){return(0,a.jsx)(l.Ay,{item:!0,xs:12,sm:6,lg:4,children:(0,a.jsx)(en,nn({},e))},e.metrics.map((function(e){return e.label})).join("-"))}))})})},an=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,a,o=t.call(e),i=[];try{for(;(void 0===n||n-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i},on=function(){var e,n=an((0,o.useState)(!1),2),t=n[0],r=n[1],u=an((0,o.useState)(!1),2),d=u[0],f=u[1],h=(0,Ge.V)(),v=(e=(0,L.gf)().api,(0,re.n)({mutationFn:function(){return(0,O.c)(e).restartApplication()}})),y=function(){var e=(0,L.gf)().api;return(0,re.n)({mutationFn:function(){return(0,O.c)(e).shutdownApplication()}})}(),m=(0,oe.A)({isHidden:!1}).data,p=(0,o.useMemo)((function(){return null==m?void 0:m.find((function(e){return"RefreshLibrary"===e.Key}))}),[m]),g=(0,o.useCallback)((function(){r(!0)}),[]),x=(0,o.useCallback)((function(){r(!1)}),[]),A=(0,o.useCallback)((function(){f(!0)}),[]),b=(0,o.useCallback)((function(){f(!1)}),[]),j=(0,o.useCallback)((function(){var e=null==m?void 0:m.find((function(e){return"RefreshLibrary"===e.Key}));(null==e?void 0:e.Id)&&h.mutate({taskId:e.Id})}),[h,m]),w=(0,o.useCallback)((function(){v.mutate(),r(!1)}),[v]),I=(0,o.useCallback)((function(){y.mutate(),f(!1)}),[y]);return(0,a.jsxs)(i.A,{id:"dashboardPage",title:s.Ay.translate("TabDashboard"),className:"mainAnimatedPage type-interior",children:[(0,a.jsx)(ae.A,{open:t,title:s.Ay.translate("Restart"),text:s.Ay.translate("MessageConfirmRestart"),onConfirm:w,onCancel:x,confirmButtonText:s.Ay.translate("Restart"),confirmButtonColor:"error"}),(0,a.jsx)(ae.A,{open:d,title:s.Ay.translate("ButtonShutdown"),text:s.Ay.translate("MessageConfirmShutdown"),onConfirm:I,onCancel:b,confirmButtonText:s.Ay.translate("ButtonShutdown"),confirmButtonColor:"error"}),(0,a.jsx)(c.A,{className:"content-primary",children:(0,a.jsxs)(l.Ay,{container:!0,spacing:3,children:[(0,a.jsx)(l.Ay,{item:!0,xs:12,md:7,lg:7,xl:6,children:(0,a.jsxs)(N.A,{spacing:3,children:[(0,a.jsx)(G,{onScanLibrariesClick:j,onRestartClick:g,onShutdownClick:A,isScanning:(null==p?void 0:p.State)!==ie.D.Idle}),(0,a.jsx)(rn,{}),(0,a.jsx)(ce,{tasks:m}),(0,a.jsx)(Ee,{})]})}),(0,a.jsx)(l.Ay,{item:!0,xs:12,md:5,lg:5,xl:3,children:(0,a.jsx)(ne,{})}),(0,a.jsx)(l.Ay,{item:!0,xs:12,md:6,lg:12,xl:3,children:(0,a.jsxs)(N.A,{spacing:3,children:[(0,a.jsx)(te,{}),(0,a.jsx)(F,{})]})})]})})]})};on.displayName="DashboardPage"},76562:function(e,n,t){function r(e){return new Promise((function(n,t){var r=new FileReader;r.onload=function(e){var t,r,a,o=null===(a=null===(r=null===(t=e.target)||void 0===t?void 0:t.result)||void 0===r?void 0:r.split)||void 0===a?void 0:a.call(r,",")[1];n(o)},r.onerror=t,r.readAsDataURL(e)}))}function a(e){return new Promise((function(n,t){var r=new FileReader;r.onload=function(e){var t,r=null===(t=e.target)||void 0===t?void 0:t.result;n(r)},r.onerror=t,r.readAsText(e)}))}function o(e,n){void 0===n&&(n=1);var t=Math.log(e)/Math.log(1024)|0;return(e/Math.pow(1024,t)).toFixed(n)+" "+(t?"KMGTPEZY"[--t]+"iB":"Bytes")}t.d(n,{Qv:function(){return a},We:function(){return r},iJ:function(){return o}})},76942:function(e,n,t){var r;function a(e){return void 0===e&&(e=!0),e?r.SquareOverflow:r.Square}function o(e){return void 0===e&&(e=!0),e?r.BackdropOverflow:r.Backdrop}function i(e){return void 0===e&&(e=!0),e?r.PortraitOverflow:r.Portrait}t.d(n,{G8:function(){return r},UI:function(){return o},xK:function(){return i},zP:function(){return a}}),function(e){e.Backdrop="backdrop",e.BackdropOverflow="overflowBackdrop",e.Banner="banner",e.Portrait="portrait",e.PortraitOverflow="overflowPortrait",e.Square="square",e.SquareOverflow="overflowSquare",e.Auto="auto",e.AutoHome="autohome",e.AutoOverflow="autooverflow",e.AutoVertical="autoVertical",e.Mixed="mixed",e.MixedSquare="mixedSquare",e.MixedBackdrop="mixedBackdrop",e.MixedPortrait="mixedPortrait"}(r||(r={}))}}]);