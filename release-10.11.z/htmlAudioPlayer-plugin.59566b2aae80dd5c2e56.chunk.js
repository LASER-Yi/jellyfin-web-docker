/*! For license information please see htmlAudioPlayer-plugin.59566b2aae80dd5c2e56.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[87903],{27907:function(e,t,n){n.r(t),n(29305),n(32733),n(84701),n(81678),n(2623),n(84734),n(44962),n(4754),n(10849),n(70389),n(94),n(36947),n(26437),n(52697),n(78557),n(90076),n(73687),n(83994),n(82367);var r,i=n(97339),o=n(80262),a=n(34789),u=n(22622),l=n(58180),c=n(57634),s=n(51876),m=n(38783),d=n(44797);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function v(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var l=r&&r.prototype instanceof u?r:u,c=Object.create(l.prototype);return y(c,"_invoke",function(n,r,i){var o,u,l,c=0,s=i||[],m=!1,d={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,u=0,l=e,d.n=n,a}};function f(n,r){for(u=n,l=r,t=0;!m&&c&&!i&&t<s.length;t++){var i,o=s[t],f=d.p,v=o[2];n>3?(i=v===r)&&(l=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=e):o[0]<=f&&((i=n<2&&f<o[1])?(u=0,d.v=r,d.n=o[1]):f<v&&(i=n<3||o[0]>r||r>v)&&(o[4]=n,o[5]=r,d.n=v,u=0))}if(i||n>1)return a;throw m=!0,r}return function(i,s,v){if(c>1)throw TypeError("Generator is already running");for(m&&1===s&&f(s,v),u=s,l=v;(t=u<2?e:l)||!m;){o||(u?u<3?(u>1&&(d.n=-1),f(u,l)):d.n=l:d.v=l);try{if(c=2,o){if(u||(i="next"),t=o[i]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,u<2&&(u=0)}else 1===u&&(t=o.return)&&t.call(o),u<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),u=1);o=e}else if((t=(m=d.n<0)?l:n.call(r,d))!==a)break}catch(t){o=e,u=1,l=t}finally{c=1}}return{value:t,done:m}}}(n,i,o),!0),c}var a={};function u(){}function l(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(y(t={},r,(function(){return this})),t),m=c.prototype=u.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,y(e,i,"GeneratorFunction")),e.prototype=Object.create(m),e}return l.prototype=c,y(m,"constructor",c),y(c,"constructor",l),l.displayName="GeneratorFunction",y(c,i,"GeneratorFunction"),y(m),y(m,i,"Generator"),y(m,r,(function(){return this})),y(m,"toString",(function(){return"[object Generator]"})),(v=function(){return{w:o,m:d}})()}function y(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}y=function(e,t,n,r){if(t)i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var o=function(t,n){y(e,t,(function(e){return this._invoke(t,n,e)}))};o("next",0),o("throw",1),o("return",2)}},y(e,t,n,r)}function p(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){p(o,r,i,a,u,"next",e)}function u(e){p(o,r,i,a,u,"throw",e)}a(void 0)}))}}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function b(e){var t=function(e){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(t)?t:t+""}function E(e,t,n){e._isFadingOut=!0;var i=Math.max(0,n-.15);return console.debug("fading volume to "+i),t.volume=i,i<=0?(e._isFadingOut=!1,Promise.resolve()):new Promise((function(n,o){P(),r=setTimeout((function(){E(e,t,i).then(n,o)}),100)}))}function P(){r&&(clearTimeout(r),r=null)}var k,_=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=this;function r(e){e.removeEventListener("timeupdate",f),e.removeEventListener("ended",c),e.removeEventListener("volumechange",y),e.removeEventListener("pause",b),e.removeEventListener("playing",p),e.removeEventListener("play",g),e.removeEventListener("waiting",k),e.removeEventListener("error",_)}function c(){l.X9(t,this,_)}function f(){var e=this.currentTime;t._isFadingOut||(t._currentTime=e,d.A.trigger(t,"timeupdate"))}function y(){t._isFadingOut||(l.iP(this.volume),a.A.safari&&t.gainNode&&(t.gainNode.gain.value=this.volume*t.normalizationGain),d.A.trigger(t,"volumechange"))}function p(e){t._started||(t._started=!0,this.removeAttribute("controls"),l.HI(t,e.target,t._currentPlayOptions.playerStartPositionTicks)),d.A.trigger(t,"playing")}function g(){d.A.trigger(t,"unpause")}function b(){d.A.trigger(t,"pause")}function k(){d.A.trigger(t,"waiting")}function _(){var e,n=this.error&&this.error.code||0,r=this.error&&this.error.message||"";switch(console.error("media element error: "+n.toString()+" "+r),n){case 1:default:return;case 2:e=o.F.NETWORK_ERROR;break;case 3:if(t._hlsPlayer)return void l.bR(t);e=o.F.MEDIA_DECODE_ERROR;break;case 4:e=o.F.MEDIA_NOT_SUPPORTED}l.jK(t,e)}t.name="Html Audio Player",t.type=m.Q.MediaPlayer,t.id="htmlaudioplayer",t.priority=1,t.play=function(e){return t._started=!1,t._timeUpdated=!1,t._currentTime=null,function(e,i){r(e),function(e){e.addEventListener("timeupdate",f),e.addEventListener("ended",c),e.addEventListener("volumechange",y),e.addEventListener("pause",b),e.addEventListener("playing",p),e.addEventListener("play",g),e.addEventListener("waiting",k)}(e);var o=i.url;console.debug("playing url: "+o),Promise.resolve().then(n.bind(n,82885)).then((function(n){var r;if("TrackGain"==n.selectAudioNormalization()){var o;r=null!==(o=i.item.NormalizationGain)&&void 0!==o?o:i.mediaSource.albumNormalizationGain}else{if("AlbumGain"!=n.selectAudioNormalization())return void console.debug("normalization disabled");var u;r=null!==(u=i.mediaSource.albumNormalizationGain)&&void 0!==u?u:i.item.NormalizationGain}(t.gainNode||(function(e){try{var n=new(window.AudioContext||window.webkitAudioContext),r=n.createMediaElementSource(e),i=n.createGain();r.connect(i),i.connect(n.destination),t.gainNode=i}catch(e){console.error("Web Audio API is not supported in this browser",e)}}(e),t.gainNode))&&(r?(t.normalizationGain=Math.pow(10,r/20),t.gainNode.gain.value=t.normalizationGain):(t.gainNode.gain.value=1,t.normalizationGain=1),a.A.safari&&(t.gainNode.gain.value*=e.volume),console.debug("gain: "+t.normalizationGain))})).catch((function(e){console.error("Failed to add/change gainNode",e)}));var u=(i.playerStartPositionTicks||0)/1e7;u&&(o+="#t="+u),l.JN(t),t._currentPlayOptions=i;var m,d,E=l.qQ(i.mediaSource);return E&&(e.crossOrigin=E),(m=o,i.item,d=i.mediaSource,l.JQ(d.RunTimeTicks,"Audio")?-1!==m.indexOf(".m3u8")?Promise.resolve():new Promise((function(e,t){Promise.resolve().then(n.bind(n,95700)).then((function(n){n.ajax({url:m,type:"HEAD"}).then((function(n){var r=(n.headers.get("Content-Type")||"").toLowerCase();"application/vnd.apple.mpegurl"===r||"application/x-mpegurl"===r?e():t()}),t)}))})):Promise.reject()).then((function(){return new Promise((function(r,i){var a;a=h(v().m((function n(){var a,u;return v().w((function(n){for(;;)switch(n.n){case 0:return n.n=1,(0,s.Io)();case 1:a=n.v,(u=new Hls({manifestLoadingTimeOut:2e4,xhrSetup:function(e){e.withCredentials=a}})).loadSource(o),u.attachMedia(e),l.EK(t,u,e,_,r,i),t._hlsPlayer=u,t._currentSrc=o;case 2:return n.a(2)}}),n)}))),Promise.all([n.e(62907),n.e(86136)]).then(n.t.bind(n,5725,23)).then((function(e){var t=e.default;t.DefaultConfig.lowLatencyMode=!1,t.DefaultConfig.backBufferLength=1/0,t.DefaultConfig.liveBackBufferLength=90,window.Hls=t,a()}))}))}),h(v().m((function n(){return v().w((function(n){for(;;)switch(n.n){case 0:return e.autoplay=!0,n.n=1,(0,s.Io)();case 1:return n.v&&(e.crossOrigin="use-credentials"),n.a(2,l.n8(e,o,i).then((function(){return t._currentSrc=o,l.Oy(e,_)})))}}),n)}))))}((o=t._mediaElement)||((o=document.querySelector(".mediaPlayerAudio"))||((o=document.createElement("audio")).classList.add("mediaPlayerAudio"),o.classList.add("hide"),document.body.appendChild(o)),u.g.supports(i.Y.PhysicalVolumeControl)||(o.volume=l.Y3()),t._mediaElement=o,o),e);var o},t.stop=function(e){P();var n=t._mediaElement,r=t._currentSrc;if(n&&r){if(!e||a.A.tv)return n.pause(),l.X9(t,n,_),e&&t.destroy(),Promise.resolve();var i=n.volume;return E(t,n,n.volume).then((function(){n.pause(),n.volume=i,l.X9(t,n,_),e&&t.destroy()}))}return Promise.resolve()},t.destroy=function(){r(t._mediaElement),l.si(t._mediaElement)}},(t=[{key:"currentSrc",value:function(){return this._currentSrc}},{key:"canPlayMediaType",value:function(e){return"audio"===(e||"").toLowerCase()}},{key:"getDeviceProfile",value:function(e){return u.g.getDeviceProfile?u.g.getDeviceProfile(e):(0,c.A)({})}},{key:"toggleAirPlay",value:function(){return this.setAirPlayEnabled(!this.isAirPlayEnabled())}},{key:"currentTime",value:function(e){var t=this._mediaElement;if(t){if(null!=e)return void(t.currentTime=e/1e3);var n=this._currentTime;return n?1e3*n:1e3*(t.currentTime||0)}}},{key:"duration",value:function(){var e=this._mediaElement;if(e){var t=e.duration;if(l.di(t))return 1e3*t}return null}},{key:"seekable",value:function(){var e=this._mediaElement;if(e){var t=e.seekable;if(null!=t&&t.length){var n=t.start(0),r=t.end(0);return l.di(n)||(n=0),l.di(r)||(r=0),r-n>0}return!1}}},{key:"getBufferedRanges",value:function(){var e=this._mediaElement;return e?l.qh(this,e):[]}},{key:"pause",value:function(){var e=this._mediaElement;e&&e.pause()}},{key:"resume",value:function(){this.unpause()}},{key:"unpause",value:function(){var e=this._mediaElement;e&&e.play()}},{key:"paused",value:function(){var e=this._mediaElement;return!!e&&e.paused}},{key:"setPlaybackRate",value:function(e){var t=this._mediaElement;t&&(t.playbackRate=e)}},{key:"getPlaybackRate",value:function(){var e=this._mediaElement;return e?e.playbackRate:null}},{key:"setVolume",value:function(e){var t=this._mediaElement;t&&(t.volume=Math.pow(e/100,3))}},{key:"getVolume",value:function(){var e=this._mediaElement;if(e)return Math.min(Math.round(100*Math.pow(e.volume,1/3)),100)}},{key:"volumeUp",value:function(){this.setVolume(Math.min(this.getVolume()+2,100))}},{key:"volumeDown",value:function(){this.setVolume(Math.max(this.getVolume()-2,0))}},{key:"setMute",value:function(e){var t=this._mediaElement;t&&(t.muted=e)}},{key:"isMuted",value:function(){var e=this._mediaElement;return!!e&&e.muted}},{key:"isAirPlayEnabled",value:function(){return!!document.AirPlayEnabled&&!!document.AirplayElement}},{key:"setAirPlayEnabled",value:function(e){var t=this._mediaElement;t&&(document.AirPlayEnabled?e?t.requestAirPlay().catch((function(e){console.error("Error requesting AirPlay",e)})):document.exitAirPLay().catch((function(e){console.error("Error exiting AirPlay",e)})):t.webkitShowPlaybackTargetPicker())}},{key:"supports",value:function(e){return k||(t=[],"number"==typeof document.createElement("audio").playbackRate&&t.push("PlaybackRate"),a.A.safari&&t.push("AirPlay"),k=t),-1!==k.indexOf(e);var t}}])&&g(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();t.default=_}}]);