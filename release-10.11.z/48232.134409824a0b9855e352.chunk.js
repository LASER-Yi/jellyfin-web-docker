"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[48232],{48232:function(e,a,t){t.r(a),t.d(a,{default:function(){return R},show:function(){return $}}),t(24776),t(86584),t(9698),t(78557),t(90076);var n,i,r,o,l,s,c=t(97339),d=t(36300),u=t(8566),v=t(22622),g=t(79754),m=t(76542),p=t(34789),b=t(46782),y=t(10838),h=t(5898),f=t(67430),A=(t(77157),t(15453),t(10353),'<div class="formDialogHeader"> <button is="paper-icon-button-light" class="btnCancel autoSize" tabindex="-1" title="${ButtonBack}"><span class="material-icons arrow_back" aria-hidden="true"></span></button> <h3 class="formDialogHeaderTitle"> ${Search} </h3> </div> <div class="formDialogContent smoothScrollY"> <div class="dialogContentInner"> <div class="flex align-items-center justify-content-center flex-wrap-wrap" style="margin:2em 0"> <div style="margin:0"> <div class="selectContainer"> <select id="selectImageProvider" name="selectImageProvider" is="emby-select" label="${LabelSource}"> <option value="">${All}</option> </select> </div> </div> <div style="margin-left:1em"> <div class="selectContainer"> <select id="selectBrowsableImageType" name="selectBrowsableImageType" is="emby-select" label="${LabelType}"> <option value="Primary">${Primary}</option> <option value="Art">${Art}</option> <option value="Backdrop">${Backdrop}</option> <option value="Banner">${Banner}</option> <option value="Box">${Box}</option> <option value="BoxRear">${BoxRear}</option> <option value="Disc">${Disc}</option> <option value="Logo">${Logo}</option> <option value="Menu">${Menu}</option> <option value="Thumb">${Thumb}</option> </select> </div> </div> <div class="availableImagesPaging" style="margin-left:1em"></div> <label style="margin:0 0 0 1em;width:auto"> <input id="chkAllLanguages" type="checkbox" is="emby-checkbox"/> <span>${AllLanguages}</span> </label> <label id="lblShowParentImages" class="hide" style="margin:0 0 0 1em;width:auto"> <input id="chkShowParentImages" type="checkbox" is="emby-checkbox"/> <span>${ShowParentImages}</span> </label> </div> <div class="availableImagesList vertical-wrap centered"></div> </div> </div> '),k=!p.A.slow&&!p.A.edge,C=!1,w=p.A.slow?6:30,I=0,x="Primary";function L(e){var a={};return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!e.querySelector("#chkShowParentImages").checked||!s?a.itemId=n:a.itemId=s,a}function P(e,a){u.Ay.show();var t=L(e);t.type=x,t.startIndex=I,t.limit=w,t.IncludeAllLanguages=e.querySelector("#chkAllLanguages").checked;var n=l||"";n&&(t.ProviderName=n),a.getAvailableRemoteImages(t).then((function(i){!function(e,a,t,n,i,r){e.querySelector(".availableImagesPaging").innerHTML=function(e,a,t){var n="",i=Math.min(e+a,t),r=t>a;n+='<div class="listPaging">',n+='<span style="margin-right: 10px;">';var o=t?e+1:0;return n+=h.Ay.translate("ListPaging",o,i,t),n+="</span>",r&&(n+='<div data-role="controlgroup" data-type="horizontal" style="display:inline-block;">',n+='<button is="paper-icon-button-light" title="'.concat(h.Ay.translate("Previous"),'" class="btnPreviousPage autoSize" ').concat(e?"":"disabled",'><span class="material-icons arrow_back" aria-hidden="true"></span></button>'),n+='<button is="paper-icon-button-light" title="'.concat(h.Ay.translate("Next"),'" class="btnNextPage autoSize" ').concat(e+a>=t?"disabled":"",'><span class="material-icons arrow_forward" aria-hidden="true"></span></button>'),n+="</div>"),n+="</div>"}(i,r,t.TotalRecordCount);for(var o="",l=0,s=t.Images.length;l<s;l++)o+=T(t.Images[l],n);var c=e.querySelector(".availableImagesList");c.innerHTML=o,m.default.lazyChildren(c);var d=e.querySelector(".btnNextPage"),u=e.querySelector(".btnPreviousPage");d&&d.addEventListener("click",(function(){I+=w,P(e,a)})),u&&u.addEventListener("click",(function(){I-=w,P(e,a)}))}(e,a,i,x,t.startIndex,t.limit),e.querySelector("#selectBrowsableImageType").value=x;var r=i.Providers.map((function(e){return'<option value="'+e+'">'+e+"</option>"})),o=e.querySelector("#selectImageProvider");o.innerHTML='<option value="">'+h.Ay.translate("All")+"</option>"+r,o.value=n,u.Ay.hide()}))}function S(e,a,t,n,i){var r=L(e,!0);r.Type=n,r.ImageUrl=t,r.ProviderName=i,u.Ay.show(),a.downloadRemoteImage(r).then((function(){C=!0;var a=d.Ay.parentWithClass(e,"dialog");g.default.close(a)}))}function T(e,a){var t,n=b.A.tv?"button":"div",r=!b.A.tv,o="",l="card scalableCard imageEditorCard";return l+=" "+(t="Backdrop"===a||"Art"===a||"Thumb"===a||"Logo"===a?"backdrop":"Banner"===a?"banner":"Disc"===a?"square":"Episode"===i?"backdrop":"MusicAlbum"===i||"MusicArtist"===i?"square":"portrait")+"Card "+t+"Card-scalable","button"===n?(l+=" btnImageCard",b.A.tv&&(l+=" show-focus",k&&(l+=" show-animation")),o+='<button type="button" class="'+l+'"'):o+='<div class="'+l+'"',o+=' data-imageprovider="'+e.ProviderName+'" data-imageurl="'+e.Url+'" data-imagetype="'+e.Type+'"',o+=">",o+='<div class="cardBox visualCardBox">',o+='<div class="cardScalable visualCardBox-cardScalable" style="background-color:transparent;">',o+='<div class="cardPadder-'+t+'"></div>',o+='<div class="cardContent">',b.A.tv||!v.g.supports(c.Y.ExternalLinks)?o+='<div class="cardImageContainer lazy" data-src="'+e.Url+'" style="background-position:center center;background-size:contain;"></div>':o+='<a is="emby-linkbutton" target="_blank" href="'+e.Url+'" class="button-link cardImageContainer lazy" data-src="'+e.Url+'" style="background-position:center center;background-size:contain"></a>',o+="</div>",o+="</div>",o+='<div class="cardFooter visualCardBox-cardFooter">',o+='<div class="cardText cardTextCentered">'+e.ProviderName+"</div>",(e.Width||e.Height||e.Language)&&(o+='<div class="cardText cardText-secondary cardTextCentered">',e.Width&&e.Height?(o+=e.Width+" x "+e.Height,e.Language&&(o+=" • "+e.Language)):e.Language&&(o+=e.Language),o+="</div>"),null!=e.CommunityRating&&(o+='<div class="cardText cardText-secondary cardTextCentered">',"Likes"===e.RatingType?o+=e.CommunityRating+(1===e.CommunityRating?" like":" likes"):e.CommunityRating?(o+=e.CommunityRating.toFixed(1),e.VoteCount&&(o+=" • "+e.VoteCount+(1===e.VoteCount?" vote":" votes"))):o+="Unrated",o+="</div>"),r&&(o+='<div class="cardText cardTextCentered">',o+='<button is="paper-icon-button-light" class="btnDownloadRemoteImage autoSize" raised" title="'.concat(h.Ay.translate("Download"),'"><span class="material-icons cloud_download" aria-hidden="true"></span></button>'),o+="</div>"),o+="</div>",(o+="</div>")+"</"+n+">"}function B(e,a){I=0,P(e,a)}function q(){b.A.tv&&y.default.centerFocus.off(this,!1),u.Ay.hide(),C?r():o()}function $(e,a,t,c,v){return new Promise((function(m,p){r=m,o=p,C=!1,I=0,x=c||"Primary",l=null,s=v,function(e,a,t){u.Ay.show();var r=f.tF.getApiClient(a);n=e,i=t;var o={removeOnClose:!0};b.A.tv?o.size="fullscreen":o.size="small";var c=g.default.createDialog(o);c.innerHTML=h.Ay.translateHtml(A,"core"),b.A.tv&&y.default.centerFocus.on(c,!1),s&&c.querySelector("#lblShowParentImages").classList.remove("hide"),c.addEventListener("close",q),g.default.open(c);var v=c.querySelector(".formDialogContent");!function(e,a){e.querySelector("#selectBrowsableImageType").addEventListener("change",(function(){x=this.value,l=null,B(e,a)})),e.querySelector("#selectImageProvider").addEventListener("change",(function(){l=this.value,B(e,a)})),e.querySelector("#chkAllLanguages").addEventListener("change",(function(){B(e,a)})),e.querySelector("#chkShowParentImages").addEventListener("change",(function(){B(e,a)})),e.addEventListener("click",(function(t){var n=d.Ay.parentWithClass(t.target,"btnDownloadRemoteImage");if(n){var i=d.Ay.parentWithClass(n,"card");S(e,a,i.getAttribute("data-imageurl"),i.getAttribute("data-imagetype"),i.getAttribute("data-imageprovider"))}else{var r=d.Ay.parentWithClass(t.target,"btnImageCard");r&&S(e,a,r.getAttribute("data-imageurl"),r.getAttribute("data-imagetype"),r.getAttribute("data-imageprovider"))}}))}(v,r),c.querySelector(".btnCancel").addEventListener("click",(function(){g.default.close(c)})),P(v,r)}(e,a,t)}))}var R={show:$}}}]);