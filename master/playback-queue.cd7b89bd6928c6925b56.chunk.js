/*! For license information please see playback-queue.cd7b89bd6928c6925b56.chunk.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[15098,49213,85441],{69011:function(e,t,n){"use strict";n(96626),t.Z={getNowPlayingNames:function(e,t){var n,i,r=e,a=null,l=e.Name;e.AlbumId&&"Audio"===e.MediaType&&(r={Id:e.AlbumId,Name:e.Album,Type:"MusicAlbum",IsFolder:!0}),"Video"===e.MediaType&&(null!=e.IndexNumber&&(l=e.IndexNumber+" - "+l),null!=e.ParentIndexNumber&&(l=e.ParentIndexNumber+"."+l));var s="";null!==(n=e.ArtistItems)&&void 0!==n&&n.length?(a={Id:e.ArtistItems[0].Id,Name:e.ArtistItems[0].Name,Type:"MusicArtist",IsFolder:!0},s=e.ArtistItems.map((function(e){return e.Name})).join(", ")):null!==(i=e.Artists)&&void 0!==i&&i.length?s=e.Artists.join(", "):e.SeriesName||e.Album?(s=l,l=e.SeriesName||e.Album,a=r,r=e.SeriesId?{Id:e.SeriesId,Name:e.SeriesName,Type:"Series",IsFolder:!0}:null):e.ProductionYear&&!1!==t&&(s=e.ProductionYear);var o=[];return o.push({text:l,item:r}),s&&o.push({text:s,item:a}),o}}},62010:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}}),n(54134),n(91270),n(56187),n(38690),n(89228),n(13227),n(96626),n(81414),n(37666),n(14011),n(11431),n(54112),n(59139),n(86028),n(84159),n(88646),n(62659),n(44901),n(66066),n(33370),n(11908),n(2663),n(63241);var i=n(65009),r=n.n(i),a=n(61693),l=n(57084),s=n(63873),o=n(85432),u=n(2513),c=n(69011),d=n(74131),f=n(92811),m=n(94994),y=n(30325),g=n(60934),v=n(9337),h=(n(38228),n(61414),n(82427),n(27636),n(42855),n(18613)),p=n(56663),S=n(66560),b=n(84483);function I(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw a}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var T=!0,L=!0;function q(e,t){t?e.classList.remove("hide"):e.classList.add("hide")}function x(){function e(e,n,a){K=a;var s=a.NowPlayingItem,o=u.O.getPlayerInfo().supportedCommands;Y=o;var d=a.PlayState||{},f=o.includes("DisplayMessage")||o.includes("SendString")||o.includes("Select");if(q(n.querySelector(".btnToggleFullscreen"),s&&"Video"==s.MediaType&&o.includes("ToggleFullscreen")),function(e,t){var n=Y;q(t.querySelector(".btnAudioTracks"),u.O.audioTracks(e).length>1&&-1!=n.indexOf("SetAudioStreamIndex"))}(e,n),function(e,t){var n=Y;q(t.querySelector(".btnSubtitles"),u.O.subtitleTracks(e).length&&-1!=n.indexOf("SetSubtitleStreamIndex"))}(e,n),o.includes("DisplayMessage")&&!z.isLocalPlayer?n.querySelector(".sendMessageSection").classList.remove("hide"):n.querySelector(".sendMessageSection").classList.add("hide"),o.includes("SendString")&&!z.isLocalPlayer?n.querySelector(".sendTextSection").classList.remove("hide"):n.querySelector(".sendTextSection").classList.add("hide"),o.includes("Select")&&!z.isLocalPlayer?n.querySelector(".navigationSection").classList.remove("hide"):n.querySelector(".navigationSection").classList.add("hide"),f&&!z.isLocalPlayer?n.querySelector(".remoteControlSection").classList.remove("hide"):n.querySelector(".remoteControlSection").classList.add("hide"),q(n.querySelector(".btnStop"),null!=s),q(n.querySelector(".btnNextTrack"),null!=s),q(n.querySelector(".btnPreviousTrack"),null!=s),y.Z.mobile){var m=u.O.isPlayingVideo()&&null!==s,p=!u.O.isPlayingVideo()&&null!==s,S=p&&"AudioBook"==s.Type;q(n.querySelector(".btnRepeat"),p&&!S),q(n.querySelector(".btnShuffleQueue"),p&&!S),q(n.querySelector(".btnRewind"),m||S),q(n.querySelector(".btnFastForward"),m||S),q(n.querySelector(".nowPlayingSecondaryButtons .btnShuffleQueue"),m),q(n.querySelector(".nowPlayingSecondaryButtons .btnRepeat"),m)}else q(n.querySelector(".btnRewind"),null!=s),q(n.querySelector(".btnFastForward"),null!=s);var T=n.querySelector(".nowPlayingPositionSlider");if(T&&s&&s.RunTimeTicks&&T.setKeyboardSteps(1e6*g.skipBackLength()/s.RunTimeTicks,1e6*g.skipForwardLength()/s.RunTimeTicks),T&&!T.dragging){T.disabled=!d.CanSeek;var L=a.MediaSource&&null==a.MediaSource.RunTimeTicks;T.setIsClear(L)}P(d.IsPaused,null!=s),x(d.PositionTicks,s?s.RunTimeTicks:null),i(n,d.IsMuted,d.VolumeLevel),s&&"Video"==s.MediaType?n.classList.remove("hideVideoButtons"):n.classList.add("hideVideoButtons"),t(u.O.getRepeatMode()),O(!1),function(e,t,n){var i,a=t.NowPlayingItem,s=a?(i=a,c.Z.getNowPlayingNames(i,void 0).map((function(e){return r()(e.text)})).join("<br/>")).replace("<br/>"," - "):"";if(a){var o=a.ServerId||n;if("AudioBook"==a.Type||"Audio"==a.Type||"Audio"==a.MediaStreams[0].Type){var u="",d="";if(null!=a.Artists)if(null!=a.ArtistItems){var f,m=I(a.ArtistItems);try{for(m.s();!(f=m.n()).done;){var y=f.value;u+='<a class="button-link emby-button" is="emby-linkbutton" href="#/details?id='.concat(y.Id,"&serverId=").concat(o,'">').concat(r()(y.Name),"</a>"),y!==a.ArtistItems.slice(-1)[0]&&(u+=", ")}}catch(e){m.e(e)}finally{m.f()}}else if(a.Artists){var g,p=I(a.Artists);try{for(p.s();!(g=p.n()).done;){var S=g.value;u+="<a>".concat(r()(S),"</a>"),S!==a.Artists.slice(-1)[0]&&(u+=", ")}}catch(e){p.e(e)}finally{p.f()}}null!=a.Album&&(d='<a class="button-link emby-button" is="emby-linkbutton" href="#/details?id='+a.AlbumId+"&serverId=".concat(o,'">')+r()(a.Album)+"</a>"),e.querySelector(".nowPlayingAlbum").innerHTML=d,e.querySelector(".nowPlayingArtist").innerHTML=u,e.querySelector(".nowPlayingSongName").innerText=a.Name}else if("Episode"==a.Type){if(null!=a.SeasonName){var P=a.SeasonName;e.querySelector(".nowPlayingSeason").innerHTML='<a class="button-link emby-button" is="emby-linkbutton" href="#/details?id='+a.SeasonId+"&serverId=".concat(o,'">').concat(r()(P),"</a>")}if(null!=a.SeriesName){var T=a.SeriesName;null!=a.SeriesId?e.querySelector(".nowPlayingSerie").innerHTML='<a class="button-link emby-button" is="emby-linkbutton" href="#/details?id='+a.SeriesId+"&serverId=".concat(o,'">').concat(r()(T),"</a>"):e.querySelector(".nowPlayingSerie").innerText=T}e.querySelector(".nowPlayingEpisode").innerText=a.Name}else e.querySelector(".nowPlayingPageTitle").innerHTML=s;s.length>0&&"Audio"!=a.Type&&"Episode"!=a.Type?e.querySelector(".nowPlayingPageTitle").classList.remove("hide"):e.querySelector(".nowPlayingPageTitle").classList.add("hide");var L=function(e,t){if("Episode"!==e.Type)return null;if((t=t||{}).type=t.type||"Primary","Primary"===t.type&&e.SeriesPrimaryImageTag)return t.tag=e.SeriesPrimaryImageTag,h.Z.getApiClient(e.ServerId).getScaledImageUrl(e.SeriesId,t);if("Thumb"===t.type){if(e.SeriesThumbImageTag)return t.tag=e.SeriesThumbImageTag,h.Z.getApiClient(e.ServerId).getScaledImageUrl(e.SeriesId,t);if(e.ParentThumbImageTag)return t.tag=e.ParentThumbImageTag,h.Z.getApiClient(e.ServerId).getScaledImageUrl(e.ParentThumbItemId,t)}return null}(a,{maxHeight:300})||function(e,t){var n;return(t=t||{}).type=t.type||"Primary",null!==(n=e.ImageTags)&&void 0!==n&&n[t.type]?(t.tag=e.ImageTags[t.type],h.Z.getApiClient(e.ServerId).getScaledImageUrl(e.PrimaryImageItemId||e.Id,t)):e.AlbumId&&e.AlbumPrimaryImageTag?(t.tag=e.AlbumPrimaryImageTag,h.Z.getApiClient(e.ServerId).getScaledImageUrl(e.AlbumId,t)):null}(a,{maxHeight:300}),q=e.querySelector(".btnToggleContextMenu"),x=document.activeElement===q,A=q.cloneNode(!0);q.parentNode.replaceChild(A,q),q=e.querySelector(".btnToggleContextMenu"),x&&q.focus();var w={play:!1,queue:!1,stopPlayback:!0,clearQueue:!0,openAlbum:!1,positionTo:q},k=h.Z.getApiClient(a.ServerId);k.getItem(k.getCurrentUserId(),a.Id).then((function(e){k.getCurrentUser().then((function(t){q.addEventListener("click",(function(){v.default.show(Object.assign({item:e,user:t},w)).catch((function(){}))}))}))})),function(e,t,n){var i=t.NowPlayingItem,r=e.querySelector(".nowPlayingPageImageContainer");n?(r.innerHTML='<img class="nowPlayingPageImage" src="'+n+'" />',e.querySelector(".nowPlayingPageImage").classList.toggle("nowPlayingPageImageAudio","Audio"===i.Type),e.querySelector(".nowPlayingPageImage").classList.toggle("nowPlayingPageImagePoster","Audio"!==i.Type)):r.innerHTML='<div class="nowPlayingPageImageContainerNoAlbum"><button data-action="link" class="cardImageContainer coveredImage '+(0,b.Rk)(i.Name)+' cardContent cardContent-shadow itemAction"><span class="cardImageIcon material-icons album" aria-hidden="true"></span></button></div>'}(e,t,L),(0,l.pZ)([a]),k.getItem(k.getCurrentUserId(),a.Id).then((function(t){var n=t.UserData||{},i=null==n.Likes?"":n.Likes;e.querySelector(".nowPlayingPageUserDataButtonsTitle").innerHTML='<button is="emby-ratingbutton" type="button" class="listItemButton paper-icon-button-light" data-id="'+t.Id+'" data-serverid="'+t.ServerId+'" data-itemtype="'+t.Type+'" data-likes="'+i+'" data-isfavorite="'+n.IsFavorite+'"><span class="material-icons favorite" aria-hidden="true"></span></button>',e.querySelector(".nowPlayingPageUserDataButtons").innerHTML='<button is="emby-ratingbutton" type="button" class="listItemButton paper-icon-button-light" data-id="'+t.Id+'" data-serverid="'+t.ServerId+'" data-itemtype="'+t.Type+'" data-likes="'+i+'" data-isfavorite="'+n.IsFavorite+'"><span class="material-icons favorite" aria-hidden="true"></span></button>'}))}else(0,l.rs)(),e.querySelector(".nowPlayingPageUserDataButtons").innerHTML=""}(n,a)}function t(e){var t=Q.querySelectorAll(".repeatToggleButton"),n='<span class="material-icons repeat" aria-hidden="true"></span>',i=!0;switch(e){case"RepeatAll":break;case"RepeatOne":n='<span class="material-icons repeat_one" aria-hidden="true"></span>';break;default:i=!1}var r,a=I(t);try{for(a.s();!(r=a.n()).done;){var l=r.value;l.classList.toggle("buttonActive",i),l.innerHTML=n}}catch(e){a.e(e)}finally{a.f()}}function i(e,t,n){var i=e,r=Y;-1===r.indexOf("Mute")&&(T=!1),-1===r.indexOf("SetVolume")&&(L=!1),z.isLocalPlayer&&f.M.supports("physicalvolumecontrol")&&(T=!1,L=!1);var a=i.querySelector(".buttonMute"),l=a.querySelector(".material-icons");if(l.classList.remove("volume_off","volume_up"),t?(a.setAttribute("title",m.ZP.translate("Unmute")),l.classList.add("volume_off")):(a.setAttribute("title",m.ZP.translate("Mute")),l.classList.add("volume_up")),T||L){a.classList.toggle("hide",!T);var s=e.querySelector(".nowPlayingVolumeSlider"),o=e.querySelector(".nowPlayingVolumeSliderContainer");s&&(o.classList.toggle("hide",!L),s.dragging||(s.value=n||0))}else e.querySelector(".volumecontrol").classList.add("hide")}function P(e,t){var n=Q,i=n.querySelector(".btnPlayPause"),r=i.querySelector(".material-icons");r.classList.remove("play_circle_filled","pause_circle_filled"),r.classList.add(e?"play_circle_filled":"pause_circle_filled");var a=n.querySelector(".playlistIndexIndicatorImage");a&&a.classList.toggle("playlistIndexIndicatorPausedImage",e),q(i,t)}function x(e,t){var n=Q,i=n.querySelector(".nowPlayingPositionSlider");if(i&&!i.dragging)if(t){var r=e/t;r*=100,i.value=r}else i.value=0;n.querySelector(".positionTime").innerHTML=Number.isFinite(e)?a.ZP.getDisplayRunningTime(e):"--:--",n.querySelector(".runtime").innerHTML=Number.isFinite(t)?a.ZP.getDisplayRunningTime(t):"--:--"}function A(e){return u.O.getPlaylist(e)}function w(e,t){console.debug("remotecontrol event: "+e.type),E.call(this,e,t)}function k(){t(u.O.getRepeatMode())}function O(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=u.O.getQueueShuffleMode(this),i="buttonActive",r=I(Q.querySelectorAll(".btnShuffleQueue"));try{for(r.s();!(e=r.n()).done;){var a=e.value;"Shuffle"===n?a.classList.add(i):a.classList.remove(i)}}catch(e){r.e(e)}finally{r.f()}t&&C()}function C(){var e,t;e=Q,A(t=this).then((function(n){var i="",r=!0;y.Z.mobile&&(n.length>0?e.querySelector(".btnTogglePlaylist").classList.remove("hide"):e.querySelector(".btnTogglePlaylist").classList.add("hide"),r=!1),i+=s.Z.getListViewHtml({items:n,smallIcon:!0,action:"setplaylistindex",enableUserDataButtons:r,rightButtons:[{icon:"remove_circle_outline",title:m.ZP.translate("ButtonRemove"),id:"remove"}],dragHandle:!0});var a=e.querySelector(".playlist"),l=a.querySelector("button:focus");if(a.innerHTML=i,null!==l){l=l.getAttribute("data-playlistitemid");var c=a.querySelector('button[data-playlistitemid="'.concat(l,'"]'));null!==c&&c.focus()}var d=u.O.getCurrentPlaylistItemId(t);if(d){var f=a.querySelector('.listItem[data-playlistItemId="'.concat(d,'"] .listItemImage'));f&&(f.classList.remove("lazy"),f.classList.add("playlistIndexIndicatorImage"),f.classList.toggle("playlistIndexIndicatorPausedImage",u.O.paused()))}o.default.lazyChildren(a)}))}function Z(e,t){var n=Q;if(void 0!==t)for(var i=t.playlistItemIds,r=0,a=i.length;r<a;r++){var l=n.querySelector('.listItem[data-playlistItemId="'+i[r]+'"]');l&&l.parentNode.removeChild(l)}else C()}function M(t,n){console.debug("remotecontrol event: "+t.type),n.NextMediaType||(e(this,Q,{}),S.appRouter.back())}function N(){P(this.paused(),!0)}function E(t,n){e(this,Q,n),C()}function R(){var e=(new Date).getTime();e-W>=700&&(W=e,$=u.O.duration(this),x(1e4*u.O.currentTime(this),$))}function D(){i(Q,this.isMuted(),this.getVolume())}function H(){var e=z;e&&(d.Z.off(e,"playbackstart",w),d.Z.off(e,"statechange",E),d.Z.off(e,"repeatmodechange",k),d.Z.off(e,"shufflequeuemodechange",O),d.Z.off(e,"playlistitemremove",Z),d.Z.off(e,"playlistitemmove",C),d.Z.off(e,"playlistitemadd",C),d.Z.off(e,"playbackstop",M),d.Z.off(e,"volumechange",D),d.Z.off(e,"pause",N),d.Z.off(e,"unpause",N),d.Z.off(e,"timeupdate",R),z=null)}function B(e,t){if(H(),z=t,t){var n=u.O.getPlayerState(t);E.call(t,{type:"init"},n),d.Z.on(t,"playbackstart",w),d.Z.on(t,"statechange",E),d.Z.on(t,"repeatmodechange",k),d.Z.on(t,"shufflequeuemodechange",O),d.Z.on(t,"playlistitemremove",Z),d.Z.on(t,"playlistitemmove",C),d.Z.on(t,"playlistitemadd",C),d.Z.on(t,"playbackstop",M),d.Z.on(t,"volumechange",D),d.Z.on(t,"pause",N),d.Z.on(t,"unpause",N),d.Z.on(t,"timeupdate",R);var i=u.O.getPlayerInfo().supportedCommands;Y=i,function(e,t){for(var n=e.querySelectorAll(".btnCommand"),i=0,r=n.length;i<r;i++){var a=-1!==t.indexOf(n[i].getAttribute("data-command"));n[i].disabled=!a}}(e,i)}}function F(){z&&(this.classList.contains("repeatToggleButton")?function(){switch(u.O.getRepeatMode()){case"RepeatAll":u.O.setRepeatMode("RepeatOne");break;case"RepeatOne":u.O.setRepeatMode("RepeatNone");break;case"RepeatNone":u.O.setRepeatMode("RepeatAll")}}():u.O.sendCommand({Name:this.getAttribute("data-command")},z))}function j(){n.e(10586).then(n.bind(n,43126)).then((function(e){var t=e.default;A(z).then((function(e){return e.filter((function(e){return e.Id&&e.ServerId}))})).then((function(e){var n=e.length?e[0].ServerId:ApiClient.serverId();(new t).show({items:e.map((function(e){return e.Id})),serverId:n,enableAddToPlayQueue:!1,defaultValue:"new"}).catch((function(){}))}))})).catch((function(e){console.error("[savePlaylist] failed to load playlist editor",e)}))}function V(){B(Q,u.O.getCurrentPlayer())}function U(e){var t=e.target;return u.O.sendCommand({Name:"DisplayMessage",Arguments:{Header:t.querySelector("#txtMessageTitle").value,Text:t.querySelector("#txtMessageText",t).value}},z),t.querySelector("input").value="",(0,p.Z)(m.ZP.translate("MessageSent")),e.preventDefault(),e.stopPropagation(),!1}function _(e){var t=e.target;return u.O.sendCommand({Name:"SendString",Arguments:{String:t.querySelector("#txtTypeText",t).value}},z),t.querySelector("input").value="",(0,p.Z)(m.ZP.translate("TextSent")),e.preventDefault(),e.stopPropagation(),!1}var Q,z,K,Y=[],W=0,$=0,G=this;G.init=function(e,t){!function(e,t){var i='<div class="volumecontrol flex align-items-center flex-wrap-wrap justify-content-center">';i+='<button is="paper-icon-button-light" class="buttonMute autoSize" title='.concat(m.ZP.translate("Mute"),'><span class="xlargePaperIconButton material-icons volume_up" aria-hidden="true"></span></button>'),i+='<div class="sliderContainer nowPlayingVolumeSliderContainer"><input is="emby-slider" type="range" step="1" min="0" max="100" value="0" class="nowPlayingVolumeSlider"/></div>',i+="</div>";var r=t.querySelector(".playlistSectionButton");if(y.Z.mobile?(r.querySelector(".btnTogglePlaylist").insertAdjacentHTML("afterend",i),r.classList.add("playlistSectionButtonTransparent"),t.querySelector(".btnTogglePlaylist").classList.remove("hide"),t.querySelector(".playlistSectionButton").classList.remove("justify-content-center"),t.querySelector(".playlistSectionButton").classList.add("justify-content-space-between")):(t.querySelector(".nowPlayingSecondaryButtons").insertAdjacentHTML("beforeend",i),r.classList.remove("align-items-center","justify-content-center"),r.classList.add("align-items-right","justify-content-flex-end"),t.querySelector(".playlist").classList.remove("hide"),t.querySelector(".btnSavePlaylist").classList.remove("hide"),t.classList.add("padded-bottom")),function(e){for(var t=e.querySelectorAll(".btnCommand"),i=e.querySelector(".nowPlayingPositionSlider"),r=0,l=t.length;r<l;r++)t[r].addEventListener("click",F);e.querySelector(".btnToggleFullscreen").addEventListener("click",(function(){z&&u.O.toggleFullscreen(z)})),e.querySelector(".btnAudioTracks").addEventListener("click",(function(e){var t,i,r,a;z&&K&&K.NowPlayingItem&&(t=z,i=e.target,r=u.O.getAudioStreamIndex(t),a=u.O.audioTracks(t).map((function(e){var t={name:e.DisplayTitle,id:e.Index};return e.Index==r&&(t.selected=!0),t})),Promise.resolve().then(n.bind(n,78130)).then((function(e){e.show({items:a,positionTo:i,callback:function(e){u.O.setAudioStreamIndex(parseInt(e,10),t)}})})))})),e.querySelector(".btnSubtitles").addEventListener("click",(function(e){var t,i,r,a;z&&K&&K.NowPlayingItem&&(t=z,i=e.target,r=u.O.getSubtitleStreamIndex(t),(a=u.O.subtitleTracks(t).map((function(e){var t={name:e.DisplayTitle,id:e.Index};return e.Index==r&&(t.selected=!0),t}))).unshift({id:-1,name:m.ZP.translate("Off"),selected:null==r}),Promise.resolve().then(n.bind(n,78130)).then((function(e){e.show({items:a,positionTo:i,callback:function(e){u.O.setSubtitleStreamIndex(parseInt(e,10),t)}})})))})),e.querySelector(".btnStop").addEventListener("click",(function(){z&&u.O.stop(z)})),e.querySelector(".btnPlayPause").addEventListener("click",(function(){z&&u.O.playPause(z)})),e.querySelector(".btnNextTrack").addEventListener("click",(function(){z&&u.O.nextTrack(z)})),e.querySelector(".btnRewind").addEventListener("click",(function(){z&&u.O.rewind(z)})),e.querySelector(".btnFastForward").addEventListener("click",(function(){z&&u.O.fastForward(z)}));var s,o=I(e.querySelectorAll(".btnShuffleQueue"));try{for(o.s();!(s=o.n()).done;)s.value.addEventListener("click",(function(){z&&u.O.toggleQueueShuffleMode(z)}))}catch(e){o.e(e)}finally{o.f()}e.querySelector(".btnPreviousTrack").addEventListener("click",(function(e){if(z){if(u.O.isPlayingAudio(z)){if(e.detail>1)return;if(u.O.currentTime(z)>=5e3||u.O.getCurrentPlaylistIndex(z)<=0)return u.O.seekPercent(0,z),void(i.value=0)}u.O.previousTrack(z)}})),e.querySelector(".btnPreviousTrack").addEventListener("dblclick",(function(){z&&u.O.previousTrack(z)})),i.addEventListener("change",(function(){var e=this.value;if(z){var t=parseFloat(e);u.O.seekPercent(t,z)}})),i.getBubbleText=function(e){if(null==K||!K.NowPlayingItem||!$)return"--:--";var t=$;return t/=100,t*=e,a.ZP.getDisplayRunningTime(t)},e.querySelector(".nowPlayingVolumeSlider").addEventListener("input",(function(e){u.O.setVolume(e.target.value,z)})),e.querySelector(".buttonMute").addEventListener("click",(function(){u.O.toggleMute(z)}));var c=e.querySelector(".playlist");c.addEventListener("action-remove",(function(e){u.O.removeFromPlaylist([e.detail.playlistItemId],z)})),c.addEventListener("itemdrop",(function(e){var t=e.detail.newIndex,n=e.detail.playlistItemId;u.O.movePlaylistItem(n,t,z)})),e.querySelector(".btnSavePlaylist").addEventListener("click",j),e.querySelector(".btnTogglePlaylist").addEventListener("click",(function(){e.querySelector(".playlist").classList.contains("hide")?(e.querySelector(".playlist").classList.remove("hide"),e.querySelector(".btnSavePlaylist").classList.remove("hide"),e.querySelector(".volumecontrol").classList.add("hide"),y.Z.mobile&&e.querySelector(".playlistSectionButton").classList.remove("playlistSectionButtonTransparent")):(e.querySelector(".playlist").classList.add("hide"),e.querySelector(".btnSavePlaylist").classList.add("hide"),(T||L)&&e.querySelector(".volumecontrol").classList.remove("hide"),y.Z.mobile&&e.querySelector(".playlistSectionButton").classList.add("playlistSectionButtonTransparent"))}))}(t),t.querySelector(".sendMessageForm").addEventListener("submit",U),t.querySelector(".typeTextForm").addEventListener("submit",_),d.Z.on(u.O,"playerchange",V),y.Z.tv){var l=t.querySelector(".nowPlayingPositionSlider");l.classList.add("focusable"),l.enableKeyboardDragging()}}(0,Q=t)},G.onShow=function(){B(Q,u.O.getCurrentPlayer())},G.destroy=function(){H(),d.Z.off(u.O,"playerchange",V),K=null}}var A=n(71487);function w(e){var t,n=new x;function i(e){32===e.keyCode&&"BUTTON"!==e.target.tagName&&(u.O.playPause(t),e.preventDefault(),e.stopPropagation())}function r(){t&&(t=null)}n.init(e,e.querySelector(".remoteControlContent")),e.addEventListener("viewshow",(function(){var e;A.default.setTransparentMenu(!0),(e=u.O.getCurrentPlayer())!==t&&(r(),t=e),document.addEventListener("keydown",i),n&&n.onShow()})),e.addEventListener("viewbeforehide",(function(){A.default.setTransparentMenu(!1),document.removeEventListener("keydown",i),r(),n&&n.destroy()}))}n(85500),n(62033)},85500:function(e,t,n){"use strict";n(67752),n(38228);var i=Object.create(HTMLDivElement.prototype);function r(){var e=this,t=e.parentNode.querySelector(".collapseContent");t.expanded?(t.expanded=!1,function(e,t){requestAnimationFrame((function(){t.style.height=t.offsetHeight+"px",t.offsetHeight,t.classList.remove("expanded"),t.style.height="0",setTimeout((function(){t.classList.contains("expanded")?t.classList.remove("hide"):t.classList.add("hide")}),300),e.querySelector(".material-icons").classList.remove("emby-collapse-expandIconExpanded")}))}(e,t)):(t.expanded=!0,function(e,t){requestAnimationFrame((function(){t.classList.remove("hide"),t.classList.add("expanded"),t.style.height="auto";var n=t.offsetHeight+"px";t.style.height="0",t.offsetHeight,t.style.height=n,setTimeout((function(){t.classList.contains("expanded")?t.classList.remove("hide"):t.classList.add("hide"),t.style.height="auto"}),300),e.querySelector(".material-icons").classList.add("emby-collapse-expandIconExpanded")}))}(e,t))}i.attachedCallback=function(){if(!this.classList.contains("emby-collapse")){this.classList.add("emby-collapse");var e=this.querySelector(".collapseContent");e&&e.classList.add("hide");var t=this.getAttribute("title"),n='<button is="emby-button" type="button" on-click="toggleExpand" id="expandButton" class="emby-collapsible-button iconRight"><h3 class="emby-collapsible-title" title="'+t+'">'+t+'</h3><span class="material-icons emby-collapse-expandIcon expand_more" aria-hidden="true"></span></button>';this.insertAdjacentHTML("afterbegin",n);var i=this.querySelector(".emby-collapsible-button");i.addEventListener("click",r),"true"===this.getAttribute("data-expanded")&&r.call(i)}},document.registerElement("emby-collapse",{prototype:i,extends:"div"})},82427:function(e,t,n){"use strict";n(13227),n(81414),n(37666),n(14011),n(11431),n(44901),n(54112);var i=n(61008),r=n(58517),a=n(2513),l=n(85432),s=n(30325),o=n(57366),u=n(72365),c=n(34862),d=n(34643),f=n(44038),m=n(74131),y=(n(67752),n(18613)),g=n(28172),v=Object.create(HTMLDivElement.prototype);function h(e){var t=this,n=t.multiSelect;!1!==(null==n?void 0:n.onContainerClick.call(t,e))&&i.ZP.onClick.call(t,e)}function p(e){return e.preventDefault(),e.stopPropagation(),!1}function S(e){var t=e.target,n=u.ZP.parentWithAttribute(t,"data-id");if(null!=n&&n.getAttribute("data-serverid"))return r.default.handleCommand("menu",{sourceElement:n}),e.preventDefault(),e.stopPropagation(),!1}function b(e,t,i){var r=this;Promise.all([n.e(61570),n.e(85441)]).then(n.bind(n,61570)).then((function(e){e.onUserDataChanged(i,r)}));var a=I(r);-1===a.indexOf("markfavorite")&&-1===a.indexOf("markplayed")||r.notifyRefreshNeeded()}function I(e){var t=e.getAttribute("data-monitor");return t?t.split(","):[]}function P(e,t,i){var r=this;if(-1===I(r).indexOf("timers")){var a=i.ProgramId,l=i.Id;Promise.all([n.e(61570),n.e(85441)]).then(n.bind(n,61570)).then((function(e){e.onTimerCreated(a,l,r)}))}else r.notifyRefreshNeeded()}function T(){-1!==I(this).indexOf("seriestimers")&&this.notifyRefreshNeeded()}function L(e,t,i){var r=this;-1===I(r).indexOf("timers")?Promise.all([n.e(61570),n.e(85441)]).then(n.bind(n,61570)).then((function(e){e.onTimerCancelled(i.Id,r)})):r.notifyRefreshNeeded()}function q(e,t,i){var r=this;-1===I(r).indexOf("seriestimers")?Promise.all([n.e(61570),n.e(85441)]).then(n.bind(n,61570)).then((function(e){e.onSeriesTimerCancelled(i.Id,r)})):r.notifyRefreshNeeded()}function x(e,t,n){var i=this,r=I(i);if(-1===r.indexOf("seriestimers")&&-1===r.indexOf("timers")){var a=n.ItemsAdded||[],l=n.ItemsRemoved||[];if(a.length||l.length){var s=i.getAttribute("data-parentid");if(s){var o=n.FoldersAddedTo||[],u=n.FoldersRemovedFrom||[],c=n.CollectionFolders||[];if(-1===o.indexOf(s)&&-1===u.indexOf(s)&&-1===c.indexOf(s))return}i.notifyRefreshNeeded()}}}function A(e,t){var n,i=this,r=t.state,a=I(i);if(r.NowPlayingItem&&"Video"===r.NowPlayingItem.MediaType){if(-1!==a.indexOf("videoplayback"))return void i.notifyRefreshNeeded(!0)}else if("Audio"===(null===(n=r.NowPlayingItem)||void 0===n?void 0:n.MediaType)&&-1!==a.indexOf("audioplayback"))return void i.notifyRefreshNeeded(!0)}function w(e,t,n,i){var r=n.bind(e);i=i||f.default,m.Z.on(i,t,r),e["event_"+t]=r}function k(e,t,n){var i=e["event_"+t];i&&(n=n||f.default,m.Z.off(n,t,i),e["event_"+t]=null)}function O(e,t){e.refreshInterval&&(clearInterval(e.refreshInterval),e.refreshInterval=null,t||(e.refreshIntervalEndTime=null))}function C(e,t){O(e),t||(t=parseInt(e.getAttribute("data-refreshinterval")||"0",10)),t&&(e.refreshInterval=setInterval(e.notifyRefreshNeeded.bind(e),t),e.refreshIntervalEndTime=(new Date).getTime()+t)}function Z(e){var t=e.Items||e,n=this.parentContainer;n&&(t.length?n.classList.remove("hide"):n.classList.add("hide"));var i,r,a=document.activeElement;this.contains(a)&&(r=!0,i=a.getAttribute("data-id")),this.innerHTML=this.getItemsHtml(t),l.default.lazyChildren(this),r&&function(e,t){if(t){var n=e.querySelector('[data-id="'+t+'"]');if(n)try{return void d.Z.focus(n)}catch(e){console.error(e)}}d.Z.autoFocus(e)}(this,i),C(this),this.afterRefresh&&this.afterRefresh(e)}v.enableMultiSelect=function(e){var t=this.multiSelect;if(e){if(!t){var i=this;n.e(52943).then(n.bind(n,8156)).then((function(e){var t=e.default;i.multiSelect=new t({container:i,bindOnClick:!1})}))}}else t&&(t.destroy(),this.multiSelect=null)},v.enableDragReordering=function(e){var t=this.sortable;if(e){if(!t){var n=this;n.sortable=new g.ZP(n,{draggable:".listItem",handle:".listViewDragHandle",onEnd:function(e){return function(e,t){var n=e.item,i=e.newIndex,r=n.getAttribute("data-playlistitemid"),a=n.getAttribute("data-playlistid");if(a){var l=n.getAttribute("data-serverid"),s=y.Z.getApiClient(l);c.ZP.show(),s.ajax({url:s.getUrl("Playlists/"+a+"/Items/"+r+"/Move/"+i),type:"POST"}).then((function(){c.ZP.hide()}),(function(){c.ZP.hide(),t.refreshItems()}))}else{var o=e.oldIndex;n.dispatchEvent(new CustomEvent("itemdrop",{detail:{oldIndex:o,newIndex:i,playlistItemId:r},bubbles:!0,cancelable:!1}))}}(e,n)}})}}else t&&(t.destroy(),this.sortable=null)},v.createdCallback=function(){this.classList.add("itemsContainer")},v.attachedCallback=function(){this.addEventListener("click",h),o.Z.touch?this.addEventListener("contextmenu",p):"false"!==this.getAttribute("data-contextmenu")&&this.addEventListener("contextmenu",S),(s.Z.desktop||s.Z.mobile&&"false"!==this.getAttribute("data-multiselect"))&&this.enableMultiSelect(!0),s.Z.tv&&this.classList.add("itemsContainer-tv"),i.ZP.on(this,{click:!1}),w(this,"UserDataChanged",b),w(this,"TimerCreated",P),w(this,"SeriesTimerCreated",T),w(this,"TimerCancelled",L),w(this,"SeriesTimerCancelled",q),w(this,"LibraryChanged",x),w(this,"playbackstop",A,a.O),"true"===this.getAttribute("data-dragreorder")&&this.enableDragReordering(!0)},v.detachedCallback=function(){O(this),this.enableMultiSelect(!1),this.enableDragReordering(!1),this.removeEventListener("click",h),this.removeEventListener("contextmenu",S),this.removeEventListener("contextmenu",p),i.ZP.off(this,{click:!1}),k(this,"UserDataChanged"),k(this,"TimerCreated"),k(this,"SeriesTimerCreated"),k(this,"TimerCancelled"),k(this,"SeriesTimerCancelled"),k(this,"LibraryChanged"),k(this,"playbackstop",a.O),this.fetchData=null,this.getItemsHtml=null,this.parentContainer=null},v.pause=function(){O(this,!0),this.paused=!0},v.resume=function(e){this.paused=!1;var t=this.refreshIntervalEndTime;if(t){var n=t-(new Date).getTime();n>0&&!this.needsRefresh?C(this,n):(this.needsRefresh=!0,this.refreshIntervalEndTime=null)}return this.needsRefresh||null!=e&&e.refresh?this.refreshItems():Promise.resolve()},v.refreshItems=function(){return this.fetchData?this.paused?(this.needsRefresh=!0,Promise.resolve()):(this.needsRefresh=!1,this.fetchData().then(Z.bind(this))):Promise.resolve()},v.notifyRefreshNeeded=function(e){if(this.paused)this.needsRefresh=!0;else{var t=this.refreshTimeout;t&&clearTimeout(t),!0===e?this.refreshItems():this.refreshTimeout=setTimeout(this.refreshItems.bind(this),1e4)}},document.registerElement("emby-itemscontainer",{prototype:v,extends:"div"})},22482:function(e,t,n){"use strict";function i(e){return e}n.d(t,{C:function(){return i}})},94047:function(e,t,n){"use strict";var i=n(27378),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useState,l=i.useEffect,s=i.useLayoutEffect,o=i.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=a({inst:{value:n,getSnapshot:t}}),r=i[0].inst,c=i[1];return s((function(){r.value=n,r.getSnapshot=t,u(r)&&c({inst:r})}),[e,n,t]),l((function(){return u(r)&&c({inst:r}),e((function(){u(r)&&c({inst:r})}))}),[e]),o(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:c},70644:function(e,t,n){"use strict";e.exports=n(94047)},90005:function(e,t){var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=l(e,a(n)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)i.call(e,n)&&e[n]&&(t=l(t,n));return t}function l(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()}}]);