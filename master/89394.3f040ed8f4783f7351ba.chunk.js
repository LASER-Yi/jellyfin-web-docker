"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[89394],{89394:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}}),n(69217),n(61013),n(23938),n(63238),n(61418),n(19068),n(87211),n(25901),n(92189),n(95163),n(99785),n(91047),n(5769),n(17460),n(14078);var a=n(65009),r=n.n(a),i=n(72365),o=n(93355),s=n(28540),l=n(94994),c=n(12801),d=(n(62033),n(61414),n(38228),n(18613));function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!==u(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key,"string"),"symbol"===u(r)?r:String(r)),a)}var r}function p(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var f=p((function e(t){function n(e){var n=i.ZP.parentWithClass(e.target,"btnMap");if(n){var r=n.getAttribute("data-id"),o=n.getAttribute("data-providerid"),l=u.ProviderChannels.map((function(e){return{name:e.Name,id:e.Id,selected:e.Id.toLowerCase()===o.toLowerCase()}})).sort((function(e,t){return e.name.localeCompare(t.name)}));c.default.show({positionTo:n,items:l}).then((function(e){!function(e,n,r){s.ZP.show();var o=t.providerId;d.Z.getApiClient(t.serverId).ajax({type:"POST",url:ApiClient.getUrl("LiveTv/ChannelMappings"),data:JSON.stringify({providerId:o,tunerChannelId:n,providerChannelId:r}),contentType:"application/json",dataType:"json"}).then((function(t){var n=i.ZP.parentWithClass(e,"listItem");e.setAttribute("data-providerid",t.ProviderChannelId),n.querySelector(".secondary").innerText=a(t,u.ProviderName),s.ZP.hide()}))}(n,r,e)}))}}function a(e,t){return"".concat(e.ProviderChannelName||""," - ").concat(t)}var u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.show=function(){var e=o.default.createDialog({removeOnClose:!0,size:"small"});e.classList.add("formDialog"),e.classList.add("ui-body-a"),e.classList.add("background-theme-a");var i="",s=l.ZP.translate("MapChannels");return i+='<div class="formDialogHeader">',i+='<button is="paper-icon-button-light" class="btnCancel autoSize" tabindex="-1" title="'.concat(l.ZP.translate("ButtonBack"),'"><span class="material-icons arrow_back" aria-hidden="true"></span></button>'),i+='<h3 class="formDialogHeaderTitle">',i+=s,i+="</h3>",i+="</div>",i+=function(){var e="";return e+='<div class="formDialogContent smoothScrollY">',e+='<div class="dialogContentInner dialog-content-centered">',e+='<form style="margin:auto;">',e+="<h1>".concat(l.ZP.translate("Channels"),"</h1>"),e+='<div class="channels paperList">',e+="</div>",e+="</form>",(e+="</div>")+"</div>"}(),e.innerHTML=i,function(e,t){var i,o,s;(i=t.serverId,o=t.providerId,s=d.Z.getApiClient(i),s.getJSON(s.getUrl("LiveTv/ChannelMappingOptions",{providerId:o}))).then((function(t){u=t;var i=e.querySelector(".channels");i.innerHTML=t.TunerChannels.map((function(e){return function(e,t){var n="";return n+='<div class="listItem">',n+='<span class="material-icons listItemIcon dvr" aria-hidden="true"></span>',n+='<div class="listItemBody two-line">',n+='<h3 class="listItemBodyText">',n+=r()(e.Name),n+="</h3>",n+='<div class="secondary listItemBodyText">',e.ProviderChannelName&&(n+=r()(a(e,t))),n+="</div>",n+="</div>",(n+='<button class="btnMap autoSize" is="paper-icon-button-light" type="button" data-id="'.concat(e.Id,'" data-providerid="').concat(e.ProviderChannelId,'"><span class="material-icons mode_edit" aria-hidden="true"></span></button>'))+"</div>"}(e,t.ProviderName)})).join(""),i.addEventListener("click",n)}))}(e,t),e.querySelector(".btnCancel").addEventListener("click",(function(){o.default.close(e)})),new Promise((function(t){e.addEventListener("close",t),o.default.open(e)}))}}))}}]);