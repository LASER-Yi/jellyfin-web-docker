"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4083],{14066:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}}),a(5769),a(61013),a(63238),a(61418),a(17460),a(14078),a(72326);var n=a(56705),i=a(44614),r=(a(45368),a(38737),a(83225),a(20716),a(78066),a(93586)),o=a(61642);function l(){n.ZP.show();var e=this;return $(e).parents(".page"),ApiClient.getServerConfiguration().then((function(t){t.ServerName=$("#txtServerName",e).val(),t.UICulture=$("#selectLocalizationLanguage",e).val(),t.CachePath=e.querySelector("#txtCachePath").value,t.MetadataPath=$("#txtMetadataPath",e).val(),t.MetadataNetworkPath=$("#txtMetadataNetworkPath",e).val(),t.QuickConnectAvailable=e.querySelector("#chkQuickConnectAvailable").checked,ApiClient.updateServerConfiguration(t).then((function(){ApiClient.getNamedConfiguration(s).then((function(t){t.LoginDisclaimer=e.querySelector("#txtLoginDisclaimer").value,t.CustomCss=e.querySelector("#txtCustomCss").value,ApiClient.updateNamedConfiguration(s,t).then((function(){r.ZP.processServerConfigurationUpdateResult()}))}))}),(function(){(0,o.Z)(i.ZP.translate("ErrorDefault")),r.ZP.processServerConfigurationUpdateResult()}))})),!1}var s="branding";function c(e){$("#btnSelectCachePath",e).on("click.selectDirectory",(function(){Promise.resolve().then(a.bind(a,89618)).then((function(t){var a=new(0,t.default);a.show({callback:function(t){t&&(e.querySelector("#txtCachePath").value=t),a.close()},validateWriteable:!0,header:i.ZP.translate("HeaderSelectServerCachePath"),instruction:i.ZP.translate("HeaderSelectServerCachePathHelp")})}))})),$("#btnSelectMetadataPath",e).on("click.selectDirectory",(function(){Promise.resolve().then(a.bind(a,89618)).then((function(t){var a=new(0,t.default);a.show({path:$("#txtMetadataPath",e).val(),networkSharePath:$("#txtMetadataNetworkPath",e).val(),callback:function(t,n){t&&$("#txtMetadataPath",e).val(t),n&&$("#txtMetadataNetworkPath",e).val(n),a.close()},validateWriteable:!0,header:i.ZP.translate("HeaderSelectMetadataPath"),instruction:i.ZP.translate("HeaderSelectMetadataPathHelp"),enableNetworkSharePath:!0})}))})),$(".dashboardGeneralForm",e).off("submit",l).on("submit",l),e.addEventListener("viewshow",(function(){var t=ApiClient.getServerConfiguration(),a=ApiClient.getJSON(ApiClient.getUrl("Localization/Options")),i=ApiClient.getSystemInfo();Promise.all([t,a,i]).then((function(t){var a,i,r,o;a=e,i=t[0],r=t[1],o=t[2],a.querySelector("#txtServerName").value=o.ServerName,a.querySelector("#txtCachePath").value=o.CachePath||"",a.querySelector("#chkQuickConnectAvailable").checked=!0===i.QuickConnectAvailable,$("#txtMetadataPath",a).val(o.InternalMetadataPath||""),$("#txtMetadataNetworkPath",a).val(o.MetadataNetworkPath||""),$("#selectLocalizationLanguage",a).html(r.map((function(e){return'<option value="'+e.Value+'">'+e.Name+"</option>"}))).val(i.UICulture),n.ZP.hide()})),ApiClient.getNamedConfiguration(s).then((function(t){e.querySelector("#txtLoginDisclaimer").value=t.LoginDisclaimer||"",e.querySelector("#txtCustomCss").value=t.CustomCss||""}))}))}},38737:function(e,t,a){a(32081),a(20252),a(99785);var n=a(1892),i=a.n(n),r=a(95760),o=a.n(r),l=a(38311),s=a.n(l),c=a(58192),u=a.n(c),h=a(38060),d=a.n(h),v=a(54865),f=a.n(v),m=a(6918),b={};function g(e,t){var a,n=this;function i(){if((!n.lineHeight||n.lineHeight<=0)&&(e.rows=1,a=n.getOffset(e),n.rows=e.rows||1,n.lineHeight=e.scrollHeight/n.rows-a/n.rows,n.maxAllowedHeight=n.lineHeight*t-a),n.lineHeight<=0)return e.style.overflowY="scroll",e.style.height="auto",void(e.rows=3);var i=0;e.scrollHeight-a>n.maxAllowedHeight?(e.style.overflowY="scroll",i=n.maxAllowedHeight):(e.style.overflowY="hidden",e.style.height="auto",i=e.scrollHeight),e.style.height=i+"px"}void 0===t&&(t=999),n.getOffset=function(e){for(var t=window.getComputedStyle(e,null),a=["paddingTop","paddingBottom"],n=0,i=0;i<a.length;i++)n+=parseInt(t[a[i]]);return n},e.addEventListener("input",i),e.addEventListener("focus",i),e.addEventListener("valueset",i),i()}b.styleTagTransform=f(),b.setAttributes=u(),b.insert=s().bind(null,"head"),b.domAPI=o(),b.insertStyleElement=d(),i()(m.Z,b),m.Z&&m.Z.locals&&m.Z.locals,a(67752),a(83225);var p=Object.create(HTMLTextAreaElement.prototype),C=0;if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var x=Object.getOwnPropertyDescriptor(HTMLTextAreaElement.prototype,"value");if(x&&x.configurable){var P=x.set;x.set=function(e){P.call(this,e),this.dispatchEvent(new CustomEvent("valueset",{bubbles:!1,cancelable:!1}))},Object.defineProperty(HTMLTextAreaElement.prototype,"value",x)}}p.createdCallback=function(){this.id||(this.id="embytextarea"+C,C++)},p.attachedCallback=function(){if(!this.classList.contains("emby-textarea")){this.rows=1,this.classList.add("emby-textarea");var e=this.parentNode,t=this.ownerDocument.createElement("label");t.innerText=this.getAttribute("label")||"",t.classList.add("textareaLabel"),t.htmlFor=this.id,e.insertBefore(t,this),this.addEventListener("focus",(function(){t.classList.add("textareaLabelFocused"),t.classList.remove("textareaLabelUnfocused")})),this.addEventListener("blur",(function(){t.classList.remove("textareaLabelFocused"),t.classList.add("textareaLabelUnfocused")})),this.label=function(e){t.innerText=e},new g(this)}},document.registerElement("emby-textarea",{prototype:p,extends:"textarea"})},6918:function(e,t,a){var n=a(54933),i=a.n(n),r=a(93476),o=a.n(r)()(i());o.push([e.id,".emby-textarea{-webkit-tap-highlight-color:rgba(0,0,0,0);box-sizing:border-box;color:inherit;display:block;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;margin-bottom:0!important;outline:none!important;padding:.35em .25em;width:100%}.emby-textarea::-moz-focus-inner{border:0}.textareaLabel{display:inline-block;margin-bottom:.25em;transition:all .2s ease-out}.emby-textarea+.fieldDescription{margin-top:.25em}",""]),t.Z=o}}]);