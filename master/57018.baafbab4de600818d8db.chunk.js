(self.webpackChunk=self.webpackChunk||[]).push([[57018],{57018:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}}),r(72410),r(15610),r(25901),r(92189),r(91047),r(5769),r(63238),r(61418),r(17460),r(14078),r(43512),r(52077),r(911),r(27471),r(61013),r(40895),r(69217),r(32081);var a=r(65009),n=r.n(a),i=r(58517),o=r(57366),s=r(94994),l=r(81643),d=r(54517),c=r(44038),u=r(28540),g=r(61693),m=r(34643),v=r(48957),f=r(60934),h=r(98301),p=r(30325),b=r(61008),y=r(72365),S=(r(67205),r(38228),r(61414),r(21694),r(24432),r(67752),r(18613));function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function T(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function w(e,t){var r=e.posLeft;r||(r=parseFloat(e.style.left.replace("%","")),e.posLeft=r);var a=e.posWidth;a||(a=parseFloat(e.style.width.replace("%","")),e.posWidth=a);var n=r+a,i=(Math.max(Math.min(t,n),r)-r)/a*100,o=e.guideProgramName;o||(o=e.querySelector(".guideProgramName"),e.guideProgramName=o);var s=e.caret;s||(s=e.querySelector(".guide-programNameCaret"),e.caret=s),o&&(i>0&&i<=100?(o.style.transform="translateX("+i+"%)",s.classList.remove("hide")):(o.style.transform="none",s.classList.add("hide")))}var C=!1;function Z(e,t){C||(C=!0,requestAnimationFrame((function(){var r,a=e.scrollLeft,n=a?a/e.scrollWidth*100:0,i=T(t);try{for(i.s();!(r=i.n()).done;)w(r.value,n)}catch(e){i.e(e)}finally{i.f()}C=!1})))}function D(e){if(p.Z.tv){var t=y.ZP.parentWithClass(e.target,"programCell");if(t){var r=t.getAttribute("data-startdate"),a=t.getAttribute("data-enddate");r=g.ZP.parseISO8601Date(r,{toLocal:!0}).getTime(),a=g.ZP.parseISO8601Date(a,{toLocal:!0}).getTime();var n=(new Date).getTime();if(n>=r&&n<a){var i=t.getAttribute("data-channelid"),o=t.getAttribute("data-serverid");e.preventDefault(),e.stopPropagation(),v.O.play({ids:[i],serverId:o})}}}}var L=function(e){var t=this,a={};t.options=e,t.categoryOptions={categories:[]};var v,P,w,C,L=864e5,x=0,A=0;function H(){E(),P=setInterval((function(){t.refresh()}),9e5)}function E(){P&&(clearInterval(P),P=null)}function N(){u.ZP.show()}function q(e){if("string"===I(e).toString().toLowerCase())try{e=g.ZP.parseISO8601Date(e,{toLocal:!0})}catch(t){return e}return g.ZP.getDisplayTime(e).toLowerCase()}function O(e){if(!e.StartDateLocal)try{e.StartDateLocal=g.ZP.parseISO8601Date(e.StartDate,{toLocal:!0})}catch(e){console.error("error parsing timestamp for start date")}if(!e.EndDateLocal)try{e.EndDateLocal=g.ZP.parseISO8601Date(e.EndDate,{toLocal:!0})}catch(e){console.error("error parsing timestamp for end date")}return null}function k(e){var t;if("SeriesTimer"===e.Type)return'<span class="material-icons programIcon seriesTimerIcon fiber_smart_record" aria-hidden="true"></span>';if(e.TimerId||e.SeriesTimerId)t=e.Status||"Cancelled";else{if("Timer"!==e.Type)return"";t=e.Status}return e.SeriesTimerId?"Cancelled"!==t?'<span class="material-icons programIcon seriesTimerIcon fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons programIcon seriesTimerIcon seriesTimerIcon-inactive fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons programIcon timerIcon fiber_manual_record" aria-hidden="true"></span>'}function M(e,r,i,o,l,d){var c="",u=r.getTime(),g=u+L-1;c+='<div class="'+(p.Z.tv?"channelPrograms channelPrograms-tv":"channelPrograms")+'" data-channelid="'+i.Id+'">';for(var m,v=p.Z.tv?"link":"programdialog",h=t.categoryOptions.categories||[],b=!h.length||-1!==h.indexOf("movies"),y=!h.length||-1!==h.indexOf("sports"),S=!h.length||-1!==h.indexOf("news"),I=!h.length||-1!==h.indexOf("kids"),T=!h.length||-1!==h.indexOf("series"),P="true"===f.get("guide-colorcodedbackgrounds"),w=(new Date).getTime(),C=d.startIndex,Z=o.length;C<Z;C++){var D=o[C];if(D.ChannelId===i.Id){m=!0,d.startIndex++,O(D);var x=D.StartDateLocal.getTime(),A=D.EndDateLocal.getTime();if(!(A<u)){if(x>g)break;a[D.Id]=D;var H=Math.max(x,u),E=(x-u)/L;E*=100,E=Math.max(E,0);var N=(Math.min(A,g)-H)/L;N*=100;var q="programCell itemAction",M=null,W=!0;D.IsKids?(W=I,M="kids"):D.IsSports?(W=y,M="sports"):D.IsNews?(W=S,M="news"):D.IsMovie?(W=b,M="movie"):W=(D.IsSeries||b&&S&&y&&I)&&T,W&&P&&M&&(q+=" programCell-"+M),w>=x&&w<A&&(q+=" programCell-active");var F="";if(D.TimerId&&(F+=' data-timerid="'+D.TimerId+'"'),D.SeriesTimerId&&(F+=' data-seriestimerid="'+D.SeriesTimerId+'"'),c+="<button"+(N>=2?' is="emby-programcell"':"")+' data-action="'+v+'"'+F+' data-channelid="'+D.ChannelId+'" data-id="'+D.Id+'" data-serverid="'+D.ServerId+'" data-startdate="'+D.StartDate+'" data-enddate="'+D.EndDate+'" data-type="'+D.Type+'" class="'+q+'" style="left:'+E+"%;width:"+N+'%;">',W){c+='<div class="guideProgramName">',c+='<div class="guide-programNameCaret hide"><span class="guideProgramNameCaretIcon material-icons keyboard_arrow_left" aria-hidden="true"></span></div>',c+='<div class="guideProgramNameText">'+n()(D.Name);var _=null;D.IsLive&&l.showLiveIndicator?_='<span class="liveTvProgram guideProgramIndicator">'+s.ZP.translate("Live")+"</span>":D.IsPremiere&&l.showPremiereIndicator?_='<span class="premiereTvProgram guideProgramIndicator">'+s.ZP.translate("Premiere")+"</span>":D.IsSeries&&!D.IsRepeat&&l.showNewIndicator?_='<span class="newTvProgram guideProgramIndicator">'+s.ZP.translate("New")+"</span>":D.IsSeries&&D.IsRepeat&&l.showRepeatIndicator&&(_='<span class="repeatTvProgram guideProgramIndicator">'+s.ZP.translate("Repeat")+"</span>"),c+=_||"",D.EpisodeTitle&&l.showEpisodeTitle&&(c+='<div class="guideProgramSecondaryInfo">',D.EpisodeTitle&&l.showEpisodeTitle&&(c+='<span class="programSecondaryTitle">'+n()(D.EpisodeTitle)+"</span>"),c+="</div>"),c+="</div>",D.IsHD&&l.showHdIcon&&(p.Z.tv?c+='<div class="programIcon guide-programTextIcon guide-programTextIcon-tv">HD</div>':c+='<div class="programIcon guide-programTextIcon">HD</div>'),c+=k(D),c+="</div>"}c+="</button>"}}else if(m)break}return c+"</div>"}function W(e,t){for(var r=e.ChannelId,a=-1,n=0,i=t.length;n<i;n++)if(r===t[n].Id){a=n;break}return 1e7*a+g.ZP.parseISO8601Date(e.StartDate,{toLocal:!0}).getTime()/6e4}function F(e,t,r){e.scrollTo?r?e.scrollTo(t,0):e.scrollTo(0,t):r?e.scrollLeft=Math.round(t):e.scrollTop=Math.round(t)}t.refresh=function(){v=null,z(e.element),H()},t.pause=function(){E()},t.resume=function(e){e?t.refresh():H()},t.destroy=function(){E(),l.Z.off(c.default,"TimerCreated",K),l.Z.off(c.default,"TimerCancelled",X),l.Z.off(c.default,"SeriesTimerCancelled",Y),$(e.element,!1),b.ZP.off(e.element),a={}};var _=0,j=0,B=0;function R(r,i,o,s,l,d){var c=function(e){return e.getMinutes()-30>=0?e.setHours(e.getHours(),30,0,0):e.setHours(e.getHours(),0,0,0),e}(i);v=c,function(r,i,o,s,l,d){var c=S.Z.getApiClient(e.serverId),g={StartIndex:0,EnableFavoriteSorting:"false"!==f.get("livetv-favoritechannelsattop")};g.UserId=c.getCurrentUserId();var v=500;A=v,N(),g.StartIndex=x,g.Limit=v,g.AddCurrentProgram=!1,g.EnableUserData=!1,g.EnableImageTypes="Primary";var b=t.categoryOptions.categories||[],I=!b.length||-1!==b.indexOf("movies"),P=!b.length||-1!==b.indexOf("sports"),C=!b.length||-1!==b.indexOf("news"),D=!b.length||-1!==b.indexOf("kids"),H=!b.length||-1!==b.indexOf("series");I&&P&&C&&D?(g.IsMovie=null,g.IsSports=null,g.IsKids=null,g.IsNews=null,g.IsSeries=null):(C&&(g.IsNews=!0),P&&(g.IsSports=!0),D&&(g.IsKids=!0),I&&(g.IsMovie=!0),H&&(g.IsSeries=!0)),"DatePlayed"===f.get("livetv-channelorder")?(g.SortBy="DatePlayed",g.SortOrder="Descending"):(g.SortBy=null,g.SortOrder=null);var E=i;E=new Date(E.getTime()+1e3);var O=new Date(E.getTime()+L-2e3),k=y.ZP.getWindowSize().innerWidth>=600,_={showHdIcon:k&&"true"===f.get("guide-indicator-hd"),showLiveIndicator:k&&"false"!==f.get("guide-indicator-live"),showPremiereIndicator:k&&"false"!==f.get("guide-indicator-premiere"),showNewIndicator:k&&"false"!==f.get("guide-indicator-new"),showRepeatIndicator:k&&"true"===f.get("guide-indicator-repeat"),showEpisodeTitle:!p.Z.tv};c.getLiveTvChannels(g).then((function(e){var t=r.querySelector(".btnPreviousPage"),i=r.querySelector(".btnNextPage");e.TotalRecordCount>v?(r.querySelector(".guideOptions").classList.remove("hide"),t.classList.remove("hide"),i.classList.remove("hide"),g.StartIndex?r.querySelector(".btnPreviousPage").disabled=!1:r.querySelector(".btnPreviousPage").disabled=!0,g.StartIndex+v<e.TotalRecordCount?i.disabled=!1:i.disabled=!0):r.querySelector(".guideOptions").classList.add("hide");var f=[],b={UserId:c.getCurrentUserId(),MaxStartDate:O.toISOString(),MinEndDate:E.toISOString(),channelIds:e.Items.map((function(e){return e.Id})).join(","),ImageTypeLimit:1,EnableImages:!1,SortBy:"StartDate",EnableTotalRecordCount:!1,EnableUserData:!1};_.showHdIcon&&f.push("IsHD"),f.length&&(b.Fields=f.join("")),c.getLiveTvPrograms(b).then((function(t){!function(e,t,r,i,o,s,l,d,c,u){i.sort((function(e,t){return W(e,r)-W(t,r)}));var g=document.activeElement,v=g&&g.getAttribute?g.getAttribute("data-id"):null,f=null;g&&(f=(f=y.ZP.parentWithClass(g,"channelPrograms"))&&f.getAttribute?f.getAttribute("data-channelid"):null),function(e,t,r){var a,i="",o=T(t);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=s.ImageTags.Primary,d="guide-channelHeaderCell itemAction";p.Z.tv&&(d+=" guide-channelHeaderCell-tv");var c=[];s.ChannelNumber&&c.push(s.ChannelNumber),s.Name&&c.push(s.Name),i+='<button title="'+n()(c.join(" "))+'" type="button" class="'+d+'" data-action="link" data-isfolder="'+s.IsFolder+'" data-id="'+s.Id+'" data-serverid="'+s.ServerId+'" data-type="'+s.Type+'">',l&&(i+='<div class="guideChannelImage lazy" data-src="'+r.getScaledImageUrl(s.Id,{maxHeight:220,tag:s.ImageTags.Primary,type:"Primary"})+'"></div>'),s.ChannelNumber&&(i+='<h3 class="guideChannelNumber">'+s.ChannelNumber+"</h3>"),!l&&s.Name&&(i+='<div class="guideChannelName">'+n()(s.Name)+"</div>"),i+="</button>"}}catch(e){o.e(e)}finally{o.f()}var u=e.querySelector(".channelsContainer");u.innerHTML=i,h.default.lazyChildren(u)}(e,r,s);var b=t,S=new Date(b.getTime()+L);e.querySelector(".timeslotHeaders").innerHTML=function(e,t){var r="";for(e=new Date(e.getTime()),r+='<div class="timeslotHeadersInner">';e.getTime()<t;)r+='<div class="timeslotHeader">',r+=q(e),r+="</div>",e.setTime(e.getTime()+18e5);return r}(b,S),a={},function(e,t,r,a,n){var i,o={startIndex:0},s=[],l=T(r);try{for(l.s();!(i=l.n()).done;){var d=i.value;s.push(M(0,t,d,a,n,o))}}catch(e){l.e(e)}finally{l.f()}Q.innerHTML=s.join(""),w=Q.querySelectorAll("[is=emby-programcell]"),Z(Q,w)}(0,t,r,i,o),u&&function(e,t,r,a,n){var i;if(t&&(i=e.querySelector('[data-id="'+t+'"]')),i)m.Z.focus(i);else{var o;r&&(o=e.querySelector('[data-channelid="'+r+'"]')),o||(o=Q);for(var s=(a-=n)/L*100,l=o.querySelector(".programCell");l;){var d=(l.style.left||"").replace("%","");d=d?parseFloat(d):0;var c=(l.style.width||"").replace("%","");if(c=c?parseFloat(c):0,d>=s||d+c>=s)break;l=l.nextSibling}l?m.Z.focus(l):m.Z.autoFocus(o,!0)}}(e,v,f,d,c),function(e,t,r){var a=(t-=r)/L;Q.scrollTop=0;var n=a*Q.scrollWidth;F(Q,n,!0)}(0,l,c)}(r,E,e.Items,t.Items,_,c,o,s,l,d),u.ZP.hide()}))}))}(r,c,o,s,l,d)}function U(e,t,r){var a='<button is="emby-button" class="'+(t?"emby-tab-button guide-date-tab-button emby-tab-button-active":"emby-tab-button guide-date-tab-button")+'" data-index="'+r+'" data-date="'+e.getTime()+'">',n=g.ZP.toLocaleDateString(e,{weekday:"short"});return n+="<br/>",(a+='<div class="emby-button-foreground">'+(n+=e.getDate())+"</div>")+"</button>"}function z(t){N(),S.Z.getApiClient(e.serverId).getLiveTvGuideInfo().then((function(e){!function(e,t){var r=new Date,a=r.getHours();r.setHours(a,0,0,0);var n=g.ZP.parseISO8601Date(t.StartDate,{toLocal:!0}),i=g.ZP.parseISO8601Date(t.EndDate,{toLocal:!0});n.setHours(a,0,0,0),i.setHours(0,0,0,0),n.getTime()>=i.getTime()&&i.setDate(n.getDate()+1),n=new Date(Math.max(r,n));var o="",s=0,l=new Date;v&&l.setTime(v.getTime()),l.setHours(a,0,0,0);var d=60*n.getHours()*60*1e3;for(d+=60*n.getMinutes()*1e3;n<=i;){var c=l.getDate()===n.getDate()&&l.getMonth()===n.getMonth()&&l.getFullYear()===n.getFullYear();o+=U(n,c,s),n.setDate(n.getDate()+1),n.setHours(0,0,0,0),s++}e.querySelector(".emby-tabs-slider").innerHTML=o,e.querySelector(".guideDateTabs").refresh();var u=new Date,m=u.getHours(),f=60*m*60*1e3,h=u.getMinutes();h>=30&&(f+=18e5),R(e,l,f,60*(60*m+h)*1e3,d,p.Z.tv)}(t,e)}))}function V(e){var t,r=e.querySelectorAll(".programCell"),a=[],n=B+1,i=T(r);try{for(i.s();!(t=i.n()).done;){var o=t.value,s=(o.style.left||"").replace("%","");s=s?parseFloat(s):0;var l=(o.style.width||"").replace("%","");s+(l=l?parseFloat(l):0)>=n&&a.push(o)}}catch(e){i.e(e)}finally{i.f()}return a}function G(e){var t,r,a,n=e.target,i=y.ZP.parentWithClass(n,"programCell");switch(e.detail.command){case"up":i?(t=Q,(a=y.ZP.parentWithClass(i,"channelPrograms").previousSibling)?(r=V(a)).length?t=a:r=null:t=null):t=null,C=e.detail.command,m.Z.moveUp(n,{container:t,focusableElements:r});break;case"down":i?(t=Q,(a=y.ZP.parentWithClass(i,"channelPrograms").nextSibling)?(r=V(a)).length?t=a:r=null:t=null):t=null,C=e.detail.command,m.Z.moveDown(n,{container:t,focusableElements:r});break;case"left":(t=i?y.ZP.parentWithClass(i,"channelPrograms"):null)&&!i.previousSibling&&(t=null),C=e.detail.command,m.Z.moveLeft(n,{container:t});break;case"right":t=i?y.ZP.parentWithClass(i,"channelPrograms"):null,C=e.detail.command,m.Z.moveRight(n,{container:t});break;default:return}e.preventDefault(),e.stopPropagation()}function $(e,t){if(p.Z.tv){var r=e.querySelector(".guideVerticalScroller");t?i.default.on(r,G):i.default.off(r,G)}}function K(t,r,a){var n,i=a.ProgramId,o=a.Id,s=T(e.element.querySelectorAll('.programCell[data-id="'+i+'"]'));try{for(s.s();!(n=s.n()).done;){var l=n.value;l.querySelector(".timerIcon")||l.querySelector(".guideProgramName").insertAdjacentHTML("beforeend",'<span class="timerIcon material-icons programIcon fiber_manual_record"></span>'),o&&l.setAttribute("data-timerid",o)}}catch(e){s.e(e)}finally{s.f()}}function X(t,r,a){var n,i=a.Id,o=T(e.element.querySelectorAll('.programCell[data-timerid="'+i+'"]'));try{for(o.s();!(n=o.n()).done;){var s=n.value,l=s.querySelector(".timerIcon");l&&l.parentNode.removeChild(l),s.removeAttribute("data-timerid")}}catch(e){o.e(e)}finally{o.f()}}function Y(t,r,a){var n,i=a.Id,o=T(e.element.querySelectorAll('.programCell[data-seriestimerid="'+i+'"]'));try{for(o.s();!(n=o.n()).done;){var s=n.value,l=s.querySelector(".seriesTimerIcon");l&&l.parentNode.removeChild(l),s.removeAttribute("data-seriestimerid")}}catch(e){o.e(e)}finally{o.f()}}var J=e.element;J.classList.add("tvguide"),J.innerHTML=s.ZP.translateHtml('<div class="tvGuideHeader"> <div class="guideHeaderDateSelection"> <div is="emby-tabs" class="guideDateTabs focuscontainer-x" data-selectionbar="false"> <div class="emby-tabs-slider guideDateTabsSlider"> </div> </div> </div> <div class="guide-headerTimeslots"> <div class="guide-channelTimeslotHeader"> <button is="paper-icon-button-light" type="button" class="btnGuideViewSettings" title="${ButtonMore}"> <span class="material-icons btnGuideViewSettingsIcon more_vert" aria-hidden="true"></span> </button> </div> <div class="timeslotHeaders scrollX guideScroller"></div> </div> </div> <div is="emby-scroller" class="guideVerticalScroller flex flex-grow programContainer guideScroller" data-skipfocuswhenvisible="true" data-horizontal="false"> <div class="scrollSlider flex flex-grow flex-direction-row" style="overflow:hidden;contain:layout style paint"> <div class="channelsContainer"> <div class="channelList"></div> </div> <div class="programGrid scrollX guideScroller flex-grow focuscontainer-right" style="white-space:nowrap"> </div> </div> </div> <div class="guideOptions hide"> <button is="paper-icon-button-light" type="button" class="btnPreviousPage" title="${Previous}"> <span class="material-icons arrow_back" aria-hidden="true"></span> </button> <button is="paper-icon-button-light" type="button" class="btnNextPage" title="${Next}"> <span class="material-icons arrow_forward" aria-hidden="true"></span> </button> </div> ',"core");var Q=J.querySelector(".programGrid"),ee=J.querySelector(".timeslotHeaders");p.Z.tv?y.ZP.addEventListener(J.querySelector(".guideVerticalScroller"),"focus",(function(e){var r=e.target,n=y.ZP.parentWithClass(r,"programCell");if(n){var i=r.getAttribute("data-id"),o=a[i];o&&l.Z.trigger(t,"focus",[{item:o}])}if("left"===C)n&&d.default.toStart(Q,n,!0,!0);else if("right"===C)n&&d.default.toCenter(Q,n,!0,!0);else if("up"===C||"down"===C){var s=y.ZP.parentWithClass(r,"guideVerticalScroller");if(s){var c=n||y.ZP.parentWithTag(r,"BUTTON");s.toCenter(c,!0)}}}),{capture:!0,passive:!0}):p.Z.desktop&&ee.classList.add("timeslotHeaders-desktop"),(o.Z.iOS||o.Z.osx)&&(J.querySelector(".channelsContainer").classList.add("noRubberBanding"),Q.classList.add("noRubberBanding")),y.ZP.addEventListener(Q,"scroll",(function(){!function(e,t,r){if((new Date).getTime()-j>=1e3){_=(new Date).getTime();var a=t.scrollLeft;B=100*a/t.scrollWidth,F(r,a,!0)}Z(t,w)}(0,this,ee)}),{passive:!0}),y.ZP.addEventListener(ee,"scroll",(function(){(new Date).getTime()-_>=1e3&&(j=(new Date).getTime(),F(Q,this.scrollLeft,!0))}),{passive:!0}),Q.addEventListener("click",D),J.querySelector(".btnNextPage").addEventListener("click",(function(){x+=A,z(J),H()})),J.querySelector(".btnPreviousPage").addEventListener("click",(function(){x=Math.max(x-A,0),z(J),H()})),J.querySelector(".btnGuideViewSettings").addEventListener("click",(function(){var e;e=t,r.e(87931).then(r.bind(r,87931)).then((function(t){t.default.show(e.categoryOptions).then((function(){e.refresh()}))})),H()})),J.querySelector(".guideDateTabs").addEventListener("tabchange",(function(e){var t=e.target.querySelectorAll(".guide-date-tab-button"),r=t[parseInt(e.detail.selectedTabIndex)];if(r){var a=null==e.detail.previousIndex?null:t[parseInt(e.detail.previousIndex)],n=new Date;n.setTime(parseInt(r.getAttribute("data-date")));var i,o=Q.scrollWidth;if(i=o?Q.scrollLeft/o*L:0,a){var s=new Date;s.setTime(parseInt(a.getAttribute("data-date"))),i+=60*s.getHours()*60*1e3,i+=60*s.getMinutes()*1e3}var l=60*n.getHours()*60*1e3;l+=60*n.getMinutes()*1e3,R(J,n,i,i,l,!1)}})),$(J,!0),b.ZP.on(J),l.Z.trigger(t,"load"),l.Z.on(c.default,"TimerCreated",K),l.Z.on(c.default,"TimerCancelled",X),l.Z.on(c.default,"SeriesTimerCancelled",Y),t.refresh()};function x(e,t,r){var a,n=this;n.renderTab=function(){a||(a=new L({element:r,serverId:ApiClient.serverId()}))},n.onShow=function(){a&&a.resume()},n.onHide=function(){a&&a.pause()}}},67205:function(){var e=Object.create(HTMLButtonElement.prototype);e.detachedCallback=function(){this.posLeft=null,this.posWidth=null,this.guideProgramName=null},document.registerElement("emby-programcell",{prototype:e,extends:"button"})},24432:function(e,t,r){"use strict";r(5769),r(63238),r(61418),r(17460),r(14078);var a=r(15723),n=r(72365),i=r(30325),o=r(58517),s=r(34643),l=r(57366),d=(r(67752),Object.create(HTMLDivElement.prototype));function c(e){var t=e.detail.command;"end"===t?(s.Z.focusLast(this,"."+this.getAttribute("data-navcommands")),e.preventDefault(),e.stopPropagation()):"pageup"===t?(s.Z.moveFocus(e.target,this,"."+this.getAttribute("data-navcommands"),-12),e.preventDefault(),e.stopPropagation()):"pagedown"===t&&(s.Z.moveFocus(e.target,this,"."+this.getAttribute("data-navcommands"),12),e.preventDefault(),e.stopPropagation())}d.createdCallback=function(){this.classList.add("emby-scroller")},d.scrollToBeginning=function(){this.scroller&&this.scroller.slideTo(0,!0)},d.toStart=function(e,t){this.scroller&&this.scroller.toStart(e,t)},d.toCenter=function(e,t){this.scroller&&this.scroller.toCenter(e,t)},d.scrollToPosition=function(e,t){this.scroller&&this.scroller.slideTo(e,t)},d.getScrollPosition=function(){if(this.scroller)return this.scroller.getScrollPosition()},d.getScrollSize=function(){if(this.scroller)return this.scroller.getScrollSize()},d.getScrollEventName=function(){if(this.scroller)return this.scroller.getScrollEventName()},d.getScrollSlider=function(){if(this.scroller)return this.scroller.getScrollSlider()},d.addScrollEventListener=function(e,t){this.scroller&&n.ZP.addEventListener(this.scroller.getScrollFrame(),this.scroller.getScrollEventName(),e,t)},d.removeScrollEventListener=function(e,t){this.scroller&&n.ZP.removeEventListener(this.scroller.getScrollFrame(),this.scroller.getScrollEventName(),e,t)},d.attachedCallback=function(){this.getAttribute("data-navcommands")&&o.default.on(this,c);var e="false"!==this.getAttribute("data-horizontal"),t=this.querySelector(".scrollSlider");e&&(t.style["white-space"]="nowrap");var d,u,g=i.Z.desktop&&e&&"false"!==this.getAttribute("data-scrollbuttons"),m={horizontal:e,mouseDragging:1,mouseWheel:"false"!==this.getAttribute("data-mousewheel"),touchDragging:1,slidee:t,scrollBy:200,speed:e?270:240,elasticBounds:1,dragHandle:1,autoImmediate:!0,skipSlideToWhenVisible:"true"===this.getAttribute("data-skipfocuswhenvisible"),dispatchScrollEvent:g||"true"===this.getAttribute("data-scrollevent"),hideScrollbar:g||"true"===this.getAttribute("data-hidescrollbar"),allowNativeSmoothScroll:"true"===this.getAttribute("data-allownativesmoothscroll")&&!g,allowNativeScroll:!g,forceHideScrollbars:g,requireAnimation:g&&l.Z.edge};this.scroller=new a.Z(this,m),this.scroller.init(),this.scroller.reload(),i.Z.tv&&this.getAttribute("data-centerfocus")&&(this,d=this.scroller,n.ZP.addEventListener(this,"focus",(function(e){var t=s.Z.focusableParent(e.target);t&&d.toCenter(t)}),{capture:!0,passive:!0})),g&&(u=this,r.e(39346).then(r.bind(r,39346)).then((function(){u.insertAdjacentHTML("beforebegin",'<div is="emby-scrollbuttons" class="emby-scrollbuttons padded-right"></div>')})))},d.pause=function(){var e=this.headroom;e&&e.pause()},d.resume=function(){var e=this.headroom;e&&e.resume()},d.detachedCallback=function(){this.getAttribute("data-navcommands")&&o.default.off(this,c);var e=this.headroom;e&&(e.destroy(),this.headroom=null);var t=this.scroller;t&&(t.destroy(),this.scroller=null)},document.registerElement("emby-scroller",{prototype:d,extends:"div"})}}]);