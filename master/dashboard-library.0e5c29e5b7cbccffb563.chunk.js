/*! For license information please see dashboard-library.0e5c29e5b7cbccffb563.chunk.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[32118,49213,59841,23366],{77693:function(e,r,t){"use strict";t.r(r),t(5769),t(63238),t(61418),t(17460),t(14078),t(98010),t(32081);var a=t(65009),n=t.n(a),s=(t(51789),t(5607)),i=t(28540),o=t(71487),c=t(94994),d=t(72365),l=t(23509),u=(t(23366),t(60635)),h=t(3137),m=t(26059);function f(e,r){Promise.all([t.e(6535),t.e(76848)]).then(t.bind(t,78978)).then((function(t){new(0,t.default)({refresh:g(e),library:r}).then((function(r){r&&v(e)}))}))}function v(e){i.ZP.show(),ApiClient.getVirtualFolders().then((function(r){!function(e,r){var a="";r.push({Name:c.ZP.translate("ButtonAddMediaLibrary"),icon:"add_circle",Locations:[],showType:!1,showLocations:!1,showMenu:!1,showNameWithIcon:!1,elementId:"addLibrary"});for(var n=0;n<r.length;n++){var s=r[n];a+=y(e,s,n)}var o=e.querySelector("#divVirtualFolders");o.innerHTML=a,o.classList.add("itemsContainer"),o.classList.add("vertical-wrap"),$(".btnCardMenu",o).on("click",(function(){!function(e,r,a){var n=d.ZP.parentWithClass(r,"card"),s=a[parseInt(n.getAttribute("data-index"),10)],i=[];i.push({name:c.ZP.translate("EditImages"),id:"editimages",icon:"photo"}),i.push({name:c.ZP.translate("ManageLibrary"),id:"edit",icon:"folder"}),i.push({name:c.ZP.translate("ButtonRename"),id:"rename",icon:"mode_edit"}),i.push({name:c.ZP.translate("ScanLibrary"),id:"refresh",icon:"refresh"}),i.push({name:c.ZP.translate("ButtonRemove"),id:"delete",icon:"delete"}),Promise.resolve().then(t.bind(t,12801)).then((function(a){a.show({items:i,positionTo:r,callback:function(r){switch(r){case"edit":f(e,s);break;case"editimages":!function(e,r){t.e(23635).then(t.bind(t,23635)).then((function(t){t.show({itemId:r.ItemId,serverId:ApiClient.serverId()}).then((function(){v(e)}))}))}(e,s);break;case"rename":!function(e,r){t.e(23690).then(t.bind(t,23690)).then((function(t){(0,t.default)({label:c.ZP.translate("LabelNewName"),description:c.ZP.translate("MessageRenameMediaFolder"),confirmText:c.ZP.translate("ButtonRename")}).then((function(t){if(t&&t!=r.Name){var a=g(e);ApiClient.renameVirtualFolder(r.Name,t,a).then((function(){v(e)}))}}))}))}(e,s);break;case"delete":!function(e,r){var t=c.ZP.translate("MessageAreYouSureYouWishToRemoveMediaFolder");r.Locations.length&&(t+="<br/><br/>"+c.ZP.translate("MessageTheFollowingLocationWillBeRemovedFromLibrary")+"<br/><br/>",t+=r.Locations.join("<br/>")),(0,h.Z)({text:t,title:c.ZP.translate("HeaderRemoveMediaFolder"),confirmText:c.ZP.translate("Delete"),primary:"delete"}).then((function(){var t=g(e);ApiClient.removeVirtualFolder(r.Name,t).then((function(){v(e)}))}))}(e,s);break;case"refresh":!function(e,r){t.e(54687).then(t.bind(t,36929)).then((function(e){new(0,e.default)({itemIds:[r.ItemId],serverId:ApiClient.serverId(),mode:"scan"}).show()}))}(0,s)}}})}))}(e,this,r)})),o.querySelector("#addLibrary").addEventListener("click",(function(){!function(e){Promise.all([t.e(6535),t.e(80491)]).then(t.bind(t,83173)).then((function(r){new(0,r.default)({collectionTypeOptions:p().filter((function(e){return!e.hidden})),refresh:g(e)}).then((function(r){r&&v(e)}))}))}(e)})),$(".editLibrary",o).on("click",(function(){var t=$(this).parents(".card")[0],a=parseInt(t.getAttribute("data-index"),10),n=r[a];n.ItemId&&f(e,n)})),i.ZP.hide()}(e,r)}))}function g(e){return"mediaLibraryPage"===e.id}function b(e,r){return c.ZP.translate(e,'<a is="emby-linkbutton" class="button-link" href="'+r+'" target="_blank" data-autohide="true">',"</a>")}function p(){return[{name:"",value:""},{name:c.ZP.translate("Movies"),value:"movies",message:b("MovieLibraryHelp","https://jellyfin.org/docs/general/server/media/movies")},{name:c.ZP.translate("TabMusic"),value:"music",message:b("MusicLibraryHelp","https://jellyfin.org/docs/general/server/media/music")},{name:c.ZP.translate("Shows"),value:"tvshows",message:b("TvLibraryHelp","https://jellyfin.org/docs/general/server/media/shows")},{name:c.ZP.translate("Books"),value:"books",message:b("BookLibraryHelp","https://jellyfin.org/docs/general/server/media/books")},{name:c.ZP.translate("HomeVideosPhotos"),value:"homevideos"},{name:c.ZP.translate("MusicVideos"),value:"musicvideos"},{name:c.ZP.translate("MixedMoviesShows"),value:"mixed",message:c.ZP.translate("MessageUnsetContentHelp")}]}function y(e,r,t){var a="",s="";e.classList.contains("wizardPage")&&(s+="min-width:33.3%;"),a+="<div "+(r.elementId?'id="'.concat(r.elementId,'" '):"")+'class="card backdropCard scalableCard backdropCard-scalable" style="'+s+'" data-index="'+t+'" data-id="'+r.ItemId+'">',a+='<div class="cardBox visualCardBox">',a+='<div class="cardScalable visualCardBox-cardScalable">',a+='<div class="cardPadder cardPadder-backdrop"></div>',a+='<div class="cardContent">';var i,o="";if(r.PrimaryImageItemId&&(o=ApiClient.getScaledImageUrl(r.PrimaryImageItemId,{maxWidth:Math.round(.4*d.ZP.getScreenWidth()),type:"Primary"})),o?(a+='<div class="cardImageContainer editLibrary '.concat(o?"":(0,m.Rk)(),'" style="cursor:pointer">'),a+='<img src="'.concat(o,'" style="width:100%" />'),i=!0):r.showNameWithIcon||(a+='<div class="cardImageContainer editLibrary '.concat((0,m.Rk)(),'" style="cursor:pointer;">'),a+='<span class="cardImageIcon material-icons '+(r.icon||l.ZP.getLibraryIcon(r.CollectionType))+'" aria-hidden="true"></span>',i=!0),i&&(a+='<div class="cardIndicators backdropCardIndicators">',a+='<div is="emby-itemrefreshindicator"'+(r.RefreshProgress||r.RefreshStatus&&"Idle"!==r.RefreshStatus?"":' class="hide"')+' data-progress="'+(r.RefreshProgress||0)+'" data-status="'+r.RefreshStatus+'"></div>',a+="</div>",a+="</div>"),!o&&r.showNameWithIcon&&(a+='<h3 class="cardImageContainer addLibrary" style="position:absolute;top:0;left:0;right:0;bottom:0;cursor:pointer;flex-direction:column;">',a+='<span class="cardImageIcon material-icons '+(r.icon||l.ZP.getLibraryIcon(r.CollectionType))+'" aria-hidden="true"></span>',r.showNameWithIcon&&(a+='<div style="margin:1em 0;position:width:100%;">',a+=n()(r.Name),a+="</div>"),a+="</h3>"),a+="</div>",a+="</div>",a+='<div class="cardFooter visualCardBox-cardFooter">',!1!==r.showMenu){var u=c.ZP.getIsRTL()?"left":"right";a+='<div style="text-align:'+u+"; float:"+u+';padding-top:5px;">',a+='<button type="button" is="paper-icon-button-light" class="btnCardMenu autoSize"><span class="material-icons more_vert" aria-hidden="true"></span></button>',a+="</div>"}a+="<div class='cardText'>",r.showNameWithIcon?a+="&nbsp;":a+=n()(r.Name),a+="</div>";var h=p().filter((function(e){return e.value==r.CollectionType}))[0];return h=h?h.name:c.ZP.translate("Other"),a+="<div class='cardText cardText-secondary'>",!1===r.showType?a+="&nbsp;":a+=h,a+="</div>",!1===r.showLocations?(a+="<div class='cardText cardText-secondary'>",a+="&nbsp;",a+="</div>"):r.Locations.length&&1===r.Locations.length?(a+="<div class='cardText cardText-secondary' dir='ltr' style='text-align:left;'>",a+=r.Locations[0],a+="</div>"):(a+="<div class='cardText cardText-secondary'>",a+=c.ZP.translate("NumLocationsValue",r.Locations.length),a+="</div>"),a+="</div>",(a+="</div>")+"</div>"}function I(){return[{href:"#/dashboard/libraries",name:c.ZP.translate("HeaderLibraries")},{href:"#/dashboard/libraries/display",name:c.ZP.translate("Display")},{href:"#/dashboard/libraries/metadata",name:c.ZP.translate("Metadata")},{href:"#/dashboard/libraries/nfo",name:c.ZP.translate("TabNfoSettings")}]}window.WizardLibraryPage={next:function(){u.default.navigate("wizardsettings.html")}},(0,u.pageClassOn)("pageshow","mediaLibraryPage",(function(){v(this)})),(0,u.pageIdOn)("pageshow","mediaLibraryPage",(function(){o.default.setTabs("librarysetup",0,I),(0,s.Z)({mode:"on",progressElem:this.querySelector(".refreshProgress"),taskKey:"RefreshLibrary",button:this.querySelector(".btnRefresh")})})),(0,u.pageIdOn)("pagebeforehide","mediaLibraryPage",(function(){(0,s.Z)({mode:"off",progressElem:this.querySelector(".refreshProgress"),taskKey:"RefreshLibrary",button:this.querySelector(".btnRefresh")})}))},23366:function(e,r,t){"use strict";t.r(r),t(43512),t(63238),t(55849),t(67752);var a=t(94994),n=t(34706),s=Object.create(HTMLDivElement.prototype);s.createdCallback=function(){this.classList.add("progressring"),this.setAttribute("dir","ltr");var e=this;if(e.innerHTML='<div class="progressring-bg"> <div class="progressring-text"></div> </div> <div class="spiner-holder-one animate-0-25-a"> <div class="spiner-holder-two animate-0-25-b"> <div class="progressring-spiner"></div> </div> </div> <div class="spiner-holder-one animate-25-50-a"> <div class="spiner-holder-two animate-25-50-b"> <div class="progressring-spiner"></div> </div> </div> <div class="spiner-holder-one animate-50-75-a"> <div class="spiner-holder-two animate-50-75-b"> <div class="progressring-spiner"></div> </div> </div> <div class="spiner-holder-one animate-75-100-a"> <div class="spiner-holder-two animate-75-100-b"> <div class="progressring-spiner"></div> </div> </div> ',window.MutationObserver){var r=new MutationObserver((function(r){r.forEach((function(){e.setProgress(parseFloat(e.getAttribute("data-progress")||"0"))}))}));r.observe(e,{attributes:!0,childList:!1,characterData:!1}),e.observer=r}e.setProgress(parseFloat(e.getAttribute("data-progress")||"0"))},s.setProgress=function(e){var r;(e=Math.floor(e))<25?(r=e/100*360-90,this.querySelector(".animate-0-25-b").style.transform="rotate("+r+"deg)",this.querySelector(".animate-25-50-b").style.transform="rotate(-90deg)",this.querySelector(".animate-50-75-b").style.transform="rotate(-90deg)",this.querySelector(".animate-75-100-b").style.transform="rotate(-90deg)"):e>=25&&e<50?(r=(e-25)/100*360-90,this.querySelector(".animate-0-25-b").style.transform="none",this.querySelector(".animate-25-50-b").style.transform="rotate("+r+"deg)",this.querySelector(".animate-50-75-b").style.transform="rotate(-90deg)",this.querySelector(".animate-75-100-b").style.transform="rotate(-90deg)"):e>=50&&e<75?(r=(e-50)/100*360-90,this.querySelector(".animate-0-25-b").style.transform="none",this.querySelector(".animate-25-50-b").style.transform="none",this.querySelector(".animate-50-75-b").style.transform="rotate("+r+"deg)",this.querySelector(".animate-75-100-b").style.transform="rotate(-90deg)"):e>=75&&e<=100&&(r=(e-75)/100*360-90,this.querySelector(".animate-0-25-b").style.transform="none",this.querySelector(".animate-25-50-b").style.transform="none",this.querySelector(".animate-50-75-b").style.transform="none",this.querySelector(".animate-75-100-b").style.transform="rotate("+r+"deg)"),this.querySelector(".progressring-text").innerHTML=(0,n.yI)(e/100,(0,a.cQ)())},s.attachedCallback=function(){},s.detachedCallback=function(){var e=this.observer;e&&(e.disconnect(),this.observer=null)},document.registerElement("emby-progressring",{prototype:s,extends:"div"});var i=s,o=t(72365),c=t(44038),d=t(67561);function l(e,r,t){var a=this;if(a.itemId||(a.itemId=o.ZP.parentWithAttribute(a,"data-id").getAttribute("data-id")),t.ItemId===a.itemId){var n=parseFloat(t.Progress);n&&n<100?this.classList.remove("hide"):this.classList.add("hide"),this.setAttribute("data-progress",n)}}var u=Object.create(i);u.createdCallback=function(){var e,r;i.createdCallback&&i.createdCallback.call(this),e="RefreshProgress",r=l.bind(this),d.Z.on(c.default,e,r),this[e]=r},u.attachedCallback=function(){i.attachedCallback&&i.attachedCallback.call(this)},u.detachedCallback=function(){var e,r;i.detachedCallback&&i.detachedCallback.call(this),(r=this[e="RefreshProgress"])&&(d.Z.off(c.default,e,r),this[e]=null),this.itemId=null},document.registerElement("emby-itemrefreshindicator",{prototype:u,extends:"div"})},60042:function(e,r){var t;!function(){"use strict";var a={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var t=arguments[r];if(t){var s=typeof t;if("string"===s||"number"===s)e.push(t);else if(Array.isArray(t)){if(t.length){var i=n.apply(null,t);i&&e.push(i)}}else if("object"===s){if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]")){e.push(t.toString());continue}for(var o in t)a.call(t,o)&&t[o]&&e.push(o)}}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(t=function(){return n}.apply(r,[]))||(e.exports=t)}()},26059:function(e,r,t){"use strict";t.d(r,{IH:function(){return h},Qi:function(){return u},Rk:function(){return m},XE:function(){return v},Yg:function(){return o},aI:function(){return g},aQ:function(){return i},gG:function(){return c},jL:function(){return l},nm:function(){return d}});var a=t(34706),n=t(60042),s=t.n(n),i=function(e){return"Program"===e||"Timer"===e||"Recording"===e},o=function(e){return"play"===e.defaultAction&&e.isFolder?"link":e.isPhoto?"play":e.defaultAction},c=function(e){var r=window.screen;return!!(r&&r.availWidth-e>20)},d=function(e){return null==e?"mixedSquare":e>=1.33?"mixedBackdrop":e>.71?"mixedSquare":"mixedPortrait"},l=function(e){var r;return s()(((r={card:!0})["".concat(e.shape,"Card")]=e.shape,r["".concat(e.cardCssClass)]=e.cardCssClass,r["".concat(e.cardClass)]=e.cardClass,r["card-hoverable"]=e.isDesktop,r["show-focus"]=e.isTV,r["show-animation"]=e.isTV&&e.enableFocusTransform,r.groupedCard=e.showChildCountIndicator&&e.childCount,r["card-withuserdata"]=!["MusicAlbum","MusicArtist","Audio"].includes(e.itemType),r.itemAction="button"===e.tagName,r))},u=function(e){var r;return s()(((r={cardImageContainer:!0,coveredImage:e.hasCoverImage,"coveredImage-contain":e.hasCoverImage&&"TvChannel"===e.itemType})[m(e.itemName)]=!e.imgUrl,r))},h=function(e){return s()({cardBox:!0,visualCardBox:e.cardLayout,"cardBox-bottompadded":e.hasOuterCardFooter&&!e.cardLayout})},m=function(e){return"defaultCardBackground defaultCardBackground".concat(f(e))},f=function(e){if(e){for(var r=Math.floor(e.length/2),t=String(e.slice(r,r+1).charCodeAt(0)),n=0,s=0;s<t.length;s++)n+=parseInt(t.charAt(s),10);return parseInt(String(n).slice(-1),10)%5+1}return(0,a.Iy)(1,5)},v=function(e){return e?-1!==(e=e.toLowerCase()).indexOf("portrait")?.6666666666666666:-1!==e.indexOf("backdrop")?1.7777777777777777:-1!==e.indexOf("square")?1:-1!==e.indexOf("banner")?5.405405405405405:null:null},g=function(e,r,t,a){switch(e){case"portrait":return b(r,a);case"square":return p(r,a);case"banner":return y(r);case"backdrop":return I(r,a);case"smallBackdrop":return P(r);case"overflowSmallBackdrop":return w(r,t,a);case"overflowPortrait":return C(r,t,a);case"overflowSquare":return S(r,t,a);case"overflowBackdrop":return k(r,t,a);default:return 4}},b=function(e,r){switch(!0){case r:return 5.9999999988;case e>=2200:return 10;case e>=1920:return 9.000000000009;case e>=1600:return 8;case e>=1400:return 7.0000000000021;case e>=1200:return 5.9999999988;case e>=800:return 5;case e>=700:return 4;default:return 3.0000000003}},p=function(e,r){switch(!0){case r:return 5.9999999988;case e>=2200:return 10;case e>=1920:return 9.000000000009;case e>=1600:return 8;case e>=1400:return 7.0000000000021;case e>=1200:return 5.9999999988;case e>=800:return 5;case e>=700:return 4;case e>=500:return 3.0000000003;default:return 2}},y=function(e){switch(!0){case e>=2200:return 4;case e>=1200:return 3.0000000003;case e>=800:return 2;default:return 1}},I=function(e,r){switch(!0){case r:return 4;case e>=2500:return 6;case e>=1600:return 5;case e>=1200:return 4;case e>=770:return 3;case e>=420:return 2;default:return 1}},P=function(e){switch(!0){case e>=1600:return 8;case e>=1400:return 7.000000000007001;case e>=1200:return 5.9999999988;case e>=1e3:return 5;case e>=800:return 4;case e>=500:return 3.0000000003;default:return 2}},w=function(e,r,t){switch(!0){case t:return 100/18.9;case r&&e>=800:return 100/15.5;case r:return 100/23.3;case e>=540:return 100/30;default:return 100/72}},C=function(e,r,t){switch(!0){case t:return 100/15.5;case r&&e>=1700:return 100/11.6;case r:return 100/15.5;case e>=1400:return 100/15;case e>=1200:return 100/18;case e>=760:return 100/23;case e>=400:return 100/31.5;default:return 100/42}},S=function(e,r,t){switch(!0){case t:return 100/15.5;case r&&e>=1700:return 100/11.6;case r:return 100/15.5;case e>=1400:return 100/15;case e>=1200:return 100/18;case e>=760:return 100/23;case e>=540:return 100/31.5;default:return 100/42}},k=function(e,r,t){switch(!0){case t:return 100/23.3;case r&&e>=1700:return 100/18.5;case r:return 100/23.3;case e>=1800:return 100/23.5;case e>=1400:return 100/30;case e>=760:return 2.5;case e>=640:return 100/56;default:return 100/72}}},23509:function(e,r,t){"use strict";var a="assets/img/devices/";r.ZP={getDeviceIcon:function(e){var r;switch(e.AppName||e.Client){case"Samsung Smart TV":return a+"samsung.svg";case"Xbox One":return a+"xbox.svg";case"Sony PS4":return a+"playstation.svg";case"Kodi":case"Kodi JellyCon":return a+"kodi.svg";case"Jellyfin Android":case"AndroidTV":case"Android TV":return a+"android.svg";case"Jellyfin Mobile (iOS)":case"Jellyfin Mobile (iPadOS)":case"Jellyfin iOS":case"Infuse":return a+"apple.svg";case"Home Assistant":return a+"home-assistant.svg";case"Jellyfin Roku":return a+"roku.svg";case"Finamp":return a+"finamp.svg";case"Jellyfin Web":return function(e){switch(e){case"Opera":case"Opera TV":case"Opera Android":return a+"opera.svg";case"Chrome":case"Chrome Android":return a+"chrome.svg";case"Firefox":case"Firefox Android":return a+"firefox.svg";case"Safari":case"Safari iPad":case"Safari iPhone":return a+"safari.svg";case"Edge Chromium":case"Edge Chromium Android":case"Edge Chromium iPad":case"Edge Chromium iPhone":return a+"edgechromium.svg";case"Edge":return a+"edge.svg";case"Internet Explorer":return a+"msie.svg";default:return a+"html5.svg"}}(e.Name||e.DeviceName);default:if(null===(r=e.Capabilities)||void 0===r?void 0:r.IconUrl)try{return new URL(e.Capabilities.IconUrl).toString()}catch(r){console.error("[getDeviceIcon] device capabilities has invalid IconUrl",e,r)}return a+"other.svg"}},getLibraryIcon:function(e){switch(e){case"movies":return"video_library";case"music":return"library_music";case"photos":case"homevideos":return"photo_library";case"livetv":return"live_tv";case"tvshows":return"tv";case"trailers":return"local_movies";case"musicvideos":return"music_video";case"books":return"library_books";case"channels":return"videocam";case"playlists":return"view_list";default:return"folder"}}}}}]);