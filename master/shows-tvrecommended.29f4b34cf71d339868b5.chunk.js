(self.webpackChunk=self.webpackChunk||[]).push([[5240],{56612:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}}),n(5769),n(32081),n(63238),n(61418),n(17460),n(14078),n(27471);var a=n(47005),r=n(58517),s=n(71487),o=n(30325),i=n(28540),d=n(72365),l=n(60934),c=n(61570),u=n(48957),m=n(67345),p=n(94994),f=(n(82427),n(38228),n(60635)),h=n(87680);function v(){return[{name:p.ZP.translate("Shows")},{name:p.ZP.translate("Suggestions")},{name:p.ZP.translate("TabUpcoming")},{name:p.ZP.translate("Genres")},{name:p.ZP.translate("TabNetworks")},{name:p.ZP.translate("Episodes")}]}function g(){return!o.Z.desktop}function I(e,t){function I(e){var t;T(0,t=parseInt(e.detail.selectedTabIndex),(function(e){-1==E.indexOf(t)&&e.preRender&&e.preRender()}))}function b(e){var t,n=parseInt(e.detail.selectedTabIndex);L=t=n,T(0,t,(function(e){-1==E.indexOf(t)&&(E.push(t),e.renderTab())}))}function y(){return e.querySelectorAll(".pageTabContent")}function T(a,r,s){var o;switch(r){case 0:o="tvshows";break;case 1:o="tvrecommended";break;case 2:o="tvupcoming";break;case 3:o="tvgenres";break;case 4:o="tvstudios";break;case 5:o="episodes"}n(73210)("./".concat(o)).then((function(n){var a,o=n.default;1===r&&(a=e.querySelector(".pageTabContent[data-index='"+r+"']"),S.tabContent=a);var i=k[r];i||(a=e.querySelector(".pageTabContent[data-index='"+r+"']"),i=1===r?S:new o(e,t,a),k[r]=i,i.initTab&&i.initTab()),s(i)}))}function w(e,t){t.NowPlayingItem&&"Video"==t.NowPlayingItem.MediaType&&(E=[],m.getTabsElement().triggerTabChange())}function C(e,t){var n=t;"UserDataChanged"===n.MessageType&&n.Data.UserId==ApiClient.getCurrentUserId()&&(E=[])}function P(e){"search"===e.detail.command&&(e.preventDefault(),f.ZP.navigate("search.html?collectionType=tv&parentId="+t.topParentId))}var S=this,L=parseInt(t.tab||function(e){switch(l.get("landing-"+e)){case"suggestions":return 1;case"upcoming":return 2;case"genres":return 3;case"networks":return 4;case"episodes":return 5;default:return 0}}(t.topParentId));S.initTab=function(){!function(e,t){for(var n,a=t.querySelectorAll(".itemsContainer"),r=0,s=a.length;r<s;r++)n=a[r],g()?(n.classList.add("hiddenScrollX"),o.Z.tv&&n.classList.add("smoothScrollX"),n.classList.add("scrollX"),n.classList.remove("vertical-wrap")):(n.classList.remove("hiddenScrollX"),n.classList.remove("smoothScrollX"),n.classList.remove("scrollX"),n.classList.add("vertical-wrap"))}(0,e.querySelector(".pageTabContent[data-index='1']"))},S.renderTab=function(){var n=e.querySelector(".pageTabContent[data-index='1']");!function(e,t,n){var a=t.topParentId,r=ApiClient.getCurrentUserId();console.debug("loadSuggestionsTab"),function(e,t,n){var a={SortBy:"DatePlayed",SortOrder:"Descending",IncludeItemTypes:"Episode",Filters:"IsResumable",Limit:d.ZP.getWindowSize().innerWidth>=1600?5:3,Recursive:!0,Fields:"PrimaryImageAspectRatio,MediaSourceCount,BasicSyncInfo",CollapseBoxSetItems:!1,ParentId:n,ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Banner,Thumb",EnableTotalRecordCount:!1};ApiClient.getItems(t,a).then((function(t){t.Items.length?e.querySelector("#resumableSection").classList.remove("hide"):e.querySelector("#resumableSection").classList.add("hide");var n=!g(),a=e.querySelector("#resumableItems");c.default.buildCards(t.Items,{itemsContainer:a,preferThumb:!0,inheritThumb:!l.useEpisodeImagesInNextUpAndResume(),shape:g()?"overflowBackdrop":"backdrop",scalable:!0,overlayPlayButton:!0,allowBottomPadding:n,cardLayout:!1,showTitle:!0,showYear:!0,centerText:!0}),i.ZP.hide(),h.default.autoFocus(e)}))}(n,r,a),function(e,t,n){var a={userId:t,IncludeItemTypes:"Episode",Limit:30,Fields:"PrimaryImageAspectRatio,BasicSyncInfo",ParentId:n,ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Thumb"};ApiClient.getLatestItems(a).then((function(t){var n=e.querySelector("#latestItemsSection"),a=!g(),r=n.querySelector("#latestEpisodesItems");c.default.buildCards(t,{parentContainer:n,itemsContainer:r,items:t,shape:"backdrop",preferThumb:!0,showTitle:!0,showSeriesYear:!0,showParentTitle:!0,overlayText:!1,cardLayout:!1,allowBottomPadding:a,showUnplayedIndicator:!1,showChildCountIndicator:!0,centerText:!0,lazy:!0,overlayPlayButton:!0,lines:2}),i.ZP.hide(),h.default.autoFocus(e)}))}(n,r,a),function(e,t,n){var a={userId:t,Limit:24,Fields:"PrimaryImageAspectRatio,DateCreated,BasicSyncInfo,MediaSourceCount",ParentId:n,ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Thumb",EnableTotalRecordCount:!1};a.ParentId=s.Z.getTopParentId(),ApiClient.getNextUpEpisodes(a).then((function(t){t.Items.length?e.querySelector(".noNextUpItems").classList.add("hide"):e.querySelector(".noNextUpItems").classList.remove("hide");var n=e.querySelector("#nextUpItemsSection"),a=n.querySelector("#nextUpItems");c.default.buildCards(t.Items,{parentContainer:n,itemsContainer:a,preferThumb:!0,inheritThumb:!l.useEpisodeImagesInNextUpAndResume(),shape:"backdrop",scalable:!0,showTitle:!0,showParentTitle:!0,overlayText:!1,centerText:!0,overlayPlayButton:!0,cardLayout:!1}),i.ZP.hide(),h.default.autoFocus(e)}))}(n,r,a)}(0,t,n)};var k=[],E=[];e.addEventListener("viewshow",(function(){if(m.setTabs(e,L,v,y,I,b),!e.getAttribute("data-title")){var n=t.topParentId;n?ApiClient.getItem(ApiClient.getCurrentUserId(),n).then((function(t){e.setAttribute("data-title",t.Name),s.Z.setTitle(t.Name)})):(e.setAttribute("data-title",p.ZP.translate("Shows")),s.Z.setTitle(p.ZP.translate("Shows")))}a.Events.on(u.O,"playbackstop",w),a.Events.on(ApiClient,"message",C),r.default.on(window,P)})),e.addEventListener("viewbeforehide",(function(){r.default.off(window,P),a.Events.off(u.O,"playbackstop",w),a.Events.off(ApiClient,"message",C)})),e.addEventListener("viewdestroy",(function(){k.forEach((function(e){e.destroy&&e.destroy()}))}))}},73210:function(e,t,n){var a={"./episodes":[39873,3873,3064],"./episodes.js":[39873,3873,3064],"./tvgenres":[19372,9322],"./tvgenres.js":[19372,9322],"./tvrecommended":[56612],"./tvrecommended.html":[26623,8601],"./tvrecommended.js":[56612],"./tvshows":[63648,3873,5815],"./tvshows.js":[63648,3873,5815],"./tvstudios":[9300,858],"./tvstudios.js":[9300,858],"./tvupcoming":[34968,8541],"./tvupcoming.js":[34968,8541]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=73210,e.exports=r}}]);