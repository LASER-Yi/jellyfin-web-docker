(self.webpackChunk=self.webpackChunk||[]).push([[88788],{17240:function(e,t,n){"use strict";n.d(t,{A:function(){return a}}),n(63696);var r=n(91785),i=n(62540);function a(e){var t=e.styles,n=e.defaultTheme,a=void 0===n?{}:n,o="function"==typeof t?function(e){return t(null==(n=e)||0===Object.keys(n).length?a:e);var n}:t;return(0,i.jsx)(r.mL,{styles:o})}},40362:function(e,t,n){"use strict";var r=n(56441);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},62688:function(e,t,n){e.exports=n(40362)()},56441:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},20446:function(e,t,n){"use strict";n.d(t,{UI:function(){return a}});var r="NOT_FOUND",i=function(e,t){return e===t};function a(e,t){var n,a,o="object"==typeof t?t:{equalityCheck:t},l=o.equalityCheck,u=void 0===l?i:l,c=o.maxSize,s=void 0===c?1:c,f=o.resultEqualityCheck,p=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}(u),d=1===s?(n=p,{get:function(e){return a&&n(a.key,e)?a.value:r},put:function(e,t){a={key:e,value:t}},getEntries:function(){return a?[a]:[]},clear:function(){a=void 0}}):function(e,t){var n=[];function i(e){var i=n.findIndex((function(n){return t(e,n.key)}));if(i>-1){var a=n[i];return i>0&&(n.splice(i,1),n.unshift(a)),a.value}return r}return{get:i,put:function(t,a){i(t)===r&&(n.unshift({key:t,value:a}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(s,p);function v(){var t=d.get(arguments);if(t===r){if(t=e.apply(null,arguments),f){var n=d.getEntries().find((function(e){return f(e.value,t)}));n&&(t=n.value)}d.put(arguments,t)}return t}return v.clearCache=function(){return d.clear()},v}},24885:function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a,o=0,l={memoizeOptions:void 0},u=r.pop();if("object"==typeof u&&(l=u,u=r.pop()),"function"!=typeof u)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var c=l.memoizeOptions,s=void 0===c?n:c,f=Array.isArray(s)?s:[s],p=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}(r),d=e.apply(void 0,[function(){return o++,u.apply(null,arguments)}].concat(f)),v=e((function(){for(var e=[],t=p.length,n=0;n<t;n++)e.push(p[n].apply(null,arguments));return a=d.apply(null,e)}));return Object.assign(v,{resultFunc:u,memoizedResultFunc:d,dependencies:p,lastResult:function(){return a},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),v}}n.d(t,{Mz:function(){return i}});var i=r(n(20446).UI)},52816:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G}});var r,i=n(62540),a=n(63696),o=n(46999),l=n(5271),u=n(34907),c=n(19044),s=n(99502),f=n(99851),p=n(87282),d=n(9055),v=n(7397),y=n(92342),h=n(55099),b=n(61586),g=n(14847),m=function(e){var t=(0,g.gf)();return(0,b.I)({queryKey:["LogEntries",e],queryFn:function(n){var r=n.signal;return function(e,t,n){return r=void 0,i=void 0,o=function(){var r;return function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(u){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&l[0]?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){o.label=l[1];break}if(6===l[0]&&o.label<i[1]){o.label=i[1],i=l;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(l);break}i[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}(this,(function(i){switch(i.label){case 0:return(r=e.api)?[4,(0,h.A)(r).getLogEntries(t,{signal:null==n?void 0:n.signal})]:[2];case 1:return[2,i.sent().data]}}))},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{u(o.next(e))}catch(e){t(e)}}function l(e){try{u(o.throw(e))}catch(e){t(e)}}function u(t){var r;t.done?e(t.value):(r=t.value,r instanceof a?r:new a((function(e){e(r)}))).then(n,l)}u((o=o.apply(r,i||[])).next())}));var r,i,a,o}(t,e,{signal:r})}})},w=n(7758),x=function(e){var t=(0,g.gf)();return(0,b.I)({queryKey:["Users"],queryFn:function(n){var r=n.signal;return function(e,t,n){return r=void 0,i=void 0,o=function(){var r;return function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(u){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&l[0]?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){o.label=l[1];break}if(6===l[0]&&o.label<i[1]){o.label=i[1],i=l;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(l);break}i[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}(this,(function(i){switch(i.label){case 0:return(r=e.api)?[4,(0,w.q)(r).getUsers(t,{signal:null==n?void 0:n.signal})]:[2];case 1:return[2,i.sent().data]}}))},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{u(o.next(e))}catch(e){t(e)}}function l(e){try{u(o.throw(e))}catch(e){t(e)}}function u(t){var r;t.done?e(t.value):(r=t.value,r instanceof a?r:new a((function(e){e(r)}))).then(n,l)}u((o=o.apply(r,i||[])).next())}));var r,i,a,o}(t,e,{signal:r})}})},A=n(98320),j=n(5898),O=n(67202),k=n(10104),S=n(23392),I=function(e){var t,n=e.level;switch(n){case k.$.Information:t="info";break;case k.$.Warning:t="warning";break;case k.$.Error:case k.$.Critical:t="error"}var r=j.Ay.translate("LogLevel.".concat(n));return(0,i.jsx)(S.A,{size:"small",color:t,label:r,title:r})},C=n(10789),L=n(36161),T=n(20541),U=function(e){var t=e.Overview,n=e.ShortOverview,r=null!=n?n:t,o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}((0,a.useState)(!1),2),c=o[0],s=o[1],f=(0,a.useCallback)((function(){s(!1)}),[]),p=(0,a.useCallback)((function(){s(!0)}),[]);return r?(0,i.jsxs)(l.A,{sx:{display:"flex",width:"100%",alignItems:"center"},children:[(0,i.jsx)(l.A,{sx:{flexGrow:1,overflow:"hidden",textOverflow:"ellipsis"},component:"div",title:r,children:r}),n&&t&&(0,i.jsx)(L.x,{onClickAway:f,children:(0,i.jsx)(T.A,{title:t,placement:"top",arrow:!0,onClose:f,open:c,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,children:(0,i.jsx)(u.A,{onClick:p,children:(0,i.jsx)(C.A,{})})})})]}):null},E=n(70578),N=function(){return N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},N.apply(this,arguments)},P=function(e){var t=e.to,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["to"]);return(0,i.jsx)(d.N_,{to:t,children:(0,i.jsx)(E.Z,N({},n))})},z=function(){return z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},z.apply(this,arguments)},_=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},R=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},q="useractivity";!function(e){e[e.All=0]="All",e[e.User=1]="User",e[e.System=2]="System"}(r||(r={}));var D=function(e){return null===e?r.All:(0,O.G)(e)?r.User:r.System},F=function(e){var t;return null!==(t=e.Id)&&void 0!==t?t:-1},G=function(){var e=_((0,d.ok)(),2),t=e[0],n=e[1],h=_((0,a.useState)(D(t.get(q))),2),b=h[0],g=h[1],w=_((0,a.useState)({page:0,pageSize:25}),2),O=w[0],k=w[1],S=x(),C=S.data,L=S.isLoading,T=(0,a.useMemo)((function(){return C?C.reduce((function(e,t){var n,r=t.Id;return r?z(z({},e),((n={})[r]=t,n)):e}),{}):{}}),[C]),E=(0,a.useMemo)((function(){return{startIndex:O.page*O.pageSize,limit:O.pageSize,hasUserId:b!==r.All?b===r.User:void 0}}),[b,O.page,O.pageSize]),N=m(E),G=N.data,M=N.isLoading,H=L||M,W=b!==r.System?[{field:"User",headerName:j.Ay.translate("LabelUser"),width:60,valueGetter:function(e,t){var n;return null===(n=T[t.UserId])||void 0===n?void 0:n.Name},renderCell:function(e){var t,n,r=e.row;return(0,i.jsx)(u.A,{size:"large",color:"inherit",sx:{padding:0},title:null!==(n=null===(t=T[r.UserId])||void 0===t?void 0:t.Name)&&void 0!==n?n:void 0,component:d.N_,to:"/dashboard/users/profile?userId=".concat(r.UserId),children:(0,i.jsx)(y.A,{user:T[r.UserId]})})}}]:[],$=R(R([{field:"Date",headerName:j.Ay.translate("LabelDate"),width:90,type:"date",valueGetter:function(e){return(0,A.mk)(e)},valueFormatter:function(e){return(0,A.hJ)(e)}},{field:"Time",headerName:j.Ay.translate("LabelTime"),width:100,type:"dateTime",valueGetter:function(e,t){return(0,A.mk)(t.Date)},valueFormatter:function(e){return(0,A.kY)(e)}},{field:"Severity",headerName:j.Ay.translate("LabelLevel"),width:110,renderCell:function(e){var t=e.value;return t?(0,i.jsx)(I,{level:t}):void 0}}],_(W),!1),[{field:"Name",headerName:j.Ay.translate("LabelName"),width:300},{field:"Overview",headerName:j.Ay.translate("LabelOverview"),width:200,valueGetter:function(e,t){var n;return null!==(n=t.ShortOverview)&&void 0!==n?n:t.Overview},renderCell:function(e){var t=e.row;return(0,i.jsx)(U,z({},t))}},{field:"Type",headerName:j.Ay.translate("LabelType"),width:180},{field:"actions",type:"actions",width:50,getActions:function(e){var t=e.row,n=[];return t.ItemId&&n.push((0,i.jsx)(P,{size:"large",icon:(0,i.jsx)(o.A,{}),label:j.Ay.translate("LabelMediaDetails"),title:j.Ay.translate("LabelMediaDetails"),to:"/details?id=".concat(t.ItemId)})),n}}],!1),Y=(0,a.useCallback)((function(e,t){null!==t&&g(t)}),[]);return(0,a.useEffect)((function(){D(t.get(q))!==b&&(b===r.All?t.delete(q):t.set(q,"".concat(b===r.User)),n(t))}),[b,t,n]),(0,i.jsx)(v.A,{id:"serverActivityPage",title:j.Ay.translate("HeaderActivity"),className:"mainAnimatedPage type-interior",children:(0,i.jsxs)(l.A,{className:"content-primary",sx:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,i.jsxs)(l.A,{sx:{display:"flex",alignItems:"baseline",marginY:2},children:[(0,i.jsx)(l.A,{sx:{flexGrow:1},children:(0,i.jsx)(f.A,{variant:"h2",children:j.Ay.translate("HeaderActivity")})}),(0,i.jsxs)(s.A,{value:b,onChange:Y,exclusive:!0,children:[(0,i.jsx)(c.A,{value:r.All,children:j.Ay.translate("All")}),(0,i.jsx)(c.A,{value:r.User,children:j.Ay.translate("LabelUser")}),(0,i.jsx)(c.A,{value:r.System,children:j.Ay.translate("LabelSystem")})]})]}),(0,i.jsx)(p.z,{columns:$,rows:(null==G?void 0:G.Items)||[],pageSizeOptions:[10,25,50,100],paginationMode:"server",paginationModel:O,onPaginationModelChange:k,rowCount:(null==G?void 0:G.TotalRecordCount)||0,getRowId:F,loading:H})]})})}},29520:function(e,t,n){"use strict";function r(e){if(null==e)throw new TypeError("Cannot destructure "+e)}n.d(t,{A:function(){return r}})}}]);