"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7631,68603,96084],{32203:function(e,t,r){r.d(t,{Bq:function(){return s},Jd:function(){return c},yq:function(){return i}});var n=r(65369),o=r(11444),a="assets/img/devices/";function i(e){var t;switch(e.AppName||e.Client){case"Samsung Smart TV":return a+"samsungtv.svg";case"Xbox One":return a+"xbox.svg";case"Sony PS4":return a+"playstation.svg";case"Kodi":case"Kodi JellyCon":return a+"kodi.svg";case"Jellyfin Android":case"AndroidTV":case"Android TV":return a+"android.svg";case"Jellyfin Mobile (iOS)":case"Jellyfin Mobile (iPadOS)":case"Jellyfin iOS":case"Jellyfin iPadOS":case"Jellyfin tvOS":case"Swiftfin iPadOS":case"Swiftfin iOS":case"Swiftfin tvOS":case"Infuse":case"Infuse-Direct":case"Infuse-Library":return a+"apple.svg";case"Home Assistant":return a+"home-assistant.svg";case"Jellyfin for WebOS":case"LG Smart TV":return a+"webos.svg";case"Jellyfin Roku":return a+"roku.svg";case"Finamp":return a+"finamp.svg";case"Jellyfin Web":return function(e){switch(e){case"Opera":case"Opera TV":case"Opera Android":return a+"opera.svg";case"Chrome":case"Chrome Android":return a+"chrome.svg";case"Firefox":case"Firefox Android":return a+"firefox.svg";case"Safari":case"Safari iPad":case"Safari iPhone":return a+"safari.svg";case"Edge Chromium":case"Edge Chromium Android":case"Edge Chromium iPad":case"Edge Chromium iPhone":return a+"edgechromium.svg";case"Edge":return a+"edge.svg";case"Internet Explorer":return a+"msie.svg";default:return a+"html5.svg"}}(e.Name||e.DeviceName);default:if(null===(t=e.Capabilities)||void 0===t?void 0:t.IconUrl)try{return new URL(e.Capabilities.IconUrl).toString()}catch(t){console.error("[getDeviceIcon] device capabilities has invalid IconUrl",e,t)}return a+"other.svg"}}function c(e){switch(e){case n.X.Movies:return"movie";case n.X.Music:return"music_note";case n.X.Homevideos:case n.X.Photos:return"photo";case n.X.Livetv:return"live_tv";case n.X.Tvshows:return"tv";case n.X.Trailers:return"theaters";case n.X.Musicvideos:return"music_video";case n.X.Books:return"book";case n.X.Boxsets:return"video_library";case n.X.Playlists:return"queue";case"channels":return"videocam";case void 0:return"quiz";default:return"folder"}}function s(e,t){switch(e){case o.D.MusicAlbum:return"album";case o.D.MusicArtist:case o.D.Person:return"person";case o.D.Audio:return"audiotrack";case o.D.Movie:return"movie";case o.D.Episode:case o.D.Series:return"tv";case o.D.Program:return"live_tv";case o.D.Book:return"book";case o.D.Folder:return"folder";case o.D.BoxSet:return"video_library";case o.D.Playlist:return"queue";case o.D.Photo:return"photo";case o.D.PhotoAlbum:return"photo_album";default:return t}}t.Ay={getDeviceIcon:i,getLibraryIcon:c,getItemTypeIcon:s}},87024:function(e,t,r){r.r(t),r.d(t,{default:function(){return D}}),r(24776),r(20518),r(78557),r(23630);var n,o=r(45182),a=r(22696),i=r.n(a);!function(e){e[e.NoScroll=0]="NoScroll",e[e.Smooth=1]="Smooth",e[e.Instant=2]="Instant"}(n||(n={}));var c,s,u,l=r(84069),d=r(70267),f=r(46782),v=r(39738),y=r(93599),m=r(9164),h=r(5898),g=r(67430),p=r(74550),S=r(73233),L=r(44797),A=r(75384),b=!1,w=n.Instant;function P(e,t,r){var n=f.A.tv?"button":"div",o=[];b&&o.push("dynamicLyric"),f.A.tv&&o.push("listItem","show-focus");var a=void 0!==t.Start?'data-lyrictime="'.concat(t.Start,'"'):"";return e+"<".concat(n,' class="lyricsLine ').concat(o.join(" "),'" id="lyricPosition').concat(r,'" ').concat(a,">\n    <bdi>").concat(i()(t.Text),"</bdi>\n</").concat(n,">")}function I(e,t){return t.findLastIndex((function(t){return t.Start<=e}))}function k(){var e=v.f.currentTime();return void 0===e&&(e=0),1e4*e}function D(e){function t(t){var r=e.querySelector("#lyricPosition".concat(t));r&&(r.classList.remove("pastLyric"),r.classList.add("futureLyric"))}function r(t){var r=e.querySelector("#lyricPosition".concat(t));r&&(r.classList.remove("pastLyric"),r.classList.remove("futureLyric"),w!==n.NoScroll&&(y.Ay.scrollToElement(r,w===n.Smooth),m.A.focus(r),w=n.Smooth))}function a(n,o){for(var a=0;a<=o.length;a++)a<n?(i=a,c=void 0,(c=e.querySelector("#lyricPosition".concat(i)))&&(c.classList.remove("futureLyric"),c.classList.add("pastLyric"))):a===n?r(a):a>n&&t(a);var i,c}function i(){var t=e.querySelector(".lyricsContainer");if(t){var r="<h1>".concat(h.Ay.translate("HeaderNoLyrics"),"</h1>");t.innerHTML=r}l.default.autoFocus()}function f(t){u=t,b=Object.prototype.hasOwnProperty.call(t[0],"Start"),function(t){var r=e.querySelector(".lyricsContainer");if(r){var o=t.reduce(P,"");r.innerHTML=o}b&&(r.querySelectorAll(".lyricsLine").forEach((function(e){e.addEventListener("click",(function(){return t=e.getAttribute("data-lyrictime"),w=n.Smooth,v.f.seek(t),void(v.f.paused()&&v.f.playPause(c));var t}))})),a(I(k(),t),u))}(u),l.default.autoFocus(e)}function D(e){e!==c&&(E(),c=e,e&&(L.A.on(e,"timeupdate",C),L.A.on(e,"playbackstart",N),L.A.on(e,"playbackstop",O)))}function E(){var e=c;e&&(L.A.off(e,"timeupdate",C),L.A.off(e,"playbackstart",N),L.A.off(e,"playbackstop",O),c=null)}function C(){b&&a(I(k(),u),u)}function N(e,t){s.Id!==t.NowPlayingItem.Id&&x()}function O(e,t){t.NextMediaType||d.appRouter.goHome()}function T(){D(v.f.getCurrentPlayer())}function x(){u=null,s=null,b=!1,S.default.setTitle(h.Ay.translate("Lyrics"));var e,t,r,n=v.f.getCurrentPlayer();if(n){D(n);var a=v.f.getPlayerState(n);s=a.NowPlayingItem,(e=a.NowPlayingItem.ServerId,t=a.NowPlayingItem.Id,r=g.tF.getApiClient(e),(0,o.t)((0,A.C)(r)).getLyrics({itemId:t}).then((function(e){var t,r=e.data;if(null===(t=r.Lyrics)||void 0===t||!t.length)throw new Error("No lyrics returned");return r.Lyrics}))).then(f).catch(i)}else d.appRouter.goHome()}function X(){w=n.NoScroll}function q(e){var t=p.Ay.getKeyName(e);"ArrowUp"!==t&&"ArrowDown"!==t||(w=n.NoScroll)}e.addEventListener("viewshow",(function(){L.A.on(v.f,"playerchange",T),w=n.Instant,document.addEventListener("wheel",X),document.addEventListener("touchmove",X),document.addEventListener("keydown",q);try{x()}catch(e){d.appRouter.goHome()}})),e.addEventListener("viewbeforehide",(function(){L.A.off(v.f,"playerchange",T),document.removeEventListener("wheel",X),document.removeEventListener("touchmove",X),document.removeEventListener("keydown",q),E()}))}}}]);