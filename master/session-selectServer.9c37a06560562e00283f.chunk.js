"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5319],{27037:function(e,t,r){r.r(t),r.d(t,{default:function(){return S}}),r(61013),r(98010),r(63238);var a=r(56705),s=r(86628),i=r(78695),l=r(3319),n=r(67469),o=r(27515),c=r(44614),d=r(78407),u=r(83094),h=r(47518),v=(r(85427),r(15359),r(69523),r(32420),r(46650),r(78066),r(76543)),g=r(53913),m=r(61642),f=r(61097),b=!h.Z.slow&&!h.Z.edge;function p(e){(0,m.Z)(e)}function S(e,t){function r(e){var t=[];t.push({name:c.ZP.translate("Connect"),id:"connect"}),t.push({name:c.ZP.translate("Delete"),id:"delete"}),d.default.show({items:t,title:e.Name}).then((function(t){switch(t){case"connect":!function(e){a.ZP.show(),g.Z.connectToServer(e,{enableAutoLogin:n.Z.enableAutoLogin()}).then((function(e){a.ZP.hide();var t=e.ApiClient;switch(e.State){case"SignedIn":v.ZP.onServerChanged(t.getCurrentUserId(),t.accessToken(),t),v.ZP.navigate("home.html");break;case"ServerSignIn":v.ZP.onServerChanged(null,null,t),v.ZP.navigate("login.html?serverid="+e.Servers[0].Id);break;case"ServerUpdateNeeded":p({text:c.ZP.translate("core#ServerUpdateNeeded","https://github.com/jellyfin/jellyfin"),html:c.ZP.translate("core#ServerUpdateNeeded",'<a href="https://github.com/jellyfin/jellyfin">https://github.com/jellyfin/jellyfin</a>')});break;default:p({text:c.ZP.translate("MessageUnableToConnectToServer")})}}))}(e);break;case"delete":!function(e){a.ZP.show(),g.Z.deleteServer(e.Id).then((function(){a.ZP.hide(),m()}))}(e)}}))}function h(t){S=t,function(e,t){var r=t.map((function(e){return{name:e.Name,showIcon:!0,icon:"cast",cardType:"",id:e.Id,server:e}})),s=r.map((function(e){var t;t=e.showIcon?'<span class="cardImageIcon material-icons '+e.icon+'" aria-hidden="true"></span>':'<div class="cardImage" style="'+e.cardImageStyle+'"></div>';var r="card overflowSquareCard loginSquareCard scalableCard overflowSquareCard-scalable";i.Z.tv&&(r+=" show-focus",b&&(r+=" show-animation"));var a="";return a+='<button raised class="'+r+'" style="display:inline-block;" data-id="'+e.id+'" data-url="'+(e.url||"")+'" data-cardtype="'+e.cardType+'">',a+='<div class="cardBox">',a+='<div class="cardScalable">',a+='<div class="cardPadder cardPadder-square">',a+="</div>",a+='<div class="cardContent">',a+='<div class="cardImageContainer coveredImage '.concat(f.default.getDefaultBackgroundClass(),'">'),a+=t,a+="</div>",a+="</div>",a+="</div>",a+='<div class="cardFooter">',(a+='<div class="cardText cardTextCentered">'+e.name+"</div>")+"</div></div></button>"})).join(""),l=e.querySelector(".servers");r.length||(s="<p>"+c.ZP.translate("MessageNoServersAvailable")+"</p>"),l.innerHTML=s,a.ZP.hide()}(e,t),i.Z.tv&&o.Z.autoFocus(e)}function m(){a.ZP.show(),g.Z.getAvailableServers().then(h)}var S;!function(e,t){"1"==t.showuser?(e.classList.add("libraryPage"),e.classList.remove("standalonePage"),e.classList.add("noSecondaryNavPage")):(e.classList.add("standalonePage"),e.classList.remove("libraryPage"),e.classList.remove("noSecondaryNavPage"))}(e,t),e.addEventListener("viewshow",(function(e){var t=e.detail.isRestored;s.appRouter.setTitle(null),l.Z.setTransparentMenu(!0),t||m()})),e.querySelector(".servers").addEventListener("click",(function(e){var t=u.ZP.parentWithClass(e.target,"card");if(t){var a=t.getAttribute("data-url");if(a)s.appRouter.show(a);else{var i=t.getAttribute("data-id");r(S.filter((function(e){return e.Id===i}))[0])}}}))}},69523:function(e,t,r){r(5769),r(63238),r(61418),r(17460),r(14078);var a=r(13800),s=r(83094),i=r(78695),l=r(12392),n=r(27515),o=r(47518),c=(r(67752),r(1892)),d=r.n(c),u=r(95760),h=r.n(u),v=r(38311),g=r.n(v),m=r(58192),f=r.n(m),b=r(38060),p=r.n(b),S=r(54865),Z=r.n(S),y=r(88101),P={};P.styleTagTransform=Z(),P.setAttributes=f(),P.insert=g().bind(null,"head"),P.domAPI=h(),P.insertStyleElement=p(),d()(y.Z,P),y.Z&&y.Z.locals&&y.Z.locals;var w=Object.create(HTMLDivElement.prototype);function A(e){var t=e.detail.command;"end"===t?(n.Z.focusLast(this,"."+this.getAttribute("data-navcommands")),e.preventDefault(),e.stopPropagation()):"pageup"===t?(n.Z.moveFocus(e.target,this,"."+this.getAttribute("data-navcommands"),-12),e.preventDefault(),e.stopPropagation()):"pagedown"===t&&(n.Z.moveFocus(e.target,this,"."+this.getAttribute("data-navcommands"),12),e.preventDefault(),e.stopPropagation())}w.createdCallback=function(){this.classList.add("emby-scroller")},w.scrollToBeginning=function(){this.scroller&&this.scroller.slideTo(0,!0)},w.toStart=function(e,t){this.scroller&&this.scroller.toStart(e,t)},w.toCenter=function(e,t){this.scroller&&this.scroller.toCenter(e,t)},w.scrollToPosition=function(e,t){this.scroller&&this.scroller.slideTo(e,t)},w.getScrollPosition=function(){if(this.scroller)return this.scroller.getScrollPosition()},w.getScrollSize=function(){if(this.scroller)return this.scroller.getScrollSize()},w.getScrollEventName=function(){if(this.scroller)return this.scroller.getScrollEventName()},w.getScrollSlider=function(){if(this.scroller)return this.scroller.getScrollSlider()},w.addScrollEventListener=function(e,t){this.scroller&&s.ZP.addEventListener(this.scroller.getScrollFrame(),this.scroller.getScrollEventName(),e,t)},w.removeScrollEventListener=function(e,t){this.scroller&&s.ZP.removeEventListener(this.scroller.getScrollFrame(),this.scroller.getScrollEventName(),e,t)},w.attachedCallback=function(){this.getAttribute("data-navcommands")&&l.default.on(this,A);var e="false"!==this.getAttribute("data-horizontal"),t=this.querySelector(".scrollSlider");e&&(t.style["white-space"]="nowrap");var c,d=i.Z.desktop&&e&&"false"!==this.getAttribute("data-scrollbuttons"),u={horizontal:e,mouseDragging:1,mouseWheel:"false"!==this.getAttribute("data-mousewheel"),touchDragging:1,slidee:t,scrollBy:200,speed:e?270:240,elasticBounds:1,dragHandle:1,autoImmediate:!0,skipSlideToWhenVisible:"true"===this.getAttribute("data-skipfocuswhenvisible"),dispatchScrollEvent:d||"true"===this.getAttribute("data-scrollevent"),hideScrollbar:d||"true"===this.getAttribute("data-hidescrollbar"),allowNativeSmoothScroll:"true"===this.getAttribute("data-allownativesmoothscroll")&&!d,allowNativeScroll:!d,forceHideScrollbars:d,requireAnimation:d&&o.Z.edge};this.scroller=new a.Z(this,u),this.scroller.init(),this.scroller.reload(),i.Z.tv&&this.getAttribute("data-centerfocus")&&(this,c=this.scroller,s.ZP.addEventListener(this,"focus",(function(e){var t=n.Z.focusableParent(e.target);t&&c.toCenter(t)}),{capture:!0,passive:!0})),d&&function(e){r.e(2910).then(r.bind(r,22910)).then((function(){e.insertAdjacentHTML("beforebegin",'<div is="emby-scrollbuttons" class="emby-scrollbuttons padded-right"></div>')}))}(this)},w.pause=function(){var e=this.headroom;e&&e.pause()},w.resume=function(){var e=this.headroom;e&&e.resume()},w.detachedCallback=function(){this.getAttribute("data-navcommands")&&l.default.off(this,A);var e=this.headroom;e&&(e.destroy(),this.headroom=null);var t=this.scroller;t&&(t.destroy(),this.scroller=null)},document.registerElement("emby-scroller",{prototype:w,extends:"div"})},88101:function(e,t,r){var a=r(54933),s=r.n(a),i=r(93476),l=r.n(i)()(s());l.push([e.id,".emby-scroller-container{position:relative}.emby-scroller{margin-left:3.3%;margin-right:3.3%}.itemsContainer>.card>.cardBox{margin-left:0;margin-right:1.2em}.servers>.card>.cardBox{margin-left:.6em;margin-right:.6em}.layout-mobile .emby-scroller,.layout-tv .emby-scroller{margin-left:0;margin-right:0;padding-left:3.3%;padding-right:3.3%}",""]),t.Z=l}}]);