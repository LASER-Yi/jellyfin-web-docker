"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3462],{43462:function(e,t,r){r.d(t,{ZP:function(){return D}}),r(5769),r(63238),r(61418),r(17460),r(14078),r(27471);var a=r(61097),i=r(83094),s=r(78695),n=r(21361),o=r(44614),l=r(86628),c=r(7816),d=(r(21865),r(32420),r(69523),r(78066),r(1892)),u=r.n(d),m=r(95760),h=r.n(m),v=r(38311),f=r.n(v),p=r(58192),g=r.n(p),b=r(38060),y=r.n(b),T=r(54865),I=r.n(T),C=r(14823),P={};P.styleTagTransform=I(),P.setAttributes=g(),P.insert=f().bind(null,"head"),P.domAPI=h(),P.insertStyleElement=y(),u()(C.Z,P),C.Z&&C.Z.locals&&C.Z.locals;var w=r(76543),S=r(53913);function L(e){switch(e){case 0:return"smalllibrarytiles";case 1:return"resume";case 2:return"resumeaudio";case 3:return"resumebook";case 4:return"livetv";case 5:return"nextup";case 6:return"latestmedia";case 7:return"none";default:return""}}function Z(e,t){for(var r=e.querySelectorAll(".itemsContainer"),a=[],i=0,s=r.length;i<s;i++)a.push(r[i].resume(t));return Promise.all(a)}function x(e,t,r,i,d,u,m){var h=u[m],v=e.querySelector(".section"+m);if("latestmedia"===h)!function(e,t,r,a){e.classList.remove("verticalSection");for(var i=["playlists","livetv","boxsets","channels"],s=0,n=a.length;s<n;s++){var o=a[s];if(-1===r.Configuration.LatestItemsExcludes.indexOf(o.Id)&&-1===i.indexOf(o.CollectionType||[])){var l=document.createElement("div");l.classList.add("verticalSection"),l.classList.add("hide"),e.appendChild(l),k(l,t,0,o)}}}(v,t,r,d);else if("librarytiles"===h||"smalllibrarytiles"===h||"smalllibrarytiles-automobile"===h||"librarytiles-automobile"===h)A(v,0,0,0,0,d);else if("librarybuttons"===h)!function(e,t,r,a,i){e.classList.remove("verticalSection");var s=function(e){var t="";t+='<div class="verticalSection verticalSection-extrabottompadding">',t+='<h2 class="sectionTitle sectionTitle-cards padded-left">'+o.ZP.translate("HeaderMyMedia")+"</h2>",t+='<div is="emby-itemscontainer" class="itemsContainer padded-left padded-right vertical-wrap focuscontainer-x" data-multiselect="false">';for(var r=0,a=e.length;r<a;r++){var i=e[r],s=c.ZP.getLibraryIcon(i.CollectionType);t+='<a is="emby-linkbutton" href="'+l.appRouter.getRouteUrl(i)+'" class="raised homeLibraryButton"><span class="material-icons homeLibraryIcon '+s+'" aria-hidden="true"></span><span class="homeLibraryText">'+i.Name+"</span></a>"}return(t+="</div>")+"</div>"}(i);e.innerHTML=s,n.default.lazyChildren(e)}(v,0,0,0,d);else{if("resume"===h)return B(v,t,"HeaderContinueWatching","Video",i);if("resumeaudio"===h)return B(v,t,"HeaderContinueListening","Audio",i);if("activerecordings"===h)!function(e,t,r){var i="";i+='<div class="sectionTitleContainer sectionTitleContainer-cards">',i+='<h2 class="sectionTitle sectionTitle-cards padded-left">'+o.ZP.translate("HeaderActiveRecordings")+"</h2>",i+="</div>",i+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true">',i+='<div is="emby-itemscontainer" class="itemsContainer scrollSlider focuscontainer-x">',i+="</div>",i+="</div>",e.classList.add("hide"),e.innerHTML=i;var s,n=e.querySelector(".itemsContainer");n.fetchData=(s=r.serverId(),function(){var e=S.Z.getApiClient(s);return e.getLiveTvRecordings({userId:e.getCurrentUserId(),Limit:12,Fields:"PrimaryImageAspectRatio,BasicSyncInfo",EnableTotalRecordCount:!1,IsLibraryItem:null,IsInProgress:!0})}),n.getItemsHtml=function(e){return function(t){return a.default.getCardsHtml({items:t,shape:"autooverflow",showTitle:!0,showParentTitle:!0,coverImage:!0,lazy:!0,showDetailsMenu:!0,centerText:!0,overlayText:!1,showYear:!0,lines:2,overlayPlayButton:!1,allowBottomPadding:!1,preferThumb:!0,cardLayout:!1,overlayMoreButton:e,action:"none",centerPlayButton:e})}}(t),n.parentContainer=e}(v,!0,t);else if("nextup"===h)M(v,t,i);else{if("rewatching"!==h)return"onnow"===h||"livetv"===h?function(e,t,r){return r.Policy.EnableLiveTvAccess?t.getLiveTvRecommendedPrograms({userId:t.getCurrentUserId(),IsAiring:!0,limit:1,ImageTypeLimit:1,EnableImageTypes:"Primary,Thumb,Backdrop",EnableTotalRecordCount:!1,Fields:"ChannelInfo,PrimaryImageAspectRatio"}).then((function(r){var a,i="";if(r.Items.length){e.classList.remove("padded-left"),e.classList.remove("padded-right"),e.classList.remove("padded-bottom"),e.classList.remove("verticalSection"),i+='<div class="verticalSection">',i+='<div class="sectionTitleContainer sectionTitleContainer-cards padded-left">',i+='<h2 class="sectionTitle sectionTitle-cards">'+o.ZP.translate("LiveTV")+"</h2>",i+="</div>",i+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true" data-scrollbuttons="false">',i+='<div class="padded-top padded-bottom scrollSlider focuscontainer-x">',i+='<a is="emby-linkbutton" href="'+l.appRouter.getRouteUrl("livetv",{serverId:t.serverId(),section:"programs"})+'" class="raised"><span>'+o.ZP.translate("Programs")+"</span></a>",i+='<a is="emby-linkbutton" href="'+l.appRouter.getRouteUrl("livetv",{serverId:t.serverId(),section:"guide"})+'" class="raised"><span>'+o.ZP.translate("Guide")+"</span></a>",i+='<a is="emby-linkbutton" href="'+l.appRouter.getRouteUrl("livetv",{serverId:t.serverId(),section:"channels"})+'" class="raised"><span>'+o.ZP.translate("Channels")+"</span></a>",i+='<a is="emby-linkbutton" href="'+l.appRouter.getRouteUrl("recordedtv",{serverId:t.serverId()})+'" class="raised"><span>'+o.ZP.translate("Recordings")+"</span></a>",i+='<a is="emby-linkbutton" href="'+l.appRouter.getRouteUrl("livetv",{serverId:t.serverId(),section:"dvrschedule"})+'" class="raised"><span>'+o.ZP.translate("Schedule")+"</span></a>",i+='<a is="emby-linkbutton" href="'+l.appRouter.getRouteUrl("livetv",{serverId:t.serverId(),section:"seriesrecording"})+'" class="raised"><span>'+o.ZP.translate("Series")+"</span></a>",i+="</div>",i+="</div>",i+="</div>",i+="</div>",i+='<div class="verticalSection">',i+='<div class="sectionTitleContainer sectionTitleContainer-cards padded-left">',s.Z.tv?i+='<h2 class="sectionTitle sectionTitle-cards">'+o.ZP.translate("HeaderOnNow")+"</h2>":(i+='<a is="emby-linkbutton" href="'+l.appRouter.getRouteUrl("livetv",{serverId:t.serverId(),section:"onnow"})+'" class="more button-flat button-flat-mini sectionTitleTextButton">',i+='<h2 class="sectionTitle sectionTitle-cards">',i+=o.ZP.translate("HeaderOnNow"),i+="</h2>",i+='<span class="material-icons chevron_right" aria-hidden="true"></span>',i+="</a>"),i+="</div>",i+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true">',i+='<div is="emby-itemscontainer" class="itemsContainer scrollSlider focuscontainer-x">',i+="</div>",i+="</div>",i+="</div>",e.innerHTML=i;var n=e.querySelector(".itemsContainer");n.parentContainer=e,n.fetchData=(a=t.serverId(),function(){var e=S.Z.getApiClient(a);return e.getLiveTvRecommendedPrograms({userId:e.getCurrentUserId(),IsAiring:!0,limit:24,ImageTypeLimit:1,EnableImageTypes:"Primary,Thumb,Backdrop",EnableTotalRecordCount:!1,Fields:"ChannelInfo,PrimaryImageAspectRatio"})}),n.getItemsHtml=H}})):Promise.resolve()}(v,t,r):"resumebook"===h?B(v,t,"HeaderContinueReading","Book",i):(v.innerHTML="",Promise.resolve());M(v,t,i,!0)}}return Promise.resolve()}function k(e,t,r,i){var n="";n+='<div class="sectionTitleContainer sectionTitleContainer-cards padded-left">',s.Z.tv?n+='<h2 class="sectionTitle sectionTitle-cards">'+o.ZP.translate("LatestFromLibrary",i.Name)+"</h2>":(n+='<a is="emby-linkbutton" href="'+l.appRouter.getRouteUrl(i,{section:"latest"})+'" class="more button-flat button-flat-mini sectionTitleTextButton">',n+='<h2 class="sectionTitle sectionTitle-cards">',n+=o.ZP.translate("LatestFromLibrary",i.Name),n+="</h2>",n+='<span class="material-icons chevron_right" aria-hidden="true"></span>',n+="</a>"),n+="</div>",n+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true">',n+='<div is="emby-itemscontainer" class="itemsContainer scrollSlider focuscontainer-x">',n+="</div>",n+="</div>",e.innerHTML=n;var c,d,u,m,h,v=e.querySelector(".itemsContainer");v.fetchData=(c=t.serverId(),d=i.Id,u=i.CollectionType,function(){var e=S.Z.getApiClient(c),t=16;"music"===u&&(t=30);var r={Limit:t,Fields:"PrimaryImageAspectRatio,BasicSyncInfo,Path",ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Thumb",ParentId:d};return e.getLatestItems(r)}),v.getItemsHtml=(m=i.Type,h=i.CollectionType,function(e){var t;return t="Channel"===m||"movies"===h||"books"===h||"tvshows"===h?"overflowPortrait":"music"===h||"homevideos"===h?"overflowSquare":"overflowBackdrop",a.default.getCardsHtml({items:e,shape:t,preferThumb:"movies"!==h&&"tvshows"!==h&&"Channel"!==m&&"music"!==h?"auto":null,showUnplayedIndicator:!1,showChildCountIndicator:!0,context:"home",overlayText:!1,centerText:!0,overlayPlayButton:"photos"!==h,allowBottomPadding:!1,cardLayout:false,showTitle:"photos"!==h,showYear:"movies"===h||"tvshows"===h||!h,showParentTitle:"music"===h||"tvshows"===h||!h||false,lines:2})}),v.parentContainer=e}function A(e,t,r,i,s,l){var c="";l.length&&(c+='<h2 class="sectionTitle sectionTitle-cards padded-left">'+o.ZP.translate("HeaderMyMedia")+"</h2>",c+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true">',c+='<div is="emby-itemscontainer" class="itemsContainer scrollSlider focuscontainer-x">',c+=a.default.getCardsHtml({items:l,shape:"overflowBackdrop",showTitle:!0,centerText:!0,overlayText:!1,lazy:!0,transition:!1,allowBottomPadding:!1}),c+="</div>",c+="</div>"),e.innerHTML=c,n.default.lazyChildren(e)}var R={Audio:"audioplayback,markplayed",Video:"videoplayback,markplayed"};function B(e,t,r,s,n){var l="",c=R[s]||"markplayed";l+='<h2 class="sectionTitle sectionTitle-cards padded-left">'+o.ZP.translate(r)+"</h2>",l+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true">',l+='<div is="emby-itemscontainer" class="itemsContainer scrollSlider focuscontainer-x" data-monitor="'.concat(c,'">'),l+="</div>",l+="</div>",e.classList.add("hide"),e.innerHTML=l;var d=e.querySelector(".itemsContainer");d.fetchData=function(e,t){return function(){var r=S.Z.getApiClient(t),a=(i.ZP.getWindowSize().innerWidth,{Limit:12,Recursive:!0,Fields:"PrimaryImageAspectRatio,BasicSyncInfo",ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Thumb",EnableTotalRecordCount:!1,MediaTypes:e});return r.getResumableItems(r.getCurrentUserId(),a)}}(s,t.serverId()),d.getItemsHtml=function(e,t){return function(r){return a.default.getCardsHtml({items:r,preferThumb:!0,inheritThumb:!e,shape:"Book"===t?"overflowPortrait":"overflowBackdrop",overlayText:!1,showTitle:!0,showParentTitle:!0,lazy:!0,showDetailsMenu:!0,overlayPlayButton:!0,context:"home",centerText:!0,allowBottomPadding:!1,cardLayout:false,showYear:!0,lines:2})}}(n.useEpisodeImagesInNextUpAndResume(),s),d.parentContainer=e}function H(e){return a.default.getCardsHtml({items:e,preferThumb:"auto",inheritThumb:!1,shape:"autooverflow",showParentTitleOrTitle:!0,showTitle:!0,centerText:!0,coverImage:!0,overlayText:!1,allowBottomPadding:!1,showAirTime:!0,showChannelName:!1,showAirDateTime:!1,showAirEndTime:!0,defaultShape:"overflowBackdrop",lines:3,overlayPlayButton:!0})}function E(e,t,r){return function(){var a=S.Z.getApiClient(e),i=new Date;return i.setDate(i.getDate()-t.maxDaysForNextUp()),a.getNextUpEpisodes({Limit:24,Fields:"PrimaryImageAspectRatio,DateCreated,BasicSyncInfo,Path,MediaSourceCount",UserId:a.getCurrentUserId(),ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Banner,Thumb",EnableTotalRecordCount:!1,DisableFirstEpisode:!1,NextUpDateCutoff:i.toISOString(),Rewatching:r})}}function U(e){return function(t){return a.default.getCardsHtml({items:t,preferThumb:!0,inheritThumb:!e,shape:"overflowBackdrop",overlayText:!1,showTitle:!0,showParentTitle:!0,lazy:!0,overlayPlayButton:!0,context:"home",centerText:!0,allowBottomPadding:!1,cardLayout:!1})}}function M(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i="";i+='<div class="sectionTitleContainer sectionTitleContainer-cards padded-left">',s.Z.tv?(i+='<h2 class="sectionTitle sectionTitle-cards">',i+=a?o.ZP.translate("NextUpRewatching"):o.ZP.translate("NextUp"),i+="</h2>"):(i+='<a is="emby-linkbutton" href="'+l.appRouter.getRouteUrl("nextup",{serverId:t.serverId(),rewatching:a})+'" class="button-flat button-flat-mini sectionTitleTextButton">',i+='<h2 class="sectionTitle sectionTitle-cards">',i+=a?o.ZP.translate("NextUpRewatching"):o.ZP.translate("NextUp"),i+="</h2>",i+='<span class="material-icons chevron_right" aria-hidden="true"></span>',i+="</a>"),i+="</div>",i+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true">',i+='<div is="emby-itemscontainer" class="itemsContainer scrollSlider focuscontainer-x" data-monitor="videoplayback,markplayed">',i+="</div>",i+="</div>",e.classList.add("hide"),e.innerHTML=i;var n=e.querySelector(".itemsContainer");n.fetchData=E(t.serverId(),r,a),n.getItemsHtml=U(r.useEpisodeImagesInNextUpAndResume()),n.parentContainer=e}var D={loadLibraryTiles:A,getDefaultSection:L,loadSections:function(e,t,r,a){return function(e,t){return e.getUserViews({},t||e.getCurrentUserId()).then((function(e){return e.Items}))}(t,r.Id).then((function(i){var s,n="";if(i.length){for(var l=0;l<7;l++)n+='<div class="verticalSection section'+l+'"></div>';e.innerHTML=n,e.classList.add("homeSectionsContainer");for(var c=[],d=function(e,t){for(var r=[],a=0;a<7;a++){var i=e.get("homesection"+a)||L(a);"folders"===i&&(i=L(0)),r.push(i)}return r}(a),u=0;u<d.length;u++)c.push(x(e,t,r,a,i,d,u));return Promise.all(c).then((function(){return Z(e,{refresh:!0})}))}s=r.Policy&&r.Policy.IsAdministrator?o.ZP.translate("NoCreatedLibraries",'<br><a id="button-createLibrary" class="button-link">',"</a>"):o.ZP.translate("AskAdminToCreateLibrary"),n+='<div class="centerMessage padded-left padded-right">',n+="<h2>"+o.ZP.translate("MessageNothingHere")+"</h2>",n+="<p>"+s+"</p>",n+="</div>",e.innerHTML=n;var m=e.querySelector("#button-createLibrary");m&&m.addEventListener("click",(function(){w.ZP.navigate("library.html")}))}))},destroySections:function(e){for(var t=e.querySelectorAll(".itemsContainer"),r=0;r<t.length;r++)t[r].fetchData=null,t[r].parentContainer=null,t[r].getItemsHtml=null;e.innerHTML=""},pause:function(e){for(var t=e.querySelectorAll(".itemsContainer"),r=0;r<t.length;r++)t[r].pause()},resume:Z}},69523:function(e,t,r){r(5769),r(63238),r(61418),r(17460),r(14078);var a=r(13800),i=r(83094),s=r(78695),n=r(12392),o=r(27515),l=r(47518),c=(r(67752),r(1892)),d=r.n(c),u=r(95760),m=r.n(u),h=r(38311),v=r.n(h),f=r(58192),p=r.n(f),g=r(38060),b=r.n(g),y=r(54865),T=r.n(y),I=r(88101),C={};C.styleTagTransform=T(),C.setAttributes=p(),C.insert=v().bind(null,"head"),C.domAPI=m(),C.insertStyleElement=b(),d()(I.Z,C),I.Z&&I.Z.locals&&I.Z.locals;var P=Object.create(HTMLDivElement.prototype);function w(e){var t=e.detail.command;"end"===t?(o.Z.focusLast(this,"."+this.getAttribute("data-navcommands")),e.preventDefault(),e.stopPropagation()):"pageup"===t?(o.Z.moveFocus(e.target,this,"."+this.getAttribute("data-navcommands"),-12),e.preventDefault(),e.stopPropagation()):"pagedown"===t&&(o.Z.moveFocus(e.target,this,"."+this.getAttribute("data-navcommands"),12),e.preventDefault(),e.stopPropagation())}P.createdCallback=function(){this.classList.add("emby-scroller")},P.scrollToBeginning=function(){this.scroller&&this.scroller.slideTo(0,!0)},P.toStart=function(e,t){this.scroller&&this.scroller.toStart(e,t)},P.toCenter=function(e,t){this.scroller&&this.scroller.toCenter(e,t)},P.scrollToPosition=function(e,t){this.scroller&&this.scroller.slideTo(e,t)},P.getScrollPosition=function(){if(this.scroller)return this.scroller.getScrollPosition()},P.getScrollSize=function(){if(this.scroller)return this.scroller.getScrollSize()},P.getScrollEventName=function(){if(this.scroller)return this.scroller.getScrollEventName()},P.getScrollSlider=function(){if(this.scroller)return this.scroller.getScrollSlider()},P.addScrollEventListener=function(e,t){this.scroller&&i.ZP.addEventListener(this.scroller.getScrollFrame(),this.scroller.getScrollEventName(),e,t)},P.removeScrollEventListener=function(e,t){this.scroller&&i.ZP.removeEventListener(this.scroller.getScrollFrame(),this.scroller.getScrollEventName(),e,t)},P.attachedCallback=function(){this.getAttribute("data-navcommands")&&n.default.on(this,w);var e="false"!==this.getAttribute("data-horizontal"),t=this.querySelector(".scrollSlider");e&&(t.style["white-space"]="nowrap");var c,d=s.Z.desktop&&e&&"false"!==this.getAttribute("data-scrollbuttons"),u={horizontal:e,mouseDragging:1,mouseWheel:"false"!==this.getAttribute("data-mousewheel"),touchDragging:1,slidee:t,scrollBy:200,speed:e?270:240,elasticBounds:1,dragHandle:1,autoImmediate:!0,skipSlideToWhenVisible:"true"===this.getAttribute("data-skipfocuswhenvisible"),dispatchScrollEvent:d||"true"===this.getAttribute("data-scrollevent"),hideScrollbar:d||"true"===this.getAttribute("data-hidescrollbar"),allowNativeSmoothScroll:"true"===this.getAttribute("data-allownativesmoothscroll")&&!d,allowNativeScroll:!d,forceHideScrollbars:d,requireAnimation:d&&l.Z.edge};this.scroller=new a.Z(this,u),this.scroller.init(),this.scroller.reload(),s.Z.tv&&this.getAttribute("data-centerfocus")&&(this,c=this.scroller,i.ZP.addEventListener(this,"focus",(function(e){var t=o.Z.focusableParent(e.target);t&&c.toCenter(t)}),{capture:!0,passive:!0})),d&&function(e){r.e(2910).then(r.bind(r,22910)).then((function(){e.insertAdjacentHTML("beforebegin",'<div is="emby-scrollbuttons" class="emby-scrollbuttons padded-right"></div>')}))}(this)},P.pause=function(){var e=this.headroom;e&&e.pause()},P.resume=function(){var e=this.headroom;e&&e.resume()},P.detachedCallback=function(){this.getAttribute("data-navcommands")&&n.default.off(this,w);var e=this.headroom;e&&(e.destroy(),this.headroom=null);var t=this.scroller;t&&(t.destroy(),this.scroller=null)},document.registerElement("emby-scroller",{prototype:P,extends:"div"})},14823:function(e,t,r){var a=r(54933),i=r.n(a),s=r(93476),n=r.n(s)()(i());n.push([e.id,".homeLibraryButton{margin:.5em!important;min-width:18%}@media (max-width:50em){.homeLibraryButton{width:46%!important}}.homeLibraryIcon{-webkit-flex-shrink:0;flex-shrink:0;margin-left:.5em;margin-right:.5em}.homeLibraryText{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",""]),t.Z=n},88101:function(e,t,r){var a=r(54933),i=r.n(a),s=r(93476),n=r.n(s)()(i());n.push([e.id,".emby-scroller-container{position:relative}.emby-scroller{margin-left:3.3%;margin-right:3.3%}.itemsContainer>.card>.cardBox{margin-left:0;margin-right:1.2em}.servers>.card>.cardBox{margin-left:.6em;margin-right:.6em}.layout-mobile .emby-scroller,.layout-tv .emby-scroller{margin-left:0;margin-right:0;padding-left:3.3%;padding-right:3.3%}",""]),t.Z=n}}]);