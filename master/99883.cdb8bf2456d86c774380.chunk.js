"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[99883],{713:function(e,t,r){r.d(t,{j:function(){return a},p:function(){return o}});var n=r(82885),i=r(14229),a=function(e){return i.u.some((function(t){return t.path===e}))},o=function(e,t){var r,a,o,l,s,u;if(!t)return 0;var c=null!==(a=null===(r=i.u.find((function(t){return t.path===e})))||void 0===r?void 0:r.views)&&void 0!==a?a:[],d=n.get("landing-"+t,!1);return null!==(u=null!==(l=null===(o=c.find((function(e){return e.view===d})))||void 0===o?void 0:o.index)&&void 0!==l?l:null===(s=c.find((function(e){return e.isDefault})))||void 0===s?void 0:s.index)&&void 0!==u?u:0}},4672:function(e,t,r){var n,i;r.d(t,{C0:function(){return l},Nc:function(){return a},RQ:function(){return n},gX:function(){return i},i3:function(){return o},jB:function(){return c},qb:function(){return s},wd:function(){return u}}),function(e){e.ResumeItems="resumeItems",e.LatestMedia="latestMedia",e.NextUp="nextUp",e.RecommendedPrograms="RecommendedPrograms",e.LiveTvPrograms="liveTvPrograms",e.Recordings="Recordings",e.RecordingFolders="RecordingFolders"}(n||(n={})),function(e){e.ContinueWatchingMovies="continuewatchingmovies",e.LatestMovies="latestmovies",e.ContinueWatchingEpisode="continuewatchingepisode",e.LatestEpisode="latestepisode",e.NextUp="nextUp",e.LatestMusic="latestmusic",e.RecentlyPlayedMusic="recentlyplayedmusic",e.FrequentlyPlayedMusic="frequentlyplayedmusic",e.ActivePrograms="ActivePrograms",e.UpcomingEpisodes="UpcomingEpisodes",e.UpcomingMovies="UpcomingMovies",e.UpcomingSports="UpcomingSports",e.UpcomingKids="UpcomingKids",e.UpcomingNews="UpcomingNews",e.LatestRecordings="LatestRecordings",e.RecordingFolders="RecordingFolders",e.ActiveRecordings="ActiveRecordings",e.UpcomingRecordings="UpcomingRecordings"}(i||(i={}));var a={suggestionSections:[i.ContinueWatchingMovies,i.LatestMovies],isMovieRecommendations:!0},o={suggestionSections:[i.ContinueWatchingEpisode,i.LatestEpisode,i.NextUp]},l={suggestionSections:[i.LatestMusic,i.FrequentlyPlayedMusic,i.RecentlyPlayedMusic]},s={programSections:[i.ActivePrograms,i.UpcomingEpisodes,i.UpcomingMovies,i.UpcomingSports,i.UpcomingKids,i.UpcomingNews]},u={programSections:[i.LatestRecordings,i.RecordingFolders]},c={programSections:[i.ActiveRecordings],isLiveTvUpcomingRecordings:!0}},14229:function(e,t,r){r.d(t,{u:function(){return i}});var n=r(46850),i=[{path:"/livetv",views:[{index:0,label:"Programs",view:n.D.Programs,isDefault:!0},{index:1,label:"Guide",view:n.D.Guide},{index:2,label:"Channels",view:n.D.Channels},{index:3,label:"Recordings",view:n.D.Recordings},{index:4,label:"Schedule",view:n.D.Schedule},{index:5,label:"Series",view:n.D.SeriesTimers}]},{path:"/movies",views:[{index:0,label:"Movies",view:n.D.Movies,isDefault:!0},{index:1,label:"Suggestions",view:n.D.Suggestions},{index:2,label:"Favorites",view:n.D.Favorites},{index:3,label:"Collections",view:n.D.Collections},{index:4,label:"Genres",view:n.D.Genres}]},{path:"/music",views:[{index:0,label:"Albums",view:n.D.Albums,isDefault:!0},{index:1,label:"Suggestions",view:n.D.Suggestions},{index:2,label:"HeaderAlbumArtists",view:n.D.AlbumArtists},{index:3,label:"Artists",view:n.D.Artists},{index:4,label:"Playlists",view:n.D.Playlists},{index:5,label:"Songs",view:n.D.Songs},{index:6,label:"Genres",view:n.D.Genres}]},{path:"/tv",views:[{index:0,label:"Shows",view:n.D.Series,isDefault:!0},{index:1,label:"Suggestions",view:n.D.Suggestions},{index:2,label:"TabUpcoming",view:n.D.Upcoming},{index:3,label:"Genres",view:n.D.Genres},{index:4,label:"TabNetworks",view:n.D.Networks},{index:5,label:"Episodes",view:n.D.Episodes}]},{path:"/homevideos",views:[{index:0,label:"Photos",view:n.D.Photos,isDefault:!0},{index:1,label:"HeaderPhotoAlbums",view:n.D.PhotoAlbums,isDefault:!0},{index:2,label:"HeaderVideos",view:n.D.Videos}]}]},23064:function(e,t,r){r.d(t,{D:function(){return n},s:function(){return l}});var n,i=r(5898),a=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o},o=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};function l(e){var t=e.direction,r=e.scroller,l=e.scrollState;if(r){var s=r.getScrollSlider();!function(e){var t,r,o,l=e.scroller,s=e.items,u=e.scrollState,c=e.direction,d=void 0===c?n.RIGHT:c,m=i.Ay.getIsRTL()?-1:1,v=null!==(r=null===(t=l.getScrollFrame)||void 0===t?void 0:t.call(l))&&void 0!==r?r:l,f=a(function(e,t,r){var n=r.scrollPos*(i.Ay.getIsRTL()?-1:1),a=e.offsetWidth,o=t[0].offsetWidth;return[Math.max(Math.floor(n/o)-1,0),Math.floor((n+a)/o)]}(v,s,u),2),p=f[0],y=f[1];if(d===n.RIGHT)o=y*(s[y]||s[y-1]).offsetWidth*m;else{var h=s[p];o=(p*h.offsetWidth-(Math.floor(v.offsetWidth/h.offsetWidth)-1)*h.offsetWidth)*m}l.slideTo?l.slideTo(o,!1,void 0):l.scrollToPosition(o)}({scroller:r,items:o([],a(s.children),!1),scrollState:l,direction:t})}}!function(e){e.RIGHT="right",e.LEFT="left"}(n||(n={}))},35308:function(e,t,r){r.r(t),r.d(t,{default:function(){return w},startMultiSelect:function(){return P},stopMultiSelect:function(){return C}}),r(24776),r(14382),r(76281),r(44962),r(86584),r(89336),r(78557),r(90076),r(99425),r(83994),r(23630),r(82367);var n,i=r(97339),a=r(34789),o=r(22622),l=r(8566),s=r(5898),u=r(67430),c=r(36300),d=r(41177),m=r(47602),v=r(23648),f=r(98320),p=[],y=[];function h(){var e=n;if(e){e.parentNode.removeChild(e),n=null,p=[],y=[];for(var t=document.querySelectorAll(".itemSelectionPanel"),r=0,i=t.length;r<i;r++){var a=t[r].parentNode;a.removeChild(t[r]),a.classList.remove("withMultiSelect")}}}function g(e,t){var r=c.Ay.parentWithAttribute(e,"data-id").getAttribute("data-id");if(t?p.filter((function(e){return e===r})).length||(p.push(r),y.push(e)):(p=p.filter((function(e){return e!==r})),y=y.filter((function(t){return t!==e}))),p.length){var n=document.querySelector(".itemSelectionCount");n&&(n.innerHTML=f.Ay.toLocaleString(p.length))}else h()}function I(){g(this,this.checked)}function b(e,t,r){var n=e.querySelector(".itemSelectionPanel");if(!n){(n=document.createElement("div")).classList.add("itemSelectionPanel");var i=e.querySelector(".cardBox")||e.querySelector(".cardContent");i.classList.add("withMultiSelect"),i.appendChild(n);var a="chkItemSelect";t&&r&&(a+=" checkedInitial");var o=t?" checked":"";n.innerHTML='<label class="checkboxContainer"><input type="checkbox" is="emby-checkbox" data-outlineclass="multiSelectCheckboxOutline" class="'.concat(a,'"').concat(o,"/><span></span></label>"),n.querySelector(".chkItemSelect").addEventListener("change",I)}}function A(e){var t=u.tF.currentApiClient();t.getCurrentUser().then((function(n){t.getItem(t.getCurrentUserId(),p[0]).then((function(a){var u=[];u.push({name:s.Ay.translate("SelectAll"),id:"selectall",icon:"select_all"}),u.push({name:s.Ay.translate("AddToCollection"),id:"addtocollection",icon:"add"}),u.push({name:s.Ay.translate("AddToPlaylist"),id:"playlist",icon:"playlist_add"}),n.Policy.EnableContentDeletion&&u.push({name:s.Ay.translate("Delete"),id:"delete",icon:"delete"}),n.Policy.EnableContentDownloading&&o.g.supports(i.Y.FileDownload),n.Policy.IsAdministrator&&u.push({name:s.Ay.translate("GroupVersions"),id:"groupvideos",icon:"call_merge"}),u.push({name:s.Ay.translate("MarkPlayed"),id:"markplayed",icon:"check_box"}),u.push({name:s.Ay.translate("MarkUnplayed"),id:"markunplayed",icon:"check_box_outline_blank"}),v.Ay.canRefreshMetadata(a,n)&&u.push({name:s.Ay.translate("RefreshMetadata"),id:"refresh",icon:"refresh"}),r.e(62882).then(r.bind(r,62882)).then((function(n){n.show({items:u,positionTo:e.target,callback:function(e){var n=p.slice(0),i=t.serverInfo().Id;switch(e){case"selectall":for(var a=document.querySelectorAll(".itemSelectionPanel"),o=0,u=a.length;o<u;o++){var c=a[o].querySelector(".chkItemSelect");!c||c.classList.contains("checkedInitial")||c.checked||0==c.getBoundingClientRect().width||(c.checked=!0,g(c,!0))}break;case"addtocollection":r.e(3380).then(r.bind(r,3380)).then((function(e){(new(0,e.default)).show({items:n,serverId:i})})),h(),T();break;case"playlist":Promise.all([r.e(45642),r.e(81949)]).then(r.bind(r,4330)).then((function(e){(new(0,e.default)).show({items:n,serverId:i}).catch((function(){}))})).catch((function(e){console.error("[AddToPlaylist] failed to load playlist editor",e)})),h(),T();break;case"delete":(function(e,t){return new Promise((function(r,n){var i=s.Ay.translate("ConfirmDeleteItem"),a=s.Ay.translate("HeaderDeleteItem");t.length>1&&(i=s.Ay.translate("ConfirmDeleteItems"),a=s.Ay.translate("HeaderDeleteItems")),(0,m.A)(i,a).then((function(){var i=t.map((function(t){return e.deleteItem(t)}));Promise.all(i).then(r,(function(){var e;(e=s.Ay.translate("ErrorDeletingItem"),new Promise((function(t){(0,d.A)(e).then(t,t)}))).then(n,n)}))}),n)}))})(t,n).then(T),h(),T();break;case"groupvideos":!function(e,t){t.length<2?(0,d.A)({text:s.Ay.translate("PleaseSelectTwoItems")}):(l.Ay.show(),e.ajax({type:"POST",url:e.getUrl("Videos/MergeVersions",{Ids:t.join(",")})}).then((function(){l.Ay.hide(),h(),T()})))}(t,n);break;case"markplayed":n.forEach((function(e){t.markPlayed(t.getCurrentUserId(),e)})),h(),T();break;case"markunplayed":n.forEach((function(e){t.markUnplayed(t.getCurrentUserId(),e)})),h(),T();break;case"refresh":r.e(77004).then(r.bind(r,77004)).then((function(e){new(0,e.default)({itemIds:n,serverId:i}).show()})),h(),T()}}})}))}))}))}function T(){var e=[];[].forEach.call(y,(function(t){var r=c.Ay.parentWithAttribute(t,"is","emby-itemscontainer");r&&!e.includes(r)&&e.push(r)}));for(var t=0,r=e.length;t<r;t++)e[t].notifyRefreshNeeded(!0)}function x(e,t){Promise.resolve().then(r.bind(r,77157)).then((function(){for(var r=document.querySelectorAll(".card"),i=0,a=r.length;i<a;i++)b(r[i],e===r[i],t);!function(){var e=n;if(!e){(e=document.createElement("div")).classList.add("selectionCommandsPanel"),document.body.appendChild(e),n=e;var t="";t+='<button is="paper-icon-button-light" class="btnCloseSelectionPanel autoSize"><span class="material-icons close" aria-hidden="true"></span></button>',t+='<h1 class="itemSelectionCount"></h1>',t+='<button is="paper-icon-button-light" class="btnSelectionPanelOptions autoSize"><span class="material-icons '.concat("more_vert",'" aria-hidden="true"></span></button>'),e.innerHTML=t,e.querySelector(".btnCloseSelectionPanel").addEventListener("click",h);var r=e.querySelector(".btnSelectionPanelOptions");c.Ay.addEventListener(r,"click",A,{passive:!0})}}(),g(e,!0)}))}function S(e){var t=e.target;if(p.length){var r=c.Ay.parentWithClass(t,"card");if(r){var n=r.querySelector(".itemSelectionPanel");if(n)return function(e,t){if(!c.Ay.parentWithClass(e.target,"chkItemSelect")){var r=t.querySelector(".chkItemSelect");if(r)if(r.classList.contains("checkedInitial"))r.classList.remove("checkedInitial");else{var n=!r.checked;r.checked=n,g(r,n)}}return e.preventDefault(),e.stopPropagation(),!1}(e,n)}return e.preventDefault(),e.stopPropagation(),!1}}function w(e){var t,r,n,i,o,l=e.container;function s(e){var t=c.Ay.parentWithClass(e.target,"card");return t&&x(t,!0),e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1}function u(e){return e.changedTouches||e.targetTouches||e.touches}function d(e){var a=u(e)[0];if(t=null,n=0,i=0,a){n=a.clientX,i=a.clientY;var o=a.target;if(o){var l=c.Ay.parentWithClass(o,"card");l&&(r&&(clearTimeout(r),r=null),t=l,r=setTimeout(y,550))}}}function m(e){if(t){var r,a,o=u(e)[0];if(o){var l=o.clientX||0,s=o.clientY||0;r=Math.abs(l-(n||0)),a=Math.abs(s-(i||0))}else r=100,a=100;(r>=5||a>=5)&&p()}}function v(){p()}function f(e){r&&(clearTimeout(r),r=null),t=e.target,r=setTimeout(y,550)}function p(){r&&(clearTimeout(r),r=null),t=null}function y(){if(t){var e=c.Ay.parentWithClass(t,"card");t=null,e&&x(e,!0)}}o=l,a.A.touch&&!a.A.safari?o.addEventListener("contextmenu",s):(c.Ay.addEventListener(o,"touchstart",d,{passive:!0}),c.Ay.addEventListener(o,"touchmove",m,{passive:!0}),c.Ay.addEventListener(o,"touchend",v,{passive:!0}),c.Ay.addEventListener(o,"touchcancel",v,{passive:!0}),c.Ay.addEventListener(o,"mousedown",f,{passive:!0}),c.Ay.addEventListener(o,"mouseleave",p,{passive:!0}),c.Ay.addEventListener(o,"mouseup",p,{passive:!0})),!1!==e.bindOnClick&&l.addEventListener("click",S),this.onContainerClick=S,this.destroy=function(){l.removeEventListener("click",S),l.removeEventListener("contextmenu",s);var e=l;c.Ay.removeEventListener(e,"touchstart",d,{passive:!0}),c.Ay.removeEventListener(e,"touchmove",m,{passive:!0}),c.Ay.removeEventListener(e,"touchend",v,{passive:!0}),c.Ay.removeEventListener(e,"mousedown",f,{passive:!0}),c.Ay.removeEventListener(e,"mouseleave",p,{passive:!0}),c.Ay.removeEventListener(e,"mouseup",p,{passive:!0})}}document.addEventListener("viewbeforehide",h);var P=function(e){x(e,!1)},C=function(){h()}},37632:function(e,t,r){var n=r(87404),i=r(9055),a=r(713);t.A=function(){var e=(0,n.zy)(),t=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}((0,i.ok)(),2),r=t[0],o=t[1],l=r.get("tab"),s="/livetv"===e.pathname?"livetv":r.get("topParentId");return{searchParams:r,setSearchParams:o,libraryId:s,activeTab:null!==l?parseInt(l,10):(0,a.p)(e.pathname,s)}}},46850:function(e,t,r){var n;r.d(t,{D:function(){return n}}),function(e){e.Albums="albums",e.AlbumArtists="albumartists",e.Artists="artists",e.Channels="channels",e.Collections="collections",e.Episodes="episodes",e.Favorites="favorites",e.Genres="genres",e.Guide="guide",e.Movies="movies",e.Networks="networks",e.Playlists="playlists",e.Programs="programs",e.Recordings="recordings",e.Schedule="schedule",e.Series="series",e.SeriesTimers="seriestimers",e.Songs="songs",e.Suggestions="suggestions",e.Upcoming="upcoming",e.PhotoAlbums="photoalbums",e.Photos="photos",e.Videos="videos",e.Books="books"}(n||(n={}))},79845:function(e,t,r){r(96054),r(69177);var n=r(36300),i=r(4113),a=r(34789),o=r(9164),l=r(46782),s=Object.create(HTMLDivElement.prototype),u="emby-tab-button",c=u+"-active";function d(e){e.classList.add(c)}function m(e,t,r){var n;e.dispatchEvent(new CustomEvent("beforetabchange",{detail:{selectedTabIndex:t,previousIndex:r}})),null!=r&&r!==t&&(n=null)&&n.classList.remove("is-active")}function v(e){var t=this,r=t.querySelector("."+c),i=n.Ay.parentWithClass(e.target,u);if(i&&i!==r){r&&r.classList.remove(c);var a=r?parseInt(r.getAttribute("data-index"),10):null;d(i);var o=parseInt(i.getAttribute("data-index"),10);m(t,o,a),setTimeout((function(){t.selectedTabIndex=o,t.dispatchEvent(new CustomEvent("tabchange",{detail:{selectedTabIndex:o,previousIndex:a}}))}),120),t.scroller&&t.scroller.toCenter(i,!1)}}function f(e){var t=n.Ay.parentWithClass(e.target,u);t&&this.scroller&&this.scroller.toCenter(t,!1)}function p(e){var t=e.target.parentNode.querySelector(".lastFocused");t&&t.classList.remove("lastFocused"),e.target.classList.add("lastFocused")}function y(e){return e.querySelector("."+c)}function h(e,t){for(var r=e[t];r;){if(r.classList.contains(u)&&!r.classList.contains("hide"))return r;r=r[t]}return null}s.createdCallback=function(){this.classList.contains("emby-tabs")||(this.classList.add("emby-tabs"),this.classList.add("focusable"),n.Ay.addEventListener(this,"click",v,{passive:!0}),l.A.tv&&n.Ay.addEventListener(this,"focusin",f,{passive:!0}),n.Ay.addEventListener(this,"focusout",p))},s.focus=function(){var e=this.querySelector("."+c),t=this.querySelector(".lastFocused");t?o.A.focus(t):e?o.A.focus(e):o.A.autoFocus(this)},s.refresh=function(){this.scroller&&this.scroller.reload()},s.attachedCallback=function(){!function(e){if(!e.scroller){var t=e.querySelector(".emby-tabs-slider");t?(e.scroller=new i.A(e,{horizontal:1,itemNav:0,mouseDragging:1,touchDragging:1,slidee:t,smart:!0,releaseSwing:!0,scrollBy:200,speed:120,elasticBounds:1,dragHandle:1,dynamicHandle:1,clickBar:1,hiddenScroll:!0,requireAnimation:!a.A.safari,allowNativeSmoothScroll:!0}),e.scroller.init()):(e.classList.add("scrollX"),e.classList.add("hiddenScrollX"),e.classList.add("smoothScrollX"))}}(this);var e=this.querySelector("."+c),t=e?parseInt(e.getAttribute("data-index"),10):parseInt(this.getAttribute("data-index")||"0",10);if(-1!==t){this.selectedTabIndex=t;var r=this.querySelectorAll("."+u)[t];r&&d(r)}this.readyFired||(this.readyFired=!0,this.dispatchEvent(new CustomEvent("ready",{})))},s.detachedCallback=function(){this.scroller&&(this.scroller.destroy(),this.scroller=null),n.Ay.removeEventListener(this,"click",v,{passive:!0}),l.A.tv&&n.Ay.removeEventListener(this,"focusin",f,{passive:!0})},s.selectedIndex=function(e,t){var r=this;if(null==e)return r.selectedTabIndex||0;var n=r.selectedIndex();r.selectedTabIndex=e;var i=r.querySelectorAll("."+u);if(n===e||!1===t){m(r,e,n),r.dispatchEvent(new CustomEvent("tabchange",{detail:{selectedTabIndex:e}}));var a=i[n];d(i[e]),n!==e&&a&&a.classList.remove(c)}else v.call(r,{target:i[e]})},s.selectNext=function(){var e=h(y(this),"nextSibling");e&&v.call(this,{target:e})},s.selectPrevious=function(){var e=h(y(this),"previousSibling");e&&v.call(this,{target:e})},s.triggerBeforeTabChange=function(){m(this,this.selectedIndex())},s.triggerTabChange=function(){this.dispatchEvent(new CustomEvent("tabchange",{detail:{selectedTabIndex:this.selectedIndex()}}))},s.setTabEnabled=function(e,t){var r=this.querySelector('.emby-tab-button[data-index="'+e+'"]');t?r.classList.remove("hide"):r.classList.remove("add")},document.registerElement("emby-tabs",{prototype:s,extends:"div"})},82180:function(e,t,r){r(24776),r(14382),r(86584),r(9698),r(78557);var n=r(22696),i=r.n(n),a=r(98320),o=r(5898),l=r(70267),s=r(23648),u=r(51938),c=(r(10353),r(82885));function d(e){if("Video"===e.MediaType&&e.RunTimeTicks&&!e.StartDate){var t,r=null===(t=e.UserData)||void 0===t?void 0:t.PlaybackPositionTicks;return m(e.RunTimeTicks,r,1,!0)}return null}function m(e,t,r,n){var i=(new Date).getTime()+1/r*((e-(t||0))/1e4);i=new Date(i);var l=a.Ay.getDisplayTime(i);return!1===n?l:o.Ay.translate("EndsAtValue",l)}function v(e,t){t=t?"".concat(t," mediaInfoItem"):"mediaInfoItem";var r=e;if("string"!=typeof e&&"number"!=typeof e){if(e.html)return e.html;r=e.text,t+=" ".concat(e.cssClass)}return'<div class="'.concat(t,'">').concat(r,"</div>")}function f(e,t,r){if(!1!==r.endsAt){var n=e.querySelector(".endsAt");n&&function(e,t){var r=setInterval((function(){document.body.contains(e)?e.innerHTML=d(t):clearInterval(r)}),6e4)}(n,t)}var i=e.querySelector(".lnkChannel");i&&i.addEventListener("click",p)}function p(e){var t=this.getAttribute("data-id"),r=this.getAttribute("data-serverid");return l.appRouter.showItem(t,r),e.preventDefault(),!1}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return void 0===t.interactive&&(t.interactive=!1),function(e){var t,r,n,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m="",f=[],p="MusicAlbum"===e.Type||"MusicArtist"===e.MediaType||"Playlist"===e.Type||"Playlist"===e.MediaType||"MusicGenre"===e.MediaType;if(p?((n=e.SongCount||e.ChildCount)&&f.push(o.Ay.translate("TrackCount",n)),e.RunTimeTicks&&f.push(a.Ay.getDisplayDuration(e.RunTimeTicks))):"PhotoAlbum"!==e.Type&&"BoxSet"!==e.Type||(n=e.ChildCount)&&f.push(o.Ay.translate("ItemCount",n)),("Episode"===e.Type||"Photo"===e.MediaType)&&!1!==l.originalAirDate&&e.PremiereDate)try{r=a.Ay.parseISO8601Date(e.PremiereDate,"Episode"!==e.Type),t=a.Ay.toLocaleDateString(r),f.push(t)}catch(t){console.error("error parsing date:",e.PremiereDate,t)}if("SeriesTimer"===e.Type&&(e.RecordAnyTime?f.push(o.Ay.translate("Anytime")):f.push(a.Ay.getDisplayTime(e.StartDate)),e.RecordAnyChannel?f.push(o.Ay.translate("AllChannels")):f.push(e.ChannelName||o.Ay.translate("OneChannel"))),e.StartDate&&"Program"!==e.Type&&"SeriesTimer"!==e.Type&&"Timer"!==e.Type)try{r=a.Ay.parseISO8601Date(e.StartDate),t=a.Ay.toLocaleDateString(r),f.push(t),"Recording"!==e.Type&&(t=a.Ay.getDisplayTime(r),f.push(t))}catch(t){console.error("error parsing date:",e.StartDate,t)}if(!1!==l.year&&e.ProductionYear&&"Series"===e.Type)if("Continuing"===e.Status)f.push(o.Ay.translate("SeriesYearToPresent",a.Ay.toLocaleString(e.ProductionYear,{useGrouping:!1})));else if(e.ProductionYear){if(t=a.Ay.toLocaleString(e.ProductionYear,{useGrouping:!1}),e.EndDate)try{var y=a.Ay.toLocaleString(a.Ay.parseISO8601Date(e.EndDate).getFullYear(),{useGrouping:!1});y!==t&&(t+=" - ".concat(y))}catch(t){console.error("error parsing date:",e.EndDate,t)}f.push(t)}if("Program"===e.Type||"Timer"===e.Type){var h=e;if("Timer"===e.Type&&(h=e.ProgramInfo),!1!==l.programIndicator&&(h.IsLive&&"true"===c.get("guide-indicator-live")?f.push({html:'<div class="mediaInfoProgramAttribute mediaInfoItem liveTvProgram">'.concat(o.Ay.translate("Live"),"</div>")}):h.IsPremiere&&"true"===c.get("guide-indicator-premiere")?f.push({html:'<div class="mediaInfoProgramAttribute mediaInfoItem premiereTvProgram">'.concat(o.Ay.translate("Premiere"),"</div>")}):h.IsSeries&&!h.IsRepeat&&"true"===c.get("guide-indicator-new")?f.push({html:'<div class="mediaInfoProgramAttribute mediaInfoItem newTvProgram">'.concat(o.Ay.translate("New"),"</div>")}):h.IsSeries&&h.IsRepeat&&"true"===c.get("guide-indicator-repeat")&&f.push({html:'<div class="mediaInfoProgramAttribute mediaInfoItem repeatTvProgram">'.concat(o.Ay.translate("Repeat"),"</div>")})),(h.IsSeries||h.EpisodeTitle)&&!1!==l.episodeTitle)(t=s.Ay.getDisplayName(h,{includeIndexNumber:l.episodeTitleIndexNumber}))&&f.push(i()(t));else if(h.IsMovie&&h.ProductionYear&&!1!==l.originalAirDate)f.push(h.ProductionYear);else if(h.PremiereDate&&!1!==l.originalAirDate)try{r=a.Ay.parseISO8601Date(h.PremiereDate),t=o.Ay.translate("OriginalAirDateValue",a.Ay.toLocaleDateString(r)),f.push(t)}catch(e){console.error("error parsing date:",h.PremiereDate,e)}else h.ProductionYear&&!1!==l.year&&f.push(h.ProductionYear)}if(!1!==l.year&&"Series"!==e.Type&&"Episode"!==e.Type&&"Person"!==e.Type&&"Photo"!==e.MediaType&&"Program"!==e.Type&&"Season"!==e.Type)if(e.ProductionYear)f.push(e.ProductionYear);else if(e.PremiereDate)try{t=a.Ay.toLocaleString(a.Ay.parseISO8601Date(e.PremiereDate).getFullYear(),{useGrouping:!1}),f.push(t)}catch(t){console.error("error parsing date:",e.PremiereDate,t)}if(e.RunTimeTicks&&"Series"!==e.Type&&"Program"!==e.Type&&"Timer"!==e.Type&&"Book"!==e.Type&&!p&&!1!==l.runtime&&("Audio"===e.Type?f.push(a.Ay.getDisplayRunningTime(e.RunTimeTicks)):f.push(a.Ay.getDisplayDuration(e.RunTimeTicks))),!1!==l.officialRating&&e.OfficialRating&&"Season"!==e.Type&&"Episode"!==e.Type&&f.push({text:e.OfficialRating,cssClass:"mediaInfoText mediaInfoOfficialRating"}),e.Video3DFormat&&f.push("3D"),"Photo"===e.MediaType&&e.Width&&e.Height&&f.push("".concat(e.Width,"x").concat(e.Height)),!1!==l.container&&"Audio"===e.Type&&e.Container&&f.push(e.Container),m+=f.map((function(e){return v(e)})).join(""),!1!==l.starRating&&(m+=function(e){var t="";return e.CommunityRating&&(t+='<div class="starRatingContainer mediaInfoItem">',t+='<span class="material-icons starIcon star" aria-hidden="true"></span>',t+=e.CommunityRating.toFixed(1),t+="</div>"),t}(e)),e.HasSubtitles&&!1!==l.subtitles&&(m+='<div class="mediaInfoItem mediaInfoText closedCaptionMediaInfoText">CC</div>'),e.CriticRating&&!1!==l.criticRating&&(e.CriticRating>=60?m+='<div class="mediaInfoItem mediaInfoCriticRating mediaInfoCriticRatingFresh">'.concat(e.CriticRating,"</div>"):m+='<div class="mediaInfoItem mediaInfoCriticRating mediaInfoCriticRatingRotten">'.concat(e.CriticRating,"</div>")),!1!==l.endsAt){var g=d(e);g&&(m+=v(g,"endsAt"))}return m+u.Ay.getMissingIndicator(e)}(e,t)}function h(e,t){return null==(t=t||{}).interactive&&(t.interactive=!1),"Program"===e.Type?function(e,t){var r,n,o=[];if(e.StartDate&&!1!==t.programTime)try{r="",n=a.Ay.parseISO8601Date(e.StartDate),!1!==t.startDate&&(r+=a.Ay.toLocaleDateString(n,{weekday:"short",month:"short",day:"numeric"})),r+=" ".concat(a.Ay.getDisplayTime(n)),e.EndDate&&(n=a.Ay.parseISO8601Date(e.EndDate),r+=" - ".concat(a.Ay.getDisplayTime(n))),o.push(r)}catch(t){console.error("error parsing date:",e.StartDate,t)}if(e.ChannelNumber&&o.push("CH ".concat(e.ChannelNumber)),e.ChannelName&&(t.interactive&&e.ChannelId?o.push({html:'<a is="emby-linkbutton" class="button-flat mediaInfoItem" href="'.concat(l.appRouter.getRouteUrl({ServerId:e.ServerId,Type:"TvChannel",Name:e.ChannelName,Id:e.ChannelId}),'">').concat(i()(e.ChannelName),"</a>")}):o.push(i()(e.ChannelName))),!1!==t.timerIndicator){var s=function(e){var t;if("SeriesTimer"===e.Type)return'<span class="material-icons mediaInfoItem mediaInfoIconItem mediaInfoTimerIcon fiber_smart_record" aria-hidden="true"></span>';if(e.TimerId||e.SeriesTimerId)t=e.Status||"Cancelled";else{if("Timer"!==e.Type)return"";t=e.Status}return e.SeriesTimerId?"Cancelled"!==t?'<span class="material-icons mediaInfoItem mediaInfoIconItem mediaInfoTimerIcon fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons mediaInfoItem mediaInfoIconItem fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons mediaInfoItem mediaInfoIconItem mediaInfoTimerIcon fiber_manual_record" aria-hidden="true"></span>'}(e);s&&o.push({html:s})}return""+o.map((function(e){return v(e)})).join("")}(e,t):""}function g(e){var t=e.Width,r=e.Height;if(t&&r){if(t>=3800||r>=2e3)return"4K";if(t>=2500||r>=1400)return e.IsInterlaced?"1440i":"1440p";if(t>=1800||r>=1e3)return e.IsInterlaced?"1080i":"1080p";if(t>=1200||r>=700)return e.IsInterlaced?"720i":"720p";if(t>=700||r>=400)return e.IsInterlaced?"480i":"480p"}return null}t.Ay={getMediaInfoHtml:y,getEndsAt:d,getEndsAtFromPosition:m,getPrimaryMediaInfoHtml:y,getSecondaryMediaInfoHtml:h,fillPrimaryMediaInfo:function(e,t,r){var n=y(t,r);e.innerHTML=n,f(e,t,r)},fillSecondaryMediaInfo:function(e,t,r){var n=h(t,r);e.innerHTML=n,f(e,t,r)},getMediaInfoStats:function(e){var t=[],r=(((e.MediaSources||[])[0]||{}).MediaStreams||[]).filter((function(e){return"Video"===e.Type}))[0]||{},n=function(e){if(!e.MediaSources)return null;var t=e.MediaSources[0];return t?(t.MediaStreams||[]).filter((function(e){return"Audio"===e.Type&&(e.Index===t.DefaultAudioStreamIndex||null==t.DefaultAudioStreamIndex)}))[0]:null}(e)||{};"Dvd"===e.VideoType&&t.push({type:"mediainfo",text:"Dvd"}),"BluRay"===e.VideoType&&t.push({type:"mediainfo",text:"BluRay"});var i=g(r);i&&t.push({type:"mediainfo",text:i}),r.Codec&&t.push({type:"mediainfo",text:r.Codec});var l,u=n.Channels;8===u?l="7.1":7===u?l="6.1":6===u?l="5.1":2===u&&(l="2.0"),l&&t.push({type:"mediainfo",text:l});var c=(n.Codec||"").toLowerCase();if("dca"!==c&&"dts"!==c||!n.Profile?n.Codec&&t.push({type:"mediainfo",text:n.Codec}):t.push({type:"mediainfo",text:n.Profile}),e.DateCreated&&s.Ay.enableDateAddedDisplay(e)){var d=a.Ay.parseISO8601Date(e.DateCreated);t.push({type:"added",text:o.Ay.translate("AddedOnValue","".concat(a.Ay.toLocaleDateString(d)," ").concat(a.Ay.getDisplayTime(d)))})}return t},getResolutionText:g}},99883:function(e,t,r){r.d(t,{A:function(){return ya}});var n,i,a,o,l=r(62540),s=r(92779),u=r(63696),c=r(98428),d=r(69410),m=r(64680),v=r(36873),f=r(92426),p=r(77612),y=r(73921),h=r(46842),g=r(98350),I=r(80270),b=r(23044),A=r(38586),T=r(69607),x=r(73392),S=r(61364),w=r(53096),P=r(45659),C=r(25334),j=r(80401),O=r(26073),D=r(38596),N=r(98320),R=r(5898),B=r(82885),k=r(46782);!function(e){e.HasSubtitles="HasSubtitles",e.HasTrailer="HasTrailer",e.HasSpecialFeature="HasSpecialFeature",e.HasThemeSong="HasThemeSong",e.HasThemeVideo="HasThemeVideo"}(n||(n={})),function(e){e.ParentIndexNumber="ParentIndexNumber",e.IsMissing="IsMissing",e.IsUnaired="IsUnaired"}(i||(i={})),function(e){e.IsSD="IsSD",e.IsHD="IsHD",e.Is4K="Is4K",e.Is3D="Is3D"}(a||(a={})),function(e){e.GridView="grid",e.ListView="list"}(o||(o={}));var L=r(46850),F=function(){return F=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},F.apply(this,arguments)},M=function(e,t){var r=[];return e!==L.D.Networks&&r.push(v.z.MediaSourceCount),t.ImageType===m.y.Primary&&r.push(v.z.PrimaryImageAspectRatio),e===L.D.Networks&&r.push(v.z.DateCreated,v.z.PrimaryImageAspectRatio),r},E=function(e,t){return{fields:M(e,t)}},V=function(){return{limit:B.libraryPageSize(void 0)||void 0}},U=function(e){var t=null!==e.Alphabet?e.Alphabet:void 0;return{nameLessThan:"#"===t?"A":void 0,nameStartsWith:"#"===t?void 0:t}},H=function(e,t){var r,o,l,s,u,c,d,m;return F(F(F(F({},function(e){var t,r,i,a,o,l,s,u,c,d;return{hasSubtitles:!!(null===(r=null===(t=e.Filters)||void 0===t?void 0:t.Features)||void 0===r?void 0:r.includes(n.HasSubtitles))||void 0,hasTrailer:!!(null===(a=null===(i=e.Filters)||void 0===i?void 0:i.Features)||void 0===a?void 0:a.includes(n.HasTrailer))||void 0,hasSpecialFeature:!!(null===(l=null===(o=e.Filters)||void 0===o?void 0:o.Features)||void 0===l?void 0:l.includes(n.HasSpecialFeature))||void 0,hasThemeSong:!!(null===(u=null===(s=e.Filters)||void 0===s?void 0:s.Features)||void 0===u?void 0:u.includes(n.HasThemeSong))||void 0,hasThemeVideo:!!(null===(d=null===(c=e.Filters)||void 0===c?void 0:c.Features)||void 0===d?void 0:d.includes(n.HasThemeVideo))||void 0}}(t)),function(e,t){var r,n,a,o,l,s;return{parentIndexNumber:(null===(n=null===(r=t.Filters)||void 0===r?void 0:r.EpisodeFilter)||void 0===n?void 0:n.includes(i.ParentIndexNumber))?0:void 0,isMissing:e===L.D.Episodes?!!(null===(o=null===(a=t.Filters)||void 0===a?void 0:a.EpisodeFilter)||void 0===o?void 0:o.includes(i.IsMissing)):void 0,isUnaired:!!(null===(s=null===(l=t.Filters)||void 0===l?void 0:l.EpisodeFilter)||void 0===s?void 0:s.includes(i.IsUnaired))||void 0}}(e,t)),function(e){var t,r,n,i,o,l,s,u,c;return(null===(r=null===(t=e.Filters)||void 0===t?void 0:t.VideoBasicFilter)||void 0===r?void 0:r.includes(a.IsHD))&&(c=!0),(null===(i=null===(n=e.Filters)||void 0===n?void 0:n.VideoBasicFilter)||void 0===i?void 0:i.includes(a.IsSD))&&(c=!1),{isHd:c,is4K:!!(null===(l=null===(o=e.Filters)||void 0===o?void 0:o.VideoBasicFilter)||void 0===l?void 0:l.includes(a.Is4K))||void 0,is3D:!!(null===(u=null===(s=e.Filters)||void 0===s?void 0:s.VideoBasicFilter)||void 0===u?void 0:u.includes(a.Is3D))||void 0}}(t)),{seriesStatus:null===(r=null==t?void 0:t.Filters)||void 0===r?void 0:r.SeriesStatus,videoTypes:null===(o=null==t?void 0:t.Filters)||void 0===o?void 0:o.VideoTypes,filters:null===(l=null==t?void 0:t.Filters)||void 0===l?void 0:l.Status,genres:null===(s=null==t?void 0:t.Filters)||void 0===s?void 0:s.Genres,officialRatings:null===(u=null==t?void 0:t.Filters)||void 0===u?void 0:u.OfficialRatings,tags:null===(c=null==t?void 0:t.Filters)||void 0===c?void 0:c.Tags,years:null===(d=null==t?void 0:t.Filters)||void 0===d?void 0:d.Years,studioIds:null===(m=null==t?void 0:t.Filters)||void 0===m?void 0:m.StudioIds})},G=function(e){return e===L.D.Episodes?p.B.SeriesSortName:p.B.SortName};function q(e){var t,r,n;return{"data-context":e.context,"data-collectionid":e.collectionId,"data-playlistid":e.playlistId,"data-parentid":e.parentId,"data-playlistitemid":e.itemPlaylistItemId,"data-action":k.A.tv?e.action:null,"data-serverid":e.itemServerId,"data-id":e.itemId,"data-timerid":e.itemTimerId,"data-seriestimerid":e.itemSeriesTimerId,"data-channelid":e.itemChannelId,"data-type":e.itemType,"data-mediatype":e.itemMediaType,"data-collectiontype":e.itemCollectionType,"data-isfolder":e.itemIsFolder,"data-path":e.itemPath,"data-prefix":e.prefix,"data-positionticks":null===(t=e.itemUserData)||void 0===t?void 0:t.PlaybackPositionTicks,"data-startdate":null===(r=e.itemStartDate)||void 0===r?void 0:r.toString(),"data-enddate":null===(n=e.itemEndDate)||void 0===n?void 0:n.toString()}}var W=r(11444),z=r(33077),Y=r(4672),K=r(76942),Q=function(){return Q=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Q.apply(this,arguments)},_=function(){var e={fields:[v.z.PrimaryImageAspectRatio],filters:[f.s.IsPlayed],IsPlayed:!0,imageTypeLimit:1,enableImageTypes:[m.y.Primary,m.y.Backdrop,m.y.Thumb]};return[{name:"HeaderContinueWatching",apiMethod:Y.RQ.ResumeItems,itemTypes:"Movie",type:Y.gX.ContinueWatchingMovies,parametersOptions:{includeItemTypes:[W.D.Movie]},cardOptions:{overlayPlayButton:!0,preferThumb:!0,shape:K.G8.BackdropOverflow,showYear:!0}},{name:"HeaderLatestMovies",apiMethod:Y.RQ.LatestMedia,itemTypes:"Movie",type:Y.gX.LatestMovies,parametersOptions:{includeItemTypes:[W.D.Movie]},cardOptions:{overlayPlayButton:!0,shape:K.G8.PortraitOverflow,showYear:!0}},{name:"HeaderContinueWatching",apiMethod:Y.RQ.ResumeItems,itemTypes:"Episode",type:Y.gX.ContinueWatchingEpisode,parametersOptions:{includeItemTypes:[W.D.Episode]},cardOptions:{overlayPlayButton:!0,shape:K.G8.BackdropOverflow,preferThumb:!0,inheritThumb:!B.useEpisodeImagesInNextUpAndResume(void 0),showYear:!0}},{name:"HeaderLatestEpisodes",apiMethod:Y.RQ.LatestMedia,itemTypes:"Episode",type:Y.gX.LatestEpisode,parametersOptions:{includeItemTypes:[W.D.Episode]},cardOptions:{overlayPlayButton:!0,shape:K.G8.BackdropOverflow,preferThumb:!0,showSeriesYear:!0,showParentTitle:!0,showUnplayedIndicator:!1,showChildCountIndicator:!0,lines:2}},{name:"NextUp",apiMethod:Y.RQ.NextUp,itemTypes:"nextup",type:Y.gX.NextUp,cardOptions:{overlayPlayButton:!0,shape:K.G8.BackdropOverflow,preferThumb:!0,inheritThumb:!B.useEpisodeImagesInNextUpAndResume(void 0),showParentTitle:!0}},{name:"HeaderLatestMusic",apiMethod:Y.RQ.LatestMedia,itemTypes:"Audio",type:Y.gX.LatestMusic,parametersOptions:{includeItemTypes:[W.D.Audio]},cardOptions:{showUnplayedIndicator:!1,shape:K.G8.SquareOverflow,showParentTitle:!0,overlayPlayButton:!0,coverImage:!0}},{name:"HeaderRecentlyPlayed",itemTypes:"Audio",type:Y.gX.RecentlyPlayedMusic,parametersOptions:Q({sortBy:[p.B.DatePlayed],sortOrder:[y.x.Descending],includeItemTypes:[W.D.Audio]},e),cardOptions:{showUnplayedIndicator:!1,shape:K.G8.SquareOverflow,showParentTitle:!0,action:z.s.InstantMix,overlayMoreButton:!0,coverImage:!0}},{name:"HeaderFrequentlyPlayed",itemTypes:"Audio",type:Y.gX.FrequentlyPlayedMusic,parametersOptions:Q({sortBy:[p.B.PlayCount],sortOrder:[y.x.Descending],includeItemTypes:[W.D.Audio]},e),cardOptions:{showUnplayedIndicator:!1,shape:K.G8.SquareOverflow,showParentTitle:!0,action:z.s.InstantMix,overlayMoreButton:!0,coverImage:!0}}]},X=function(){var e={inheritThumb:!1,shape:K.G8.AutoOverflow,defaultShape:K.G8.BackdropOverflow,centerText:!0,coverImage:!0,overlayText:!1,lazy:!0,showAirTime:!0};return[{name:"HeaderOnNow",itemTypes:"Programs",apiMethod:Y.RQ.RecommendedPrograms,type:Y.gX.ActivePrograms,parametersOptions:{isAiring:!0},cardOptions:Q({showParentTitle:!0,showTitle:!0,showAirDateTime:!1,showAirEndTime:!0,overlayPlayButton:!0,overlayMoreButton:!1,overlayInfoButton:!1,preferThumb:"auto"},e)},{name:"Shows",itemTypes:"Programs",apiMethod:Y.RQ.LiveTvPrograms,type:Y.gX.UpcomingEpisodes,parametersOptions:{hasAired:!1,isMovie:!1,isSports:!1,isKids:!1,isNews:!1,isSeries:!0},cardOptions:Q({showParentTitle:!0,showTitle:!0,overlayPlayButton:!1,overlayMoreButton:!1,overlayInfoButton:!1,preferThumb:"auto",showAirDateTime:!0},e)},{name:"Movies",itemTypes:"Programs",apiMethod:Y.RQ.LiveTvPrograms,type:Y.gX.UpcomingMovies,parametersOptions:{hasAired:!1,isMovie:!0},cardOptions:Q({preferThumb:null,showParentTitle:!1,showTitle:!0,overlayPlayButton:!1,overlayMoreButton:!1,overlayInfoButton:!1,showAirDateTime:!0},e)},{name:"Sports",itemTypes:"Programs",apiMethod:Y.RQ.LiveTvPrograms,type:Y.gX.UpcomingSports,parametersOptions:{hasAired:!1,isSports:!0},cardOptions:Q({showParentTitle:!0,showTitle:!0,overlayPlayButton:!1,overlayMoreButton:!1,overlayInfoButton:!1,preferThumb:"auto",showAirDateTime:!0},e)},{name:"HeaderForKids",itemTypes:"Programs",apiMethod:Y.RQ.LiveTvPrograms,type:Y.gX.UpcomingKids,parametersOptions:{hasAired:!1,isKids:!0},cardOptions:Q({showParentTitle:!0,showTitle:!0,overlayPlayButton:!1,overlayMoreButton:!1,overlayInfoButton:!1,preferThumb:"auto",showAirDateTime:!0},e)},{name:"News",itemTypes:"Programs",apiMethod:Y.RQ.LiveTvPrograms,type:Y.gX.UpcomingNews,parametersOptions:{hasAired:!1,isNews:!0},cardOptions:Q({overlayPlayButton:!1,overlayMoreButton:!1,overlayInfoButton:!1,showParentTitleOrTitle:!0,showTitle:!1,showParentTitle:!1,preferThumb:"auto",showAirDateTime:!0},e)},{name:"HeaderLatestRecordings",itemTypes:"Recordings",apiMethod:Y.RQ.Recordings,type:Y.gX.LatestRecordings,parametersOptions:{limit:12,imageTypeLimit:1},cardOptions:{showYear:!0,lines:2,shape:K.G8.AutoOverflow,defaultShape:K.G8.BackdropOverflow,showTitle:!0,showParentTitle:!0,coverImage:!0,cardLayout:!1,centerText:!0,preferThumb:"auto",overlayText:!1}},{name:"HeaderAllRecordings",itemTypes:"Recordings",apiMethod:Y.RQ.RecordingFolders,type:Y.gX.RecordingFolders,cardOptions:{showYear:!1,showParentTitle:!1,shape:K.G8.AutoOverflow,defaultShape:K.G8.BackdropOverflow,showTitle:!0,coverImage:!0,cardLayout:!1,centerText:!0,preferThumb:"auto",overlayText:!1}},{name:"HeaderActiveRecordings",itemTypes:"Recordings",apiMethod:Y.RQ.Recordings,type:Y.gX.ActiveRecordings,parametersOptions:{isInProgress:!0},cardOptions:{shape:K.G8.AutoOverflow,defaultShape:K.G8.Backdrop,showParentTitle:!1,showParentTitleOrTitle:!0,showTitle:!0,showAirTime:!0,showAirEndTime:!0,showChannelName:!0,coverImage:!0,overlayText:!1,overlayMoreButton:!0,cardLayout:!1,centerText:!0,preferThumb:"auto"}}]},J=r(58961),Z=function(){return Z=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Z.apply(this,arguments)},$=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,l)}s((n=n.apply(e,t||[])).next())}))},ee=function(e,t){var r,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(s){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&l[0]?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;switch(n=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,n=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){a.label=l[1];break}if(6===l[0]&&a.label<i[1]){a.label=i[1],i=l;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(l);break}i[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(e){l=[6,e],n=0}finally{r=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},te=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function re(e){var t,r,n=[],i="",a=[];try{for(var o=te(e),l=o.next();!l.done;l=o.next()){var s=l.value,u="";if(s.PremiereDate)try{var c=N.Ay.parseISO8601Date(s.PremiereDate,!0);u=N.Ay.isRelativeDay(c,-1)?R.Ay.translate("Yesterday"):N.Ay.toLocaleDateString(c,{weekday:"long",month:"short",day:"numeric"})}catch(e){console.error("error parsing timestamp for upcoming tv shows")}u!=i?(a.length&&n.push({name:i,items:a}),i=u,a=[s]):a.push(s)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n}var ne=function(e){var t,r=(0,d.gf)();return(0,j.I)({queryKey:["GroupsUpcomingEpisodes",e],queryFn:function(t){var n=t.signal;return function(e,t,r){return $(void 0,void 0,void 0,(function(){var n,i;return ee(this,(function(a){switch(a.label){case 0:return n=e.api,i=e.user,n&&(null==i?void 0:i.Id)?[4,(0,x.r)(n).getUpcomingEpisodes({userId:i.Id,limit:25,fields:[v.z.AirTime],parentId:null!=t?t:void 0,imageTypeLimit:1,enableImageTypes:[m.y.Primary,m.y.Backdrop,m.y.Thumb]},{signal:null==r?void 0:r.signal})]:[3,2];case 1:return[2,re(a.sent().data.Items||[])];case 2:return[2]}}))}))}(r,e,{signal:n})},enabled:!!r.api&&!!(null===(t=r.user)||void 0===t?void 0:t.Id)&&!!e})};function ie(e,t){var r,n,i=e.map((function(e){return e.Type=J.u.Timer,e})),a=[],o="",l=[];try{for(var s=te(i),u=s.next();!u.done;u=s.next()){var c=u.value,d="";if(!1!==t&&c.StartDate)try{var m=N.Ay.parseISO8601Date(c.StartDate,!0);d=N.Ay.toLocaleDateString(m,{weekday:"long",month:"short",day:"numeric"})}catch(e){console.error("error parsing premiereDate:"+c.StartDate+"; error: "+e)}d!=o?(l.length&&a.push({name:o,timerInfo:l}),o=d,l=[c]):l.push(c)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return l.length&&a.push({name:o,timerInfo:l}),a}var ae=function(e,t,r,n){return $(void 0,void 0,void 0,(function(){var i,a,o;return ee(this,(function(l){switch(l.label){case 0:if(i=e.api,a=e.user,!i||!(null==a?void 0:a.Id))return[3,18];switch(o=void 0,r.apiMethod){case Y.RQ.RecommendedPrograms:return[3,1];case Y.RQ.LiveTvPrograms:return[3,3];case Y.RQ.Recordings:return[3,5];case Y.RQ.RecordingFolders:return[3,7];case Y.RQ.NextUp:return[3,9];case Y.RQ.ResumeItems:return[3,11];case Y.RQ.LatestMedia:return[3,13]}return[3,15];case 1:return[4,(0,P.t)(i).getRecommendedPrograms(Z({userId:a.Id,limit:12,imageTypeLimit:1,enableImageTypes:[m.y.Primary,m.y.Thumb,m.y.Backdrop],enableTotalRecordCount:!1,fields:[v.z.ChannelInfo,v.z.PrimaryImageAspectRatio,v.z.MediaSourceCount]},r.parametersOptions),{signal:null==n?void 0:n.signal})];case 2:case 4:case 6:case 8:case 10:case 12:case 16:return o=l.sent().data.Items,[3,17];case 3:return[4,(0,P.t)(i).getLiveTvPrograms(Z({userId:a.Id,limit:12,imageTypeLimit:1,enableImageTypes:[m.y.Primary,m.y.Thumb,m.y.Backdrop],enableTotalRecordCount:!1,fields:[v.z.ChannelInfo,v.z.PrimaryImageAspectRatio]},r.parametersOptions),{signal:null==n?void 0:n.signal})];case 5:return[4,(0,P.t)(i).getRecordings(Z({userId:a.Id,enableImageTypes:[m.y.Primary,m.y.Thumb,m.y.Backdrop],enableTotalRecordCount:!1,fields:[v.z.CanDelete,v.z.PrimaryImageAspectRatio]},r.parametersOptions),{signal:null==n?void 0:n.signal})];case 7:return[4,(0,P.t)(i).getRecordingFolders({userId:a.Id},{signal:null==n?void 0:n.signal})];case 9:return[4,(0,x.r)(i).getNextUp(Z({userId:a.Id,limit:25,fields:[v.z.PrimaryImageAspectRatio,v.z.MediaSourceCount],parentId:null!=t?t:void 0,imageTypeLimit:1,enableImageTypes:[m.y.Primary,m.y.Thumb,m.y.Backdrop],enableTotalRecordCount:!1},r.parametersOptions),{signal:null==n?void 0:n.signal})];case 11:return[4,(0,b.n)(i).getResumeItems(Z({userId:a.Id,parentId:null!=t?t:void 0,fields:[v.z.PrimaryImageAspectRatio,v.z.MediaSourceCount],imageTypeLimit:1,enableImageTypes:[m.y.Primary,m.y.Thumb,m.y.Backdrop],enableTotalRecordCount:!1},r.parametersOptions),{signal:null==n?void 0:n.signal})];case 13:return[4,(0,S.P)(i).getLatestMedia(Z({userId:a.Id,fields:[v.z.PrimaryImageAspectRatio,v.z.MediaSourceCount],parentId:null!=t?t:void 0,imageTypeLimit:1,enableImageTypes:[m.y.Primary,m.y.Thumb]},r.parametersOptions),{signal:null==n?void 0:n.signal})];case 14:return o=l.sent().data,[3,17];case 15:return[4,(0,b.n)(i).getItems(Z({userId:a.Id,parentId:null!=t?t:void 0,recursive:!0,limit:25,enableTotalRecordCount:!1},r.parametersOptions),{signal:null==n?void 0:n.signal})];case 17:return[2,o||[]];case 18:return[2]}}))}))},oe=function(e,t,r,n,i){return $(void 0,void 0,void 0,(function(){var a,o,l,s,u,c,d,m;return ee(this,(function(v){switch(v.label){case 0:n&&(r=r.filter((function(e){return n.includes(e.type)}))),a=[],v.label=1;case 1:v.trys.push([1,6,7,8]),o=te(r),l=o.next(),v.label=2;case 2:return l.done?[3,5]:(s=l.value,[4,ae(e,t,s,i)]);case 3:(u=v.sent())&&u.length>0&&a.push({section:s,items:u}),v.label=4;case 4:return l=o.next(),[3,2];case 5:return[3,8];case 6:return c=v.sent(),d={error:c},[3,8];case 7:try{l&&!l.done&&(m=o.return)&&m.call(o)}finally{if(d)throw d.error}return[7];case 8:return[2,a]}}))}))},le=r(70267),se=r(84849),ue=r(89348),ce=function(e){var t=e.message,r=void 0===t?"MessageNoItemsAvailable":t;return(0,l.jsxs)(s.A,{className:"noItemsMessage centerMessage",children:[(0,l.jsx)(ue.A,{variant:"h1",children:R.Ay.translate("MessageNothingHere")}),(0,l.jsx)(ue.A,{sx:{marginBottom:"16px"},children:R.Ay.translate(r)})]})},de=r(68700),me=r(65090),ve=r(4452),fe=r.n(ve),pe=r(45251),ye=r(65210),he=r(9790),ge=r(44797),Ie=r(10736),be=r(38490),Ae=r(36300),Te=r(34789),xe=r(76542),Se=r(39738),we=r(22832),Pe=r(35308),Ce=r(8566),je=r(9164),Oe=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,l)}s((n=n.apply(e,t||[])).next())}))},De=function(e,t){var r,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(s){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&l[0]?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;switch(n=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,n=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){a.label=l[1];break}if(6===l[0]&&a.label<i[1]){a.label=i[1],i=l;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(l);break}i[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(e){l=[6,e],n=0}finally{r=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}};function Ne(e){return e.preventDefault(),e.stopPropagation(),!1}var Re=function(e){var t,r=e.className,n=e.isContextMenuEnabled,i=e.isMultiSelectEnabled,a=e.isDragreOrderEnabled,o=e.eventsToMonitor,c=void 0===o?[]:o,m=e.parentId,v=e.queryKey,f=e.reloadItems,p=e.getItemsHtml,y=e.children,h=(0,he.jE)(),g=(t=(0,d.gf)(),(0,D.n)({mutationFn:function(e){return function(e,t){return $(void 0,void 0,void 0,(function(){var r,n;return ee(this,(function(i){switch(i.label){case 0:return r=e.api,n=e.user,r&&(null==n?void 0:n.Id)?[4,(0,w.C)(r).moveItem(Z({},t))]:[3,2];case 1:return[2,i.sent().data];case 2:return[2]}}))}))}(t,e)}})).mutateAsync,I=(0,u.useRef)(null),b=(0,u.useRef)(null),A=(0,u.useRef)(null),T=(0,u.useRef)(null),x=(0,u.useCallback)((function(e){var t=I.current,r=b.current;r&&!1===r.onContainerClick.call(t,e)||we.Ay.onClick.call(t,e)}),[]),S=(0,u.useCallback)((function(e){var t=e.target,r=Ae.Ay.parentWithAttribute(t,"data-id");if(null==r?void 0:r.getAttribute("data-serverid"))return be.default.handleCommand("menu",{sourceElement:r}),e.preventDefault(),e.stopPropagation(),!1}),[]),P=(0,u.useCallback)((function(e){b.current=new Pe.default({container:e,bindOnClick:!1})}),[]),C=(0,u.useCallback)((function(){b.current&&(b.current.destroy(),b.current=null)}),[]),j=(0,u.useCallback)((function(e){return Oe(void 0,void 0,void 0,(function(){var t,r,n,i,a,o;return De(this,(function(l){switch(l.label){case 0:if(t=e.item,r=e.newIndex,n=t.getAttribute("data-playlistitemid"),!(i=t.getAttribute("data-playlistid")))return a=e.oldIndex,t.dispatchEvent(new CustomEvent("itemdrop",{detail:{oldIndex:a,newIndex:r,playlistItemId:n},bubbles:!0,cancelable:!1})),[2];if(!n)throw new Error("null itemId");l.label=1;case 1:return l.trys.push([1,3,,4]),Ce.Ay.show(),[4,g({playlistId:i,itemId:n,newIndex:r||0})];case 2:return l.sent(),Ce.Ay.hide(),[3,4];case 3:return o=l.sent(),console.error("[Drag-Drop] error playlists Move Item: "+o),Ce.Ay.hide(),f?(f(),[3,4]):[2];case 4:return[2]}}))}))}),[g,f]),O=(0,u.useCallback)((function(e){A.current=ye.Ay.create(e,{draggable:".listItem",handle:".listViewDragHandle",onEnd:function(e){return j(e)}})}),[j]),N=(0,u.useCallback)((function(){A.current&&(A.current.destroy(),A.current=null)}),[]),R=(0,u.useCallback)((function(){return Oe(void 0,void 0,void 0,(function(){return De(this,(function(e){switch(e.label){case 0:return[4,h.invalidateQueries({queryKey:v,type:"all",refetchType:"active"})];case 1:return e.sent(),[2]}}))}))}),[h,v]),B=(0,u.useCallback)((function(e){f&&(!0===e?f():T.current=setTimeout((function(){return f()}),1e4))}),[f]),L=(0,u.useCallback)((function(){return Oe(void 0,void 0,void 0,(function(){return De(this,(function(e){switch(e.label){case 0:return[4,R()];case 1:return e.sent(),[2]}}))}))}),[R]),F=(0,u.useCallback)((function(){return Oe(void 0,void 0,void 0,(function(){return De(this,(function(e){switch(e.label){case 0:return[4,R()];case 1:return e.sent(),[2]}}))}))}),[R]),M=(0,u.useCallback)((function(){return Oe(void 0,void 0,void 0,(function(){return De(this,(function(e){switch(e.label){case 0:return[4,R()];case 1:return e.sent(),[2]}}))}))}),[R]),E=(0,u.useCallback)((function(){return Oe(void 0,void 0,void 0,(function(){return De(this,(function(e){switch(e.label){case 0:return[4,R()];case 1:return e.sent(),[2]}}))}))}),[R]),V=(0,u.useCallback)((function(){return Oe(void 0,void 0,void 0,(function(){return De(this,(function(e){switch(e.label){case 0:return[4,R()];case 1:return e.sent(),[2]}}))}))}),[R]),U=(0,u.useCallback)((function(e,t,r){var n,i,a,o,l;if(!c.includes("seriestimers")&&!c.includes("timers")){var s=null!==(n=r.ItemsAdded)&&void 0!==n?n:[],u=null!==(i=r.ItemsRemoved)&&void 0!==i?i:[];if(s.length||u.length){if(m){var d=null!==(a=r.FoldersAddedTo)&&void 0!==a?a:[],v=null!==(o=r.FoldersRemovedFrom)&&void 0!==o?o:[],f=null!==(l=r.CollectionFolders)&&void 0!==l?l:[];if(-1===d.indexOf(m)&&-1===v.indexOf(m)&&-1===f.indexOf(m))return}B(!1)}}}),[c,B,m]),H=(0,u.useCallback)((function(e,t){var r=t.state;if(r.NowPlayingItem&&r.NowPlayingItem.MediaType===pe.z.Video){if(c.includes("videoplayback"))return void B(!0)}else if(r.NowPlayingItem&&r.NowPlayingItem.MediaType===pe.z.Audio&&c.includes("audioplayback"))return void B(!0)}),[c,B]),G=(0,u.useCallback)((function(e,t){if(t){var r=e.querySelector('[data-id="'+t+'"]');if(r)try{return void je.A.focus(r)}catch(e){console.error(e)}}je.A.autoFocus(e)}),[]);(0,u.useEffect)((function(){var e=I.current;if(e){var t,r,n=document.activeElement;(null==e?void 0:e.contains(n))&&(r=!0,t=null==n?void 0:n.getAttribute("data-id")),p&&(e.innerHTML=p(),xe.default.lazyChildren(e)),r&&G(e,t)}else console.error("Unexpected null reference")}),[p,G]),(0,u.useEffect)((function(){var e=I.current;if(e)return(k.A.desktop||k.A.mobile&&!1!==i)&&P(e),!0===a&&O(e),e.addEventListener("click",x),Te.A.touch?e.addEventListener("contextmenu",Ne):!1!==n&&e.addEventListener("contextmenu",S),we.Ay.on(e,{click:!1}),ge.A.on(Ie.default,"UserDataChanged",L),ge.A.on(Ie.default,"TimerCreated",F),ge.A.on(Ie.default,"TimerCancelled",E),ge.A.on(Ie.default,"SeriesTimerCreated",M),ge.A.on(Ie.default,"SeriesTimerCancelled",V),ge.A.on(Ie.default,"LibraryChanged",U),ge.A.on(Se.f,"playbackstop",H),function(){T.current&&clearTimeout(T.current),C(),N(),e.removeEventListener("click",x),e.removeEventListener("contextmenu",S),e.removeEventListener("contextmenu",Ne),we.Ay.off(e,{click:!1}),ge.A.off(Ie.default,"UserDataChanged",L),ge.A.off(Ie.default,"TimerCreated",F),ge.A.off(Ie.default,"TimerCancelled",E),ge.A.off(Ie.default,"SeriesTimerCreated",M),ge.A.off(Ie.default,"SeriesTimerCancelled",V),ge.A.off(Ie.default,"LibraryChanged",U),ge.A.off(Se.f,"playbackstop",H)};console.error("Unexpected null reference")}),[N,C,O,P,n,a,i,x,S,U,H,V,M,E,F,L]);var q=fe()("itemsContainer",{"itemsContainer-tv":k.A.tv},r);return(0,l.jsx)(s.A,{ref:I,className:q,children:y})},Be=r(92726),ke=r(4113),Le=function(){return Le=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Le.apply(this,arguments)},Fe=function(e){var t=e.className,r=e.title,n=e.icon,i=e.iconClassName,a=e.disabled,o=void 0!==a&&a,s=e.onClick,u=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(e,["className","title","icon","iconClassName","disabled","onClick"]),c=fe()("paper-icon-button-light",t,{"show-focus":k.A.tv}),d=fe()("material-icons",i,n);return(0,l.jsx)("button",Le({className:c,title:r,disabled:o,onClick:s},u,{children:(0,l.jsx)("span",{className:d,"aria-hidden":"true"})}))},Me=r(23064),Ee=function(e){var t=e.scrollerFactoryRef,r=e.scrollState,n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}((0,u.useState)(0),2),i=n[0],a=n[1],o=(0,u.useRef)(null),s=(0,u.useCallback)((function(e){(0,Me.s)({direction:e,scroller:t.current,scrollState:r})}),[r,t]),c=(0,u.useCallback)((function(){return s(Me.D.LEFT)}),[s]),d=(0,u.useCallback)((function(){return s(Me.D.RIGHT)}),[s]);return(0,u.useEffect)((function(){var e;(null===(e=o.current)||void 0===e?void 0:e.parentNode).classList.add("emby-scroller-container");var t=r.scrollPos;R.Ay.getIsElementRTL(o.current)&&(t*=-1),a(t)}),[r.scrollPos]),(0,l.jsxs)("div",{ref:o,className:"emby-scrollbuttons padded-right",children:[(0,l.jsx)(Fe,{type:"button",className:"emby-scrollbuttons-button btnPrev",onClick:c,icon:"chevron_left",disabled:i<=0}),(0,l.jsx)(Fe,{type:"button",className:"emby-scrollbuttons-button btnNext",onClick:d,icon:"chevron_right",disabled:r.scrollWidth>0&&i+r.scrollSize>=r.scrollWidth})]})},Ve=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o},Ue=function(e){var t=e.className,r=e.isHorizontalEnabled,n=void 0===r||r,i=e.isMouseWheelEnabled,a=void 0!==i&&i,o=e.isCenterFocusEnabled,s=void 0!==o&&o,c=e.isScrollButtonsEnabled,d=void 0===c||c,m=e.isSkipFocusWhenVisibleEnabled,v=void 0!==m&&m,f=e.isScrollEventEnabled,p=void 0!==f&&f,y=e.isHideScrollbarEnabled,h=void 0!==y&&y,g=e.isAllowNativeSmoothScrollEnabled,I=void 0!==g&&g,b=e.children,A=Ve(function(){var e=(0,u.useRef)(null),t=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}((0,u.useState)({width:0,height:0}),2),r=t[0],n=t[1];return(0,u.useLayoutEffect)((function(){e.current&&n(e.current.getBoundingClientRect())}),[e]),(0,Be.A)(e,(function(e){return n(e.contentRect)})),[e,r]}(),2),T=A[0],x=A[1],S=Ve((0,u.useState)(!1),2),w=S[0],P=S[1],C=Ve((0,u.useState)({scrollSize:x.width,scrollPos:0,scrollWidth:0}),2),j=C[0],O=C[1],D=(0,u.useRef)(null),N=(0,u.useCallback)((function(){if(D.current)return D.current.getScrollSlider()}),[D]),R=(0,u.useCallback)((function(){return D.current?D.current.getScrollPosition():0}),[D]),B=(0,u.useCallback)((function(){return D.current?D.current.getScrollSize():0}),[D]),L=(0,u.useCallback)((function(e,t){var r=e.getPropertyValue(t);return r&&(r=r.replace("px",""))?isNaN(parseInt(r,10))?0:Number(r):0}),[]),F=(0,u.useCallback)((function(){var e=null==T?void 0:T.current,t=e.offsetWidth,r=window.getComputedStyle(e,null),n=L(r,"padding-left");n&&(t-=n);var i=L(r,"padding-right");i&&(t-=i);var a=N();return r=window.getComputedStyle(a,null),(n=L(r,"padding-left"))&&(t-=n),(i=L(r,"padding-right"))&&(t-=i),t}),[N,L,T]),M=(0,u.useCallback)((function(){var e=F(),t=R(),r=B();O({scrollSize:e,scrollPos:t,scrollWidth:r})}),[R,F,B]),E=(0,u.useCallback)((function(e,t){Ae.Ay.addEventListener(e,"focus",(function(e){var r=je.A.focusableParent(e.target);r&&t.toCenter(r,!1)}),{capture:!0,passive:!0})}),[]),V=(0,u.useCallback)((function(e,t){D.current&&Ae.Ay.addEventListener(D.current.getScrollFrame(),D.current.getScrollEventName(),e,t)}),[D]),U=(0,u.useCallback)((function(e,t){D.current&&Ae.Ay.removeEventListener(D.current.getScrollFrame(),D.current.getScrollEventName(),e,t)}),[D]);return(0,u.useEffect)((function(){var e,t=T.current;if(t){var r=k.A.desktop&&n&&d,i={horizontal:n,mouseDragging:1,mouseWheel:a,touchDragging:1,slidee:null===(e=T.current)||void 0===e?void 0:e.querySelector(".scrollSlider"),scrollBy:200,speed:n?270:240,elasticBounds:1,dragHandle:1,autoImmediate:!0,skipSlideToWhenVisible:v,dispatchScrollEvent:r||p,hideScrollbar:r||h,allowNativeSmoothScroll:I&&!r,allowNativeScroll:!r,forceHideScrollbars:r,requireAnimation:r&&Te.A.edge};return D.current=new ke.A(t,i),D.current.init(),D.current.reload(),k.A.tv&&s&&E(t,D.current),r&&(V(M,{capture:!1,passive:!0}),P(!0)),function(){D.current&&(D.current.destroy(),D.current=null),U(M,{capture:!1,passive:!0})}}console.error("Unexpected null reference")}),[V,E,I,s,h,n,a,d,p,v,M,U,T]),(0,l.jsxs)(l.Fragment,{children:[w&&j.scrollWidth>j.scrollSize+20&&(0,l.jsx)(Ee,{scrollerFactoryRef:D,scrollState:j}),(0,l.jsx)("div",{ref:T,className:fe()("emby-scroller",t),children:b})]})},He=r(24468),Ge="Photo",qe="Video",We=r(64788),ze=r(36645);function Ye(e,t){if(e&&t)return Math.round(e/t)}function Ke(e){return!(!e.preferThumb||!1===e.showTitle)}function Qe(e,t){return!(!e||!t)&&Math.abs(e-t)/t<=.2}var _e=function(e){var t,r,n,i,a=e.item,o=e.cardOptions,l=e.shape,s=(0,d.gf)().api,u=function(e,t,r){var n,i,a,o,l,s,u,c,d,v,f,p,y=t.width,h=e.PrimaryImageAspectRatio,g=!1,I=!1,b=(0,ze.zo)(r);if(function(e,t){return Boolean(t.preferThumb)&&!(e===J.u.Program||e===J.u.Episode)}(e.Type,t)){var A=function(e,t){var r,n,i,a,o,l,s=!1;return(null===(r=e.ImageTags)||void 0===r?void 0:r.Thumb)?(a=m.y.Thumb,l=e.ImageTags.Thumb,o=e.Id):e.SeriesThumbImageTag&&!1!==t.inheritThumb?(a=m.y.Thumb,l=e.SeriesThumbImageTag,o=e.SeriesId):e.ParentThumbItemId&&!1!==t.inheritThumb&&e.MediaType!==Ge?(a=m.y.Thumb,l=e.ParentThumbImageTag,o=e.ParentThumbItemId):(null===(n=e.BackdropImageTags)||void 0===n?void 0:n.length)?(a=m.y.Backdrop,l=e.BackdropImageTags[0],o=e.Id,s=!0):(null===(i=e.ParentBackdropImageTags)||void 0===i?void 0:i.length)&&!1!==t.inheritThumb&&(a=m.y.Backdrop,l=e.ParentBackdropImageTags[0],o=e.ParentBackdropItemId),{itemId:o,imgTag:l,imgType:a,forceName:s}}(e,t);f=A.imgType,v=A.imgTag,p=A.itemId,g=A.forceName}else if(function(e,t,r){return(t.preferBanner||r===K.G8.Banner)&&Boolean(e)}(null===(n=e.ImageTags)||void 0===n?void 0:n.Banner,t,r))f=m.y.Banner,v=null===(i=e.ImageTags)||void 0===i?void 0:i.Banner,p=e.Id;else if(function(e,t){return!0===t.preferDisc&&Boolean(e)}(null===(a=e.ImageTags)||void 0===a?void 0:a.Disc,t))f=m.y.Disc,v=null===(o=e.ImageTags)||void 0===o?void 0:o.Disc,p=e.Id;else if(t.preferLogo){var T=function(e){var t,r,n,i;return(null===(t=e.ImageTags)||void 0===t?void 0:t.Logo)?(r=m.y.Logo,i=e.ImageTags.Logo,n=e.Id):e.ParentLogoImageTag&&e.ParentLogoItemId&&(r=m.y.Logo,i=e.ParentLogoImageTag,n=e.ParentLogoItemId),{itemId:n,imgTag:i,imgType:r}}(e);f=T.imgType,v=T.imgType,p=T.itemId}else!function(e,t){return Boolean(e)&&Boolean(t.inheritThumb)}(e.ParentThumbItemId,t)?function(e){var t;return Boolean(null===(t=e.ImageTags)||void 0===t?void 0:t.Primary)&&(e.Type!==J.u.Episode||0!==e.ChildCount)}(e)?(f=m.y.Primary,v=null===(l=e.ImageTags)||void 0===l?void 0:l.Primary,p=e.Id,d=Ye(y,h),g=Ke(t),I=Qe(h,b)):e.SeriesPrimaryImageTag?(f=m.y.Primary,v=e.SeriesPrimaryImageTag,p=e.SeriesId):e.PrimaryImageTag?(f=m.y.Primary,v=e.PrimaryImageTag,p=e.PrimaryImageItemId,d=Ye(y,h),g=Ke(t),I=Qe(h,b)):e.ParentPrimaryImageTag?(f=m.y.Primary,v=e.ParentPrimaryImageTag,p=e.ParentPrimaryImageItemId):function(e){return Boolean(e.AlbumId)&&Boolean(e.AlbumPrimaryImageTag)}(e)?(f=m.y.Primary,v=e.AlbumPrimaryImageTag,p=e.AlbumId,d=Ye(y,h),g=Ke(t),I=Qe(h,b)):function(e){var t;return e.Type===J.u.Season&&Boolean(null===(t=e.ImageTags)||void 0===t?void 0:t.Thumb)}(e)?(f=m.y.Thumb,v=null===(s=e.ImageTags)||void 0===s?void 0:s.Thumb,p=e.Id):(null===(u=e.BackdropImageTags)||void 0===u?void 0:u.length)?(f=m.y.Backdrop,v=e.BackdropImageTags[0],p=e.Id):function(e,t){return Boolean(e)&&!1!==t.inheritThumb}(e.SeriesThumbImageTag,t)?(f=m.y.Thumb,v=e.SeriesThumbImageTag,p=e.SeriesId):(null===(c=e.ParentBackdropImageTags)||void 0===c?void 0:c.length)&&!1!==t.inheritThumb&&(f=m.y.Backdrop,v=e.ParentBackdropImageTags[0],p=e.ParentBackdropItemId):(f=m.y.Thumb,v=e.ParentThumbImageTag,p=e.ParentThumbItemId);return{imgType:f,imgTag:v,itemId:p,width:y,height:d,forceName:g,coverImage:I}}(a,o,l),c=u.width,v=u.height,f=u.imgTag,p=u.imgType,y=u.itemId,h=window.devicePixelRatio||1;return s&&f&&p&&y&&(c&&(c=Math.round(c*h)),v&&(v=Math.round(v*h)),n=(0,We.C)(s).getItemImageUrlById(y,p,{quality:96,fillWidth:c,fillHeight:v,tag:f}),i=null===(r=null===(t=null==a?void 0:a.ImageBlurHashes)||void 0===t?void 0:t[p])||void 0===r?void 0:r[f]),{imgUrl:n,blurhash:i,forceName:u.forceName,coverImage:u.coverImage}},Xe=function(){return Xe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Xe.apply(this,arguments)},Je=function(e){var t=e.className,r=e.dataAttributes,n=e.children;return k.A.tv?(0,l.jsx)("button",Xe({className:t},r,{children:n})):(0,l.jsx)("div",Xe({className:t},r,{children:n}))},Ze=r(1164),$e=r(55370),et=r(75487),tt=r(2066),rt=function(e){var t=e.className,r=e.action,n=e.title,i=e.iconClassName;return(0,l.jsx)(et.A,{className:t,"data-action":r,title:R.Ay.translate(n),children:(0,l.jsx)(tt.A,{className:i})})},nt=r(15723),it=function(e){var t=e.className,r=e.iconClassName;return(0,l.jsx)(et.A,{className:t,"data-action":z.s.Menu,title:R.Ay.translate("ButtonMore"),children:(0,l.jsx)(nt.A,{className:r})})},at=function(e,t){return e&&!t.IsPlaceHolder&&(t.LocationType!==Ze.i.Virtual||!t.MediaType||t.Type===J.u.Program)&&t.Type!==J.u.Person},ot=function(e){var t=e.item,r=e.cardOptions,n=r.overlayPlayButton;null!=n||r.overlayMoreButton||r.overlayInfoButton||r.cardLayout||(n=t.MediaType===qe);var i=le.appRouter.getRouteUrl(t,{parentId:r.parentId}),a=fe()("paper-icon-button-light","cardOverlayButton","itemAction"),o=fe()(a,"cardOverlayButton-centered");return(0,l.jsxs)("a",{href:i,"aria-label":t.Name||"",style:{position:"absolute",top:0,left:0,bottom:0,right:0,userSelect:"none",borderRadius:"0.2em"},children:[r.centerPlayButton&&(0,l.jsx)(rt,{className:o,action:z.s.Play,title:"Play"}),(0,l.jsxs)($e.A,{className:"cardOverlayButton-br",children:[at(n,t)&&(0,l.jsx)(rt,{className:a,action:z.s.Play,title:"Play"}),r.overlayMoreButton&&(0,l.jsx)(it,{className:a})]})]})},lt=r(23648),st=r(249),ut=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,l)}s((n=n.apply(e,t||[])).next())}))},ct=function(e,t){var r,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(s){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&l[0]?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;switch(n=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,n=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){a.label=l[1];break}if(6===l[0]&&a.label<i[1]){a.label=i[1],i=l;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(l);break}i[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(e){l=[6,e],n=0}finally{r=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},dt=function(e){var t,r=e.className,n=e.isPlayed,i=void 0!==n&&n,a=e.itemId,o=e.itemType,s=e.queryKey,c=(0,he.jE)(),m=(t=(0,d.gf)(),(0,D.n)({mutationFn:function(e){var r=e.itemId,n=e.isPlayed;return function(e,t,r){return $(void 0,void 0,void 0,(function(){var n,i;return ee(this,(function(a){switch(a.label){case 0:return n=e.api,i=e.user,n&&(null==i?void 0:i.Id)?r?[4,(0,C.q)(n).markUnplayedItem({userId:i.Id,itemId:t})]:[3,2]:[3,4];case 1:case 3:return[2,a.sent().data.Played];case 2:return[4,(0,C.q)(n).markPlayedItem({userId:i.Id,itemId:t})];case 4:return[2]}}))}))}(t,r,n)}})).mutateAsync,v=(0,u.useCallback)((function(){return o!==W.D.AudioBook?i?R.Ay.translate("Watched"):R.Ay.translate("MarkPlayed"):i?R.Ay.translate("Played"):R.Ay.translate("MarkPlayed")}),[o,i]),f=(0,u.useCallback)((function(){return ut(void 0,void 0,void 0,(function(){var e;return ct(this,(function(t){switch(t.label){case 0:if(t.trys.push([0,2,,3]),!a)throw new Error("Item has no Id");return[4,m({itemId:a,isPlayed:i},{onSuccess:function(){return ut(void 0,void 0,void 0,(function(){return ct(this,(function(e){switch(e.label){case 0:return[4,c.invalidateQueries({queryKey:s,type:"all",refetchType:"active"})];case 1:return e.sent(),[2]}}))}))}})];case 1:return t.sent(),[3,3];case 2:return e=t.sent(),console.error(e),[3,3];case 3:return[2]}}))}))}),[a,m,i,c,s]);return(0,l.jsx)(et.A,{"data-action":z.s.None,title:v(),className:r,size:"small",onClick:f,children:(0,l.jsx)(st.A,{color:i?"error":void 0})})},mt=r(36237),vt=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,l)}s((n=n.apply(e,t||[])).next())}))},ft=function(e,t){var r,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(s){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&l[0]?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;switch(n=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,n=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){a.label=l[1];break}if(6===l[0]&&a.label<i[1]){a.label=i[1],i=l;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(l);break}i[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(e){l=[6,e],n=0}finally{r=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},pt=function(e){var t,r=e.className,n=e.isFavorite,i=void 0!==n&&n,a=e.itemId,o=e.queryKey,s=(0,he.jE)(),c=(t=(0,d.gf)(),(0,D.n)({mutationFn:function(e){var r=e.itemId,n=e.isFavorite;return function(e,t,r){return $(void 0,void 0,void 0,(function(){var n,i;return ee(this,(function(a){switch(a.label){case 0:return n=e.api,i=e.user,n&&(null==i?void 0:i.Id)?r?[4,(0,S.P)(n).unmarkFavoriteItem({userId:i.Id,itemId:t})]:[3,2]:[3,4];case 1:case 3:return[2,a.sent().data.IsFavorite];case 2:return[4,(0,S.P)(n).markFavoriteItem({userId:i.Id,itemId:t})];case 4:return[2]}}))}))}(t,r,n)}})).mutateAsync,m=(0,u.useCallback)((function(){return vt(void 0,void 0,void 0,(function(){var e;return ft(this,(function(t){switch(t.label){case 0:if(t.trys.push([0,2,,3]),!a)throw new Error("Item has no Id");return[4,c({itemId:a,isFavorite:i},{onSuccess:function(){return vt(void 0,void 0,void 0,(function(){return ft(this,(function(e){switch(e.label){case 0:return[4,s.invalidateQueries({queryKey:o,type:"all",refetchType:"active"})];case 1:return e.sent(),[2]}}))}))}})];case 1:return t.sent(),[3,3];case 2:return e=t.sent(),console.error(e),[3,3];case 3:return[2]}}))}))}),[i,a,s,o,c]);return(0,l.jsx)(et.A,{"data-action":z.s.None,className:r,title:i?R.Ay.translate("Favorite"):R.Ay.translate("AddToFavorites"),size:"small",onClick:m,children:(0,l.jsx)(mt.A,{color:i?"error":void 0})})},yt=function(e){var t,r=e.action,n=e.item,i=e.cardOptions,a=le.appRouter.getRouteUrl(n,{parentId:i.parentId}),o="paper-icon-button-light cardOverlayButton cardOverlayButton-hover itemAction",u=fe()(o,"cardOverlayFab-primary"),c=null!==(t=n.UserData)&&void 0!==t?t:{},d=c.IsFavorite,m=c.Played;return(0,l.jsxs)(s.A,{className:"cardOverlayContainer itemAction","data-action":r,children:[(0,l.jsx)("a",{href:a,"aria-label":n.Name||"",className:"cardImageContainer"}),Se.f.canPlay(n)&&(0,l.jsx)(rt,{className:u,action:z.s.Play,title:"Play"}),(0,l.jsxs)($e.A,{className:"cardOverlayButton-br flex",children:[lt.Ay.canMarkPlayed(n)&&!1!==i.enablePlayedButton&&(0,l.jsx)(dt,{className:o,isPlayed:m,itemId:n.Id,itemType:n.Type,queryKey:i.queryKey}),lt.Ay.canRate(n)&&!1!==i.enableRatingButton&&(0,l.jsx)(pt,{className:o,isFavorite:d,itemId:n.Id,queryKey:i.queryKey}),(0,l.jsx)(it,{className:o})]})]})};function ht(e){return null==e?[]:Array.isArray(e)?e:[e]}var gt=function(){return gt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},gt.apply(this,arguments)},It=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o},bt=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};function At(e,t,r){var n=t||lt.Ay.getDisplayName(e);return k.A.tv?{title:n}:{titleAction:{url:le.appRouter.getRouteUrl(e,{serverId:r}),title:n,dataAttributes:q({action:z.s.Link,itemServerId:null!=r?r:e.ServerId,itemId:e.Id,itemChannelId:e.ChannelId,itemType:e.Type,itemMediaType:e.MediaType,itemCollectionType:e.CollectionType,itemIsFolder:e.IsFolder})}}}function Tt(e,t,r){var n="";if(e.StartDate)try{var i=N.Ay.parseISO8601Date(e.StartDate);t&&(n+=N.Ay.toLocaleDateString(i,{weekday:"short",month:"short",day:"numeric"})+" "),n+=N.Ay.getDisplayTime(i),e.EndDate&&r&&(i=N.Ay.parseISO8601Date(e.EndDate),n+=" - "+N.Ay.getDisplayTime(i))}catch(t){console.error("error parsing date: "+e.StartDate)}return n}function xt(e){if(e)return 1===e?R.Ay.translate("ValueOneSong"):R.Ay.translate("ValueSongCount",e)}function St(e,t){var r,n,i=[],a=function(e){e&&i.push(e)};return t.Type===J.u.Playlist?a(function(e){if(e){var t=e/6e8;return t=t||1,R.Ay.translate("ValueMinutes",Math.round(t))}return R.Ay.translate("ValueMinutes",0)}(t.RunTimeTicks)):(n=t.Type)===J.u.Genre||n===J.u.Studio?(a(function(e){if(e)return 1===e?R.Ay.translate("ValueOneMovie"):R.Ay.translate("ValueMovieCount",e)}(t.MovieCount)),a(function(e){if(e)return 1===e?R.Ay.translate("ValueOneSeries"):R.Ay.translate("ValueSeriesCount",e)}(t.SeriesCount)),a(function(e){if(e)return 1===e?R.Ay.translate("ValueOneEpisode"):R.Ay.translate("ValueEpisodeCount",e)}(t.EpisodeCount))):!function(e,t){return e===J.u.MusicGenre||"MusicArtist"===t}(t.Type,e.context)?t.Type===J.u.Series&&a(1===(r=t.RecursiveItemCount)?R.Ay.translate("ValueOneEpisode"):R.Ay.translate("ValueEpisodeCount",r)):(a(function(e){if(e)return 1===e?R.Ay.translate("ValueOneAlbum"):R.Ay.translate("ValueAlbumCount",e)}(t.AlbumCount)),a(xt(t.SongCount)),a(function(e){if(e)return 1===e?R.Ay.translate("ValueOneMusicVideo"):R.Ay.translate("ValueMusicVideoCount",e)}(t.MusicVideoCount))),i.join(", ")}function wt(e){return e.RecordAnyChannel?R.Ay.translate("AllChannels"):e.ChannelName||R.Ay.translate("OneChannel")}function Pt(e){return e.RecordAnyTime?R.Ay.translate("Anytime"):N.Ay.getDisplayTime(e.StartDate)}function Ct(e){return e&&Tt(e,!1,!0)||""}function jt(e){if(!e)return"";try{return N.Ay.toLocaleDateString(N.Ay.parseISO8601Date(e),{weekday:"long",month:"long",day:"numeric"})}catch(e){return""}}function Ot(e,t){var r,n,i=e(t);try{for(var a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),o=a.next();!o.done;o=a.next())return o.value}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}function Dt(e){var t=e.ProductionYear&&N.Ay.toLocaleString(e.ProductionYear,{useGrouping:!1});if(e.Type===J.u.Series){if("Continuing"===e.Status)return R.Ay.translate("SeriesYearToPresent",t||"");if(e.EndDate&&e.ProductionYear){var r=N.Ay.toLocaleString(N.Ay.parseISO8601Date(e.EndDate).getFullYear(),{useGrouping:!1});return t+(r===t?"":" - "+r)}return t||""}return t||""}function Nt(e){var t,r=e.isOuterFooter,n=e.overlayText,i=e.forceName,a=e.item,o=e.cardOptions,l=e.imgUrl,s=function(e,t){return Boolean(e)||t===J.u.PhotoAlbum||t===J.u.Folder}(o.showTitle,a.Type),u=function(e,t){return e?!t:t}(r,n),c=a.ServerId||o.serverId,d=[],m=(t=a.Type)===J.u.MusicAlbum||t===J.u.Audio||t===J.u.MusicVideo,v=!1,f=function(e){d.push(e)};u&&(o.showParentTitle||o.showParentTitleOrTitle)&&!m&&f(function(e,t,r,n){if(e&&t.Type===J.u.Episode&&t.SeriesName)return t.SeriesId?At({Key:t.SeriesId,Id:t.SeriesId,ServerId:t.ServerId,Name:t.SeriesName,Type:J.u.Series,IsFolder:!0}):{title:t.SeriesName};if((0,ze.hn)(t.Type))return t.EpisodeTitle||t.IndexNumber||(v=!0),{title:t.Name};var i=t.SeriesName||t.Series||t.Album||t.AlbumArtist||"";return i||n?{title:i}:{title:""}}(r,a,0,s));var p=function(e,t,r,n,i){var a=t&&!e||n.showParentTitleOrTitle&&!i.length;return a||e||!t&&!r||(a=!0),a}(v,s,i,o,d);return p&&f(function(e,t){var r,n="auto"!==e.showTitle||t.IsFolder||t.MediaType!==Ge?lt.Ay.getDisplayName(t,{includeParentInfo:e.includeParentInfoInTitle}):"";return At({Key:null!==(r=t.Id)&&void 0!==r?r:"",Id:t.Id,ServerId:t.ServerId,Name:n,Type:t.Type,CollectionType:t.CollectionType,IsFolder:t.IsFolder})}(o,a)),u&&function(e,t,r,n,i,a){var o,l,s,u,c,d,m;(function(e,t){return e&&t})(e.showParentTitle,t)&&i(function(e,t,r){var n;return e&&(null===(n=r.AlbumArtists)||void 0===n?void 0:n.length)?r.AlbumArtists.map((function(e){var r;return At(gt(gt({},e),{Key:null!==(r=e.Id)&&void 0!==r?r:"",Type:W.D.MusicArtist,IsFolder:!0}),null,t)})).reduce((function(e,t){return{title:bt(bt([],It(ht(e.title)),!1),It(ht(t.title)),!1),titleAction:bt(bt([],It(ht(e.titleAction)),!1),It(ht(t.titleAction)),!1)}}),{}):{title:(0,ze.hn)(r.Type)?r.Name:r.SeriesName||r.Series||r.Album||r.AlbumArtist||""}}(r,a,n)),(o=n.ExtraType)&&"Unknown"!==o&&i({title:R.Ay.translate(n.ExtraType)}),e.showItemCounts&&i({title:St(e,n)}),e.textLines&&i({title:Ot(e.textLines,n)}),e.showSongCount&&i({title:xt(n.SongCount)}),e.showPremiereDate&&i({title:jt(n.PremiereDate)}),l=e.showYear,s=e.showSeriesYear,(Boolean(l)||s)&&i({title:Dt(n)}),e.showRuntime&&i({title:(m=n.RunTimeTicks,m?N.Ay.getDisplayRunningTime(m):"")}),e.showAirTime&&i({title:Tt(n,e.showAirDateTime,e.showAirEndTime)}),e.showChannelName&&i(function(e){return e.ChannelId?At({Key:e.ChannelId,Id:e.ChannelId,ServerId:e.ServerId,Name:e.ChannelName,Type:J.u.TvChannel,MediaType:e.MediaType,IsFolder:!1},e.ChannelName):{title:e.ChannelName||""}}(n)),u=e.showCurrentProgram,c=n.Type,u&&c===J.u.TvChannel&&i({title:(d=n.CurrentProgram,d?d.Name:"")}),function(e,t){return e&&t===J.u.TvChannel}(e.showCurrentProgramTime,n.Type)&&i({title:Ct(n.CurrentProgram)}),e.showSeriesTimerTime&&i({title:Pt(n)}),e.showSeriesTimerChannel&&i({title:wt(n)}),function(e,t){return!(!e||!t.Role)}(e.showCurrentProgramTime,n)&&i({title:R.Ay.translate("PersonRole",n.Role)})}(o,m,r,a,f,c),(s||!l)&&i&&n&&1===d.length&&(d=[]),n&&s&&(d=[{title:a.Name}]),{textLines:d}}var Rt=function(){return Rt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Rt.apply(this,arguments)},Bt=function(e){var t=e.className,r=e.textLine,n=r.title,i=r.titleAction;return(0,l.jsx)(s.A,{className:t,children:i?ht(i).map((function(e,t,r){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("a",Rt({className:"itemAction textActionButton",href:e.url,title:e.title},e.dataAttributes,{children:e.title})),t<r.length-1&&" / "]})})):ht(n).join(" / ")})},kt=function(e){var t=e.item,r=e.cardOptions,n=e.forceName,i=e.imgUrl,a=e.overlayText,o=e.isOuterFooter,u=e.cssClass,c=e.forceLines,d=e.maxLines,m=Nt({isOuterFooter:o,overlayText:a,forceName:n,item:t,cardOptions:r,imgUrl:i}).textLines,v=function(e,t,r,n){return e&&t&&!r&&"none"!==n&&k.A.mobile}(o,r.cardLayout,r.centerText,r.cardFooterAside),f=function(){var e,t,r=[],n=0;try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(m),a=i.next();!a.done;a=i.next()){var f=a.value,p=fe()(u,{"cardText-secondary":n>0&&o},{"cardText-first":0===n&&o},{"cardText-rightmargin":v});if(f&&(r.push((0,l.jsx)(Bt,{className:p,textLine:f},n)),n++,d&&n>=d))break}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}if(c)for(var y=null!=d?d:Math.min(m.length,null!=d?d:m.length);n<y;)r.push((0,l.jsx)(s.A,{className:u,children:""},n)),n++;return r}();return{cardTextLines:f}},Lt=r(470),Ft=r(20302),Mt=function(){return Mt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Mt.apply(this,arguments)},Et=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o},Vt={position:"absolute",top:0,bottom:0,left:0,right:0,width:"100%",height:"100%",zIndex:0},Ut=function(e){var t=e.imgUrl,r=e.blurhash,n=e.containImage,i=Et((0,u.useState)(!1),2),a=i[0],o=i[1],s=Et((0,u.useState)(!1),2),c=s[0],d=s[1],m=(0,u.useCallback)((function(){o(!0)}),[]),v=(0,u.useCallback)((function(){d(!0)}),[]);return(0,l.jsxs)("div",{children:[!a&&c&&r&&(0,l.jsx)(Lt.U,{hash:r,width:20,height:20,punch:1,style:Mt(Mt({},Vt),{borderRadius:"0.2em",pointerEvents:"none"})}),(0,l.jsx)(Ft.LazyLoadImage,{src:t,style:Mt(Mt({},Vt),{objectFit:n?"contain":"cover"}),onLoad:m,beforeLoad:v},t)]})},Ht=function(e,t){return e.showDetailsMenu&&t&&e.cardLayout&&k.A.mobile&&"none"!==e.cardFooterAside},Gt=function(e){var t=e.logoUrl;return(0,l.jsx)(s.A,{className:"cardFooterLogo",children:(0,l.jsx)(Ut,{imgUrl:t,containImage:!0})})},qt=function(e){var t=e.item,r=e.cardOptions,n=e.forceName,i=e.imgUrl,a=e.footerClass,o=e.overlayText,u=e.progressBar,c=e.logoUrl,d=e.isOuterFooter,m=kt({item:t.ProgramInfo||t,cardOptions:r,forceName:n,imgUrl:i,overlayText:o,isOuterFooter:d,cssClass:r.centerText?"cardText cardTextCentered":"cardText",forceLines:!r.overlayText,maxLines:r.lines}).cardTextLines;return(0,l.jsxs)(s.A,{className:a,children:[c&&(0,l.jsx)(Gt,{logoUrl:c}),Ht(r,d)&&(0,l.jsx)(it,{className:"itemAction btnCardOptions"}),m,u]})},Wt=function(e){var t=e.item,r=e.cardOptions,n=e.overlayText,i=e.imgUrl,a=e.forceName,o=function(e,t,r){var n,i,a;return r.showChannelLogo&&e.ChannelPrimaryImageTag?(n=m.y.Primary,i=e.ChannelPrimaryImageTag,a=e.ChannelId):r.showLogo&&e.ParentLogoImageTag&&(n=m.y.Logo,i=e.ParentLogoImageTag,a=e.ParentLogoItemId),a||(a=e.Id),t&&i&&n&&a?{logoUrl:(0,We.C)(t).getItemImageUrlById(a,n,{height:40,tag:i})}:{logoUrl:void 0}}(t,(0,d.gf)().api,r),s=o.logoUrl,u=fe()("cardFooter",{"cardFooter-transparent":r.cardLayout},{"cardFooter-withlogo":s});return(0,l.jsx)(qt,{item:t,cardOptions:r,forceName:a,overlayText:n,imgUrl:i,footerClass:u,progressBar:void 0,logoUrl:s,isOuterFooter:!0})},zt=r(10822),Yt=r(73564),Kt=r(14871),Qt=r(83488),_t=r(31779),Xt=r(82225),Jt=r(98646),Zt=r(68849),$t=function(e){var t=e.pct,r=e.dataAutoMode,n=e.isRecording,i=e.starTtime,a=e.endTtime,o=e.progressOptions,s=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}((0,u.useState)(t),2),c=s[0],d=s[1],m=(0,u.useRef)(null),v=(0,u.useCallback)((function(){var e=parseInt(i.toString(),10),t=parseInt(a.toString(),10),r=((new Date).getTime()-e)/(t-e)*100;r=Math.min(100,r),r=Math.max(0,r),d(r)}),[a,i]);(0,u.useEffect)((function(){return m.current&&clearInterval(m.current),"time"===r&&(m.current=setInterval(v,6e4)),function(){m.current&&(clearInterval(m.current),m.current=null)}}),[r,v]);var f=fe()("itemLinearProgress",null==o?void 0:o.containerClass);return(0,l.jsx)(zt.A,{className:f,variant:"determinate",value:c,sx:function(e){var t;return(t={})["& .".concat(Yt.A.bar)]={borderRadius:5,backgroundColor:n?e.vars.palette.error.main:e.vars.palette.primary.main},t}})},er=r(86084),tr=r(68304),rr=function(){return rr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},rr.apply(this,arguments)},nr=rr(rr({},er.k),tr.m),ir={Video:(0,l.jsx)(_t.A,{className:"indicatorIcon"}),Folder:(0,l.jsx)(Xt.A,{className:"indicatorIcon"}),PhotoAlbum:(0,l.jsx)(Jt.A,{className:"indicatorIcon"}),Photo:(0,l.jsx)(Zt.A,{className:"indicatorIcon"})},ar=function(e){return e>=100?"99+":e.toString()},or=function(e){var t=function(e,t){var r,n=fe()("itemLinearProgress",null==t?void 0:t.containerClass);return(0,l.jsx)(zt.A,{className:n,variant:"determinate",value:e,sx:(r={},r["& .".concat(Yt.A.bar)]={borderRadius:5,backgroundColor:"#00a4dc"},r)})};return{getProgress:t,getProgressBar:function(r){var n,i,a;if(a=e.Type,(e.MediaType===qe&&a!==J.u.TvChannel||a===J.u.AudioBook)&&e.Type!==J.u.Recording){var o=(null===(n=null==r?void 0:r.userData)||void 0===n?void 0:n.PlayedPercentage)?r.userData.PlayedPercentage:null===(i=null==e?void 0:e.UserData)||void 0===i?void 0:i.PlayedPercentage;if(o&&o<100)return t(o)}if(function(e,t,r){return(e===J.u.Program||e===J.u.Timer||e===J.u.Recording)&&Boolean(t)&&Boolean(r)}(e.Type,e.StartDate,e.EndDate)){var s=0,u=1;try{s=N.Ay.parseISO8601Date(e.StartDate).getTime(),u=N.Ay.parseISO8601Date(e.EndDate).getTime()}catch(e){console.error(e)}var c=((new Date).getTime()-s)/(u-s)*100;if(c>0&&c<100){var d=e.Type===J.u.Timer||e.Type===J.u.Recording||Boolean(e.TimerId);return(0,l.jsx)($t,{pct:c,progressOptions:r,isRecording:d,starTtime:s,endTtime:u,dataAutoMode:"time"})}}return null},getMediaSourceIndicator:function(){var t,r=null!==(t=e.MediaSourceCount)&&void 0!==t?t:0;return r>1?(0,l.jsx)(s.A,{className:"mediaSourceIndicator",children:r}):null},getMissingIndicator:function(){if(e.Type===J.u.Episode&&e.LocationType===Ze.i.Virtual){if(e.PremiereDate)try{if(N.Ay.parseISO8601Date(e.PremiereDate).getTime()>(new Date).getTime())return(0,l.jsx)(s.A,{className:"unairedIndicator",children:"Unaired"})}catch(e){console.error(e)}return(0,l.jsx)(s.A,{className:"missingIndicator",children:"Missing"})}return null},getTimerIndicator:function(t){var r,n=fe()("timerIndicator",t);if(e.Type===J.u.SeriesTimer)return(0,l.jsx)(Kt.A,{className:n});if(e.TimerId||e.SeriesTimerId)r=e.Status||nr.Cancelled;else{if(e.Type!==J.u.Timer)return null;r=e.Status}return e.SeriesTimerId?(0,l.jsx)(Kt.A,{className:"".concat(n," ").concat(r===nr.Cancelled?"timerIndicator-inactive":"")}):(0,l.jsx)(Qt.A,{className:n})},getTypeIndicator:function(){var t,r=(t=e.Type,ir[t]);return r?(0,l.jsx)(s.A,{className:"indicator videoIndicator",children:r}):null},getChildCountIndicator:function(){var t,r=null!==(t=e.ChildCount)&&void 0!==t?t:0;return r>1?(0,l.jsx)(s.A,{className:"countIndicator indicator childCountIndicator",children:ar(r)}):null},getPlayedIndicator:function(){if(function(e){return lt.Ay.canMarkPlayed(e)}(e)){var t=e.UserData;if(null==t?void 0:t.UnplayedItemCount)return(0,l.jsx)(s.A,{className:"countIndicator indicator unplayedItemCount",children:ar(t.UnplayedItemCount)});if((null==t?void 0:t.PlayedPercentage)&&(null==t?void 0:t.PlayedPercentage)>=100||(null==t?void 0:t.Played))return(0,l.jsx)(s.A,{className:"playedIndicator indicator",children:(0,l.jsx)(st.A,{className:"indicatorIcon"})})}return null}}},lr=r(54954),sr=r(58953),ur=function(){return ur=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ur.apply(this,arguments)},cr=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o};function dr(e){return(0,l.jsxs)(s.A,{sx:{position:"relative",display:"inline-flex"},children:[(0,l.jsx)(lr.A,ur({variant:"determinate"},e)),(0,l.jsx)(s.A,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,l.jsx)(ue.A,{variant:"caption",component:"div",color:"text.secondary",children:(0,sr.a4)(e.value/100,(0,R.jE)())})})]})}var mr=function(e){var t=e.item,r=e.className,n=cr((0,u.useState)(!!t.RefreshProgress),2),i=n[0],a=n[1],o=cr((0,u.useState)(t.RefreshProgress||0),2),s=o[0],c=o[1],d=(0,u.useCallback)((function(e,r,n){if(n.ItemId===(null==t?void 0:t.Id)){var i=parseFloat(n.Progress);a(!!(i&&i<100)),c(i)}}),[null==t?void 0:t.Id]),m=(0,u.useCallback)((function(){ge.A.off(Ie.default,"RefreshProgress",d)}),[d]),v=(0,u.useCallback)((function(){m(),(null==t?void 0:t.Id)&&ge.A.on(Ie.default,"RefreshProgress",d)}),[null==t?void 0:t.Id,d,m]);(0,u.useEffect)((function(){return v(),function(){m()}}),[v,t.Id,m]);var f=fe()("progressring",r);return i?(0,l.jsx)("div",{className:f,children:(0,l.jsx)(dr,{value:Math.floor(s)})}):null},vr=r(44185),fr=r(32203),pr=function(e){var t=e.item,r=(0,ze.hn)(t.Type)?t.Name:lt.Ay.getDisplayName(t);return(0,l.jsx)(s.A,{className:"cardText cardDefaultText",children:r})},yr=function(e){var t,r=e.item,n=e.defaultCardImageIcon;return(r.Type===W.D.CollectionFolder||r.CollectionType)&&(t=(0,fr.Jd)(r.CollectionType)),t||(t=(0,fr.Bq)(r.Type,n)),t?(0,l.jsx)(vr.A,{className:"cardImageIcon",sx:{color:"inherit",fontSize:"5em"},"aria-hidden":"true",children:t}):(0,l.jsx)(pr,{item:r})},hr=function(e){var t=e.item,r=e.imgUrl,n=e.blurhash,i=e.imageType,a=e.defaultCardImageIcon;return r?(0,l.jsx)(Ut,{imgUrl:r,blurhash:n,containImage:t.Type===W.D.TvChannel||i===m.y.Logo}):(0,l.jsx)(yr,{item:t,defaultCardImageIcon:a})},gr=function(e){var t=e.item,r=e.cardOptions,n=e.imgUrl,i=e.overlayText,a=e.progressBar,o=e.forceName,s=fe()("innerCardFooter",{fullInnerCardFooter:a});return(0,l.jsx)(qt,{item:t,cardOptions:r,forceName:o,overlayText:i,imgUrl:n,footerClass:s,progressBar:a,isOuterFooter:!1})},Ir=function(e){var t=e.item,r=e.cardOptions,n=e.coveredImage,i=e.overlayText,a=e.imgUrl,o=e.blurhash,u=e.forceName,c=or(t),d=fe()("cardImageContainer",{coveredImage:n},{"coveredImage-contain":n&&t.Type===J.u.TvChannel});return(0,l.jsxs)("div",{className:d,children:[!0!==r.disableIndicators&&(0,l.jsxs)(s.A,{className:"indicators",children:[c.getMediaSourceIndicator(),(0,l.jsxs)(s.A,{className:"cardIndicators",children:[!1!==r.missingIndicator&&c.getMissingIndicator(),c.getTimerIndicator(),c.getTypeIndicator(),r.showGroupCount?c.getChildCountIndicator():c.getPlayedIndicator(),(t.Type===J.u.CollectionFolder||t.CollectionType)&&(0,l.jsx)(mr,{item:t})]})]}),(0,l.jsx)(hr,{item:t,imgUrl:a,blurhash:o,imageType:r.imageType}),i&&(0,l.jsx)(gr,{item:t,cardOptions:r,forceName:u,overlayText:i,imgUrl:a,progressBar:c.getProgressBar()}),!i&&c.getProgressBar()]})},br=function(e){var t,r=e.item,n=e.cardOptions,i=e.coveredImage,a=e.overlayText,o=e.imgUrl,s=e.blurhash,u=e.forceName,c=fe()("cardContent",((t={})[(0,ze.Qp)(r.Name)]=!o,t));return(0,l.jsx)("div",{className:c,children:(0,l.jsx)(Ir,{item:r,cardOptions:n,coveredImage:i,overlayText:a,imgUrl:o,blurhash:s,forceName:u})})},Ar=function(e){var t=e.action,r=e.item,n=e.cardOptions,i=e.className,a=e.shape,o=e.imgUrl,s=e.blurhash,u=e.forceName,c=e.coveredImage,d=e.overlayText;return(0,l.jsxs)("div",{className:i,children:[(0,l.jsxs)("div",{className:"cardScalable",children:[(0,l.jsx)("div",{className:"cardPadder cardPadder-".concat(a)}),(0,l.jsx)(br,{item:r,cardOptions:n,coveredImage:c,overlayText:d,imgUrl:o,blurhash:s,forceName:u}),k.A.mobile&&(0,l.jsx)(ot,{item:r,cardOptions:n}),k.A.desktop&&!n.disableHoverMenu&&(0,l.jsx)(yt,{action:t,item:r,cardOptions:n})]}),!d&&(0,l.jsx)(Wt,{item:r,cardOptions:n,forceName:u,overlayText:d,imgUrl:o})]})},Tr=function(){return Tr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Tr.apply(this,arguments)},xr=function(e){var t=function(e){var t,r,n,i,a,o,l,s,u,c=e.item,d=e.cardOptions,m=(0,ze.n5)({defaultAction:null!==(r=d.action)&&void 0!==r?r:z.s.Link,isFolder:null!==(n=c.IsFolder)&&void 0!==n&&n,isPhoto:c.MediaType===Ge}),v=d.shape;v===K.G8.Mixed&&(v=(0,ze.Tj)(c.PrimaryImageAspectRatio));var f=_e({item:null!==(i=c.ProgramInfo)&&void 0!==i?i:c,cardOptions:d,shape:v}),p=f.imgUrl,y=null!==(a=f.blurhash)&&void 0!==a?a:void 0,h=f.forceName,g=null!==(o=d.coverImage)&&void 0!==o?o:f.coverImage,I=d.overlayText,b=null!==(s=null!==(l=c.SortName)&&void 0!==l?l:c.Name)&&void 0!==s?s:"",A=b.substring(0,Math.min(3,b.length));A&&(A=A.toUpperCase());var T=q({action:m,itemServerId:null!==(u=c.ServerId)&&void 0!==u?u:d.serverId,context:d.context,parentId:d.parentId,collectionId:d.collectionId,playlistId:d.playlistId,itemId:c.Id,itemTimerId:c.TimerId,itemSeriesTimerId:c.SeriesTimerId,itemChannelId:c.ChannelId,itemType:c.Type,itemMediaType:c.MediaType,itemCollectionType:c.CollectionType,itemIsFolder:c.IsFolder,itemPath:c.Path,itemStartDate:c.StartDate,itemEndDate:c.EndDate,itemUserData:c.UserData,prefix:A}),x=fe()("card",((t={})["".concat(v,"Card")]=v,t),d.cardCssClass,d.cardClass,{"card-hoverable":k.A.desktop},{groupedCard:d.showChildCountIndicator&&c.ChildCount},{"card-withuserdata":c.Type!==J.u.MusicAlbum&&c.Type!==J.u.MusicArtist&&c.Type!==J.u.Audio},{itemAction:k.A.tv}),S=fe()("cardBox",{visualCardBox:d.cardLayout},{"cardBox-bottompadded":!d.cardLayout});return{getCardWrapperProps:function(){return{className:x,dataAttributes:T}},getCardBoxProps:function(){return{action:m,item:c,cardOptions:d,className:S,shape:v,imgUrl:p,blurhash:y,forceName:h,coveredImage:g,overlayText:I}}}}({item:e.item,cardOptions:e.cardOptions}),r=t.getCardWrapperProps,n=t.getCardBoxProps,i=r(),a=n();return(0,l.jsx)(Je,Tr({},i,{children:(0,l.jsx)(Ar,Tr({},a))}))},Sr=function(e){var t=e.items,r=e.cardOptions;return(0,He.setCardData)(t,r),(0,l.jsx)(l.Fragment,{children:t.map((function(e){return(0,l.jsx)(xr,{item:e,cardOptions:r},e.Id)}))})},wr=r(12384);function Pr(e){return Boolean(e&&e>0)}var Cr=function(e){var t=e.index,r=e.children;return 0===t?(0,l.jsx)(ue.A,{className:"listGroupHeader listGroupHeader-first",variant:"h2",children:r}):(0,l.jsx)(ue.A,{className:"listGroupHeader",variant:"h2",children:r})},jr=r(34377);var Or,Dr=function(e){var t=e.item,r=e.showYearInfo,n=void 0!==r&&r,i=e.showAudioContainerInfo,a=void 0!==i&&i,o=e.showEpisodeTitleInfo,l=void 0!==o&&o,s=e.showOriginalAirDateInfo,u=void 0!==s&&s,c=e.showFolderRuntimeInfo,d=void 0!==c&&c,m=e.showRuntimeInfo,v=void 0!==m&&m,f=e.showItemCountInfo,p=void 0!==f&&f,y=e.showSeriesTimerInfo,h=void 0!==y&&y,g=e.showStartDateInfo,I=void 0!==g&&g,b=e.showProgramIndicatorInfo,A=void 0!==b&&b,T=e.includeEpisodeTitleIndexNumber,x=void 0!==T&&T,S=e.showOfficialRatingInfo,w=void 0!==S&&S,P=e.showVideo3DFormatInfo,C=void 0!==P&&P,j=e.showPhotoSizeInfo,O=void 0!==j&&j,D=t.EndDate,k=t.Status,L=t.StartDate,F=t.ProductionYear,M=t.Video3DFormat,E=t.Type,V=t.Width,U=t.Height,H=t.MediaType,G=t.SongCount,q=t.RecordAnyTime,W=t.RecordAnyChannel,z=t.ChannelName,Y=t.ChildCount,K=t.RunTimeTicks,Q=t.PremiereDate,_=t.OfficialRating,X=t.Container,Z=[],$=function(e){e&&Z.push(e)},ee=function(e,t,r){return e&&(t===J.u.MusicAlbum||"MusicArtist"===r||t===J.u.Playlist||"Playlist"===r||"MusicGenre"===r)}(d,E,H);return function(e,t,r,n,i,a,o){if(e)(l=r||n)&&o({text:R.Ay.translate("TrackCount",l)}),i&&o({text:N.Ay.getDisplayDuration(i)});else if(t&&(a===J.u.PhotoAlbum||a===J.u.BoxSet)){var l;(l=n)&&o({text:R.Ay.translate("ItemCount",l)})}}(ee,p,G,Y,K,E,$),function(e,t,r,n,i){if(e&&(t===J.u.Episode||r===Ge)&&n)try{var a=N.Ay.parseISO8601Date(n,t!==J.u.Episode);i({text:N.Ay.toLocaleDateString(a)})}catch(e){console.error("error parsing date:",n)}}(u,E,H,Q,$),function(e,t,r,n,i,a,o){e&&t===J.u.SeriesTimer&&(o(r?{text:R.Ay.translate("Anytime")}:{text:N.Ay.getDisplayTime(n)}),o(i?{text:R.Ay.translate("AllChannels")}:{text:a||R.Ay.translate("OneChannel")}))}(h,E,q,L,W,z,$),function(e,t,r,n){if(e&&t&&r!==J.u.Program&&r!==J.u.SeriesTimer&&r!==J.u.Timer)try{var i=N.Ay.parseISO8601Date(t);n({text:N.Ay.toLocaleDateString(i)}),r!==J.u.Recording&&n({text:N.Ay.getDisplayTime(i)})}catch(e){console.error("error parsing date:",t)}}(I,L,E,$),function(e,t,r,n,i,a){e&&t&&r===J.u.Series&&(n===nr.Continuing?a({text:R.Ay.translate("SeriesYearToPresent",N.Ay.toLocaleString(t,{useGrouping:!1}))}):function(e,t,r){var n=N.Ay.toLocaleString(e,{useGrouping:!1});if(t)try{var i=N.Ay.toLocaleString(N.Ay.parseISO8601Date(t).getFullYear(),{useGrouping:!1});i!==e&&(n+="-".concat(i))}catch(e){console.error("error parsing date:",t)}r({text:n})}(t,i,a))}(n,F,E,k,D,$),function(e,t,r,n,i,a,o){if(a.Type===J.u.Program||a.Type===J.u.Timer){var l=a;a.Type===J.u.Timer&&a.ProgramInfo&&(l=a.ProgramInfo),n&&function(e,t){(null==e?void 0:e.IsLive)&&"true"===B.get("guide-indicator-live")?t({text:R.Ay.translate("Live"),cssClass:"mediaInfoProgramAttribute liveTvProgram"}):(null==e?void 0:e.IsPremiere)&&"true"===B.get("guide-indicator-premiere")?t({text:R.Ay.translate("Premiere"),cssClass:"mediaInfoProgramAttribute premiereTvProgram"}):(null==e?void 0:e.IsSeries)&&!(null==e?void 0:e.IsRepeat)&&"true"===B.get("guide-indicator-new")?t({text:R.Ay.translate("New"),cssClass:"mediaInfoProgramAttribute newTvProgram"}):(null==e?void 0:e.IsSeries)&&(null==e?void 0:e.IsRepeat)&&"true"===B.get("guide-indicator-repeat")&&t({text:R.Ay.translate("Repeat"),cssClass:"mediaInfoProgramAttribute repeatTvProgram"})}(l,o),function(e,t,r,n,i,a){if(e&&(i.IsSeries||i.EpisodeTitle))(o=lt.Ay.getDisplayName(i,{includeIndexNumber:t}))&&a({text:o});else if((r&&i.IsMovie||n)&&i.ProductionYear)a({text:i.ProductionYear});else if(r&&i.PremiereDate)try{var o,l=N.Ay.parseISO8601Date(i.PremiereDate);a({text:o=R.Ay.translate("OriginalAirDateValue",N.Ay.toLocaleDateString(l))})}catch(e){console.error("error parsing date:",i.PremiereDate)}}(t,i,r,e,l,o)}}(A,l,x,u,n,t,$),function(e,t,r,n,i,a){if(e&&t!==J.u.Series&&t!==J.u.Episode&&t!==J.u.Person&&r!==Ge&&t!==J.u.Program&&t!==J.u.Season)if(n)a({text:n});else if(i)try{a({text:N.Ay.toLocaleString(N.Ay.parseISO8601Date(i).getFullYear(),{useGrouping:!1})})}catch(e){console.error("error parsing date:",i)}}(n,E,H,F,Q,$),function(e,t,r,n,i){!e&&t&&r&&n!==J.u.Series&&n!==J.u.Program&&n!==J.u.Timer&&n!==J.u.Book&&(n===J.u.Audio?i({text:N.Ay.getDisplayRunningTime(r)}):i({text:N.Ay.getDisplayDuration(r)}))}(ee,v,K,E,$),function(e,t,r,n){e&&t&&r!==J.u.Season&&r!==J.u.Episode&&n({text:t,cssClass:"mediaInfoText mediaInfoOfficialRating"})}(w,_,E,$),function(e,t,r){e&&t&&r({text:"3D"})}(C,M,$),function(e,t,r,n,i){e&&t===Ge&&r&&n&&i({text:"".concat(r,"x").concat(n)})}(O,H,V,U,$),function(e,t,r,n){e&&t&&r===J.u.Audio&&n({text:t})}(a,X,E,$),Z},Nr=function(e){var t=e.className,r=e.miscInfo,n=r.text,i=r.textAction,a=r.cssClass,o=r.type;return(0,l.jsx)(s.A,{className:fe()("mediaInfoItem",a,o,t),children:i?(0,l.jsx)(de.A,{className:fe()(i.cssClass,t),href:i.url,title:i.title,color:"inherit",children:i.title}):n})},Rr=r(86865),Br=function(e){var t=e.className,r=e.communityRating,n=fe()("mediaInfoItem","starRatingContainer",t);return(0,l.jsxs)(s.A,{className:n,children:[(0,l.jsx)(Rr.A,{fontSize:"small",sx:function(e){return{color:e.vars.palette.starIcon.main}}}),r.toFixed(1)]})},kr=r(24411),Lr=function(e){var t=e.className,r=fe()("mediaInfoItem","closedCaptionMediaInfoText",t);return(0,l.jsx)(s.A,{className:r,children:(0,l.jsx)(kr.A,{})})},Fr=function(e){var t=e.className,r=e.criticRating,n=fe()("mediaInfoCriticRating","mediaInfoItem",r>=60?"mediaInfoCriticRatingFresh":"mediaInfoCriticRatingRotten",t);return(0,l.jsx)(s.A,{className:n,children:r})},Mr=r(82180),Er=function(e){var t=e.runTimeTicks,r=e.positionTicks,n=e.className,i=fe()("mediaInfoItem","endsAt",n),a=Mr.Ay.getEndsAtFromPosition(t,r,1,!0);return(0,l.jsx)(s.A,{className:i,children:a})},Vr=function(e){var t=e.className,r=e.infoclass,n=e.item,i=e.showYearInfo,a=e.showAudioContainerInfo,o=e.showEpisodeTitleInfo,u=e.showOriginalAirDateInfo,c=e.showFolderRuntimeInfo,d=e.showRuntimeInfo,m=e.showItemCountInfo,v=e.showSeriesTimerInfo,f=e.showStartDateInfo,p=e.showProgramIndicatorInfo,y=e.includeEpisodeTitleIndexNumber,h=e.showOfficialRatingInfo,g=e.showVideo3DFormatInfo,I=e.showPhotoSizeInfo,b=e.showStarRatingInfo,A=void 0!==b&&b,T=e.showCaptionIndicatorInfo,x=void 0!==T&&T,S=e.showCriticRatingInfo,w=void 0!==S&&S,P=e.showEndsAtInfo,C=void 0!==P&&P,j=e.getMissingIndicator,O=Dr({item:n,showYearInfo:i,showAudioContainerInfo:a,showEpisodeTitleInfo:o,showOriginalAirDateInfo:u,showFolderRuntimeInfo:c,showRuntimeInfo:d,showItemCountInfo:m,showSeriesTimerInfo:v,showStartDateInfo:f,showProgramIndicatorInfo:p,includeEpisodeTitleIndexNumber:y,showOfficialRatingInfo:h,showVideo3DFormatInfo:g,showPhotoSizeInfo:I}),D=n.StartDate,N=n.HasSubtitles,R=n.MediaType,B=n.RunTimeTicks,k=n.PlaybackPositionTicks,L=n.CommunityRating,F=n.CriticRating,M=fe()(t);return(0,l.jsxs)(s.A,{className:M,children:[O.map((function(e,t){return function(e,t){return(0,l.jsx)(Nr,{className:r,miscInfo:e},t)}(e,t)})),A&&L&&(0,l.jsx)(Br,{className:r,communityRating:L}),x&&N&&(0,l.jsx)(Lr,{className:r}),w&&F&&(0,l.jsx)(Fr,{className:r,criticRating:F}),C&&R===qe&&B&&!D&&(0,l.jsx)(Er,{className:r,runTimeTicks:B,positionTicks:k}),null==j?void 0:j()]})},Ur=function(e){var t=e.itemOverview,r=e.enableContentWrapper,n=e.enableOverview,i=e.children;return r?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.A,{className:"listItem-content",children:i}),n&&t&&(0,l.jsx)(s.A,{className:"listItem-bottomoverview secondary",children:(0,l.jsx)("bdi",{children:t})})]}):(0,l.jsx)(l.Fragment,{children:i})},Hr=function(e){var t=e.isHeading,r=e.isLargeStyle,n=e.className,i=e.children;return t?(0,l.jsx)(ue.A,{className:fe()("primary",n),variant:r?"h1":"h3",children:i}):(0,l.jsx)(s.A,{className:fe()("secondary",n),children:i})},Gr=function(e){var t=e.item,r=e.textLineOpts,n=e.isLargeStyle,i=e.className,a=e.textClassName,o=function(e){var t=e.item,r=e.textLineOpts,n=void 0===r?{}:r,i=n.showTitle,a=n.showProgramDateTime,o=n.showProgramTime,l=n.showChannel,s=n.showParentTitle,u=n.showIndexNumber,c=n.parentTitleWithTitle,d=n.showArtist,m=n.showCurrentProgram,v=n.includeParentInfoInTitle,f=n.includeIndexNumber,p=[],y=function(e){e&&p.push(e)},h=function(e,t,r,n){var i=lt.Ay.getDisplayName(e,{includeParentInfo:r,includeIndexNumber:n});return t&&null!=e.IndexNumber&&(i="".concat(e.IndexNumber,". ").concat(i)),i}(t,u,v,f),g=function(e,t,r,n){var i;return t&&(e.Type===J.u.Season||e.Type===J.u.Episode?i=e.SeriesName:(e.IsSeries||e.EpisodeTitle&&e.Name)&&(i=e.Name)),t&&r&&(n&&i&&(i+=" - "),i=(null!=i?i:"")+n),i}(t,s,c,h);return function(){if(a){var e=N.Ay.toLocaleString(N.Ay.parseISO8601Date(t.StartDate),{weekday:"long",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"});y({title:e})}}(),function(){if(o){var e=N.Ay.getDisplayTime(N.Ay.parseISO8601Date(t.StartDate));y({title:e})}}(),l&&t.ChannelName&&y({title:t.ChannelName}),g&&y({title:g}),h&&!c&&!1!==i&&y({title:h}),function(){if(t.IsFolder&&!1!==d)t.AlbumArtist&&t.Type===J.u.MusicAlbum&&y({title:t.AlbumArtist});else if(d){var e=t.ArtistItems;if(e&&t.Type!==J.u.MusicAlbum){var r=e.map((function(e){return e.Name})).join(", ");y({title:r})}}}(),function(){if(t.Type===J.u.TvChannel&&t.CurrentProgram&&!1!==m){var e=lt.Ay.getDisplayName(t.CurrentProgram,{includeParentInfo:v,includeIndexNumber:f});y({title:e})}}(),{textLines:p}}({item:t,textLineOpts:r}).textLines;return(0,l.jsx)(s.A,{className:i,children:null==o?void 0:o.map((function(e,t){return function(e,t){return(0,l.jsx)(Hr,{isHeading:0===t,isLargeStyle:n,className:a,children:(0,l.jsx)("bdi",{children:e.title})},t)}(e,t)}))})},qr=function(e){var t=e.item,r=e.listOptions,n=void 0===r?{}:r,i=e.action,a=e.isLargeStyle,o=e.clickEntireItem,u=e.enableContentWrapper,c=e.enableOverview,d=e.enableSideMediaInfo,m=e.getMissingIndicator,v=fe()("listItemBody",{itemAction:!o},{"listItemBody-noleftpadding":!1===n.image});return(0,l.jsxs)(s.A,{"data-action":i,className:v,children:[(0,l.jsx)(Gr,{item:t,textClassName:"listItemBodyText",textLineOpts:{showProgramDateTime:n.showProgramDateTime,showProgramTime:n.showProgramTime,showChannel:n.showChannel,showParentTitle:n.showParentTitle,showIndexNumber:n.showIndexNumber,parentTitleWithTitle:n.parentTitleWithTitle,showArtist:n.showArtist,includeParentInfoInTitle:n.includeParentInfoInTitle,includeIndexNumber:n.includeIndexNumber,showCurrentProgram:n.showCurrentProgram},isLargeStyle:a}),!1!==n.showMediaInfo&&!d&&(0,l.jsx)(Vr,{className:"secondary listItemMediaInfo listItemBodyText",infoclass:"mediaInfoText",item:t,showEpisodeTitleInfo:!0,showOriginalAirDateInfo:!0,showCaptionIndicatorInfo:!0,getMissingIndicator:m}),!u&&c&&t.Overview&&(0,l.jsx)(s.A,{className:"secondary listItem-overview listItemBodyText",children:(0,l.jsx)("bdi",{children:t.Overview})})]})},Wr=function(e){var t,r,n=e.item,i=e.listOptions,a=e.action,o=e.isLargeStyle,u=e.clickEntireItem,c=e.downloadWidth,v=(0,d.gf)().api,f=or(n),p=f.getMediaSourceIndicator,y=f.getProgressBar,h=f.getPlayedIndicator,g="channel"===i.imageSource?function(e,t,r){var n,i,a,o,l=r,s=r;return e.ChannelId&&e.ChannelPrimaryImageTag&&(a=e.ChannelPrimaryImageTag,o=e.ChannelId),t&&a&&o?{imgUrl:(0,We.C)(t).getItemImageUrlById(o,m.y.Primary,{fillWidth:l,fillHeight:s,tag:a}),blurhash:null===(i=null===(n=e.ImageBlurHashes)||void 0===n?void 0:n[m.y.Primary])||void 0===i?void 0:i[a]}:{imgUrl:void 0,blurhash:void 0}}(n,v,c):function(e,t,r){var n,i,a,o,l,s=r,u=r,c=m.y.Primary;return(null===(n=e.ImageTags)||void 0===n?void 0:n.Primary)?(o=e.ImageTags.Primary,l=e.Id):e.AlbumId&&e.AlbumPrimaryImageTag?(o=e.AlbumPrimaryImageTag,l=e.AlbumId):e.SeriesId&&e.SeriesPrimaryImageTag?(o=e.SeriesPrimaryImageTag,l=e.SeriesId):e.ParentPrimaryImageTag&&(o=e.ParentPrimaryImageTag,l=e.ParentPrimaryImageItemId),t&&o&&c&&l?{imgUrl:(0,We.C)(t).getItemImageUrlById(l,c,{fillWidth:s,fillHeight:u,tag:o}),blurhash:null===(a=null===(i=e.ImageBlurHashes)||void 0===i?void 0:i[c])||void 0===a?void 0:a[o]}:{imgUrl:void 0,blurhash:void 0}}(n,v,c),I=i.defaultCardImageIcon,b=i.disableIndicators,A=null==g?void 0:g.imgUrl,T=g.blurhash,x=fe()("listItemImage",{"listItemImage-large":o},{"listItemImage-channel":"channel"===i.imageSource},{"listItemImage-large-tv":o&&k.A.tv},{itemAction:!u},((t={})[(0,ze.Qp)(n.Name)]=!A,t)),S=i.imagePlayButton&&!k.A.tv,w=S?z.s.Link:a,P=p(),C=h(),j=y(),O=null===(r=null==n?void 0:n.UserData)||void 0===r?void 0:r.PlaybackPositionTicks;return(0,l.jsxs)(s.A,{"data-action":w,className:x,children:[(0,l.jsx)(hr,{item:n,imgUrl:A,blurhash:null!=T?T:void 0,defaultCardImageIcon:I}),!0!==b&&P,C&&(0,l.jsx)(s.A,{className:"indicators listItemIndicators",children:C}),S&&(0,l.jsx)(rt,{className:"paper-icon-button-light listItemImageButton itemAction",action:Pr(O)?z.s.Resume:z.s.Play,title:Pr(O)?"ButtonResume":"Play"}),j]})},zr=r(54624),Yr=function(e){var t=e.className;return(0,l.jsx)(et.A,{className:t,"data-action":z.s.AddToPlaylist,title:R.Ay.translate("AddToPlaylist"),children:(0,l.jsx)(zr.A,{})})},Kr=r(37745),Qr=function(e){var t=e.className;return(0,l.jsx)(et.A,{className:t,"data-action":z.s.Link,title:R.Ay.translate("ButtonInfo"),children:(0,l.jsx)(Kr.A,{})})},_r=function(e){var t=e.className,r=e.id,n=e.title,i=e.icon;return(0,l.jsx)(et.A,{className:t,"data-action":z.s.Custom,"data-customaction":r,title:n,children:i})},Xr=function(e){var t,r=e.item,n=void 0===r?{}:r,i=e.listOptions,a=null!==(t=n.UserData)&&void 0!==t?t:{},o=a.IsFavorite,u=a.Played;return(0,l.jsxs)(s.A,{className:"listViewUserDataButtons",children:[i.addToListButton&&(0,l.jsx)(Yr,{className:"paper-icon-button-light listItemButton itemAction"}),i.infoButton&&(0,l.jsx)(Qr,{className:"paper-icon-button-light listItemButton itemAction"}),i.rightButtons&&function(){var e;return null===(e=i.rightButtons)||void 0===e?void 0:e.map((function(e,t){return(0,l.jsx)(_r,{className:"listItemButton itemAction",id:e.id,title:e.title,icon:e.icon},t)}))}(),!1!==i.enableUserDataButtons&&(0,l.jsxs)(l.Fragment,{children:[lt.Ay.canMarkPlayed(n)&&!1!==i.enablePlayedButton&&(0,l.jsx)(dt,{className:"listItemButton",isPlayed:u,itemId:n.Id,itemType:n.Type}),lt.Ay.canRate(n)&&!1!==i.enableRatingButton&&(0,l.jsx)(pt,{className:"listItemButton",isFavorite:o,itemId:n.Id})]}),!1!==i.moreButton&&(0,l.jsx)(it,{className:"paper-icon-button-light listItemButton itemAction"})]})},Jr=function(e){var t,r=e.item,n=e.listOptions,i=e.enableContentWrapper,a=e.enableOverview,o=e.enableSideMediaInfo,u=e.clickEntireItem,c=e.action,d=e.isLargeStyle,m=e.downloadWidth,v=or(r);return(0,l.jsxs)(Ur,{itemOverview:r.Overview,enableContentWrapper:i,enableOverview:a,children:[!u&&n.dragHandle&&(0,l.jsx)(jr.A,{className:"listViewDragHandle listItemIcon listItemIcon-transparent"}),!1!==n.image&&(0,l.jsx)(Wr,{item:r,listOptions:n,action:c,isLargeStyle:d,clickEntireItem:u,downloadWidth:m}),n.showIndexNumberLeft&&(0,l.jsx)(s.A,{className:"listItem-indexnumberleft",children:null!==(t=r.IndexNumber)&&void 0!==t?t:(0,l.jsx)("span",{children:""})}),(0,l.jsx)(qr,{item:r,listOptions:n,action:c,enableContentWrapper:i,enableOverview:a,enableSideMediaInfo:o,getMissingIndicator:v.getMissingIndicator}),!1!==n.showMediaInfo&&o&&(0,l.jsx)(Vr,{className:"secondary listItemMediaInfo",infoclass:"mediaInfoText",item:r,showRuntimeInfo:!0,showOfficialRatingInfo:!0,showOriginalAirDateInfo:!0,showStarRatingInfo:!0,showCaptionIndicatorInfo:!0,getMissingIndicator:v.getMissingIndicator}),n.recordButton&&("Timer"===r.Type||r.Type===W.D.Program)&&v.getTimerIndicator("listItemAside"),!u&&(0,l.jsx)(Xr,{item:r,listOptions:n})]})},Zr=r(63703),$r=function(){return $r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$r.apply(this,arguments)},en=function(e){var t=e.index,r=e.action,n=e.title,i=e.className,a=e.dataAttributes,o=e.children;return k.A.tv?(0,l.jsx)(Zr.A,$r({"data-index":t,className:fe()(i,"itemAction listItem-button listItem-focusscale"),"data-action":r,"aria-label":n||""},a,{children:o})):(0,l.jsx)(s.A,$r({"data-index":t,className:i},a,{children:o}))},tn=function(){return tn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},tn.apply(this,arguments)},rn=function(e){var t=e.index,r=e.item,n=e.listOptions,i=function(e){var t,r,n,i=e.item,a=e.listOptions,o=null!==(t=a.action)&&void 0!==t?t:z.s.Link,l="large"===a.imageSize,s=a.enableOverview,u=!!k.A.tv,c=null===(r=a.enableSideMediaInfo)||void 0===r||r,d=a.enableOverview&&!k.A.tv,m=l?500:80,v=q({action:o,itemServerId:i.ServerId,itemId:i.Id,collectionId:a.collectionId,playlistId:a.playlistId,itemChannelId:i.ChannelId,itemType:i.Type,itemMediaType:i.MediaType,itemCollectionType:i.CollectionType,itemIsFolder:i.IsFolder,itemPlaylistItemId:i.PlaylistItemId}),f=fe()("listItem",{"listItem-border":null!==(n=a.border)&&void 0!==n?n:!1!==a.highlight&&!k.A.tv},{"itemAction listItem-button":u},{"listItem-focusscale":k.A.tv},{"listItem-largeImage":l},{"listItem-withContentWrapper":d});return{getListdWrapperProps:function(){return{className:f,title:i.Name,action:o,dataAttributes:v}},getListContentProps:function(){return{item:i,listOptions:a,enableContentWrapper:d,enableOverview:s,enableSideMediaInfo:c,clickEntireItem:u,action:o,isLargeStyle:l,downloadWidth:m}}}}({item:r,listOptions:void 0===n?{}:n}),a=i.getListdWrapperProps,o=i.getListContentProps,s=a(),u=o();return(0,l.jsx)(en,tn({index:t},s,{children:(0,l.jsx)(Jr,tn({},u))}),t)},nn=function(e){var t=e.items,r=void 0===t?[]:t,n=e.listOptions,i=void 0===n?{}:n,a=(0,wr.A)(r,(function(e){return i.showIndex?function(e,t){var r;if("disc"===t.index)return null==e.ParentIndexNumber?"":R.Ay.translate("ValueDiscNumber",e.ParentIndexNumber);var n=(null!==(r=t.sortBy)&&void 0!==r?r:"").toLowerCase();return n.startsWith("sortname")?function(e){var t,r;if(e.Type===W.D.Episode)return"";var n=(null!==(r=null!==(t=e.SortName)&&void 0!==t?t:e.Name)&&void 0!==r?r:"?")[0].toUpperCase(),i=n.charCodeAt(0);return i<65||i>90?"#":n.toUpperCase()}(e):n.startsWith("officialrating")?function(e){var t;return null!==(t=e.OfficialRating)&&void 0!==t?t:R.Ay.translate("Unrated")}(e):n.startsWith("communityrating")?function(e){return null==e.CommunityRating?R.Ay.translate("Unrated"):String(Math.floor(e.CommunityRating))}(e):n.startsWith("criticrating")?function(e){return null==e.CriticRating?R.Ay.translate("Unrated"):String(Math.floor(e.CriticRating))}(e):n.startsWith("albumartist")?function(e){if(!e.AlbumArtist)return"";var t=e.AlbumArtist[0].toUpperCase(),r=t.charCodeAt(0);return r<65||r>90?"#":t.toUpperCase()}(e):""}(e,i):""}));return(0,l.jsx)(l.Fragment,{children:Object.entries(a).map((function(e,t){var r=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(e,2),n=r[0],a=r[1];return(0,l.jsxs)(s.A,{children:[n&&(0,l.jsx)(Cr,{index:t,children:n}),a.map((function(e){return function(e,t){return(0,l.jsx)(rn,{index:t,item:e,listOptions:i},"".concat(e.Id,"-").concat(t))}(e,t)}))]},t)}))})},an=function(){return an=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},an.apply(this,arguments)},on=function(e){var t=e.title,r=e.className,n=e.itemsLength,i=void 0===n?0:n,a=e.url,o=fe()("sectionTitleContainer sectionTitleContainer-cards","padded-left",r);return(0,l.jsx)(s.A,{className:o,children:a&&i>5?(0,l.jsxs)(de.A,{className:"clearLink button-flat sectionTitleTextButton",underline:"none",href:a,children:[(0,l.jsx)(ue.A,{className:"sectionTitle sectionTitle-cards",variant:"h2",children:t}),(0,l.jsx)(me.A,{sx:{pt:"5px"}})]}):(0,l.jsx)(ue.A,{className:"sectionTitle sectionTitle-cards",variant:"h2",children:t})})},ln=function(e){var t=e.className,r=e.sectionHeaderProps,n=e.scrollerProps,i=e.itemsContainerProps,a=e.isListMode,o=void 0!==a&&a,c=e.isScrollerMode,d=void 0===c||c,m=e.noPadding,v=void 0!==m&&m,f=e.items,p=void 0===f?[]:f,y=e.cardOptions,h=void 0===y?{}:y,g=e.listOptions,I=void 0===g?{}:g,b=e.children,A=fe()("verticalSection",t),T=(0,l.jsx)(Re,an({className:fe()({scrollSlider:d},null==i?void 0:i.className)},i,{children:u.isValidElement(b)?b:o&&!d?(0,l.jsx)(nn,{items:p,listOptions:I}):(0,l.jsx)(Sr,{items:p,cardOptions:h})}));return(0,l.jsxs)(s.A,{className:A,children:[(null==r?void 0:r.title)&&(0,l.jsx)(on,an({className:fe()({"no-padding":v},null==r?void 0:r.className),itemsLength:p.length},r)),d&&!o?(0,l.jsx)(Ue,an({className:fe()({"no-padding":v},null==n?void 0:n.className)},n,{children:T})):T]})},sn=function(){return sn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},sn.apply(this,arguments)},un=function(e){var t=e.parentId,r=e.sectionType,n=e.isMovieRecommendationEnabled,i=void 0!==n&&n,a=(0,d.gf)().__legacyApiClient__,o=function(e,t){var r,n=(0,d.gf)(),i=_();return(0,j.I)({queryKey:["SuggestionSectionWithItems",{suggestionSectionType:t}],queryFn:function(r){var a=r.signal;return oe(n,e,i,t,{signal:a})},enabled:!!n.api&&!!(null===(r=n.user)||void 0===r?void 0:r.Id)&&!!e})}(t,r),s=o.isLoading,u=o.data,m=function(e,t){var r,n=(0,d.gf)();return(0,j.I)({queryKey:["MovieRecommendations",e,t],queryFn:function(e){var r=e.signal;return function(e,t,r){return $(void 0,void 0,void 0,(function(){var n,i;return ee(this,(function(a){switch(a.label){case 0:return n=e.api,i=e.user,n&&(null==i?void 0:i.Id)?[4,(0,A.Y)(n).getMovieRecommendations({userId:i.Id,fields:[v.z.PrimaryImageAspectRatio,v.z.MediaSourceCount],parentId:null!=t?t:void 0,categoryLimit:6,itemLimit:20},{signal:null==r?void 0:r.signal})]:[3,2];case 1:return[2,a.sent().data];case 2:return[2]}}))}))}(n,t,{signal:r})},enabled:!!n.api&&!!(null===(r=n.user)||void 0===r?void 0:r.Id)&&e})}(i,t),f=m.isLoading,p=m.data;if(s||f)return(0,l.jsx)(se.A,{});if(!(null==u?void 0:u.length)&&!(null==p?void 0:p.length))return(0,l.jsx)(ce,{});var y=function(e){return le.appRouter.getRouteUrl("list",{serverId:window.ApiClient.serverId(),itemTypes:e.itemTypes,parentId:t})},h=function(e){var t="";switch(e.RecommendationType){case c.A.SimilarToRecentlyPlayed:t=R.Ay.translate("RecommendationBecauseYouWatched",e.BaselineItemName);break;case c.A.SimilarToLikedItem:t=R.Ay.translate("RecommendationBecauseYouLike",e.BaselineItemName);break;case c.A.HasDirectorFromRecentlyPlayed:case c.A.HasLikedDirector:t=R.Ay.translate("RecommendationDirectedBy",e.BaselineItemName);break;case c.A.HasActorFromRecentlyPlayed:case c.A.HasLikedActor:t=R.Ay.translate("RecommendationStarring",e.BaselineItemName)}return t};return(0,l.jsxs)(l.Fragment,{children:[null==u?void 0:u.map((function(e){var t=e.section,r=e.items;return(0,l.jsx)(ln,{sectionHeaderProps:{title:R.Ay.translate(t.name),url:y(t)},itemsContainerProps:{queryKey:["SuggestionSectionWithItems"]},items:r,cardOptions:sn(sn({},t.cardOptions),{queryKey:["SuggestionSectionWithItems"],showTitle:!0,centerText:!0,cardLayout:!1,overlayText:!1,serverId:null==a?void 0:a.serverId()})},t.type)})),null==p?void 0:p.map((function(e,t){return(0,l.jsx)(ln,{sectionHeaderProps:{title:h(e)},itemsContainerProps:{queryKey:["MovieRecommendations"]},items:e.Items,cardOptions:{queryKey:["MovieRecommendations"],shape:K.G8.PortraitOverflow,showYear:!0,scalable:!0,overlayPlayButton:!0,showTitle:!0,centerText:!0,cardLayout:!1,serverId:null==a?void 0:a.serverId()}},"".concat(e.CategoryId,"-").concat(t))}))]})},cn=function(e){var t=e.parentId,r=(0,d.gf)().__legacyApiClient__,n=ne(t),i=n.isLoading,a=n.data;return i?(0,l.jsx)(se.A,{}):(null==a?void 0:a.length)?null==a?void 0:a.map((function(e){return(0,l.jsx)(ln,{sectionHeaderProps:{title:e.name},itemsContainerProps:{queryKey:["GroupsUpcomingEpisodes"]},items:e.items,cardOptions:{shape:K.G8.BackdropOverflow,showLocationTypeIndicator:!1,showParentTitle:!0,preferThumb:!0,lazy:!0,showDetailsMenu:!0,missingIndicator:!1,cardLayout:!1,queryKey:["GroupsUpcomingEpisodes"],serverId:null==r?void 0:r.serverId()}},e.name)})):(0,l.jsx)(ce,{message:"MessagePleaseEnsureInternetMetadata"})},dn=r(65369),mn=function(e){var t,r=e.parentId,n=e.collectionType,i=e.itemType,a=e.genre,o=(0,d.gf)().__legacyApiClient__,s=function(e){var t,r,n=(0,d.gf)(),i=Boolean(null===(t=e.sortBy)||void 0===t?void 0:t.includes(p.B.Random));return(0,j.I)({queryKey:["Items",Z({},e)],queryFn:function(t){var r=t.signal;return function(e,t,r){return $(void 0,void 0,void 0,(function(){var n,i;return ee(this,(function(a){switch(a.label){case 0:return n=e.api,i=e.user,n&&(null==i?void 0:i.Id)?[4,(0,b.n)(n).getItems(Z({userId:i.Id},t),{signal:null==r?void 0:r.signal})]:[3,2];case 1:return[2,a.sent().data];case 2:return[2]}}))}))}(n,e,{signal:r})},gcTime:i?1/0:void 0,refetchOnMount:!i&&void 0,refetchOnWindowFocus:!i&&void 0,enabled:!!n.api&&!!(null===(r=n.user)||void 0===r?void 0:r.Id)})}({sortBy:[p.B.Random],sortOrder:[y.x.Ascending],includeItemTypes:i,recursive:!0,fields:[v.z.PrimaryImageAspectRatio,v.z.MediaSourceCount],imageTypeLimit:1,enableImageTypes:[m.y.Primary],limit:25,genreIds:a.Id?[a.Id]:void 0,enableTotalRecordCount:!1,parentId:null!=r?r:void 0}),u=s.isLoading,c=s.data;return u?(0,l.jsx)(se.A,{}):(0,l.jsx)(ln,{sectionHeaderProps:{title:a.Name||"",url:(t=a,le.appRouter.getRouteUrl(t,{context:n,parentId:r}))},items:null==c?void 0:c.Items,cardOptions:{scalable:!0,overlayPlayButton:!0,showTitle:!0,centerText:!0,cardLayout:!1,shape:n===dn.X.Music?K.G8.SquareOverflow:K.G8.PortraitOverflow,showParentTitle:n===dn.X.Music,showYear:n!==dn.X.Music,serverId:null==o?void 0:o.serverId()}},a.Name)},vn=function(e){var t,r=e.parentId,n=e.collectionType,i=e.itemType,a=function(e,t){var r,n=(0,d.gf)();return(0,j.I)({queryKey:["Genres",t],queryFn:function(r){var i=r.signal;return function(e,t,r,n){return $(void 0,void 0,void 0,(function(){var i,a;return ee(this,(function(o){switch(o.label){case 0:return i=e.api,a=e.user,i&&(null==a?void 0:a.Id)?[4,(0,I.$)(i).getGenres({userId:a.Id,sortBy:[p.B.SortName],sortOrder:[y.x.Ascending],includeItemTypes:t,enableTotalRecordCount:!1,parentId:null!=r?r:void 0},{signal:null==n?void 0:n.signal})]:[3,2];case 1:return[2,o.sent().data];case 2:return[2]}}))}))}(n,e,t,{signal:i})},enabled:!!n.api&&!!(null===(r=n.user)||void 0===r?void 0:r.Id)&&!!t})}(i,r),o=a.isLoading,s=a.data;return o?(0,l.jsx)(se.A,{}):(null===(t=null==s?void 0:s.Items)||void 0===t?void 0:t.length)?s.Items.map((function(e){return(0,l.jsx)(mn,{collectionType:n,parentId:r,itemType:i,genre:e},e.Id)})):(0,l.jsx)(ce,{message:"MessageNoGenresAvailable"})},fn=function(e){var t=e.parentId,r=e.collectionType,n=e.itemType;return(0,l.jsx)(vn,{parentId:t,collectionType:r,itemType:n})},pn=r(25295),yn=r(66911),hn=r(75427),gn=r(91884),In=function(){return In=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},In.apply(this,arguments)},bn=function(e){var t=e.className,r=e.libraryViewSettings,n=e.setLibraryViewSettings,i=(0,u.useCallback)((function(e,t){n((function(e){return In(In({},e),{StartIndex:0,Alphabet:t})}))}),[n]),a=fe()("alphaPicker",t,"alphaPicker-fixed-right"),o=fe()("paper-icon-button-light","alphaPickerButton");return(0,l.jsx)(s.A,{className:a,sx:{position:"fixed",bottom:"1.5em",fontSize:{xs:"80%",lg:"88%"}},children:(0,l.jsx)(gn.A,{orientation:"vertical",value:r.Alphabet,exclusive:!0,color:"primary",size:"small",onChange:i,children:["#","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"].map((function(e){return(0,l.jsx)(hn.A,{value:e,className:o,children:e},e)}))})})},An=r(76620),Tn=r(13184),xn=r(4579),Sn=r(98003),wn=r(13584),Pn=r(71847),Cn=r(56374),jn=r(70531),On=r(85491),Dn=r(96441),Nn=r(70564),Rn=function(){return Rn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Rn.apply(this,arguments)},Bn=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},kn=[{label:"Subtitles",value:n.HasSubtitles},{label:"Trailers",value:n.HasTrailer},{label:"Extras",value:n.HasSpecialFeature},{label:"ThemeSongs",value:n.HasThemeSong},{label:"ThemeVideos",value:n.HasThemeVideo}],Ln=function(e){var t,r=e.libraryViewSettings,n=e.setLibraryViewSettings,i=(0,u.useCallback)((function(e){var t,i;e.preventDefault();var a=e.target.value,o=null!==(i=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.Features)&&void 0!==i?i:[],l=o.includes(a)?o.filter((function(e){return e!==a})):Bn(Bn([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(o),!1),[a],!1);n((function(e){return Rn(Rn({},e),{StartIndex:0,Filters:Rn(Rn({},e.Filters),{Features:l.length?l:void 0})})}))}),[n,null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.Features]);return(0,l.jsx)(On.A,{children:kn.map((function(e){var t,n;return(0,l.jsx)(Dn.A,{control:(0,l.jsx)(Nn.A,{checked:!!(null===(n=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.Features)||void 0===n?void 0:n.includes(e.value)),onChange:i,value:e.value}),label:R.Ay.translate(e.label)},e.value)}))})},Fn=function(){return Fn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Fn.apply(this,arguments)},Mn=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},En=function(e){var t,r=e.genresOptions,n=e.libraryViewSettings,i=e.setLibraryViewSettings,a=(0,u.useCallback)((function(e){var t,r;e.preventDefault();var a=e.target.value,o=null!==(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.Genres)&&void 0!==r?r:[],l=o.includes(a)?o.filter((function(e){return e!==a})):Mn(Mn([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(o),!1),[a],!1);i((function(e){return Fn(Fn({},e),{StartIndex:0,Filters:Fn(Fn({},e.Filters),{Genres:l.length?l:void 0})})}))}),[i,null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.Genres]);return(0,l.jsx)(On.A,{children:r.map((function(e){var t,r;return(0,l.jsx)(Dn.A,{control:(0,l.jsx)(Nn.A,{checked:!!(null===(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.Genres)||void 0===r?void 0:r.includes(String(e))),onChange:a,value:String(e)}),label:e},e)}))})},Vn=function(){return Vn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Vn.apply(this,arguments)},Un=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},Hn=function(e){var t,r=e.OfficialRatingsOptions,n=e.libraryViewSettings,i=e.setLibraryViewSettings,a=(0,u.useCallback)((function(e){var t,r;e.preventDefault();var a=e.target.value,o=null!==(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.OfficialRatings)&&void 0!==r?r:[],l=o.includes(a)?o.filter((function(e){return e!==a})):Un(Un([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(o),!1),[a],!1);i((function(e){return Vn(Vn({},e),{StartIndex:0,Filters:Vn(Vn({},e.Filters),{OfficialRatings:l.length?l:void 0})})}))}),[i,null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.OfficialRatings]);return(0,l.jsx)(On.A,{children:r.map((function(e){var t,r;return(0,l.jsx)(Dn.A,{control:(0,l.jsx)(Nn.A,{checked:!!(null===(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.OfficialRatings)||void 0===r?void 0:r.includes(String(e))),onChange:a,value:String(e)}),label:e},e)}))})},Gn=function(){return Gn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Gn.apply(this,arguments)},qn=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},Wn=[{label:"OptionSpecialEpisode",value:i.ParentIndexNumber},{label:"OptionMissingEpisode",value:i.IsMissing},{label:"OptionUnairedEpisode",value:i.IsUnaired}],zn=function(e){var t,r=e.libraryViewSettings,n=e.setLibraryViewSettings,i=(0,u.useCallback)((function(e){var t,i;e.preventDefault();var a=e.target.value,o=null!==(i=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.EpisodeFilter)&&void 0!==i?i:[],l=o.includes(a)?o.filter((function(e){return e!==a})):qn(qn([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(o),!1),[a],!1);n((function(e){return Gn(Gn({},e),{StartIndex:0,Filters:Gn(Gn({},e.Filters),{EpisodeFilter:l.length?l:void 0})})}))}),[n,null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.EpisodeFilter]);return(0,l.jsx)(On.A,{children:Wn.map((function(e){var t,n;return(0,l.jsx)(Dn.A,{control:(0,l.jsx)(Nn.A,{checked:!!(null===(n=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.EpisodeFilter)||void 0===n?void 0:n.includes(e.value)),onChange:i,value:e.value}),label:R.Ay.translate(e.label)},e.value)}))})},Yn=function(){return Yn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Yn.apply(this,arguments)},Kn=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},Qn=[{label:"Continuing",value:tr.m.Continuing},{label:"Ended",value:tr.m.Ended},{label:"Unreleased",value:tr.m.Unreleased}],_n=function(e){var t,r=e.libraryViewSettings,n=e.setLibraryViewSettings,i=(0,u.useCallback)((function(e){var t,i;e.preventDefault();var a=e.target.value,o=null!==(i=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.SeriesStatus)&&void 0!==i?i:[],l=o.includes(a)?o.filter((function(e){return e!==a})):Kn(Kn([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(o),!1),[a],!1);n((function(e){return Yn(Yn({},e),{StartIndex:0,Filters:Yn(Yn({},e.Filters),{SeriesStatus:l.length?l:void 0})})}))}),[n,null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.SeriesStatus]);return(0,l.jsx)(On.A,{children:Qn.map((function(e){var t,n;return(0,l.jsx)(Dn.A,{control:(0,l.jsx)(Nn.A,{checked:!!(null===(n=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.SeriesStatus)||void 0===n?void 0:n.includes(e.value)),onChange:i,value:e.value}),label:R.Ay.translate(e.label)},e.value)}))})},Xn=function(){return Xn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Xn.apply(this,arguments)},Jn=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},Zn=[{label:"Played",value:f.s.IsPlayed},{label:"Unplayed",value:f.s.IsUnplayed},{label:"Favorite",value:f.s.IsFavorite},{label:"ContinueWatching",value:f.s.IsResumable}],$n=function(e){var t,r=e.viewType,n=e.libraryViewSettings,i=e.setLibraryViewSettings,a=(0,u.useCallback)((function(e){var t,r;e.preventDefault();var a=e.target.value,o=null!==(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.Status)&&void 0!==r?r:[],l=o.includes(a)?o.filter((function(e){return e!==a})):Jn(Jn([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(o),!1),[a],!1);i((function(e){return Xn(Xn({},e),{StartIndex:0,Filters:Xn(Xn({},e.Filters),{Status:l.length?l:void 0})})}))}),[i,null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.Status]);return(0,l.jsx)(On.A,{children:Zn.filter((function(e){return(t=[f.s.IsFavorite],r!==L.D.Albums&&r!==L.D.Artists&&r!==L.D.AlbumArtists&&r!==L.D.Songs&&r!==L.D.Channels&&r!==L.D.PhotoAlbums&&r!==L.D.Photos&&(t.push(f.s.IsUnplayed),t.push(f.s.IsPlayed),t.push(f.s.IsResumable)),t).includes(e.value);var t})).map((function(e){var t,r;return(0,l.jsx)(Dn.A,{control:(0,l.jsx)(Nn.A,{checked:!!(null===(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.Status)||void 0===r?void 0:r.includes(e.value)),onChange:a,value:e.value}),label:R.Ay.translate(e.label)},e.value)}))})},ei=function(){return ei=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ei.apply(this,arguments)},ti=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},ri=function(e){var t,r=e.studiosOptions,n=e.libraryViewSettings,i=e.setLibraryViewSettings,a=(0,u.useCallback)((function(e){var t,r;e.preventDefault();var a=e.target.value,o=null!==(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.StudioIds)&&void 0!==r?r:[],l=o.includes(a)?o.filter((function(e){return e!==a})):ti(ti([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(o),!1),[a],!1);i((function(e){return ei(ei({},e),{StartIndex:0,Filters:ei(ei({},e.Filters),{StudioIds:l.length?l:void 0})})}))}),[i,null===(t=n.Filters)||void 0===t?void 0:t.StudioIds]);return(0,l.jsx)(On.A,{children:null==r?void 0:r.map((function(e){var t,r;return(0,l.jsx)(Dn.A,{control:(0,l.jsx)(Nn.A,{checked:!!(null===(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.StudioIds)||void 0===r?void 0:r.includes(String(e.Id))),onChange:a,value:String(e.Id)}),label:e.Name},e.Id)}))})},ni=function(){return ni=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ni.apply(this,arguments)},ii=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},ai=function(e){var t,r=e.tagsOptions,n=e.libraryViewSettings,i=e.setLibraryViewSettings,a=(0,u.useCallback)((function(e){var t,r;e.preventDefault();var a=e.target.value,o=null!==(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.Tags)&&void 0!==r?r:[],l=o.includes(a)?o.filter((function(e){return e!==a})):ii(ii([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(o),!1),[a],!1);i((function(e){return ni(ni({},e),{StartIndex:0,Filters:ni(ni({},e.Filters),{Tags:l.length?l:void 0})})}))}),[i,null===(t=n.Filters)||void 0===t?void 0:t.Tags]);return(0,l.jsx)(On.A,{children:r.map((function(e){var t,r;return(0,l.jsx)(Dn.A,{control:(0,l.jsx)(Nn.A,{checked:!!(null===(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.Tags)||void 0===r?void 0:r.includes(String(e))),onChange:a,value:String(e)}),label:e},e)}))})},oi=r(35310),li=function(){return li=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},li.apply(this,arguments)},si=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o},ui=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},ci=[{label:"SD",value:a.IsSD},{label:"HD",value:a.IsHD},{label:"4K",value:a.Is4K},{label:"3D",value:a.Is3D}],di=[{label:"DVD",value:oi.M.Dvd},{label:"Blu-ray",value:oi.M.BluRay},{label:"ISO",value:oi.M.Iso}],mi=function(e){var t,r,n=e.libraryViewSettings,i=e.setLibraryViewSettings,a=(0,u.useCallback)((function(e){var t,r;e.preventDefault();var a=e.target.value,o=null!==(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.VideoBasicFilter)&&void 0!==r?r:[],l=o.includes(a)?o.filter((function(e){return e!==a})):ui(ui([],si(o),!1),[a],!1);i((function(e){return li(li({},e),{Filters:li(li({},e.Filters),{VideoBasicFilter:l.length?l:void 0})})}))}),[i,null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.VideoBasicFilter]),o=(0,u.useCallback)((function(e){var t,r;e.preventDefault();var a=e.target.value,o=null!==(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.VideoTypes)&&void 0!==r?r:[],l=o.includes(a)?o.filter((function(e){return e!==a})):ui(ui([],si(o),!1),[a],!1);i((function(e){return li(li({},e),{StartIndex:0,Filters:li(li({},e.Filters),{VideoTypes:l.length?l:void 0})})}))}),[i,null===(r=null==n?void 0:n.Filters)||void 0===r?void 0:r.VideoTypes]);return(0,l.jsxs)(On.A,{children:[ci.map((function(e){var t,r;return(0,l.jsx)(Dn.A,{control:(0,l.jsx)(Nn.A,{checked:!!(null===(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.VideoBasicFilter)||void 0===r?void 0:r.includes(e.value)),onChange:a,value:e.value}),label:e.label},e.value)})),di.map((function(e){var t,r;return(0,l.jsx)(Dn.A,{control:(0,l.jsx)(Nn.A,{checked:!!(null===(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.VideoTypes)||void 0===r?void 0:r.includes(e.value)),onChange:o,value:e.value}),label:e.label},e.value)}))]})},vi=function(){return vi=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},vi.apply(this,arguments)},fi=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},pi=function(e){var t,r=e.yearsOptions,n=e.libraryViewSettings,i=e.setLibraryViewSettings,a=(0,u.useCallback)((function(e){var t,r;e.preventDefault();var a=Number(e.target.value),o=null!==(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.Years)&&void 0!==r?r:[],l=o.includes(a)?o.filter((function(e){return e!==a})):fi(fi([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(o),!1),[a],!1);i((function(e){return vi(vi({},e),{StartIndex:0,Filters:vi(vi({},e.Filters),{Years:l.length?l:void 0})})}))}),[i,null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.Years]);return(0,l.jsx)(On.A,{children:r.map((function(e){var t,r;return(0,l.jsx)(Dn.A,{control:(0,l.jsx)(Nn.A,{checked:!!(null===(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.Years)||void 0===r?void 0:r.includes(Number(e))),onChange:a,value:String(e)}),label:e},e)}))})},yi=function(){return yi=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},yi.apply(this,arguments)},hi=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o},gi=(0,jn.Ay)((function(e){return(0,l.jsx)(Sn.A,yi({disableGutters:!0,elevation:0,square:!0},e,{slotProps:{transition:{unmountOnExit:!0}}}))}))((function(e){var t=e.theme;return{border:"1px solid ".concat(t.palette.divider),"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}}})),Ii=(0,jn.Ay)((function(e){return(0,l.jsx)(Pn.A,yi({expandIcon:(0,l.jsx)(An.A,{sx:{fontSize:"0.9rem"}})},e))}))((function(e){var t=e.theme;return{backgroundColor:"dark"===t.palette.mode?"rgba(255, 255, 255, .05)":"rgba(0, 0, 0, .03)","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:t.spacing(1)}}})),bi=(0,jn.Ay)(wn.A)((function(e){return{padding:e.theme.spacing(2),borderTop:"1px solid rgba(0, 0, 0, .125)"}})),Ai=function(e){var t,r,n,i=e.parentId,a=e.itemType,o=e.viewType,s=e.hasFilters,c=e.libraryViewSettings,f=e.setLibraryViewSettings,p=hi(u.useState(null),2),y=p[0],h=p[1],I=hi(u.useState(!1),2),b=I[0],A=I[1],x=Boolean(y),S=x?"filter-popover":void 0,w=function(e,t){var r,n=(0,d.gf)(),i="livetv"===e;return(0,j.I)({queryKey:["QueryFiltersLegacy",e,t],queryFn:function(r){var i=r.signal;return function(e,t,r,n){return $(void 0,void 0,void 0,(function(){var i,a;return ee(this,(function(o){switch(o.label){case 0:return i=e.api,a=e.user,i&&(null==a?void 0:a.Id)?[4,(0,g.f)(i).getQueryFiltersLegacy({userId:a.Id,parentId:null!=t?t:void 0,includeItemTypes:r},{signal:null==n?void 0:n.signal})]:[3,2];case 1:return[2,o.sent().data];case 2:return[2]}}))}))}(n,e,t,{signal:i})},enabled:!(!n.api||!(null===(r=n.user)||void 0===r?void 0:r.Id)||!e||i)})}(i,a).data,P=function(e,t){var r,n=(0,d.gf)(),i="livetv"===e;return(0,j.I)({queryKey:["Studios",e,t],queryFn:function(r){var i=r.signal;return function(e,t,r,n){return $(void 0,void 0,void 0,(function(){var i,a;return ee(this,(function(o){switch(o.label){case 0:return i=e.api,a=e.user,i&&(null==a?void 0:a.Id)?[4,(0,T.G)(i).getStudios({userId:a.Id,includeItemTypes:r,fields:[v.z.DateCreated,v.z.PrimaryImageAspectRatio],enableImageTypes:[m.y.Thumb],parentId:null!=t?t:void 0,enableTotalRecordCount:!1},{signal:null==n?void 0:n.signal})]:[3,2];case 1:return[2,o.sent().data.Items];case 2:return[2]}}))}))}(n,e,t,{signal:i})},enabled:!(!n.api||!(null===(r=n.user)||void 0===r?void 0:r.Id)||!e||i)})}(i,a).data,C=function(e){return function(t,r){A(!!r&&e)}},O=(0,u.useCallback)((function(e){h(e.currentTarget)}),[]),D=(0,u.useCallback)((function(){h(null)}),[]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Zr.A,{title:R.Ay.translate("Filter"),"aria-describedby":S,onClick:O,children:(0,l.jsx)(Cn.A,{color:"info",variant:"dot",invisible:!s,children:(0,l.jsx)(Tn.A,{})})}),(0,l.jsxs)(xn.Ay,{id:S,open:x,anchorEl:y,onClose:D,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},slotProps:{paper:{style:{maxHeight:"50%",width:250}}},children:[(0,l.jsxs)(gi,{expanded:"filtersStatus"===b,onChange:C("filtersStatus"),children:[(0,l.jsx)(Ii,{"aria-controls":"filtersStatus-content",id:"filtersStatus-header",children:(0,l.jsx)(ue.A,{children:R.Ay.translate("Filters")})}),(0,l.jsx)(bi,{children:(0,l.jsx)($n,{viewType:o,libraryViewSettings:c,setLibraryViewSettings:f})})]}),o===L.D.Series&&(0,l.jsxs)(gi,{expanded:"filtersSeriesStatus"===b,onChange:C("filtersSeriesStatus"),children:[(0,l.jsx)(Ii,{"aria-controls":"filtersSeriesStatus-content",id:"filtersSeriesStatus-header",children:(0,l.jsx)(ue.A,{children:R.Ay.translate("HeaderSeriesStatus")})}),(0,l.jsx)(bi,{children:(0,l.jsx)(_n,{libraryViewSettings:c,setLibraryViewSettings:f})})]}),o===L.D.Episodes&&(0,l.jsxs)(gi,{expanded:"filtersEpisodesStatus"===b,onChange:C("filtersEpisodesStatus"),children:[(0,l.jsx)(Ii,{"aria-controls":"filtersEpisodesStatus-content",id:"filtersEpisodesStatus-header",children:(0,l.jsx)(ue.A,{children:R.Ay.translate("HeaderEpisodesStatus")})}),(0,l.jsx)(bi,{children:(0,l.jsx)(zn,{libraryViewSettings:c,setLibraryViewSettings:f})})]}),(o===L.D.Movies||o===L.D.Series||o===L.D.Episodes)&&(0,l.jsxs)(gi,{expanded:"filtersFeatures"===b,onChange:C("filtersFeatures"),children:[(0,l.jsx)(Ii,{"aria-controls":"filtersFeatures-content",id:"filtersFeatures-header",children:(0,l.jsx)(ue.A,{children:R.Ay.translate("Features")})}),(0,l.jsx)(bi,{children:(0,l.jsx)(Ln,{libraryViewSettings:c,setLibraryViewSettings:f})})]}),(o===L.D.Movies||o===L.D.Episodes)&&(0,l.jsxs)(gi,{expanded:"filtersVideoTypes"===b,onChange:C("filtersVideoTypes"),children:[(0,l.jsx)(Ii,{"aria-controls":"filtersVideoTypes-content",id:"filtersVideoTypes-header",children:(0,l.jsx)(ue.A,{children:R.Ay.translate("HeaderVideoType")})}),(0,l.jsx)(bi,{children:(0,l.jsx)(mi,{libraryViewSettings:c,setLibraryViewSettings:f})})]}),(o===L.D.Movies||o===L.D.Series||o===L.D.Albums||o===L.D.AlbumArtists||o===L.D.Artists||o===L.D.Songs||o===L.D.Episodes)&&(0,l.jsxs)(l.Fragment,{children:[(null==w?void 0:w.Genres)&&(null===(t=null==w?void 0:w.Genres)||void 0===t?void 0:t.length)>0&&(0,l.jsxs)(gi,{expanded:"filtersGenres"===b,onChange:C("filtersGenres"),children:[(0,l.jsx)(Ii,{"aria-controls":"filtersGenres-content",id:"filtersGenres-header",children:(0,l.jsx)(ue.A,{children:R.Ay.translate("Genres")})}),(0,l.jsx)(bi,{children:(0,l.jsx)(En,{genresOptions:w.Genres,libraryViewSettings:c,setLibraryViewSettings:f})})]}),(null==w?void 0:w.OfficialRatings)&&(null===(r=null==w?void 0:w.OfficialRatings)||void 0===r?void 0:r.length)>0&&(0,l.jsxs)(gi,{expanded:"filtersOfficialRatings"===b,onChange:C("filtersOfficialRatings"),children:[(0,l.jsx)(Ii,{"aria-controls":"filtersOfficialRatings-content",id:"filtersOfficialRatings-header",children:(0,l.jsx)(ue.A,{children:R.Ay.translate("HeaderParentalRatings")})}),(0,l.jsx)(bi,{children:(0,l.jsx)(Hn,{OfficialRatingsOptions:w.OfficialRatings,libraryViewSettings:c,setLibraryViewSettings:f})})]}),(null==w?void 0:w.Tags)&&(null==w?void 0:w.Tags.length)>0&&(0,l.jsxs)(gi,{expanded:"filtersTags"===b,onChange:C("filtersTags"),children:[(0,l.jsx)(Ii,{"aria-controls":"filtersTags-content",id:"filtersTags-header",children:(0,l.jsx)(ue.A,{children:R.Ay.translate("Tags")})}),(0,l.jsx)(bi,{children:(0,l.jsx)(ai,{tagsOptions:w.Tags,libraryViewSettings:c,setLibraryViewSettings:f})})]}),(null==w?void 0:w.Years)&&(null===(n=null==w?void 0:w.Years)||void 0===n?void 0:n.length)>0&&(0,l.jsxs)(gi,{expanded:"filtersYears"===b,onChange:C("filtersYears"),children:[(0,l.jsx)(Ii,{"aria-controls":"filtersYears-content",id:"filtersYears-header",children:(0,l.jsx)(ue.A,{children:R.Ay.translate("HeaderYears")})}),(0,l.jsx)(bi,{children:(0,l.jsx)(pi,{yearsOptions:w.Years,libraryViewSettings:c,setLibraryViewSettings:f})})]})]}),(o===L.D.Movies||o===L.D.Series)&&P&&(0,l.jsxs)(gi,{expanded:"filtersStudios"===b,onChange:C("filtersStudios"),children:[(0,l.jsx)(Ii,{"aria-controls":"filtersStudios-content",id:"filtersStudios-header",children:(0,l.jsx)(ue.A,{children:R.Ay.translate("Studios")})}),(0,l.jsx)(bi,{children:(0,l.jsx)(ri,{studiosOptions:P,libraryViewSettings:c,setLibraryViewSettings:f})})]})]})]})},Ti=r(30374),xi=function(e){var t=e.isTextVisible,n=(0,u.useCallback)((function(){r.e(3380).then(r.bind(r,3380)).then((function(e){var t=e.default,r=window.ApiClient.serverId();(new t).show({items:[],serverId:r}).catch((function(){}))})).catch((function(e){console.error("[NewCollection] failed to load collection editor",e)}))}),[]);return(0,l.jsx)(Zr.A,{variant:"contained",startIcon:t?(0,l.jsx)(Ti.A,{}):void 0,onClick:n,children:t?R.Ay.translate("NewCollection"):(0,l.jsx)(Ti.A,{})})},Si=r(62955),wi=r(33255),Pi=r(70140),Ci=function(){return Ci=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ci.apply(this,arguments)},ji=function(e){var t,r=e.libraryViewSettings,n=e.setLibraryViewSettings,i=e.totalRecordCount,a=e.isPlaceholderData,o=(0,pn.A)((function(e){return e.breakpoints.up("sm")})),c=B.libraryPageSize(void 0),d=null!==(t=r.StartIndex)&&void 0!==t?t:0,m=i?d+1:0,v=c?Math.min(d+c,i):i,f=c>0&&c<i,p=(0,u.useCallback)((function(){var e=d+c;n((function(t){return Ci(Ci({},t),{StartIndex:e})}))}),[c,n,d]),y=(0,u.useCallback)((function(){var e=Math.max(0,d-c);n((function(t){return Ci(Ci({},t),{StartIndex:e})}))}),[c,n,d]);return(0,l.jsxs)(Pi.A,{direction:"row",spacing:.5,sx:{alignItems:"center",flexGrow:{xs:1,sm:0},marginLeft:{xs:0,sm:.5}},children:[!o&&(0,l.jsx)(Zr.A,{color:"inherit",variant:"text",title:R.Ay.translate("Previous"),disabled:!f||0==d||a,onClick:y,children:(0,l.jsx)(Si.A,{})}),(0,l.jsx)(s.A,{sx:{display:"flex",flexGrow:1,alignItems:"center",justifyContent:"center",marginLeft:1,marginRight:1},children:(0,l.jsx)(ue.A,{variant:"body2",children:R.Ay.translate("ListPaging",m,v,i)})}),o&&(0,l.jsxs)($e.A,{color:"inherit",variant:"text",children:[(0,l.jsx)(Zr.A,{title:R.Ay.translate("Previous"),disabled:!f||0==d||a,onClick:y,children:(0,l.jsx)(Si.A,{})}),(0,l.jsx)(Zr.A,{title:R.Ay.translate("Next"),disabled:!f||d+c>=i||a,onClick:p,children:(0,l.jsx)(wi.A,{})})]}),!o&&(0,l.jsx)(Zr.A,{color:"inherit",variant:"text",title:R.Ay.translate("Next"),disabled:!f||d+c>=i||a,onClick:p,children:(0,l.jsx)(wi.A,{})})]})},Oi=function(){return Oi=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Oi.apply(this,arguments)},Di=function(e){var t=e.item,r=e.items,n=e.viewType,i=e.hasFilters,a=e.isTextVisible,o=e.libraryViewSettings,s=(0,u.useCallback)((function(){var e;t&&!i?Se.f.play({items:[t],autoplay:!0,queryOptions:{SortBy:[o.SortBy],SortOrder:[o.SortOrder]}}).catch((function(e){console.error("[PlayAllButton] failed to play",e)})):Se.f.play({items:r,autoplay:!0,queryOptions:Oi(Oi({ParentId:null!==(e=null==t?void 0:t.Id)&&void 0!==e?e:void 0},H(n,o)),{SortBy:[o.SortBy],SortOrder:[o.SortOrder]})}).catch((function(e){console.error("[PlayAllButton] failed to play",e)}))}),[i,t,r,o,n]);return(0,l.jsx)(Zr.A,{title:R.Ay.translate("HeaderPlayAll"),startIcon:a?(0,l.jsx)(tt.A,{}):void 0,onClick:s,children:a?R.Ay.translate("HeaderPlayAll"):(0,l.jsx)(tt.A,{})})},Ni=r(91002),Ri=function(e){var t=e.item,r=e.items,n=e.hasFilters,i=e.isTextVisible,a=(0,u.useCallback)((function(){t&&!n?Se.f.queue({items:[t]}).catch((function(e){console.error("[QueueButton] failed to add to queue",e)})):Se.f.queue({items:r}).catch((function(e){console.error("[QueueButton] failed to add to queue",e)}))}),[n,t,r]);return(0,l.jsx)(Zr.A,{title:R.Ay.translate("AddToPlayQueue"),startIcon:i?(0,l.jsx)(Ni.A,{}):void 0,onClick:a,children:i?R.Ay.translate("AddToPlayQueue"):(0,l.jsx)(Ni.A,{})})},Bi=r(61556),ki=function(){return ki=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ki.apply(this,arguments)},Li=function(e){var t=e.item,r=e.items,n=e.viewType,i=e.hasFilters,a=e.isTextVisible,o=e.libraryViewSettings,s=(0,u.useCallback)((function(){var e;t&&!i?Se.f.shuffle(t):Se.f.play({items:r,autoplay:!0,queryOptions:ki(ki({ParentId:null!==(e=null==t?void 0:t.Id)&&void 0!==e?e:void 0},H(n,o)),{SortBy:[p.B.Random]})}).catch((function(e){console.error("[ShuffleButton] failed to play",e)}))}),[i,t,r,o,n]);return(0,l.jsx)(Zr.A,{title:R.Ay.translate("Shuffle"),startIcon:a?(0,l.jsx)(Bi.A,{}):void 0,onClick:s,children:a?R.Ay.translate("Shuffle"):(0,l.jsx)(Bi.A,{})})},Fi=r(85637),Mi=r(74156),Ei=r(82670),Vi=r(31720),Ui=r(76745),Hi=r(66402),Gi=function(){return Gi=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Gi.apply(this,arguments)},qi=[{label:"Name",value:p.B.SortName},{label:"OptionCommunityRating",value:p.B.CommunityRating},{label:"OptionDateAdded",value:p.B.DateCreated},{label:"OptionParentalRating",value:p.B.OfficialRating},{label:"OptionReleaseDate",value:p.B.PremiereDate}],Wi=[{label:"Name",value:p.B.SortName},{label:"OptionRandom",value:p.B.Random},{label:"OptionCommunityRating",value:p.B.CommunityRating},{label:"OptionCriticRating",value:p.B.CriticRating},{label:"OptionDateAdded",value:p.B.DateCreated},{label:"OptionDatePlayed",value:p.B.DatePlayed},{label:"OptionParentalRating",value:p.B.OfficialRating},{label:"OptionPlayCount",value:p.B.PlayCount},{label:"OptionReleaseDate",value:p.B.PremiereDate},{label:"Runtime",value:p.B.Runtime}],zi=[{label:"Name",value:p.B.SortName},{label:"OptionRandom",value:p.B.Random},{label:"OptionDateAdded",value:p.B.DateCreated}],Yi=((Or={})[L.D.Movies]=Wi,Or[L.D.Collections]=qi,Or[L.D.Favorites]=Wi,Or[L.D.Series]=[{label:"Name",value:p.B.SortName},{label:"OptionRandom",value:p.B.Random},{label:"OptionCommunityRating",value:p.B.CommunityRating},{label:"OptionDateShowAdded",value:p.B.DateCreated},{label:"OptionDateEpisodeAdded",value:p.B.DateLastContentAdded},{label:"OptionDatePlayed",value:p.B.SeriesDatePlayed},{label:"OptionParentalRating",value:p.B.OfficialRating},{label:"OptionReleaseDate",value:p.B.PremiereDate}],Or[L.D.Episodes]=[{label:"Name",value:p.B.SeriesSortName},{label:"OptionCommunityRating",value:p.B.CommunityRating},{label:"OptionDateAdded",value:p.B.DateCreated},{label:"OptionReleaseDate",value:p.B.PremiereDate},{label:"OptionDatePlayed",value:p.B.DatePlayed},{label:"OptionParentalRating",value:p.B.OfficialRating},{label:"OptionPlayCount",value:p.B.PlayCount},{label:"Runtime",value:p.B.Runtime},{label:"OptionRandom",value:p.B.Random}],Or[L.D.Albums]=[{label:"Name",value:p.B.SortName},{label:"OptionRandom",value:p.B.Random},{label:"AlbumArtist",value:p.B.AlbumArtist},{label:"OptionCommunityRating",value:p.B.CommunityRating},{label:"OptionCriticRating",value:p.B.CriticRating},{label:"OptionReleaseDate",value:p.B.ProductionYear},{label:"OptionDateAdded",value:p.B.DateCreated}],Or[L.D.Songs]=[{label:"Name",value:p.B.SortName},{label:"Album",value:p.B.Album},{label:"AlbumArtist",value:p.B.AlbumArtist},{label:"Artist",value:p.B.Artist},{label:"OptionDateAdded",value:p.B.DateCreated},{label:"OptionDatePlayed",value:p.B.DatePlayed},{label:"OptionPlayCount",value:p.B.PlayCount},{label:"OptionReleaseDate",value:p.B.PremiereDate},{label:"Runtime",value:p.B.Runtime},{label:"OptionRandom",value:p.B.Random}],Or[L.D.PhotoAlbums]=zi,Or[L.D.Photos]=zi,Or[L.D.Videos]=[{label:"Name",value:p.B.SortName},{label:"OptionDateAdded",value:p.B.DateCreated},{label:"OptionDatePlayed",value:p.B.DatePlayed},{label:"OptionPlayCount",value:p.B.PlayCount},{label:"Runtime",value:p.B.Runtime},{label:"OptionRandom",value:p.B.Random}],Or),Ki=[{label:"Ascending",value:y.x.Ascending},{label:"Descending",value:y.x.Descending}],Qi=function(e){var t=e.viewType,r=e.libraryViewSettings,n=e.setLibraryViewSettings,i=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(u.useState(null),2),a=i[0],o=i[1],s=Boolean(a),c=s?"sort-popover":void 0,d=(0,u.useCallback)((function(e){o(e.currentTarget)}),[]),m=(0,u.useCallback)((function(){o(null)}),[]),v=(0,u.useCallback)((function(e){var t=e.target.name;n((function(r){var n;return Gi(Gi({},r),((n={StartIndex:0})[t]=e.target.value,n))}))}),[n]),f=function(e){return Yi[e]||[]}(t);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Zr.A,{title:R.Ay.translate("Sort"),"aria-describedby":c,onClick:d,children:(0,l.jsx)(Hi.A,{})}),(0,l.jsxs)(xn.Ay,{id:c,open:s,anchorEl:a,onClose:m,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},sx:{"& .MuiFormControl-root":{m:1,width:200}},children:[(0,l.jsxs)(Vi.A,{fullWidth:!0,children:[(0,l.jsx)(Ei.A,{id:"select-sort-label",children:(0,l.jsx)(ue.A,{component:"span",children:R.Ay.translate("LabelSortBy")})}),(0,l.jsx)(Ui.A,{labelId:"select-sort-label",id:"selectSortBy",value:r.SortBy,label:R.Ay.translate("LabelSortBy"),name:"SortBy",onChange:v,children:f.map((function(e){return(0,l.jsx)(Fi.A,{value:e.value,children:(0,l.jsx)(ue.A,{component:"span",children:R.Ay.translate(e.label)})},e.value)}))})]}),(0,l.jsx)(Mi.A,{}),(0,l.jsxs)(Vi.A,{fullWidth:!0,children:[(0,l.jsx)(Ei.A,{id:"select-sortorder-label",children:(0,l.jsx)(ue.A,{component:"span",children:R.Ay.translate("LabelSortOrder")})}),(0,l.jsx)(Ui.A,{labelId:"select-sortorder-label",id:"selectSortOrder",value:r.SortOrder,label:R.Ay.translate("LabelSortOrder"),name:"SortOrder",onChange:v,children:Ki.map((function(e){return(0,l.jsx)(Fi.A,{value:e.value,children:(0,l.jsx)(ue.A,{component:"span",children:e.label})},e.value)}))})]})]})]})},_i=r(26749),Xi=r(48402),Ji=r(87404),Zi=r(9055),$i=r(14229),ea=r(37632),ta=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o},ra="library-view-menu",na=function(){var e=(0,Ji.zy)(),t=ta((0,Zi.ok)(),2),r=t[0],n=t[1],i=(0,ea.A)().activeTab,a=ta((0,u.useState)(null),2),o=a[0],s=a[1],c=Boolean(o),d=(0,u.useCallback)((function(e){s(e.currentTarget)}),[]),m=(0,u.useCallback)((function(){s(null)}),[]),v=$i.u.find((function(t){return t.path===e.pathname})),f=null==v?void 0:v.views.find((function(e){return e.index===i}));return f?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Zr.A,{variant:"text",size:"large",color:"inherit",endIcon:(0,l.jsx)(_i.A,{}),"aria-controls":ra,"aria-haspopup":"true",onClick:d,children:R.Ay.translate(f.label)}),(0,l.jsx)(Xi.A,{anchorEl:o,id:ra,keepMounted:!0,open:c,onClose:m,children:null==v?void 0:v.views.map((function(e){return(0,l.jsx)(Fi.A,{onClick:function(){r.set("tab","".concat(e.index)),n(r),m()},selected:e.index===f.index,children:R.Ay.translate(e.label)},e.view)}))})]}):null},ia=r(44790),aa=r(60434),oa=r(29095),la=function(){return la=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},la.apply(this,arguments)},sa=[L.D.Episodes,L.D.Artists,L.D.AlbumArtists,L.D.Albums],ua=[{label:"Primary",value:m.y.Primary},{label:"Banner",value:m.y.Banner},{label:"Disc",value:m.y.Disc},{label:"Logo",value:m.y.Logo},{label:"Thumb",value:m.y.Thumb}],ca=function(e){var t=e.viewType,r=e.libraryViewSettings,n=e.setLibraryViewSettings,i=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(u.useState(null),2),a=i[0],s=i[1],c=Boolean(a),d=c?"selectview-popover":void 0,m=(0,u.useCallback)((function(e){s(e.currentTarget)}),[]),v=(0,u.useCallback)((function(){s(null)}),[]),f=(0,u.useCallback)((function(e){var t=e.target.name;n((function(r){var n;return la(la({},r),((n={})[t]=e.target.checked,n))}))}),[n]),p=(0,u.useCallback)((function(){n((function(e){return la(la({},e),{ViewMode:o.GridView})}))}),[n]),y=(0,u.useCallback)((function(){n((function(e){return la(la({},e),{ViewMode:o.ListView})}))}),[n]),h=(0,u.useCallback)((function(e){n((function(t){return la(la({},t),{ImageType:e.target.value})}))}),[n]),g=r.ViewMode===o.GridView,I=!sa.includes(t);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Zr.A,{title:R.Ay.translate("ViewSettings"),"aria-describedby":d,onClick:m,children:(0,l.jsx)(nt.A,{})}),(0,l.jsx)(xn.Ay,{id:d,open:c,anchorEl:a,onClose:v,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},sx:{"& .MuiFormControl-root":{m:1,width:220}},children:(0,l.jsxs)(oa.A,{children:[(0,l.jsxs)(Fi.A,{onClick:p,children:[g&&(0,l.jsx)(ia.A,{children:(0,l.jsx)(st.A,{})}),(0,l.jsx)(aa.A,{inset:!g,children:R.Ay.translate("GridView")})]}),(0,l.jsxs)(Fi.A,{onClick:y,children:[!g&&(0,l.jsx)(ia.A,{children:(0,l.jsx)(st.A,{})}),(0,l.jsx)(aa.A,{inset:g,children:R.Ay.translate("ListView")})]}),g&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Mi.A,{}),I&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(Vi.A,{children:[(0,l.jsx)(Ei.A,{children:(0,l.jsx)(ue.A,{component:"span",children:R.Ay.translate("LabelImageType")})}),(0,l.jsx)(Ui.A,{value:r.ImageType,label:R.Ay.translate("LabelImageType"),onChange:h,children:ua.map((function(e){return(0,l.jsx)(Fi.A,{value:e.value,children:(0,l.jsx)(ue.A,{component:"span",children:R.Ay.translate(e.label)})},e.value)}))})]}),(0,l.jsx)(Mi.A,{})]}),(0,l.jsx)(Vi.A,{children:(0,l.jsxs)(On.A,{children:[(0,l.jsx)(Dn.A,{control:(0,l.jsx)(Nn.A,{checked:r.ShowTitle,onChange:f,name:"ShowTitle"}),label:R.Ay.translate("ShowTitle")}),I&&(0,l.jsx)(Dn.A,{control:(0,l.jsx)(Nn.A,{checked:r.ShowYear,onChange:f,name:"ShowYear"}),label:R.Ay.translate("ShowYear")}),(0,l.jsx)(Dn.A,{control:(0,l.jsx)(Nn.A,{checked:r.CardLayout,onChange:f,name:"CardLayout"}),label:R.Ay.translate("EnableCardLayout")})]})})]})]})})]})},da=function(e){var t,r,n,i=e.viewType,a=e.parentId,c=e.collectionType,g=e.isPaginationEnabled,I=void 0===g||g,A=e.isBtnPlayAllEnabled,x=void 0!==A&&A,S=e.isBtnQueueEnabled,w=void 0!==S&&S,C=e.isBtnShuffleEnabled,D=void 0!==C&&C,N=e.isBtnSortEnabled,R=void 0===N||N,B=e.isBtnFilterEnabled,k=void 0===B||B,F=e.isBtnNewCollectionEnabled,M=void 0!==F&&F,q=e.isBtnGridListEnabled,W=void 0===q||q,Y=e.isAlphabetPickerEnabled,Q=void 0===Y||Y,_=e.itemType,X=e.noItemsMessage,J=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(function(e,t){var r=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}((0,u.useState)((function(){var r=localStorage.getItem(e);return null!=r?JSON.parse(r):"function"==typeof t?t():t})),2),n=r[0],i=r[1];return(0,u.useEffect)((function(){localStorage.setItem(e,JSON.stringify(n))}),[e,n]),[n,i]}(function(e,t){return"".concat(e," - ").concat(t)}(i,a),function(e){return{ShowTitle:!0,ShowYear:!0,ViewMode:e===L.D.Songs?o.ListView:o.GridView,ImageType:e===L.D.Networks?m.y.Thumb:m.y.Primary,CardLayout:!1,SortBy:G(e),SortOrder:y.x.Ascending,StartIndex:0}}(i)),2),te=J[0],re=J[1],ne=(0,pn.A)((function(e){return e.breakpoints.up("sm")})),ie=(0,d.gf)().__legacyApiClient__,ae=function(e,t,r,n){var i,a=(0,d.gf)();return(0,j.I)({queryKey:["ItemsViewByType",{viewType:e,parentId:t,itemType:r,libraryViewSettings:n}],queryFn:function(i){var o=i.signal;return function(e,t,r,n,i,a){return $(void 0,void 0,void 0,(function(){var o,l,s,u,c;return ee(this,(function(d){switch(d.label){case 0:if(o=e.api,l=e.user,!o||!(null==l?void 0:l.Id))return[3,14];switch(s=void 0,t){case L.D.AlbumArtists:return[3,1];case L.D.Artists:return[3,3];case L.D.Networks:return[3,5];case L.D.Channels:return[3,7];case L.D.SeriesTimers:return[3,9]}return[3,11];case 1:return[4,(0,h.v)(o).getAlbumArtists(Z(Z(Z(Z(Z({userId:l.Id,parentId:null!=r?r:void 0,enableImageTypes:[i.ImageType,m.y.Backdrop]},E(t,i)),H(t,i)),V()),U(i)),{sortBy:[i.SortBy],sortOrder:[i.SortOrder],includeItemTypes:n,startIndex:i.StartIndex}),{signal:null==a?void 0:a.signal})];case 2:case 4:case 6:case 8:case 10:case 12:return s=d.sent(),[3,13];case 3:return[4,(0,h.v)(o).getArtists(Z(Z(Z(Z(Z({userId:l.Id,parentId:null!=r?r:void 0,enableImageTypes:[i.ImageType,m.y.Backdrop]},E(t,i)),H(t,i)),V()),U(i)),{sortBy:[i.SortBy],sortOrder:[i.SortOrder],includeItemTypes:n,startIndex:i.StartIndex}),{signal:null==a?void 0:a.signal})];case 5:return[4,(0,T.G)(o).getStudios(Z(Z({userId:l.Id,parentId:null!=r?r:void 0},E(t,i)),{includeItemTypes:n,enableImageTypes:[m.y.Thumb],startIndex:i.StartIndex}),{signal:null==a?void 0:a.signal})];case 7:return[4,(0,P.t)(o).getLiveTvChannels({userId:l.Id,fields:[v.z.PrimaryImageAspectRatio],startIndex:i.StartIndex,isFavorite:!!(null===(c=null===(u=i.Filters)||void 0===u?void 0:u.Status)||void 0===c?void 0:c.includes(f.s.IsFavorite))||void 0,enableImageTypes:[m.y.Primary]},{signal:null==a?void 0:a.signal})];case 9:return[4,(0,P.t)(o).getSeriesTimers({sortBy:"SortName",sortOrder:y.x.Ascending},{signal:null==a?void 0:a.signal})];case 11:return[4,(0,b.n)(o).getItems(Z(Z(Z(Z(Z({userId:l.Id,recursive:!0,imageTypeLimit:1,parentId:null!=r?r:void 0,enableImageTypes:[i.ImageType,m.y.Backdrop]},E(t,i)),H(t,i)),V()),U(i)),{isFavorite:t===L.D.Favorites||void 0,sortBy:[i.SortBy],sortOrder:[i.SortOrder],includeItemTypes:n,startIndex:i.StartIndex}),{signal:null==a?void 0:a.signal})];case 13:return[2,s.data];case 14:return[2]}}))}))}(a,e,t,r,n,{signal:o})},refetchOnWindowFocus:!1,placeholderData:O.rX,enabled:!!a.api&&!!(null===(i=a.user)||void 0===i?void 0:i.Id)&&[L.D.Movies,L.D.Favorites,L.D.Collections,L.D.Series,L.D.Episodes,L.D.Networks,L.D.Albums,L.D.AlbumArtists,L.D.Artists,L.D.Playlists,L.D.Songs,L.D.Books,L.D.PhotoAlbums,L.D.Photos,L.D.Videos,L.D.Channels,L.D.SeriesTimers].includes(e)})}(i,a,_,te),oe=ae.isPending,le=ae.data,ue=ae.isPlaceholderData,de=ae.refetch,me=(0,yn.H)(a||void 0).data,ve=(0,u.useCallback)((function(){var e,t={items:null!==(e=null==le?void 0:le.Items)&&void 0!==e?e:[],context:c};return i===L.D.Songs?(t.showParentTitle=!0,t.action=z.s.PlayAllFromHere,t.smallIcon=!0,t.showArtist=!0,t.addToListButton=!0):i===L.D.Albums?(t.sortBy=te.SortBy,t.addToListButton=!0):i===L.D.Episodes&&(t.showParentTitle=!0),t}),[null==le?void 0:le.Items,c,i,te.SortBy]),pe=(0,u.useCallback)((function(){var e,t,r,n;te.ImageType===m.y.Banner?e=K.G8.Banner:te.ImageType===m.y.Disc?(e=K.G8.Square,r=!0):te.ImageType===m.y.Logo?(e=K.G8.Backdrop,n=!0):te.ImageType===m.y.Thumb?(e=K.G8.Backdrop,t=!0):e=K.G8.Auto;var a={shape:e,showTitle:te.ShowTitle,showYear:te.ShowYear,cardLayout:te.CardLayout,centerText:!0,context:c,coverImage:!0,preferThumb:t,preferDisc:r,preferLogo:n,overlayText:!te.ShowTitle,imageType:te.ImageType,queryKey:["ItemsViewByType"],serverId:null==ie?void 0:ie.serverId()};return i===L.D.Songs||i===L.D.Albums||i===L.D.Episodes?(a.showParentTitle=te.ShowTitle,a.overlayPlayButton=!0):i===L.D.Artists?(a.lines=1,a.showYear=!1,a.overlayPlayButton=!0):i===L.D.Channels?(a.shape=K.G8.Square,a.showDetailsMenu=!0,a.showCurrentProgram=!0,a.showCurrentProgramTime=!0):i===L.D.SeriesTimers?(a.shape=K.G8.Backdrop,a.showSeriesTimerTime=!0,a.showSeriesTimerChannel=!0,a.overlayMoreButton=!0,a.lines=3):i===L.D.Movies?a.overlayPlayButton=!0:i!==L.D.Series&&i!==L.D.Networks||(a.overlayMoreButton=!0),a}),[te.ShowTitle,te.ImageType,te.ShowYear,te.CardLayout,c,i]),ye=(0,u.useCallback)((function(){var e,t,r;return(null===(e=null==le?void 0:le.Items)||void 0===e?void 0:e.length)?te.ViewMode===o.ListView?(0,l.jsx)(nn,{items:null!==(t=null==le?void 0:le.Items)&&void 0!==t?t:[],listOptions:ve()}):(0,l.jsx)(Sr,{items:null!==(r=null==le?void 0:le.Items)&&void 0!==r?r:[],cardOptions:pe()}):(0,l.jsx)(ce,{message:X})}),[te.ViewMode,null==le?void 0:le.Items,ve,pe,X]),he=null!==(t=null==le?void 0:le.TotalRecordCount)&&void 0!==t?t:0,ge=null!==(r=null==le?void 0:le.Items)&&void 0!==r?r:[],Ie=Object.values(null!==(n=te.Filters)&&void 0!==n?n:{}).some((function(e){return!!e})),be=te.SortBy!==p.B.Random,Ae=fe()("padded-left padded-right padded-right-withalphapicker",te.ViewMode===o.ListView?"vertical-list":"vertical-wrap");return(0,l.jsxs)(s.A,{className:"padded-bottom-page",children:[(0,l.jsxs)(s.A,{className:fe()("padded-top padded-left padded-right",{"padded-right-withalphapicker":Q}),sx:{display:"flex",flexWrap:"wrap",alignItems:"center"},children:[(0,l.jsx)(s.A,{sx:{marginRight:1},children:(0,l.jsx)(na,{})}),(0,l.jsx)(s.A,{sx:{flexGrow:{xs:1,sm:0},marginRight:1},children:(0,l.jsxs)($e.A,{color:"inherit",variant:"text",children:[k&&(0,l.jsx)(Ai,{parentId:a,itemType:_,viewType:i,hasFilters:Ie,libraryViewSettings:te,setLibraryViewSettings:re}),R&&(0,l.jsx)(Qi,{viewType:i,libraryViewSettings:te,setLibraryViewSettings:re}),W&&(0,l.jsx)(ca,{viewType:i,libraryViewSettings:te,setLibraryViewSettings:re})]})}),(0,l.jsx)(s.A,{sx:{display:"flex",flexGrow:{xs:1,sm:0},justifyContent:"flex-end"},children:!oe&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)($e.A,{variant:"contained",children:[x&&(0,l.jsx)(Di,{item:me,items:ge,viewType:i,hasFilters:Ie,isTextVisible:ne,libraryViewSettings:te}),D&&he>1&&(0,l.jsx)(Li,{item:me,items:ge,viewType:i,hasFilters:Ie,isTextVisible:ne&&!x,libraryViewSettings:te}),w&&me&&Se.f.canQueue(me)&&(0,l.jsx)(Ri,{item:me,items:ge,hasFilters:Ie,isTextVisible:ne&&!x&&!D})]}),M&&(0,l.jsx)(xi,{isTextVisible:ne})]})}),(0,l.jsx)(s.A,{sx:{display:"flex",justifyContent:"end",flexBasis:{xs:"100%",sm:"auto"},flexGrow:1,marginTop:{xs:.5,sm:0}},children:!oe&&I&&(0,l.jsx)(ji,{totalRecordCount:he,libraryViewSettings:te,isPlaceholderData:ue,setLibraryViewSettings:re})})]}),Q&&be&&(0,l.jsx)(bn,{libraryViewSettings:te,setLibraryViewSettings:re}),oe?(0,l.jsx)(se.A,{}):(0,l.jsx)(Re,{className:Ae,parentId:a,reloadItems:de,queryKey:["ItemsViewByType"],children:ye()}),!oe&&I&&(0,l.jsx)(s.A,{className:fe()("padded-left padded-right",{"padded-right-withalphapicker":Q}),sx:{display:"flex",justifyContent:"flex-end"},children:(0,l.jsx)(ji,{totalRecordCount:he,libraryViewSettings:te,isPlaceholderData:ue,setLibraryViewSettings:re})})]})},ma=r(36934),va=(r(57447),r(10353),r(15453),r(79845),r(41765),function(){var e=(0,u.useRef)(),t=(0,u.useRef)(null),r=(0,u.useCallback)((function(t){e.current=new ma.A({element:t,serverId:window.ApiClient.serverId()})}),[]);return(0,u.useEffect)((function(){var n=t.current;n?e.current||r(n):console.error("Unexpected null reference")}),[r]),(0,u.useEffect)((function(){return e.current&&e.current.resume(),function(){e.current&&e.current.pause()}}),[r]),(0,l.jsx)(s.A,{ref:t,className:"absolutePageTabContent",sx:{display:"flex !important",width:"auto",paddingTop:"0",paddingBottom:"0 !important",top:{xs:"6.9em !important",lg:"4em !important"}}})}),fa=function(){return fa=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fa.apply(this,arguments)},pa=function(e){var t=e.parentId,r=e.sectionType,n=e.isUpcomingRecordingsEnabled,i=void 0!==n&&n,a=(0,d.gf)().__legacyApiClient__,o=function(e,t){var r,n=(0,d.gf)(),i=X();return(0,j.I)({queryKey:["ProgramSectionWithItems",{programSectionType:t}],queryFn:function(r){var a=r.signal;return oe(n,e,i,t,{signal:a})},enabled:!!n.api&&!!(null===(r=n.user)||void 0===r?void 0:r.Id)})}(t,r),s=o.isLoading,u=o.data,c=o.refetch,m=function(e,t){var r,n=(0,d.gf)();return(0,j.I)({queryKey:["Timers",{isUpcomingRecordingsEnabled:e,indexByDate:t}],queryFn:function(e){var r=e.signal;return function(e,t,r){return $(void 0,void 0,void 0,(function(){var n;return ee(this,(function(i){switch(i.label){case 0:return(n=e.api)?[4,(0,P.t)(n).getTimers({isActive:!1,isScheduled:!0},{signal:null==r?void 0:r.signal})]:[3,2];case 1:return[2,ie(i.sent().data.Items||[],t)];case 2:return[2]}}))}))}(n,t,{signal:r})},enabled:!!n.api&&!!(null===(r=n.user)||void 0===r?void 0:r.Id)&&e})}(i),v=m.isLoading,f=m.data;if(s||v)return(0,l.jsx)(se.A,{});if(!(null==u?void 0:u.length)&&!(null==f?void 0:f.length))return(0,l.jsx)(ce,{});var p=function(e){var t,r,n,i,a,o;return le.appRouter.getRouteUrl("list",{serverId:window.ApiClient.serverId(),itemTypes:e.itemTypes,isAiring:null===(t=e.parametersOptions)||void 0===t?void 0:t.isAiring,isMovie:null===(r=e.parametersOptions)||void 0===r?void 0:r.isMovie,isSports:null===(n=e.parametersOptions)||void 0===n?void 0:n.isSports,isKids:null===(i=e.parametersOptions)||void 0===i?void 0:i.isKids,isNews:null===(a=e.parametersOptions)||void 0===a?void 0:a.isNews,isSeries:null===(o=e.parametersOptions)||void 0===o?void 0:o.isSeries})};return(0,l.jsxs)(l.Fragment,{children:[null==u?void 0:u.map((function(e){var t=e.section,r=e.items;return(0,l.jsx)(ln,{sectionHeaderProps:{title:R.Ay.translate(t.name),url:p(t)},itemsContainerProps:{queryKey:["ProgramSectionWithItems"],reloadItems:c},items:r,cardOptions:fa(fa({},t.cardOptions),{queryKey:["ProgramSectionWithItems"],serverId:null==a?void 0:a.serverId()})},t.type)})),null==f?void 0:f.map((function(e){return(0,l.jsx)(ln,{sectionHeaderProps:{title:e.name},itemsContainerProps:{queryKey:["Timers"],reloadItems:c},items:e.timerInfo,cardOptions:{queryKey:["Timers"],shape:K.G8.BackdropOverflow,showTitle:!0,showParentTitleOrTitle:!0,showAirTime:!0,showAirEndTime:!0,showChannelName:!1,cardLayout:!0,centerText:!1,action:z.s.Edit,cardFooterAside:"none",preferThumb:!0,coverImage:!0,allowBottomPadding:!1,overlayText:!1,showChannelLogo:!0,serverId:null==a?void 0:a.serverId()}},e.name)}))]})},ya=function(e){var t,r,n,i,a,o,u=e.parentId,c=e.currentTab;return c.viewType===L.D.Suggestions?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.A,{className:"padded-top padded-left padded-right padded-bottom",children:(0,l.jsx)(na,{})}),(0,l.jsx)(un,{parentId:u,sectionType:null!==(r=null===(t=c.sectionsView)||void 0===t?void 0:t.suggestionSections)&&void 0!==r?r:[],isMovieRecommendationEnabled:null===(n=c.sectionsView)||void 0===n?void 0:n.isMovieRecommendations})]}):c.viewType===L.D.Programs||c.viewType===L.D.Recordings||c.viewType===L.D.Schedule?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.A,{className:"padded-top padded-left padded-right padded-bottom",children:(0,l.jsx)(na,{})}),(0,l.jsx)(pa,{parentId:u,sectionType:null!==(a=null===(i=c.sectionsView)||void 0===i?void 0:i.programSections)&&void 0!==a?a:[],isUpcomingRecordingsEnabled:null===(o=c.sectionsView)||void 0===o?void 0:o.isLiveTvUpcomingRecordings})]}):c.viewType===L.D.Upcoming?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.A,{className:"padded-top padded-left padded-right padded-bottom",children:(0,l.jsx)(na,{})}),(0,l.jsx)(cn,{parentId:u})]}):c.viewType===L.D.Genres?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.A,{className:"padded-top padded-left padded-right padded-bottom",children:(0,l.jsx)(na,{})}),(0,l.jsx)(fn,{parentId:u,collectionType:c.collectionType,itemType:c.itemType||[]})]}):c.viewType===L.D.Guide?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.A,{className:"padded-top padded-left padded-right padded-bottom",sx:{position:"relative",zIndex:2},children:(0,l.jsx)(na,{})}),(0,l.jsx)(va,{})]}):(0,l.jsx)(da,{viewType:c.viewType,parentId:u,collectionType:c.collectionType,isPaginationEnabled:c.isPaginationEnabled,isBtnPlayAllEnabled:c.isBtnPlayAllEnabled,isBtnQueueEnabled:c.isBtnQueueEnabled,isBtnShuffleEnabled:c.isBtnShuffleEnabled,isBtnNewCollectionEnabled:c.isBtnNewCollectionEnabled,isBtnFilterEnabled:c.isBtnFilterEnabled,isBtnGridListEnabled:c.isBtnGridListEnabled,isBtnSortEnabled:c.isBtnSortEnabled,isAlphabetPickerEnabled:c.isAlphabetPickerEnabled,itemType:c.itemType||[],noItemsMessage:c.noItemsMessage||"MessageNoItemsAvailable"})}}}]);