"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[45378],{17240:function(e,n,t){t.d(n,{A:function(){return o}}),t(63696);var r=t(91785),a=t(62540);function o(e){var n=e.styles,t=e.defaultTheme,o=void 0===t?{}:t,i="function"==typeof n?function(e){return n(null==(t=e)||0===Object.keys(t).length?o:e);var t}:n;return(0,a.jsx)(r.mL,{styles:i})}},36720:function(e,n,t){t.d(n,{_r:function(){return l},t5:function(){return i}});var r=t(38345),a=t(61586),o=t(69410),i="Configuration",l=function(){var e=(0,o.gf)().api;return(0,a.I)({queryKey:[i],queryFn:function(n){var t=n.signal;return function(e,n){return t=void 0,a=void 0,i=function(){return function(e,n){var t,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=n.call(e,o)}catch(e){l=[6,e],r=0}finally{t=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}}(this,(function(t){switch(t.label){case 0:return e?[4,(0,r.T)(e).getConfiguration(n)]:(console.error("[useLogOptions] No API instance available"),[2]);case 1:return[2,t.sent().data]}}))},new((o=void 0)||(o=Promise))((function(e,n){function r(e){try{s(i.next(e))}catch(e){n(e)}}function l(e){try{s(i.throw(e))}catch(e){n(e)}}function s(n){var t;n.done?e(n.value):(t=n.value,t instanceof o?t:new o((function(e){e(t)}))).then(r,l)}s((i=i.apply(t,a||[])).next())}));var t,a,o,i}(e,{signal:t})},enabled:!!e})}},79905:function(e,n,t){t.r(n),t.d(n,{Component:function(){return W},action:function(){return N}});var r=t(62540),a=t(63696),o=t(38345),i=t(84849),l=t(65242),s=t(5898),u=t(51890),c=t(5271),f=t(77890),p=t(37538),y=t(58765),h=t(34315),b=t(11e3),d=t(99851),v=t(87404),g=t(9055),w=t(86191),m=t(55532),x=t(61586),S=t(69410),A=function(){var e=(0,S.gf)().api;return(0,x.I)({queryKey:["ServerLogs"],queryFn:function(n){var t=n.signal;return function(e,n){return t=void 0,r=void 0,o=function(){return function(e,n){var t,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=n.call(e,o)}catch(e){l=[6,e],r=0}finally{t=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}}(this,(function(t){switch(t.label){case 0:return e?[4,(0,m.c)(e).getServerLogs(n)]:(console.error("[useServerLogs] No API instance available"),[2]);case 1:return[2,t.sent().data]}}))},new((a=void 0)||(a=Promise))((function(e,n){function i(e){try{s(o.next(e))}catch(e){n(e)}}function l(e){try{s(o.throw(e))}catch(e){n(e)}}function s(n){var t;n.done?e(n.value):(t=n.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,l)}s((o=o.apply(t,r||[])).next())}));var t,r,a,o}(e,{signal:t})},enabled:!!e})},j=t(36720),k=t(10041),T=t(59616),P=t(65641),C=t(82535),L=t(27786),O=t(98320),I=function(e){var n=e.logs,t=(0,S.gf)().api,a=function(e){var n=O.Ay.parseISO8601Date(e.DateModified,!0);return O.Ay.toLocaleDateString(n)+" "+O.Ay.getDisplayTime(n)};return(0,r.jsx)(k.A,{sx:{bgcolor:"background.paper"},children:n.map((function(e){return(0,r.jsx)(T.Ay,{disablePadding:!0,children:(0,r.jsxs)(P.A,{href:(n=e,t?t.getUri("/System/Logs/Log",{name:n.Name,api_key:t.accessToken}):""),target:"_blank",children:[(0,r.jsx)(C.A,{primary:e.Name,primaryTypographyProps:{variant:"h3"},secondary:a(e),secondaryTypographyProps:{variant:"body1"}}),(0,r.jsx)(L.A,{})]})},e.Name);var n}))})},E=function(){return E=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},E.apply(this,arguments)},R=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,a,o=t.call(e),i=[];try{for(;(void 0===n||n-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i},N=function(e){return n=void 0,t=[e],a=function(e){var n,t,r,a,i,l=e.request;return function(e,n){var t,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=n.call(e,o)}catch(e){l=[6,e],r=0}finally{t=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}}(this,(function(e){switch(e.label){case 0:if(!(n=w.A.getCurrentApi()))throw new Error("No Api instance available");return[4,l.formData()];case 1:return t=e.sent(),[4,(0,o.T)(n).getConfiguration()];case 2:return r=e.sent().data,a=t.get("EnableWarningMessage"),r.EnableSlowResponseWarning="on"===a,(i=t.get("SlowResponseTime"))&&(r.SlowResponseThresholdMs=parseInt(i.toString(),10)),[4,(0,o.T)(n).updateConfiguration({serverConfiguration:r})];case 3:return e.sent(),[2,{isSaved:!0}]}}))},new((r=void 0)||(r=Promise))((function(e,o){function i(e){try{s(a.next(e))}catch(e){o(e)}}function l(e){try{s(a.throw(e))}catch(e){o(e)}}function s(n){var t;n.done?e(n.value):(t=n.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,l)}s((a=a.apply(n,t||[])).next())}));var n,t,r,a},W=function(){var e=(0,v.cq)(),n=(0,v.mP)(),t="submitting"===e.state,o=A(),w=o.isPending,m=o.data,x=(0,j._r)(),S=x.isPending,k=x.data,T=R((0,a.useState)(!0),2),P=T[0],C=T[1],L=R((0,a.useState)({}),2),O=L[0],N=L[1];(0,a.useEffect)((function(){!S&&k&&(N(k),C(!1))}),[S,k]);var W=(0,a.useCallback)((function(e,n){N(E(E({},O),{EnableSlowResponseWarning:n}))}),[O]),q=(0,a.useCallback)((function(e){N(E(E({},O),{SlowResponseThresholdMs:parseInt(e.target.value,10)}))}),[O]);return w||S||P||!m?(0,r.jsx)(i.A,{}):(0,r.jsx)(l.A,{id:"logPage",title:s.Ay.translate("TabLogs"),className:"mainAnimatedPage type-interior",children:(0,r.jsxs)(c.A,{className:"content-primary",children:[(0,r.jsx)(g.lV,{method:"POST",children:(0,r.jsxs)(y.A,{spacing:3,children:[(0,r.jsx)(d.A,{variant:"h1",children:s.Ay.translate("TabLogs")}),!t&&(null==n?void 0:n.isSaved)&&(0,r.jsx)(u.A,{severity:"success",children:s.Ay.translate("SettingsSaved")}),(0,r.jsx)(p.A,{control:(0,r.jsx)(h.A,{checked:null==O?void 0:O.EnableSlowResponseWarning,onChange:W,name:"EnableWarningMessage"}),label:s.Ay.translate("LabelSlowResponseEnabled")}),(0,r.jsx)(b.A,{fullWidth:!0,type:"number",name:"SlowResponseTime",label:s.Ay.translate("LabelSlowResponseTime"),value:null==O?void 0:O.SlowResponseThresholdMs,disabled:!(null==O?void 0:O.EnableSlowResponseWarning),onChange:q}),(0,r.jsx)(f.A,{type:"submit",size:"large",children:s.Ay.translate("Save")})]})}),(0,r.jsx)(c.A,{className:"serverLogs readOnlyContent",sx:{mt:3},children:(0,r.jsx)(I,{logs:m})})]})})};W.displayName="LogsPage"}}]);