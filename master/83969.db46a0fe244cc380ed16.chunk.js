/*! For license information please see 83969.db46a0fe244cc380ed16.chunk.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[83969],{73327:function(e,t,r){"use strict";r.d(t,{ZP:function(){return x}}),r(66066),r(84159),r(13227),r(81414),r(37666),r(14011),r(11431),r(88646),r(54134),r(91270),r(59139),r(56187),r(38690),r(89228);var n,i=r(30325),a=r(38552),s=r(94994);!function(e){e.None="none",e.SmallLibraryTiles="smalllibrarytiles",e.LibraryButtons="librarybuttons",e.ActiveRecordings="activerecordings",e.Resume="resume",e.ResumeAudio="resumeaudio",e.LatestMedia="latestmedia",e.NextUp="nextup",e.LiveTv="livetv",e.ResumeBook="resumebook"}(n||(n={}));var o=[n.SmallLibraryTiles,n.Resume,n.ResumeAudio,n.ResumeBook,n.LiveTv,n.NextUp,n.LatestMedia,n.None],l=r(60635),c=r(59091),d=r(77357),u=r(18613),f=r(61570);var h=r(65009),v=r.n(h),m=r(81038),p=r(66560),b=r(23509);var y=r(35478);var g=r(13868);var T={Audio:"audioplayback,markplayed",Video:"videoplayback,markplayed"};function C(e,t,r,n,i,a){var o,l="",c=null!==(o=T[n])&&void 0!==o?o:"markplayed";l+='<h2 class="sectionTitle sectionTitle-cards padded-left">'+s.ZP.translate(r)+"</h2>",a.enableOverflow?(l+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true">',l+='<div is="emby-itemscontainer" class="itemsContainer scrollSlider focuscontainer-x" data-monitor="'.concat(c,'">')):l+='<div is="emby-itemscontainer" class="itemsContainer padded-left padded-right vertical-wrap focuscontainer-x" data-monitor="'.concat(c,'">'),a.enableOverflow&&(l+="</div>"),l+="</div>",e.classList.add("hide"),e.innerHTML=l;var d=e.querySelector(".itemsContainer");d&&(d.fetchData=function(e,t,r){var n=r.enableOverflow;return function(){var r=u.Z.getApiClient(t),i={Limit:n?12:5,Recursive:!0,Fields:"PrimaryImageAspectRatio",ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Thumb",EnableTotalRecordCount:!1,MediaTypes:e};return r.getResumableItems(r.getCurrentUserId(),i)}}(n,t.serverId(),a),d.getItemsHtml=function(e,t,r){var n=r.enableOverflow;return function(r){return f.default.getCardsHtml({items:r,preferThumb:!0,inheritThumb:!e,shape:"Book"===t?(0,y.pk)(n):(0,y.gB)(n),overlayText:!1,showTitle:!0,showParentTitle:!0,lazy:!0,showDetailsMenu:!0,overlayPlayButton:!0,context:"home",centerText:!0,allowBottomPadding:!1,cardLayout:!1,showYear:!0,lines:2})}}(i.useEpisodeImagesInNextUpAndResume(),n,a),d.parentContainer=e)}function w(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw a}}}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S(e){return e<0||e>o.length?"":o[e]}function P(e,t){for(var r=e.querySelectorAll(".itemsContainer"),n=[],i=0,a=r.length;i<a;i++)n.push(r[i].resume(t));return Promise.all(n)}function L(e,t,r,a,o,l,c){var d=l[c],h=e.querySelector(".section"+c),T={enableOverflow:!0};switch(d){case n.ActiveRecordings:!function(e,t,r,n){var i="";i+='<div class="sectionTitleContainer sectionTitleContainer-cards">',i+='<h2 class="sectionTitle sectionTitle-cards padded-left">'+(t?s.ZP.translate("HeaderActiveRecordings"):s.ZP.translate("HeaderLatestRecordings"))+"</h2>",i+="</div>",n.enableOverflow?(i+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true">',i+='<div is="emby-itemscontainer" class="itemsContainer scrollSlider focuscontainer-x">'):i+='<div is="emby-itemscontainer" class="itemsContainer padded-left padded-right vertical-wrap focuscontainer-x">',n.enableOverflow&&(i+="</div>"),i+="</div>",e.classList.add("hide"),e.innerHTML=i;var a=e.querySelector(".itemsContainer");a&&(a.fetchData=function(e,t,r){var n=r.enableOverflow;return function(){var r=u.Z.getApiClient(e);return r.getLiveTvRecordings({userId:r.getCurrentUserId(),Limit:n?12:5,Fields:"PrimaryImageAspectRatio",EnableTotalRecordCount:!1,IsLibraryItem:!!t&&null,IsInProgress:!!t||null})}}(r.serverId(),t,n),a.getItemsHtml=function(e,t){var r=t.enableOverflow;return function(t){return f.default.getCardsHtml({items:t,shape:r?"autooverflow":"auto",showTitle:!0,showParentTitle:!0,coverImage:!0,lazy:!0,showDetailsMenu:!0,centerText:!0,overlayText:!1,showYear:!0,lines:2,overlayPlayButton:!e,allowBottomPadding:!r,preferThumb:!0,cardLayout:!1,overlayMoreButton:e,action:e?"none":null,centerPlayButton:e})}}(t,n),a.parentContainer=e)}(h,!0,t,T);break;case n.LatestMedia:!function(e,t,r,n,a){var o,l;e.classList.remove("verticalSection");var c=["playlists","livetv","boxsets","channels"],d=null!==(l=null===(o=r.Configuration)||void 0===o?void 0:o.LatestItemsExcludes)&&void 0!==l?l:[];n.forEach((function(r){if(r.Id&&-1===d.indexOf(r.Id)&&r.CollectionType&&-1===c.indexOf(r.CollectionType)){var n=document.createElement("div");n.classList.add("verticalSection"),n.classList.add("hide"),e.appendChild(n),function(e,t,r,n,a){var o="";o+='<div class="sectionTitleContainer sectionTitleContainer-cards padded-left">',i.Z.tv?o+='<h2 class="sectionTitle sectionTitle-cards">'+s.ZP.translate("LatestFromLibrary",v()(n.Name))+"</h2>":(o+='<a is="emby-linkbutton" href="'+p.appRouter.getRouteUrl(n,{section:"latest"})+'" class="more button-flat button-flat-mini sectionTitleTextButton">',o+='<h2 class="sectionTitle sectionTitle-cards">',o+=s.ZP.translate("LatestFromLibrary",v()(n.Name)),o+="</h2>",o+='<span class="material-icons chevron_right" aria-hidden="true"></span>',o+="</a>"),o+="</div>",a.enableOverflow?(o+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true">',o+='<div is="emby-itemscontainer" class="itemsContainer scrollSlider focuscontainer-x">'):o+='<div is="emby-itemscontainer" class="itemsContainer focuscontainer-x padded-left padded-right vertical-wrap">',a.enableOverflow&&(o+="</div>"),o+="</div>",e.innerHTML=o;var l,c,d,h,m=e.querySelector(".itemsContainer");m&&(m.fetchData=(l=t.serverId(),c=n.Id,d=n.CollectionType,h=a.enableOverflow,function(){var e=u.Z.getApiClient(l),t=16;h?d===g.y.Music&&(t=30):t=d===g.y.Tvshows?5:d===g.y.Music?9:8;var r={Limit:t,Fields:"PrimaryImageAspectRatio,Path",ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Thumb",ParentId:c};return e.getLatestItems(r)}),m.getItemsHtml=function(e,t,r){var n=r.enableOverflow;return function(r){var i;return i="Channel"===e||"movies"===t||"books"===t||"tvshows"===t?(0,y.pk)(n):"music"===t||"homevideos"===t?(0,y.nY)(n):(0,y.gB)(n),f.default.getCardsHtml({items:r,shape:i,preferThumb:"movies"!==t&&"tvshows"!==t&&"Channel"!==e&&"music"!==t?"auto":null,showUnplayedIndicator:!1,showChildCountIndicator:!0,context:"home",overlayText:!1,centerText:!0,overlayPlayButton:"photos"!==t,allowBottomPadding:!n&&!0,cardLayout:!1,showTitle:"photos"!==t,showYear:"movies"===t||"tvshows"===t||!t,showParentTitle:"music"===t||"tvshows"===t||!t||!1,lines:2})}}(n.Type,n.CollectionType,a),m.parentContainer=e)}(n,t,0,r,a)}}))}(h,t,r,o,T);break;case n.LibraryButtons:!function(e,t){e.classList.remove("verticalSection");var r=function(e){var t="";t+='<div class="verticalSection verticalSection-extrabottompadding">',t+='<h2 class="sectionTitle sectionTitle-cards padded-left">'+s.ZP.translate("HeaderMyMedia")+"</h2>",t+='<div is="emby-itemscontainer" class="itemsContainer padded-left padded-right vertical-wrap focuscontainer-x" data-multiselect="false">';for(var r=0,n=e.length;r<n;r++){var i=e[r],a=b.ZP.getLibraryIcon(i.CollectionType);t+='<a is="emby-linkbutton" href="'+p.appRouter.getRouteUrl(i)+'" class="raised homeLibraryButton"><span class="material-icons homeLibraryIcon '+a+'" aria-hidden="true"></span><span class="homeLibraryText">'+v()(i.Name)+"</span></a>"}return(t+="</div>")+"</div>"}(t);e.innerHTML=r,m.default.lazyChildren(e)}(h,o);break;case n.LiveTv:return function(e,t,r,n){var a;return(null===(a=r.Policy)||void 0===a?void 0:a.EnableLiveTvAccess)?t.getLiveTvRecommendedPrograms({userId:t.getCurrentUserId(),IsAiring:!0,limit:1,ImageTypeLimit:1,EnableImageTypes:"Primary,Thumb,Backdrop",EnableTotalRecordCount:!1,Fields:"ChannelInfo,PrimaryImageAspectRatio"}).then((function(r){var a;(null===(a=r.Items)||void 0===a?void 0:a.length)&&function(e,t,r){var n="";e.classList.remove("padded-left"),e.classList.remove("padded-right"),e.classList.remove("padded-bottom"),e.classList.remove("verticalSection"),n+='<div class="verticalSection">',n+='<div class="sectionTitleContainer sectionTitleContainer-cards padded-left">',n+='<h2 class="sectionTitle sectionTitle-cards">'+s.ZP.translate("LiveTV")+"</h2>",n+="</div>",r.enableOverflow?(n+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true" data-scrollbuttons="false">',n+='<div class="padded-top padded-bottom scrollSlider focuscontainer-x">'):n+='<div class="padded-top padded-bottom focuscontainer-x">',n+='<a is="emby-linkbutton" href="'+p.appRouter.getRouteUrl("livetv",{serverId:t,section:"programs"})+'" class="raised"><span>'+s.ZP.translate("Programs")+"</span></a>",n+='<a is="emby-linkbutton" href="'+p.appRouter.getRouteUrl("livetv",{serverId:t,section:"guide"})+'" class="raised"><span>'+s.ZP.translate("Guide")+"</span></a>",n+='<a is="emby-linkbutton" href="'+p.appRouter.getRouteUrl("livetv",{serverId:t,section:"channels"})+'" class="raised"><span>'+s.ZP.translate("Channels")+"</span></a>",n+='<a is="emby-linkbutton" href="'+p.appRouter.getRouteUrl("recordedtv",{serverId:t})+'" class="raised"><span>'+s.ZP.translate("Recordings")+"</span></a>",n+='<a is="emby-linkbutton" href="'+p.appRouter.getRouteUrl("livetv",{serverId:t,section:"dvrschedule"})+'" class="raised"><span>'+s.ZP.translate("Schedule")+"</span></a>",n+='<a is="emby-linkbutton" href="'+p.appRouter.getRouteUrl("livetv",{serverId:t,section:"seriesrecording"})+'" class="raised"><span>'+s.ZP.translate("Series")+"</span></a>",n+="</div>",r.enableOverflow&&(n+="</div>"),n+="</div>",n+="</div>",n+='<div class="verticalSection">',n+='<div class="sectionTitleContainer sectionTitleContainer-cards padded-left">',i.Z.tv?n+='<h2 class="sectionTitle sectionTitle-cards">'+s.ZP.translate("HeaderOnNow")+"</h2>":(n+='<a is="emby-linkbutton" href="'+p.appRouter.getRouteUrl("livetv",{serverId:t,section:"onnow"})+'" class="more button-flat button-flat-mini sectionTitleTextButton">',n+='<h2 class="sectionTitle sectionTitle-cards">',n+=s.ZP.translate("HeaderOnNow"),n+="</h2>",n+='<span class="material-icons chevron_right" aria-hidden="true"></span>',n+="</a>"),n+="</div>",r.enableOverflow?(n+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true">',n+='<div is="emby-itemscontainer" class="itemsContainer scrollSlider focuscontainer-x">'):n+='<div is="emby-itemscontainer" class="itemsContainer padded-left padded-right vertical-wrap focuscontainer-x">',r.enableOverflow&&(n+="</div>"),n+="</div>",n+="</div>",e.innerHTML=n;var a,o=e.querySelector(".itemsContainer");o&&(o.parentContainer=e,o.fetchData=function(e){return function(){var t=u.Z.getApiClient(e);return t.getLiveTvRecommendedPrograms({userId:t.getCurrentUserId(),IsAiring:!0,limit:24,ImageTypeLimit:1,EnableImageTypes:"Primary,Thumb,Backdrop",EnableTotalRecordCount:!1,Fields:"ChannelInfo,PrimaryImageAspectRatio"})}}(t),o.getItemsHtml=(a=r.enableOverflow,function(e){return f.default.getCardsHtml({items:e,preferThumb:"auto",inheritThumb:!1,shape:a?"autooverflow":"auto",showParentTitleOrTitle:!0,showTitle:!0,centerText:!0,coverImage:!0,overlayText:!1,allowBottomPadding:!a,showAirTime:!0,showChannelName:!1,showAirDateTime:!1,showAirEndTime:!0,defaultShape:(0,y.gB)(a),lines:3,overlayPlayButton:!0})}))}(e,t.serverId(),n)})):Promise.resolve()}(h,t,r,T);case n.NextUp:!function(e,t,r,n){var a="";a+='<div class="sectionTitleContainer sectionTitleContainer-cards padded-left">',i.Z.tv?(a+='<h2 class="sectionTitle sectionTitle-cards">',a+=s.ZP.translate("NextUp"),a+="</h2>"):(a+='<a is="emby-linkbutton" href="'+p.appRouter.getRouteUrl("nextup",{serverId:t.serverId()})+'" class="button-flat button-flat-mini sectionTitleTextButton">',a+='<h2 class="sectionTitle sectionTitle-cards">',a+=s.ZP.translate("NextUp"),a+="</h2>",a+='<span class="material-icons chevron_right" aria-hidden="true"></span>',a+="</a>"),a+="</div>",n.enableOverflow?(a+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true">',a+='<div is="emby-itemscontainer" class="itemsContainer scrollSlider focuscontainer-x" data-monitor="videoplayback,markplayed">'):a+='<div is="emby-itemscontainer" class="itemsContainer padded-left padded-right vertical-wrap focuscontainer-x" data-monitor="videoplayback,markplayed">',n.enableOverflow&&(a+="</div>"),a+="</div>",e.classList.add("hide"),e.innerHTML=a;var o,l,c=e.querySelector(".itemsContainer");c&&(c.fetchData=function(e,t,r){var n=r.enableOverflow;return function(){var r=u.Z.getApiClient(e),i=new Date;return i.setDate(i.getDate()-t.maxDaysForNextUp()),r.getNextUpEpisodes({Limit:n?24:15,Fields:"PrimaryImageAspectRatio,DateCreated,Path,MediaSourceCount",UserId:r.getCurrentUserId(),ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Banner,Thumb",EnableTotalRecordCount:!1,DisableFirstEpisode:!1,NextUpDateCutoff:i.toISOString(),EnableResumable:!1,EnableRewatching:t.enableRewatchingInNextUp()})}}(t.serverId(),r,n),c.getItemsHtml=(o=r.useEpisodeImagesInNextUpAndResume(),l=n.enableOverflow,function(e){return f.default.getCardsHtml({items:e,preferThumb:!0,inheritThumb:!o,shape:(0,y.gB)(l),overlayText:!1,showTitle:!0,showParentTitle:!0,lazy:!0,overlayPlayButton:!0,context:"home",centerText:!0,allowBottomPadding:!l,cardLayout:!1})}),c.parentContainer=e)}(h,t,a,T);break;case n.Resume:return C(h,t,"HeaderContinueWatching","Video",a,T);case n.ResumeAudio:return C(h,t,"HeaderContinueListening","Audio",a,T);case n.ResumeBook:return C(h,t,"HeaderContinueReading","Book",a,T);case n.SmallLibraryTiles:!function(e,t,r){var n=r.enableOverflow,i="";t.length&&(i+='<h2 class="sectionTitle sectionTitle-cards padded-left">'+s.ZP.translate("HeaderMyMedia")+"</h2>",n?(i+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true">',i+='<div is="emby-itemscontainer" class="itemsContainer scrollSlider focuscontainer-x">'):i+='<div is="emby-itemscontainer" class="itemsContainer padded-left padded-right focuscontainer-x vertical-wrap">',i+=f.default.getCardsHtml({items:t,shape:(0,y.gB)(n),showTitle:!0,centerText:!0,overlayText:!1,lazy:!0,transition:!1,allowBottomPadding:!n}),n&&(i+="</div>"),i+="</div>"),e.innerHTML=i,m.default.lazyChildren(e)}(h,o,T);break;default:h.innerHTML=""}return Promise.resolve()}r(61414),r(82427),r(24432),r(38228);var x={getDefaultSection:S,loadSections:function(e,t,r,o){var u=r.Id||t.getCurrentUserId();return d.E.fetchQuery((0,a.l)((0,c.a)(t),u)).then((function(e){return e.Items||[]})).then((function(a){var c,d,u="";if(a.length){for(var f=i.Z.tv?8:7,h=0;h<f;h++)u+='<div class="verticalSection section'+h+'"></div>';e.innerHTML=u,e.classList.add("homeSectionsContainer");for(var v=[],m=function(e,t){for(var r=[],a=0;a<7;a++){var s=e.get("homesection"+a)||S(a);"folders"===s&&(s=S(0)),r.push(s)}return!i.Z.tv||r.includes(n.SmallLibraryTiles)||r.includes(n.LibraryButtons)?r:[n.SmallLibraryTiles].concat(r)}(o),p=0;p<m.length;p++)v.push(L(e,t,r,o,a,m,p));return Promise.all(v).then((function(){return new Promise((function(e){return setTimeout(e,0)}))})).then((function(){return P(e,{refresh:!0})}))}d=null!==(c=r.Policy)&&void 0!==c&&c.IsAdministrator?s.ZP.translate("NoCreatedLibraries",'<br><a id="button-createLibrary" class="button-link">',"</a>"):s.ZP.translate("AskAdminToCreateLibrary"),u+='<div class="centerMessage padded-left padded-right">',u+="<h2>"+s.ZP.translate("MessageNothingHere")+"</h2>",u+="<p>"+d+"</p>",u+="</div>",e.innerHTML=u;var b=e.querySelector("#button-createLibrary");b&&b.addEventListener("click",(function(){l.default.navigate("dashboard/libraries")}))}))},destroySections:function(e){var t,r=w(e.querySelectorAll(".itemsContainer"));try{for(r.s();!(t=r.n()).done;){var n=t.value;n.fetchData=null,n.parentContainer=null,n.getItemsHtml=null}}catch(e){r.e(e)}finally{r.f()}e.innerHTML=""},pause:function(e){var t,r=w(e.querySelectorAll(".itemsContainer"));try{for(r.s();!(t=r.n()).done;)t.value.pause()}catch(e){r.e(e)}finally{r.f()}},resume:P}},82427:function(e,t,r){"use strict";r(13227),r(81414),r(37666),r(14011),r(11431),r(44901),r(54112);var n=r(61008),i=r(58517),a=r(48957),s=r(81038),o=r(30325),l=r(57366),c=r(72365),d=r(84597),u=r(34643),f=r(44038),h=r(67561),v=(r(67752),r(18613)),m=r(28172),p=Object.create(HTMLDivElement.prototype);function b(e){var t=this,r=t.multiSelect;!1!==(null==r?void 0:r.onContainerClick.call(t,e))&&n.ZP.onClick.call(t,e)}function y(e){return e.preventDefault(),e.stopPropagation(),!1}function g(e){var t=e.target,r=c.ZP.parentWithAttribute(t,"data-id");if(null!=r&&r.getAttribute("data-serverid"))return i.default.handleCommand("menu",{sourceElement:r}),e.preventDefault(),e.stopPropagation(),!1}function T(e,t,n){var i=this;Promise.all([r.e(28621),r.e(61570),r.e(26882)]).then(r.bind(r,61570)).then((function(e){e.onUserDataChanged(n,i)}));var a=C(i);-1===a.indexOf("markfavorite")&&-1===a.indexOf("markplayed")||i.notifyRefreshNeeded()}function C(e){var t=e.getAttribute("data-monitor");return t?t.split(","):[]}function w(e,t,n){var i=this;if(-1===C(i).indexOf("timers")){var a=n.ProgramId,s=n.Id;Promise.all([r.e(28621),r.e(61570),r.e(26882)]).then(r.bind(r,61570)).then((function(e){e.onTimerCreated(a,s,i)}))}else i.notifyRefreshNeeded()}function I(){-1!==C(this).indexOf("seriestimers")&&this.notifyRefreshNeeded()}function S(e,t,n){var i=this;-1===C(i).indexOf("timers")?Promise.all([r.e(28621),r.e(61570),r.e(26882)]).then(r.bind(r,61570)).then((function(e){e.onTimerCancelled(n.Id,i)})):i.notifyRefreshNeeded()}function P(e,t,n){var i=this;-1===C(i).indexOf("seriestimers")?Promise.all([r.e(28621),r.e(61570),r.e(26882)]).then(r.bind(r,61570)).then((function(e){e.onSeriesTimerCancelled(n.Id,i)})):i.notifyRefreshNeeded()}function L(e,t,r){var n=this,i=C(n);if(-1===i.indexOf("seriestimers")&&-1===i.indexOf("timers")){var a=r.ItemsAdded||[],s=r.ItemsRemoved||[];if(a.length||s.length){var o=n.getAttribute("data-parentid");if(o){var l=r.FoldersAddedTo||[],c=r.FoldersRemovedFrom||[],d=r.CollectionFolders||[];if(-1===l.indexOf(o)&&-1===c.indexOf(o)&&-1===d.indexOf(o))return}n.notifyRefreshNeeded()}}}function x(e,t){var r,n=this,i=t.state,a=C(n);if(i.NowPlayingItem&&"Video"===i.NowPlayingItem.MediaType){if(-1!==a.indexOf("videoplayback"))return void n.notifyRefreshNeeded(!0)}else if("Audio"===(null===(r=i.NowPlayingItem)||void 0===r?void 0:r.MediaType)&&-1!==a.indexOf("audioplayback"))return void n.notifyRefreshNeeded(!0)}function R(e,t,r,n){var i=r.bind(e);n=n||f.default,h.Z.on(n,t,i),e["event_"+t]=i}function A(e,t,r){var n=e["event_"+t];n&&(r=r||f.default,h.Z.off(r,t,n),e["event_"+t]=null)}function k(e,t){e.refreshInterval&&(clearInterval(e.refreshInterval),e.refreshInterval=null,t||(e.refreshIntervalEndTime=null))}function E(e,t){k(e),t||(t=parseInt(e.getAttribute("data-refreshinterval")||"0",10)),t&&(e.refreshInterval=setInterval(e.notifyRefreshNeeded.bind(e),t),e.refreshIntervalEndTime=(new Date).getTime()+t)}function Z(e){var t=e.Items||e,r=this.parentContainer;r&&(t.length?r.classList.remove("hide"):r.classList.add("hide"));var n,i,a=document.activeElement;this.contains(a)&&(i=!0,n=a.getAttribute("data-id")),this.innerHTML=this.getItemsHtml(t),s.default.lazyChildren(this),i&&function(e,t){if(t){var r=e.querySelector('[data-id="'+t+'"]');if(r)try{return void u.Z.focus(r)}catch(e){console.error(e)}}u.Z.autoFocus(e)}(this,n),E(this),this.afterRefresh&&this.afterRefresh(e)}p.enableMultiSelect=function(e){var t=this.multiSelect;if(e){if(!t){var n=this;r.e(52943).then(r.bind(r,8156)).then((function(e){var t=e.default;n.multiSelect=new t({container:n,bindOnClick:!1})}))}}else t&&(t.destroy(),this.multiSelect=null)},p.enableDragReordering=function(e){var t=this.sortable;if(e){if(!t){var r=this;r.sortable=new m.ZP(r,{draggable:".listItem",handle:".listViewDragHandle",onEnd:function(e){return function(e,t){var r=e.item,n=e.newIndex,i=r.getAttribute("data-playlistitemid"),a=r.getAttribute("data-playlistid");if(a){var s=r.getAttribute("data-serverid"),o=v.Z.getApiClient(s);d.ZP.show(),o.ajax({url:o.getUrl("Playlists/"+a+"/Items/"+i+"/Move/"+n),type:"POST"}).then((function(){d.ZP.hide()}),(function(){d.ZP.hide(),t.refreshItems()}))}else{var l=e.oldIndex;r.dispatchEvent(new CustomEvent("itemdrop",{detail:{oldIndex:l,newIndex:n,playlistItemId:i},bubbles:!0,cancelable:!1}))}}(e,r)}})}}else t&&(t.destroy(),this.sortable=null)},p.createdCallback=function(){this.classList.add("itemsContainer")},p.attachedCallback=function(){this.addEventListener("click",b),l.Z.touch?this.addEventListener("contextmenu",y):"false"!==this.getAttribute("data-contextmenu")&&this.addEventListener("contextmenu",g),(o.Z.desktop||o.Z.mobile&&"false"!==this.getAttribute("data-multiselect"))&&this.enableMultiSelect(!0),o.Z.tv&&this.classList.add("itemsContainer-tv"),n.ZP.on(this,{click:!1}),R(this,"UserDataChanged",T),R(this,"TimerCreated",w),R(this,"SeriesTimerCreated",I),R(this,"TimerCancelled",S),R(this,"SeriesTimerCancelled",P),R(this,"LibraryChanged",L),R(this,"playbackstop",x,a.O),"true"===this.getAttribute("data-dragreorder")&&this.enableDragReordering(!0)},p.detachedCallback=function(){k(this),this.enableMultiSelect(!1),this.enableDragReordering(!1),this.removeEventListener("click",b),this.removeEventListener("contextmenu",g),this.removeEventListener("contextmenu",y),n.ZP.off(this,{click:!1}),A(this,"UserDataChanged"),A(this,"TimerCreated"),A(this,"SeriesTimerCreated"),A(this,"TimerCancelled"),A(this,"SeriesTimerCancelled"),A(this,"LibraryChanged"),A(this,"playbackstop",a.O),this.fetchData=null,this.getItemsHtml=null,this.parentContainer=null},p.pause=function(){k(this,!0),this.paused=!0},p.resume=function(e){this.paused=!1;var t=this.refreshIntervalEndTime;if(t){var r=t-(new Date).getTime();r>0&&!this.needsRefresh?E(this,r):(this.needsRefresh=!0,this.refreshIntervalEndTime=null)}return this.needsRefresh||null!=e&&e.refresh?this.refreshItems():Promise.resolve()},p.refreshItems=function(){return this.fetchData?this.paused?(this.needsRefresh=!0,Promise.resolve()):(this.needsRefresh=!1,this.fetchData().then(Z.bind(this))):Promise.resolve()},p.notifyRefreshNeeded=function(e){if(this.paused)this.needsRefresh=!0;else{var t=this.refreshTimeout;t&&clearTimeout(t),!0===e?this.refreshItems():this.refreshTimeout=setTimeout(this.refreshItems.bind(this),1e4)}},document.registerElement("emby-itemscontainer",{prototype:p,extends:"div"})},24432:function(e,t,r){"use strict";r(13227),r(81414),r(37666),r(14011),r(11431);var n=r(15723),i=r(72365),a=r(30325),s=r(58517),o=r(34643),l=r(57366),c=(r(67752),Object.create(HTMLDivElement.prototype));function d(e){var t=e.detail.command;"end"===t?(o.Z.focusLast(this,"."+this.getAttribute("data-navcommands")),e.preventDefault(),e.stopPropagation()):"pageup"===t?(o.Z.moveFocus(e.target,this,"."+this.getAttribute("data-navcommands"),-12),e.preventDefault(),e.stopPropagation()):"pagedown"===t&&(o.Z.moveFocus(e.target,this,"."+this.getAttribute("data-navcommands"),12),e.preventDefault(),e.stopPropagation())}c.createdCallback=function(){this.classList.add("emby-scroller")},c.scrollToBeginning=function(){this.scroller&&this.scroller.slideTo(0,!0)},c.toStart=function(e,t){this.scroller&&this.scroller.toStart(e,t)},c.toCenter=function(e,t){this.scroller&&this.scroller.toCenter(e,t)},c.scrollToPosition=function(e,t){this.scroller&&this.scroller.slideTo(e,t)},c.getScrollPosition=function(){if(this.scroller)return this.scroller.getScrollPosition()},c.getScrollSize=function(){if(this.scroller)return this.scroller.getScrollSize()},c.getScrollEventName=function(){if(this.scroller)return this.scroller.getScrollEventName()},c.getScrollSlider=function(){if(this.scroller)return this.scroller.getScrollSlider()},c.addScrollEventListener=function(e,t){this.scroller&&i.ZP.addEventListener(this.scroller.getScrollFrame(),this.scroller.getScrollEventName(),e,t)},c.removeScrollEventListener=function(e,t){this.scroller&&i.ZP.removeEventListener(this.scroller.getScrollFrame(),this.scroller.getScrollEventName(),e,t)},c.attachedCallback=function(){this.getAttribute("data-navcommands")&&s.default.on(this,d);var e="false"!==this.getAttribute("data-horizontal"),t=this.querySelector(".scrollSlider");e&&(t.style["white-space"]="nowrap");var c,u,f=a.Z.desktop&&e&&"false"!==this.getAttribute("data-scrollbuttons"),h={horizontal:e,mouseDragging:1,mouseWheel:"false"!==this.getAttribute("data-mousewheel"),touchDragging:1,slidee:t,scrollBy:200,speed:e?270:240,elasticBounds:1,dragHandle:1,autoImmediate:!0,skipSlideToWhenVisible:"true"===this.getAttribute("data-skipfocuswhenvisible"),dispatchScrollEvent:f||"true"===this.getAttribute("data-scrollevent"),hideScrollbar:f||"true"===this.getAttribute("data-hidescrollbar"),allowNativeSmoothScroll:"true"===this.getAttribute("data-allownativesmoothscroll")&&!f,allowNativeScroll:!f,forceHideScrollbars:f,requireAnimation:f&&l.Z.edge};this.scroller=new n.Z(this,h),this.scroller.init(),this.scroller.reload(),a.Z.tv&&this.getAttribute("data-centerfocus")&&(this,c=this.scroller,i.ZP.addEventListener(this,"focus",(function(e){var t=o.Z.focusableParent(e.target);t&&c.toCenter(t)}),{capture:!0,passive:!0})),f&&(u=this,r.e(39346).then(r.bind(r,39346)).then((function(){u.insertAdjacentHTML("beforebegin",'<div is="emby-scrollbuttons" class="emby-scrollbuttons padded-right"></div>')})))},c.pause=function(){var e=this.headroom;e&&e.pause()},c.resume=function(){var e=this.headroom;e&&e.resume()},c.detachedCallback=function(){this.getAttribute("data-navcommands")&&s.default.off(this,d);var e=this.headroom;e&&(e.destroy(),this.headroom=null);var t=this.scroller;t&&(t.destroy(),this.scroller=null)},document.registerElement("emby-scroller",{prototype:c,extends:"div"})},38552:function(e,t,r){"use strict";r.d(t,{G:function(){return c},l:function(){return l}});var n=r(58832),i=r(63975),a=r(98141),s=r(2943),o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},l=function(e,t,r){return(0,a.C)({queryKey:["User",t,"Views",r],queryFn:function(i){var a=i.signal;return function(e,t,r,i){return a=void 0,s=void 0,c=function(){return function(e,t){var r,n,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(a){switch(a.label){case 0:if(!e)throw new Error("No API instance available");if(!t)throw new Error("No User ID provided");return[4,(0,n.U)(e).getUserViews(o(o({},r),{userId:t}),i)];case 1:return[2,a.sent().data]}}))},new((l=void 0)||(l=Promise))((function(e,t){function r(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof l?i:new l((function(e){e(i)}))).then(r,n)}i((c=c.apply(a,s||[])).next())}));var a,s,l,c}(e,t,r,{signal:a})},staleTime:1e3,enabled:!!e&&!!t})},c=function(e,t){var r=(0,s.h_)().api;return(0,i.a)(l(r,e,t))}},98141:function(e,t,r){"use strict";function n(e){return e}r.d(t,{C:function(){return n}})},94047:function(e,t,r){"use strict";var n=r(27378),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=n.useState,s=n.useEffect,o=n.useLayoutEffect,l=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=a({inst:{value:r,getSnapshot:t}}),i=n[0].inst,d=n[1];return o((function(){i.value=r,i.getSnapshot=t,c(i)&&d({inst:i})}),[e,r,t]),s((function(){return c(i)&&d({inst:i}),e((function(){c(i)&&d({inst:i})}))}),[e]),l(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:d},70644:function(e,t,r){"use strict";e.exports=r(94047)},90005:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=s(e,a(r)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=s(t,r));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()}}]);