"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[97746],{12658:function(e,t,n){n.d(t,{w:function(){return v}}),n(23938),n(61013),n(27471),n(19068),n(87211),n(25901),n(92189),n(63238),n(95163),n(99785),n(91047),n(5769),n(17460),n(14078);var i=n(34643),a=n(30325),r=n(72365),s=n(94994);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(void 0,a=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t);if("object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i.key,"string"),"symbol"===o(a)?a:String(a)),i)}var a}n(61414);var u="alphaPickerButton-selected";function c(){var e=this.querySelector(".".concat(u));e?i.Z.focus(e):i.Z.autoFocus(this,!0)}function d(e){var t="alphaPickerButton";return a.Z.tv&&(t+=" alphaPickerButton-tv"),e&&(t+=" alphaPickerButton-vertical"),t}function f(e,t){return e.map((function(e){return function(e,t){return'<button data-value="'.concat(e,'" class="').concat(d(t),'">').concat(e,"</button>")}(e,t)}))}var v=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=this;this.options=t;var i,o,l,u,v=t.element,h=t.itemsContainer,m=t.itemClass;function p(){o=null,n.value(i)}function y(){if(u=null,document.activeElement===l){var e=l.getAttribute("data-value");n.value(e,!0)}}function g(e){var t=r.ZP.parentWithClass(e.target,"alphaPickerButton");if(t){var n=t.getAttribute("data-value");v.dispatchEvent(new CustomEvent("alphavalueclicked",{cancelable:!1,detail:{value:n}}))}}function b(e){var t=r.ZP.parentWithClass(e.target,"alphaPickerButton");if(t){var n=t.getAttribute("data-value");(this._currentValue||"").toUpperCase()===n.toUpperCase()?this.value(null,!0):this.value(n,!0)}}function S(e){u&&(clearTimeout(u),u=null);var t=r.ZP.parentWithClass(e.target,"alphaPickerButton");t&&(l=t,u=setTimeout(y,600))}function I(e){var t=r.ZP.parentWithClass(e.target,m);if(t){var n=t.getAttribute("data-prefix");n&&n.length&&(i=n[0],o&&clearTimeout(o),o=setTimeout(p,100))}}this.enabled=function(e){e?(h&&h.addEventListener("focus",I,!0),"keyboard"===t.mode&&v.addEventListener("click",g),"click"!==t.valueChangeEvent?v.addEventListener("focus",S,!0):v.addEventListener("click",b.bind(this))):(h&&h.removeEventListener("focus",I,!0),v.removeEventListener("click",g),v.removeEventListener("focus",S,!0),v.removeEventListener("click",b.bind(this)))},function(e,t){e.classList.add("alphaPicker"),a.Z.tv&&e.classList.add("alphaPicker-tv");var n=e.classList.contains("alphaPicker-vertical");n||e.classList.add("focuscontainer-x");var i,r="",o=d(n),l="alphaPickerRow";n&&(l+=" alphaPickerRow-vertical"),r+='<div class="'.concat(l,'">'),"keyboard"===t.mode?r+='<button data-value=" " is="paper-icon-button-light" class="'.concat(o,'" aria-label="').concat(s.ZP.translate("ButtonSpace"),'"><span class="material-icons alphaPickerButtonIcon space_bar" aria-hidden="true"></span></button>'):r+=f(i=["#"],n).join(""),r+=f(i=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n).join(""),"keyboard"===t.mode?(r+='<button data-value="backspace" is="paper-icon-button-light" class="'.concat(o,'" aria-label="').concat(s.ZP.translate("ButtonBackspace"),'"><span class="material-icons alphaPickerButtonIcon backspace" aria-hidden="true"></span></button>'),r+="</div>",i=["0","1","2","3","4","5","6","7","8","9"],r+='<div class="'.concat(l,'">'),r+="<br/>",r+=f(i,n).join(""),r+="</div>"):r+="</div>",e.innerHTML=r,e.classList.add("focusable"),e.focus=c}(v,t),this.enabled(!0),this.visible(!0)}var t,n;return t=e,(n=[{key:"value",value:function(e,t){var n,i,a=this.options.element;if(void 0!==e)if(null!=e){if(e=e.toUpperCase(),this._currentValue=e,"keyboard"!==this.options.mode){i=a.querySelector(".".concat(u));try{n=a.querySelector(".alphaPickerButton[data-value='".concat(e,"']"))}catch(e){console.error("error in querySelector:",e)}n&&n!==i&&n.classList.add(u),i&&i!==n&&i.classList.remove(u)}}else this._currentValue=e,(i=a.querySelector(".".concat(u)))&&i.classList.remove(u);return t&&a.dispatchEvent(new CustomEvent("alphavaluechanged",{cancelable:!1,detail:{value:e}})),this._currentValue}},{key:"on",value:function(e,t){this.options.element.addEventListener(e,t)}},{key:"off",value:function(e,t){this.options.element.removeEventListener(e,t)}},{key:"updateControls",value:function(e){e.NameLessThan?this.value("#"):this.value(e.NameStartsWith),this.visible(-1!==e.SortBy.indexOf("SortName"))}},{key:"visible",value:function(e){this.options.element.style.visibility=e?"visible":"hidden"}},{key:"values",value:function(){for(var e=this.options.element.querySelectorAll(".alphaPickerButton"),t=[],n=0,i=e.length;n<i;n++)t.push(e[n].getAttribute("data-value"));return t}},{key:"focus",value:function(){var e=this.options.element;i.Z.autoFocus(e,!0)}},{key:"destroy",value:function(){var e=this.options.element;this.enabled(!1),e.classList.remove("focuscontainer-x"),this.options=null}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.Z=v},82427:function(e,t,n){n(5769),n(63238),n(61418),n(17460),n(14078),n(27471),n(32081);var i=n(61008),a=n(58517),r=n(48957),s=n(98301),o=n(30325),l=n(57366),u=n(72365),c=n(28540),d=n(34643),f=n(44038),v=n(81643),h=(n(67752),n(18613)),m=n(28172),p=Object.create(HTMLDivElement.prototype);function y(e){var t=this,n=t.multiSelect;!1!==(null==n?void 0:n.onContainerClick.call(t,e))&&i.ZP.onClick.call(t,e)}function g(e){return e.preventDefault(),e.stopPropagation(),!1}function b(e){var t=e.target,n=u.ZP.parentWithAttribute(t,"data-id");if(n&&n.getAttribute("data-serverid"))return a.default.handleCommand("menu",{sourceElement:n}),e.preventDefault(),e.stopPropagation(),!1}function S(e,t,i){var a=this;Promise.all([n.e(61570),n.e(7293)]).then(n.bind(n,61570)).then((function(e){e.onUserDataChanged(i,a)}));var r=I(a);-1===r.indexOf("markfavorite")&&-1===r.indexOf("markplayed")||a.notifyRefreshNeeded()}function I(e){var t=e.getAttribute("data-monitor");return t?t.split(","):[]}function P(e,t,i){var a=this;if(-1===I(a).indexOf("timers")){var r=i.ProgramId,s=i.Id;Promise.all([n.e(61570),n.e(7293)]).then(n.bind(n,61570)).then((function(e){e.onTimerCreated(r,s,a)}))}else a.notifyRefreshNeeded()}function w(){-1!==I(this).indexOf("seriestimers")&&this.notifyRefreshNeeded()}function T(e,t,i){var a=this;-1===I(a).indexOf("timers")?Promise.all([n.e(61570),n.e(7293)]).then(n.bind(n,61570)).then((function(e){e.onTimerCancelled(i.Id,a)})):a.notifyRefreshNeeded()}function k(e,t,i){var a=this;-1===I(a).indexOf("seriestimers")?Promise.all([n.e(61570),n.e(7293)]).then(n.bind(n,61570)).then((function(e){e.onSeriesTimerCancelled(i.Id,a)})):a.notifyRefreshNeeded()}function x(e,t,n){var i=this,a=I(i);if(-1===a.indexOf("seriestimers")&&-1===a.indexOf("timers")){var r=n.ItemsAdded||[],s=n.ItemsRemoved||[];if(r.length||s.length){var o=i.getAttribute("data-parentid");if(o){var l=n.FoldersAddedTo||[],u=n.FoldersRemovedFrom||[],c=n.CollectionFolders||[];if(-1===l.indexOf(o)&&-1===u.indexOf(o)&&-1===c.indexOf(o))return}i.notifyRefreshNeeded()}}}function C(e,t){var n,i=this,a=t.state,r=I(i);if(a.NowPlayingItem&&"Video"===a.NowPlayingItem.MediaType){if(-1!==r.indexOf("videoplayback"))return void i.notifyRefreshNeeded(!0)}else if("Audio"===(null===(n=a.NowPlayingItem)||void 0===n?void 0:n.MediaType)&&-1!==r.indexOf("audioplayback"))return void i.notifyRefreshNeeded(!0)}function O(e,t,n,i){var a=n.bind(e);i=i||f.default,v.Z.on(i,t,a),e["event_"+t]=a}function L(e,t,n){var i=e["event_"+t];i&&(n=n||f.default,v.Z.off(n,t,i),e["event_"+t]=null)}function j(e,t){e.refreshInterval&&(clearInterval(e.refreshInterval),e.refreshInterval=null,t||(e.refreshIntervalEndTime=null))}function E(e,t){j(e),t||(t=parseInt(e.getAttribute("data-refreshinterval")||"0")),t&&(e.refreshInterval=setInterval(e.notifyRefreshNeeded.bind(e),t),e.refreshIntervalEndTime=(new Date).getTime()+t)}function N(e){var t=e.Items||e,n=this.parentContainer;n&&(t.length?n.classList.remove("hide"):n.classList.add("hide"));var i,a,r=document.activeElement;this.contains(r)&&(a=!0,i=r.getAttribute("data-id")),this.innerHTML=this.getItemsHtml(t),s.default.lazyChildren(this),a&&function(e,t){if(t){var n=e.querySelector('[data-id="'+t+'"]');if(n)try{return void d.Z.focus(n)}catch(e){console.error(e)}}d.Z.autoFocus(e)}(this,i),E(this),this.afterRefresh&&this.afterRefresh(e)}p.enableMultiSelect=function(e){var t=this.multiSelect;if(e){if(!t){var i=this;n.e(52943).then(n.bind(n,52943)).then((function(e){var t=e.default;i.multiSelect=new t({container:i,bindOnClick:!1})}))}}else t&&(t.destroy(),this.multiSelect=null)},p.enableDragReordering=function(e){var t=this.sortable;if(e){if(!t){var n=this;n.sortable=new m.ZP(n,{draggable:".listItem",handle:".listViewDragHandle",onEnd:function(e){return function(e,t){var n=e.item,i=e.newIndex,a=n.getAttribute("data-playlistitemid"),r=n.getAttribute("data-playlistid");if(r){var s=n.getAttribute("data-serverid"),o=h.Z.getApiClient(s);c.ZP.show(),o.ajax({url:o.getUrl("Playlists/"+r+"/Items/"+a+"/Move/"+i),type:"POST"}).then((function(){c.ZP.hide()}),(function(){c.ZP.hide(),t.refreshItems()}))}else{var l=e.oldIndex;n.dispatchEvent(new CustomEvent("itemdrop",{detail:{oldIndex:l,newIndex:i,playlistItemId:a},bubbles:!0,cancelable:!1}))}}(e,n)}})}}else t&&(t.destroy(),this.sortable=null)},p.createdCallback=function(){this.classList.add("itemsContainer")},p.attachedCallback=function(){this.addEventListener("click",y),l.Z.touch?this.addEventListener("contextmenu",g):"false"!==this.getAttribute("data-contextmenu")&&this.addEventListener("contextmenu",b),(o.Z.desktop||o.Z.mobile&&"false"!==this.getAttribute("data-multiselect"))&&this.enableMultiSelect(!0),o.Z.tv&&this.classList.add("itemsContainer-tv"),i.ZP.on(this,{click:!1}),O(this,"UserDataChanged",S),O(this,"TimerCreated",P),O(this,"SeriesTimerCreated",w),O(this,"TimerCancelled",T),O(this,"SeriesTimerCancelled",k),O(this,"LibraryChanged",x),O(this,"playbackstop",C,r.O),"true"===this.getAttribute("data-dragreorder")&&this.enableDragReordering(!0)},p.detachedCallback=function(){j(this),this.enableMultiSelect(!1),this.enableDragReordering(!1),this.removeEventListener("click",y),this.removeEventListener("contextmenu",b),this.removeEventListener("contextmenu",g),i.ZP.off(this,{click:!1}),L(this,"UserDataChanged"),L(this,"TimerCreated"),L(this,"SeriesTimerCreated"),L(this,"TimerCancelled"),L(this,"SeriesTimerCancelled"),L(this,"LibraryChanged"),L(this,"playbackstop",r.O),this.fetchData=null,this.getItemsHtml=null,this.parentContainer=null},p.pause=function(){j(this,!0),this.paused=!0},p.resume=function(e){this.paused=!1;var t=this.refreshIntervalEndTime;if(t){var n=t-(new Date).getTime();n>0&&!this.needsRefresh?E(this,n):(this.needsRefresh=!0,this.refreshIntervalEndTime=null)}return this.needsRefresh||e&&e.refresh?this.refreshItems():Promise.resolve()},p.refreshItems=function(){return this.fetchData?this.paused?(this.needsRefresh=!0,Promise.resolve()):(this.needsRefresh=!1,this.fetchData().then(N.bind(this))):Promise.resolve()},p.notifyRefreshNeeded=function(e){if(this.paused)this.needsRefresh=!0;else{var t=this.refreshTimeout;t&&clearTimeout(t),!0===e?this.refreshItems():this.refreshTimeout=setTimeout(this.refreshItems.bind(this),1e4)}},document.registerElement("emby-itemscontainer",{prototype:p,extends:"div"})},97746:function(e,t,n){n.d(t,{Z:function(){return B}});var i=n(24246),a=n(27378),r=n(28540),s=n(60934),o=n(12658),l=function(){return l=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l.apply(this,arguments)},u=function(e){var t=e.viewQuerySettings,n=e.setViewQuerySettings,r=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,a,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(e){a={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}((0,a.useState)(),2),s=r[0],u=r[1],c=(0,a.useRef)(null);null==s||s.updateControls(t);var d=(0,a.useCallback)((function(e){var t,i=e.detail.value;t="#"===i?{NameLessThan:"A",NameStartsWith:void 0}:{NameLessThan:void 0,NameStartsWith:i},n((function(e){return l(l(l({},e),{StartIndex:0}),t)}))}),[n]);return(0,a.useEffect)((function(){var e=c.current;return u(new o.Z({element:e,valueChangeEvent:"click"})),e&&e.addEventListener("alphavaluechanged",d),function(){null==e||e.removeEventListener("alphavaluechanged",d)}}),[d]),(0,i.jsx)("div",{ref:c,className:"alphaPicker alphaPicker-fixed alphaPicker-fixed-right alphaPicker-vertical alphabetPicker-right"})},c=n(43771),d=function(){return d=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},d.apply(this,arguments)},f=function(e){var t=e.topParentId,r=e.getItemTypes,s=e.getVisibleFilters,o=e.getFilterMenuOptions,l=e.viewQuerySettings,u=e.setViewQuerySettings,f=(0,a.useRef)(null),v=(0,a.useCallback)((function(){n.e(77611).then(n.bind(n,77611)).then((function(e){(new(0,e.default)).show({settings:l,visibleSettings:s(),parentId:t,itemTypes:r(),serverId:window.ApiClient.serverId(),filterMenuOptions:o(),setfilters:u})}))}),[l,s,t,r,o,u]);return(0,a.useEffect)((function(){var e,t=null===(e=f.current)||void 0===e?void 0:e.querySelector(".btnFilter");return null==t||t.addEventListener("click",v),function(){null==t||t.removeEventListener("click",v)}}),[v]),(0,i.jsx)("div",d({ref:f},{children:(0,i.jsx)(c.Z,{is:"paper-icon-button-light",className:"btnFilter autoSize",title:"Filter",icon:"material-icons filter_list"})}))},v=n(96398),h=n(98301),m=(n(82427),function(){return m=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},m.apply(this,arguments)}),p=function(e){var t=e.viewQuerySettings,n=e.getItemsHtml,r=(0,a.useRef)(null);(0,a.useEffect)((function(){var e,t=null===(e=r.current)||void 0===e?void 0:e.querySelector(".itemsContainer");t.innerHTML=n(),h.default.lazyChildren(t)}),[n]);var s="list"==t.imageType?"vertical-list":"vertical-wrap";return(0,i.jsx)("div",m({ref:r},{children:(0,i.jsx)(v.Z,{className:"itemsContainer ".concat(s," centered padded-left padded-right padded-right-withalphapicker")})}))},y=n(94994),g=function(){return g=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},g.apply(this,arguments)},b=function(e){var t=e.viewQuerySettings,n=e.setViewQuerySettings,r=e.itemsResult,o=void 0===r?{}:r,l=s.libraryPageSize(void 0),u=o.TotalRecordCount||0,d=t.StartIndex||0,f=u?d+1:0,v=l?Math.min(d+l,u):u,h=l>0&&l<u,m=(0,a.useRef)(null),p=(0,a.useCallback)((function(){if(l>0){var e=d+l;n((function(t){return g(g({},t),{StartIndex:e})}))}}),[l,n,d]),b=(0,a.useCallback)((function(){if(l>0){var e=Math.max(0,d-l);n((function(t){return g(g({},t),{StartIndex:e})}))}}),[l,n,d]);return(0,a.useEffect)((function(){var e,t,n=null===(e=m.current)||void 0===e?void 0:e.querySelector(".btnNextPage");n&&(n.disabled=d+l>=u,n.addEventListener("click",p));var i=null===(t=m.current)||void 0===t?void 0:t.querySelector(".btnPreviousPage");return i&&(i.disabled=!d,i.addEventListener("click",b)),function(){null==n||n.removeEventListener("click",p),null==i||i.removeEventListener("click",b)}}),[u,p,b,l,d]),(0,i.jsx)("div",g({ref:m},{children:(0,i.jsx)("div",g({className:"paging"},{children:(0,i.jsxs)("div",g({className:"listPaging",style:{display:"flex",alignItems:"center"}},{children:[(0,i.jsx)("span",{children:y.ZP.translate("ListPaging",f,v,u)}),h&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Z,{is:"paper-icon-button-light",className:"btnPreviousPage autoSize",icon:"material-icons arrow_back"}),(0,i.jsx)(c.Z,{is:"paper-icon-button-light",className:"btnNextPage autoSize",icon:"material-icons arrow_forward"})]})]}))}))}))},S=function(){return S=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},S.apply(this,arguments)},I=function(e){var t=e.getVisibleViewSettings,r=e.viewQuerySettings,s=e.setViewQuerySettings,o=(0,a.useRef)(null),l=(0,a.useCallback)((function(){n.e(49906).then(n.bind(n,49906)).then((function(e){(new(0,e.default)).show({settings:r,visibleSettings:t(),setviewsettings:s})}))}),[t,r,s]);return(0,a.useEffect)((function(){var e,t=null===(e=o.current)||void 0===e?void 0:e.querySelector(".btnSelectView");return null==t||t.addEventListener("click",l),function(){null==t||t.removeEventListener("click",l)}}),[l]),(0,i.jsx)("div",S({ref:o},{children:(0,i.jsx)(c.Z,{is:"paper-icon-button-light",className:"btnSelectView autoSize",title:"ButtonSelectView",icon:"material-icons view_comfy"})}))},P=n(48957),w=function(){return w=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},w.apply(this,arguments)},T=function(e){var t=e.itemsResult,n=void 0===t?{}:t,r=e.topParentId,s=(0,a.useRef)(null),o=(0,a.useCallback)((function(){window.ApiClient.getItem(window.ApiClient.getCurrentUserId(),r).then((function(e){P.O.shuffle(e)}))}),[r]);return(0,a.useEffect)((function(){var e,t=null===(e=s.current)||void 0===e?void 0:e.querySelector(".btnShuffle");t&&t.addEventListener("click",o)}),[n.TotalRecordCount,o]),(0,i.jsx)("div",w({ref:s},{children:(0,i.jsx)(c.Z,{is:"paper-icon-button-light",className:"btnShuffle autoSize",title:"Shuffle",icon:"material-icons shuffle"})}))},k=function(){return k=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},k.apply(this,arguments)},x=function(e){var t=e.getSortMenuOptions,r=e.viewQuerySettings,s=e.setViewQuerySettings,o=(0,a.useRef)(null),l=(0,a.useCallback)((function(){n.e(82059).then(n.bind(n,82059)).then((function(e){(new(0,e.default)).show({settings:r,sortOptions:t(),setSortValues:s})}))}),[t,r,s]);return(0,a.useEffect)((function(){var e,t=null===(e=o.current)||void 0===e?void 0:e.querySelector(".btnSort");return null==t||t.addEventListener("click",l),function(){null==t||t.removeEventListener("click",l)}}),[l]),(0,i.jsx)("div",k({ref:o},{children:(0,i.jsx)(c.Z,{is:"paper-icon-button-light",className:"btnSort autoSize",title:"Sort",icon:"material-icons sort_by_alpha"})}))},C=function(){return C=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},C.apply(this,arguments)},O=function(){var e=(0,a.useRef)(null),t=(0,a.useCallback)((function(){n.e(19449).then(n.bind(n,19449)).then((function(e){var t=e.default,n=window.ApiClient.serverId();(new t).show({items:[],serverId:n})}))}),[]);return(0,a.useEffect)((function(){var n,i=null===(n=e.current)||void 0===n?void 0:n.querySelector(".btnNewCollection");i&&i.addEventListener("click",t)}),[t]),(0,i.jsx)("div",C({ref:e},{children:(0,i.jsx)(c.Z,{is:"paper-icon-button-light",className:"btnNewCollection autoSize",title:"Add",icon:"material-icons add"})}))},L=n(18613),j=n(63873),E=n(61570),N=function(){return N=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},N.apply(this,arguments)},R=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,a,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(e){a={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s},Z=function(){return["showTitle","showYear","imageType","cardLayout"]},H=function(){return{}},V=function(){return["IsUnplayed","IsPlayed","IsFavorite","IsResumable","VideoType","HasSubtitles","HasTrailer","HasSpecialFeature","HasThemeSong","HasThemeVideo"]},A=function(){return[{name:y.ZP.translate("Name"),value:"SortName,ProductionYear"},{name:y.ZP.translate("OptionRandom"),value:"Random"},{name:y.ZP.translate("OptionImdbRating"),value:"CommunityRating,SortName,ProductionYear"},{name:y.ZP.translate("OptionCriticRating"),value:"CriticRating,SortName,ProductionYear"},{name:y.ZP.translate("OptionDateAdded"),value:"DateCreated,SortName,ProductionYear"},{name:y.ZP.translate("OptionDatePlayed"),value:"DatePlayed,SortName,ProductionYear"},{name:y.ZP.translate("OptionParentalRating"),value:"OfficialRating,SortName,ProductionYear"},{name:y.ZP.translate("OptionPlayCount"),value:"PlayCount,SortName,ProductionYear"},{name:y.ZP.translate("OptionReleaseDate"),value:"PremiereDate,SortName,ProductionYear"},{name:y.ZP.translate("Runtime"),value:"Runtime,SortName,ProductionYear"}]},D={showTitle:!0,showYear:!0,imageType:"primary",viewType:"",cardLayout:!1,SortBy:"SortName",SortOrder:"Ascending",IsPlayed:!1,IsUnplayed:!1,IsFavorite:!1,IsResumable:!1,Is4K:null,IsHD:null,IsSD:null,Is3D:null,VideoTypes:"",SeriesStatus:"",HasSubtitles:null,HasTrailer:null,HasSpecialFeature:null,HasThemeSong:null,HasThemeVideo:null,GenreIds:"",StartIndex:0},B=function(e){var t=e.topParentId,o=e.isBtnShuffleEnabled,l=void 0!==o&&o,c=e.isBtnFilterEnabled,d=void 0===c||c,v=e.isBtnNewCollectionEnabled,h=void 0!==v&&v,m=e.isAlphaPickerEnabled,g=void 0===m||m,S=e.getBasekey,P=e.getItemTypes,w=e.getNoItemsMessage,k=(0,a.useCallback)((function(){return"".concat(t," - ").concat(S())}),[S,t]),C=R((0,a.useState)(!1),2),B=C[0],F=C[1],M=R(function(e,t){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,a,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(e){a={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}((0,a.useState)((function(){var n=localStorage.getItem(e);return null!=n?JSON.parse(n):"function"==typeof t?t():t})),2),i=n[0],r=n[1];return(0,a.useEffect)((function(){localStorage.setItem(e,JSON.stringify(i))}),[e,i]),[i,r]}("viewQuerySettings - ".concat(k()),D),2),Q=M[0],Y=M[1],_=R((0,a.useState)({}),2),q=_[0],U=_[1],W=(0,a.useRef)(null),z=(0,a.useCallback)((function(){var e=P().join(",");return"Movie"===e||"BoxSet"===e?"movies":null}),[P]),G=(0,a.useCallback)((function(){var e,t,n,i;"banner"===Q.imageType?e="banner":"disc"===Q.imageType?(e="square",n=!0):"logo"===Q.imageType?(e="backdrop",i=!0):"thumb"===Q.imageType?(e="backdrop",t=!0):e="autoVertical";var a={shape:e,showTitle:Q.showTitle,showYear:Q.showYear,cardLayout:Q.cardLayout,centerText:!0,context:z(),coverImage:!0,preferThumb:t,preferDisc:n,preferLogo:i,overlayPlayButton:!1,overlayMoreButton:!0,overlayText:!Q.showTitle};return a.items=q.Items||[],a}),[z,q.Items,Q.cardLayout,Q.imageType,Q.showTitle,Q.showYear]),K=(0,a.useCallback)((function(){var e,t="";return t="list"===Q.imageType?j.Z.getListViewHtml({items:q.Items||[],context:z()}):E.default.getCardsHtml(q.Items||[],G()),(null===(e=q.Items)||void 0===e?void 0:e.length)||(t+='<div class="noItemsMessage centerMessage">',t+="<h1>"+y.ZP.translate("MessageNothingHere")+"</h1>",t+="<p>"+y.ZP.translate(w())+"</p>",t+="</div>"),t}),[G,z,q.Items,w,Q.imageType]),J=(0,a.useCallback)((function(){var e="BasicSyncInfo,MediaSourceCount";"primary"===Q.imageType&&(e+=",PrimaryImageAspectRatio"),Q.showYear&&(e+=",ProductionYear");var n,i=[];return Q.IsPlayed&&i.push("IsPlayed"),Q.IsUnplayed&&i.push("IsUnplayed"),Q.IsFavorite&&i.push("IsFavorite"),Q.IsResumable&&i.push("IsResumable"),Q.IsHD&&(n=!0),Q.IsSD&&(n=!1),{SortBy:Q.SortBy,SortOrder:Q.SortOrder,IncludeItemTypes:P().join(","),Recursive:!0,Fields:e,ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Banner,Thumb,Disc,Logo",Limit:s.libraryPageSize(void 0)||void 0,IsFavorite:"favorites"===S()||null,VideoTypes:Q.VideoTypes,GenreIds:Q.GenreIds,Is4K:!!Q.Is4K||null,IsHD:n,Is3D:!!Q.Is3D||null,HasSubtitles:!!Q.HasSubtitles||null,HasTrailer:!!Q.HasTrailer||null,HasSpecialFeature:!!Q.HasSpecialFeature||null,HasThemeSong:!!Q.HasThemeSong||null,HasThemeVideo:!!Q.HasThemeVideo||null,Filters:i.length?i.join(","):null,StartIndex:Q.StartIndex,NameLessThan:Q.NameLessThan,NameStartsWith:Q.NameStartsWith,ParentId:t}}),[Q.imageType,Q.showYear,Q.IsPlayed,Q.IsUnplayed,Q.IsFavorite,Q.IsResumable,Q.IsHD,Q.IsSD,Q.SortBy,Q.SortOrder,Q.VideoTypes,Q.GenreIds,Q.Is4K,Q.Is3D,Q.HasSubtitles,Q.HasTrailer,Q.HasSpecialFeature,Q.HasThemeSong,Q.HasThemeVideo,Q.StartIndex,Q.NameLessThan,Q.NameStartsWith,P,S,t]),X=(0,a.useCallback)((function(){r.ZP.show();var e=L.Z.getApiClient(window.ApiClient.serverId());return e.getItems(e.getCurrentUserId(),N({},J()))}),[J]),$=(0,a.useCallback)((function(){var e=W.current;e?(F(!1),X().then((function(t){U(t),window.scrollTo(0,0),Promise.resolve().then(n.bind(n,87680)).then((function(t){t.default.autoFocus(e)})),r.ZP.hide(),F(!0)}))):console.error("Unexpected null reference")}),[X]);return(0,a.useEffect)((function(){$()}),[$]),(0,i.jsxs)("div",N({ref:W},{children:[(0,i.jsxs)("div",N({className:"flex align-items-center justify-content-center flex-wrap-wrap padded-top padded-left padded-right padded-bottom focuscontainer-x"},{children:[(0,i.jsx)(b,{itemsResult:q,viewQuerySettings:Q,setViewQuerySettings:Y}),l&&(0,i.jsx)(T,{itemsResult:q,topParentId:t}),(0,i.jsx)(I,{getVisibleViewSettings:Z,viewQuerySettings:Q,setViewQuerySettings:Y}),(0,i.jsx)(x,{getSortMenuOptions:A,viewQuerySettings:Q,setViewQuerySettings:Y}),d&&(0,i.jsx)(f,{topParentId:t,getItemTypes:P,getVisibleFilters:V,getFilterMenuOptions:H,viewQuerySettings:Q,setViewQuerySettings:Y}),h&&(0,i.jsx)(O,{})]})),g&&(0,i.jsx)(u,{viewQuerySettings:Q,setViewQuerySettings:Y}),B&&(0,i.jsx)(p,{viewQuerySettings:Q,getItemsHtml:K}),(0,i.jsx)("div",N({className:"flex align-items-center justify-content-center flex-wrap-wrap padded-top padded-left padded-right padded-bottom focuscontainer-x"},{children:(0,i.jsx)(b,{itemsResult:q,viewQuerySettings:Q,setViewQuerySettings:Y})}))]}))}},43771:function(e,t,n){var i=n(24246),a=n(94994),r=function(e){var t=e.is,n=e.id,i=e.className,a=e.title,r=e.icon,s=e.dataIndex,o=e.dataTag,l=e.dataProfileid;return{__html:'<button\n        is="'.concat(t,'"\n        type="button"\n        ').concat(n,'\n        class="').concat(i,'"\n        ').concat(a,"\n        ").concat(s,"\n        ").concat(o,"\n        ").concat(l,'\n    >\n        <span class="material-icons ').concat(r,'" aria-hidden="true"></span>\n    </button>')}};t.Z=function(e){var t=e.is,n=e.id,s=e.className,o=e.title,l=e.icon,u=e.dataIndex,c=e.dataTag,d=e.dataProfileid;return(0,i.jsx)("div",{dangerouslySetInnerHTML:r({is:t,id:n?'id="'.concat(n,'"'):"",className:s,title:o?'title="'.concat(a.ZP.translate(o),'"'):"",icon:l,dataIndex:u?'data-index="'.concat(u,'"'):"",dataTag:c?'data-tag="'.concat(c,'"'):"",dataProfileid:d?'data-profileid="'.concat(d,'"'):""})})}},96398:function(e,t,n){var i=n(24246),a=function(e){var t=e.className,n=e.dataId;return{__html:'<div\n        is="emby-itemscontainer"\n        class="'.concat(t,'"\n        ').concat(n,"\n    >\n    </div>")}};t.Z=function(e){var t=e.className,n=e.dataId;return(0,i.jsx)("div",{dangerouslySetInnerHTML:a({className:t,dataId:n?'data-id="'.concat(n,'"'):""})})}}}]);