"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[13077,7293],{6055:function(e,t,n){var a=n(24246),r=n(27378),i=n(53424),s=function(){return s=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)};t.Z=function(e){var t=e.children,n=e.id,c=e.className,l=void 0===c?"":c,o=e.title,d=e.isBackButtonEnabled,u=void 0===d||d,f=e.isMenuButtonEnabled,v=void 0!==f&&f,p=e.isNowPlayingBarEnabled,h=void 0===p||p,m=e.isThemeMediaSupported,b=void 0!==m&&m,g=e.backDropType,y=(0,r.useRef)(null);return(0,r.useEffect)((function(){i.Z.hideView()}),[]),(0,r.useEffect)((function(){var e,t,n,a,r={bubbles:!0,cancelable:!1,detail:{isRestored:!1,options:{enableMediaControl:h,supportsThemeMedia:b}}};null===(e=y.current)||void 0===e||e.dispatchEvent(new CustomEvent("viewbeforeshow",r)),null===(t=y.current)||void 0===t||t.dispatchEvent(new CustomEvent("pagebeforeshow",r)),null===(n=y.current)||void 0===n||n.dispatchEvent(new CustomEvent("viewshow",r)),null===(a=y.current)||void 0===a||a.dispatchEvent(new CustomEvent("pageshow",r))}),[y,h,b]),(0,a.jsx)("div",s({ref:y,id:n,"data-role":"page",className:"page ".concat(l),"data-title":o,"data-backbutton":u,"data-menubutton":v,"data-backdroptype":g},{children:t}))}},43771:function(e,t,n){var a=n(24246),r=n(94994),i=function(e){var t=e.is,n=e.id,a=e.className,r=e.title,i=e.icon,s=e.dataIndex,c=e.dataTag,l=e.dataProfileid;return{__html:'<button\n        is="'.concat(t,'"\n        type="button"\n        ').concat(n,'\n        class="').concat(a,'"\n        ').concat(r,"\n        ").concat(s,"\n        ").concat(c,"\n        ").concat(l,'\n    >\n        <span class="material-icons ').concat(i,'" aria-hidden="true"></span>\n    </button>')}};t.Z=function(e){var t=e.is,n=e.id,s=e.className,c=e.title,l=e.icon,o=e.dataIndex,d=e.dataTag,u=e.dataProfileid;return(0,a.jsx)("div",{dangerouslySetInnerHTML:i({is:t,id:n?'id="'.concat(n,'"'):"",className:s,title:c?'title="'.concat(r.ZP.translate(c),'"'):"",icon:l,dataIndex:o?'data-index="'.concat(o,'"'):"",dataTag:d?'data-tag="'.concat(d,'"'):"",dataProfileid:u?'data-profileid="'.concat(u,'"'):""})})}},51361:function(e,t,n){n.d(t,{Z:function(){return o}});var a=n(24246),r=n(43771),i=n(94994),s=function(e){var t=e.className,n=e.title,a=e.href;return{__html:'<a\n        is="emby-linkbutton"\n        rel="noopener noreferrer"\n        class="'.concat(t,'"\n        target="_blank"\n        href="').concat(a,'"\n        >\n        ').concat(n,"\n    </a>")}},c=function(e){var t=e.className,n=e.title,r=e.url;return(0,a.jsx)("div",{dangerouslySetInnerHTML:s({className:t,title:i.ZP.translate(n),href:r})})},l=function(){return l=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},l.apply(this,arguments)},o=function(e){var t=e.SectionClassName,n=e.title,i=e.isBtnVisible,s=void 0!==i&&i,o=e.btnId,d=e.btnClassName,u=e.btnTitle,f=e.btnIcon,v=e.isLinkVisible,p=void 0===v||v,h=e.url;return(0,a.jsxs)("div",l({className:"".concat(t," sectionTitleContainer flex align-items-center")},{children:[(0,a.jsx)("h2",l({className:"sectionTitle"},{children:n})),s&&(0,a.jsx)(r.Z,{is:"emby-button",id:o,className:d,title:u,icon:f}),p&&(0,a.jsx)(c,{className:"raised button-alt headerHelpButton",title:"Help",url:h})]}))}},50831:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var a=n(24246),r=n(27378),i=n(60635),s=n(94994),c=n(28540),l=n(72365),o=n(3137),d=n(20990),u=n(15039),f=n(61570),v=n(43771),p=n(65009),h=n.n(p),m=function(){return m=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},m.apply(this,arguments)},b=function(e){var t=e.user,n=e.renderImgUrl;return{__html:'<a\n        is="emby-linkbutton"\n        class="cardContent"\n        href="#/useredit.html?userId='.concat(t.Id,'"\n        >\n        ').concat(n,"\n    </a>")}},g=function(e){var t,n,r,i=e.user,c=void 0===i?{}:i,l="card squareCard scalableCard squareCard-scalable";(null===(t=c.Policy)||void 0===t?void 0:t.IsDisabled)&&(l+=" grayscale"),c.PrimaryImageTag&&c.Id&&(r=window.ApiClient.getUserImageUrl(c.Id,{width:300,tag:c.PrimaryImageTag,type:"Primary"}));var o="cardImage";(null===(n=c.Policy)||void 0===n?void 0:n.IsDisabled)&&(o+=" disabledUser");var p,g=(p=c.LastActivityDate)?s.ZP.translate("LastSeen",(0,d.Z)(Date.parse(p),(0,u.LP)())):"",y=r?"<div class='".concat(o,"' style='background-image:url(").concat(r,")'></div>"):"<div class='".concat(o," ").concat(f.default.getDefaultBackgroundClass(c.Name)," flex align-items-center justify-content-center'>\n            <span class='material-icons cardImageIcon person' aria-hidden='true'></span>\n        </div>");return(0,a.jsx)("div",m({"data-userid":c.Id,className:l},{children:(0,a.jsxs)("div",m({className:"cardBox visualCardBox"},{children:[(0,a.jsxs)("div",m({className:"cardScalable visualCardBox-cardScalable"},{children:[(0,a.jsx)("div",{className:"cardPadder cardPadder-square"}),(0,a.jsx)("div",{dangerouslySetInnerHTML:b({user:c,renderImgUrl:y})})]})),(0,a.jsxs)("div",m({className:"cardFooter visualCardBox-cardFooter"},{children:[(0,a.jsx)("div",m({style:{textAlign:"right",float:"right",paddingTop:"5px"}},{children:(0,a.jsx)(v.Z,{is:"paper-icon-button-light",className:"btnUserMenu flex-shrink-zero",icon:"more_vert"})})),(0,a.jsx)("div",m({className:"cardText"},{children:(0,a.jsx)("span",{children:h()(c.Name)})})),(0,a.jsx)("div",m({className:"cardText cardText-secondary"},{children:(0,a.jsx)("span",{children:""!=g?g:""})}))]}))]}))}))},y=n(51361),x=(n(38228),n(61414),n(6055)),P=function(){return P=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},P.apply(this,arguments)},j=function(){var e=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s}((0,r.useState)([]),2),t=e[0],d=e[1],u=(0,r.useRef)(null),f=function(){c.ZP.show(),window.ApiClient.getUsers().then((function(e){d(e),c.ZP.hide()}))};return(0,r.useEffect)((function(){var e=u.current;if(e){f();e.addEventListener("click",(function(e){var t=l.ZP.parentWithClass(e.target,"btnUserMenu");t&&function(e){var t=l.ZP.parentWithClass(e,"card"),a=t.getAttribute("data-userid");if(a){var r=[];r.push({name:s.ZP.translate("ButtonOpen"),id:"open",icon:"mode_edit"}),r.push({name:s.ZP.translate("ButtonLibraryAccess"),id:"access",icon:"lock"}),r.push({name:s.ZP.translate("ButtonParentalControl"),id:"parentalcontrol",icon:"person"}),r.push({name:s.ZP.translate("Delete"),id:"delete",icon:"delete"}),Promise.resolve().then(n.bind(n,12801)).then((function(e){e.default.show({items:r,positionTo:t,callback:function(e){switch(e){case"open":i.default.navigate("useredit.html?userId="+a);break;case"access":i.default.navigate("userlibraryaccess.html?userId="+a);break;case"parentalcontrol":i.default.navigate("userparentalcontrol.html?userId="+a);break;case"delete":!function(e){var t=s.ZP.translate("DeleteUserConfirmation");(0,o.Z)({title:s.ZP.translate("DeleteUser"),text:t,confirmText:s.ZP.translate("Delete"),primary:"delete"}).then((function(){c.ZP.show(),window.ApiClient.deleteUser(e).then((function(){f()}))}))}(a)}}})}))}else console.error("Unexpected null user id")}(t)})),e.querySelector("#btnAddUser").addEventListener("click",(function(){i.default.navigate("usernew.html")}))}else console.error("Unexpected null reference")}),[]),(0,a.jsx)(x.Z,P({id:"userProfilesPage",className:"mainAnimatedPage type-interior userProfilesPage fullWidthContent"},{children:(0,a.jsxs)("div",P({ref:u,className:"content-primary"},{children:[(0,a.jsx)("div",P({className:"verticalSection"},{children:(0,a.jsx)(y.Z,{title:s.ZP.translate("HeaderUsers"),isBtnVisible:!0,btnId:"btnAddUser",btnClassName:"fab submit sectionTitleButton",btnTitle:"ButtonAddUser",btnIcon:"add",url:"https://jellyfin.org/docs/general/server/users/adding-managing-users"})})),(0,a.jsx)("div",P({className:"localUsers itemsContainer vertical-wrap"},{children:t.map((function(e){return(0,a.jsx)(g,{user:e},e.Id)}))}))]}))}))}}}]);