"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[40544],{48962:function(e,t,s){s.r(t);var a=s(62540),n=s(63696),i=s(9055),l=s(22622),r=s(46782),c=s(84849),d=s(65242),o=s(97339),m=s(84851),u=s(69410),p=s(891),y=s(92058),h=s(5898),I=s(34789),x=s(89100),f=s(13615),v=s(74550),j=function(e,t){var s="function"==typeof Symbol&&e[Symbol.iterator];if(!s)return e;var a,n,i=s.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)l.push(a.value)}catch(e){n={error:e}}finally{try{a&&!a.done&&(s=i.return)&&s.call(i)}finally{if(n)throw n.error}}return l};t.default=function(){var e,t=(0,u.gf)().user,s=j((0,i.ok)(),1)[0],N=(0,p.K)(),b=N.data,g=N.isPending,k=(0,y.kp)().data,A=j((0,n.useState)(),2),B=A[0],S=A[1],P=(0,n.useMemo)((function(){return s.get("userId")||(null==t?void 0:t.Id)}),[t,s]),w=(0,n.useMemo)((function(){return P&&P===(null==t?void 0:t.Id)}),[t,P]);if((0,n.useEffect)((function(){P&&(P===(null==t?void 0:t.Id)?S(t):S(null==k?void 0:k.find((function(e){var t=e.Id;return P===t}))))}),[t,P,k]),!P||!B||g)return(0,a.jsx)(c.A,{});var T=!v.Ay.canEnableGamepad()&&!r.A.tv;return(0,a.jsx)(d.A,{id:"myPreferencesMenuPage",className:"libraryPage userPreferencesPage noSecondaryNavPage mainAnimatedPage",title:h.Ay.translate("Settings"),shouldAutoFocus:!0,children:(0,a.jsx)("div",{className:"padded-left padded-right padded-bottom-page padded-top",children:(0,a.jsxs)("div",{className:"readOnlyContent",style:{margin:"0 auto"},children:[(0,a.jsxs)("div",{className:"verticalSection verticalSection-extrabottompadding",children:[(0,a.jsx)("h2",{className:"sectionTitle headerUsername",style:{paddingLeft:"0.25em"},children:B.Name}),(0,a.jsx)(m.A,{href:"#/userprofile?userId=".concat(P),className:"lnkUserProfile listItem-border",style:{display:"block",margin:0,padding:0},children:(0,a.jsxs)("div",{className:"listItem",children:[(0,a.jsx)("span",{className:"material-icons listItemIcon listItemIcon-transparent person","aria-hidden":"true"}),(0,a.jsx)("div",{className:"listItemBody",children:(0,a.jsx)("div",{className:"listItemBodyText",children:h.Ay.translate("Profile")})})]})}),b&&(0,a.jsx)(m.A,{href:"#/quickconnect?userId=".concat(P),className:"lnkQuickConnectPreferences listItem-border",style:{display:"block",margin:0,padding:0},children:(0,a.jsxs)("div",{className:"listItem",children:[(0,a.jsx)("span",{className:"material-icons listItemIcon listItemIcon-transparent phonelink_lock","aria-hidden":"true"}),(0,a.jsx)("div",{className:"listItemBody",children:(0,a.jsx)("div",{className:"listItemBodyText",children:h.Ay.translate("QuickConnect")})})]})}),(0,a.jsx)(m.A,{href:"#/mypreferencesdisplay?userId=".concat(P),className:"lnkDisplayPreferences listItem-border",style:{display:"block",margin:0,padding:0},children:(0,a.jsxs)("div",{className:"listItem",children:[(0,a.jsx)("span",{className:"material-icons listItemIcon listItemIcon-transparent tv","aria-hidden":"true"}),(0,a.jsx)("div",{className:"listItemBody",children:(0,a.jsx)("div",{className:"listItemBodyText",children:h.Ay.translate("Display")})})]})}),(0,a.jsx)(m.A,{href:"#/mypreferenceshome?userId=".concat(P),className:"lnkHomePreferences listItem-border",style:{display:"block",margin:0,padding:0},children:(0,a.jsxs)("div",{className:"listItem",children:[(0,a.jsx)("span",{className:"material-icons listItemIcon listItemIcon-transparent home","aria-hidden":"true"}),(0,a.jsx)("div",{className:"listItemBody",children:(0,a.jsx)("div",{className:"listItemBodyText",children:h.Ay.translate("Home")})})]})}),(0,a.jsx)(m.A,{href:"#/mypreferencesplayback?userId=".concat(P),className:"lnkPlaybackPreferences listItem-border",style:{display:"block",margin:0,padding:0},children:(0,a.jsxs)("div",{className:"listItem",children:[(0,a.jsx)("span",{className:"material-icons listItemIcon listItemIcon-transparent play_circle_filled","aria-hidden":"true"}),(0,a.jsx)("div",{className:"listItemBody",children:(0,a.jsx)("div",{className:"listItemBodyText",children:h.Ay.translate("TitlePlayback")})})]})}),(0,a.jsx)(m.A,{href:"#/mypreferencessubtitles?userId=".concat(P),className:"lnkSubtitlePreferences listItem-border",style:{display:"block",margin:0,padding:0},children:(0,a.jsxs)("div",{className:"listItem",children:[(0,a.jsx)("span",{className:"material-icons listItemIcon listItemIcon-transparent closed_caption","aria-hidden":"true"}),(0,a.jsx)("div",{className:"listItemBody",children:(0,a.jsx)("div",{className:"listItemBodyText",children:h.Ay.translate("Subtitles")})})]})}),l.g.supports(o.Y.DownloadManagement)&&(0,a.jsx)(m.A,{onClick:f.A.openDownloadManager,className:"downloadManager listItem-border",style:{display:"block",margin:0,padding:0},children:(0,a.jsxs)("div",{className:"listItem",children:[(0,a.jsx)("span",{className:"material-icons listItemIcon listItemIcon-transparent download","aria-hidden":"true"}),(0,a.jsx)("div",{className:"listItemBody",children:(0,a.jsx)("div",{className:"listItemBodyText",children:h.Ay.translate("DownloadManager")})})]})}),l.g.supports(o.Y.ClientSettings)&&(0,a.jsx)(m.A,{onClick:f.A.openClientSettings,className:"clientSettings listItem-border",style:{display:"block",margin:0,padding:0},children:(0,a.jsxs)("div",{className:"listItem",children:[(0,a.jsx)("span",{className:"material-icons listItemIcon listItemIcon-transparent devices_other","aria-hidden":"true"}),(0,a.jsx)("div",{className:"listItemBody",children:(0,a.jsx)("div",{className:"listItemBodyText",children:h.Ay.translate("ClientSettings")})})]})}),w&&!I.A.mobile&&!T&&(0,a.jsx)(m.A,{href:"#/mypreferencescontrols?userId=".concat(P),className:"lnkControlsPreferences listItem-border",style:{display:"block",margin:0,padding:0},children:(0,a.jsxs)("div",{className:"listItem",children:[(0,a.jsx)("span",{className:"material-icons listItemIcon listItemIcon-transparent keyboard","aria-hidden":"true"}),(0,a.jsx)("div",{className:"listItemBody",children:(0,a.jsx)("div",{className:"listItemBodyText",children:h.Ay.translate("Controls")})})]})})]}),w&&(null===(e=B.Policy)||void 0===e?void 0:e.IsAdministrator)&&!r.A.tv&&(0,a.jsxs)("div",{className:"adminSection verticalSection verticalSection-extrabottompadding",children:[(0,a.jsx)("h2",{className:"sectionTitle headerUsername",style:{paddingLeft:"0.25em"},children:h.Ay.translate("HeaderAdmin")}),(0,a.jsx)(m.A,{href:"#/dashboard",className:"listItem-border",style:{display:"block",margin:0,padding:0},children:(0,a.jsxs)("div",{className:"listItem",children:[(0,a.jsx)("span",{className:"material-icons listItemIcon listItemIcon-transparent dashboard","aria-hidden":"true"}),(0,a.jsx)("div",{className:"listItemBody",children:(0,a.jsx)("div",{className:"listItemBodyText",children:h.Ay.translate("TabDashboard")})})]})}),(0,a.jsx)(m.A,{href:"#/metadata",className:"listItem-border",style:{display:"block",margin:0,padding:0},children:(0,a.jsxs)("div",{className:"listItem",children:[(0,a.jsx)("span",{className:"material-icons listItemIcon listItemIcon-transparent mode_edit","aria-hidden":"true"}),(0,a.jsx)("div",{className:"listItemBody",children:(0,a.jsx)("div",{className:"listItemBodyText",children:h.Ay.translate("MetadataManager")})})]})})]}),w&&(0,a.jsxs)("div",{className:"userSection verticalSection verticalSection-extrabottompadding",children:[(0,a.jsx)("h2",{className:"sectionTitle headerUsername",style:{paddingLeft:"0.25em"},children:h.Ay.translate("HeaderUser")}),l.g.supports(o.Y.MultiServer)&&(0,a.jsx)(m.A,{onClick:x.default.selectServer,className:"selectServer listItem-border",style:{display:"block",margin:0,padding:0},children:(0,a.jsxs)("div",{className:"listItem",children:[(0,a.jsx)("span",{className:"material-icons listItemIcon listItemIcon-transparent storage","aria-hidden":"true"}),(0,a.jsx)("div",{className:"listItemBody",children:(0,a.jsx)("div",{className:"listItemBodyText",children:h.Ay.translate("SelectServer")})})]})}),(0,a.jsx)(m.A,{onClick:x.default.logout,className:"btnLogout listItem-border",style:{display:"block",margin:0,padding:0},children:(0,a.jsxs)("div",{className:"listItem",children:[(0,a.jsx)("span",{className:"material-icons listItemIcon listItemIcon-transparent exit_to_app","aria-hidden":"true"}),(0,a.jsx)("div",{className:"listItemBody",children:(0,a.jsx)("div",{className:"listItemBodyText",children:h.Ay.translate("ButtonSignOut")})})]})}),l.g.supports(o.Y.ExitMenu)&&(0,a.jsx)(m.A,{onClick:l.g.exit,className:"exitApp listItem-border",style:{display:"block",margin:0,padding:0},children:(0,a.jsxs)("div",{className:"listItem",children:[(0,a.jsx)("span",{className:"material-icons listItemIcon listItemIcon-transparent close","aria-hidden":"true"}),(0,a.jsx)("div",{className:"listItemBody",children:(0,a.jsx)("div",{className:"listItemBodyText",children:h.Ay.translate("ButtonExitApp")})})]})})]})]})})})}},92058:function(e,t,s){s.d(t,{kp:function(){return c},t5:function(){return r},yb:function(){return d}});var a=s(18879),n=s(80401),i=s(69410),l=function(){return l=Object.assign||function(e){for(var t,s=1,a=arguments.length;s<a;s++)for(var n in t=arguments[s])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},l.apply(this,arguments)},r="Users",c=function(e){var t=(0,i.gf)().api;return(0,n.I)({queryKey:[r],queryFn:function(s){var n=s.signal;return function(e,t,s){return n=void 0,i=void 0,r=function(){return function(e,t){var s,a,n,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},l=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return l.next=r(0),l.throw=r(1),l.return=r(2),"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(r){return function(c){return function(r){if(s)throw new TypeError("Generator is already executing.");for(;l&&(l=0,r[0]&&(i=0)),i;)try{if(s=1,a&&(n=2&r[0]?a.return:r[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,r[1])).done)return n;switch(a=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!((n=(n=i.trys).length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){i=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){i.label=r[1];break}if(6===r[0]&&i.label<n[1]){i.label=n[1],n=r;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(r);break}n[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],a=0}finally{s=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}}(this,(function(n){switch(n.label){case 0:return[4,(0,a.q)(e).getUsers(t,{signal:null==s?void 0:s.signal})];case 1:return[2,n.sent().data]}}))},new((l=void 0)||(l=Promise))((function(e,t){function s(e){try{c(r.next(e))}catch(e){t(e)}}function a(e){try{c(r.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof l?n:new l((function(e){e(n)}))).then(s,a)}c((r=r.apply(n,i||[])).next())}));var n,i,l,r}(t,e,{signal:n})},enabled:!!t})},d=function(){var e=c(),t=e.data,s=function(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(s[a[n]]=e[a[n]])}return s}(e,["data"]),a={},n=[];return t&&t.forEach((function(e){var t=e.Id;t&&(a[t]=e),e.Name&&n.push(e.Name)})),l({users:t,usersById:a,names:n},s)}}}]);