"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[27884],{27884:function(e,t,i){i.r(t),i.d(t,{default:function(){return S}}),i(29305),i(32733),i(44962),i(78557),i(67593),i(90076),i(95021),i(83994),i(93062),i(82367);var n=i(71857),a=i(35222),o=i(97339),r=i(67430),s=i(75384),l=i(58953),d=i(79754),u=i(38490),c=i(46782),v=i(9164),h=i(34789),m=i(22622),f=i(36300),p=(i(15453),f.Ay.whichTransitionEvent()),g=h.A.safari;function w(e,t){var i,a=r.tF.getApiClient(e),o=(0,s.C)(a),d={};return null!==(i=e.BackdropImageTags)&&void 0!==i&&i.length?function(e,t,i){var n;return(t=t||{}).type=t.type||"Backdrop",t.maxWidth||t.width||t.maxHeight||t.height||t.fillWidth||t.fillHeight||(t.quality=100),null!==(n=e.BackdropImageTags)&&void 0!==n&&n.length?(t.index=(0,l.HO)(0,e.BackdropImageTags.length-1),t.tag=e.BackdropImageTags[t.index],i.getScaledImageUrl(e.Id,t)):null}(e,d,a):"Photo"===e.MediaType&&null!=t&&t.Policy.EnableContentDownloading?(0,n.Q)(o).getDownloadUrl({itemId:e.Id}):(d.type="Primary",function(e,t,i){var n;return(t=t||{}).type=t.type||"Primary","string"==typeof e?i.getScaledImageUrl(e,t):null!==(n=e.ImageTags)&&void 0!==n&&n[t.type]?(t.tag=e.ImageTags[t.type],i.getScaledImageUrl(e.Id,t)):"Primary"===t.type&&e.AlbumId&&e.AlbumPrimaryImageTag?(t.tag=e.AlbumPrimaryImageTag,i.getScaledImageUrl(e.AlbumId,t)):null}(e,d,a))}function y(e,t,i,n){return'<button is="paper-icon-button-light" class="autoSize '+t+'"'+(i?"":' tabindex="-1"')+(n=n?" autofocus":"")+'><span class="material-icons slideshowButtonIcon '+e+'" aria-hidden="true"></span></button>'}function b(e){try{m.g.setUserScalable(e)}catch(e){console.error("error in appHost.setUserScalable: "+e)}}function S(e){var t,n,r,s,l;function h(){var e=n.querySelector(".btnSlideshowPause .material-icons");e&&e.classList.replace("play_arrow","pause")}function f(){var e=n.querySelector(".btnSlideshowPause .material-icons");e&&e.classList.replace("pause","play_arrow")}function S(e,t,i,n){var a=n.querySelector(".swiper-zoom-fakeimg");a&&(a.style.width=a.style.height=100*t+"%",t>1?a.classList.contains("swiper-zoom-fakeimg-hidden")&&setTimeout((function(){var e=function(){i.removeEventListener(p,e),a.classList.remove("swiper-zoom-fakeimg-hidden")};parseFloat(i.style.transitionDuration.replace(/[a-z]/i,""))>0?i.addEventListener(p,e):e()}),0):a.classList.add("swiper-zoom-fakeimg-hidden"))}function I(e){return r.slides?A(e):function(e){return A({originalImage:w(e,r.user),Id:e.Id,ServerId:e.ServerId})}(e)}function A(e){var t="";return t+='<div class="swiper-slide" data-original="'+e.originalImage+'" data-itemid="'+e.Id+'" data-serverid="'+e.ServerId+'">',t+='<div class="swiper-zoom-container">',g&&(t+='<div class="swiper-zoom-fakeimg swiper-zoom-fakeimg-hidden" style="background-image: url(\''.concat(e.originalImage,"')\"></div>")),t+='<img src="'+e.originalImage+'" class="swiper-slide-img">',t+="</div>",(e.title||e.subtitle)&&(t+='<div class="slideText">',t+='<div class="slideTextInner">',e.title&&(t+='<h1 class="slideTitle">',t+=e.title,t+="</h1>"),e.description&&(t+='<div class="slideSubtitle">',t+=e.description,t+="</div>"),t+="</div>",t+="</div>"),t+"</div>"}function q(){if(t){var e=document.querySelector(".swiper-slide-active");return e?{url:e.getAttribute("data-original"),shareUrl:e.getAttribute("data-original"),itemId:e.getAttribute("data-itemid"),serverId:e.getAttribute("data-serverid")}:null}return null}function x(){var e=q();i.e(23717).then(i.bind(i,23717)).then((function(t){t.download([e])}))}function k(){var e=q();navigator.share({url:e.shareUrl})}function E(){a.A.isFullscreen||a.A.request(),P(!0)}function L(){a.A.isFullscreen&&a.A.exit(),P(!1)}function P(e){var t=n.querySelector(".btnFullscreen"),i=n.querySelector(".btnFullscreenExit");t&&t.classList.toggle("hide",e),i&&i.classList.toggle("hide",!e)}function B(){t.autoplay&&t.autoplay.start()}function T(){t.autoplay&&t.autoplay.stop()}function F(){n.querySelector(".btnSlideshowPause .material-icons").classList.contains("pause")?T():B()}function z(){L(),t&&(t.destroy(!0,!0),t=null),u.default.off(window,Y),document.removeEventListener(window.PointerEvent?"pointermove":"mousemove",N)}function D(){var e=n.querySelector(".slideshowBottomBar");e&&U(e,"down");var t=n.querySelector(".topActionButtons");t&&U(t,"up");var i=n.querySelector(".btnSlideshowPrevious");i&&U(i,"left");var a=n.querySelector(".btnSlideshowNext");a&&U(a,"right"),s&&(clearTimeout(s),s=null),s=setTimeout(C,3e3)}function C(){var e=n.querySelector(".slideshowBottomBar");e&&H(e,"down");var t=n.querySelector(".topActionButtons");t&&H(t,"up");var i=n.querySelector(".btnSlideshowPrevious");i&&H(i,"left");var a=n.querySelector(".btnSlideshowNext");a&&H(a,"right")}function _(e,t,i){var n={transform:"translate(0,0)",opacity:"1"},a={opacity:".3"};return"up"===e||"down"===e?a.transform="translate3d(0,"+i.offsetHeight*("down"===e?1:-1)+"px,0)":"left"!==e&&"right"!==e||(a.transform="translate3d("+i.offsetWidth*("right"===e?1:-1)+"px,0,0)"),t?[n,a]:[a,n]}function U(e,t){if(e.classList.contains("hide")){e.classList.remove("hide");var i=function(){var t=e.querySelector(".btnSlideshowPause");t&&v.A.focus(t)};e.animate?requestAnimationFrame((function(){var n=_(t,!1,e);e.animate(n,{duration:300,iterations:1,easing:"ease-out"}).onfinish=i})):i()}}function H(e,t){if(!e.classList.contains("hide")){var i=function(){e.classList.add("hide")};e.animate?requestAnimationFrame((function(){var n=_(t,!0,e);e.animate(n,{duration:300,iterations:1,easing:"ease-out"}).onfinish=i})):i()}}function N(e){if("mouse"===(e.pointerType||(c.A.mobile?"touch":"mouse"))){var t=e.screenX||0,i=e.screenY||0,n=l;if(!n)return void(l={x:t,y:i});if(Math.abs(t-n.x)<10&&Math.abs(i-n.y)<10)return;n.x=t,n.y=i}D()}function Y(e){switch(e.detail.command){case"up":case"down":case"select":case"menu":case"info":D();break;case"play":B();break;case"pause":T();break;case"playpause":F()}}function M(e){return function(t){D(),null==e||e(t)}}this.show=function(){!function(s){r=s,(n=d.default.createDialog({exitAnimationDuration:s.interactive?400:800,size:"fullscreen",autoFocus:!1,scrollY:!1,exitAnimation:"fadeout",removeOnClose:!0})).classList.add("slideshowDialog");var l,v,p,w="";if(w+='<div class="slideshowSwiperContainer"><div class="swiper-wrapper"></div></div>',s.interactive&&!c.A.tv){var A,q=c.A.mobile;w+=y("keyboard_arrow_left","btnSlideshowPrevious slideshowButton hide-mouse-idle-tv",!1),w+=y("keyboard_arrow_right","btnSlideshowNext slideshowButton hide-mouse-idle-tv",!1),w+='<div class="topActionButtons">',q&&(w+=y("play_arrow","btnSlideshowPause slideshowButton",!0),m.g.supports(o.Y.FileDownload)&&null!==(A=s.user)&&void 0!==A&&A.Policy.EnableContentDownloading&&(w+=y("file_download","btnDownload slideshowButton",!0)),m.g.supports(o.Y.Sharing)&&(w+=y("share","btnShare slideshowButton",!0)),a.A.isEnabled&&(w+=y("fullscreen","btnFullscreen",!0),w+=y("fullscreen_exit","btnFullscreenExit hide",!0))),w+=y("close","slideshowButton btnSlideshowExit hide-mouse-idle-tv",!1),w+="</div>",q||(w+='<div class="slideshowBottomBar hide">',w+=y("play_arrow","btnSlideshowPause slideshowButton",!0,!0),m.g.supports(o.Y.FileDownload)&&null!=s&&s.user.Policy.EnableContentDownloading&&(w+=y("file_download","btnDownload slideshowButton",!0)),m.g.supports(o.Y.Sharing)&&(w+=y("share","btnShare slideshowButton",!0)),a.A.isEnabled&&(w+=y("fullscreen","btnFullscreen",!0),w+=y("fullscreen_exit","btnFullscreenExit hide",!0)),w+="</div>")}else w+='<div class="slideshowImage"></div><h1 class="slideshowImageText"></h1>';if(n.innerHTML=w,s.interactive&&!c.A.tv){var B,T;n.querySelector(".btnSlideshowExit").addEventListener("click",(function(){d.default.close(n)})),null===(B=n.querySelector(".btnSlideshowPrevious"))||void 0===B||B.addEventListener("click",M(null)),null===(T=n.querySelector(".btnSlideshowNext"))||void 0===T||T.addEventListener("click",M(null));var D=n.querySelector(".btnSlideshowPause");D&&D.addEventListener("click",M(F));var C=n.querySelector(".btnDownload");C&&C.addEventListener("click",M(x));var _=n.querySelector(".btnShare");_&&_.addEventListener("click",M(k));var U=n.querySelector(".btnFullscreen");U&&U.addEventListener("click",M(E));var H=n.querySelector(".btnFullscreenExit");H&&H.addEventListener("click",M(L)),a.A.isEnabled&&a.A.on("change",(function(){P(a.A.isFullscreen)}))}if(b(!0),d.default.open(n).then((function(){b(!1)})),u.default.on(window,Y),document.addEventListener(window.PointerEvent?"pointermove":"mousemove",N),n.addEventListener("close",z),l=n,v=e,p=r.slides?r.slides:r.items,Promise.all([i.e(76173),i.e(86678)]).then(i.bind(i,43653)),Promise.all([i.e(76173),i.e(29469)]).then(i.bind(i,43634)).then((function(e){var i,n,a=e.Swiper;(t=new a(l.querySelector(".slideshowSwiperContainer"),{direction:"horizontal",loop:!1,zoom:{minRatio:1,toggle:!0},autoplay:null!==(i=v.autoplay)&&void 0!==i?i:!v.interactive,keyboard:{enabled:!0},preloadImages:!0,slidesPerView:1,slidesPerColumn:1,initialSlide:v.startIndex||0,speed:240,navigation:{nextEl:".btnSlideshowNext",prevEl:".btnSlideshowPrevious"},virtual:{slides:p,cache:!0,renderSlide:I,addSlidesBefore:1,addSlidesAfter:1}})).on("autoplayStart",h),t.on("autoplayStop",f),g&&t.on("zoomChange",S),null!==(n=t.autoplay)&&void 0!==n&&n.running&&h()})),c.A.desktop){var W=n.querySelector(".topActionButtons");W&&W.classList.add("hide")}var O=n.querySelector(".btnSlideshowPrevious");O&&O.classList.add("hide");var Q=n.querySelector(".btnSlideshowNext");Q&&Q.classList.add("hide")}(e)},this.hide=function(){n&&d.default.close(n)}}}}]);