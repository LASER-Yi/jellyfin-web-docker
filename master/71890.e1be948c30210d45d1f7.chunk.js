"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[71890],{71890:function(e,t,r){r(5769),r(63238),r(61418),r(17460),r(14078),r(27471),r(72410),r(15610),r(52077),r(25901),r(92189),r(91047);var i=r(65009),a=r.n(i),n=r(61570),s=r(30325),o=r(98301),l=r(94994),c=r(66560),d=r(51869),u=(r(61414),r(82427),r(24432),r(38228),r(60635)),h=r(18613);function m(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,n=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw n}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function v(e){switch(e){case 0:return"smalllibrarytiles";case 1:return"resume";case 2:return"resumeaudio";case 3:return"resumebook";case 4:return"livetv";case 5:return"nextup";case 6:return"latestmedia";case 7:return"none";default:return""}}function p(e,t){for(var r=e.querySelectorAll(".itemsContainer"),i=[],a=0,n=r.length;a<n;a++)i.push(r[a].resume(t));return Promise.all(i)}function b(e,t,r,i,u,m,f){var v=m[f],p=e.querySelector(".section"+f);if("latestmedia"===v)!function(e,t,r,i){e.classList.remove("verticalSection");for(var a=["playlists","livetv","boxsets","channels"],n=0,s=i.length;n<s;n++){var o=i[n];if(-1===r.Configuration.LatestItemsExcludes.indexOf(o.Id)&&-1===a.indexOf(o.CollectionType||[])){var l=document.createElement("div");l.classList.add("verticalSection"),l.classList.add("hide"),e.appendChild(l),g(l,t,0,o)}}}(p,t,r,u);else if("librarytiles"===v||"smalllibrarytiles"===v||"smalllibrarytiles-automobile"===v||"librarytiles-automobile"===v)y(p,0,0,0,0,u);else if("librarybuttons"===v)!function(e,t,r,i,n){e.classList.remove("verticalSection");var s=function(e){var t="";t+='<div class="verticalSection verticalSection-extrabottompadding">',t+='<h2 class="sectionTitle sectionTitle-cards padded-left">'+l.ZP.translate("HeaderMyMedia")+"</h2>",t+='<div is="emby-itemscontainer" class="itemsContainer padded-left padded-right vertical-wrap focuscontainer-x" data-multiselect="false">';for(var r=0,i=e.length;r<i;r++){var n=e[r],s=d.ZP.getLibraryIcon(n.CollectionType);t+='<a is="emby-linkbutton" href="'+c.appRouter.getRouteUrl(n)+'" class="raised homeLibraryButton"><span class="material-icons homeLibraryIcon '+s+'" aria-hidden="true"></span><span class="homeLibraryText">'+a()(n.Name)+"</span></a>"}return t+="</div>",t+="</div>"}(n);e.innerHTML=s,o.default.lazyChildren(e)}(p,0,0,0,u);else{if("resume"===v)return I(p,t,"HeaderContinueWatching","Video",i);if("resumeaudio"===v)return I(p,t,"HeaderContinueListening","Audio",i);if("activerecordings"===v)!function(e,t,r){var i="";i+='<div class="sectionTitleContainer sectionTitleContainer-cards">',i+='<h2 class="sectionTitle sectionTitle-cards padded-left">'+l.ZP.translate("HeaderActiveRecordings")+"</h2>",i+="</div>",i+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true">',i+='<div is="emby-itemscontainer" class="itemsContainer scrollSlider focuscontainer-x">',i+="</div>",i+="</div>",e.classList.add("hide"),e.innerHTML=i;var a,s=e.querySelector(".itemsContainer");s.fetchData=(a=r.serverId(),function(){var e=h.Z.getApiClient(a);return e.getLiveTvRecordings({userId:e.getCurrentUserId(),Limit:12,Fields:"PrimaryImageAspectRatio,BasicSyncInfo",EnableTotalRecordCount:!1,IsLibraryItem:null,IsInProgress:!0})}),s.getItemsHtml=function(e){return function(t){return n.default.getCardsHtml({items:t,shape:"autooverflow",showTitle:!0,showParentTitle:!0,coverImage:!0,lazy:!0,showDetailsMenu:!0,centerText:!0,overlayText:!1,showYear:!0,lines:2,overlayPlayButton:!1,allowBottomPadding:!1,preferThumb:!0,cardLayout:!1,overlayMoreButton:e,action:"none",centerPlayButton:e})}}(t),s.parentContainer=e}(p,!0,t);else{if("nextup"!==v)return"onnow"===v||"livetv"===v?function(e,t,r){return r.Policy.EnableLiveTvAccess?t.getLiveTvRecommendedPrograms({userId:t.getCurrentUserId(),IsAiring:!0,limit:1,ImageTypeLimit:1,EnableImageTypes:"Primary,Thumb,Backdrop",EnableTotalRecordCount:!1,Fields:"ChannelInfo,PrimaryImageAspectRatio"}).then((function(r){var i,a="";if(r.Items.length){e.classList.remove("padded-left"),e.classList.remove("padded-right"),e.classList.remove("padded-bottom"),e.classList.remove("verticalSection"),a+='<div class="verticalSection">',a+='<div class="sectionTitleContainer sectionTitleContainer-cards padded-left">',a+='<h2 class="sectionTitle sectionTitle-cards">'+l.ZP.translate("LiveTV")+"</h2>",a+="</div>",a+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true" data-scrollbuttons="false">',a+='<div class="padded-top padded-bottom scrollSlider focuscontainer-x">',a+='<a is="emby-linkbutton" href="'+c.appRouter.getRouteUrl("livetv",{serverId:t.serverId(),section:"programs"})+'" class="raised"><span>'+l.ZP.translate("Programs")+"</span></a>",a+='<a is="emby-linkbutton" href="'+c.appRouter.getRouteUrl("livetv",{serverId:t.serverId(),section:"guide"})+'" class="raised"><span>'+l.ZP.translate("Guide")+"</span></a>",a+='<a is="emby-linkbutton" href="'+c.appRouter.getRouteUrl("livetv",{serverId:t.serverId(),section:"channels"})+'" class="raised"><span>'+l.ZP.translate("Channels")+"</span></a>",a+='<a is="emby-linkbutton" href="'+c.appRouter.getRouteUrl("recordedtv",{serverId:t.serverId()})+'" class="raised"><span>'+l.ZP.translate("Recordings")+"</span></a>",a+='<a is="emby-linkbutton" href="'+c.appRouter.getRouteUrl("livetv",{serverId:t.serverId(),section:"dvrschedule"})+'" class="raised"><span>'+l.ZP.translate("Schedule")+"</span></a>",a+='<a is="emby-linkbutton" href="'+c.appRouter.getRouteUrl("livetv",{serverId:t.serverId(),section:"seriesrecording"})+'" class="raised"><span>'+l.ZP.translate("Series")+"</span></a>",a+="</div>",a+="</div>",a+="</div>",a+="</div>",a+='<div class="verticalSection">',a+='<div class="sectionTitleContainer sectionTitleContainer-cards padded-left">',s.Z.tv?a+='<h2 class="sectionTitle sectionTitle-cards">'+l.ZP.translate("HeaderOnNow")+"</h2>":(a+='<a is="emby-linkbutton" href="'+c.appRouter.getRouteUrl("livetv",{serverId:t.serverId(),section:"onnow"})+'" class="more button-flat button-flat-mini sectionTitleTextButton">',a+='<h2 class="sectionTitle sectionTitle-cards">',a+=l.ZP.translate("HeaderOnNow"),a+="</h2>",a+='<span class="material-icons chevron_right" aria-hidden="true"></span>',a+="</a>"),a+="</div>",a+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true">',a+='<div is="emby-itemscontainer" class="itemsContainer scrollSlider focuscontainer-x">',a+="</div>",a+="</div>",a+="</div>",e.innerHTML=a;var n=e.querySelector(".itemsContainer");n.parentContainer=e,n.fetchData=(i=t.serverId(),function(){var e=h.Z.getApiClient(i);return e.getLiveTvRecommendedPrograms({userId:e.getCurrentUserId(),IsAiring:!0,limit:24,ImageTypeLimit:1,EnableImageTypes:"Primary,Thumb,Backdrop",EnableTotalRecordCount:!1,Fields:"ChannelInfo,PrimaryImageAspectRatio"})}),n.getItemsHtml=C}})):Promise.resolve()}(p,t,r):"resumebook"===v?I(p,t,"HeaderContinueReading","Book",i):(p.innerHTML="",Promise.resolve());!function(e,t,r){var i="";i+='<div class="sectionTitleContainer sectionTitleContainer-cards padded-left">',s.Z.tv?(i+='<h2 class="sectionTitle sectionTitle-cards">',i+=l.ZP.translate("NextUp"),i+="</h2>"):(i+='<a is="emby-linkbutton" href="'+c.appRouter.getRouteUrl("nextup",{serverId:t.serverId()})+'" class="button-flat button-flat-mini sectionTitleTextButton">',i+='<h2 class="sectionTitle sectionTitle-cards">',i+=l.ZP.translate("NextUp"),i+="</h2>",i+='<span class="material-icons chevron_right" aria-hidden="true"></span>',i+="</a>"),i+="</div>",i+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true">',i+='<div is="emby-itemscontainer" class="itemsContainer scrollSlider focuscontainer-x" data-monitor="videoplayback,markplayed">',i+="</div>",i+="</div>",e.classList.add("hide"),e.innerHTML=i;var a,o=e.querySelector(".itemsContainer");o.fetchData=function(e,t){return function(){var r=h.Z.getApiClient(e),i=new Date;return i.setDate(i.getDate()-t.maxDaysForNextUp()),r.getNextUpEpisodes({Limit:24,Fields:"PrimaryImageAspectRatio,DateCreated,BasicSyncInfo,Path,MediaSourceCount",UserId:r.getCurrentUserId(),ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Banner,Thumb",EnableTotalRecordCount:!1,DisableFirstEpisode:!1,NextUpDateCutoff:i.toISOString(),EnableRewatching:t.enableRewatchingInNextUp()})}}(t.serverId(),r),o.getItemsHtml=(a=r.useEpisodeImagesInNextUpAndResume(),function(e){return n.default.getCardsHtml({items:e,preferThumb:!0,inheritThumb:!a,shape:"overflowBackdrop",overlayText:!1,showTitle:!0,showParentTitle:!0,lazy:!0,overlayPlayButton:!0,context:"home",centerText:!0,allowBottomPadding:!1,cardLayout:false})}),o.parentContainer=e}(p,t,i)}}return Promise.resolve()}function g(e,t,r,i){var o="";o+='<div class="sectionTitleContainer sectionTitleContainer-cards padded-left">',s.Z.tv?o+='<h2 class="sectionTitle sectionTitle-cards">'+l.ZP.translate("LatestFromLibrary",a()(i.Name))+"</h2>":(o+='<a is="emby-linkbutton" href="'+c.appRouter.getRouteUrl(i,{section:"latest"})+'" class="more button-flat button-flat-mini sectionTitleTextButton">',o+='<h2 class="sectionTitle sectionTitle-cards">',o+=l.ZP.translate("LatestFromLibrary",a()(i.Name)),o+="</h2>",o+='<span class="material-icons chevron_right" aria-hidden="true"></span>',o+="</a>"),o+="</div>",o+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true">',o+='<div is="emby-itemscontainer" class="itemsContainer scrollSlider focuscontainer-x">',o+="</div>",o+="</div>",e.innerHTML=o;var d,u,m,f,v,p=e.querySelector(".itemsContainer");p.fetchData=(d=t.serverId(),u=i.Id,m=i.CollectionType,function(){var e=h.Z.getApiClient(d),t=16;"music"===m&&(t=30);var r={Limit:t,Fields:"PrimaryImageAspectRatio,BasicSyncInfo,Path",ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Thumb",ParentId:u};return e.getLatestItems(r)}),p.getItemsHtml=(f=i.Type,v=i.CollectionType,function(e){var t;return t="Channel"===f||"movies"===v||"books"===v||"tvshows"===v?"overflowPortrait":"music"===v||"homevideos"===v?"overflowSquare":"overflowBackdrop",n.default.getCardsHtml({items:e,shape:t,preferThumb:"movies"!==v&&"tvshows"!==v&&"Channel"!==f&&"music"!==v?"auto":null,showUnplayedIndicator:!1,showChildCountIndicator:!0,context:"home",overlayText:!1,centerText:!0,overlayPlayButton:"photos"!==v,allowBottomPadding:!1,cardLayout:false,showTitle:"photos"!==v,showYear:"movies"===v||"tvshows"===v||!v,showParentTitle:"music"===v||"tvshows"===v||!v||false,lines:2})}),p.parentContainer=e}function y(e,t,r,i,a,s){var c="";s.length&&(c+='<h2 class="sectionTitle sectionTitle-cards padded-left">'+l.ZP.translate("HeaderMyMedia")+"</h2>",c+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true">',c+='<div is="emby-itemscontainer" class="itemsContainer scrollSlider focuscontainer-x">',c+=n.default.getCardsHtml({items:s,shape:"overflowBackdrop",showTitle:!0,centerText:!0,overlayText:!1,lazy:!0,transition:!1,allowBottomPadding:!1}),c+="</div>",c+="</div>"),e.innerHTML=c,o.default.lazyChildren(e)}var T={Audio:"audioplayback,markplayed",Video:"videoplayback,markplayed"};function I(e,t,r,i,a){var s="",o=T[i]||"markplayed";s+='<h2 class="sectionTitle sectionTitle-cards padded-left">'+l.ZP.translate(r)+"</h2>",s+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true">',s+='<div is="emby-itemscontainer" class="itemsContainer scrollSlider focuscontainer-x" data-monitor="'.concat(o,'">'),s+="</div>",s+="</div>",e.classList.add("hide"),e.innerHTML=s;var c=e.querySelector(".itemsContainer");c.fetchData=function(e,t){return function(){var r=h.Z.getApiClient(t),i={Limit:12,Recursive:!0,Fields:"PrimaryImageAspectRatio,BasicSyncInfo",ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Thumb",EnableTotalRecordCount:!1,MediaTypes:e};return r.getResumableItems(r.getCurrentUserId(),i)}}(i,t.serverId()),c.getItemsHtml=function(e,t){return function(r){return n.default.getCardsHtml({items:r,preferThumb:!0,inheritThumb:!e,shape:"Book"===t?"overflowPortrait":"overflowBackdrop",overlayText:!1,showTitle:!0,showParentTitle:!0,lazy:!0,showDetailsMenu:!0,overlayPlayButton:!0,context:"home",centerText:!0,allowBottomPadding:!1,cardLayout:false,showYear:!0,lines:2})}}(a.useEpisodeImagesInNextUpAndResume(),i),c.parentContainer=e}function C(e){return n.default.getCardsHtml({items:e,preferThumb:"auto",inheritThumb:!1,shape:"autooverflow",showParentTitleOrTitle:!0,showTitle:!0,centerText:!0,coverImage:!0,overlayText:!1,allowBottomPadding:!1,showAirTime:!0,showChannelName:!1,showAirDateTime:!1,showAirEndTime:!0,defaultShape:"overflowBackdrop",lines:3,overlayPlayButton:!0})}t.ZP={loadLibraryTiles:y,getDefaultSection:v,loadSections:function(e,t,r,i){return function(e,t){return e.getUserViews({},t||e.getCurrentUserId()).then((function(e){return e.Items}))}(t,r.Id).then((function(a){var n,s,o="";if(a.length){for(var c=0;c<7;c++)o+='<div class="verticalSection section'+c+'"></div>';e.innerHTML=o,e.classList.add("homeSectionsContainer");for(var d=[],h=function(e,t){for(var r=[],i=0;i<7;i++){var a=e.get("homesection"+i)||v(i);"folders"===a&&(a=v(0)),r.push(a)}return r}(i),m=0;m<h.length;m++)d.push(b(e,t,r,i,a,h,m));return Promise.all(d).then((function(){return p(e,{refresh:!0})}))}s=null!==(n=r.Policy)&&void 0!==n&&n.IsAdministrator?l.ZP.translate("NoCreatedLibraries",'<br><a id="button-createLibrary" class="button-link">',"</a>"):l.ZP.translate("AskAdminToCreateLibrary"),o+='<div class="centerMessage padded-left padded-right">',o+="<h2>"+l.ZP.translate("MessageNothingHere")+"</h2>",o+="<p>"+s+"</p>",o+="</div>",e.innerHTML=o;var f=e.querySelector("#button-createLibrary");f&&f.addEventListener("click",(function(){u.default.navigate("library.html")}))}))},destroySections:function(e){var t,r=m(e.querySelectorAll(".itemsContainer"));try{for(r.s();!(t=r.n()).done;){var i=t.value;i.fetchData=null,i.parentContainer=null,i.getItemsHtml=null}}catch(e){r.e(e)}finally{r.f()}e.innerHTML=""},pause:function(e){var t,r=m(e.querySelectorAll(".itemsContainer"));try{for(r.s();!(t=r.n()).done;)t.value.pause()}catch(e){r.e(e)}finally{r.f()}},resume:p}},82427:function(e,t,r){r(5769),r(63238),r(61418),r(17460),r(14078),r(27471),r(32081);var i=r(61008),a=r(58517),n=r(48957),s=r(98301),o=r(30325),l=r(57366),c=r(72365),d=r(28540),u=r(34643),h=r(44038),m=r(81643),f=(r(67752),r(18613)),v=r(28172),p=Object.create(HTMLDivElement.prototype);function b(e){var t=this,r=t.multiSelect;!1!==(null==r?void 0:r.onContainerClick.call(t,e))&&i.ZP.onClick.call(t,e)}function g(e){return e.preventDefault(),e.stopPropagation(),!1}function y(e){var t=e.target,r=c.ZP.parentWithAttribute(t,"data-id");if(null!=r&&r.getAttribute("data-serverid"))return a.default.handleCommand("menu",{sourceElement:r}),e.preventDefault(),e.stopPropagation(),!1}function T(e,t,i){var a=this;Promise.all([r.e(61570),r.e(83264)]).then(r.bind(r,61570)).then((function(e){e.onUserDataChanged(i,a)}));var n=I(a);-1===n.indexOf("markfavorite")&&-1===n.indexOf("markplayed")||a.notifyRefreshNeeded()}function I(e){var t=e.getAttribute("data-monitor");return t?t.split(","):[]}function C(e,t,i){var a=this;if(-1===I(a).indexOf("timers")){var n=i.ProgramId,s=i.Id;Promise.all([r.e(61570),r.e(83264)]).then(r.bind(r,61570)).then((function(e){e.onTimerCreated(n,s,a)}))}else a.notifyRefreshNeeded()}function P(){-1!==I(this).indexOf("seriestimers")&&this.notifyRefreshNeeded()}function S(e,t,i){var a=this;-1===I(a).indexOf("timers")?Promise.all([r.e(61570),r.e(83264)]).then(r.bind(r,61570)).then((function(e){e.onTimerCancelled(i.Id,a)})):a.notifyRefreshNeeded()}function L(e,t,i){var a=this;-1===I(a).indexOf("seriestimers")?Promise.all([r.e(61570),r.e(83264)]).then(r.bind(r,61570)).then((function(e){e.onSeriesTimerCancelled(i.Id,a)})):a.notifyRefreshNeeded()}function w(e,t,r){var i=this,a=I(i);if(-1===a.indexOf("seriestimers")&&-1===a.indexOf("timers")){var n=r.ItemsAdded||[],s=r.ItemsRemoved||[];if(n.length||s.length){var o=i.getAttribute("data-parentid");if(o){var l=r.FoldersAddedTo||[],c=r.FoldersRemovedFrom||[],d=r.CollectionFolders||[];if(-1===l.indexOf(o)&&-1===c.indexOf(o)&&-1===d.indexOf(o))return}i.notifyRefreshNeeded()}}}function x(e,t){var r,i=this,a=t.state,n=I(i);if(a.NowPlayingItem&&"Video"===a.NowPlayingItem.MediaType){if(-1!==n.indexOf("videoplayback"))return void i.notifyRefreshNeeded(!0)}else if("Audio"===(null===(r=a.NowPlayingItem)||void 0===r?void 0:r.MediaType)&&-1!==n.indexOf("audioplayback"))return void i.notifyRefreshNeeded(!0)}function R(e,t,r,i){var a=r.bind(e);i=i||h.default,m.Z.on(i,t,a),e["event_"+t]=a}function A(e,t,r){var i=e["event_"+t];i&&(r=r||h.default,m.Z.off(r,t,i),e["event_"+t]=null)}function k(e,t){e.refreshInterval&&(clearInterval(e.refreshInterval),e.refreshInterval=null,t||(e.refreshIntervalEndTime=null))}function Z(e,t){k(e),t||(t=parseInt(e.getAttribute("data-refreshinterval")||"0",10)),t&&(e.refreshInterval=setInterval(e.notifyRefreshNeeded.bind(e),t),e.refreshIntervalEndTime=(new Date).getTime()+t)}function E(e){var t=e.Items||e,r=this.parentContainer;r&&(t.length?r.classList.remove("hide"):r.classList.add("hide"));var i,a,n=document.activeElement;this.contains(n)&&(a=!0,i=n.getAttribute("data-id")),this.innerHTML=this.getItemsHtml(t),s.default.lazyChildren(this),a&&function(e,t){if(t){var r=e.querySelector('[data-id="'+t+'"]');if(r)try{return void u.Z.focus(r)}catch(e){console.error(e)}}u.Z.autoFocus(e)}(this,i),Z(this),this.afterRefresh&&this.afterRefresh(e)}p.enableMultiSelect=function(e){var t=this.multiSelect;if(e){if(!t){var i=this;Promise.all([r.e(52943),r.e(9245)]).then(r.bind(r,52943)).then((function(e){var t=e.default;i.multiSelect=new t({container:i,bindOnClick:!1})}))}}else t&&(t.destroy(),this.multiSelect=null)},p.enableDragReordering=function(e){var t=this.sortable;if(e){if(!t){var r=this;r.sortable=new v.ZP(r,{draggable:".listItem",handle:".listViewDragHandle",onEnd:function(e){return function(e,t){var r=e.item,i=e.newIndex,a=r.getAttribute("data-playlistitemid"),n=r.getAttribute("data-playlistid");if(n){var s=r.getAttribute("data-serverid"),o=f.Z.getApiClient(s);d.ZP.show(),o.ajax({url:o.getUrl("Playlists/"+n+"/Items/"+a+"/Move/"+i),type:"POST"}).then((function(){d.ZP.hide()}),(function(){d.ZP.hide(),t.refreshItems()}))}else{var l=e.oldIndex;r.dispatchEvent(new CustomEvent("itemdrop",{detail:{oldIndex:l,newIndex:i,playlistItemId:a},bubbles:!0,cancelable:!1}))}}(e,r)}})}}else t&&(t.destroy(),this.sortable=null)},p.createdCallback=function(){this.classList.add("itemsContainer")},p.attachedCallback=function(){this.addEventListener("click",b),l.Z.touch?this.addEventListener("contextmenu",g):"false"!==this.getAttribute("data-contextmenu")&&this.addEventListener("contextmenu",y),(o.Z.desktop||o.Z.mobile&&"false"!==this.getAttribute("data-multiselect"))&&this.enableMultiSelect(!0),o.Z.tv&&this.classList.add("itemsContainer-tv"),i.ZP.on(this,{click:!1}),R(this,"UserDataChanged",T),R(this,"TimerCreated",C),R(this,"SeriesTimerCreated",P),R(this,"TimerCancelled",S),R(this,"SeriesTimerCancelled",L),R(this,"LibraryChanged",w),R(this,"playbackstop",x,n.O),"true"===this.getAttribute("data-dragreorder")&&this.enableDragReordering(!0)},p.detachedCallback=function(){k(this),this.enableMultiSelect(!1),this.enableDragReordering(!1),this.removeEventListener("click",b),this.removeEventListener("contextmenu",y),this.removeEventListener("contextmenu",g),i.ZP.off(this,{click:!1}),A(this,"UserDataChanged"),A(this,"TimerCreated"),A(this,"SeriesTimerCreated"),A(this,"TimerCancelled"),A(this,"SeriesTimerCancelled"),A(this,"LibraryChanged"),A(this,"playbackstop",n.O),this.fetchData=null,this.getItemsHtml=null,this.parentContainer=null},p.pause=function(){k(this,!0),this.paused=!0},p.resume=function(e){this.paused=!1;var t=this.refreshIntervalEndTime;if(t){var r=t-(new Date).getTime();r>0&&!this.needsRefresh?Z(this,r):(this.needsRefresh=!0,this.refreshIntervalEndTime=null)}return this.needsRefresh||null!=e&&e.refresh?this.refreshItems():Promise.resolve()},p.refreshItems=function(){return this.fetchData?this.paused?(this.needsRefresh=!0,Promise.resolve()):(this.needsRefresh=!1,this.fetchData().then(E.bind(this))):Promise.resolve()},p.notifyRefreshNeeded=function(e){if(this.paused)this.needsRefresh=!0;else{var t=this.refreshTimeout;t&&clearTimeout(t),!0===e?this.refreshItems():this.refreshTimeout=setTimeout(this.refreshItems.bind(this),1e4)}},document.registerElement("emby-itemscontainer",{prototype:p,extends:"div"})},24432:function(e,t,r){r(5769),r(63238),r(61418),r(17460),r(14078);var i=r(15723),a=r(72365),n=r(30325),s=r(58517),o=r(34643),l=r(57366),c=(r(67752),Object.create(HTMLDivElement.prototype));function d(e){var t=e.detail.command;"end"===t?(o.Z.focusLast(this,"."+this.getAttribute("data-navcommands")),e.preventDefault(),e.stopPropagation()):"pageup"===t?(o.Z.moveFocus(e.target,this,"."+this.getAttribute("data-navcommands"),-12),e.preventDefault(),e.stopPropagation()):"pagedown"===t&&(o.Z.moveFocus(e.target,this,"."+this.getAttribute("data-navcommands"),12),e.preventDefault(),e.stopPropagation())}c.createdCallback=function(){this.classList.add("emby-scroller")},c.scrollToBeginning=function(){this.scroller&&this.scroller.slideTo(0,!0)},c.toStart=function(e,t){this.scroller&&this.scroller.toStart(e,t)},c.toCenter=function(e,t){this.scroller&&this.scroller.toCenter(e,t)},c.scrollToPosition=function(e,t){this.scroller&&this.scroller.slideTo(e,t)},c.getScrollPosition=function(){if(this.scroller)return this.scroller.getScrollPosition()},c.getScrollSize=function(){if(this.scroller)return this.scroller.getScrollSize()},c.getScrollEventName=function(){if(this.scroller)return this.scroller.getScrollEventName()},c.getScrollSlider=function(){if(this.scroller)return this.scroller.getScrollSlider()},c.addScrollEventListener=function(e,t){this.scroller&&a.ZP.addEventListener(this.scroller.getScrollFrame(),this.scroller.getScrollEventName(),e,t)},c.removeScrollEventListener=function(e,t){this.scroller&&a.ZP.removeEventListener(this.scroller.getScrollFrame(),this.scroller.getScrollEventName(),e,t)},c.attachedCallback=function(){this.getAttribute("data-navcommands")&&s.default.on(this,d);var e="false"!==this.getAttribute("data-horizontal"),t=this.querySelector(".scrollSlider");e&&(t.style["white-space"]="nowrap");var c,u,h=n.Z.desktop&&e&&"false"!==this.getAttribute("data-scrollbuttons"),m={horizontal:e,mouseDragging:1,mouseWheel:"false"!==this.getAttribute("data-mousewheel"),touchDragging:1,slidee:t,scrollBy:200,speed:e?270:240,elasticBounds:1,dragHandle:1,autoImmediate:!0,skipSlideToWhenVisible:"true"===this.getAttribute("data-skipfocuswhenvisible"),dispatchScrollEvent:h||"true"===this.getAttribute("data-scrollevent"),hideScrollbar:h||"true"===this.getAttribute("data-hidescrollbar"),allowNativeSmoothScroll:"true"===this.getAttribute("data-allownativesmoothscroll")&&!h,allowNativeScroll:!h,forceHideScrollbars:h,requireAnimation:h&&l.Z.edge};this.scroller=new i.Z(this,m),this.scroller.init(),this.scroller.reload(),n.Z.tv&&this.getAttribute("data-centerfocus")&&(this,c=this.scroller,a.ZP.addEventListener(this,"focus",(function(e){var t=o.Z.focusableParent(e.target);t&&c.toCenter(t)}),{capture:!0,passive:!0})),h&&(u=this,r.e(39346).then(r.bind(r,39346)).then((function(){u.insertAdjacentHTML("beforebegin",'<div is="emby-scrollbuttons" class="emby-scrollbuttons padded-right"></div>')})))},c.pause=function(){var e=this.headroom;e&&e.pause()},c.resume=function(){var e=this.headroom;e&&e.resume()},c.detachedCallback=function(){this.getAttribute("data-navcommands")&&s.default.off(this,d);var e=this.headroom;e&&(e.destroy(),this.headroom=null);var t=this.scroller;t&&(t.destroy(),this.scroller=null)},document.registerElement("emby-scroller",{prototype:c,extends:"div"})}}]);