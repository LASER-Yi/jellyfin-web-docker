/*! For license information please see playback-video.b02ce47928936f0396e4.chunk.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[92016,49213,27636,73287],{24102:function(e,t,i){"use strict";var a=i(61693),r=i(21776);function n(e){return"Video"===e.MediaType&&"TvChannel"!==e.Type||"AudioBook"===e.Type||"AudioPodcast"===e.Type}function s(e,t){var i="itemProgressBar";return null!=t&&t.containerClass&&(i+=" "+t.containerClass),'<div class="'+i+'"><div class="itemProgressBarForeground" style="width:'+e+'%;"></div></div>'}function o(e){return r.ZP.canMarkPlayed(e)}i(55005),t.ZP={getProgressHtml:s,getProgressBarHtml:function(e,t){var i;if(n(e)&&"Recording"!==e.Type){var r=null!=t&&t.userData?t.userData:e.UserData;if(r&&(i=r.PlayedPercentage)&&i<100)return s(i,t)}if(("Program"===e.Type||"Timer"===e.Type||"Recording"===e.Type)&&e.StartDate&&e.EndDate){var o=0,c=1;try{o=a.ZP.parseISO8601Date(e.StartDate).getTime(),c=a.ZP.parseISO8601Date(e.EndDate).getTime()}catch(e){console.error(e)}if((i=((new Date).getTime()-o)/(c-o)*100)>0&&i<100)return function(e,t,i,a,r){var n="itemProgressBar";null!=t&&t.containerClass&&(n+=" "+t.containerClass);var s="itemProgressBarForeground";return i&&(s+=" itemProgressBarForeground-recording"),'<div is="emby-progressbar" data-automode="time" data-starttime="'+a+'" data-endtime="'+r+'" class="'+n+'"><div class="'+s+'" style="width:'+e+'%;"></div></div>'}(i,t,"Timer"===e.Type||"Recording"===e.Type||e.TimerId,o,c)}return""},getPlayedIndicatorHtml:function(e){if(o(e)){var t=e.UserData||{};if(t.UnplayedItemCount)return'<div class="countIndicator indicator">'+a.ZP.toLocaleString(t.UnplayedItemCount)+"</div>";if(t.PlayedPercentage&&t.PlayedPercentage>=100||t.Played)return'<div class="playedIndicator indicator"><span class="material-icons indicatorIcon check" aria-hidden="true"></span></div>'}return""},getChildCountIndicatorHtml:function(e,t){var i=null!=t&&t.minCount?t.minCount:0;return e.ChildCount&&e.ChildCount>i?'<div class="countIndicator indicator">'+a.ZP.toLocaleString(e.ChildCount)+"</div>":""},enableProgressIndicator:n,getTimerIndicator:function(e){var t;if("SeriesTimer"===e.Type)return'<span class="material-icons timerIndicator indicatorIcon fiber_smart_record" aria-hidden="true"></span>';if(e.TimerId||e.SeriesTimerId)t=e.Status||"Cancelled";else{if("Timer"!==e.Type)return"";t=e.Status}return e.SeriesTimerId?"Cancelled"!==t?'<span class="material-icons timerIndicator indicatorIcon fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons timerIndicator timerIndicator-inactive indicatorIcon fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons timerIndicator indicatorIcon fiber_manual_record" aria-hidden="true"></span>'},enablePlayedIndicator:o,getSyncIndicator:function(e){return 100===e.SyncPercent?'<div class="syncIndicator indicator fullSyncIndicator"><span class="material-icons indicatorIcon file_download" aria-hidden="true"></span></div>':null!=e.SyncPercent?'<div class="syncIndicator indicator emptySyncIndicator"><span class="material-icons indicatorIcon file_download" aria-hidden="true"></span></div>':""},getTypeIndicator:function(e){var t={Video:"videocam",Folder:"folder",PhotoAlbum:"photo_album",Photo:"photo"}[e.Type];return t?'<div class="indicator videoIndicator"><span class="material-icons indicatorIcon '+t+'" aria-hidden="true"></span></div>':""},getMissingIndicator:function(e){if("Episode"===e.Type&&"Virtual"===e.LocationType){if(e.PremiereDate)try{if(a.ZP.parseISO8601Date(e.PremiereDate).getTime()>(new Date).getTime())return'<div class="unairedIndicator">Unaired</div>'}catch(e){console.error(e)}return'<div class="missingIndicator">Missing</div>'}return""}}},70350:function(e,t,i){"use strict";i(84159),i(96626),i(48914),i(2663),i(81414);var a=i(65009),r=i.n(a),n=i(61693),s=i(94994),o=i(66560),c=i(21776),l=i(24102),u=(i(38228),i(60934));function d(e){if("Video"===e.MediaType&&e.RunTimeTicks&&!e.StartDate){var t=(new Date).getTime()+e.RunTimeTicks/1e4;t=new Date(t);var i=n.ZP.getDisplayTime(t);return s.ZP.translate("EndsAtValue",i)}return null}function f(e,t){t=t?"".concat(t," mediaInfoItem"):"mediaInfoItem";var i=e;if("string"!=typeof e&&"number"!=typeof e){if(e.html)return e.html;i=e.text,t+=" ".concat(e.cssClass)}return'<div class="'.concat(t,'">').concat(i,"</div>")}function m(e,t,i){if(!1!==i.endsAt){var a=e.querySelector(".endsAt");a&&function(e,t){var i=setInterval((function(){document.body.contains(e)?e.innerHTML=d(t):clearInterval(i)}),6e4)}(a,t)}var r=e.querySelector(".lnkChannel");r&&r.addEventListener("click",p)}function p(e){var t=this.getAttribute("data-id"),i=this.getAttribute("data-serverid");return o.appRouter.showItem(t,i),e.preventDefault(),!1}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return void 0===t.interactive&&(t.interactive=!1),function(e){var t,i,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m="",p=[],v="MusicAlbum"===e.Type||"MusicArtist"===e.MediaType||"Playlist"===e.Type||"Playlist"===e.MediaType||"MusicGenre"===e.MediaType;if(v?((a=e.SongCount||e.ChildCount)&&p.push(s.ZP.translate("TrackCount",a)),e.RunTimeTicks&&p.push(n.ZP.getDisplayDuration(e.RunTimeTicks))):"PhotoAlbum"!==e.Type&&"BoxSet"!==e.Type||(a=e.ChildCount)&&p.push(s.ZP.translate("ItemCount",a)),("Episode"===e.Type||"Photo"===e.MediaType)&&!1!==o.originalAirDate&&e.PremiereDate)try{i=n.ZP.parseISO8601Date(e.PremiereDate,"Episode"!==e.Type),t=n.ZP.toLocaleDateString(i),p.push(t)}catch(t){console.error("error parsing date:",e.PremiereDate)}if("SeriesTimer"===e.Type&&(e.RecordAnyTime?p.push(s.ZP.translate("Anytime")):p.push(n.ZP.getDisplayTime(e.StartDate)),e.RecordAnyChannel?p.push(s.ZP.translate("AllChannels")):p.push(e.ChannelName||s.ZP.translate("OneChannel"))),e.StartDate&&"Program"!==e.Type&&"SeriesTimer"!==e.Type&&"Timer"!==e.Type)try{i=n.ZP.parseISO8601Date(e.StartDate),t=n.ZP.toLocaleDateString(i),p.push(t),"Recording"!==e.Type&&(t=n.ZP.getDisplayTime(i),p.push(t))}catch(t){console.error("error parsing date:",e.StartDate)}if(!1!==o.year&&e.ProductionYear&&"Series"===e.Type)if("Continuing"===e.Status)p.push(s.ZP.translate("SeriesYearToPresent",n.ZP.toLocaleString(e.ProductionYear,{useGrouping:!1})));else if(e.ProductionYear){if(t=n.ZP.toLocaleString(e.ProductionYear,{useGrouping:!1}),e.EndDate)try{var h=n.ZP.toLocaleString(n.ZP.parseISO8601Date(e.EndDate).getFullYear(),{useGrouping:!1});h!==t&&(t+=" - ".concat(h))}catch(t){console.error("error parsing date:",e.EndDate)}p.push(t)}if("Program"===e.Type||"Timer"===e.Type){var y=e;if("Timer"===e.Type&&(y=e.ProgramInfo),!1!==o.programIndicator&&(y.IsLive&&"true"===u.get("guide-indicator-live")?p.push({html:'<div class="mediaInfoProgramAttribute mediaInfoItem liveTvProgram">'.concat(s.ZP.translate("Live"),"</div>")}):y.IsPremiere&&"true"===u.get("guide-indicator-premiere")?p.push({html:'<div class="mediaInfoProgramAttribute mediaInfoItem premiereTvProgram">'.concat(s.ZP.translate("Premiere"),"</div>")}):y.IsSeries&&!y.IsRepeat&&"true"===u.get("guide-indicator-new")?p.push({html:'<div class="mediaInfoProgramAttribute mediaInfoItem newTvProgram">'.concat(s.ZP.translate("New"),"</div>")}):y.IsSeries&&y.IsRepeat&&"true"===u.get("guide-indicator-repeat")&&p.push({html:'<div class="mediaInfoProgramAttribute mediaInfoItem repeatTvProgram">'.concat(s.ZP.translate("Repeat"),"</div>")})),(y.IsSeries||y.EpisodeTitle)&&!1!==o.episodeTitle)(t=c.ZP.getDisplayName(y,{includeIndexNumber:o.episodeTitleIndexNumber}))&&p.push(r()(t));else if(y.IsMovie&&y.ProductionYear&&!1!==o.originalAirDate)p.push(y.ProductionYear);else if(y.PremiereDate&&!1!==o.originalAirDate)try{i=n.ZP.parseISO8601Date(y.PremiereDate),t=s.ZP.translate("OriginalAirDateValue",n.ZP.toLocaleDateString(i)),p.push(t)}catch(e){console.error("error parsing date:",y.PremiereDate)}else y.ProductionYear&&!1!==o.year&&p.push(y.ProductionYear)}if(!1!==o.year&&"Series"!==e.Type&&"Episode"!==e.Type&&"Person"!==e.Type&&"Photo"!==e.MediaType&&"Program"!==e.Type&&"Season"!==e.Type)if(e.ProductionYear)p.push(e.ProductionYear);else if(e.PremiereDate)try{t=n.ZP.toLocaleString(n.ZP.parseISO8601Date(e.PremiereDate).getFullYear(),{useGrouping:!1}),p.push(t)}catch(t){console.error("error parsing date:",e.PremiereDate)}if(e.RunTimeTicks&&"Series"!==e.Type&&"Program"!==e.Type&&"Timer"!==e.Type&&"Book"!==e.Type&&!v&&!1!==o.runtime&&("Audio"===e.Type?p.push(n.ZP.getDisplayRunningTime(e.RunTimeTicks)):p.push(n.ZP.getDisplayDuration(e.RunTimeTicks))),!1!==o.officialRating&&e.OfficialRating&&"Season"!==e.Type&&"Episode"!==e.Type&&p.push({text:e.OfficialRating,cssClass:"mediaInfoOfficialRating"}),e.Video3DFormat&&p.push("3D"),"Photo"===e.MediaType&&e.Width&&e.Height&&p.push("".concat(e.Width,"x").concat(e.Height)),!1!==o.container&&"Audio"===e.Type&&e.Container&&p.push(e.Container),m+=p.map((function(e){return f(e)})).join(""),!1!==o.starRating&&(m+=function(e){var t="";return e.CommunityRating&&(t+='<div class="starRatingContainer mediaInfoItem">',t+='<span class="material-icons starIcon star" aria-hidden="true"></span>',t+=e.CommunityRating.toFixed(1),t+="</div>"),t}(e)),e.HasSubtitles&&!1!==o.subtitles&&(m+='<div class="mediaInfoItem mediaInfoText closedCaptionMediaInfoText">CC</div>'),e.CriticRating&&!1!==o.criticRating&&(e.CriticRating>=60?m+='<div class="mediaInfoItem mediaInfoCriticRating mediaInfoCriticRatingFresh">'.concat(e.CriticRating,"</div>"):m+='<div class="mediaInfoItem mediaInfoCriticRating mediaInfoCriticRatingRotten">'.concat(e.CriticRating,"</div>")),!1!==o.endsAt){var g=d(e);g&&(m+=f(g,"endsAt"))}return m+l.ZP.getMissingIndicator(e)}(e,t)}function h(e,t){return null==(t=t||{}).interactive&&(t.interactive=!1),"Program"===e.Type?function(e,t){var i,a,s=[];if(e.StartDate&&!1!==t.programTime)try{i="",a=n.ZP.parseISO8601Date(e.StartDate),!1!==t.startDate&&(i+=n.ZP.toLocaleDateString(a,{weekday:"short",month:"short",day:"numeric"})),i+=" ".concat(n.ZP.getDisplayTime(a)),e.EndDate&&(a=n.ZP.parseISO8601Date(e.EndDate),i+=" - ".concat(n.ZP.getDisplayTime(a))),s.push(i)}catch(t){console.error("error parsing date:",e.StartDate)}if(e.ChannelNumber&&s.push("CH ".concat(e.ChannelNumber)),e.ChannelName&&(t.interactive&&e.ChannelId?s.push({html:'<a is="emby-linkbutton" class="button-flat mediaInfoItem" href="'.concat(o.appRouter.getRouteUrl({ServerId:e.ServerId,Type:"TvChannel",Name:e.ChannelName,Id:e.ChannelId}),'">').concat(r()(e.ChannelName),"</a>")}):s.push(r()(e.ChannelName))),!1!==t.timerIndicator){var c=function(e){var t;if("SeriesTimer"===e.Type)return'<span class="material-icons mediaInfoItem mediaInfoIconItem mediaInfoTimerIcon fiber_smart_record" aria-hidden="true"></span>';if(e.TimerId||e.SeriesTimerId)t=e.Status||"Cancelled";else{if("Timer"!==e.Type)return"";t=e.Status}return e.SeriesTimerId?"Cancelled"!==t?'<span class="material-icons mediaInfoItem mediaInfoIconItem mediaInfoTimerIcon fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons mediaInfoItem mediaInfoIconItem fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons mediaInfoItem mediaInfoIconItem mediaInfoTimerIcon fiber_manual_record" aria-hidden="true"></span>'}(e);c&&s.push({html:c})}return""+s.map((function(e){return f(e)})).join("")}(e,t):""}function y(e){var t=e.Width,i=e.Height;if(t&&i){if(t>=3800||i>=2e3)return"4K";if(t>=2500||i>=1400)return e.IsInterlaced?"1440i":"1440p";if(t>=1800||i>=1e3)return e.IsInterlaced?"1080i":"1080p";if(t>=1200||i>=700)return e.IsInterlaced?"720i":"720p";if(t>=700||i>=400)return e.IsInterlaced?"480i":"480p"}return null}t.ZP={getMediaInfoHtml:v,getEndsAt:d,getEndsAtFromPosition:function(e,t,i,a){var r=(new Date).getTime()+1/i*((e-(t||0))/1e4);r=new Date(r);var o=n.ZP.getDisplayTime(r);return!1===a?o:s.ZP.translate("EndsAtValue",o)},getPrimaryMediaInfoHtml:v,getSecondaryMediaInfoHtml:h,fillPrimaryMediaInfo:function(e,t,i){var a=v(t,i);e.innerHTML=a,m(e,t,i)},fillSecondaryMediaInfo:function(e,t,i){var a=h(t,i);e.innerHTML=a,m(e,t,i)},getMediaInfoStats:function(e){var t=[],i=(((e.MediaSources||[])[0]||{}).MediaStreams||[]).filter((function(e){return"Video"===e.Type}))[0]||{},a=function(e){if(!e.MediaSources)return null;var t=e.MediaSources[0];return t?(t.MediaStreams||[]).filter((function(e){return"Audio"===e.Type&&(e.Index===t.DefaultAudioStreamIndex||null==t.DefaultAudioStreamIndex)}))[0]:null}(e)||{};"Dvd"===e.VideoType&&t.push({type:"mediainfo",text:"Dvd"}),"BluRay"===e.VideoType&&t.push({type:"mediainfo",text:"BluRay"});var r=y(i);r&&t.push({type:"mediainfo",text:r}),i.Codec&&t.push({type:"mediainfo",text:i.Codec});var o,l=a.Channels;8===l?o="7.1":7===l?o="6.1":6===l?o="5.1":2===l&&(o="2.0"),o&&t.push({type:"mediainfo",text:o});var u=(a.Codec||"").toLowerCase();if("dca"!==u&&"dts"!==u||!a.Profile?a.Codec&&t.push({type:"mediainfo",text:a.Codec}):t.push({type:"mediainfo",text:a.Profile}),e.DateCreated&&c.ZP.enableDateAddedDisplay(e)){var d=n.ZP.parseISO8601Date(e.DateCreated);t.push({type:"added",text:s.ZP.translate("AddedOnValue","".concat(n.ZP.toLocaleDateString(d)," ").concat(n.ZP.getDisplayTime(d)))})}return t},getResolutionText:y}},78042:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return U}}),i(56187),i(38690),i(89228),i(88646),i(54134),i(91270),i(13227),i(81414),i(37666),i(14011),i(11431),i(21413),i(86651),i(59139),i(86028),i(84159),i(44901),i(44231),i(96626),i(54112),i(63241),i(47134);var a,r,n,s,o,c=i(65009),l=i.n(c),u=i(56356),d=i(48957),f=i(57366),m=i(72365),p=i(58517),v=i(21844),h=i(61693),y=i(21776),g=i(70350),b=i(34643),P=i(74131),T=i(94994),S=i(92811),I=i(30325),k=i(60934),L=i(84280),w=(i(42855),i(61414),i(27636),i(18613)),C=i(92581);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function Z(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,D(a.key),a)}}function D(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!=O(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==O(t)?t:String(t)}function E(e){var t=document.createElement("div");function i(){var e=parseFloat(r.value);d.O.setSubtitleOffset(e,a),n.updateOffset(e)}document.body.appendChild(t),t.innerHTML='<div class="subtitleSync"> <div class="subtitleSyncContainer"> <button type="button" is="paper-icon-button-light" class="subtitleSync-closeButton"><span class="material-icons close" aria-hidden="true"></span></button> <div class="subtitleSyncTextField" contenteditable="true" spellcheck="false">0s</div> <div class="sliderContainer subtitleSyncSliderContainer"> <input is="emby-slider" type="range" step="0.1" min="-30" max="30" value="0" class="subtitleSyncSlider" data-slider-keep-progress="true"/> </div> </div> </div> ',r=t.querySelector(".subtitleSyncSlider"),n=t.querySelector(".subtitleSyncTextField"),s=t.querySelector(".subtitleSync-closeButton"),o=t.querySelector(".subtitleSyncContainer"),I.Z.tv&&(r.classList.add("focusable"),setTimeout((function(){r.enableKeyboardDragging()}),0)),o.classList.add("hide"),n.updateOffset=function(e){this.textContent=e+"s"},n.addEventListener("click",(function(){this.hasFocus=!0})),n.addEventListener("keydown",(function(e){if("Enter"===e.key){var t=/[-+]?\d+\.?\d*/g.exec(this.textContent);t?(t=t[0],t=parseFloat(t),r.updateOffset(t)):this.textContent=(d.O.getPlayerSubtitleOffset(a)||0)+"s",this.hasFocus=!1,e.preventDefault()}else this.hasFocus=!0,null===e.key.match(/[+-\d.s]/)&&e.preventDefault();e.stopPropagation()})),n.blur=function(){!this.hasFocus&&this.prototype&&this.prototype.blur()},r.updateOffset=function(e){this.value=void 0===e?0:e,i()},r.addEventListener("change",(function(){return i()})),r.getBubbleHtml=function(e,t){return'<h1 class="sliderBubbleText">'+(t>0?"+":"")+parseFloat(t)+"s</h1>"},s.addEventListener("click",(function(){d.O.disableShowingSubtitleOffset(a),x.prototype.toggle("forceToHide")})),e.element=t}i(81597),i(66066),i(26031),i(95822),i(11908),i(33096);var x=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a=t,E(this)}var t,i;return t=e,(i=[{key:"destroy",value:function(){e.prototype.toggle("forceToHide"),a&&(d.O.disableShowingSubtitleOffset(a),d.O.setSubtitleOffset(0,a));var t=this.element;t&&(t.parentNode.removeChild(t),this.element=null)}},{key:"toggle",value:function(e){if(!e||["hide","forceToHide"].includes(e)){if(a&&d.O.supportSubtitleOffset(a)){if(e){if("hide"===e&&n.hasFocus)return}else if(d.O.isShowingSubtitleOffsetEnabled(a)&&d.O.canHandleOffsetOnCurrentSubtitle(a))return d.O.getPlayerSubtitleOffset(a)||n.hasFocus||(r.value="0",n.textContent="0s",d.O.setSubtitleOffset(0,a)),void o.classList.remove("hide");o.classList.add("hide")}}else console.warn("SubtitleSync.toggle called with invalid action",e)}}])&&Z(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),A=x,R=i(66560),M=i(71487),q=i(57084),F=i(67932),H=i(86062);function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}var _=6e8,B=1e7;function V(){return document.querySelector(".dialogContainer .dialog.opened")}function U(e){var t;function a(t){if(!t||"Program"!==t.Type)return J&&(J.destroy(),J=null),void e.querySelector(".btnRecord").classList.add("hide");w.Z.getApiClient(t.ServerId).getCurrentUser().then((function(a){a.Policy.EnableLiveTvManagement&&i.e(3679).then(i.bind(i,3679)).then((function(i){var a=i.default;J?J.refreshItem(t):(J=new a({item:t,button:e.querySelector(".btnRecord")}),e.querySelector(".btnRecord").classList.remove("hide"))}))}))}function r(t){var i,r=t.originalItem;G=r;var n=t.displayItem||r;a(n);var o=n.SeriesName||n.Album;(n.EpisodeTitle||n.IsSeries)&&(o=n.Name),function(e,t){var i=y.ZP.getDisplayName(e,{includeParentInfo:"Program"!==e.Type,includeIndexNumber:"Program"!==e.Type});i&&t&&(i="".concat(t," - ").concat(i)),i||(i=t||"");var a=i;if(e.PremiereDate)try{var r=h.ZP.toLocaleString(h.ZP.parseISO8601Date(e.PremiereDate).getFullYear(),{useGrouping:!1});a+=" (".concat(r,")")}catch(e){console.error(e)}M.default.setTitle(a);var n=t||(e?e.Name:null);n&&(document.title=n)}(n,o),tt.innerHTML=g.ZP.getPrimaryMediaInfoHtml(n,{officialRating:!1,criticRating:!0,starRating:!0,endsAt:!1,year:!1,programIndicator:!1,runtime:!1,subtitles:!1,originalAirDate:!1,episodeTitle:!1});var c=e.querySelector(".osdSecondaryMediaInfo"),l=g.ZP.getSecondaryMediaInfoHtml(n,{startDate:!1,programTime:!1});c.innerHTML=l,l?c.classList.remove("hide"):c.classList.add("hide"),X?(s($e,n.StartDate),s(Qe,n.EndDate),$e.classList.remove("hide"),Qe.classList.remove("hide"),Ue=n.StartDate?h.ZP.parseISO8601Date(n.StartDate).getTime():0,We=n.EndDate?h.ZP.parseISO8601Date(n.EndDate).getTime():0):($e.classList.add("hide"),Qe.classList.add("hide"),$e.innerHTML="",Qe.innerHTML="",Ue=0,We=0);var u=e.querySelector(".btnUserRating");y.ZP.canRate(G)?(u.classList.remove("hide"),u.setItem(G)):(u.classList.add("hide"),u.setItem(null)),Ye=null;var d,f,m=W.streamInfo.mediaSource.Id,p=null===(i=r.Trickplay)||void 0===i?void 0:i[m];if(p){for(var v,b=window.screen.width*window.devicePixelRatio*.2,P=0,T=Object.entries(p);P<T.length;P++){var S=(d=T[P],f=2,function(e){if(Array.isArray(e))return e}(d)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var a,r,n,s,o=[],c=!0,l=!1;try{if(n=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;c=!1}else for(;!(c=(a=n.call(i)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(e){l=!0,r=e}finally{try{if(!c&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(l)throw r}}return o}}(d,f)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?N(e,t):void 0}}(d,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1];(!v||S.Width<v&&v>b||S.Width>v&&S.Width<=b)&&(v=S.Width)}v&&(Ye=p[v])}}function n(e,t){return t?h.ZP.toLocaleTimeString(e,{hour:"numeric",minute:"2-digit",second:"2-digit"}).toLowerCase().replace("am","").replace("pm","").trim():h.ZP.getDisplayTime(e).toLowerCase().replace("am","").replace("pm","").trim()}function s(e,t){var i;t&&(i=n(t=h.ZP.parseISO8601Date(t))),e.innerHTML=i||""}var o=!1;function c(e){nt.classList.remove("osdHeader-hidden"),function(e){if(z)"osd"===z&&e&&!I.Z.mobile&&te(e);else{var t=st;z="osd",D(t),t.classList.remove("hide"),t.classList.remove("videoOsdBottom-hidden"),e||(e=t.querySelector(".btnPause")),I.Z.mobile||te(e),Oe()}}(e),ie()}function O(){nt.classList.add("osdHeader-hidden"),function(){if("osd"===z){var e=st;D(e),e.classList.add("videoOsdBottom-hidden"),m.ZP.addEventListener(e,rt,E,{once:!0}),z=null,Oe("hide"),document.activeElement&&document.activeElement.blur()}}(),v.ZP.hideCursor()}function Z(){Q&&(clearTimeout(Q),Q=null)}function D(e){m.ZP.removeEventListener(e,rt,E,{once:!0})}function E(e){var t=e.target;t==st&&(t.classList.add("hide"),m.ZP.removeEventListener(t,rt,E,{once:!0}))}var x,U,W,j,Y,K,G,J,X,z,$,Q,ee,te=(0,u.Z)((function(e){return b.Z.focus(e)}),50);function ie(){!z||o||V()?Z():(Z(),Q=setTimeout(O,3e3))}function ae(e){if("mouse"===(e.pointerType||(I.Z.mobile?"touch":"mouse"))){var t=e.screenX||e.clientX||0,i=e.screenY||e.clientY||0,a=ee;if(!a)return void(ee={x:t,y:i});if(Math.abs(t-a.x)<10&&Math.abs(i-a.y)<10)return;a.x=t,a.y=i,c()}}function re(t){var i,a=W;switch(t.detail.command){case"left":"osd"===z?c():z||(t.preventDefault(),d.O.rewind(a));break;case"right":"osd"===z?c():z||(t.preventDefault(),d.O.fastForward(a));break;case"pageup":d.O.nextChapter(a);break;case"pagedown":d.O.previousChapter(a);break;case"up":case"down":case"select":case"menu":case"info":case"play":case"playpause":case"pause":case"fastforward":case"rewind":case"next":case"previous":c();break;case"record":(i=e.querySelector(".btnRecord")).classList.contains("hide")||i.click(),c();break;case"togglestats":we();break;case"back":"osd"!==z||V()||(O(),t.preventDefault())}}function ne(){var t,i;!W.forcedFullscreen||d.O.isFullscreen(W)?((i=(t=e.querySelector(".btnFullscreen")).querySelector(".material-icons")).classList.remove("fullscreen_exit","fullscreen"),d.O.isFullscreen(W)?(t.setAttribute("title",T.ZP.translate("ExitFullscreen")+" (f)"),i.classList.add("fullscreen_exit")):(t.setAttribute("title",T.ZP.translate("Fullscreen")+" (f)"),i.classList.add("fullscreen"))):R.appRouter.back()}function se(){he(d.O.getCurrentPlayer())}function oe(t,i){var n,s;i.NowPlayingItem&&(K=!0,function(t,i,n){var s=n.PlayState||{};Pe(s.IsPaused);var o=d.O.getSupportedCommands(i);_e=o,Ie(i,s.IsMuted,s.VolumeLevel),Je&&!Je.dragging&&(Je.disabled=!s.CanSeek),at.disabled=!s.CanSeek,it.disabled=!s.CanSeek;var c=n.NowPlayingItem||{};je=s.PlaybackStartTimeTicks,Se(s.PositionTicks,c.RunTimeTicks,s.PlaybackStartTimeTicks,s.PlaybackRate,s.BufferedRanges||[]),function(t,i){var n,s=i.NowPlayingItem;if(G=s,!s)return a(null),M.default.setTitle(""),Ke.disabled=!0,Je.disabled=!0,at.disabled=!0,it.disabled=!0,e.querySelector(".btnSubtitles").classList.add("hide"),e.querySelector(".btnAudio").classList.add("hide"),e.querySelector(".osdTitle").innerHTML="",void(e.querySelector(".osdMediaInfo").innerHTML="");X=function(e){return!("TvChannel"!==e.Type||!e.CurrentProgram)}(s),function(e){if("TvChannel"===e.Type){var t=w.Z.getApiClient(e.ServerId);return t.getItem(t.getCurrentUserId(),e.Id).then((function(e){return{originalItem:e,displayItem:e.CurrentProgram}}))}return Promise.resolve({originalItem:e})}(s).then(r),Ke.disabled=!1,Je.disabled=!1,at.disabled=!1,it.disabled=!1,d.O.subtitleTracks(t).length?(e.querySelector(".btnSubtitles").classList.remove("hide"),Oe()):(e.querySelector(".btnSubtitles").classList.add("hide"),Oe("forceToHide")),d.O.audioTracks(t).length>1?e.querySelector(".btnAudio").classList.remove("hide"):e.querySelector(".btnAudio").classList.add("hide"),(null===(n=G.Chapters)||void 0===n?void 0:n.length)>1?(e.querySelector(".btnPreviousChapter").classList.remove("hide"),e.querySelector(".btnNextChapter").classList.remove("hide")):(e.querySelector(".btnPreviousChapter").classList.add("hide"),e.querySelector(".btnNextChapter").classList.add("hide"))}(i,n);var l=n.MediaSource&&null==n.MediaSource.RunTimeTicks;Je.setIsClear(l),c.RunTimeTicks&&Je.setKeyboardSteps(1e6*k.skipBackLength()/c.RunTimeTicks,1e6*k.skipForwardLength()/c.RunTimeTicks),-1===o.indexOf("ToggleFullscreen")||i.isLocalPlayer&&I.Z.tv&&d.O.isFullscreen(i)?e.querySelector(".btnFullscreen").classList.add("hide"):e.querySelector(".btnFullscreen").classList.remove("hide"),-1===o.indexOf("PictureInPicture")?e.querySelector(".btnPip").classList.add("hide"):e.querySelector(".btnPip").classList.remove("hide"),-1===o.indexOf("AirPlay")?e.querySelector(".btnAirPlay").classList.add("hide"):e.querySelector(".btnAirPlay").classList.remove("hide"),ne()}(0,this,i),n=e.querySelector(".btnPreviousTrack"),s=e.querySelector(".btnNextTrack"),n.classList.remove("hide"),s.classList.remove("hide"),s.disabled=!1,n.disabled=!1,!0,e.removeEventListener("viewbeforehide",Fe),d.O.isPlayingVideo(W)&&e.addEventListener("viewbeforehide",Fe),function(e){var t=sessionStorage.getItem("playbackRateSpeed");null!==t&&e.setPlaybackRate(t)}(this))}function ce(){K&&Pe(this.paused())}function le(){if(K){var e=this;Ie(e,e.isMuted(),e.getVolume())}}function ue(e,t){console.debug("nowplaying event: "+e.type),oe.call(this,e,t),de()}function de(){j=!1,Y&&(Y.destroy(),Y=null)}function fe(t,i){Be=null,de(),console.debug("nowplaying event: "+t.type),"Video"!==i.NextMediaType&&(e.removeEventListener("viewbeforehide",Fe),R.appRouter.back())}function me(){var e=d.O.getPlayerState(this);oe.call(this,{type:"init"},e)}function pe(){e.querySelector(".osdMediaStatus").classList.remove("hide")}function ve(){e.querySelector(".osdMediaStatus").classList.add("hide")}function he(e){if(e===W||(ye(),W=e,e)){var t=d.O.getPlayerState(e);oe.call(e,{type:"init"},t),P.Z.on(e,"playbackstart",ue),P.Z.on(e,"playbackstop",fe),P.Z.on(e,"volumechange",le),P.Z.on(e,"pause",ce),P.Z.on(e,"unpause",ce),P.Z.on(e,"timeupdate",ge),P.Z.on(e,"fullscreenchange",ne),P.Z.on(e,"mediastreamschange",me),P.Z.on(e,"beginFetch",pe),P.Z.on(e,"endFetch",ve),de(),e.isFetching&&pe()}}function ye(){Ce(),Ze(),de();var e=W;e&&(P.Z.off(e,"playbackstart",ue),P.Z.off(e,"playbackstop",fe),P.Z.off(e,"volumechange",le),P.Z.off(e,"pause",ce),P.Z.off(e,"unpause",ce),P.Z.off(e,"timeupdate",ge),P.Z.off(e,"fullscreenchange",ne),P.Z.off(e,"mediastreamschange",me),W=null)}function ge(){if(K&&G){var t=(new Date).getTime();if(t-Ve>=700){Ve=t;var a=this;Be=d.O.duration(a);var r=1e4*d.O.currentTime(a);Se(r,Be,d.O.playbackStartTime(a),d.O.getPlaybackRate(a),d.O.getBufferedRanges(a));var n=G;!function(e,t){if("TvChannel"===t.Type){var i=t.CurrentProgram;if(null!=i&&i.EndDate)try{var a=h.ZP.parseISO8601Date(i.EndDate);if((new Date).getTime()>=a.getTime()){console.debug("program info needs to be refreshed");var r=d.O.getPlayerState(e);oe.call(e,{type:"init"},r)}}catch(e){console.error("error parsing date: "+i.EndDate)}}}(a,n),function(t,a,r,n){if(n&&r&&!j&&!z&&"Episode"===a.Type&&k.enableNextVideoInfoOverlay()){var s=30;n>=50*_?s=40:n>=40*_&&(s=35),r>=n-s*B&&n>=10*_&&n-r>=20*B&&function(t){i.e(36542).then(i.bind(i,36542)).then((function(i){var a=i.default;z||Y||(z="upnext",j=!0,d.O.nextItem(t).then((function(i){Y=new a({parent:e.querySelector(".upNextContainer"),player:t,nextItem:i}),P.Z.on(Y,"hide",be)}),be))}))}(t)}}(a,n,r,Be)}}}function be(){"upnext"===z&&(z=null)}function Pe(t){var i,a,r=e.querySelector(".btnPause"),n=r.querySelector(".material-icons");n.classList.remove("play_arrow","pause"),t?(i="play_arrow",a=T.ZP.translate("Play")):(i="pause",a=T.ZP.translate("ButtonPause")),n.classList.add(i),m.ZP.setElementTitle(r,a+" (k)",a)}function Te(e,t,i){return(i-e)/t*100}function Se(e,t,i,a,r){if(X){if(Je&&!Je.dragging)if(Ue&&We){var n=(i+(e||0))/1e4,s=We-Ue;if(Je.value=Te(Ue,s,n),r.length){var o=Te(Ue,s,(i+(r[0].start||0))/1e4),c=Te(Ue,s,(i+(r[0].end||0))/1e4);Je.setBufferedRanges([{start:o,end:c}])}else Je.setBufferedRanges([])}else Je.value=0,Je.setBufferedRanges([]);Xe.innerHTML="",ze.innerHTML=""}else{if(Je&&!Je.dragging){if(t){var l=e/t;l*=100,Je.value=l}else Je.value=0;t&&null!=e&&Be&&!X&&G.RunTimeTicks&&"Recording"!==G.Type&&null!==a?et.innerHTML="&nbsp;&nbsp;&nbsp;&nbsp;"+g.ZP.getEndsAtFromPosition(t,e,a,!0):et.innerHTML=""}if(Je&&Je.setBufferedRanges(r,t,e),e>=0?(ke(Xe,e),Xe.classList.remove("hide")):Xe.classList.add("hide"),k.enableVideoRemainingTime()){var u=t-e;u>=0?(ke(ze,u),ze.innerHTML="-"+ze.innerHTML,ze.classList.remove("hide")):Xe.classList.add("hide")}else ke(ze,t),ze.classList.remove("hide")}}function Ie(t,i,a){var r=_e,n=!0,s=!0;-1===r.indexOf("Mute")&&(n=!1),-1===r.indexOf("SetVolume")&&(s=!1),t.isLocalPlayer&&S.M.supports("physicalvolumecontrol")&&(n=!1,s=!1);var o=e.querySelector(".buttonMute"),c=o.querySelector(".material-icons");c.classList.remove("volume_off","volume_up"),i?(o.setAttribute("title",T.ZP.translate("Unmute")+" (m)"),c.classList.add("volume_off")):(o.setAttribute("title",T.ZP.translate("Mute")+" (m)"),c.classList.add("volume_up")),n?o.classList.remove("hide"):o.classList.add("hide"),Ke&&(s?Ge.classList.remove("hide"):Ge.classList.add("hide"),Ke.dragging||(Ke.value=a||0))}function ke(e,t,i){if(null!=t){var a=h.ZP.getDisplayRunningTime(t);i&&(a="&nbsp;/&nbsp;"+a),e.innerHTML=a}else e.innerHTML=""}function Le(e){if("stats"===e)we();else if("suboffset"===e){var t=W;t&&(d.O.enableShowingSubtitleOffset(t),Oe())}}function we(){i.e(68074).then(i.bind(i,68074)).then((function(e){var t=e.default,i=W;i&&($?$.toggle():$=new t({player:i}))}))}function Ce(){$&&($.destroy(),$=null)}function Oe(e){var t=W;He?He.toggle(e):t&&(He=new A(t))}function Ze(){He&&(He.destroy(),He=null)}function De(e){if(!e.target.contains(x))return e.preventDefault(),e.stopPropagation(),!1}function Ee(e){x=e.target;var t=L.ZP.getKeyName(e),i=e.ctrlKey||e.altKey||e.metaKey,a=st.querySelector(".btnPause");if(32!==e.keyCode){if(I.Z.tv&&!z)switch(t){case"ArrowLeft":case"ArrowRight":return c(Je),void Je.dispatchEvent(new KeyboardEvent(e.type,e));case"Enter":return d.O.playPause(W),void c(a)}if(I.Z.tv&&L.ZP.isNavigationKey(t))c();else switch(t){case"Enter":c();break;case"Escape":case"Back":"osd"!==z||V()||(O(),e.stopPropagation());break;case"k":d.O.playPause(W),c(a);break;case"ArrowUp":case"Up":d.O.volumeUp(W);break;case"ArrowDown":case"Down":d.O.volumeDown(W);break;case"l":case"ArrowRight":case"Right":d.O.fastForward(W),c(at);break;case"j":case"ArrowLeft":case"Left":d.O.rewind(W),c(it);break;case"f":e.ctrlKey||e.metaKey||d.O.toggleFullscreen(W);break;case"m":d.O.toggleMute(W);break;case"p":case"P":e.shiftKey&&d.O.previousTrack(W);break;case"n":case"N":e.shiftKey&&d.O.nextTrack(W);break;case"NavigationLeft":case"GamepadDPadLeft":case"GamepadLeftThumbstickLeft":document.hasFocus()&&(d.O.rewind(W),c(it));break;case"NavigationRight":case"GamepadDPadRight":case"GamepadLeftThumbstickRight":document.hasFocus()&&(d.O.fastForward(W),c(at));break;case"Home":d.O.seekPercent(0,W);break;case"End":d.O.seekPercent(100,W);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(!i){var r=10*parseInt(t,10);d.O.seekPercent(r,W)}break;case">":d.O.increasePlaybackRate(W);break;case"<":d.O.decreasePlaybackRate(W);break;case"PageUp":d.O.nextChapter(W);break;case"PageDown":d.O.previousChapter(W)}}else"BUTTON"===e.target.tagName&&I.Z.tv?c():(d.O.playPause(W),c(a),e.preventDefault(),e.stopPropagation(),x=null)}function xe(){ie()}function Ae(e){e.deltaY<0&&d.O.volumeUp(W),e.deltaY>0&&d.O.volumeDown(W)}function Re(e){x=e.target,o=!0,ie()}function Me(){o=!1,ie()}function qe(){o=!1,ie()}function Fe(){if(d.O.isPlayingVideo()){C.Z.disableFullscreen(),clearTimeout(U);var t=W;e.removeEventListener("viewbeforehide",Fe),ye(),d.O.stop(t)}}C.Z.enableFullscreen();var He,Ne=this,_e=[],Be=0,Ve=0,Ue=0,We=0,je=0,Ye=null,Ke=e.querySelector(".osdVolumeSlider"),Ge=e.querySelector(".osdVolumeSliderContainer"),Je=e.querySelector(".osdPositionSlider"),Xe=e.querySelector(".osdPositionText"),ze=e.querySelector(".osdDurationText"),$e=e.querySelector(".startTimeText"),Qe=e.querySelector(".endTimeText"),et=e.querySelector(".endsAtText"),tt=e.querySelector(".osdRatingsText"),it=e.querySelector(".btnRewind"),at=e.querySelector(".btnFastForward"),rt=m.ZP.whichTransitionEvent(),nt=document.querySelector(".skinHeader"),st=e.querySelector(".videoOsdBottom-maincontrols");Je.enableKeyboardDragging(),Ke.enableKeyboardDragging(),I.Z.tv&&Je.classList.add("focusable"),ze.addEventListener("click",(function(){k.enableVideoRemainingTime(!k.enableVideoRemainingTime());var e=d.O.getPlayerState(W),t=e.PlayState,i=e.NowPlayingItem;Se(t.PositionTicks,i.RunTimeTicks,t.PlaybackStartTimeTicks,t.PlaybackRate,t.BufferedRanges||[])})),e.addEventListener("viewbeforeshow",(function(){nt.classList.add("osdHeader"),(0,q.G2)(q.q3.Full)})),e.addEventListener("viewshow",(function(){try{P.Z.on(d.O,"playerchange",se),he(d.O.getCurrentPlayer()),m.ZP.addEventListener(document,window.PointerEvent?"pointermove":"mousemove",ae,{passive:!0}),c(),p.default.on(window,re),document.addEventListener("keydown",Ee),m.ZP.addEventListener(document,"keydown",xe,{capture:!0,passive:!0}),document.addEventListener("wheel",Ae),m.ZP.addEventListener(window,window.PointerEvent?"pointerdown":"mousedown",Re,{capture:!0,passive:!0}),m.ZP.addEventListener(window,window.PointerEvent?"pointerup":"mouseup",Me,{capture:!0,passive:!0}),m.ZP.addEventListener(window,"touchstart",Re,{capture:!0,passive:!0}),["touchend","touchcancel"].forEach((function(e){m.ZP.addEventListener(window,e,Me,{capture:!0,passive:!0})})),m.ZP.addEventListener(window,"dragend",qe,{capture:!0,passive:!0}),(f.Z.firefox||f.Z.edge)&&m.ZP.addEventListener(document,"click",De,{capture:!0})}catch(e){(0,q.G2)(q.q3.None),R.appRouter.goHome()}})),e.addEventListener("viewbeforehide",(function(){$&&$.enabled(!1),document.removeEventListener("keydown",Ee),m.ZP.removeEventListener(document,"keydown",xe,{capture:!0,passive:!0}),document.removeEventListener("wheel",Ae),m.ZP.removeEventListener(window,window.PointerEvent?"pointerdown":"mousedown",Re,{capture:!0,passive:!0}),m.ZP.removeEventListener(window,window.PointerEvent?"pointerup":"mouseup",Me,{capture:!0,passive:!0}),m.ZP.removeEventListener(window,"touchstart",Re,{capture:!0,passive:!0}),["touchend","touchcancel"].forEach((function(e){m.ZP.removeEventListener(window,e,Me,{capture:!0,passive:!0})})),m.ZP.removeEventListener(window,"dragend",qe,{capture:!0,passive:!0}),(f.Z.firefox||f.Z.edge)&&m.ZP.removeEventListener(document,"click",De,{capture:!0}),Z(),nt.classList.remove("osdHeader"),nt.classList.remove("osdHeader-hidden"),m.ZP.removeEventListener(document,window.PointerEvent?"pointermove":"mousemove",ae,{passive:!0}),p.default.off(window,re),P.Z.off(d.O,"playerchange",se),ye()})),e.querySelector(".btnFullscreen").addEventListener("click",(function(){d.O.toggleFullscreen(W)})),e.querySelector(".btnPip").addEventListener("click",(function(){d.O.togglePictureInPicture(W)})),e.querySelector(".btnAirPlay").addEventListener("click",(function(){d.O.toggleAirPlay(W)})),e.querySelector(".btnVideoOsdSettings").addEventListener("click",(function(){var e=this;i.e(29078).then(i.bind(i,29078)).then((function(t){var i=W;if(i){var a,r=d.O.getPlayerState(i),n=d.O.supportSubtitleOffset(i)&&d.O.canHandleOffsetOnCurrentSubtitle(i);t.show({mediaType:"Video",player:i,positionTo:e,quality:null===(a=r.MediaSource)||void 0===a?void 0:a.SupportsTranscoding,stats:!0,suboffset:n,onOption:Le}).finally((function(){ie()})),setTimeout(ie,0)}}))})),e.addEventListener("viewhide",(function(){nt.classList.remove("hide")})),e.addEventListener("viewdestroy",(function(){Ne.touchHelper&&(Ne.touchHelper.destroy(),Ne.touchHelper=null),J&&(J.destroy(),J=null),Ce(),Ze()}));var ot=0;m.ZP.addEventListener(e,window.PointerEvent?"pointerdown":"click",(function(e){if(m.ZP.parentWithClass(e.target,["videoOsdBottom","upNextContainer"]))c();else{var t=e.pointerType||(I.Z.mobile?"touch":"mouse"),i=(new Date).getTime();switch(t){case"touch":i-ot>300&&(ot=i,"osd"===z?O():z||c());break;case"mouse":e.button||(U?(clearTimeout(U),U=0):U=setTimeout((function(){d.O.playPause(W),c(),U=0}),300));break;default:d.O.playPause(W),c()}}}),{passive:!0}),m.ZP.addEventListener(e,"dblclick",(function(t){t.target===e&&d.O.toggleFullscreen(W)})),e.querySelector(".buttonMute").addEventListener("click",(function(){d.O.toggleMute(W)})),Ke.addEventListener("input",(function(e){d.O.setVolume(e.target.value,W)})),Je.addEventListener("change",(function(){var e=W;if(e){var t=parseFloat(this.value);if(X){var i=t/100*(We-Ue)*1e4;i+=1e4*Ue,i-=je,d.O.seek(i,e)}else d.O.seekPercent(t,e)}})),Je.updateBubbleHtml=function(e,t){c();var i=G,a=Be*t/100;return!(!Ye||null==i||!i.Trickplay)&&function(e,t,i,a,r,n){var s,o,c=!1,l=r.querySelector(".chapterThumbContainer");if(l)s=l.querySelector(".chapterThumb"),o=l.querySelector(".chapterThumbText");else{c=!0,(l=document.createElement("div")).classList.add("chapterThumbContainer"),l.style.overflow="hidden";var u=document.createElement("div");u.classList.add("chapterThumbWrapper"),u.style.overflow="hidden",u.style.position="relative",u.style.width=t.Width+"px",u.style.height=t.Height+"px",l.appendChild(u),(s=document.createElement("img")).classList.add("chapterThumb"),s.style.position="absolute",s.style.width="unset",s.style.minWidth="unset",s.style.height="unset",s.style.minHeight="unset",u.appendChild(s);var d=document.createElement("div");d.classList.add("chapterThumbTextContainer"),l.appendChild(d),(o=document.createElement("h2")).classList.add("chapterThumbText"),d.appendChild(o)}var f=n/1e4,m=Math.floor(f/t.Interval),p=t.TileWidth*t.TileHeight,v=m%p,y=Math.floor(m/p),g=v%t.TileWidth,b=Math.floor(v/t.TileWidth),P=-g*t.Width,T=-b*t.Height,S=e.getUrl("Videos/"+i.Id+"/Trickplay/"+t.Width+"/"+y+".jpg",{api_key:e.accessToken(),MediaSourceId:a});return s.src!=S&&(s.src=S),s.style.left=P+"px",s.style.top=T+"px",o.textContent=h.ZP.getDisplayRunningTime(n),c&&(r.innerHTML=l.outerHTML),!0}(w.Z.getApiClient(i.ServerId),Ye,i,W.streamInfo.mediaSource.Id,e,a)},Je.getBubbleHtml=function(e){var t;if(c(),X){if(Ue&&We){var i=We-Ue;return i/=100,i*=e,i+=Ue,'<h1 class="sliderBubbleText">'+n(new Date(parseInt(i,10)),!0)+"</h1>"}return"--:--"}if(!Be)return"--:--";var a=Be;a/=100,a*=e;var r=G;if(null!=r&&null!==(t=r.Chapters)&&void 0!==t&&t.length&&r.Chapters[0].ImageTag){var s=function(e,t,i,a){for(var r,n=-1,s=0,o=i.length;s<o;s++){var c=i[s];a>=c.StartPositionTicks&&(r=c,n=s)}if(!r)return null;var u=function(e,t,i,a,r){return t.ImageTag?r.getScaledImageUrl(e.Id,{maxWidth:400,tag:t.ImageTag,type:"Chapter",index:i}):null}(t,r,n,0,e);if(u){var d='<div class="chapterThumbContainer">';return d+='<img class="chapterThumb" src="'+u+'" />',d+='<div class="chapterThumbTextContainer">',d+='<div class="chapterThumbText chapterThumbText-dim">',d+=l()(r.Name),d+="</div>",d+='<h2 class="chapterThumbText">',d+=h.ZP.getDisplayRunningTime(a),d+="</h2>",(d+="</div>")+"</div>"}return null}(w.Z.getApiClient(r.ServerId),r,r.Chapters,a);if(s)return s}return'<h1 class="sliderBubbleText">'+h.ZP.getDisplayRunningTime(a)+"</h1>"},Je.getMarkerInfo=function(){var e,t=[],i=G;return null!=i&&null!==(e=i.Chapters)&&void 0!==e&&e.length&&i.Chapters.forEach((function(e){t.push({className:"chapterMarker",name:e.Name,progress:e.StartPositionTicks/i.RunTimeTicks})})),t},e.querySelector(".btnPreviousTrack").addEventListener("click",(function(){d.O.previousTrack(W)})),e.querySelector(".btnPreviousChapter").addEventListener("click",(function(){d.O.previousChapter(W)})),e.querySelector(".btnPause").addEventListener("click",(function(){d.O.playPause(W)})),e.querySelector(".btnNextChapter").addEventListener("click",(function(){d.O.nextChapter(W)})),e.querySelector(".btnNextTrack").addEventListener("click",(function(){d.O.nextTrack(W)})),it.addEventListener("click",(function(){d.O.rewind(W)})),at.addEventListener("click",(function(){d.O.fastForward(W)})),e.querySelector(".btnAudio").addEventListener("click",(function(){var e=W,t=d.O.audioTracks(e),a=d.O.getAudioStreamIndex(e),r=t.map((function(e){var t={name:e.DisplayTitle,id:e.Index};return e.Index===a&&(t.selected=!0),t})),n=this;Promise.resolve().then(i.bind(i,78130)).then((function(t){t.default.show({items:r,title:T.ZP.translate("Audio"),positionTo:n}).then((function(t){var i=parseInt(t,10);i!==a&&d.O.setAudioStreamIndex(i,e)})).finally((function(){ie()})),setTimeout(ie,0)}))})),e.querySelector(".btnSubtitles").addEventListener("click",(function(){var e=W,t=d.O.subtitleTracks(e),a=d.O.secondarySubtitleTracks(e),r=d.O.getSubtitleStreamIndex(e);null==r&&(r=-1),t.unshift({Index:-1,DisplayTitle:T.ZP.translate("Off")});var n=t.map((function(e){var t={name:e.DisplayTitle,id:e.Index};return e.Index===r&&(t.selected=!0),t}));if(d.O.playerHasSecondarySubtitleSupport(e)&&t.length>1&&a.length>0&&-1!==r&&d.O.trackHasSecondarySubtitleSupport(d.O.getSubtitleStream(e,r),e)){var s={name:T.ZP.translate("SecondarySubtitles"),id:"secondarysubtitle"};n.unshift(s)}var o=this;Promise.resolve().then(i.bind(i,78130)).then((function(t){var i=t.default;i.show({title:T.ZP.translate("Subtitles"),items:n,positionTo:o}).then((function(t){if("secondarysubtitle"===t)try{!function(e,t){var i=W;if(d.O.playerHasSecondarySubtitleSupport(i)){var a=d.O.getSecondarySubtitleStreamIndex(i),r=d.O.secondarySubtitleTracks(i);null==a&&(a=-1),r.unshift({Index:-1,DisplayTitle:T.ZP.translate("Off")});var n=r.map((function(e){var t={name:e.DisplayTitle,id:e.Index};return e.Index===a&&(t.selected=!0),t}));e.show({title:T.ZP.translate("SecondarySubtitles"),items:n,positionTo:t}).then((function(e){if(e){var t=parseInt(e,10);t!==a&&d.O.setSecondarySubtitleStreamIndex(t,i)}})).finally((function(){ie()})),setTimeout(ie,0)}}(i,o)}catch(e){console.error(e)}else{var a=parseInt(t,10);a!==r&&d.O.setSubtitleStreamIndex(a,e)}Oe()})).finally((function(){ie()})),setTimeout(ie,0)}))})),e.querySelector(".btnUserRating").classList.remove("emby-button");var ct=function(t){var i="",a="",r="oneShotPulse",n=1500,s=e.querySelector("#syncPlayIcon");switch(t){case"schedule-play":i="sync spin",a="play_arrow centered",r="infinitePulse",n=-1,O();break;case"unpause":i="play_circle_outline";break;case"pause":i="pause_circle_outline",c();break;case"seek":i="update",r="infinitePulse",n=-1;break;case"buffering":i="schedule",r="infinitePulse",n=-1;break;case"wait-pause":i="schedule",a="pause shifted",r="infinitePulse",n=-1;break;case"wait-unpause":i="schedule",a="play_arrow shifted",r="infinitePulse",n=-1;break;default:return void(s.style.visibility="hidden")}s.setAttribute("class","syncPlayIconCircle "+r),s.querySelector(".primary-icon").setAttribute("class","primary-icon material-icons "+i),s.querySelector(".secondary-icon").setAttribute("class","secondary-icon material-icons "+a);var o=s.cloneNode(!0);o.style.visibility="visible",s.parentNode.replaceChild(o,s),n<0||setTimeout((function(){o.style.visibility="hidden"}),n)},lt=null===(t=F.E.firstOfType(H.z.SyncPlay))||void 0===t?void 0:t.instance;lt&&(P.Z.on(lt.Manager,"enabled",(function(t,i){i||(e.querySelector("#syncPlayIcon").style.visibility="hidden")})),P.Z.on(lt.Manager,"notify-osd",(function(e,t){ct(t)})),P.Z.on(lt.Manager,"group-state-update",(function(e,t,i){"Playing"===t&&"Unpause"===i||"Playing"===t&&"Ready"===i?ct("schedule-play"):"Paused"===t&&"Pause"===i?ct("pause"):"Paused"===t&&"Ready"===i?ct("clear"):"Waiting"===t&&"Seek"===i?ct("seek"):"Waiting"===t&&"Buffer"===i?ct("buffering"):"Waiting"===t&&"Pause"===i?ct("wait-pause"):"Waiting"===t&&"Unpause"===i&&ct("wait-unpause")})))}},55005:function(e,t,i){i(54112);var a=Object.create(HTMLDivElement.prototype);function r(){var e=parseInt(this.getAttribute("data-starttime"),10),t=parseInt(this.getAttribute("data-endtime"),10),i=((new Date).getTime()-e)/(t-e)*100;i=Math.min(100,i),i=Math.max(0,i),this.querySelector(".itemProgressBarForeground").style.width=i+"%"}a.attachedCallback=function(){this.timeInterval&&clearInterval(this.timeInterval),"time"===this.getAttribute("data-automode")&&(this.timeInterval=setInterval(r.bind(this),6e4))},a.detachedCallback=function(){this.timeInterval&&(clearInterval(this.timeInterval),this.timeInterval=null)},document.registerElement("emby-progressbar",{prototype:a,extends:"div"})},27636:function(e,t,i){"use strict";i.r(t);var a=i(44038),r=i(94994),n=i(74131),s=i(38228),o=i(18613);function c(){var e=this,t=e.getAttribute("data-id"),i=e.getAttribute("data-serverid"),a=o.Z.getApiClient(i),r=this.getAttribute("data-likes");r="true"===r||"false"!==r&&null,function(e,t,i,a,r){return t.updateFavoriteStatus(t.getCurrentUserId(),i,!r)}(0,a,t,0,"true"===this.getAttribute("data-isfavorite")).then((function(t){u(e,t.Likes,t.IsFavorite)}))}function l(e,t,i){i.ItemId===this.getAttribute("data-id")&&u(this,i.Likes,i.IsFavorite)}function u(e,t,i,a){var r=e.querySelector(".material-icons");i?(r&&(r.classList.add("favorite"),r.classList.add("ratingbutton-icon-withrating")),e.classList.add("ratingbutton-withrating")):(r&&(r.classList.add("favorite"),r.classList.remove("ratingbutton-icon-withrating")),e.classList.remove("ratingbutton-withrating")),!1!==a&&(e.setAttribute("data-isfavorite",i),e.setAttribute("data-likes",null===t?"":t)),d(e,i)}function d(e,t){e.title=t?r.ZP.translate("Favorite"):r.ZP.translate("AddToFavorites");var i=e.querySelector(".button-text");i&&(i.innerText=e.title)}function f(e){var t,i,r;e.removeEventListener("click",c),(r=(t=e)[i="UserDataChanged"])&&(n.Z.off(a.default,i,r),t[i]=null)}function m(e){var t,i,r;f(e),e.addEventListener("click",c),t=e,i="UserDataChanged",r=l.bind(t),n.Z.on(a.default,i,r),t[i]=r}var p=Object.create(s.Z);p.createdCallback=function(){s.Z.createdCallback&&s.Z.createdCallback.call(this)},p.attachedCallback=function(){s.Z.attachedCallback&&s.Z.attachedCallback.call(this);var e=this.getAttribute("data-id"),t=this.getAttribute("data-serverid");if(e&&t){var i=this.getAttribute("data-likes");u(this,i="true"===i||"false"!==i&&null,"true"===this.getAttribute("data-isfavorite"),!1),m(this)}else d(this)},p.detachedCallback=function(){s.Z.detachedCallback&&s.Z.detachedCallback.call(this),f(this)},p.setItem=function(e){if(e){this.setAttribute("data-id",e.Id),this.setAttribute("data-serverid",e.ServerId);var t=e.UserData||{};u(this,t.Likes,t.IsFavorite),m(this)}else this.removeAttribute("data-id"),this.removeAttribute("data-serverid"),this.removeAttribute("data-likes"),this.removeAttribute("data-isfavorite"),f(this)},document.registerElement("emby-ratingbutton",{prototype:p,extends:"button"})},31606:function(e,t,i){"use strict";var a=i(16918),r="assets/img/devices/";t.ZP={getDeviceIcon:function(e){var t;switch(e.AppName||e.Client){case"Samsung Smart TV":return r+"samsung.svg";case"Xbox One":return r+"xbox.svg";case"Sony PS4":return r+"playstation.svg";case"Kodi":case"Kodi JellyCon":return r+"kodi.svg";case"Jellyfin Android":case"AndroidTV":case"Android TV":return r+"android.svg";case"Jellyfin Mobile (iOS)":case"Jellyfin Mobile (iPadOS)":case"Jellyfin iOS":case"Infuse":return r+"apple.svg";case"Home Assistant":return r+"home-assistant.svg";case"Jellyfin Roku":return r+"roku.svg";case"Finamp":return r+"finamp.svg";case"Jellyfin Web":return function(e){switch(e){case"Opera":case"Opera TV":case"Opera Android":return r+"opera.svg";case"Chrome":case"Chrome Android":return r+"chrome.svg";case"Firefox":case"Firefox Android":return r+"firefox.svg";case"Safari":case"Safari iPad":case"Safari iPhone":return r+"safari.svg";case"Edge Chromium":case"Edge Chromium Android":case"Edge Chromium iPad":case"Edge Chromium iPhone":return r+"edgechromium.svg";case"Edge":return r+"edge.svg";case"Internet Explorer":return r+"msie.svg";default:return r+"html5.svg"}}(e.Name||e.DeviceName);default:if(null===(t=e.Capabilities)||void 0===t?void 0:t.IconUrl)try{return new URL(e.Capabilities.IconUrl).toString()}catch(t){console.error("[getDeviceIcon] device capabilities has invalid IconUrl",e,t)}return r+"other.svg"}},getLibraryIcon:function(e){switch(e){case"movies":return"video_library";case"music":return"library_music";case"photos":case"homevideos":return"photo_library";case"livetv":return"live_tv";case"tvshows":return"tv";case"trailers":return"local_movies";case"musicvideos":return"music_video";case"books":return"library_books";case"channels":return"videocam";case"playlists":return"view_list";default:return"folder"}},getItemTypeIcon:function(e){switch(e){case a.k.MusicAlbum:return"album";case a.k.MusicArtist:case a.k.Person:return"person";case a.k.Audio:return"audiotrack";case a.k.Movie:return"movie";case a.k.Episode:case a.k.Series:return"tv";case a.k.Program:return"live_tv";case a.k.Book:return"book";case a.k.Folder:return"folder";case a.k.BoxSet:return"collections";case a.k.Playlist:return"view_list";case a.k.Photo:return"photo";case a.k.PhotoAlbum:return"photo_album";default:return"folder"}}}},22482:function(e,t,i){"use strict";function a(e){return e}i.d(t,{C:function(){return a}})},94047:function(e,t,i){"use strict";var a=i(27378),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=a.useState,s=a.useEffect,o=a.useLayoutEffect,c=a.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!r(e,i)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var i=t(),a=n({inst:{value:i,getSnapshot:t}}),r=a[0].inst,u=a[1];return o((function(){r.value=i,r.getSnapshot=t,l(r)&&u({inst:r})}),[e,i,t]),s((function(){return l(r)&&u({inst:r}),e((function(){l(r)&&u({inst:r})}))}),[e]),c(i),i};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:u},70644:function(e,t,i){"use strict";e.exports=i(94047)}}]);