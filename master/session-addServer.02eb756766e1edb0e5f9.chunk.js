"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5051],{95330:function(e,n,t){t.r(n),t.d(n,{default:function(){return u}}),t(5769),t(63238),t(61418),t(17460),t(14078);var r=t(59858),a=t(28540),i=t(94994),o=(t(38228),t(60635)),l=t(18613),s=t(25600);function c(e,n){switch(a.ZP.hide(),n.State){case s.e.SignedIn:var t=n.ApiClient;o.ZP.onServerChanged(t.getCurrentUserId(),t.accessToken(),t),o.ZP.navigate("home.html");break;case s.e.ServerSignIn:o.ZP.navigate("login.html?serverid="+n.Servers[0].Id,!1,"none");break;case s.e.ServerSelection:o.ZP.navigate("selectserver.html",!1,"none");break;case s.e.ServerUpdateNeeded:o.ZP.alert({message:i.ZP.translate("ServerUpdateNeeded",'<a href="https://github.com/jellyfin/jellyfin">https://github.com/jellyfin/jellyfin</a>')});break;case s.e.Unavailable:o.ZP.alert({message:i.ZP.translate("MessageUnableToConnectToServer"),title:i.ZP.translate("HeaderConnectionFailure")})}}function u(e){e.querySelector(".addServerForm").addEventListener("submit",(function(n){return function(e){a.ZP.show();var n=e.querySelector("#txtServerHost").value;l.Z.connectToAddress(n,{enableAutoLogin:r.Z.enableAutoLogin()}).then((function(e){c(0,e)}),(function(){c(0,{State:s.e.Unavailable})}))}(e),n.preventDefault(),!1})),e.querySelector(".btnCancel").addEventListener("click",(function(){Promise.resolve().then(t.bind(t,52050)).then((function(e){e.appRouter.back()}))})),Promise.resolve().then(t.bind(t,87680)).then((function(n){n.default.autoFocus(e)}))}}}]);