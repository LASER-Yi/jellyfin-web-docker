"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1836],{1836:function(e,t,a){a.r(t),a(29305),a(32733),a(84701),a(81678),a(24776),a(14382),a(69703),a(44962),a(86584),a(4754),a(94),a(9698),a(36947),a(78557),a(90076),a(83994),a(82367);var n=a(5898),r=a(67430),l=a(38783),i=a(44797),o=a(76562),s=a(46782),u=a(39738),c=a(4838),d=a(38829);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function f(e){var t=function(e){if("object"!=y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=y(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(t)?t:t+""}function p(){this.enabled(!1)}function b(e){return n.Ay.translate(""+e)}function h(e,t,a){var r,l,i,o,s,u=[];return e.TranscodingInfo&&(r=e.TranscodingInfo.VideoCodec,l=e.TranscodingInfo.AudioCodec,i=e.TranscodingInfo.Bitrate,o=e.TranscodingInfo.AudioChannels),r&&u.push({label:n.Ay.translate("LabelVideoCodec"),value:e.TranscodingInfo.IsVideoDirect?r.toUpperCase()+" (direct)":r.toUpperCase()}),l&&u.push({label:n.Ay.translate("LabelAudioCodec"),value:e.TranscodingInfo.IsAudioDirect?l.toUpperCase()+" (direct)":l.toUpperCase()}),"Transcode"===a&&(o&&u.push({label:n.Ay.translate("LabelAudioChannels"),value:o}),i&&u.push({label:n.Ay.translate("LabelBitrate"),value:m(i)}),e.TranscodingInfo.CompletionPercentage&&u.push({label:n.Ay.translate("LabelTranscodingProgress"),value:e.TranscodingInfo.CompletionPercentage.toFixed(1)+"%"}),e.TranscodingInfo.Framerate&&u.push({label:n.Ay.translate("LabelTranscodingFramerate"),value:g(e,t)}),null!==(s=e.TranscodingInfo.TranscodeReasons)&&void 0!==s&&s.length&&u.push({label:n.Ay.translate("LabelReasonForTranscoding"),value:e.TranscodingInfo.TranscodeReasons.map(b).join("<br/>")})),u}function m(e){return e>1e6?(e/1e6).toFixed(1)+" Mbps":Math.floor(e/1e3)+" kbps"}function g(e,t){var a=((u.f.currentMediaSource(t)||{}).MediaStreams||[]).find((function(e){return"Video"===e.Type}))||{},n=a.ReferenceFrameRate||a.RealFrameRate,r=e.TranscodingInfo.Framerate;return n?"".concat(r," fps (").concat((r/n).toFixed(2),"x)"):"".concat(r," fps")}function S(e,t){var a=[],r=u.f.currentMediaSource(t)||{},l=r.Bitrate,i=r.Size;r.Container&&a.push({label:n.Ay.translate("LabelProfileContainer"),value:r.Container}),i&&a.push({label:n.Ay.translate("LabelSize"),value:(0,o.iJ)(i)}),l&&a.push({label:n.Ay.translate("LabelBitrate"),value:m(l)});var s=(r.MediaStreams||[]).filter((function(e){return"Video"===e.Type}))[0]||{},c=s.Codec,d=u.f.getAudioStreamIndex(t),y=u.f.audioTracks(t).filter((function(e){return"Audio"===e.Type&&e.Index===d}))[0]||{},v=y.Codec,f=y.Channels,p=[];c&&p.push(c.toUpperCase()),s.Profile&&p.push(s.Profile),p.length&&a.push({label:n.Ay.translate("LabelVideoCodec"),value:p.join(" ")}),s.BitRate&&a.push({label:n.Ay.translate("LabelVideoBitrate"),value:m(s.BitRate)}),s.VideoRangeType&&a.push({label:n.Ay.translate("LabelVideoRangeType"),value:s.VideoDoViTitle||s.VideoRangeType});var b=[];return v&&b.push(v.toUpperCase()),y.Profile&&b.push(y.Profile),b.length&&a.push({label:n.Ay.translate("LabelAudioCodec"),value:b.join(" ")}),y.BitRate&&a.push({label:n.Ay.translate("LabelAudioBitrate"),value:m(y.BitRate)}),f&&a.push({label:n.Ay.translate("LabelAudioChannels"),value:f}),y.SampleRate&&a.push({label:n.Ay.translate("LabelAudioSampleRate"),value:y.SampleRate+" Hz"}),y.BitDepth&&a.push({label:n.Ay.translate("LabelAudioBitDepth"),value:y.BitDepth}),a}function A(e,t){var a=function(){!function(e,t){var a=(new Date).getTime();a-(e.lastRender||0)<700||(e.lastRender=a,function(e,t){var a=t.getStats?t.getStats():Promise.resolve({}),i=function(e,t){if((new Date).getTime()-(e.lastSessionTime||0)<1e4)return Promise.resolve(e.lastSession);var a=r.tF.getApiClient(u.f.currentItem(t).ServerId);return a.getSessions({deviceId:a.deviceId()}).then((function(t){return e.lastSession=t[0]||{},e.lastSessionTime=(new Date).getTime(),Promise.resolve(e.lastSession)}),(function(){return Promise.resolve({})}))}(e,t);return Promise.all([a,i]).then((function(e){var a=e[0].categories||[],r=e[1],i=c.A.getDisplayPlayMethod(r),o=i;"DirectPlay"===i?o=n.Ay.translate("DirectPlaying"):"Remux"===i?o=n.Ay.translate("Remuxing"):"DirectStream"===i?o=n.Ay.translate("DirectStreaming"):"Transcode"===i&&(o=n.Ay.translate("Transcoding"));var s={stats:[],name:n.Ay.translate("LabelPlaybackInfo")};s.stats.unshift({label:n.Ay.translate("LabelPlayMethod"),value:o}),s.stats.unshift({label:n.Ay.translate("LabelPlayer"),value:t.name});var u=[];u.push(s);for(var y=0,v=a.length;y<v;y++){var f=a[y];"audio"===f.type?f.name=n.Ay.translate("LabelAudioInfo"):"video"===f.type&&(f.name=n.Ay.translate("LabelVideoInfo")),u.push(f)}var p=n.Ay.translate("LabelTranscodingInfo");"Remux"===i?p=n.Ay.translate("LabelRemuxingInfo"):"DirectStream"===i&&(p=n.Ay.translate("LabelDirectStreamingInfo")),r.TranscodingInfo&&u.push({stats:h(r,t,i),name:p}),u.push({stats:S(0,t),name:n.Ay.translate("LabelOriginalMediaInfo")});var b=function(){var e,t=null===(e=d.X.firstOfType(l.Q.SyncPlay))||void 0===e?void 0:e.instance;if(null==t||!t.Manager.isSyncPlayEnabled())return[];var a=[],r=t.Manager.getStats();return a.push({label:n.Ay.translate("LabelSyncPlayTimeSyncDevice"),value:r.TimeSyncDevice}),a.push({label:n.Ay.translate("LabelSyncPlayTimeSyncOffset"),value:r.TimeSyncOffset+" "+n.Ay.translate("MillisecondsUnit")}),a.push({label:n.Ay.translate("LabelSyncPlayPlaybackDiff"),value:r.PlaybackDiff+" "+n.Ay.translate("MillisecondsUnit")}),a.push({label:n.Ay.translate("LabelSyncPlaySyncMethod"),value:r.SyncMethod}),a}();return b.length>0&&u.push({stats:b,name:n.Ay.translate("LabelSyncPlayInfo")}),Promise.resolve(u)}))}(e,t).then((function(t){var a=e.element;a&&function(e,t){e.querySelector(".playerStats-stats").innerHTML=t.map((function(e){var t="",a=e.stats;a.length&&e.name&&(t+='<div class="playerStats-stat playerStats-stat-header">',t+='<div class="playerStats-stat-label">',t+=e.name,t+="</div>",t+='<div class="playerStats-stat-value">',t+=e.subText||"",t+="</div>",t+="</div>");for(var n=0,r=a.length;n<r;n++){t+='<div class="playerStats-stat">';var l=a[n];t+='<div class="playerStats-stat-label">',t+=l.label,t+="</div>",t+='<div class="playerStats-stat-value">',t+=l.value,t+="</div>",t+="</div>"}return t})).join("")}(a,t)})))}(e,t)};e.onTimeUpdate=a,i.A.on(t,"timeupdate",a)}function T(e,t){var a=e.onTimeUpdate;a&&i.A.off(t,"timeupdate",a)}a(15453);var P=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,function(e){var t,a=document.createElement("div");a.classList.add("playerStats"),s.A.tv&&a.classList.add("playerStats-tv"),a.classList.add("hide"),t=s.A.tv?"":'<button type="button" is="paper-icon-button-light" class="playerStats-closeButton"><span class="material-icons close" aria-hidden="true"></span></button>';var n=s.A.tv?"playerStats-content playerStats-content-tv":"playerStats-content";a.innerHTML='<div class="'+n+'">'+t+'<div class="playerStats-stats"></div></div>',(t=a.querySelector(".playerStats-closeButton"))&&t.addEventListener("click",p.bind(e)),document.body.appendChild(a),e.element=a}(this),this.enabled(!0)},(t=[{key:"enabled",value:function(e){if(null==e)return this._enabled;var t=this.options;t&&(this._enabled=e,e?(this.element.classList.remove("hide"),A(this,t.player)):(this.element.classList.add("hide"),T(this,t.player)))}},{key:"toggle",value:function(){this.enabled(!this.enabled())}},{key:"destroy",value:function(){var e=this.options;e&&(this.options=null,T(this,e.player));var t=this.element;t&&(t.parentNode.removeChild(t),this.element=null)}}])&&v(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();t.default=P},4838:function(e,t,a){t.A={getDisplayPlayMethod:function(e){var t,a,n,r;return e.NowPlayingItem?(null!==(t=e.TranscodingInfo)&&void 0!==t&&t.IsVideoDirect||null===(a=e.TranscodingInfo)||void 0===a||!a.VideoCodec)&&null!==(n=e.TranscodingInfo)&&void 0!==n&&n.IsAudioDirect?"Remux":null!==(r=e.TranscodingInfo)&&void 0!==r&&r.IsVideoDirect?"DirectStream":"Transcode"===e.PlayState.PlayMethod?"Transcode":"DirectStream"===e.PlayState.PlayMethod||"DirectPlay"===e.PlayState.PlayMethod?"DirectPlay":void 0:null}}},76562:function(e,t,a){function n(e){return new Promise((function(t,a){var n=new FileReader;n.onload=function(e){var a,n,r,l=null===(r=null===(n=null===(a=e.target)||void 0===a?void 0:a.result)||void 0===n?void 0:n.split)||void 0===r?void 0:r.call(n,",")[1];t(l)},n.onerror=a,n.readAsDataURL(e)}))}function r(e){return new Promise((function(t,a){var n=new FileReader;n.onload=function(e){var a,n=null===(a=e.target)||void 0===a?void 0:a.result;t(n)},n.onerror=a,n.readAsText(e)}))}function l(e,t){void 0===t&&(t=1);var a=Math.log(e)/Math.log(1024)|0;return(e/Math.pow(1024,a)).toFixed(t)+" "+(a?"KMGTPEZY"[--a]+"iB":"Bytes")}a.d(t,{Qv:function(){return r},We:function(){return n},iJ:function(){return l}})}}]);