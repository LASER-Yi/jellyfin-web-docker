"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[95051],{95330:function(e,t,n){n.r(t),n.d(t,{default:function(){return c}}),n(13227),n(59139),n(86028),n(81414),n(37666),n(14011),n(11431);var a=n(59858),r=n(34862),l=n(94994),i=(n(38228),n(60635)),o=n(18613),s=n(76443);function u(e,t){switch(r.ZP.hide(),t.State){case s.e.SignedIn:var n=t.ApiClient;i.default.onServerChanged(n.getCurrentUserId(),n.accessToken(),n),i.default.navigate("home.html");break;case s.e.ServerSignIn:i.default.navigate("login.html?serverid="+t.Servers[0].Id,!1,"none");break;case s.e.ServerSelection:i.default.navigate("selectserver.html",!1,"none");break;case s.e.ServerUpdateNeeded:i.default.alert({message:l.ZP.translate("ServerUpdateNeeded",'<a href="https://github.com/jellyfin/jellyfin">https://github.com/jellyfin/jellyfin</a>')});break;case s.e.Unavailable:i.default.alert({message:l.ZP.translate("MessageUnableToConnectToServer"),title:l.ZP.translate("HeaderConnectionFailure")})}}function c(e){e.querySelector(".addServerForm").addEventListener("submit",(function(t){return function(e){r.ZP.show();var t=e.querySelector("#txtServerHost").value.replace(/\/+$/,"");o.Z.connectToAddress(t,{enableAutoLogin:a.Z.enableAutoLogin()}).then((function(e){u(0,e)}),(function(){u(0,{State:s.e.Unavailable})}))}(e),t.preventDefault(),!1})),e.querySelector(".btnCancel").addEventListener("click",(function(){Promise.resolve().then(n.bind(n,66560)).then((function(e){e.appRouter.back()}))})),Promise.resolve().then(n.bind(n,87680)).then((function(t){t.default.autoFocus(e)}))}}}]);