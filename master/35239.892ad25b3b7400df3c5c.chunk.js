"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[35239],{17094:function(e,t,n){n.d(t,{Z:function(){return a}}),n(27378);var r=n(10043),i=n(24246);function a(e){var t=e.styles,n=e.defaultTheme,a=void 0===n?{}:n,l="function"==typeof t?function(e){return t(null==(n=e)||0===Object.keys(n).length?a:e);var n}:t;return(0,i.jsx)(r.xB,{styles:l})}},8156:function(e,t,n){n.r(t),n.d(t,{default:function(){return P},startMultiSelect:function(){return T}}),n(13227),n(2663),n(81414),n(84159),n(37666),n(96626),n(14011),n(11431),n(88646),n(47134),n(66066);var r,i=n(57366),a=n(92811),l=n(84597),o=n(94994),s=n(72365),u=n(18613),c=n(37099),d=n(3137),v=n(21776),f=n(61693),p=[],h=[];function m(){var e=r;if(e){e.parentNode.removeChild(e),r=null,p=[],h=[];for(var t=document.querySelectorAll(".itemSelectionPanel"),n=0,i=t.length;n<i;n++){var a=t[n].parentNode;a.removeChild(t[n]),a.classList.remove("withMultiSelect")}}}function y(e,t){var n=s.ZP.parentWithAttribute(e,"data-id").getAttribute("data-id");if(t?p.filter((function(e){return e===n})).length||(p.push(n),h.push(e)):(p=p.filter((function(e){return e!==n})),h=h.filter((function(t){return t!==e}))),p.length){var r=document.querySelector(".itemSelectionCount");r&&(r.innerHTML=f.ZP.toLocaleString(p.length))}else m()}function g(){y(this,this.checked)}function b(e,t){var n=e.querySelector(".itemSelectionPanel");if(!n){(n=document.createElement("div")).classList.add("itemSelectionPanel");var r=e.querySelector(".cardBox")||e.querySelector(".cardContent");r.classList.add("withMultiSelect"),r.appendChild(n);var a="chkItemSelect";t&&!i.Z.firefox&&(a+=" checkedInitial");var l=t?" checked":"";n.innerHTML='<label class="checkboxContainer"><input type="checkbox" is="emby-checkbox" data-outlineclass="multiSelectCheckboxOutline" class="'.concat(a,'"').concat(l,"/><span></span></label>"),n.querySelector(".chkItemSelect").addEventListener("change",g)}}function S(e){var t=u.Z.currentApiClient();t.getCurrentUser().then((function(r){t.getItem(t.getCurrentUserId(),p[0]).then((function(i){var s=[];s.push({name:o.ZP.translate("SelectAll"),id:"selectall",icon:"select_all"}),s.push({name:o.ZP.translate("AddToCollection"),id:"addtocollection",icon:"add"}),s.push({name:o.ZP.translate("AddToPlaylist"),id:"playlist",icon:"playlist_add"}),r.Policy.EnableContentDeletion&&s.push({name:o.ZP.translate("Delete"),id:"delete",icon:"delete"}),r.Policy.EnableContentDownloading&&a.M.supports("filedownload"),r.Policy.IsAdministrator&&s.push({name:o.ZP.translate("GroupVersions"),id:"groupvideos",icon:"call_merge"}),s.push({name:o.ZP.translate("MarkPlayed"),id:"markplayed",icon:"check_box"}),s.push({name:o.ZP.translate("MarkUnplayed"),id:"markunplayed",icon:"check_box_outline_blank"}),v.ZP.canRefreshMetadata(i,r)&&s.push({name:o.ZP.translate("RefreshMetadata"),id:"refresh",icon:"refresh"}),n.e(80454).then(n.bind(n,80454)).then((function(r){r.show({items:s,positionTo:e.target,callback:function(e){var r=p.slice(0),i=t.serverInfo().Id;switch(e){case"selectall":for(var a=document.querySelectorAll(".itemSelectionPanel"),s=0,u=a.length;s<u;s++){var v=a[s].querySelector(".chkItemSelect");!v||v.classList.contains("checkedInitial")||v.checked||0==v.getBoundingClientRect().width||(v.checked=!0,y(v,!0))}break;case"addtocollection":n.e(19449).then(n.bind(n,19449)).then((function(e){(new(0,e.default)).show({items:r,serverId:i})})),m(),x();break;case"playlist":n.e(43126).then(n.bind(n,43126)).then((function(e){(new(0,e.default)).show({items:r,serverId:i}).catch((function(){}))})).catch((function(e){console.error("[AddToPlaylist] failed to load playlist editor",e)})),m(),x();break;case"delete":(function(e,t){return new Promise((function(n,r){var i=o.ZP.translate("ConfirmDeleteItem"),a=o.ZP.translate("HeaderDeleteItem");t.length>1&&(i=o.ZP.translate("ConfirmDeleteItems"),a=o.ZP.translate("HeaderDeleteItems")),(0,d.Z)(i,a).then((function(){var i=t.map((function(t){return e.deleteItem(t)}));Promise.all(i).then(n,(function(){var e;(e=o.ZP.translate("ErrorDeletingItem"),new Promise((function(t){(0,c.Z)(e).then(t,t)}))).then(r,r)}))}),r)}))})(t,r).then(x),m(),x();break;case"groupvideos":!function(e,t){t.length<2?(0,c.Z)({text:o.ZP.translate("PleaseSelectTwoItems")}):(l.ZP.show(),e.ajax({type:"POST",url:e.getUrl("Videos/MergeVersions",{Ids:t.join(",")})}).then((function(){l.ZP.hide(),m(),x()})))}(t,r);break;case"markplayed":r.forEach((function(e){t.markPlayed(t.getCurrentUserId(),e)})),m(),x();break;case"markunplayed":r.forEach((function(e){t.markUnplayed(t.getCurrentUserId(),e)})),m(),x();break;case"refresh":n.e(36929).then(n.bind(n,36929)).then((function(e){new(0,e.default)({itemIds:r,serverId:i}).show()})),m(),x()}}})}))}))}))}function x(){var e=[];[].forEach.call(h,(function(t){var n=s.ZP.parentWithAttribute(t,"is","emby-itemscontainer");n&&!e.includes(n)&&e.push(n)}));for(var t=0,n=e.length;t<n;t++)e[t].notifyRefreshNeeded(!0)}function w(e){Promise.resolve().then(n.bind(n,12291)).then((function(){for(var t=document.querySelectorAll(".card"),n=0,i=t.length;n<i;n++)b(t[n],e===t[n]);!function(){var e=r;if(!e){(e=document.createElement("div")).classList.add("selectionCommandsPanel"),document.body.appendChild(e),r=e;var t="";t+='<button is="paper-icon-button-light" class="btnCloseSelectionPanel autoSize"><span class="material-icons close" aria-hidden="true"></span></button>',t+='<h1 class="itemSelectionCount"></h1>',t+='<button is="paper-icon-button-light" class="btnSelectionPanelOptions autoSize"><span class="material-icons '.concat("more_vert",'" aria-hidden="true"></span></button>'),e.innerHTML=t,e.querySelector(".btnCloseSelectionPanel").addEventListener("click",m);var n=e.querySelector(".btnSelectionPanelOptions");s.ZP.addEventListener(n,"click",S,{passive:!0})}}(),y(e,!0)}))}function I(e){var t=e.target;if(p.length){var n=s.ZP.parentWithClass(t,"card");if(n){var r=n.querySelector(".itemSelectionPanel");if(r)return function(e,t){if(!s.ZP.parentWithClass(e.target,"chkItemSelect")){var n=t.querySelector(".chkItemSelect");if(n)if(n.classList.contains("checkedInitial"))n.classList.remove("checkedInitial");else{var r=!n.checked;n.checked=r,y(n,r)}}return e.preventDefault(),e.stopPropagation(),!1}(e,r)}return e.preventDefault(),e.stopPropagation(),!1}}function P(e){var t,n,r,a,l,o=e.container;function u(e){var t=s.ZP.parentWithClass(e.target,"card");return t&&w(t),e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1}function c(e){return e.changedTouches||e.targetTouches||e.touches}function d(e){var i=c(e)[0];if(t=null,r=0,a=0,i){r=i.clientX,a=i.clientY;var l=i.target;if(l){var o=s.ZP.parentWithClass(l,"card");o&&(n&&(clearTimeout(n),n=null),t=o,n=setTimeout(m,550))}}}function v(e){if(t){var n,i,l=c(e)[0];if(l){var o=l.clientX||0,s=l.clientY||0;n=Math.abs(o-(r||0)),i=Math.abs(s-(a||0))}else n=100,i=100;(n>=5||i>=5)&&h()}}function f(){h()}function p(e){n&&(clearTimeout(n),n=null),t=e.target,n=setTimeout(m,550)}function h(){n&&(clearTimeout(n),n=null),t=null}function m(){if(t){var e=s.ZP.parentWithClass(t,"card");t=null,e&&w(e)}}l=o,i.Z.touch&&!i.Z.safari?l.addEventListener("contextmenu",u):(s.ZP.addEventListener(l,"touchstart",d,{passive:!0}),s.ZP.addEventListener(l,"touchmove",v,{passive:!0}),s.ZP.addEventListener(l,"touchend",f,{passive:!0}),s.ZP.addEventListener(l,"touchcancel",f,{passive:!0}),s.ZP.addEventListener(l,"mousedown",p,{passive:!0}),s.ZP.addEventListener(l,"mouseleave",h,{passive:!0}),s.ZP.addEventListener(l,"mouseup",h,{passive:!0})),!1!==e.bindOnClick&&o.addEventListener("click",I),this.onContainerClick=I,this.destroy=function(){o.removeEventListener("click",I),o.removeEventListener("contextmenu",u);var e=o;s.ZP.removeEventListener(e,"touchstart",d,{passive:!0}),s.ZP.removeEventListener(e,"touchmove",v,{passive:!0}),s.ZP.removeEventListener(e,"touchend",f,{passive:!0}),s.ZP.removeEventListener(e,"mousedown",p,{passive:!0}),s.ZP.removeEventListener(e,"mouseleave",h,{passive:!0}),s.ZP.removeEventListener(e,"mouseup",h,{passive:!0})}}document.addEventListener("viewbeforehide",m);var T=function(e){w(e)}},21694:function(e,t,n){n(54112),n(67752);var r=n(72365),i=n(15723),a=n(57366),l=n(34643),o=n(30325),s=Object.create(HTMLDivElement.prototype),u="emby-tab-button",c=u+"-active";function d(e){e.classList.add(c)}function v(e,t,n){var r;e.dispatchEvent(new CustomEvent("beforetabchange",{detail:{selectedTabIndex:t,previousIndex:n}})),null!=n&&n!==t&&(r=null)&&r.classList.remove("is-active")}function f(e){var t=this,n=t.querySelector("."+c),i=r.ZP.parentWithClass(e.target,u);if(i&&i!==n){n&&n.classList.remove(c);var a=n?parseInt(n.getAttribute("data-index"),10):null;d(i);var l=parseInt(i.getAttribute("data-index"),10);v(t,l,a),setTimeout((function(){t.selectedTabIndex=l,t.dispatchEvent(new CustomEvent("tabchange",{detail:{selectedTabIndex:l,previousIndex:a}}))}),120),t.scroller&&t.scroller.toCenter(i,!1)}}function p(e){var t=r.ZP.parentWithClass(e.target,u);t&&this.scroller&&this.scroller.toCenter(t,!1)}function h(e){var t=e.target.parentNode.querySelector(".lastFocused");t&&t.classList.remove("lastFocused"),e.target.classList.add("lastFocused")}function m(e){return e.querySelector("."+c)}function y(e,t){for(var n=e[t];n;){if(n.classList.contains(u)&&!n.classList.contains("hide"))return n;n=n[t]}return null}s.createdCallback=function(){this.classList.contains("emby-tabs")||(this.classList.add("emby-tabs"),this.classList.add("focusable"),r.ZP.addEventListener(this,"click",f,{passive:!0}),o.Z.tv&&r.ZP.addEventListener(this,"focusin",p,{passive:!0}),r.ZP.addEventListener(this,"focusout",h))},s.focus=function(){var e=this.querySelector("."+c),t=this.querySelector(".lastFocused");t?l.Z.focus(t):e?l.Z.focus(e):l.Z.autoFocus(this)},s.refresh=function(){this.scroller&&this.scroller.reload()},s.attachedCallback=function(){!function(e){if(!e.scroller){var t=e.querySelector(".emby-tabs-slider");t?(e.scroller=new i.Z(e,{horizontal:1,itemNav:0,mouseDragging:1,touchDragging:1,slidee:t,smart:!0,releaseSwing:!0,scrollBy:200,speed:120,elasticBounds:1,dragHandle:1,dynamicHandle:1,clickBar:1,hiddenScroll:!0,requireAnimation:!a.Z.safari,allowNativeSmoothScroll:!0}),e.scroller.init()):(e.classList.add("scrollX"),e.classList.add("hiddenScrollX"),e.classList.add("smoothScrollX"))}}(this);var e=this.querySelector("."+c),t=e?parseInt(e.getAttribute("data-index"),10):parseInt(this.getAttribute("data-index")||"0",10);if(-1!==t){this.selectedTabIndex=t;var n=this.querySelectorAll("."+u)[t];n&&d(n)}this.readyFired||(this.readyFired=!0,this.dispatchEvent(new CustomEvent("ready",{})))},s.detachedCallback=function(){this.scroller&&(this.scroller.destroy(),this.scroller=null),r.ZP.removeEventListener(this,"click",f,{passive:!0}),o.Z.tv&&r.ZP.removeEventListener(this,"focusin",p,{passive:!0})},s.selectedIndex=function(e,t){var n=this;if(null==e)return n.selectedTabIndex||0;var r=n.selectedIndex();n.selectedTabIndex=e;var i=n.querySelectorAll("."+u);if(r===e||!1===t){v(n,e,r),n.dispatchEvent(new CustomEvent("tabchange",{detail:{selectedTabIndex:e}}));var a=i[r];d(i[e]),r!==e&&a&&a.classList.remove(c)}else f.call(n,{target:i[e]})},s.selectNext=function(){var e=y(m(this),"nextSibling");e&&f.call(this,{target:e})},s.selectPrevious=function(){var e=y(m(this),"previousSibling");e&&f.call(this,{target:e})},s.triggerBeforeTabChange=function(){v(this,this.selectedIndex())},s.triggerTabChange=function(){this.dispatchEvent(new CustomEvent("tabchange",{detail:{selectedTabIndex:this.selectedIndex()}}))},s.setTabEnabled=function(e,t){var n=this.querySelector('.emby-tab-button[data-index="'+e+'"]');t?n.classList.remove("hide"):n.classList.remove("add")},document.registerElement("emby-tabs",{prototype:s,extends:"div"})},78751:function(e,t,n){n.d(t,{Z:function(){return Hn}});var r,i,a,l,o=n(24246),s=n(27378),u=n(67250),c=n(65009),d=n.n(c),v=n(86808),f=n(6884),p=n(29532),h=n(74066),m=n(4877),y=n(58290),g=n(72924),b=n(46973),S=n(74775),x=n(51557),w=n(45067),I=n(23246),P=n(69091),T=n(37560),Z=n(63520),C=(n(22397),n(63975)),O=n(29418),j=n(61693),k=n(94994),A=n(2943),L=n(60934);!function(e){e.HasSubtitles="HasSubtitles",e.HasTrailer="HasTrailer",e.HasSpecialFeature="HasSpecialFeature",e.HasThemeSong="HasThemeSong",e.HasThemeVideo="HasThemeVideo"}(r||(r={})),function(e){e.ParentIndexNumber="ParentIndexNumber",e.IsMissing="IsMissing",e.IsUnaired="IsUnaired"}(i||(i={})),function(e){e.IsSD="IsSD",e.IsHD="IsHD",e.Is4K="Is4K",e.Is3D="Is3D"}(a||(a={})),function(e){e.GridView="grid",e.ListView="list"}(l||(l={}));var E=n(13661),R=function(){return R=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},R.apply(this,arguments)},F=function(e,t){var n=[];return e!==E.$.Networks&&n.push(f.h.MediaSourceCount),t.ImageType===v._.Primary&&n.push(f.h.PrimaryImageAspectRatio),e===E.$.Networks&&n.push(f.h.DateCreated,f.h.PrimaryImageAspectRatio),n},M=function(e,t){return{fields:F(e,t)}},N=function(){return{limit:L.libraryPageSize(void 0)||void 0}},B=function(e){var t=null!==e.Alphabet?e.Alphabet:void 0;return{nameLessThan:"#"===t?"A":void 0,nameStartsWith:"#"===t?void 0:t}},D=function(e,t){var n,l,o,s,u,c,d,v;return R(R(R(R({},function(e){var t,n,i,a,l,o,s,u,c,d;return{hasSubtitles:!!(null===(n=null===(t=e.Filters)||void 0===t?void 0:t.Features)||void 0===n?void 0:n.includes(r.HasSubtitles))||void 0,hasTrailer:!!(null===(a=null===(i=e.Filters)||void 0===i?void 0:i.Features)||void 0===a?void 0:a.includes(r.HasTrailer))||void 0,hasSpecialFeature:!!(null===(o=null===(l=e.Filters)||void 0===l?void 0:l.Features)||void 0===o?void 0:o.includes(r.HasSpecialFeature))||void 0,hasThemeSong:!!(null===(u=null===(s=e.Filters)||void 0===s?void 0:s.Features)||void 0===u?void 0:u.includes(r.HasThemeSong))||void 0,hasThemeVideo:!!(null===(d=null===(c=e.Filters)||void 0===c?void 0:c.Features)||void 0===d?void 0:d.includes(r.HasThemeVideo))||void 0}}(t)),function(e,t){var n,r,a,l,o,s;return{parentIndexNumber:(null===(r=null===(n=t.Filters)||void 0===n?void 0:n.EpisodeFilter)||void 0===r?void 0:r.includes(i.ParentIndexNumber))?0:void 0,isMissing:e===E.$.Episodes?!!(null===(l=null===(a=t.Filters)||void 0===a?void 0:a.EpisodeFilter)||void 0===l?void 0:l.includes(i.IsMissing)):void 0,isUnaired:!!(null===(s=null===(o=t.Filters)||void 0===o?void 0:o.EpisodeFilter)||void 0===s?void 0:s.includes(i.IsUnaired))||void 0}}(e,t)),function(e){var t,n,r,i,l,o,s,u,c;return(null===(n=null===(t=e.Filters)||void 0===t?void 0:t.VideoBasicFilter)||void 0===n?void 0:n.includes(a.IsHD))&&(c=!0),(null===(i=null===(r=e.Filters)||void 0===r?void 0:r.VideoBasicFilter)||void 0===i?void 0:i.includes(a.IsSD))&&(c=!1),{isHd:c,is4K:!!(null===(o=null===(l=e.Filters)||void 0===l?void 0:l.VideoBasicFilter)||void 0===o?void 0:o.includes(a.Is4K))||void 0,is3D:!!(null===(u=null===(s=e.Filters)||void 0===s?void 0:s.VideoBasicFilter)||void 0===u?void 0:u.includes(a.Is3D))||void 0}}(t)),{seriesStatus:null===(n=null==t?void 0:t.Filters)||void 0===n?void 0:n.SeriesStatus,videoTypes:null===(l=null==t?void 0:t.Filters)||void 0===l?void 0:l.VideoTypes,filters:null===(o=null==t?void 0:t.Filters)||void 0===o?void 0:o.Status,genres:null===(s=null==t?void 0:t.Filters)||void 0===s?void 0:s.Genres,officialRatings:null===(u=null==t?void 0:t.Filters)||void 0===u?void 0:u.OfficialRatings,tags:null===(c=null==t?void 0:t.Filters)||void 0===c?void 0:c.Tags,years:null===(d=null==t?void 0:t.Filters)||void 0===d?void 0:d.Years,studioIds:null===(v=null==t?void 0:t.Filters)||void 0===v?void 0:v.StudioIds})},V=function(e){return e===E.$.Episodes?m.X.SeriesSortName:m.X.SortName},$=n(16918),U=n(7559),H=function(){return H=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},H.apply(this,arguments)},_=function(){var e={fields:[u.hEf.PrimaryImageAspectRatio],filters:[u.yrR.IsPlayed],IsPlayed:!0,imageTypeLimit:1,enableImageTypes:[u.__M.Primary,u.__M.Backdrop,u.__M.Thumb]};return[{name:"HeaderContinueWatching",apiMethod:U.Im.ResumeItems,itemTypes:"Movie",type:U.bA.ContinueWatchingMovies,parametersOptions:{includeItemTypes:[$.k.Movie]},cardOptions:{overlayPlayButton:!0,preferThumb:!0,shape:"overflowBackdrop",showYear:!0}},{name:"HeaderLatestMovies",apiMethod:U.Im.LatestMedia,itemTypes:"Movie",type:U.bA.LatestMovies,parametersOptions:{includeItemTypes:[$.k.Movie]},cardOptions:{overlayPlayButton:!0,shape:"overflowPortrait",showYear:!0}},{name:"HeaderContinueWatching",apiMethod:U.Im.ResumeItems,itemTypes:"Episode",type:U.bA.ContinueWatchingEpisode,parametersOptions:{includeItemTypes:[$.k.Episode]},cardOptions:{overlayPlayButton:!0,shape:"overflowBackdrop",preferThumb:!0,inheritThumb:!L.useEpisodeImagesInNextUpAndResume(void 0),showYear:!0}},{name:"HeaderLatestEpisodes",apiMethod:U.Im.LatestMedia,itemTypes:"Episode",type:U.bA.LatestEpisode,parametersOptions:{includeItemTypes:[$.k.Episode]},cardOptions:{overlayPlayButton:!0,shape:"overflowBackdrop",preferThumb:!0,showSeriesYear:!0,showParentTitle:!0,showUnplayedIndicator:!1,showChildCountIndicator:!0,lines:2}},{name:"NextUp",apiMethod:U.Im.NextUp,itemTypes:"nextup",type:U.bA.NextUp,cardOptions:{overlayPlayButton:!0,shape:"overflowBackdrop",preferThumb:!0,inheritThumb:!L.useEpisodeImagesInNextUpAndResume(void 0),showParentTitle:!0}},{name:"HeaderLatestMusic",apiMethod:U.Im.LatestMedia,itemTypes:"Audio",type:U.bA.LatestMusic,parametersOptions:{includeItemTypes:[$.k.Audio]},cardOptions:{showUnplayedIndicator:!1,shape:"overflowSquare",showParentTitle:!0,overlayPlayButton:!0,coverImage:!0}},{name:"HeaderRecentlyPlayed",itemTypes:"Audio",type:U.bA.RecentlyPlayedMusic,parametersOptions:H({sortBy:[m.X.DatePlayed],sortOrder:[h.A.Descending],includeItemTypes:[$.k.Audio]},e),cardOptions:{showUnplayedIndicator:!1,shape:"overflowSquare",showParentTitle:!0,action:"instantmix",overlayMoreButton:!0,coverImage:!0}},{name:"HeaderFrequentlyPlayed",itemTypes:"Audio",type:U.bA.FrequentlyPlayedMusic,parametersOptions:H({sortBy:[m.X.PlayCount],sortOrder:[h.A.Descending],includeItemTypes:[$.k.Audio]},e),cardOptions:{showUnplayedIndicator:!1,shape:"overflowSquare",showParentTitle:!0,action:"instantmix",overlayMoreButton:!0,coverImage:!0}}]},q=function(){var e={inheritThumb:!1,shape:"autooverflow",defaultShape:"overflowBackdrop",centerText:!0,coverImage:!0,overlayText:!1,lazy:!0,showAirTime:!0};return[{name:"HeaderOnNow",itemTypes:"Programs",apiMethod:U.Im.RecommendedPrograms,type:U.bA.ActivePrograms,parametersOptions:{isAiring:!0},cardOptions:H({showParentTitle:!0,showTitle:!0,showAirDateTime:!1,showAirEndTime:!0,overlayPlayButton:!0,overlayMoreButton:!1,overlayInfoButton:!1,preferThumb:"auto"},e)},{name:"Shows",itemTypes:"Programs",apiMethod:U.Im.LiveTvPrograms,type:U.bA.UpcomingEpisodes,parametersOptions:{isAiring:!1,hasAired:!1,isMovie:!1,isSports:!1,isKids:!1,isNews:!1,isSeries:!0},cardOptions:H({showParentTitle:!0,showTitle:!0,overlayPlayButton:!1,overlayMoreButton:!1,overlayInfoButton:!1,preferThumb:"auto",showAirDateTime:!0},e)},{name:"Movies",itemTypes:"Programs",apiMethod:U.Im.LiveTvPrograms,type:U.bA.UpcomingMovies,parametersOptions:{isAiring:!1,hasAired:!1,isMovie:!0},cardOptions:H({preferThumb:null,showParentTitle:!1,showTitle:!0,overlayPlayButton:!1,overlayMoreButton:!1,overlayInfoButton:!1,showAirDateTime:!0},e)},{name:"Sports",itemTypes:"Programs",apiMethod:U.Im.LiveTvPrograms,type:U.bA.UpcomingSports,parametersOptions:{isAiring:!1,hasAired:!1,isSports:!0},cardOptions:H({showParentTitle:!0,showTitle:!0,overlayPlayButton:!1,overlayMoreButton:!1,overlayInfoButton:!1,preferThumb:"auto",showAirDateTime:!0},e)},{name:"HeaderForKids",itemTypes:"Programs",apiMethod:U.Im.LiveTvPrograms,type:U.bA.UpcomingKids,parametersOptions:{isAiring:!1,hasAired:!1,isKids:!0},cardOptions:H({showParentTitle:!0,showTitle:!0,overlayPlayButton:!1,overlayMoreButton:!1,overlayInfoButton:!1,preferThumb:"auto",showAirDateTime:!0},e)},{name:"News",itemTypes:"Programs",apiMethod:U.Im.LiveTvPrograms,type:U.bA.UpcomingNews,parametersOptions:{isAiring:!1,hasAired:!1,isNews:!0},cardOptions:H({overlayPlayButton:!1,overlayMoreButton:!1,overlayInfoButton:!1,showParentTitleOrTitle:!0,showTitle:!1,showParentTitle:!1,preferThumb:"auto",showAirDateTime:!0},e)},{name:"HeaderLatestRecordings",itemTypes:"Recordings",apiMethod:U.Im.Recordings,type:U.bA.LatestRecordings,parametersOptions:{limit:12,imageTypeLimit:1},cardOptions:{showYear:!0,lines:2,shape:"autooverflow",defaultShape:"overflowBackdrop",showTitle:!0,showParentTitle:!0,coverImage:!0,cardLayout:!1,centerText:!0,preferThumb:"auto",overlayText:!1}},{name:"HeaderAllRecordings",itemTypes:"Recordings",apiMethod:U.Im.RecordingFolders,type:U.bA.RecordingFolders,cardOptions:{showYear:!1,showParentTitle:!1,shape:"autooverflow",defaultShape:"overflowBackdrop",showTitle:!0,coverImage:!0,cardLayout:!1,centerText:!0,preferThumb:"auto",overlayText:!1}},{name:"HeaderActiveRecordings",itemTypes:"Recordings",apiMethod:U.Im.Recordings,type:U.bA.ActiveRecordings,parametersOptions:{isInProgress:!0},cardOptions:{shape:"autooverflow",defaultShape:"backdrop",showParentTitle:!1,showParentTitleOrTitle:!0,showTitle:!0,showAirTime:!0,showAirEndTime:!0,showChannelName:!0,coverImage:!0,overlayText:!1,overlayMoreButton:!0,cardLayout:!1,centerText:!0,preferThumb:"auto"}}]},X=function(){return X=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},X.apply(this,arguments)},W=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function l(e){try{s(r.next(e))}catch(e){a(e)}}function o(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}s((r=r.apply(e,t||[])).next())}))},G=function(e,t){var n,r,i,a,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(l=0)),l;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},z=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Y(e){var t,n,r=[],i="",a=[];try{for(var l=z(e),o=l.next();!o.done;o=l.next()){var s=o.value,u="";if(s.PremiereDate)try{var c=j.ZP.parseISO8601Date(s.PremiereDate,!0);u=j.ZP.isRelativeDay(c,-1)?k.ZP.translate("Yesterday"):j.ZP.toLocaleDateString(c,{weekday:"long",month:"short",day:"numeric"})}catch(e){console.error("error parsing timestamp for upcoming tv shows")}u!=i?(a.length&&r.push({name:i,items:a}),i=u,a=[s]):a.push(s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return r}var K=function(e){var t=(0,A.h_)();return(0,C.a)({queryKey:["GroupsUpcomingEpisodes",e],queryFn:function(n){var r=n.signal;return function(e,t,n){return W(void 0,void 0,void 0,(function(){var r,i,a,l;return G(this,(function(o){switch(o.label){case 0:return r=e.api,i=e.user,r&&(null==i?void 0:i.Id)?[4,(0,I.C)(r).getUpcomingEpisodes({userId:i.Id,limit:25,fields:[f.h.AirTime],parentId:null!=t?t:void 0,imageTypeLimit:1,enableImageTypes:[v._.Primary,v._.Backdrop,v._.Thumb]},{signal:null==n?void 0:n.signal})]:[3,2];case 1:return a=o.sent(),[2,Y(null!==(l=a.data.Items)&&void 0!==l?l:[])];case 2:return[2]}}))}))}(t,e,{signal:r})},enabled:!!e})};function Q(e,t){var n,r,i=e.map((function(e){return e.Type="Timer",e})),a=[],l="",o=[];try{for(var s=z(i),u=s.next();!u.done;u=s.next()){var c=u.value,d="";if(!1!==t&&c.StartDate)try{var v=j.ZP.parseISO8601Date(c.StartDate,!0);d=j.ZP.toLocaleDateString(v,{weekday:"long",month:"short",day:"numeric"})}catch(e){console.error("error parsing premiereDate:"+c.StartDate+"; error: "+e)}d!=l?(o.length&&a.push({name:l,timerInfo:o}),l=d,o=[c]):o.push(c)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o.length&&a.push({name:l,timerInfo:o}),a}var J=function(e,t,n,r){return W(void 0,void 0,void 0,(function(){var i,a,l;return G(this,(function(o){switch(o.label){case 0:if(i=e.api,a=e.user,!i||!(null==a?void 0:a.Id))return[3,18];switch(l=void 0,n.apiMethod){case U.Im.RecommendedPrograms:return[3,1];case U.Im.LiveTvPrograms:return[3,3];case U.Im.Recordings:return[3,5];case U.Im.RecordingFolders:return[3,7];case U.Im.NextUp:return[3,9];case U.Im.ResumeItems:return[3,11];case U.Im.LatestMedia:return[3,13]}return[3,15];case 1:return[4,(0,Z.m)(i).getRecommendedPrograms(X({userId:a.Id,limit:12,imageTypeLimit:1,enableImageTypes:[v._.Primary,v._.Thumb,v._.Backdrop],enableTotalRecordCount:!1,fields:[f.h.ChannelInfo,f.h.PrimaryImageAspectRatio,f.h.MediaSourceCount]},n.parametersOptions),{signal:null==r?void 0:r.signal})];case 2:case 4:case 6:case 8:case 10:case 12:case 16:return l=o.sent().data.Items,[3,17];case 3:return[4,(0,Z.m)(i).getLiveTvPrograms(X({userId:a.Id,limit:12,imageTypeLimit:1,enableImageTypes:[v._.Primary,v._.Thumb,v._.Backdrop],enableTotalRecordCount:!1,fields:[f.h.ChannelInfo,f.h.PrimaryImageAspectRatio]},n.parametersOptions),{signal:null==r?void 0:r.signal})];case 5:return[4,(0,Z.m)(i).getRecordings(X({userId:a.Id,enableImageTypes:[v._.Primary,v._.Thumb,v._.Backdrop],enableTotalRecordCount:!1,fields:[f.h.CanDelete,f.h.PrimaryImageAspectRatio]},n.parametersOptions),{signal:null==r?void 0:r.signal})];case 7:return[4,(0,Z.m)(i).getRecordingFolders({userId:a.Id},{signal:null==r?void 0:r.signal})];case 9:return[4,(0,I.C)(i).getNextUp(X({userId:a.Id,limit:25,fields:[f.h.PrimaryImageAspectRatio,f.h.MediaSourceCount],parentId:null!=t?t:void 0,imageTypeLimit:1,enableImageTypes:[v._.Primary,v._.Backdrop,v._.Thumb],enableTotalRecordCount:!1},n.parametersOptions),{signal:null==r?void 0:r.signal})];case 11:return[4,(0,S.$)(i).getResumeItems(X({userId:a.Id,parentId:null!=t?t:void 0,fields:[f.h.PrimaryImageAspectRatio,f.h.MediaSourceCount],imageTypeLimit:1,enableImageTypes:[v._.Thumb],enableTotalRecordCount:!1},n.parametersOptions),{signal:null==r?void 0:r.signal})];case 13:return[4,(0,P.U)(i).getLatestMedia(X({userId:a.Id,fields:[f.h.PrimaryImageAspectRatio,f.h.MediaSourceCount],parentId:null!=t?t:void 0,imageTypeLimit:1,enableImageTypes:[v._.Primary]},n.parametersOptions),{signal:null==r?void 0:r.signal})];case 14:return l=o.sent().data,[3,17];case 15:return[4,(0,S.$)(i).getItems(X({userId:a.Id,parentId:null!=t?t:void 0,recursive:!0,limit:25,enableTotalRecordCount:!1},n.parametersOptions),{signal:null==r?void 0:r.signal})];case 17:return[2,l];case 18:return[2]}}))}))},ee=function(e,t,n,r,i){return W(void 0,void 0,void 0,(function(){var a,l,o,s,u,c,d,v,f;return G(this,(function(p){switch(p.label){case 0:r&&(n=n.filter((function(e){return r.includes(e.type)}))),a=[],p.label=1;case 1:p.trys.push([1,8,9,10]),l=z(n),o=l.next(),p.label=2;case 2:if(o.done)return[3,7];s=o.value,p.label=3;case 3:return p.trys.push([3,5,,6]),[4,J(e,t,s,i)];case 4:return(u=p.sent())&&u.length>0&&a.push({section:s,items:u}),[3,6];case 5:return c=p.sent(),console.error("Error occurred for section ".concat(s.type,": ").concat(c)),[3,6];case 6:return o=l.next(),[3,2];case 7:return[3,10];case 8:return d=p.sent(),v={error:d},[3,10];case 9:try{o&&!o.done&&(f=l.return)&&f.call(l)}finally{if(v)throw v.error}return[7];case 10:return[2,a]}}))}))},te=n(66560),ne=n(22030),re=n(61570),ie=n(90005),ae=n.n(ie),le=n(62664),oe=n(28172),se=n(67561),ue=n(44038),ce=n(58517),de=n(72365),ve=n(57366),fe=n(81038),pe=n(30325),he=n(48957),me=n(61008),ye=n(8156),ge=n(84597),be=n(34643);function Se(e){return e.preventDefault(),e.stopPropagation(),!1}var xe,we=function(e){var t,r=e.className,i=e.isContextMenuEnabled,a=e.isMultiSelectEnabled,l=e.isDragreOrderEnabled,u=e.dataMonitor,c=e.parentId,d=e.reloadItems,v=e.getItemsHtml,f=e.children,p=(t=(0,A.h_)(),(0,O.D)({mutationFn:function(e){return function(e,t){return W(void 0,void 0,void 0,(function(){var n,r;return G(this,(function(i){switch(i.label){case 0:return n=e.api,r=e.user,n&&(null==r?void 0:r.Id)?[4,(0,T.d)(n).moveItem(X({},t))]:[3,2];case 1:return[2,i.sent().data];case 2:return[2]}}))}))}(t,e)}})).mutateAsync,h=(0,s.useRef)(null),m=(0,s.useRef)(null),y=(0,s.useRef)(null),g=(0,s.useRef)(null),b=(0,s.useCallback)((function(e){var t=h.current,n=m.current;n&&!1===n.onContainerClick.call(t,e)||me.ZP.onClick.call(t,e)}),[]),S=(0,s.useCallback)((function(e){var t=e.target,n=de.ZP.parentWithAttribute(t,"data-id");if(null==n?void 0:n.getAttribute("data-serverid"))return ce.default.handleCommand("menu",{sourceElement:n}),e.preventDefault(),e.stopPropagation(),!1}),[]),x=(0,s.useCallback)((function(e){m.current=new ye.default({container:e,bindOnClick:!1})}),[]),w=(0,s.useCallback)((function(){m.current&&(m.current.destroy(),m.current=null)}),[]),I=(0,s.useCallback)((function(e){return t=void 0,n=void 0,i=function(){var t,n,r,i,a,l;return function(e,t){var n,r,i,a,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(l=0)),l;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(o){switch(o.label){case 0:if(t=e.item,n=e.newIndex,r=t.getAttribute("data-playlistitemid"),!(i=t.getAttribute("data-playlistid")))return a=e.oldIndex,t.dispatchEvent(new CustomEvent("itemdrop",{detail:{oldIndex:a,newIndex:n,playlistItemId:r},bubbles:!0,cancelable:!1})),[2];if(!r)throw new Error("null itemId");if(!n)throw new Error("null newIndex");o.label=1;case 1:return o.trys.push([1,3,,4]),ge.ZP.show(),[4,p({playlistId:i,itemId:r,newIndex:n})];case 2:return o.sent(),ge.ZP.hide(),[3,4];case 3:return l=o.sent(),console.error("[Drag-Drop] error playlists Move Item: "+l),ge.ZP.hide(),d?(d(),[3,4]):[2];case 4:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,a){function l(e){try{s(i.next(e))}catch(e){a(e)}}function o(e){try{s(i.throw(e))}catch(e){a(e)}}function s(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(l,o)}s((i=i.apply(t,n||[])).next())}));var t,n,r,i}),[p,d]),P=(0,s.useCallback)((function(e){y.current=oe.ZP.create(e,{draggable:".listItem",handle:".listViewDragHandle",onEnd:function(e){return I(e)}})}),[I]),Z=(0,s.useCallback)((function(){y.current&&(y.current.destroy(),y.current=null)}),[]),C=(0,s.useCallback)((function(e){d&&(!0===e?d():g.current=setTimeout((function(){return d()}),1e4))}),[d]),j=(0,s.useCallback)((function(){return u?u.split(","):[]}),[u]),k=(0,s.useCallback)((function(e,t){var r=h.current;Promise.resolve().then(n.bind(n,61570)).then((function(e){e.onUserDataChanged(t,r)})).catch((function(e){console.error("[onUserDataChanged] failed to load onUserData Changed",e)}));var i=j();-1===i.indexOf("markfavorite")&&-1===i.indexOf("markplayed")||C(!1)}),[j,C]),L=(0,s.useCallback)((function(e,t){var r=h.current;if(-1===j().indexOf("timers")){var i=t.ProgramId,a=t.Id;i&&a&&Promise.resolve().then(n.bind(n,61570)).then((function(e){e.onTimerCreated(i,a,r)})).catch((function(e){console.error("[onTimerCreated] failed to load onTimer Created",e)}))}else C(!1)}),[j,C]),E=(0,s.useCallback)((function(){-1!==j().indexOf("seriestimers")&&C(!1)}),[j,C]),R=(0,s.useCallback)((function(e,t){var r=h.current;if(-1===j().indexOf("timers")){var i=t.Id;i&&Promise.resolve().then(n.bind(n,61570)).then((function(e){e.onTimerCancelled(i,r)})).catch((function(e){console.error("[onTimerCancelled] failed to load onTimer Cancelled",e)}))}else C(!1)}),[j,C]),F=(0,s.useCallback)((function(e,t){var r=h.current;if(-1===j().indexOf("seriestimers")){var i=t.Id;i&&Promise.resolve().then(n.bind(n,61570)).then((function(e){e.onSeriesTimerCancelled(i,r)})).catch((function(e){console.error("[onSeriesTimerCancelled] failed to load onSeriesTimer Cancelled",e)}))}else C(!1)}),[j,C]),M=(0,s.useCallback)((function(e,t){var n,r,i,a,l,o=j();if(-1===o.indexOf("seriestimers")&&-1===o.indexOf("timers")){var s=null!==(n=t.ItemsAdded)&&void 0!==n?n:[],u=null!==(r=t.ItemsRemoved)&&void 0!==r?r:[];if(s.length||u.length){if(c){var d=null!==(i=t.FoldersAddedTo)&&void 0!==i?i:[],v=null!==(a=t.FoldersRemovedFrom)&&void 0!==a?a:[],f=null!==(l=t.CollectionFolders)&&void 0!==l?l:[];if(-1===d.indexOf(c)&&-1===v.indexOf(c)&&-1===f.indexOf(c))return}C(!1)}}}),[j,C,c]),N=(0,s.useCallback)((function(e,t){var n=t.state,r=j();if(n.NowPlayingItem&&"Video"===n.NowPlayingItem.MediaType){if(-1!==r.indexOf("videoplayback"))return void C(!0)}else if(n.NowPlayingItem&&"Audio"===n.NowPlayingItem.MediaType&&-1!==r.indexOf("audioplayback"))return void C(!0)}),[j,C]),B=(0,s.useCallback)((function(e,t){if(t){var n=e.querySelector('[data-id="'+t+'"]');if(n)try{return void be.Z.focus(n)}catch(e){console.error(e)}}be.Z.autoFocus(e)}),[]);(0,s.useEffect)((function(){var e=h.current;if(e){var t,n,r=document.activeElement;(null==e?void 0:e.contains(r))&&(n=!0,t=null==r?void 0:r.getAttribute("data-id")),v&&(e.innerHTML=v()),fe.default.lazyChildren(e),n&&B(e,t)}else console.error("Unexpected null reference")}),[v,B]),(0,s.useEffect)((function(){var e=h.current;if(e)return(pe.Z.desktop||pe.Z.mobile&&!1!==a)&&x(e),!0===l&&P(e),e.addEventListener("click",b),ve.Z.touch?e.addEventListener("contextmenu",Se):!1!==i&&e.addEventListener("contextmenu",S),me.ZP.on(e,{click:!1}),se.Z.on(ue.default,"UserDataChanged",k),se.Z.on(ue.default,"TimerCreated",L),se.Z.on(ue.default,"TimerCancelled",R),se.Z.on(ue.default,"SeriesTimerCreated",E),se.Z.on(ue.default,"SeriesTimerCancelled",F),se.Z.on(ue.default,"LibraryChanged",M),se.Z.on(he.O,"playbackstop",N),function(){g.current&&clearTimeout(g.current),w(),Z(),e.removeEventListener("click",b),e.removeEventListener("contextmenu",S),e.removeEventListener("contextmenu",Se),me.ZP.off(e,{click:!1}),se.Z.off(ue.default,"UserDataChanged",k),se.Z.off(ue.default,"TimerCreated",L),se.Z.off(ue.default,"TimerCancelled",R),se.Z.off(ue.default,"SeriesTimerCreated",E),se.Z.off(ue.default,"SeriesTimerCancelled",F),se.Z.off(ue.default,"LibraryChanged",M),se.Z.off(he.O,"playbackstop",N)};console.error("Unexpected null reference")}),[Z,w,P,x,i,l,a,b,S,M,N,F,E,R,L,k]);var D=ae()("itemsContainer",{"itemsContainer-tv":pe.Z.tv},r);return(0,o.jsx)(le.Z,{ref:h,className:D,children:f})},Ie=(n(13227),n(81970),n(81414),n(14011),n(11431),n(84159),n(33373),n(47134),n(44901),n(63402),n(10945)),Pe=s["undefined"!=typeof document&&void 0!==document.createElement?"useLayoutEffect":"useEffect"],Te="undefined"!=typeof window&&"ResizeObserver"in window?window.ResizeObserver:Ie.do;function Ze(){}var Ce,Oe=function(e,t){var n,r,i,a,l,o,u=xe||(i=!1,a=[],l=new Map,o=new Te((function(e,t){a=a.concat(e),i||window.requestAnimationFrame((function(){for(var e=new Set,n=function(n){if(e.has(a[n].target))return 1;e.add(a[n].target);var r=l.get(a[n].target);null==r||r.forEach((function(e){return e(a[n],t)}))},r=0;r<a.length;r++)n(r);a=[],i=!1})),i=!0})),xe={observer:o,subscribe:function(e,t){var n;o.observe(e);var r=null!==(n=l.get(e))&&void 0!==n?n:[];r.push(t),l.set(e,r)},unsubscribe:function(e,t){var n,r=null!==(n=l.get(e))&&void 0!==n?n:[];if(1===r.length)return o.unobserve(e),void l.delete(e);var i=r.indexOf(t);-1!==i&&r.splice(i,1),l.set(e,r)}}),c=(n=t,r=s.useRef(n),s.useEffect((function(){r.current=n})),r);return Pe((function(){var t=!1,n=e&&"current"in e?e.current:e;if(!n)return Ze;function r(e,n){t||c.current(e,n)}return u.subscribe(n,r),function(){t=!0,u.unsubscribe(n,r)}}),[e,u,c]),u.observer},je=n(15723),ke=function(){return ke=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ke.apply(this,arguments)},Ae=function(e){var t=e.className,n=e.title,r=e.icon,i=e.iconClassName,a=e.disabled,l=void 0!==a&&a,s=e.onClick,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["className","title","icon","iconClassName","disabled","onClick"]),c=ae()("paper-icon-button-light",t,{"show-focus":pe.Z.tv}),d=ae()("material-icons",i,r);return(0,o.jsx)("button",ke({className:c,title:n,disabled:l,onClick:s},u,{children:(0,o.jsx)("span",{className:d,"aria-hidden":"true"})}))},Le=n(526),Ee=function(e){var t=e.scrollerFactoryRef,n=e.scrollState,r=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return l}((0,s.useState)(0),2),i=r[0],a=r[1],l=(0,s.useRef)(null),u=(0,s.useCallback)((function(e){(0,Le.P)({direction:e,scroller:t.current,scrollState:n})}),[n,t]),c=(0,s.useCallback)((function(){return u(Le.I.LEFT)}),[u]),d=(0,s.useCallback)((function(){return u(Le.I.RIGHT)}),[u]);return(0,s.useEffect)((function(){var e;(null===(e=l.current)||void 0===e?void 0:e.parentNode).classList.add("emby-scroller-container");var t=n.scrollPos;k.ZP.getIsElementRTL(l.current)&&(t*=-1),a(t)}),[n.scrollPos]),(0,o.jsxs)("div",{ref:l,className:"emby-scrollbuttons padded-right",children:[(0,o.jsx)(Ae,{type:"button",className:"emby-scrollbuttons-button btnPrev",onClick:c,icon:"chevron_left",disabled:i<=0}),(0,o.jsx)(Ae,{type:"button",className:"emby-scrollbuttons-button btnNext",onClick:d,icon:"chevron_right",disabled:n.scrollWidth>0&&i+n.scrollSize>=n.scrollWidth})]})},Re=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return l},Fe=function(e){var t=e.className,n=e.isHorizontalEnabled,r=e.isMouseWheelEnabled,i=e.isCenterFocusEnabled,a=e.isScrollButtonsEnabled,l=e.isSkipFocusWhenVisibleEnabled,u=e.isScrollEventEnabled,c=e.isHideScrollbarEnabled,d=e.isAllowNativeSmoothScrollEnabled,v=e.children,f=Re(function(){var e=(0,s.useRef)(null),t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return l}((0,s.useState)({width:0,height:0}),2),n=t[0],r=t[1];return(0,s.useLayoutEffect)((function(){e.current&&r(e.current.getBoundingClientRect())}),[e]),Oe(e,(function(e){return r(e.contentRect)})),[e,n]}(),2),p=f[0],h=f[1],m=Re((0,s.useState)(!1),2),y=m[0],g=m[1],b=Re((0,s.useState)({scrollSize:h.width,scrollPos:0,scrollWidth:0}),2),S=b[0],x=b[1],w=(0,s.useRef)(null),I=(0,s.useCallback)((function(){if(w.current)return w.current.getScrollSlider()}),[w]),P=(0,s.useCallback)((function(){return w.current?w.current.getScrollPosition():0}),[w]),T=(0,s.useCallback)((function(){return w.current?w.current.getScrollSize():0}),[w]),Z=(0,s.useCallback)((function(e,t){var n=e.getPropertyValue(t);return n&&(n=n.replace("px",""))?isNaN(parseInt(n,10))?0:Number(n):0}),[]),C=(0,s.useCallback)((function(){var e=null==p?void 0:p.current,t=e.offsetWidth,n=window.getComputedStyle(e,null),r=Z(n,"padding-left");r&&(t-=r);var i=Z(n,"padding-right");i&&(t-=i);var a=I();return n=window.getComputedStyle(a,null),(r=Z(n,"padding-left"))&&(t-=r),(i=Z(n,"padding-right"))&&(t-=i),t}),[I,Z,p]),O=(0,s.useCallback)((function(){var e=C(),t=P(),n=T();x({scrollSize:e,scrollPos:t,scrollWidth:n})}),[P,C,T]),j=(0,s.useCallback)((function(e,t){de.ZP.addEventListener(e,"focus",(function(e){var n=be.Z.focusableParent(e.target);n&&t.toCenter(n,!1)}),{capture:!0,passive:!0})}),[]),k=(0,s.useCallback)((function(e,t){w.current&&de.ZP.addEventListener(w.current.getScrollFrame(),w.current.getScrollEventName(),e,t)}),[w]),A=(0,s.useCallback)((function(e,t){w.current&&de.ZP.removeEventListener(w.current.getScrollFrame(),w.current.getScrollEventName(),e,t)}),[w]);return(0,s.useEffect)((function(){var e,t=!1!==n,o=!1!==a,s=!1!==r,v=pe.Z.desktop&&t&&o,f={horizontal:t,mouseDragging:1,mouseWheel:s,touchDragging:1,slidee:null===(e=p.current)||void 0===e?void 0:e.querySelector(".scrollSlider"),scrollBy:200,speed:t?270:240,elasticBounds:1,dragHandle:1,autoImmediate:!0,skipSlideToWhenVisible:!0===l,dispatchScrollEvent:v||!0===u,hideScrollbar:v||!0===c,allowNativeSmoothScroll:!0===d&&!v,allowNativeScroll:!v,forceHideScrollbars:v,requireAnimation:v&&ve.Z.edge};return w.current=new je.Z(p.current,f),w.current.init(),w.current.reload(),pe.Z.tv&&i&&j(p.current,w.current),v&&(k(O,{capture:!1,passive:!0}),g(!0)),function(){w.current&&(w.current.destroy(),w.current=null),A(O,{capture:!1,passive:!0})}}),[k,j,d,i,c,n,r,a,u,l,O,A,p]),(0,o.jsxs)(o.Fragment,{children:[y&&S.scrollWidth>S.scrollSize+20&&(0,o.jsx)(Ee,{scrollerFactoryRef:w,scrollState:S}),(0,o.jsx)("div",{ref:p,className:ae()("emby-scroller",t),children:v})]})},Me=n(92581),Ne=n(92811),Be=function(){return Be=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Be.apply(this,arguments)},De=function(e){var t=e.className,n=e.isAutoHideEnabled,r=e.href,i=e.target,a=e.children,l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["className","isAutoHideEnabled","href","target","children"]),u=(0,s.useCallback)((function(e){var t=r||"";"#"!==t?i?Ne.M.supports("targetblank")||(e.preventDefault(),Me.Z.openUrl(t)):(e.preventDefault(),te.appRouter.show(t).catch((function(e){console.error("[LinkButton] failed to show url",t,e)}))):e.preventDefault()}),[r,i]);if(!0===n&&!Ne.M.supports("externallinks"))return null;var c=ae()("emby-button",t,{"show-focus":pe.Z.tv});return(0,o.jsx)("a",Be({className:c,href:r,target:i,onClick:u},l,{children:a}))},Ve=function(){return Ve=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ve.apply(this,arguments)},$e=function(e){var t=e.sectionTitle,n=e.url,r=e.items,i=e.cardOptions,a=(0,s.useRef)(null);return(0,s.useEffect)((function(){var e,t=null===(e=a.current)||void 0===e?void 0:e.querySelector(".itemsContainer");re.default.buildCards(r,Ve({itemsContainer:t,parentContainer:a.current},i)),fe.default.lazyChildren(t)}),[i,r]),(0,o.jsxs)("div",{ref:a,className:"verticalSection hide",children:[(0,o.jsx)("div",{className:"sectionTitleContainer sectionTitleContainer-cards padded-left",children:n&&r.length>5?(0,o.jsxs)(De,{className:"more button-flat button-flat-mini sectionTitleTextButton btnMoreFromGenre",href:n,children:[(0,o.jsx)("h2",{className:"sectionTitle sectionTitle-cards",children:t}),(0,o.jsx)("span",{className:"material-icons chevron_right","aria-hidden":"true"})]}):(0,o.jsx)("h2",{className:"sectionTitle sectionTitle-cards",children:t})}),(0,o.jsx)(Fe,{className:"padded-top-focusscale padded-bottom-focusscale",isMouseWheelEnabled:!1,isCenterFocusEnabled:!0,children:(0,o.jsx)(we,{className:"itemsContainer scrollSlider focuscontainer-x"})})]})},Ue=function(){return Ue=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ue.apply(this,arguments)},He=function(e){var t=e.parentId,n=e.sectionType,r=e.isMovieRecommendationEnabled,i=void 0!==r&&r,a=function(e,t){var n=(0,A.h_)(),r=_();return(0,C.a)({queryKey:["SuggestionSectionWithItems",t],queryFn:function(i){var a=i.signal;return ee(n,e,r,t,{signal:a})},enabled:!!e})}(t,n),l=a.isLoading,s=a.data,c=function(e,t){var n=(0,A.h_)();return(0,C.a)({queryKey:["MovieRecommendations",e,t],queryFn:function(r){var i=r.signal;return e?function(e,t,n){return W(void 0,void 0,void 0,(function(){var r,i;return G(this,(function(a){switch(a.label){case 0:return r=e.api,i=e.user,r&&(null==i?void 0:i.Id)?[4,(0,x.V)(r).getMovieRecommendations({userId:i.Id,fields:[f.h.PrimaryImageAspectRatio,f.h.MediaSourceCount],parentId:null!=t?t:void 0,categoryLimit:6,itemLimit:20},{signal:null==n?void 0:n.signal})]:[3,2];case 1:return[2,a.sent().data];case 2:return[2]}}))}))}(n,t,{signal:i}):[]}})}(i,t),v=c.isLoading,p=c.data;if(l||v)return(0,o.jsx)(ne.Z,{});if(!(null==s?void 0:s.length)&&!(null==p?void 0:p.length))return(0,o.jsxs)("div",{className:"noItemsMessage centerMessage",children:[(0,o.jsx)("h1",{children:k.ZP.translate("MessageNothingHere")}),(0,o.jsx)("p",{children:k.ZP.translate("MessageNoItemsAvailable")})]});var h=function(e){return te.appRouter.getRouteUrl("list",{serverId:window.ApiClient.serverId(),itemTypes:e.itemTypes,parentId:t})},m=function(e){var t="";switch(e.RecommendationType){case u.WNr.SimilarToRecentlyPlayed:t=k.ZP.translate("RecommendationBecauseYouWatched",e.BaselineItemName);break;case u.WNr.SimilarToLikedItem:t=k.ZP.translate("RecommendationBecauseYouLike",e.BaselineItemName);break;case u.WNr.HasDirectorFromRecentlyPlayed:case u.WNr.HasLikedDirector:t=k.ZP.translate("RecommendationDirectedBy",e.BaselineItemName);break;case u.WNr.HasActorFromRecentlyPlayed:case u.WNr.HasLikedActor:t=k.ZP.translate("RecommendationStarring",e.BaselineItemName)}return d()(t)};return(0,o.jsxs)(o.Fragment,{children:[null==s?void 0:s.map((function(e){var t=e.section,n=e.items;return(0,o.jsx)($e,{sectionTitle:k.ZP.translate(t.name),items:null!=n?n:[],url:h(t),cardOptions:Ue(Ue({},t.cardOptions),{showTitle:!0,centerText:!0,cardLayout:!1,overlayText:!1})},t.type)})),null==p?void 0:p.map((function(e,t){var n;return(0,o.jsx)($e,{sectionTitle:m(e),items:null!==(n=e.Items)&&void 0!==n?n:[],cardOptions:{shape:"overflowPortrait",showYear:!0,scalable:!0,overlayPlayButton:!0,showTitle:!0,centerText:!0,cardLayout:!1}},"".concat(e.CategoryId,"-").concat(t))}))]})},_e=function(e){var t=e.parentId,n=K(t),r=n.isLoading,i=n.data;return r?(0,o.jsx)(ne.Z,{}):(0,o.jsx)(le.Z,{children:(null==i?void 0:i.length)?null==i?void 0:i.map((function(e){var t;return(0,o.jsx)($e,{sectionTitle:e.name,items:null!==(t=e.items)&&void 0!==t?t:[],cardOptions:{shape:"overflowBackdrop",showLocationTypeIndicator:!1,showParentTitle:!0,preferThumb:!0,lazy:!0,showDetailsMenu:!0,missingIndicator:!1,cardLayout:!1}},e.name)})):(0,o.jsxs)("div",{className:"noItemsMessage centerMessage",children:[(0,o.jsx)("h1",{children:k.ZP.translate("MessageNothingHere")}),(0,o.jsx)("p",{children:k.ZP.translate("MessagePleaseEnsureInternetMetadata")})]})})},qe=n(13868),Xe=function(e){var t,n=e.parentId,r=e.collectionType,i=e.itemType,a=e.genre,l=function(e){var t,n=(0,A.h_)();return(0,C.a)({queryKey:["Items",X({},e)],queryFn:function(t){var r=t.signal;return function(e,t,n){return W(void 0,void 0,void 0,(function(){var r,i;return G(this,(function(a){switch(a.label){case 0:return r=e.api,i=e.user,r&&(null==i?void 0:i.Id)?[4,(0,S.$)(r).getItems(X({userId:i.Id},t),{signal:null==n?void 0:n.signal})]:[3,2];case 1:return[2,a.sent().data];case 2:return[2]}}))}))}(n,e,{signal:r})},cacheTime:(null===(t=e.sortBy)||void 0===t?void 0:t.includes(m.X.Random))?0:void 0})}({sortBy:[m.X.Random],sortOrder:[h.A.Ascending],includeItemTypes:i,recursive:!0,fields:[f.h.PrimaryImageAspectRatio,f.h.MediaSourceCount],imageTypeLimit:1,enableImageTypes:[v._.Primary],limit:25,genreIds:a.Id?[a.Id]:void 0,enableTotalRecordCount:!1,parentId:null!=n?n:void 0}),s=l.isLoading,u=l.data;return s?(0,o.jsx)(ne.Z,{}):(0,o.jsx)($e,{sectionTitle:d()(a.Name),items:(null==u?void 0:u.Items)||[],url:(t=a,te.appRouter.getRouteUrl(t,{context:r,parentId:n})),cardOptions:{scalable:!0,overlayPlayButton:!0,showTitle:!0,centerText:!0,cardLayout:!1,shape:r===qe.y.Music?"overflowSquare":"overflowPortrait",showParentTitle:r===qe.y.Music,showYear:r!==qe.y.Music}})},We=function(e){var t,n=e.parentId,r=e.collectionType,i=e.itemType,a=function(e,t){var n=(0,A.h_)();return(0,C.a)({queryKey:["Genres",t],queryFn:function(r){var i=r.signal;return function(e,t,n,r){return W(void 0,void 0,void 0,(function(){var i,a;return G(this,(function(l){switch(l.label){case 0:return i=e.api,a=e.user,i&&(null==a?void 0:a.Id)?[4,(0,b.J)(i).getGenres({userId:a.Id,sortBy:[m.X.SortName],sortOrder:[h.A.Ascending],includeItemTypes:t,enableTotalRecordCount:!1,parentId:null!=n?n:void 0},{signal:null==r?void 0:r.signal})]:[3,2];case 1:return[2,l.sent().data];case 2:return[2]}}))}))}(n,e,t,{signal:i})},enabled:!!t})}(i,n),l=a.isLoading,s=a.data;return l?(0,o.jsx)(ne.Z,{}):(null===(t=null==s?void 0:s.Items)||void 0===t?void 0:t.length)?(0,o.jsx)(o.Fragment,{children:s.Items.map((function(e){return(0,o.jsx)(Xe,{collectionType:r,parentId:n,itemType:i,genre:e},e.Id)}))}):(0,o.jsxs)("div",{className:"noItemsMessage centerMessage",children:[(0,o.jsx)("h1",{children:k.ZP.translate("MessageNothingHere")}),(0,o.jsx)("p",{children:k.ZP.translate("MessageNoGenresAvailable")})]})},Ge=function(e){var t=e.parentId,n=e.collectionType,r=e.itemType;return(0,o.jsx)(We,{parentId:t,collectionType:n,itemType:r})},ze=n(63873),Ye=n(94655),Ke=n(37129),Qe=function(){return Qe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Qe.apply(this,arguments)},Je=function(e){var t=e.className,n=e.libraryViewSettings,r=e.setLibraryViewSettings,i=(0,s.useCallback)((function(e,t){r((function(e){return Qe(Qe({},e),{StartIndex:0,Alphabet:t})}))}),[r]),a=ae()("alphaPicker",t,"alphaPicker-fixed-right"),l=ae()("paper-icon-button-light","alphaPickerButton");return(0,o.jsx)(le.Z,{className:a,sx:{position:"fixed",bottom:"1.5em",fontSize:{xs:"80%",lg:"88%"}},children:(0,o.jsx)(Ke.Z,{orientation:"vertical",value:n.Alphabet,exclusive:!0,color:"primary",size:"small",onChange:i,children:["#","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"].map((function(e){return(0,o.jsx)(Ye.Z,{value:e,className:l,children:e},e)}))})})},et=n(41854),tt=n(9082),nt=n(87673),rt=n(80990),it=n(57876),at=n(50131),lt=n(12192),ot=n(36058),st=n(37914),ut=n(87891),ct=n(12026),dt=n(93198),vt=n(88388),ft=function(){return ft=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ft.apply(this,arguments)},pt=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},ht=[{label:"Subtitles",value:r.HasSubtitles},{label:"Trailers",value:r.HasTrailer},{label:"Extras",value:r.HasSpecialFeature},{label:"ThemeSongs",value:r.HasThemeSong},{label:"ThemeVideos",value:r.HasThemeVideo}],mt=function(e){var t,n=e.libraryViewSettings,r=e.setLibraryViewSettings,i=(0,s.useCallback)((function(e){var t,i;e.preventDefault();var a=e.target.value,l=null!==(i=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.Features)&&void 0!==i?i:[],o=l.includes(a)?l.filter((function(e){return e!==a})):pt(pt([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return l}(l),!1),[a],!1);r((function(e){return ft(ft({},e),{StartIndex:0,Filters:ft(ft({},e.Filters),{Features:o.length?o:void 0})})}))}),[r,null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.Features]);return(0,o.jsx)(ct.Z,{children:ht.map((function(e){var t,r;return(0,o.jsx)(dt.Z,{control:(0,o.jsx)(vt.Z,{checked:!!(null===(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.Features)||void 0===r?void 0:r.includes(e.value)),onChange:i,value:e.value}),label:k.ZP.translate(e.label)},e.value)}))})},yt=function(){return yt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},yt.apply(this,arguments)},gt=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},bt=function(e){var t,n=e.genresOptions,r=e.libraryViewSettings,i=e.setLibraryViewSettings,a=(0,s.useCallback)((function(e){var t,n;e.preventDefault();var a=e.target.value,l=null!==(n=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.Genres)&&void 0!==n?n:[],o=l.includes(a)?l.filter((function(e){return e!==a})):gt(gt([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return l}(l),!1),[a],!1);i((function(e){return yt(yt({},e),{StartIndex:0,Filters:yt(yt({},e.Filters),{Genres:o.length?o:void 0})})}))}),[i,null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.Genres]);return(0,o.jsx)(ct.Z,{children:n.map((function(e){var t,n;return(0,o.jsx)(dt.Z,{control:(0,o.jsx)(vt.Z,{checked:!!(null===(n=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.Genres)||void 0===n?void 0:n.includes(String(e))),onChange:a,value:String(e)}),label:e},e)}))})},St=function(){return St=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},St.apply(this,arguments)},xt=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},wt=function(e){var t,n=e.OfficialRatingsOptions,r=e.libraryViewSettings,i=e.setLibraryViewSettings,a=(0,s.useCallback)((function(e){var t,n;e.preventDefault();var a=e.target.value,l=null!==(n=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.OfficialRatings)&&void 0!==n?n:[],o=l.includes(a)?l.filter((function(e){return e!==a})):xt(xt([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return l}(l),!1),[a],!1);i((function(e){return St(St({},e),{StartIndex:0,Filters:St(St({},e.Filters),{OfficialRatings:o.length?o:void 0})})}))}),[i,null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.OfficialRatings]);return(0,o.jsx)(ct.Z,{children:n.map((function(e){var t,n;return(0,o.jsx)(dt.Z,{control:(0,o.jsx)(vt.Z,{checked:!!(null===(n=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.OfficialRatings)||void 0===n?void 0:n.includes(String(e))),onChange:a,value:String(e)}),label:e},e)}))})},It=function(){return It=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},It.apply(this,arguments)},Pt=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Tt=[{label:"OptionSpecialEpisode",value:i.ParentIndexNumber},{label:"OptionMissingEpisode",value:i.IsMissing},{label:"OptionUnairedEpisode",value:i.IsUnaired}],Zt=function(e){var t,n=e.libraryViewSettings,r=e.setLibraryViewSettings,i=(0,s.useCallback)((function(e){var t,i;e.preventDefault();var a=e.target.value,l=null!==(i=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.EpisodeFilter)&&void 0!==i?i:[],o=l.includes(a)?l.filter((function(e){return e!==a})):Pt(Pt([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return l}(l),!1),[a],!1);r((function(e){return It(It({},e),{StartIndex:0,Filters:It(It({},e.Filters),{EpisodeFilter:o.length?o:void 0})})}))}),[r,null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.EpisodeFilter]);return(0,o.jsx)(ct.Z,{children:Tt.map((function(e){var t,r;return(0,o.jsx)(dt.Z,{control:(0,o.jsx)(vt.Z,{checked:!!(null===(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.EpisodeFilter)||void 0===r?void 0:r.includes(e.value)),onChange:i,value:e.value}),label:k.ZP.translate(e.label)},e.value)}))})},Ct=function(){return Ct=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ct.apply(this,arguments)},Ot=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},jt=[{label:"Continuing",value:u.v0p.Continuing},{label:"Ended",value:u.v0p.Ended},{label:"Unreleased",value:u.v0p.Unreleased}],kt=function(e){var t,n=e.libraryViewSettings,r=e.setLibraryViewSettings,i=(0,s.useCallback)((function(e){var t,i;e.preventDefault();var a=e.target.value,l=null!==(i=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.SeriesStatus)&&void 0!==i?i:[],o=l.includes(a)?l.filter((function(e){return e!==a})):Ot(Ot([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return l}(l),!1),[a],!1);r((function(e){return Ct(Ct({},e),{StartIndex:0,Filters:Ct(Ct({},e.Filters),{SeriesStatus:o.length?o:void 0})})}))}),[r,null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.SeriesStatus]);return(0,o.jsx)(ct.Z,{children:jt.map((function(e){var t,r;return(0,o.jsx)(dt.Z,{control:(0,o.jsx)(vt.Z,{checked:!!(null===(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.SeriesStatus)||void 0===r?void 0:r.includes(e.value)),onChange:i,value:e.value}),label:k.ZP.translate(e.label)},e.value)}))})},At=function(){return At=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},At.apply(this,arguments)},Lt=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Et=[{label:"Played",value:u.yrR.IsPlayed},{label:"Unplayed",value:u.yrR.IsUnplayed},{label:"Favorite",value:u.yrR.IsFavorite},{label:"ContinueWatching",value:u.yrR.IsResumable}],Rt=function(e){var t,n=e.viewType,r=e.libraryViewSettings,i=e.setLibraryViewSettings,a=(0,s.useCallback)((function(e){var t,n;e.preventDefault();var a=e.target.value,l=null!==(n=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.Status)&&void 0!==n?n:[],o=l.includes(a)?l.filter((function(e){return e!==a})):Lt(Lt([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return l}(l),!1),[a],!1);i((function(e){return At(At({},e),{StartIndex:0,Filters:At(At({},e.Filters),{Status:o.length?o:void 0})})}))}),[i,null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.Status]);return(0,o.jsx)(ct.Z,{children:Et.filter((function(e){return(t=[u.yrR.IsFavorite],n!==E.$.Albums&&n!==E.$.Artists&&n!==E.$.AlbumArtists&&n!==E.$.Songs&&n!==E.$.Channels&&(t.push(u.yrR.IsUnplayed),t.push(u.yrR.IsPlayed),t.push(u.yrR.IsResumable)),t).includes(e.value);var t})).map((function(e){var t,n;return(0,o.jsx)(dt.Z,{control:(0,o.jsx)(vt.Z,{checked:!!(null===(n=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.Status)||void 0===n?void 0:n.includes(e.value)),onChange:a,value:e.value}),label:k.ZP.translate(e.label)},e.value)}))})},Ft=function(){return Ft=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ft.apply(this,arguments)},Mt=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Nt=function(e){var t,n=e.studiosOptions,r=e.libraryViewSettings,i=e.setLibraryViewSettings,a=(0,s.useCallback)((function(e){var t,n;e.preventDefault();var a=e.target.value,l=null!==(n=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.StudioIds)&&void 0!==n?n:[],o=l.includes(a)?l.filter((function(e){return e!==a})):Mt(Mt([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return l}(l),!1),[a],!1);i((function(e){return Ft(Ft({},e),{StartIndex:0,Filters:Ft(Ft({},e.Filters),{StudioIds:o.length?o:void 0})})}))}),[i,null===(t=r.Filters)||void 0===t?void 0:t.StudioIds]);return(0,o.jsx)(ct.Z,{children:null==n?void 0:n.map((function(e){var t,n;return(0,o.jsx)(dt.Z,{control:(0,o.jsx)(vt.Z,{checked:!!(null===(n=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.StudioIds)||void 0===n?void 0:n.includes(String(e.Id))),onChange:a,value:String(e.Id)}),label:e.Name},e.Id)}))})},Bt=function(){return Bt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Bt.apply(this,arguments)},Dt=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Vt=function(e){var t,n=e.tagsOptions,r=e.libraryViewSettings,i=e.setLibraryViewSettings,a=(0,s.useCallback)((function(e){var t,n;e.preventDefault();var a=e.target.value,l=null!==(n=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.Tags)&&void 0!==n?n:[],o=l.includes(a)?l.filter((function(e){return e!==a})):Dt(Dt([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return l}(l),!1),[a],!1);i((function(e){return Bt(Bt({},e),{StartIndex:0,Filters:Bt(Bt({},e.Filters),{Tags:o.length?o:void 0})})}))}),[i,null===(t=r.Filters)||void 0===t?void 0:t.Tags]);return(0,o.jsx)(ct.Z,{children:n.map((function(e){var t,n;return(0,o.jsx)(dt.Z,{control:(0,o.jsx)(vt.Z,{checked:!!(null===(n=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.Tags)||void 0===n?void 0:n.includes(String(e))),onChange:a,value:String(e)}),label:e},e)}))})},$t=function(){return $t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$t.apply(this,arguments)},Ut=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return l},Ht=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},_t=[{label:"SD",value:a.IsSD},{label:"HD",value:a.IsHD},{label:"4K",value:a.Is4K},{label:"3D",value:a.Is3D}],qt=[{label:"DVD",value:u.ZSX.Dvd},{label:"Blu-ray",value:u.ZSX.BluRay},{label:"ISO",value:u.ZSX.Iso}],Xt=function(e){var t,n,r=e.libraryViewSettings,i=e.setLibraryViewSettings,a=(0,s.useCallback)((function(e){var t,n;e.preventDefault();var a=e.target.value,l=null!==(n=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.VideoBasicFilter)&&void 0!==n?n:[],o=l.includes(a)?l.filter((function(e){return e!==a})):Ht(Ht([],Ut(l),!1),[a],!1);i((function(e){return $t($t({},e),{Filters:$t($t({},e.Filters),{VideoBasicFilter:o.length?o:void 0})})}))}),[i,null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.VideoBasicFilter]),l=(0,s.useCallback)((function(e){var t,n;e.preventDefault();var a=e.target.value,l=null!==(n=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.VideoTypes)&&void 0!==n?n:[],o=l.includes(a)?l.filter((function(e){return e!==a})):Ht(Ht([],Ut(l),!1),[a],!1);i((function(e){return $t($t({},e),{StartIndex:0,Filters:$t($t({},e.Filters),{VideoTypes:o.length?o:void 0})})}))}),[i,null===(n=null==r?void 0:r.Filters)||void 0===n?void 0:n.VideoTypes]);return(0,o.jsxs)(ct.Z,{children:[_t.map((function(e){var t,n;return(0,o.jsx)(dt.Z,{control:(0,o.jsx)(vt.Z,{checked:!!(null===(n=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.VideoBasicFilter)||void 0===n?void 0:n.includes(e.value)),onChange:a,value:e.value}),label:e.label},e.value)})),qt.map((function(e){var t,n;return(0,o.jsx)(dt.Z,{control:(0,o.jsx)(vt.Z,{checked:!!(null===(n=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.VideoTypes)||void 0===n?void 0:n.includes(e.value)),onChange:l,value:e.value}),label:e.label},e.value)}))]})},Wt=function(){return Wt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Wt.apply(this,arguments)},Gt=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},zt=function(e){var t,n=e.yearsOptions,r=e.libraryViewSettings,i=e.setLibraryViewSettings,a=(0,s.useCallback)((function(e){var t,n;e.preventDefault();var a=Number(e.target.value),l=null!==(n=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.Years)&&void 0!==n?n:[],o=l.includes(a)?l.filter((function(e){return e!==a})):Gt(Gt([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return l}(l),!1),[a],!1);i((function(e){return Wt(Wt({},e),{StartIndex:0,Filters:Wt(Wt({},e.Filters),{Years:o.length?o:void 0})})}))}),[i,null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.Years]);return(0,o.jsx)(ct.Z,{children:n.map((function(e){var t,n;return(0,o.jsx)(dt.Z,{control:(0,o.jsx)(vt.Z,{checked:!!(null===(n=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.Years)||void 0===n?void 0:n.includes(Number(e))),onChange:a,value:String(e)}),label:e},e)}))})},Yt=function(){return Yt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Yt.apply(this,arguments)},Kt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return l},Qt=(0,st.ZP)((function(e){return(0,o.jsx)(rt.Z,Yt({disableGutters:!0,elevation:0,TransitionProps:{unmountOnExit:!0},square:!0},e))}))((function(e){var t=e.theme;return{border:"1px solid ".concat(t.palette.divider),"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}}})),Jt=(0,st.ZP)((function(e){return(0,o.jsx)(at.Z,Yt({expandIcon:(0,o.jsx)(et.Z,{sx:{fontSize:"0.9rem"}})},e))}))((function(e){var t=e.theme;return{backgroundColor:"dark"===t.palette.mode?"rgba(255, 255, 255, .05)":"rgba(0, 0, 0, .03)","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:t.spacing(1)}}})),en=(0,st.ZP)(it.Z)((function(e){return{padding:e.theme.spacing(2),borderTop:"1px solid rgba(0, 0, 0, .125)"}})),tn=function(e){var t,n,r,i=e.parentId,a=e.itemType,l=e.viewType,u=e.hasFilters,c=e.libraryViewSettings,d=e.setLibraryViewSettings,p=Kt(s.useState(null),2),h=p[0],m=p[1],y=Kt(s.useState(!1),2),b=y[0],S=y[1],x=Boolean(h),I=x?"filter-popover":void 0,P=function(e,t){var n=(0,A.h_)(),r="livetv"===e;return(0,C.a)({queryKey:["QueryFiltersLegacy",e,t],queryFn:function(r){var i=r.signal;return function(e,t,n,r){return W(void 0,void 0,void 0,(function(){var i,a;return G(this,(function(l){switch(l.label){case 0:return i=e.api,a=e.user,i&&(null==a?void 0:a.Id)?[4,(0,g.W)(i).getQueryFiltersLegacy({userId:a.Id,parentId:null!=t?t:void 0,includeItemTypes:n},{signal:null==r?void 0:r.signal})]:[3,2];case 1:return[2,l.sent().data];case 2:return[2]}}))}))}(n,e,t,{signal:i})},enabled:!!e&&!r})}(i,a).data,T=function(e,t){var n=(0,A.h_)(),r="livetv"===e;return(0,C.a)({queryKey:["Studios",e,t],queryFn:function(r){var i=r.signal;return function(e,t,n,r){return W(void 0,void 0,void 0,(function(){var i,a;return G(this,(function(l){switch(l.label){case 0:return i=e.api,a=e.user,i&&(null==a?void 0:a.Id)?[4,(0,w.q)(i).getStudios({userId:a.Id,includeItemTypes:n,fields:[f.h.DateCreated,f.h.PrimaryImageAspectRatio],enableImageTypes:[v._.Thumb],parentId:null!=t?t:void 0,enableTotalRecordCount:!1},{signal:null==r?void 0:r.signal})]:[3,2];case 1:return[2,l.sent().data.Items];case 2:return[2]}}))}))}(n,e,t,{signal:i})},enabled:!!e&&!r})}(i,a).data,Z=function(e){return function(t,n){S(!!n&&e)}},O=(0,s.useCallback)((function(e){m(e.currentTarget)}),[]),j=(0,s.useCallback)((function(){m(null)}),[]);return(0,o.jsxs)(le.Z,{children:[(0,o.jsx)(lt.Z,{title:k.ZP.translate("Filter"),sx:{ml:2},"aria-describedby":I,className:"paper-icon-button-light btnFilter autoSize",onClick:O,children:(0,o.jsx)(ot.Z,{color:"info",variant:"dot",invisible:!u,children:(0,o.jsx)(tt.Z,{})})}),(0,o.jsxs)(nt.ZP,{id:I,open:x,anchorEl:h,onClose:j,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},PaperProps:{style:{maxHeight:"50%",width:250}},children:[(0,o.jsxs)(Qt,{expanded:"filtersStatus"===b,onChange:Z("filtersStatus"),children:[(0,o.jsx)(Jt,{"aria-controls":"filtersStatus-content",id:"filtersStatus-header",children:(0,o.jsx)(ut.Z,{children:k.ZP.translate("Filters")})}),(0,o.jsx)(en,{children:(0,o.jsx)(Rt,{viewType:l,libraryViewSettings:c,setLibraryViewSettings:d})})]}),l===E.$.Series&&(0,o.jsxs)(Qt,{expanded:"filtersSeriesStatus"===b,onChange:Z("filtersSeriesStatus"),children:[(0,o.jsx)(Jt,{"aria-controls":"filtersSeriesStatus-content",id:"filtersSeriesStatus-header",children:(0,o.jsx)(ut.Z,{children:k.ZP.translate("HeaderSeriesStatus")})}),(0,o.jsx)(en,{children:(0,o.jsx)(kt,{libraryViewSettings:c,setLibraryViewSettings:d})})]}),l===E.$.Episodes&&(0,o.jsxs)(Qt,{expanded:"filtersEpisodesStatus"===b,onChange:Z("filtersEpisodesStatus"),children:[(0,o.jsx)(Jt,{"aria-controls":"filtersEpisodesStatus-content",id:"filtersEpisodesStatus-header",children:(0,o.jsx)(ut.Z,{children:k.ZP.translate("HeaderEpisodesStatus")})}),(0,o.jsx)(en,{children:(0,o.jsx)(Zt,{libraryViewSettings:c,setLibraryViewSettings:d})})]}),(l===E.$.Movies||l===E.$.Series||l===E.$.Episodes)&&(0,o.jsxs)(Qt,{expanded:"filtersFeatures"===b,onChange:Z("filtersFeatures"),children:[(0,o.jsx)(Jt,{"aria-controls":"filtersFeatures-content",id:"filtersFeatures-header",children:(0,o.jsx)(ut.Z,{children:k.ZP.translate("Features")})}),(0,o.jsx)(en,{children:(0,o.jsx)(mt,{libraryViewSettings:c,setLibraryViewSettings:d})})]}),(l===E.$.Movies||l===E.$.Episodes)&&(0,o.jsxs)(Qt,{expanded:"filtersVideoTypes"===b,onChange:Z("filtersVideoTypes"),children:[(0,o.jsx)(Jt,{"aria-controls":"filtersVideoTypes-content",id:"filtersVideoTypes-header",children:(0,o.jsx)(ut.Z,{children:k.ZP.translate("HeaderVideoType")})}),(0,o.jsx)(en,{children:(0,o.jsx)(Xt,{libraryViewSettings:c,setLibraryViewSettings:d})})]}),(l===E.$.Movies||l===E.$.Series||l===E.$.Albums||l===E.$.AlbumArtists||l===E.$.Artists||l===E.$.Songs||l===E.$.Episodes)&&(0,o.jsxs)(o.Fragment,{children:[(null==P?void 0:P.Genres)&&(null===(t=null==P?void 0:P.Genres)||void 0===t?void 0:t.length)>0&&(0,o.jsxs)(Qt,{expanded:"filtersGenres"===b,onChange:Z("filtersGenres"),children:[(0,o.jsx)(Jt,{"aria-controls":"filtersGenres-content",id:"filtersGenres-header",children:(0,o.jsx)(ut.Z,{children:k.ZP.translate("Genres")})}),(0,o.jsx)(en,{children:(0,o.jsx)(bt,{genresOptions:P.Genres,libraryViewSettings:c,setLibraryViewSettings:d})})]}),(null==P?void 0:P.OfficialRatings)&&(null===(n=null==P?void 0:P.OfficialRatings)||void 0===n?void 0:n.length)>0&&(0,o.jsxs)(Qt,{expanded:"filtersOfficialRatings"===b,onChange:Z("filtersOfficialRatings"),children:[(0,o.jsx)(Jt,{"aria-controls":"filtersOfficialRatings-content",id:"filtersOfficialRatings-header",children:(0,o.jsx)(ut.Z,{children:k.ZP.translate("HeaderParentalRatings")})}),(0,o.jsx)(en,{children:(0,o.jsx)(wt,{OfficialRatingsOptions:P.OfficialRatings,libraryViewSettings:c,setLibraryViewSettings:d})})]}),(null==P?void 0:P.Tags)&&(null==P?void 0:P.Tags.length)>0&&(0,o.jsxs)(Qt,{expanded:"filtersTags"===b,onChange:Z("filtersTags"),children:[(0,o.jsx)(Jt,{"aria-controls":"filtersTags-content",id:"filtersTags-header",children:(0,o.jsx)(ut.Z,{children:k.ZP.translate("Tags")})}),(0,o.jsx)(en,{children:(0,o.jsx)(Vt,{tagsOptions:P.Tags,libraryViewSettings:c,setLibraryViewSettings:d})})]}),(null==P?void 0:P.Years)&&(null===(r=null==P?void 0:P.Years)||void 0===r?void 0:r.length)>0&&(0,o.jsxs)(Qt,{expanded:"filtersYears"===b,onChange:Z("filtersYears"),children:[(0,o.jsx)(Jt,{"aria-controls":"filtersYears-content",id:"filtersYears-header",children:(0,o.jsx)(ut.Z,{children:k.ZP.translate("HeaderYears")})}),(0,o.jsx)(en,{children:(0,o.jsx)(zt,{yearsOptions:P.Years,libraryViewSettings:c,setLibraryViewSettings:d})})]})]}),(l===E.$.Movies||l===E.$.Series)&&T&&(0,o.jsxs)(Qt,{expanded:"filtersStudios"===b,onChange:Z("filtersStudios"),children:[(0,o.jsx)(Jt,{"aria-controls":"filtersStudios-content",id:"filtersStudios-header",children:(0,o.jsx)(ut.Z,{children:k.ZP.translate("Studios")})}),(0,o.jsx)(en,{children:(0,o.jsx)(Nt,{studiosOptions:T,libraryViewSettings:c,setLibraryViewSettings:d})})]})]})]})},nn=n(78633),rn=function(){var e=(0,s.useCallback)((function(){n.e(19449).then(n.bind(n,19449)).then((function(e){var t=e.default,n=window.ApiClient.serverId();(new t).show({items:[],serverId:n}).catch((function(){}))})).catch((function(e){console.error("[NewCollection] failed to load collection editor",e)}))}),[]);return(0,o.jsx)(lt.Z,{title:k.ZP.translate("Add"),className:"paper-icon-button-light btnNewCollection autoSize",onClick:e,children:(0,o.jsx)(nn.Z,{})})},an=n(91434),ln=n(97210),on=n(38380),sn=function(){return sn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},sn.apply(this,arguments)},un=function(e){var t,n=e.libraryViewSettings,r=e.setLibraryViewSettings,i=e.totalRecordCount,a=e.isPreviousData,l=L.libraryPageSize(void 0),u=null!==(t=n.StartIndex)&&void 0!==t?t:0,c=i?u+1:0,d=l?Math.min(u+l,i):i,v=l>0&&l<i,f=(0,s.useCallback)((function(){var e=u+l;r((function(t){return sn(sn({},t),{StartIndex:e})}))}),[l,r,u]),p=(0,s.useCallback)((function(){var e=Math.max(0,u-l);r((function(t){return sn(sn({},t),{StartIndex:e})}))}),[l,r,u]);return(0,o.jsx)(le.Z,{className:"paging",children:(0,o.jsxs)(le.Z,{className:"listPaging",style:{display:"flex",alignItems:"center"},children:[(0,o.jsx)("span",{children:k.ZP.translate("ListPaging",c,d,i)}),v&&(0,o.jsxs)(on.Z,{children:[(0,o.jsx)(lt.Z,{title:k.ZP.translate("Previous"),className:"paper-icon-button-light btnPreviousPage autoSize",disabled:0==u||a,onClick:p,children:(0,o.jsx)(an.Z,{})}),(0,o.jsx)(lt.Z,{title:k.ZP.translate("Next"),className:"paper-icon-button-light btnNextPage autoSize",disabled:u+l>=i||a,onClick:f,children:(0,o.jsx)(ln.Z,{})})]})]})})},cn=n(17200),dn=function(){return dn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},dn.apply(this,arguments)},vn=function(e){var t=e.item,n=e.items,r=e.viewType,i=e.hasFilters,a=e.libraryViewSettings,l=(0,s.useCallback)((function(){var e;t&&!i?he.O.play({items:[t],autoplay:!0,queryOptions:{SortBy:[a.SortBy],SortOrder:[a.SortOrder]}}):he.O.play({items:n,autoplay:!0,queryOptions:dn(dn({ParentId:null!==(e=null==t?void 0:t.Id)&&void 0!==e?e:void 0},D(r,a)),{SortBy:[a.SortBy],SortOrder:[a.SortOrder]})})}),[i,t,n,a,r]);return(0,o.jsx)(lt.Z,{title:k.ZP.translate("HeaderPlayAll"),className:"paper-icon-button-light btnPlay autoSize",onClick:l,children:(0,o.jsx)(cn.Z,{})})},fn=n(11501),pn=function(e){var t=e.item,n=e.items,r=e.hasFilters,i=(0,s.useCallback)((function(){t&&!r?he.O.queue({items:[t]}):he.O.queue({items:n})}),[r,t,n]);return(0,o.jsx)(lt.Z,{title:k.ZP.translate("AddToPlayQueue"),className:"paper-icon-button-light btnQueue autoSize",onClick:i,children:(0,o.jsx)(fn.Z,{})})},hn=n(8199),mn=function(){return mn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},mn.apply(this,arguments)},yn=function(e){var t=e.item,n=e.items,r=e.viewType,i=e.hasFilters,a=e.libraryViewSettings,l=(0,s.useCallback)((function(){var e;t&&!i?he.O.shuffle(t):he.O.play({items:n,autoplay:!0,queryOptions:mn(mn({ParentId:null!==(e=null==t?void 0:t.Id)&&void 0!==e?e:void 0},D(r,a)),{SortBy:[m.X.Random]})})}),[i,t,n,a,r]);return(0,o.jsx)(lt.Z,{title:k.ZP.translate("Shuffle"),className:"paper-icon-button-light btnShuffle autoSize",onClick:l,children:(0,o.jsx)(hn.Z,{})})},gn=n(28103),bn=n(60006),Sn=n(78972),xn=n(14264),wn=n(55599),In=n(59701),Pn=function(){return Pn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pn.apply(this,arguments)},Tn=[{label:"Name",value:m.X.SortName},{label:"OptionRandom",value:m.X.Random},{label:"OptionImdbRating",value:m.X.CommunityRating},{label:"OptionCriticRating",value:m.X.CriticRating},{label:"OptionDateAdded",value:m.X.DateCreated},{label:"OptionDatePlayed",value:m.X.DatePlayed},{label:"OptionParentalRating",value:m.X.OfficialRating},{label:"OptionPlayCount",value:m.X.PlayCount},{label:"OptionReleaseDate",value:m.X.PremiereDate},{label:"Runtime",value:m.X.Runtime}],Zn=((Ce={})[E.$.Movies]=Tn,Ce[E.$.Trailers]=[{label:"Name",value:m.X.SortName},{label:"OptionImdbRating",value:m.X.CommunityRating},{label:"OptionDateAdded",value:m.X.DateCreated},{label:"OptionDatePlayed",value:m.X.DatePlayed},{label:"OptionParentalRating",value:m.X.OfficialRating},{label:"OptionPlayCount",value:m.X.PlayCount},{label:"OptionReleaseDate",value:m.X.PremiereDate}],Ce[E.$.Favorites]=Tn,Ce[E.$.Series]=[{label:"Name",value:m.X.SortName},{label:"OptionRandom",value:m.X.Random},{label:"OptionImdbRating",value:m.X.CommunityRating},{label:"OptionDateShowAdded",value:m.X.DateCreated},{label:"OptionDateEpisodeAdded",value:m.X.DateLastContentAdded},{label:"OptionDatePlayed",value:m.X.SeriesDatePlayed},{label:"OptionParentalRating",value:m.X.OfficialRating},{label:"OptionReleaseDate",value:m.X.PremiereDate}],Ce[E.$.Episodes]=[{label:"Name",value:m.X.SeriesSortName},{label:"OptionImdbRating",value:m.X.CommunityRating},{label:"OptionDateAdded",value:m.X.DateCreated},{label:"OptionReleaseDate",value:m.X.PremiereDate},{label:"OptionDatePlayed",value:m.X.DatePlayed},{label:"OptionParentalRating",value:m.X.OfficialRating},{label:"OptionPlayCount",value:m.X.PlayCount},{label:"Runtime",value:m.X.Runtime},{label:"OptionRandom",value:m.X.Random}],Ce[E.$.Albums]=[{label:"Name",value:m.X.SortName},{label:"OptionRandom",value:m.X.Random},{label:"AlbumArtist",value:m.X.AlbumArtist},{label:"OptionImdbRating",value:m.X.CommunityRating},{label:"OptionCriticRating",value:m.X.CriticRating},{label:"OptionReleaseDate",value:m.X.ProductionYear},{label:"OptionDateAdded",value:m.X.DateCreated}],Ce[E.$.Songs]=[{label:"Name",value:m.X.SortName},{label:"Album",value:m.X.Album},{label:"AlbumArtist",value:m.X.AlbumArtist},{label:"Artist",value:m.X.Artist},{label:"OptionDateAdded",value:m.X.DateCreated},{label:"OptionDatePlayed",value:m.X.DatePlayed},{label:"OptionPlayCount",value:m.X.PlayCount},{label:"OptionReleaseDate",value:m.X.PremiereDate},{label:"Runtime",value:m.X.Runtime},{label:"OptionRandom",value:m.X.Random}],Ce),Cn=[{label:"Ascending",value:u.Asd.Ascending},{label:"Descending",value:u.Asd.Descending}],On=function(e){var t=e.viewType,n=e.libraryViewSettings,r=e.setLibraryViewSettings,i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return l}(s.useState(null),2),a=i[0],l=i[1],u=Boolean(a),c=u?"sort-popover":void 0,d=(0,s.useCallback)((function(e){l(e.currentTarget)}),[]),v=(0,s.useCallback)((function(){l(null)}),[]),f=(0,s.useCallback)((function(e){var t=e.target.name;r((function(n){var r;return Pn(Pn({},n),((r={StartIndex:0})[t]=e.target.value,r))}))}),[r]),p=function(e){return Zn[e]||[]}(t);return(0,o.jsxs)(le.Z,{children:[(0,o.jsx)(lt.Z,{title:k.ZP.translate("Sort"),sx:{ml:2},"aria-describedby":c,className:"paper-icon-button-light btnSort autoSize",onClick:d,children:(0,o.jsx)(In.Z,{})}),(0,o.jsxs)(nt.ZP,{id:c,open:u,anchorEl:a,onClose:v,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},sx:{"& .MuiFormControl-root":{m:1,width:200}},children:[(0,o.jsxs)(xn.Z,{fullWidth:!0,children:[(0,o.jsx)(Sn.Z,{id:"select-sort-label",children:(0,o.jsx)(ut.Z,{component:"span",children:k.ZP.translate("LabelSortBy")})}),(0,o.jsx)(wn.Z,{labelId:"select-sort-label",id:"selectSortBy",value:n.SortBy,label:k.ZP.translate("LabelSortBy"),name:"SortBy",onChange:f,children:p.map((function(e){return(0,o.jsx)(gn.Z,{value:e.value,children:(0,o.jsx)(ut.Z,{component:"span",children:k.ZP.translate(e.label)})},e.value)}))})]}),(0,o.jsx)(bn.Z,{}),(0,o.jsxs)(xn.Z,{fullWidth:!0,children:[(0,o.jsx)(Sn.Z,{id:"select-sortorder-label",children:(0,o.jsx)(ut.Z,{component:"span",children:k.ZP.translate("LabelSortOrder")})}),(0,o.jsx)(wn.Z,{labelId:"select-sortorder-label",id:"selectSortOrder",value:n.SortOrder,label:k.ZP.translate("LabelSortOrder"),name:"SortOrder",onChange:f,children:Cn.map((function(e){return(0,o.jsx)(gn.Z,{value:e.value,children:(0,o.jsx)(ut.Z,{component:"span",children:e.label})},e.value)}))})]})]})]})},jn=n(15665),kn=n(51157),An=n(18313),Ln=function(){return Ln=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ln.apply(this,arguments)},En=[E.$.Episodes,E.$.Artists,E.$.AlbumArtists,E.$.Albums],Rn=[{label:"Primary",value:u.__M.Primary},{label:"Banner",value:u.__M.Banner},{label:"Disc",value:u.__M.Disc},{label:"Logo",value:u.__M.Logo},{label:"Thumb",value:u.__M.Thumb}],Fn=function(e){var t=e.viewType,n=e.libraryViewSettings,r=e.setLibraryViewSettings,i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return l}(s.useState(null),2),a=i[0],l=i[1],u=Boolean(a),c=u?"selectview-popover":void 0,d=(0,s.useCallback)((function(e){l(e.currentTarget)}),[]),v=(0,s.useCallback)((function(){l(null)}),[]),f=(0,s.useCallback)((function(e){var t=e.target.name;r((function(n){var r;return Ln(Ln({},n),((r={})[t]=e.target.checked,r))}))}),[r]),p=(0,s.useCallback)((function(e){r((function(t){return Ln(Ln({},t),{ImageType:e.target.value})}))}),[r]),h=!En.includes(t);return(0,o.jsxs)(le.Z,{children:[(0,o.jsx)(lt.Z,{title:k.ZP.translate("ButtonSelectView"),sx:{ml:2},"aria-describedby":c,className:"paper-icon-button-light btnSelectView autoSize",onClick:d,children:(0,o.jsx)(An.Z,{})}),(0,o.jsxs)(nt.ZP,{id:c,open:u,anchorEl:a,onClose:v,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},sx:{"& .MuiFormControl-root":{m:1,width:220}},children:[h&&(0,o.jsxs)(xn.Z,{children:[(0,o.jsx)(Sn.Z,{id:"select-sort-label",children:(0,o.jsx)(ut.Z,{component:"span",children:k.ZP.translate("LabelImageType")})}),(0,o.jsx)(wn.Z,{value:n.ImageType,label:k.ZP.translate("LabelImageType"),onChange:p,children:Rn.map((function(e){return(0,o.jsx)(gn.Z,{value:e.value,children:(0,o.jsx)(ut.Z,{component:"span",children:k.ZP.translate(e.label)})},e.value)}))})]}),(0,o.jsx)(bn.Z,{}),(0,o.jsx)(xn.Z,{children:(0,o.jsxs)(ct.Z,{children:[(0,o.jsx)(dt.Z,{control:(0,o.jsx)(vt.Z,{checked:n.ShowTitle,onChange:f,name:"ShowTitle"}),label:k.ZP.translate("ShowTitle")}),h&&(0,o.jsx)(dt.Z,{control:(0,o.jsx)(vt.Z,{checked:n.ShowYear,onChange:f,name:"ShowYear"}),label:k.ZP.translate("ShowYear")}),(0,o.jsx)(dt.Z,{control:(0,o.jsx)(vt.Z,{checked:n.CardLayout,onChange:f,name:"CardLayout"}),label:k.ZP.translate("EnableCardLayout")})]})})]})]})},Mn=function(){return Mn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Mn.apply(this,arguments)},Nn=function(e){var t=e.viewType,n=e.libraryViewSettings,r=e.setLibraryViewSettings,i=(0,s.useCallback)((function(){r((function(e){return Mn(Mn({},e),{ViewMode:e.ViewMode===l.ListView?l.GridView:l.ListView})}))}),[r]),a=n.ViewMode===l.GridView;return(0,o.jsxs)(on.Z,{children:[a?(0,o.jsx)(Fn,{viewType:t,libraryViewSettings:n,setLibraryViewSettings:r}):(0,o.jsx)(lt.Z,{title:k.ZP.translate("GridView"),className:"paper-icon-button-light autoSize",disabled:a,onClick:i,children:(0,o.jsx)(jn.Z,{})}),(0,o.jsx)(lt.Z,{title:k.ZP.translate("ListView"),className:"paper-icon-button-light autoSize",disabled:!a,onClick:i,children:(0,o.jsx)(kn.Z,{})})]})},Bn=function(e){var t,n,r,i=e.viewType,a=e.parentId,c=e.collectionType,d=e.isPaginationEnabled,g=void 0===d||d,b=e.isBtnPlayAllEnabled,x=void 0!==b&&b,I=e.isBtnQueueEnabled,T=void 0!==I&&I,O=e.isBtnShuffleEnabled,j=void 0!==O&&O,L=e.isBtnSortEnabled,R=void 0===L||L,F=e.isBtnFilterEnabled,$=void 0===F||F,U=e.isBtnNewCollectionEnabled,H=void 0!==U&&U,_=e.isBtnGridListEnabled,q=void 0===_||_,z=e.isAlphabetPickerEnabled,Y=void 0===z||z,K=e.itemType,Q=e.noItemsMessage,J=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return l}(function(e,t){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return l}((0,s.useState)((function(){var n=localStorage.getItem(e);return null!=n?JSON.parse(n):"function"==typeof t?t():t})),2),r=n[0],i=n[1];return(0,s.useEffect)((function(){localStorage.setItem(e,JSON.stringify(r))}),[e,r]),[r,i]}(function(e,t){return"".concat(e," - ").concat(t)}(i,a),function(e){return{ShowTitle:!0,ShowYear:!1,ViewMode:e===E.$.Songs?l.ListView:l.GridView,ImageType:e===E.$.Networks?v._.Thumb:v._.Primary,CardLayout:!1,SortBy:V(e),SortOrder:h.A.Ascending,StartIndex:0}}(i)),2),ee=J[0],te=J[1],ie=function(e,t,n,r){var i=(0,A.h_)();return(0,C.a)({queryKey:["ItemsViewByType",e,t,n,r],queryFn:function(a){var l=a.signal;return function(e,t,n,r,i,a){return W(void 0,void 0,void 0,(function(){var l,o,s,u,c;return G(this,(function(d){switch(d.label){case 0:if(l=e.api,o=e.user,!l||!(null==o?void 0:o.Id))return[3,14];switch(s=void 0,t){case E.$.AlbumArtists:return[3,1];case E.$.Artists:return[3,3];case E.$.Networks:return[3,5];case E.$.Channels:return[3,7];case E.$.SeriesTimers:return[3,9]}return[3,11];case 1:return[4,(0,y.b)(l).getAlbumArtists(X(X(X(X(X({userId:o.Id,parentId:null!=n?n:void 0,enableImageTypes:[i.ImageType,v._.Backdrop]},M(t,i)),D(t,i)),N()),B(i)),{sortBy:[i.SortBy],sortOrder:[i.SortOrder],includeItemTypes:r,startIndex:i.StartIndex}),{signal:null==a?void 0:a.signal})];case 2:case 4:case 6:case 8:case 10:case 12:return s=d.sent(),[3,13];case 3:return[4,(0,y.b)(l).getArtists(X(X(X(X(X({userId:o.Id,parentId:null!=n?n:void 0,enableImageTypes:[i.ImageType,v._.Backdrop]},M(t,i)),D(t,i)),N()),B(i)),{sortBy:[i.SortBy],sortOrder:[i.SortOrder],includeItemTypes:r,startIndex:i.StartIndex}),{signal:null==a?void 0:a.signal})];case 5:return[4,(0,w.q)(l).getStudios(X(X({userId:o.Id,parentId:null!=n?n:void 0},M(t,i)),{includeItemTypes:r,enableImageTypes:[v._.Thumb],startIndex:i.StartIndex}),{signal:null==a?void 0:a.signal})];case 7:return[4,(0,Z.m)(l).getLiveTvChannels({userId:o.Id,fields:[f.h.PrimaryImageAspectRatio],startIndex:i.StartIndex,isFavorite:!!(null===(c=null===(u=i.Filters)||void 0===u?void 0:u.Status)||void 0===c?void 0:c.includes(p.y.IsFavorite))||void 0,enableImageTypes:[v._.Primary]},{signal:null==a?void 0:a.signal})];case 9:return[4,(0,Z.m)(l).getSeriesTimers({sortBy:"SortName",sortOrder:h.A.Ascending},{signal:null==a?void 0:a.signal})];case 11:return[4,(0,S.$)(l).getItems(X(X(X(X(X({userId:o.Id,recursive:!0,imageTypeLimit:1,parentId:null!=n?n:void 0,enableImageTypes:[i.ImageType,v._.Backdrop]},M(t,i)),D(t,i)),N()),B(i)),{isFavorite:t===E.$.Favorites||void 0,sortBy:[i.SortBy],sortOrder:[i.SortOrder],includeItemTypes:r,startIndex:i.StartIndex}),{signal:null==a?void 0:a.signal})];case 13:return[2,s.data];case 14:return[2]}}))}))}(i,e,t,n,r,{signal:l})},refetchOnWindowFocus:!1,keepPreviousData:!0,enabled:[E.$.Movies,E.$.Favorites,E.$.Collections,E.$.Trailers,E.$.Series,E.$.Episodes,E.$.Networks,E.$.Albums,E.$.AlbumArtists,E.$.Artists,E.$.Playlists,E.$.Songs,E.$.Books,E.$.Photos,E.$.Videos,E.$.Channels,E.$.SeriesTimers].includes(e)})}(i,a,K,ee),oe=ie.isLoading,se=ie.data,ue=ie.isPreviousData,ce=ie.refetch,de=function(e){var t=(0,A.h_)(),n="livetv"===e;return(0,C.a)({queryKey:["Item",e],queryFn:function(n){var r=n.signal;return function(e,t,n){return W(void 0,void 0,void 0,(function(){var r,i;return G(this,(function(a){switch(a.label){case 0:return r=e.api,i=e.user,r&&(null==i?void 0:i.Id)&&t?[4,(0,P.U)(r).getItem({userId:i.Id,itemId:t},{signal:null==n?void 0:n.signal})]:[3,2];case 1:return[2,a.sent().data];case 2:return[2]}}))}))}(t,e,{signal:r})},enabled:!!e&&!n})}(a).data,ve=(0,s.useCallback)((function(){var e,t={items:null!==(e=null==se?void 0:se.Items)&&void 0!==e?e:[],context:c};return i===E.$.Songs?(t.showParentTitle=!0,t.action="playallfromhere",t.smallIcon=!0,t.artist=!0,t.addToListButton=!0):i===E.$.Albums?(t.sortBy=ee.SortBy,t.addToListButton=!0):i===E.$.Episodes&&(t.showParentTitle=!0),t}),[null==se?void 0:se.Items,c,i,ee.SortBy]),fe=(0,s.useCallback)((function(){var e,t,n,r;ee.ImageType===u.__M.Banner?e="banner":ee.ImageType===u.__M.Disc?(e="square",n=!0):ee.ImageType===u.__M.Logo?(e="backdrop",r=!0):ee.ImageType===u.__M.Thumb?(e="backdrop",t=!0):e="auto";var a={shape:e,showTitle:ee.ShowTitle,showYear:ee.ShowYear,cardLayout:ee.CardLayout,centerText:!0,context:c,coverImage:!0,preferThumb:t,preferDisc:n,preferLogo:r,overlayPlayButton:!1,overlayMoreButton:!0,overlayText:!ee.ShowTitle};return i===E.$.Songs||i===E.$.Albums||i===E.$.Episodes?a.showParentTitle=ee.ShowTitle:i===E.$.Artists?(a.lines=1,a.showYear=!1):i===E.$.Channels?(a.shape="square",a.showDetailsMenu=!0,a.showCurrentProgram=!0,a.showCurrentProgramTime=!0):i===E.$.SeriesTimers&&(a.defaultShape="portrait",a.preferThumb="auto",a.showSeriesTimerTime=!0,a.showSeriesTimerChannel=!0,a.lines=3),a}),[ee.ShowTitle,ee.ImageType,ee.ShowYear,ee.CardLayout,c,i]),pe=(0,s.useCallback)((function(){var e,t,n="";return n=ee.ViewMode===l.ListView?ze.Z.getListViewHtml(ve()):re.default.getCardsHtml(null!==(e=null==se?void 0:se.Items)&&void 0!==e?e:[],fe()),(null===(t=null==se?void 0:se.Items)||void 0===t?void 0:t.length)||(n+='<div class="noItemsMessage centerMessage">',n+="<h1>"+k.ZP.translate("MessageNothingHere")+"</h1>",n+="<p>"+k.ZP.translate(Q)+"</p>",n+="</div>"),n}),[ee.ViewMode,null==se?void 0:se.Items,ve,fe,Q]),me=null!==(t=null==se?void 0:se.TotalRecordCount)&&void 0!==t?t:0,ye=null!==(n=null==se?void 0:se.Items)&&void 0!==n?n:[],ge=Object.values(null!==(r=ee.Filters)&&void 0!==r?r:{}).some((function(e){return!!e})),be=ee.SortBy.includes(m.X.SortName),Se=ae()("centered padded-left padded-right padded-right-withalphapicker",ee.ViewMode===l.ListView?"vertical-list":"vertical-wrap");return(0,o.jsxs)(le.Z,{children:[(0,o.jsxs)(le.Z,{className:"flex align-items-center justify-content-center flex-wrap-wrap padded-top padded-left padded-right padded-bottom focuscontainer-x",children:[g&&(0,o.jsx)(un,{totalRecordCount:me,libraryViewSettings:ee,isPreviousData:ue,setLibraryViewSettings:te}),x&&(0,o.jsx)(vn,{item:de,items:ye,viewType:i,hasFilters:ge,libraryViewSettings:ee}),T&&de&&he.O.canQueue(de)&&(0,o.jsx)(pn,{item:de,items:ye,hasFilters:ge}),j&&me>1&&(0,o.jsx)(yn,{item:de,items:ye,viewType:i,hasFilters:ge,libraryViewSettings:ee}),R&&(0,o.jsx)(On,{viewType:i,libraryViewSettings:ee,setLibraryViewSettings:te}),$&&(0,o.jsx)(tn,{parentId:a,itemType:K,viewType:i,hasFilters:ge,libraryViewSettings:ee,setLibraryViewSettings:te}),H&&(0,o.jsx)(rn,{}),q&&(0,o.jsx)(Nn,{viewType:i,libraryViewSettings:ee,setLibraryViewSettings:te})]}),Y&&be&&(0,o.jsx)(Je,{libraryViewSettings:ee,setLibraryViewSettings:te}),oe?(0,o.jsx)(ne.Z,{}):(0,o.jsx)(we,{className:Se,parentId:a,reloadItems:ce,getItemsHtml:pe}),g&&(0,o.jsx)(le.Z,{className:"flex align-items-center justify-content-center flex-wrap-wrap padded-top padded-left padded-right padded-bottom focuscontainer-x",children:(0,o.jsx)(un,{totalRecordCount:me,libraryViewSettings:ee,isPreviousData:ue,setLibraryViewSettings:te})})]})},Dn=n(10005),Vn=(n(32994),n(38228),n(61414),n(21694),n(24432),function(){var e=(0,s.useRef)(),t=(0,s.useRef)(null),n=(0,s.useCallback)((function(t){e.current=new Dn.Z({element:t,serverId:window.ApiClient.serverId()})}),[]);return(0,s.useEffect)((function(){var r=t.current;r?e.current||n(r):console.error("Unexpected null reference")}),[n]),(0,s.useEffect)((function(){return e.current&&e.current.resume(),function(){e.current&&e.current.pause()}}),[n]),(0,o.jsx)("div",{ref:t})}),$n=function(){return $n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$n.apply(this,arguments)},Un=function(e){var t=e.parentId,n=e.sectionType,r=e.isUpcomingRecordingsEnabled,i=void 0!==r&&r,a=function(e,t){var n=(0,A.h_)(),r=q();return(0,C.a)({queryKey:["ProgramSectionWithItems",t],queryFn:function(i){var a=i.signal;return ee(n,e,r,t,{signal:a})}})}(t,n),l=a.isLoading,s=a.data,u=function(e,t){var n=(0,A.h_)();return(0,C.a)({queryKey:["Timers",e,t],queryFn:function(r){var i=r.signal;return e?function(e,t,n){return W(void 0,void 0,void 0,(function(){var r,i,a;return G(this,(function(l){switch(l.label){case 0:return(r=e.api)?[4,(0,Z.m)(r).getTimers({isActive:!1,isScheduled:!0},{signal:null==n?void 0:n.signal})]:[3,2];case 1:return i=l.sent(),[2,Q(null!==(a=i.data.Items)&&void 0!==a?a:[],t)];case 2:return[2]}}))}))}(n,t,{signal:i}):[]}})}(i),c=u.isLoading,d=u.data;if(l||c)return(0,o.jsx)(ne.Z,{});if(!(null==s?void 0:s.length)&&!(null==d?void 0:d.length))return(0,o.jsxs)("div",{className:"noItemsMessage centerMessage",children:[(0,o.jsx)("h1",{children:k.ZP.translate("MessageNothingHere")}),(0,o.jsx)("p",{children:k.ZP.translate("MessageNoItemsAvailable")})]});var v=function(e){var t,n,r,i,a,l;return te.appRouter.getRouteUrl("list",{serverId:window.ApiClient.serverId(),itemTypes:e.itemTypes,isAiring:null===(t=e.parametersOptions)||void 0===t?void 0:t.isAiring,isMovie:null===(n=e.parametersOptions)||void 0===n?void 0:n.isMovie,isSports:null===(r=e.parametersOptions)||void 0===r?void 0:r.isSports,isKids:null===(i=e.parametersOptions)||void 0===i?void 0:i.isKids,isNews:null===(a=e.parametersOptions)||void 0===a?void 0:a.isNews,isSeries:null===(l=e.parametersOptions)||void 0===l?void 0:l.isSeries})};return(0,o.jsxs)(o.Fragment,{children:[null==s?void 0:s.map((function(e){var t=e.section,n=e.items;return(0,o.jsx)($e,{sectionTitle:k.ZP.translate(t.name),items:null!=n?n:[],url:v(t),cardOptions:$n({},t.cardOptions)},t.type)})),null==d?void 0:d.map((function(e){var t;return(0,o.jsx)($e,{sectionTitle:e.name,items:null!==(t=e.timerInfo)&&void 0!==t?t:[],cardOptions:{shape:"overflowBackdrop",showTitle:!0,showParentTitleOrTitle:!0,showAirTime:!0,showAirEndTime:!0,showChannelName:!1,cardLayout:!0,centerText:!1,action:"edit",cardFooterAside:"none",preferThumb:!0,coverImage:!0,allowBottomPadding:!1,overlayText:!1,showChannelLogo:!0}},e.name)}))]})},Hn=function(e){var t,n,r,i,a,l,s=e.parentId,u=e.currentTab;return u.viewType===E.$.Suggestions?(0,o.jsx)(He,{parentId:s,sectionType:null!==(n=null===(t=u.sectionsView)||void 0===t?void 0:t.suggestionSections)&&void 0!==n?n:[],isMovieRecommendationEnabled:null===(r=u.sectionsView)||void 0===r?void 0:r.isMovieRecommendations}):u.viewType===E.$.Programs||u.viewType===E.$.Recordings||u.viewType===E.$.Schedule?(0,o.jsx)(Un,{parentId:s,sectionType:null!==(a=null===(i=u.sectionsView)||void 0===i?void 0:i.programSections)&&void 0!==a?a:[],isUpcomingRecordingsEnabled:null===(l=u.sectionsView)||void 0===l?void 0:l.isLiveTvUpcomingRecordings}):u.viewType===E.$.Upcoming?(0,o.jsx)(_e,{parentId:s}):u.viewType===E.$.Genres?(0,o.jsx)(Ge,{parentId:s,collectionType:u.collectionType,itemType:u.itemType||[]}):u.viewType===E.$.Guide?(0,o.jsx)(Vn,{}):(0,o.jsx)(Bn,{viewType:u.viewType,parentId:s,collectionType:u.collectionType,isPaginationEnabled:u.isPaginationEnabled,isBtnPlayAllEnabled:u.isBtnPlayAllEnabled,isBtnQueueEnabled:u.isBtnQueueEnabled,isBtnShuffleEnabled:u.isBtnShuffleEnabled,isBtnNewCollectionEnabled:u.isBtnNewCollectionEnabled,isBtnFilterEnabled:u.isBtnFilterEnabled,isBtnGridListEnabled:u.isBtnGridListEnabled,isBtnSortEnabled:u.isBtnSortEnabled,isAlphabetPickerEnabled:u.isAlphabetPickerEnabled,itemType:u.itemType||[],noItemsMessage:u.noItemsMessage||"MessageNoItemsAvailable"})}},7520:function(e,t,n){n.d(t,{Yr:function(){return o},oV:function(){return l}});var r=n(94994),i=n(60934),a=n(13661),l=function(e){return s.some((function(t){return t.path===e}))},o=function(e,t){var n,r,a,l,o,u;if(!t)return 0;var c=null!==(r=null===(n=s.find((function(t){return t.path===e})))||void 0===n?void 0:n.tabs)&&void 0!==r?r:[],d=i.get("landing-"+t,!1);return null!==(u=null!==(l=null===(a=c.find((function(e){return e.value===d})))||void 0===a?void 0:a.index)&&void 0!==l?l:null===(o=c.find((function(e){return e.isDefault})))||void 0===o?void 0:o.index)&&void 0!==u?u:0},s=[{path:"/livetv.html",tabs:[{index:0,label:r.ZP.translate("Programs"),value:a.$.Programs,isDefault:!0},{index:1,label:r.ZP.translate("Guide"),value:a.$.Guide},{index:2,label:r.ZP.translate("Channels"),value:a.$.Channels},{index:3,label:r.ZP.translate("Recordings"),value:a.$.Recordings},{index:4,label:r.ZP.translate("Schedule"),value:a.$.Schedule},{index:5,label:r.ZP.translate("Series"),value:a.$.SeriesTimers}]},{path:"/movies.html",tabs:[{index:0,label:r.ZP.translate("Movies"),value:a.$.Movies,isDefault:!0},{index:1,label:r.ZP.translate("Suggestions"),value:a.$.Suggestions},{index:2,label:r.ZP.translate("Trailers"),value:a.$.Trailers},{index:3,label:r.ZP.translate("Favorites"),value:a.$.Favorites},{index:4,label:r.ZP.translate("Collections"),value:a.$.Collections},{index:5,label:r.ZP.translate("Genres"),value:a.$.Genres}]},{path:"/music.html",tabs:[{index:0,label:r.ZP.translate("Albums"),value:a.$.Albums,isDefault:!0},{index:1,label:r.ZP.translate("Suggestions"),value:a.$.Suggestions},{index:2,label:r.ZP.translate("HeaderAlbumArtists"),value:a.$.AlbumArtists},{index:3,label:r.ZP.translate("Artists"),value:a.$.Artists},{index:4,label:r.ZP.translate("Playlists"),value:a.$.Playlists},{index:5,label:r.ZP.translate("Songs"),value:a.$.Songs},{index:6,label:r.ZP.translate("Genres"),value:a.$.Genres}]},{path:"/tv.html",tabs:[{index:0,label:r.ZP.translate("Shows"),value:a.$.Series,isDefault:!0},{index:1,label:r.ZP.translate("Suggestions"),value:a.$.Suggestions},{index:2,label:r.ZP.translate("TabUpcoming"),value:a.$.Upcoming},{index:3,label:r.ZP.translate("Genres"),value:a.$.Genres},{index:4,label:r.ZP.translate("TabNetworks"),value:a.$.Networks},{index:5,label:r.ZP.translate("Episodes"),value:a.$.Episodes}]}];t.ZP=s},87143:function(e,t,n){var r=n(24246),i=n(27378),a=n(93110);t.Z=function(e){var t=e.children,n=e.id,l=e.className,o=void 0===l?"":l,s=e.title,u=e.isBackButtonEnabled,c=void 0===u||u,d=e.isMenuButtonEnabled,v=void 0!==d&&d,f=e.isNowPlayingBarEnabled,p=void 0===f||f,h=e.isThemeMediaSupported,m=void 0!==h&&h,y=e.backDropType,g=(0,i.useRef)(null);return(0,i.useEffect)((function(){a.Z.hideView()}),[]),(0,i.useEffect)((function(){var e,t,n,r,i={bubbles:!0,cancelable:!1,detail:{isRestored:!1,options:{enableMediaControl:p,supportsThemeMedia:m}}};null===(e=g.current)||void 0===e||e.dispatchEvent(new CustomEvent("viewbeforeshow",i)),null===(t=g.current)||void 0===t||t.dispatchEvent(new CustomEvent("pagebeforeshow",i)),null===(n=g.current)||void 0===n||n.dispatchEvent(new CustomEvent("viewshow",i)),null===(r=g.current)||void 0===r||r.dispatchEvent(new CustomEvent("pageshow",i))}),[g,p,m]),(0,r.jsx)("div",{ref:g,id:n,"data-role":"page",className:"page ".concat(o),"data-title":s,"data-backbutton":c,"data-menubutton":v,"data-backdroptype":y,children:t})}},526:function(e,t,n){n.d(t,{I:function(){return r},P:function(){return o}});var r,i=n(94994),a=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return l},l=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function o(e){var t=e.direction,n=e.scroller,o=e.scrollState;if(n){var s=n.getScrollSlider();!function(e){var t,n,l,o=e.scroller,s=e.items,u=e.scrollState,c=e.direction,d=void 0===c?r.RIGHT:c,v=i.ZP.getIsRTL()?-1:1,f=null!==(n=null===(t=o.getScrollFrame)||void 0===t?void 0:t.call(o))&&void 0!==n?n:o,p=a(function(e,t,n){var r=n.scrollPos*(i.ZP.getIsRTL()?-1:1),a=e.offsetWidth,l=t[0].offsetWidth;return[Math.max(Math.floor(r/l)-1,0),Math.floor((r+a)/l)]}(f,s,u),2),h=p[0],m=p[1];if(d===r.RIGHT)l=m*s[m].offsetWidth*v;else{var y=s[h];l=(h*y.offsetWidth-(Math.floor(f.offsetWidth/y.offsetWidth)-1)*y.offsetWidth)*v}o.slideTo?o.slideTo(l,!1,void 0):o.scrollToPosition(l)}({scroller:n,items:l([],a(s.children),!1),scrollState:o,direction:t})}}!function(e){e.RIGHT="right",e.LEFT="left"}(r||(r={}))},45773:function(e,t,n){var r=n(7520),i=n(22910),a=n(27851);t.Z=function(){var e=(0,i.TH)(),t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return l}((0,a.lr)(),2),n=t[0],l=t[1],o=n.get("tab"),s="/livetv.html"===e.pathname?"livetv":n.get("topParentId");return{searchParams:n,setSearchParams:l,libraryId:s,activeTab:null!==o?parseInt(o,10):(0,r.Yr)(e.pathname,s)}}},13661:function(e,t,n){var r;n.d(t,{$:function(){return r}}),function(e){e.Albums="albums",e.AlbumArtists="albumartists",e.Artists="artists",e.Channels="channels",e.Collections="collections",e.Episodes="episodes",e.Favorites="favorites",e.Genres="genres",e.Guide="guide",e.Movies="movies",e.Networks="networks",e.Playlists="playlists",e.Programs="programs",e.Recordings="recordings",e.Schedule="schedule",e.Series="series",e.SeriesTimers="seriestimers",e.Songs="songs",e.Suggestions="suggestions",e.Trailers="trailers",e.Upcoming="upcoming",e.Photos="photos",e.Videos="videos",e.Books="books"}(r||(r={}))},7559:function(e,t,n){var r,i;n.d(t,{Im:function(){return r},M0:function(){return c},PK:function(){return o},bA:function(){return i},d3:function(){return u},gs:function(){return s},oU:function(){return l},vo:function(){return a}}),function(e){e.ResumeItems="resumeItems",e.LatestMedia="latestMedia",e.NextUp="nextUp",e.RecommendedPrograms="RecommendedPrograms",e.LiveTvPrograms="liveTvPrograms",e.Recordings="Recordings",e.RecordingFolders="RecordingFolders"}(r||(r={})),function(e){e.ContinueWatchingMovies="continuewatchingmovies",e.LatestMovies="latestmovies",e.ContinueWatchingEpisode="continuewatchingepisode",e.LatestEpisode="latestepisode",e.NextUp="nextUp",e.LatestMusic="latestmusic",e.RecentlyPlayedMusic="recentlyplayedmusic",e.FrequentlyPlayedMusic="frequentlyplayedmusic",e.ActivePrograms="ActivePrograms",e.UpcomingEpisodes="UpcomingEpisodes",e.UpcomingMovies="UpcomingMovies",e.UpcomingSports="UpcomingSports",e.UpcomingKids="UpcomingKids",e.UpcomingNews="UpcomingNews",e.LatestRecordings="LatestRecordings",e.RecordingFolders="RecordingFolders",e.ActiveRecordings="ActiveRecordings",e.UpcomingRecordings="UpcomingRecordings"}(i||(i={}));var a={suggestionSections:[i.ContinueWatchingMovies,i.LatestMovies],isMovieRecommendations:!0},l={suggestionSections:[i.ContinueWatchingEpisode,i.LatestEpisode,i.NextUp]},o={suggestionSections:[i.LatestMusic,i.FrequentlyPlayedMusic,i.RecentlyPlayedMusic]},s={programSections:[i.ActivePrograms,i.UpcomingEpisodes,i.UpcomingMovies,i.UpcomingSports,i.UpcomingKids,i.UpcomingNews]},u={programSections:[i.LatestRecordings,i.RecordingFolders]},c={programSections:[i.ActiveRecordings],isLiveTvUpcomingRecordings:!0}}}]);