/*! For license information please see lyrics.0dab49f2f8ffd3a3efd6.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7631,96084,40367],{95626:function(e,t,r){r.r(t),r.d(t,{default:function(){return S}}),r(24776),r(20518),r(78557),r(23630);var n,i,a,c=r(22696),o=r.n(c),s=r(84069),u=r(70267),l=r(46782),f=r(80669),d=r(86191),v=r(9482),y=r(73233),m=r(62014),p=!1;function g(e,t,r){return l.A.tv?e+='<button class="lyricsLine dynamicLyric listItem show-focus" id="lyricPosition'.concat(r,'" data-lyrictime="').concat(t.Start,'">').concat(o()(t.Text),"</button>"):e+='<div class="lyricsLine dynamicLyric" id="lyricPosition'.concat(r,'" data-lyrictime="').concat(t.Start,'">').concat(o()(t.Text),"</div>"),e}function h(e,t,r){return l.A.tv?e+='<button class="lyricsLine listItem show-focus" id="lyricPosition'.concat(r,'">').concat(o()(t.Text),"</button>"):e+='<div class="lyricsLine" id="lyricPosition'.concat(r,'">').concat(o()(t.Text),"</div>"),e}function L(e,t){return t.findLastIndex((function(t){return t.Start<=e}))}function b(){var e=f.f.currentTime();return void 0===e&&(e=0),1e4*e}function S(e){function t(t){var r=e.querySelector("#lyricPosition".concat(t));r&&(r.classList.remove("pastLyric"),r.classList.add("futureLyric"))}function r(t){var r=e.querySelector("#lyricPosition".concat(t));r&&(r.classList.remove("pastLyric"),r.classList.remove("futureLyric"))}function c(n,i){for(var a=0;a<=i.length;a++)a<n?(c=a,o=void 0,(o=e.querySelector("#lyricPosition".concat(c)))&&(o.classList.remove("futureLyric"),o.classList.add("pastLyric"))):a===n?r(a):a>n&&t(a);var c,o}function o(){var t=e.querySelector(".dynamicLyricsContainer");if(t){var r="<h1> ".concat(v.Ay.translate("HeaderNoLyrics")," </h1>");t.innerHTML=r}s.default.autoFocus()}function l(t){a=t,(p=Object.prototype.hasOwnProperty.call(t[0],"Start"))?function(t){var r=e.querySelector(".dynamicLyricsContainer");if(r){var i=t.reduce(g,"");r.innerHTML=i}r.querySelectorAll(".lyricsLine").forEach((function(e){e.addEventListener("click",(function(){return t=e.getAttribute("data-lyrictime"),f.f.seek(t),void(f.f.paused()&&f.f.playPause(n));var t}))})),c(L(b(),t),a)}(a):function(t){var r=e.querySelector(".dynamicLyricsContainer");if(r){var n=t.reduce(h,"");r.innerHTML=n}}(a),s.default.autoFocus(e)}function S(e){e!==n&&(A(),n=e,e&&(m.A.on(e,"timeupdate",w),m.A.on(e,"playbackstart",P),m.A.on(e,"playbackstop",I)))}function A(){var e=n;e&&(m.A.off(e,"timeupdate",w),m.A.off(e,"playbackstart",P),m.A.off(e,"playbackstop",I),n=null)}function w(){p&&c(L(b(),a),a)}function P(e,t){i.Id!==t.NowPlayingItem.Id&&E()}function I(e,t){t.NextMediaType||u.appRouter.goHome()}function x(){S(f.f.getCurrentPlayer())}function E(){a=null,i=null,p=!1,y.default.setTitle(v.Ay.translate("Lyrics"));var e,t,r,n=f.f.getCurrentPlayer();if(n){S(n);var c=f.f.getPlayerState(n);i=c.NowPlayingItem,(e=c.NowPlayingItem.ServerId,t=c.NowPlayingItem.Id,r=d.A.getApiClient(e),r.ajax({url:r.getUrl("Audio/"+t+"/Lyrics"),type:"GET",dataType:"json"}).then((function(e){if(!e.Lyrics)throw new Error;return e.Lyrics}))).then(l).catch(o)}else u.appRouter.goHome()}e.addEventListener("viewshow",(function(){m.A.on(f.f,"playerchange",x);try{E()}catch(e){u.appRouter.goHome()}})),e.addEventListener("viewbeforehide",(function(){m.A.off(f.f,"playerchange",x),A()}))}},40782:function(e,t,r){var n=r(11444),i="assets/img/devices/";t.Ay={getDeviceIcon:function(e){var t;switch(e.AppName||e.Client){case"Samsung Smart TV":return i+"samsung.svg";case"Xbox One":return i+"xbox.svg";case"Sony PS4":return i+"playstation.svg";case"Kodi":case"Kodi JellyCon":return i+"kodi.svg";case"Jellyfin Android":case"AndroidTV":case"Android TV":return i+"android.svg";case"Jellyfin Mobile (iOS)":case"Jellyfin Mobile (iPadOS)":case"Jellyfin iOS":case"Infuse":return i+"apple.svg";case"Home Assistant":return i+"home-assistant.svg";case"Jellyfin Roku":return i+"roku.svg";case"Finamp":return i+"finamp.svg";case"Jellyfin Web":return function(e){switch(e){case"Opera":case"Opera TV":case"Opera Android":return i+"opera.svg";case"Chrome":case"Chrome Android":return i+"chrome.svg";case"Firefox":case"Firefox Android":return i+"firefox.svg";case"Safari":case"Safari iPad":case"Safari iPhone":return i+"safari.svg";case"Edge Chromium":case"Edge Chromium Android":case"Edge Chromium iPad":case"Edge Chromium iPhone":return i+"edgechromium.svg";case"Edge":return i+"edge.svg";case"Internet Explorer":return i+"msie.svg";default:return i+"html5.svg"}}(e.Name||e.DeviceName);default:if(null===(t=e.Capabilities)||void 0===t?void 0:t.IconUrl)try{return new URL(e.Capabilities.IconUrl).toString()}catch(t){console.error("[getDeviceIcon] device capabilities has invalid IconUrl",e,t)}return i+"other.svg"}},getLibraryIcon:function(e){switch(e){case"movies":return"video_library";case"music":return"library_music";case"photos":case"homevideos":return"photo_library";case"livetv":return"live_tv";case"tvshows":return"tv";case"trailers":return"local_movies";case"musicvideos":return"music_video";case"books":return"library_books";case"channels":return"videocam";case"playlists":return"view_list";default:return"folder"}},getItemTypeIcon:function(e){switch(e){case n.D.MusicAlbum:return"album";case n.D.MusicArtist:case n.D.Person:return"person";case n.D.Audio:return"audiotrack";case n.D.Movie:return"movie";case n.D.Episode:case n.D.Series:return"tv";case n.D.Program:return"live_tv";case n.D.Book:return"book";case n.D.Folder:return"folder";case n.D.BoxSet:return"collections";case n.D.Playlist:return"view_list";case n.D.Photo:return"photo";case n.D.PhotoAlbum:return"photo_album";default:return"folder"}}}},35840:function(e,t,r){function n(e){return e}r.d(t,{j:function(){return n}})},78779:function(e,t,r){var n=r(63696),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=n.useState,c=n.useEffect,o=n.useLayoutEffect,s=n.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=a({inst:{value:r,getSnapshot:t}}),i=n[0].inst,l=n[1];return o((function(){i.value=r,i.getSnapshot=t,u(i)&&l({inst:i})}),[e,r,t]),c((function(){return u(i)&&l({inst:i}),e((function(){u(i)&&l({inst:i})}))}),[e]),s(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:l},43676:function(e,t,r){e.exports=r(78779)}}]);