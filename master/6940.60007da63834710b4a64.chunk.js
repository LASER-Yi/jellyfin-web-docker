"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6940,15605,38965],{6940:function(t,e,a){a(29305),a(32733),a(84701),a(24776),a(69892),a(84734),a(44962),a(86584),a(89336),a(78557),a(95021),a(73687),a(83994),a(93062),a(82367);var i=a(31234),r=a.n(i),n=a(22696),o=a.n(n),s=a(47593),l=a(33077),d=a(36645),c=a(23648),u=a(82180),m=a(51938),y=a(46782),p=a(5898),f=a(67430),h=a(98320),I=a(24468);function v(t,e){if(t){if("string"==typeof t)return g(t,e);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?g(t,e):void 0}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=Array(e);a<e;a++)i[a]=t[a];return i}function A(t,e){if("disc"===e.index)return null==t.ParentIndexNumber?"":p.Ay.translate("ValueDiscNumber",t.ParentIndexNumber);var a,i,r=(e.sortBy||"").toLowerCase();return 0===r.indexOf("sortname")?"Episode"===t.Type?"":(a=(i=(t.SortName||t.Name||"?")[0].toUpperCase()).charCodeAt(0))<65||a>90?"#":i.toUpperCase():0===r.indexOf("officialrating")?t.OfficialRating||p.Ay.translate("Unrated"):0===r.indexOf("communityrating")?null==t.CommunityRating?p.Ay.translate("Unrated"):Math.floor(t.CommunityRating):0===r.indexOf("criticrating")?null==t.CriticRating?p.Ay.translate("Unrated"):Math.floor(t.CriticRating):0===r.indexOf("albumartist")&&t.AlbumArtist?(a=(i=t.AlbumArtist[0].toUpperCase()).charCodeAt(0))<65||a>90?"#":i.toUpperCase():""}function b(t,e){var a,i,r=f.tF.getApiClient(t.ServerId),n={fillWidth:e,fillHeight:e,type:"Primary"};return null!==(a=t.ImageTags)&&void 0!==a&&a.Primary?(n.tag=t.ImageTags.Primary,i=t.Id):t.AlbumId&&t.AlbumPrimaryImageTag?(n.tag=t.AlbumPrimaryImageTag,i=t.AlbumId):t.SeriesId&&t.SeriesPrimaryImageTag?(n.tag=t.SeriesPrimaryImageTag,i=t.SeriesId):t.ParentPrimaryImageTag&&(n.tag=t.ParentPrimaryImageTag,i=t.ParentPrimaryImageItemId),i?r.getScaledImageUrl(i,n):null}function T(t,e){var a=f.tF.getApiClient(t.ServerId),i={fillWidth:e,fillHeight:e,type:"Primary"};if(t.ChannelId&&t.ChannelPrimaryImageTag&&(i.tag=t.ChannelPrimaryImageTag),t.ChannelId)return a.getScaledImageUrl(t.ChannelId,i)}function C(t,e){var a,i,r,n="",s=y.A.tv?"h2":"div",l=function(t){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=v(t))){e&&(t=e);var a=0,i=function(){};return{s:i,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n=!0,o=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return n=t.done,t},e:function(t){o=!0,r=t},f:function(){try{n||null==e.return||e.return()}finally{if(o)throw r}}}}(t.entries());try{for(l.s();!(a=l.n()).done;){var d=(i=a.value,r=2,function(t){if(Array.isArray(t))return t}(i)||function(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var i,r,n,o,s=[],l=!0,d=!1;try{if(n=(a=a.call(t)).next,0===e){if(Object(a)!==a)return;l=!1}else for(;!(l=(i=n.call(a)).done)&&(s.push(i.value),s.length!==e);l=!0);}catch(t){d=!0,r=t}finally{try{if(!l&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(d)throw r}}return s}}(i,r)||v(i,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=d[0],u=d[1];if(u){var m=void 0;0===c?m=e?document.createElement(s):document.createElement("div"):(m=document.createElement("div")).classList.add("secondary"),m.classList.add("listItemBodyText"),m.innerHTML="<bdi>"+o()(u)+"</bdi>",n+=m.outerHTML}}}catch(t){l.e(t)}finally{l.f()}return n}function P(t){for(var e="",a=0,i=t.rightButtons.length;a<i;a++){var r=t.rightButtons[a];e+='<button is="paper-icon-button-light" class="listItemButton itemAction" data-action="'.concat(l.s.Custom,'" data-customaction="').concat(r.id,'" title="').concat(r.title,'"><span class="material-icons ').concat(r.icon,'" aria-hidden="true"></span></button>')}return e}a(15605),a(38965),e.A={getListViewHtml:function(t){for(var e=t.items,a="",i=t.action||l.s.Link,n="large"===t.imageSize,f=t.enableOverview,v=y.A.tv,g=v?"button":"div",S=null==t.enableSideMediaInfo||t.enableSideMediaInfo,D="",k=t.enableOverview&&!y.A.tv,L=0,x=e.length;L<x;L++){var M,R=e[L],w="";if(t.showIndex){var B=A(R,t);B!==a&&(w&&(w+="</div>"),w+=0===L?'<h2 class="listGroupHeader listGroupHeader-first">':'<h2 class="listGroupHeader">',w+=o()(B),w+="</h2>",w+="<div>",a=B)}var O="listItem";(t.border||!1!==t.highlight&&!y.A.tv)&&(O+=" listItem-border"),v&&(O+=" itemAction listItem-button"),y.A.tv&&(O+=" listItem-focusscale");var E=80;n&&(O+=" listItem-largeImage",E=500);var N=R.PlaylistItemId?' data-playlistitemid="'.concat(R.PlaylistItemId,'"'):"",U=null!==(M=R.UserData)&&void 0!==M&&M.PlaybackPositionTicks?' data-positionticks="'.concat(R.UserData.PlaybackPositionTicks,'"'):"",H=t.collectionId?' data-collectionid="'.concat(t.collectionId,'"'):"",F=t.playlistId?' data-playlistid="'.concat(t.playlistId,'"'):"",Y=R.MediaType?' data-mediatype="'.concat(R.MediaType,'"'):"",_=R.CollectionType?' data-collectiontype="'.concat(R.CollectionType,'"'):"",V=R.ChannelId?' data-channelid="'.concat(R.ChannelId,'"'):"";if(k&&(O+=" listItem-withContentWrapper"),w+="<".concat(g,' class="').concat(O,'"').concat(N,' data-action="').concat(i,'" data-isfolder="').concat(R.IsFolder,'" data-id="').concat(R.Id,'" data-serverid="').concat(R.ServerId,'" data-type="').concat(R.Type,'"').concat(Y).concat(_).concat(V).concat(U).concat(H).concat(F,">"),k&&(w+='<div class="listItem-content">'),!v&&t.dragHandle&&(w+='<span class="listViewDragHandle material-icons listItemIcon listItemIcon-transparent drag_handle" aria-hidden="true"></span>'),!1!==t.image){var j="channel"===t.imageSource?T(R,E):b(R,E),W=n?"listItemImage listItemImage-large":"listItemImage";"channel"===t.imageSource&&(W+=" listItemImage-channel"),n&&y.A.tv&&(W+=" listItemImage-large-tv");var G=t.imagePlayButton&&!y.A.tv;v||(W+=" itemAction");var q=G?l.s.Link:i;w+=j?'<div data-action="'+q+'" class="'+W+' lazy" data-src="'+j+'" item-icon>':'<div class="'+W+" cardImageContainer "+(0,d.Qp)(R.Name)+'">'+I.default.getDefaultText(R,t);var z=R.MediaSourceCount||1;z>1&&!0!==t.disableIndicators&&(w+='<div class="mediaSourceIndicator">'+z+"</div>");var K="";(K+=m.Ay.getPlayedIndicatorHtml(R))&&(w+='<div class="indicators listItemIndicators">'.concat(K,"</div>")),G&&(w+='<button is="paper-icon-button-light" class="listItemImageButton itemAction" data-action="'.concat(l.s.Resume,'" title="').concat(p.Ay.translate("Play"),'"><span class="material-icons listItemImageButton-icon play_arrow" aria-hidden="true"></span></button>'));var Q=m.Ay.getProgressBarHtml(R,{containerClass:"listItemProgressBar"});Q&&(w+=Q),w+="</div>"}t.showIndexNumberLeft&&(w+='<div class="listItem-indexnumberleft">',w+=R.IndexNumber||"&nbsp;",w+="</div>");var $=[];t.showProgramDateTime&&$.push(h.Ay.toLocaleString(h.Ay.parseISO8601Date(R.StartDate),{weekday:"long",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})),t.showProgramTime&&$.push(h.Ay.getDisplayTime(h.Ay.parseISO8601Date(R.StartDate))),t.showChannel&&R.ChannelName&&$.push(R.ChannelName);var J=null;t.showParentTitle&&("Episode"===R.Type?J=R.SeriesName:(R.IsSeries||R.EpisodeTitle&&R.Name)&&(J=R.Name));var X=c.Ay.getDisplayName(R,{includeParentInfo:t.includeParentInfoInTitle});if(t.showIndexNumber&&null!=R.IndexNumber&&(X="".concat(R.IndexNumber,". ").concat(X)),t.showParentTitle&&t.parentTitleWithTitle?(X&&(J&&(J+=" - "),J=(J||"")+X),$.push(J||"")):t.showParentTitle&&$.push(J||""),X&&!t.parentTitleWithTitle&&$.push(X),R.IsFolder)!1!==t.artist&&R.AlbumArtist&&"MusicAlbum"===R.Type&&$.push(R.AlbumArtist);else if(t.artist){var Z=R.ArtistItems;Z&&"MusicAlbum"!==R.Type&&$.push(Z.map((function(t){return t.Name})).join(", "))}if("TvChannel"===R.Type&&R.CurrentProgram&&$.push(c.Ay.getDisplayName(R.CurrentProgram)),O="listItemBody",v||(O+=" itemAction"),!1===t.image&&(O+=" listItemBody-noleftpadding"),w+='<div class="'.concat(O,'">'),w+=C($,n),!1===t.mediaInfo||S||(w+='<div class="'.concat("secondary listItemMediaInfo listItemBodyText",'">'),w+=u.Ay.getPrimaryMediaInfoHtml(R,{episodeTitle:!1,originalAirDate:!1,subtitles:!1}),w+="</div>"),f&&R.Overview&&(w+='<div class="secondary listItem-overview listItemBodyText">',w+="<bdi>"+r().sanitize((0,s.A)({html:!0}).render(R.Overview||""))+"</bdi>",w+="</div>"),w+="</div>",!1!==t.mediaInfo&&S&&(w+='<div class="secondary listItemMediaInfo">',w+=u.Ay.getPrimaryMediaInfoHtml(R,{year:!1,container:!1,episodeTitle:!1,criticRating:!1,officialRating:!1,endsAt:!1}),w+="</div>"),t.recordButton||"Timer"!==R.Type&&"Program"!==R.Type||(w+=m.Ay.getTimerIndicator(R).replace("indicatorIcon","indicatorIcon listItemAside")),w+='<div class="listViewUserDataButtons">',!v){if(t.addToListButton&&(w+='<button is="paper-icon-button-light" class="listItemButton itemAction" data-action="'.concat(l.s.AddToPlaylist,'" title="').concat(p.Ay.translate("AddToPlaylist"),'"><span class="material-icons playlist_add" aria-hidden="true"></span></button>')),t.infoButton&&(w+='<button is="paper-icon-button-light" class="listItemButton itemAction" data-action="'.concat(l.s.Link,'" title="').concat(p.Ay.translate("ButtonInfo"),'"><span class="material-icons info_outline" aria-hidden="true"></span></button>')),t.rightButtons&&(w+=P(t)),!1!==t.enableUserDataButtons){var tt=R.UserData||{},et=null==tt.Likes?"":tt.Likes;c.Ay.canMarkPlayed(R)&&!1!==t.enablePlayedButton&&(w+='<button is="emby-playstatebutton" type="button" class="listItemButton paper-icon-button-light" data-id="'+R.Id+'" data-serverid="'+R.ServerId+'" data-itemtype="'+R.Type+'" data-played="'+tt.Played+'"><span class="material-icons check" aria-hidden="true"></span></button>'),c.Ay.canRate(R)&&!1!==t.enableRatingButton&&(w+='<button is="emby-ratingbutton" type="button" class="listItemButton paper-icon-button-light" data-id="'+R.Id+'" data-serverid="'+R.ServerId+'" data-itemtype="'+R.Type+'" data-likes="'+et+'" data-isfavorite="'+tt.IsFavorite+'"><span class="material-icons favorite" aria-hidden="true"></span></button>')}!1!==t.moreButton&&(w+='<button is="paper-icon-button-light" class="listItemButton itemAction" data-action="'.concat(l.s.Menu,'" title="').concat(p.Ay.translate("ButtonMore"),'"><span class="material-icons more_vert" aria-hidden="true"></span></button>'))}w+="</div>",k&&(w+="</div>",f&&R.Overview&&(w+='<div class="listItem-bottomoverview secondary">',w+="<bdi>"+R.Overview+"</bdi>",w+="</div>")),D+=w+="</".concat(g,">")}return D}}},15605:function(t,e,a){a.r(e);var i=a(10736),r=a(5898),n=a(67430),o=a(44797),s=a(10353);function l(){var t=this,e=t.getAttribute("data-id"),a=t.getAttribute("data-serverid"),i=n.tF.getApiClient(a),r=this.getAttribute("data-likes");r="true"===r||"false"!==r&&null,function(t,e,a,i,r){return e.updateFavoriteStatus(e.getCurrentUserId(),a,!r)}(0,i,e,0,"true"===this.getAttribute("data-isfavorite")).then((function(e){c(t,e.Likes,e.IsFavorite)}))}function d(t,e,a){a.ItemId===this.getAttribute("data-id")&&c(this,a.Likes,a.IsFavorite)}function c(t,e,a,i){var r=t.querySelector(".material-icons");a?(r&&(r.classList.add("favorite"),r.classList.add("ratingbutton-icon-withrating")),t.classList.add("ratingbutton-withrating")):(r&&(r.classList.add("favorite"),r.classList.remove("ratingbutton-icon-withrating")),t.classList.remove("ratingbutton-withrating")),!1!==i&&(t.setAttribute("data-isfavorite",a),t.setAttribute("data-likes",null===e?"":e)),u(t,a)}function u(t,e){t.title=e?r.Ay.translate("Favorite"):r.Ay.translate("AddToFavorites");var a=t.querySelector(".button-text");a&&(a.innerText=t.title)}function m(t){var e,a,r;t.removeEventListener("click",l),(r=(e=t)[a="UserDataChanged"])&&(o.A.off(i.default,a,r),e[a]=null)}function y(t){var e,a,r;m(t),t.addEventListener("click",l),e=t,a="UserDataChanged",r=d.bind(e),o.A.on(i.default,a,r),e[a]=r}var p=Object.create(s.A);p.createdCallback=function(){s.A.createdCallback&&s.A.createdCallback.call(this)},p.attachedCallback=function(){s.A.attachedCallback&&s.A.attachedCallback.call(this);var t=this.getAttribute("data-id"),e=this.getAttribute("data-serverid");if(t&&e){var a=this.getAttribute("data-likes");c(this,a="true"===a||"false"!==a&&null,"true"===this.getAttribute("data-isfavorite"),!1),y(this)}else u(this)},p.detachedCallback=function(){s.A.detachedCallback&&s.A.detachedCallback.call(this),m(this)},p.setItem=function(t){if(t){this.setAttribute("data-id",t.Id),this.setAttribute("data-serverid",t.ServerId);var e=t.UserData||{};c(this,e.Likes,e.IsFavorite),y(this)}else this.removeAttribute("data-id"),this.removeAttribute("data-serverid"),this.removeAttribute("data-likes"),this.removeAttribute("data-isfavorite"),m(this)},document.registerElement("emby-ratingbutton",{prototype:p,extends:"button"})},38965:function(t,e,a){a.r(e);var i=a(10736),r=a(5898),n=a(67430),o=a(44797),s=a(10353);function l(){var t=this,e=t.getAttribute("data-id"),a=t.getAttribute("data-serverid"),i=n.tF.getApiClient(a);t.classList.contains("playstatebutton-played")?(i.markUnplayed(i.getCurrentUserId(),e,new Date),c(t,!1)):(i.markPlayed(i.getCurrentUserId(),e,new Date),c(t,!0))}function d(t,e,a){a.ItemId===this.getAttribute("data-id")&&c(this,a.Played)}function c(t,e,a){var i=t.iconElement;i||(t.iconElement=t.querySelector(".material-icons"),i=t.iconElement),e?(t.classList.add("playstatebutton-played"),i&&(i.classList.add("playstatebutton-icon-played"),i.classList.remove("playstatebutton-icon-unplayed"))):(t.classList.remove("playstatebutton-played"),i&&(i.classList.remove("playstatebutton-icon-played"),i.classList.add("playstatebutton-icon-unplayed"))),!1!==a&&t.setAttribute("data-played",e),function(t,e,a){t.title="AudioBook"!==e?a?r.Ay.translate("Watched"):r.Ay.translate("MarkPlayed"):a?r.Ay.translate("Played"):r.Ay.translate("MarkPlayed");var i=t.querySelector(".button-text");i&&(i.innerText=t.title)}(t,t.getAttribute("data-type"),e)}function u(t){var e,a,r;t.removeEventListener("click",l),(r=(e=t)[a="UserDataChanged"])&&(o.A.off(i.default,a,r),e[a]=null)}function m(t){var e,a,r;u(t),t.addEventListener("click",l),e=t,a="UserDataChanged",r=d.bind(e),o.A.on(i.default,a,r),e[a]=r}var y=Object.create(s.A);y.createdCallback=function(){s.A.createdCallback&&s.A.createdCallback.call(this)},y.attachedCallback=function(){s.A.attachedCallback&&s.A.attachedCallback.call(this);var t=this.getAttribute("data-id"),e=this.getAttribute("data-serverid");t&&e&&(c(this,"true"===this.getAttribute("data-played"),!1),m(this))},y.detachedCallback=function(){s.A.detachedCallback&&s.A.detachedCallback.call(this),u(this),this.iconElement=null},y.setItem=function(t){var e;t?(this.setAttribute("data-id",t.Id),this.setAttribute("data-serverid",t.ServerId),this.setAttribute("data-type",t.Type),c(this,null===(e=t.UserData)||void 0===e?void 0:e.Played),m(this)):(this.removeAttribute("data-id"),this.removeAttribute("data-serverid"),this.removeAttribute("data-type"),this.removeAttribute("data-played"),u(this))},document.registerElement("emby-playstatebutton",{prototype:y,extends:"button"})},82180:function(t,e,a){a(24776),a(14382),a(86584),a(9698),a(78557);var i=a(22696),r=a.n(i),n=a(98320),o=a(5898),s=a(70267),l=a(23648),d=a(51938),c=(a(10353),a(82885));function u(t){if("Video"===t.MediaType&&t.RunTimeTicks&&!t.StartDate){var e,a=null===(e=t.UserData)||void 0===e?void 0:e.PlaybackPositionTicks;return m(t.RunTimeTicks,a,1,!0)}return null}function m(t,e,a,i){var r=(new Date).getTime()+1/a*((t-(e||0))/1e4);r=new Date(r);var s=n.Ay.getDisplayTime(r);return!1===i?s:o.Ay.translate("EndsAtValue",s)}function y(t,e){e=e?"".concat(e," mediaInfoItem"):"mediaInfoItem";var a=t;if("string"!=typeof t&&"number"!=typeof t){if(t.html)return t.html;a=t.text,e+=" ".concat(t.cssClass)}return'<div class="'.concat(e,'">').concat(a,"</div>")}function p(t,e,a){if(!1!==a.endsAt){var i=t.querySelector(".endsAt");i&&function(t,e){var a=setInterval((function(){document.body.contains(t)?t.innerHTML=u(e):clearInterval(a)}),6e4)}(i,e)}var r=t.querySelector(".lnkChannel");r&&r.addEventListener("click",f)}function f(t){var e=this.getAttribute("data-id"),a=this.getAttribute("data-serverid");return s.appRouter.showItem(e,a),t.preventDefault(),!1}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return void 0===e.interactive&&(e.interactive=!1),function(t){var e,a,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m="",p=[],f="MusicAlbum"===t.Type||"MusicArtist"===t.MediaType||"Playlist"===t.Type||"Playlist"===t.MediaType||"MusicGenre"===t.MediaType;if(f?((i=t.SongCount||t.ChildCount)&&p.push(o.Ay.translate("TrackCount",i)),t.RunTimeTicks&&p.push(n.Ay.getDisplayDuration(t.RunTimeTicks))):"PhotoAlbum"!==t.Type&&"BoxSet"!==t.Type||(i=t.ChildCount)&&p.push(o.Ay.translate("ItemCount",i)),("Episode"===t.Type||"Photo"===t.MediaType)&&!1!==s.originalAirDate&&t.PremiereDate)try{a=n.Ay.parseISO8601Date(t.PremiereDate,"Episode"!==t.Type),e=n.Ay.toLocaleDateString(a),p.push(e)}catch(e){console.error("error parsing date:",t.PremiereDate,e)}if("SeriesTimer"===t.Type&&(t.RecordAnyTime?p.push(o.Ay.translate("Anytime")):p.push(n.Ay.getDisplayTime(t.StartDate)),t.RecordAnyChannel?p.push(o.Ay.translate("AllChannels")):p.push(t.ChannelName||o.Ay.translate("OneChannel"))),t.StartDate&&"Program"!==t.Type&&"SeriesTimer"!==t.Type&&"Timer"!==t.Type)try{a=n.Ay.parseISO8601Date(t.StartDate),e=n.Ay.toLocaleDateString(a),p.push(e),"Recording"!==t.Type&&(e=n.Ay.getDisplayTime(a),p.push(e))}catch(e){console.error("error parsing date:",t.StartDate,e)}if(!1!==s.year&&t.ProductionYear&&"Series"===t.Type)if("Continuing"===t.Status)p.push(o.Ay.translate("SeriesYearToPresent",n.Ay.toLocaleString(t.ProductionYear,{useGrouping:!1})));else if(t.ProductionYear){if(e=n.Ay.toLocaleString(t.ProductionYear,{useGrouping:!1}),t.EndDate)try{var h=n.Ay.toLocaleString(n.Ay.parseISO8601Date(t.EndDate).getFullYear(),{useGrouping:!1});h!==e&&(e+=" - ".concat(h))}catch(e){console.error("error parsing date:",t.EndDate,e)}p.push(e)}if("Program"===t.Type||"Timer"===t.Type){var I=t;if("Timer"===t.Type&&(I=t.ProgramInfo),!1!==s.programIndicator&&(I.IsLive&&"true"===c.get("guide-indicator-live")?p.push({html:'<div class="mediaInfoProgramAttribute mediaInfoItem liveTvProgram">'.concat(o.Ay.translate("Live"),"</div>")}):I.IsPremiere&&"true"===c.get("guide-indicator-premiere")?p.push({html:'<div class="mediaInfoProgramAttribute mediaInfoItem premiereTvProgram">'.concat(o.Ay.translate("Premiere"),"</div>")}):I.IsSeries&&!I.IsRepeat&&"true"===c.get("guide-indicator-new")?p.push({html:'<div class="mediaInfoProgramAttribute mediaInfoItem newTvProgram">'.concat(o.Ay.translate("New"),"</div>")}):I.IsSeries&&I.IsRepeat&&"true"===c.get("guide-indicator-repeat")&&p.push({html:'<div class="mediaInfoProgramAttribute mediaInfoItem repeatTvProgram">'.concat(o.Ay.translate("Repeat"),"</div>")})),(I.IsSeries||I.EpisodeTitle)&&!1!==s.episodeTitle)(e=l.Ay.getDisplayName(I,{includeIndexNumber:s.episodeTitleIndexNumber}))&&p.push(r()(e));else if(I.IsMovie&&I.ProductionYear&&!1!==s.originalAirDate)p.push(I.ProductionYear);else if(I.PremiereDate&&!1!==s.originalAirDate)try{a=n.Ay.parseISO8601Date(I.PremiereDate),e=o.Ay.translate("OriginalAirDateValue",n.Ay.toLocaleDateString(a)),p.push(e)}catch(t){console.error("error parsing date:",I.PremiereDate,t)}else I.ProductionYear&&!1!==s.year&&p.push(I.ProductionYear)}if(!1!==s.year&&"Series"!==t.Type&&"Episode"!==t.Type&&"Person"!==t.Type&&"Photo"!==t.MediaType&&"Program"!==t.Type&&"Season"!==t.Type)if(t.ProductionYear)p.push(t.ProductionYear);else if(t.PremiereDate)try{e=n.Ay.toLocaleString(n.Ay.parseISO8601Date(t.PremiereDate).getFullYear(),{useGrouping:!1}),p.push(e)}catch(e){console.error("error parsing date:",t.PremiereDate,e)}if(t.RunTimeTicks&&"Series"!==t.Type&&"Program"!==t.Type&&"Timer"!==t.Type&&"Book"!==t.Type&&!f&&!1!==s.runtime&&("Audio"===t.Type?p.push(n.Ay.getDisplayRunningTime(t.RunTimeTicks)):p.push(n.Ay.getDisplayDuration(t.RunTimeTicks))),!1!==s.officialRating&&t.OfficialRating&&"Season"!==t.Type&&"Episode"!==t.Type&&p.push({text:t.OfficialRating,cssClass:"mediaInfoText mediaInfoOfficialRating"}),t.Video3DFormat&&p.push("3D"),"Photo"===t.MediaType&&t.Width&&t.Height&&p.push("".concat(t.Width,"x").concat(t.Height)),!1!==s.container&&"Audio"===t.Type&&t.Container&&p.push(t.Container),m+=p.map((function(t){return y(t)})).join(""),!1!==s.starRating&&(m+=function(t){var e="";return t.CommunityRating&&(e+='<div class="starRatingContainer mediaInfoItem">',e+='<span class="material-icons starIcon star" aria-hidden="true"></span>',e+=t.CommunityRating.toFixed(1),e+="</div>"),e}(t)),t.HasSubtitles&&!1!==s.subtitles&&(m+='<div class="mediaInfoItem mediaInfoText closedCaptionMediaInfoText">CC</div>'),t.CriticRating&&!1!==s.criticRating&&(t.CriticRating>=60?m+='<div class="mediaInfoItem mediaInfoCriticRating mediaInfoCriticRatingFresh">'.concat(t.CriticRating,"</div>"):m+='<div class="mediaInfoItem mediaInfoCriticRating mediaInfoCriticRatingRotten">'.concat(t.CriticRating,"</div>")),!1!==s.endsAt){var v=u(t);v&&(m+=y(v,"endsAt"))}return m+d.Ay.getMissingIndicator(t)}(t,e)}function I(t,e){return null==(e=e||{}).interactive&&(e.interactive=!1),"Program"===t.Type?function(t,e){var a,i,o=[];if(t.StartDate&&!1!==e.programTime)try{a="",i=n.Ay.parseISO8601Date(t.StartDate),!1!==e.startDate&&(a+=n.Ay.toLocaleDateString(i,{weekday:"short",month:"short",day:"numeric"})),a+=" ".concat(n.Ay.getDisplayTime(i)),t.EndDate&&(i=n.Ay.parseISO8601Date(t.EndDate),a+=" - ".concat(n.Ay.getDisplayTime(i))),o.push(a)}catch(e){console.error("error parsing date:",t.StartDate,e)}if(t.ChannelNumber&&o.push("CH ".concat(t.ChannelNumber)),t.ChannelName&&(e.interactive&&t.ChannelId?o.push({html:'<a is="emby-linkbutton" class="button-flat mediaInfoItem" href="'.concat(s.appRouter.getRouteUrl({ServerId:t.ServerId,Type:"TvChannel",Name:t.ChannelName,Id:t.ChannelId}),'">').concat(r()(t.ChannelName),"</a>")}):o.push(r()(t.ChannelName))),!1!==e.timerIndicator){var l=function(t){var e;if("SeriesTimer"===t.Type)return'<span class="material-icons mediaInfoItem mediaInfoIconItem mediaInfoTimerIcon fiber_smart_record" aria-hidden="true"></span>';if(t.TimerId||t.SeriesTimerId)e=t.Status||"Cancelled";else{if("Timer"!==t.Type)return"";e=t.Status}return t.SeriesTimerId?"Cancelled"!==e?'<span class="material-icons mediaInfoItem mediaInfoIconItem mediaInfoTimerIcon fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons mediaInfoItem mediaInfoIconItem fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons mediaInfoItem mediaInfoIconItem mediaInfoTimerIcon fiber_manual_record" aria-hidden="true"></span>'}(t);l&&o.push({html:l})}return""+o.map((function(t){return y(t)})).join("")}(t,e):""}function v(t){var e=t.Width,a=t.Height;if(e&&a){if(e>=3800||a>=2e3)return"4K";if(e>=2500||a>=1400)return t.IsInterlaced?"1440i":"1440p";if(e>=1800||a>=1e3)return t.IsInterlaced?"1080i":"1080p";if(e>=1200||a>=700)return t.IsInterlaced?"720i":"720p";if(e>=700||a>=400)return t.IsInterlaced?"480i":"480p"}return null}e.Ay={getMediaInfoHtml:h,getEndsAt:u,getEndsAtFromPosition:m,getPrimaryMediaInfoHtml:h,getSecondaryMediaInfoHtml:I,fillPrimaryMediaInfo:function(t,e,a){var i=h(e,a);t.innerHTML=i,p(t,e,a)},fillSecondaryMediaInfo:function(t,e,a){var i=I(e,a);t.innerHTML=i,p(t,e,a)},getMediaInfoStats:function(t){var e=[],a=(((t.MediaSources||[])[0]||{}).MediaStreams||[]).filter((function(t){return"Video"===t.Type}))[0]||{},i=function(t){if(!t.MediaSources)return null;var e=t.MediaSources[0];return e?(e.MediaStreams||[]).filter((function(t){return"Audio"===t.Type&&(t.Index===e.DefaultAudioStreamIndex||null==e.DefaultAudioStreamIndex)}))[0]:null}(t)||{};"Dvd"===t.VideoType&&e.push({type:"mediainfo",text:"Dvd"}),"BluRay"===t.VideoType&&e.push({type:"mediainfo",text:"BluRay"});var r=v(a);r&&e.push({type:"mediainfo",text:r}),a.Codec&&e.push({type:"mediainfo",text:a.Codec});var s,d=i.Channels;8===d?s="7.1":7===d?s="6.1":6===d?s="5.1":2===d&&(s="2.0"),s&&e.push({type:"mediainfo",text:s});var c=(i.Codec||"").toLowerCase();if("dca"!==c&&"dts"!==c||!i.Profile?i.Codec&&e.push({type:"mediainfo",text:i.Codec}):e.push({type:"mediainfo",text:i.Profile}),t.DateCreated&&l.Ay.enableDateAddedDisplay(t)){var u=n.Ay.parseISO8601Date(t.DateCreated);e.push({type:"added",text:o.Ay.translate("AddedOnValue","".concat(n.Ay.toLocaleDateString(u)," ").concat(n.Ay.getDisplayTime(u)))})}return e},getResolutionText:v}}}]);