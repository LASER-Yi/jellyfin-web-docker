/*! For license information please see 45568.df44a7a7f00162e292eb.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[14510,45568],{4438:function(e,t,n){n.r(t),n.d(t,{getSetting:function(){return r},setSetting:function(){return a}});var o=n(90381),i="syncPlay";function r(e){return o.A.get(e,i)}function a(e,t){return o.A.set(e,t,i)}},45568:function(e,t,n){n.r(t),n(29305),n(32733),n(84701),n(81678),n(2623),n(44962),n(4754),n(10849),n(70389),n(94),n(36947),n(26437),n(52697),n(78557),n(90076),n(83994),n(82367);var o=n(4438),i=n(79754),r=n(46782),a=n(38829),c=n(8566),l=n(71866),s=n(5898),u=n(38783),d=n(44797);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function y(){var e,t,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function r(n,o,i,r){var l=o&&o.prototype instanceof c?o:c,s=Object.create(l.prototype);return v(s,"_invoke",function(n,o,i){var r,c,l,s=0,u=i||[],d=!1,f={p:0,n:0,v:e,a:y,f:y.bind(e,4),d:function(t,n){return r=t,c=0,l=e,f.n=n,a}};function y(n,o){for(c=n,l=o,t=0;!d&&s&&!i&&t<u.length;t++){var i,r=u[t],y=f.p,v=r[2];n>3?(i=v===o)&&(l=r[(c=r[4])?5:(c=3,3)],r[4]=r[5]=e):r[0]<=y&&((i=n<2&&y<r[1])?(c=0,f.v=o,f.n=r[1]):y<v&&(i=n<3||r[0]>o||o>v)&&(r[4]=n,r[5]=o,f.n=v,c=0))}if(i||n>1)return a;throw d=!0,o}return function(i,u,v){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&y(u,v),c=u,l=v;(t=c<2?e:l)||!d;){r||(c?c<3?(c>1&&(f.n=-1),y(c,l)):f.n=l:f.v=l);try{if(s=2,r){if(c||(i="next"),t=r[i]){if(!(t=t.call(r,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,c<2&&(c=0)}else 1===c&&(t=r.return)&&t.call(r),c<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),c=1);r=e}else if((t=(d=f.n<0)?l:n.call(o,f))!==a)break}catch(t){r=e,c=1,l=t}finally{s=1}}return{value:t,done:d}}}(n,i,r),!0),s}var a={};function c(){}function l(){}function s(){}t=Object.getPrototypeOf;var u=[][o]?t(t([][o]())):(v(t={},o,(function(){return this})),t),d=s.prototype=c.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,v(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=s,v(d,"constructor",s),v(s,"constructor",l),l.displayName="GeneratorFunction",v(s,i,"GeneratorFunction"),v(d),v(d,i,"Generator"),v(d,o,(function(){return this})),v(d,"toString",(function(){return"[object Generator]"})),(y=function(){return{w:r,m:f}})()}function v(e,t,n,o){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}v=function(e,t,n,o){if(t)i?i(e,t,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[t]=n;else{var r=function(t,n){v(e,t,(function(e){return this._invoke(t,n,e)}))};r("next",0),r("throw",1),r("return",2)}},v(e,t,n,o)}function h(e,t,n,o,i,r,a){try{var c=e[r](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(o,i)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var r=e.apply(t,n);function a(e){h(r,o,i,a,c,"next",e)}function c(e){h(r,o,i,a,c,"throw",e)}a(void 0)}))}}function S(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,m(o.key),o)}}function m(e){var t=function(e){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(t)?t:t+""}function b(e,t,o){Promise.resolve().then(n.bind(n,10838)).then((function(n){var i=o?"on":"off";n.centerFocus[i](e,t)}))}n(98959),n(63001),n(10353),n(15453),n(77157);var g=function(){return e=function e(t,n){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.apiClient=t,this.timeSyncCore=n,this.options=i,this.SyncPlay=null===(o=a.X.firstOfType(u.Q.SyncPlay))||void 0===o?void 0:o.instance},t=[{key:"embed",value:(m=p(y().m((function e(){var t,o,a,c=this;return y().w((function(e){for(;;)switch(e.n){case 0:return t={removeOnClose:!0,scrollY:!0},r.A.tv?t.size="fullscreen":t.size="small",this.context=i.default.createDialog(t),this.context.classList.add("formDialog"),e.n=1,n.e(18895).then(n.bind(n,70123));case 1:return o=e.v,a=o.default,this.context.innerHTML=s.Ay.translateHtml(a,"core"),this.context.querySelector("form").addEventListener("submit",(function(e){return e&&e.preventDefault(),!1})),this.context.querySelector(".btnSave").addEventListener("click",(function(){c.onSubmit()})),this.context.querySelector(".btnCancel").addEventListener("click",(function(){i.default.close(c.context)})),e.n=2,this.initEditor();case 2:return r.A.tv&&b(this.context.querySelector(".formDialogContent"),!1,!0),e.a(2,i.default.open(this.context).then((function(){return r.A.tv&&b(c.context.querySelector(".formDialogContent"),!1,!1),c.context.submitted?Promise.resolve():Promise.reject()})))}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"initEditor",value:(h=p(y().m((function e(){var t,n,o,i,r,a,c,l,s;return y().w((function(e){for(;;)switch(e.n){case 0:(s=this.context).querySelector("#txtExtraTimeOffset").value=null===(t=this.SyncPlay)||void 0===t?void 0:t.Manager.timeSyncCore.extraTimeOffset,s.querySelector("#chkSyncCorrection").checked=null===(n=this.SyncPlay)||void 0===n?void 0:n.Manager.playbackCore.enableSyncCorrection,s.querySelector("#txtMinDelaySpeedToSync").value=null===(o=this.SyncPlay)||void 0===o?void 0:o.Manager.playbackCore.minDelaySpeedToSync,s.querySelector("#txtMaxDelaySpeedToSync").value=null===(i=this.SyncPlay)||void 0===i?void 0:i.Manager.playbackCore.maxDelaySpeedToSync,s.querySelector("#txtSpeedToSyncDuration").value=null===(r=this.SyncPlay)||void 0===r?void 0:r.Manager.playbackCore.speedToSyncDuration,s.querySelector("#txtMinDelaySkipToSync").value=null===(a=this.SyncPlay)||void 0===a?void 0:a.Manager.playbackCore.minDelaySkipToSync,s.querySelector("#chkSpeedToSync").checked=null===(c=this.SyncPlay)||void 0===c?void 0:c.Manager.playbackCore.useSpeedToSync,s.querySelector("#chkSkipToSync").checked=null===(l=this.SyncPlay)||void 0===l?void 0:l.Manager.playbackCore.useSkipToSync;case 1:return e.a(2)}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"onSubmit",value:function(){this.save(),i.default.close(this.context)}},{key:"save",value:(v=p(y().m((function e(){return y().w((function(e){for(;;)switch(e.n){case 0:return c.Ay.show(),e.n=1,this.saveToAppSettings();case 1:c.Ay.hide(),(0,l.A)(s.Ay.translate("SettingsSaved")),d.A.trigger(this,"saved");case 2:return e.a(2)}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"saveToAppSettings",value:(f=p(y().m((function e(){var t,n,i,r,a,c,l,s,u,f;return y().w((function(e){for(;;)switch(e.n){case 0:n=this.context,i=n.querySelector("#txtExtraTimeOffset").value,r=n.querySelector("#chkSyncCorrection").checked,a=n.querySelector("#txtMinDelaySpeedToSync").value,c=n.querySelector("#txtMaxDelaySpeedToSync").value,l=n.querySelector("#txtSpeedToSyncDuration").value,s=n.querySelector("#txtMinDelaySkipToSync").value,u=n.querySelector("#chkSpeedToSync").checked,f=n.querySelector("#chkSkipToSync").checked,(0,o.setSetting)("extraTimeOffset",i),(0,o.setSetting)("enableSyncCorrection",r),(0,o.setSetting)("minDelaySpeedToSync",a),(0,o.setSetting)("maxDelaySpeedToSync",c),(0,o.setSetting)("speedToSyncDuration",l),(0,o.setSetting)("minDelaySkipToSync",s),(0,o.setSetting)("useSpeedToSync",u),(0,o.setSetting)("useSkipToSync",f),d.A.trigger(null===(t=this.SyncPlay)||void 0===t?void 0:t.Manager,"settings-update");case 1:return e.a(2)}}),e,this)}))),function(){return f.apply(this,arguments)})}],t&&S(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,f,v,h,m}();t.default=g},62882:function(e,t,n){n.r(t),n.d(t,{show:function(){return d}});var o=n(22696),i=n.n(o),r=n(79754),a=n(46782),c=n(5898),l=n(47629),s=(n(10353),function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")});function u(e,t,o){Promise.resolve().then(n.bind(n,10838)).then((function(n){var i=o?"on":"off";n.centerFocus[i](e,t)})).catch((function(e){console.warn("Error in centerFocus",e)}))}function d(e){var t,n,o,d={removeOnClose:!0,enableHistory:e.enableHistory,scrollY:!1};a.A.tv?(d.size="fullscreen",o=!0,d.autoFocus=!0):(d.modal=!1,d.entryAnimation=e.entryAnimation,d.exitAnimation=e.exitAnimation,d.entryAnimationDuration=e.entryAnimationDuration||140,d.exitAnimationDuration=e.exitAnimationDuration||100,d.autoFocus=!1);var f=r.default.createDialog(d);o?f.classList.add("actionsheet-fullscreen"):f.classList.add("actionsheet-not-fullscreen"),f.classList.add("actionSheet"),e.dialogClass&&f.classList.add(e.dialogClass);var y="",v=a.A.tv?"scrollY smoothScrollY hiddenScrollY":"scrollY",h="";e.items.length>20&&(h+="min-width:"+(l.Ay.getWindowSize().innerWidth>=300?240:200)+"px;");var p,S=!1,m=[];try{for(var b=s(e.items),g=b.next();!g.done;g=b.next())(p=(w=g.value).icon||(w.selected?"check":null))&&(S=!0),m.push(p||"")}catch(e){t={error:e}}finally{try{g&&!g.done&&(n=b.return)&&n.call(b)}finally{if(t)throw t.error}}a.A.tv&&(y+='<button is="paper-icon-button-light" class="btnCloseActionSheet hide-mouse-idle-tv" tabindex="-1" title="'.concat(c.Ay.translate("ButtonBack"),'">\n                     <span class="material-icons arrow_back" aria-hidden="true"></span>\n                 </button>'));var x=e.title&&!S;x||a.A.tv?y+='<div class="actionSheetContent actionSheetContent-centered">':y+='<div class="actionSheetContent">',e.title&&(y+='<h1 class="actionSheetTitle">'+i()(e.title)+"</h1>"),e.text&&(y+='<p class="actionSheetText">'+i()(e.text)+"</p>");var T="actionSheetScroller";a.A.tv&&(T+=" actionSheetScroller-tv focuscontainer-x focuscontainer-y"),y+='<div class="'+T+" "+v+'" style="'+h+'">';var A="listItem listItem-button actionSheetMenuItem";(e.border||e.shaded)&&(A+=" listItem-border"),e.menuItemClass&&(A+=" "+e.menuItemClass),a.A.tv&&(A+=" listItem-focusscale"),a.A.mobile&&(A+=" actionsheet-xlargeFont");for(var k=0;k<e.items.length;k++){var w;(w=e.items[k]).divider?y+='<div class="actionsheetDivider"></div>':(y+="<button"+(w.selected&&a.A.tv?" autoFocus":"")+' is="emby-button" type="button" class="'+A+'" data-id="'+(null==w.id||""===w.id?w.value:w.id)+'">',(p=m[k])?y+='<span class="actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons '.concat(p,'" aria-hidden="true"></span>'):S&&!x&&(y+='<span class="actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons check" aria-hidden="true" style="visibility:hidden;"></span>'),y+='<div class="listItemBody actionsheetListItemBody">',y+='<div class="listItemBodyText actionSheetItemText">',y+=i()(w.name||w.textContent||w.innerText),y+="</div>",w.secondaryText&&(y+='<div class="listItemBodyText secondary">'.concat(i()(w.secondaryText),"</div>")),y+="</div>",w.asideText&&(y+='<div class="listItemAside actionSheetItemAsideText">'.concat(i()(w.asideText),"</div>")),y+="</button>")}if(e.showCancel&&(y+='<div class="buttons">',y+='<button is="emby-button" type="button" class="btnCloseActionSheet">'.concat(c.Ay.translate("ButtonCancel"),"</button>"),y+="</div>"),y+="</div>",f.innerHTML=y,a.A.tv){var C=f.querySelector(".actionSheetScroller");C&&u(C,!1,!0)}var L=f.querySelector(".btnCloseActionSheet");L&&L.addEventListener("click",(function(){r.default.close(f)}));var D,E=null;return e.timeout&&(D=setTimeout((function(){r.default.close(f)}),e.timeout)),new Promise((function(t,n){var o=!1;f.addEventListener("click",(function(n){var i=l.Ay.parentWithClass(n.target,"actionSheetMenuItem");i&&(E=i.getAttribute("data-id"),e.resolveOnClick&&(Array.isArray(e.resolveOnClick)?-1!==e.resolveOnClick.indexOf(E)&&(t(E),o=!0):(t(E),o=!0)),r.default.close(f))})),f.addEventListener("close",(function(){if(a.A.tv){var i=f.querySelector(".actionSheetScroller");i&&u(i,!1,!1)}D&&(clearTimeout(D),D=void 0),o||(null!=E?(e.callback&&e.callback(E),t(E)):n(new Error("ActionSheet closed without resolving")))})),r.default.open(f).catch((function(e){console.warn("DialogHelper.open error",e)}));var i=e.positionTo&&"fullscreen"!==d.size?function(e,t,n){var o=l.Ay.getWindowSize(),i=o.innerHeight,r=o.innerWidth,a=function(e){var t,n,o=[];if(!document)return o;try{for(var i=s(e),r=i.next();!r.done;r=i.next()){var a=r.value.getBoundingClientRect();o.push({top:a.top,left:a.left,width:a.width,height:a.height})}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o}([e])[0];"top"!==t.positionY&&(a.top+=(a.height||0)/2),a.left+=(a.width||0)/2;var c=n.offsetHeight||300,u=n.offsetWidth||160;a.top-=c/2,a.left-=u/2;var d=a.left+u-r,f=a.top+c-i;return d>0&&(a.left-=d+20),f>0&&(a.top-=f+20),a.top+=t.offsetTop||0,a.left+=t.offsetLeft||0,a.top=Math.max(a.top,10),a.left=Math.max(a.left,10),a}(e.positionTo,e,f):null;i&&(f.style.position="fixed",f.style.margin="0",f.style.left=i.left+"px",f.style.top=i.top+"px")}))}t.default={show:d}},63001:function(e,t,n){var o=n(46782),i=n(34789),r=n(62882),a=(n(69177),Object.create(HTMLSelectElement.prototype));function c(){return!(!i.A.edgeUwp&&!i.A.xboxOne&&(i.A.tizen||i.A.orsay||i.A.web0s||!i.A.tv&&o.A.tv))}function l(e){var t=s(e),n=t?t.textContent||t.innerText:null;r.default.show({items:e.options,positionTo:e,title:n}).then((function(t){!function(e,t){e.value=t}(e,t),function(e){var t=new Event("change",{bubbles:!1,cancelable:!0});e.dispatchEvent(t)}(e)}))}function s(e){for(var t=e.previousSibling;t&&"LABEL"!==t.tagName;)t=t.previousSibling;return t}function u(){var e=s(this);e&&e.classList.add("selectLabelFocused")}function d(){var e=s(this);e&&e.classList.remove("selectLabelFocused")}function f(e){e.button||c()||(e.preventDefault(),l(this))}function y(e){13!==e.keyCode||c()||(e.preventDefault(),l(this))}var v=0;a.createdCallback=function(){this.id||(this.id="embyselect"+v,v++),this.classList.add("emby-select-withcolor"),o.A.tv&&this.classList.add("emby-select-focusscale"),this.addEventListener("mousedown",f),this.addEventListener("keydown",y),this.addEventListener("focus",u),this.addEventListener("blur",d)},a.attachedCallback=function(){var e;if(!this.classList.contains("emby-select")){this.classList.add("emby-select");var t,n=this.ownerDocument.createElement("label");n.innerText=this.getAttribute("label")||"",n.classList.add("selectLabel"),n.htmlFor=this.id,null===(e=this.parentNode)||void 0===e||e.insertBefore(n,this),this.classList.contains("emby-select-withcolor")&&(null===(t=this.parentNode)||void 0===t||t.insertAdjacentHTML("beforeend",'<div class="selectArrowContainer"><div style="visibility:hidden;display:none;">0</div><span class="selectArrow material-icons keyboard_arrow_down" aria-hidden="true"></span></div>'))}},a.setLabel=function(e){var t;(null===(t=this.parentNode)||void 0===t?void 0:t.querySelector("label")).innerText=e},document.registerElement("emby-select",{prototype:a,extends:"select"})}}]);