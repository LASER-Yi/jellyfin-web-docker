"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[29575],{86746:function(n,e,r){var t;r.d(e,{k:function(){return t}}),function(n){n.ConfigurationPages="ConfigurationPages",n.PackageInfo="PackageInfo",n.Plugins="Plugins"}(t||(t={}))},61408:function(n,e,r){r.d(e,{q:function(){return u}});var t=r(39599),i=r(8280),o=r(61586),l=r(14847),a=r(86746),s=function(n,e){return(0,i.j)({queryKey:[a.k.ConfigurationPages,null==e?void 0:e.enableInMainMenu],queryFn:function(r){var i=r.signal;return function(n,e,r){return i=void 0,o=void 0,a=function(){return function(n,e){var r,t,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(l=0)),l;)try{if(r=1,t&&(i=2&a[0]?t.return:a[0]?t.throw||((i=t.return)&&i.call(t),0):t.next)&&!(i=i.call(t,a[1])).done)return i;switch(t=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,t=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){l.label=a[1];break}if(6===a[0]&&l.label<i[1]){l.label=i[1],i=a;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(a);break}i[2]&&l.ops.pop(),l.trys.pop();continue}a=e.call(n,l)}catch(n){a=[6,n],t=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(i){switch(i.label){case 0:return n?[4,(0,t.T)(n).getConfigurationPages(e,r)]:(console.warn("[fetchConfigurationPages] No API instance available"),[2,[]]);case 1:return[2,i.sent().data]}}))},new((l=void 0)||(l=Promise))((function(n,e){function r(n){try{s(a.next(n))}catch(n){e(n)}}function t(n){try{s(a.throw(n))}catch(n){e(n)}}function s(e){var i;e.done?n(e.value):(i=e.value,i instanceof l?i:new l((function(n){n(i)}))).then(r,t)}s((a=a.apply(i,o||[])).next())}));var i,o,l,a}(n,e,{signal:i})},enabled:!!n})},u=function(n){var e=(0,l.gf)().api;return(0,o.I)(s(e,n))}},28525:function(n,e,r){r.r(e),r.d(e,{default:function(){return vn}});var t=r(62540),i=r(31110),o=r(51890),l=r(77890),a=r(75437),s=r(37538),u=r(42974),c=r(55641),f=r(70019),d=r(58765),v=r(34315),g=r(99851),y=r(16638),p=r(53325),h=r(44572),b=r(63696),m=r(87404),x=r(9055),j=function(n,e){var r=n.filter((function(n){return n.PluginId===e}));if(0!==r.length)return 1===r.length?r[0]:r.find((function(n){return!!n.EnableInMainMenu}))||r[0]},A=r(61408),P=r(96315),w=r(38596),k=r(14847),S=r(85427),I=r(86746),O=r(21787),C=r(8280),E=r(61586),U=function(n,e){return(0,C.j)({retry:!1,queryKey:[I.k.PackageInfo,null==e?void 0:e.name,null==e?void 0:e.assemblyGuid],queryFn:function(r){var t=r.signal;return function(n,e,r){return t=void 0,i=void 0,l=function(){return function(n,e){var r,t,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(l=0)),l;)try{if(r=1,t&&(i=2&a[0]?t.return:a[0]?t.throw||((i=t.return)&&i.call(t),0):t.next)&&!(i=i.call(t,a[1])).done)return i;switch(t=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,t=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){l.label=a[1];break}if(6===a[0]&&l.label<i[1]){l.label=i[1],i=a;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(a);break}i[2]&&l.ops.pop(),l.trys.pop();continue}a=e.call(n,l)}catch(n){a=[6,n],t=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(t){switch(t.label){case 0:return n?e?[4,(0,O.N)(n).getPackageInfo(e,r)]:(console.warn("[fetchPackageInfo] Missing request params"),[2]):(console.warn("[fetchPackageInfo] No API instance available"),[2]);case 1:return[2,t.sent().data]}}))},new((o=void 0)||(o=Promise))((function(n,e){function r(n){try{s(l.next(n))}catch(n){e(n)}}function a(n){try{s(l.throw(n))}catch(n){e(n)}}function s(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(n){n(t)}))).then(r,a)}s((l=l.apply(t,i||[])).next())}));var t,i,o,l}(n,e,{signal:t})},enabled:!!n&&!!(null==e?void 0:e.name)})},L=function(n){return(0,C.j)({queryKey:[I.k.Plugins],queryFn:function(e){var r=e.signal;return function(n,e){return r=void 0,t=void 0,o=function(){return function(n,e){var r,t,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(l=0)),l;)try{if(r=1,t&&(i=2&a[0]?t.return:a[0]?t.throw||((i=t.return)&&i.call(t),0):t.next)&&!(i=i.call(t,a[1])).done)return i;switch(t=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,t=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){l.label=a[1];break}if(6===a[0]&&l.label<i[1]){l.label=i[1],i=a;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(a);break}i[2]&&l.ops.pop(),l.trys.pop();continue}a=e.call(n,l)}catch(n){a=[6,n],t=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(r){switch(r.label){case 0:return n?[4,(0,P.p)(n).getPlugins(e)]:(console.warn("[fetchPlugins] No API instance available"),[2,[]]);case 1:return[2,r.sent().data]}}))},new((i=void 0)||(i=Promise))((function(n,e){function l(n){try{s(o.next(n))}catch(n){e(n)}}function a(n){try{s(o.throw(n))}catch(n){e(n)}}function s(e){var r;e.done?n(e.value):(r=e.value,r instanceof i?r:new i((function(n){n(r)}))).then(l,a)}s((o=o.apply(r,t||[])).next())}));var r,t,i,o}(n,{signal:r})},enabled:!!n})},q=r(8676),K=function(n){var e=n.isLoading,r=n.alt,i=n.url;return(0,t.jsxs)(q.A,{sx:{width:"100%",aspectRatio:16/9,overflow:"hidden"},children:[e&&(0,t.jsx)(f.A,{variant:"rectangular",width:"100%",height:"100%"}),i&&(0,t.jsx)("img",{src:i,alt:r,width:"100%"})]})},B=r(76007),N=r(24411),D=r(89262),R=r(65692),T=r(53216),M=r(19056),F=r(9482),H=function(){return H=Object.assign||function(n){for(var e,r=1,t=arguments.length;r<t;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},H.apply(this,arguments)},G=function(n){var e,r,i=n.isPluginLoading,o=n.isRepositoryLoading,l=n.pluginDetails,a=function(n,e){var r={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.indexOf(t)<0&&(r[t]=n[t]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(t=Object.getOwnPropertySymbols(n);i<t.length;i++)e.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(n,t[i])&&(r[t[i]]=n[t[i]])}return r}(n,["isPluginLoading","isRepositoryLoading","pluginDetails"]);return(0,t.jsx)(T.A,H({component:q.A},a,{children:(0,t.jsx)(N.A,{children:(0,t.jsxs)(D.A,{children:[(0,t.jsxs)(M.A,{children:[(0,t.jsx)(R.A,{variant:"head",children:F.Ay.translate("LabelStatus")}),(0,t.jsx)(R.A,{children:i&&(0,t.jsx)(f.A,{})||(null==l?void 0:l.status)||F.Ay.translate("LabelNotInstalled")})]}),(0,t.jsxs)(M.A,{children:[(0,t.jsx)(R.A,{variant:"head",children:F.Ay.translate("LabelVersion")}),(0,t.jsx)(R.A,{children:i&&(0,t.jsx)(f.A,{})||(null===(e=null==l?void 0:l.version)||void 0===e?void 0:e.version)})]}),(0,t.jsxs)(M.A,{children:[(0,t.jsx)(R.A,{variant:"head",children:F.Ay.translate("LabelDeveloper")}),(0,t.jsx)(R.A,{children:o&&(0,t.jsx)(f.A,{})||(null==l?void 0:l.owner)||F.Ay.translate("Unknown")})]}),(0,t.jsxs)(M.A,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,t.jsx)(R.A,{variant:"head",children:F.Ay.translate("LabelRepository")}),(0,t.jsx)(R.A,{children:o&&(0,t.jsx)(f.A,{})||(null===(r=null==l?void 0:l.version)||void 0===r?void 0:r.repositoryUrl)&&(0,t.jsx)(B.A,{component:x.N_,to:l.version.repositoryUrl,target:"_blank",rel:"noopener noreferrer",children:l.version.repositoryName})||F.Ay.translate("Unknown")})]})]})})}))},V=r(38837),Q=r(79636),_=r(25971),W=r(50974),z=r(75593),$=r(5271),J=r(31234),X=r.n(J),Y=r(47593),Z=function(n){var e=n.markdown,r=n.fallback;return(0,t.jsx)($.A,{dangerouslySetInnerHTML:e?{__html:X().sanitize((0,Y.A)({html:!0}).render(e))}:void 0,sx:{"> :first-child /* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */":{marginTop:0,paddingTop:0},"> :last-child":{marginBottom:0,paddingBottom:0}},children:e?void 0:r})},nn=r(98320),en=function(n){var e,r=n.pluginDetails,i=n.onInstall;return null===(e=null==r?void 0:r.versions)||void 0===e?void 0:e.map((function(n){var e;return(0,t.jsxs)(_.A,{children:[(0,t.jsxs)(z.A,{expandIcon:(0,t.jsx)(Q.A,{}),children:[n.version,n.timestamp&&(0,t.jsxs)(t.Fragment,{children:[" — ",(0,nn.Rt)((0,nn.mk)(n.timestamp))]})]}),(0,t.jsx)(W.A,{children:(0,t.jsxs)(d.A,{spacing:2,children:[(0,t.jsx)(Z,{fallback:F.Ay.translate("LabelNoChangelog"),markdown:n.changelog}),r.status&&n.version===(null===(e=r.version)||void 0===e?void 0:e.version)?(0,t.jsx)(l.A,{disabled:!0,startIcon:(0,t.jsx)(V.A,{}),variant:"outlined",children:F.Ay.translate("LabelInstalled")}):(0,t.jsx)(l.A,{startIcon:(0,t.jsx)(p.A,{}),variant:"outlined",onClick:i(n),children:F.Ay.translate("HeaderInstall")})]})})]},n.checksum)}))},rn=r(68577),tn=r(60545),on=r(48451),ln=r(47997),an=r(19949),sn=function(){return sn=Object.assign||function(n){for(var e,r=1,t=arguments.length;r<t;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},sn.apply(this,arguments)},un=function(n){var e=n.confirmButtonColor,r=void 0===e?"primary":e,i=n.confirmButtonText,o=n.title,a=n.text,s=n.onCancel,u=n.onConfirm,c=function(n,e){var r={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.indexOf(t)<0&&(r[t]=n[t]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(t=Object.getOwnPropertySymbols(n);i<t.length;i++)e.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(n,t[i])&&(r[t[i]]=n[t[i]])}return r}(n,["confirmButtonColor","confirmButtonText","title","text","onCancel","onConfirm"]);return(0,t.jsxs)(rn.A,sn({},c,{children:[(0,t.jsx)(an.A,{children:o}),(0,t.jsx)(on.A,{children:(0,t.jsx)(ln.A,{children:a})}),(0,t.jsxs)(tn.A,{children:[(0,t.jsx)(l.A,{variant:"text",onClick:s,children:F.Ay.translate("ButtonCancel")}),(0,t.jsx)(l.A,{color:r,onClick:u,children:i||F.Ay.translate("ButtonOk")})]})]}))},cn=r(7397),fn=r(89100),dn=function(n,e){var r="function"==typeof Symbol&&n[Symbol.iterator];if(!r)return n;var t,i,o=r.call(n),l=[];try{for(;(void 0===e||e-- >0)&&!(t=o.next()).done;)l.push(t.value)}catch(n){i={error:n}}finally{try{t&&!t.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return l},vn=function(){var n,e,r=(0,k.gf)().api,C=(0,m.g)().pluginId,q=dn((0,x.ok)(),1)[0],B=function(){var n=(0,k.gf)().api;return(0,w.n)({mutationFn:function(e){return(0,P.p)(n).disablePlugin(e)},onSuccess:function(){S.q.invalidateQueries({queryKey:[I.k.Plugins]})}})}(),N=function(){var n=(0,k.gf)().api;return(0,w.n)({mutationFn:function(e){return(0,P.p)(n).enablePlugin(e)},onSuccess:function(){S.q.invalidateQueries({queryKey:[I.k.Plugins]})}})}(),D=function(){var n=(0,k.gf)().api;return(0,w.n)({mutationFn:function(e){return(0,O.N)(n).installPackage(e)},onSuccess:function(){S.q.invalidateQueries({queryKey:[I.k.ConfigurationPages]}),S.q.invalidateQueries({queryKey:[I.k.Plugins]})}})}(),R=function(){var n=(0,k.gf)().api;return(0,w.n)({mutationFn:function(e){return(0,P.p)(n).uninstallPluginByVersion(e)},onSuccess:function(){S.q.invalidateQueries({queryKey:[I.k.Plugins]}),S.q.invalidateQueries({queryKey:[I.k.ConfigurationPages]})}})}(),T=dn((0,b.useState)(),2),M=T[0],H=T[1],V=dn((0,b.useState)(!1),2),Q=V[0],_=V[1],W=dn((0,b.useState)(!1),2),z=W[0],$=W[1],J=dn((0,b.useState)(),2),X=J[0],Y=J[1],Z=null!==(n=q.get("name"))&&void 0!==n?n:void 0,nn=(0,A.q)(),rn=nn.data,tn=nn.isError,on=nn.isLoading,ln=function(n){var e=(0,k.gf)().api;return(0,E.I)(U(e,n))}(Z?{name:Z,assemblyGuid:C}:void 0),an=ln.data,sn=ln.isError,vn=ln.isLoading,gn=function(){var n=(0,k.gf)().api;return(0,E.I)(L(n))}(),yn=gn.data,pn=gn.isLoading,hn=gn.isError,bn=on||vn||pn,mn=(0,b.useMemo)((function(){var n,e,t;if(C&&!pn){var o=function(n,e){if(e){var r=e.filter((function(e){return e.Id===n})),t=null==r?void 0:r[0];return r.length>1&&(r.find((function(n){return n.Status===i.u.Disabled}))||r.find((function(n){return n.Status===i.u.Restart})))||t}}(C,yn),l=void 0;l=o?(null===(n=null==an?void 0:an.versions)||void 0===n?void 0:n.find((function(n){return n.version===o.Version})))||{version:o.Version,VersionNumber:o.Version}:null===(e=null==an?void 0:an.versions)||void 0===e?void 0:e[0];var a=void 0;return(null==o?void 0:o.HasImage)&&(a=function(n,e){if(e)return e.axiosInstance.getUri({baseURL:e.basePath,url:n})}("/Plugins/".concat(o.Id,"/").concat(o.Version,"/Image"),r)),{canUninstall:!!(null==o?void 0:o.CanUninstall),description:(null==o?void 0:o.Description)||(null==an?void 0:an.description)||(null==an?void 0:an.overview),id:C,imageUrl:a||(null==an?void 0:an.imageUrl)||void 0,isEnabled:null!==(t=M&&(null==o?void 0:o.Status)===i.u.Restart)&&void 0!==t?t:(null==o?void 0:o.Status)!==i.u.Disabled,name:Z||(null==o?void 0:o.Name)||(null==an?void 0:an.name),owner:null==an?void 0:an.owner,status:null==o?void 0:o.Status,configurationPage:j(rn||[],C),version:l,versions:(null==an?void 0:an.versions)||[]}}}),[r,rn,M,pn,null==an?void 0:an.description,null==an?void 0:an.imageUrl,null==an?void 0:an.name,null==an?void 0:an.overview,null==an?void 0:an.owner,null==an?void 0:an.versions,C,Z,yn]),xn=(0,b.useMemo)((function(){var n=[];return B.isError&&n.push({messageKey:"PluginDisableError"}),N.isError&&n.push({messageKey:"PluginEnableError"}),D.isSuccess&&n.push({severity:"success",messageKey:"MessagePluginInstalled"}),D.isError&&n.push({messageKey:"MessagePluginInstallError"}),R.isError&&n.push({messageKey:"PluginUninstallError"}),tn&&n.push({messageKey:"PluginLoadConfigError"}),sn&&n.push({severity:"warning",messageKey:"PluginLoadRepoError"}),hn&&n.push({messageKey:"MessageGetInstalledPluginsError"}),n}),[B.isError,N.isError,D.isError,D.isSuccess,tn,sn,hn,R.isError]),jn=(0,b.useCallback)((function(){var n;(null===(n=null==mn?void 0:mn.version)||void 0===n?void 0:n.version)&&(console.debug("[PluginPage] %s plugin",mn.isEnabled?"disabling":"enabling",mn),mn.isEnabled?B.mutate({pluginId:mn.id,version:mn.version.version},{onSuccess:function(){H(!1)},onSettled:function(){D.reset(),N.reset(),R.reset()}}):N.mutate({pluginId:mn.id,version:mn.version.version},{onSuccess:function(){H(!0)},onSettled:function(){D.reset(),B.reset(),R.reset()}}))}),[B,N,D,mn,R]),An=(0,b.useCallback)((function(n,e){return void 0===e&&(e=!1),function(){var r;if(null==mn?void 0:mn.name){var t=n||mn.version;if(t){if(!e&&!(null===(r=t.repositoryUrl)||void 0===r?void 0:r.startsWith("https://repo.jellyfin.org/")))return console.debug("[PluginPage] plugin install needs confirmed",t),Y(t),void _(!0);console.debug("[PluginPage] installing plugin",t),D.mutate({name:mn.name,assemblyGuid:mn.id,version:t.version,repositoryUrl:t.repositoryUrl},{onSettled:function(){Y(void 0),B.reset(),N.reset(),R.reset()}})}}}}),[B,N,D,mn,R]),Pn=(0,b.useCallback)((function(){console.debug("[PluginPage] confirmed installing plugin",X),_(!1),An(X,!0)()}),[An,X]),wn=(0,b.useCallback)((function(){Y(void 0),_(!1)}),[]),kn=(0,b.useCallback)((function(){$(!0)}),[]),Sn=(0,b.useCallback)((function(){var n;(null===(n=null==mn?void 0:mn.version)||void 0===n?void 0:n.version)&&(console.debug("[PluginPage] uninstalling plugin",mn),$(!1),R.mutate({pluginId:mn.id,version:mn.version.version},{onSettled:function(){B.reset(),N.reset(),D.reset()}}))}),[B,N,D,mn,R]),In=(0,b.useCallback)((function(){$(!1)}),[]);return(0,t.jsxs)(cn.A,{id:"addPluginPage",className:"mainAnimatedPage type-interior",children:[(0,t.jsxs)(a.A,{className:"content-primary",children:[xn.map((function(n){var e=n.severity,r=void 0===e?"error":e,i=n.messageKey;return(0,t.jsx)(o.A,{severity:r,children:F.Ay.translate(i)},i)})),(0,t.jsxs)(c.Ay,{container:!0,spacing:2,sx:{marginTop:0},children:[(0,t.jsx)(c.Ay,{item:!0,xs:12,lg:8,children:(0,t.jsxs)(d.A,{spacing:2,children:[(0,t.jsx)(g.A,{variant:"h1",children:(null==mn?void 0:mn.name)||Z}),(0,t.jsx)(g.A,{sx:{maxWidth:"80ch"},children:bn&&!(null==mn?void 0:mn.description)?(0,t.jsx)(f.A,{}):null==mn?void 0:mn.description})]})}),(0,t.jsx)(c.Ay,{item:!0,lg:4,sx:{display:{xs:"none",lg:"initial"}},children:(0,t.jsx)(K,{isLoading:bn,alt:null==mn?void 0:mn.name,url:null==mn?void 0:mn.imageUrl})}),(0,t.jsx)(c.Ay,{item:!0,xs:12,lg:8,sx:{order:{xs:1,lg:"initial"}},children:!!(null==mn?void 0:mn.versions.length)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.A,{variant:"h3",sx:{marginBottom:2},children:F.Ay.translate("HeaderRevisionHistory")}),(0,t.jsx)(en,{pluginDetails:mn,onInstall:An})]})}),(0,t.jsx)(c.Ay,{item:!0,xs:12,lg:4,children:(0,t.jsxs)(d.A,{spacing:2,direction:{xs:"column",sm:"row-reverse",lg:"column"},children:[(0,t.jsxs)(d.A,{spacing:1,sx:{flexBasis:"50%"},children:[!bn&&!(null==mn?void 0:mn.status)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.A,{severity:"info",children:F.Ay.translate("ServerRestartNeededAfterPluginInstall")}),(0,t.jsx)(l.A,{startIcon:(0,t.jsx)(p.A,{}),onClick:An(),children:F.Ay.translate("HeaderInstall")})]}),!bn&&(null==mn?void 0:mn.canUninstall)&&(0,t.jsx)(u.A,{children:(0,t.jsx)(s.A,{control:(0,t.jsx)(v.A,{checked:mn.isEnabled,onChange:jn,disabled:mn.status===i.u.Restart}),label:F.Ay.translate("LabelEnablePlugin")})}),!bn&&(null===(e=null==mn?void 0:mn.configurationPage)||void 0===e?void 0:e.Name)&&(0,t.jsx)(l.A,{component:x.N_,to:"/".concat((0,fn.getPluginUrl)(mn.configurationPage.Name)),startIcon:(0,t.jsx)(h.A,{}),children:F.Ay.translate("Settings")}),!bn&&(null==mn?void 0:mn.canUninstall)&&(0,t.jsx)(l.A,{color:"error",startIcon:(0,t.jsx)(y.A,{}),onClick:kn,children:F.Ay.translate("ButtonUninstall")})]}),(0,t.jsx)(G,{isPluginLoading:pn,isRepositoryLoading:vn,pluginDetails:mn,sx:{flexBasis:"50%"}})]})})]})]}),(0,t.jsx)(un,{open:Q,title:F.Ay.translate("HeaderConfirmPluginInstallation"),text:F.Ay.translate("MessagePluginInstallDisclaimer"),onCancel:wn,onConfirm:Pn,confirmButtonText:F.Ay.translate("HeaderInstall")}),(0,t.jsx)(un,{open:z,title:F.Ay.translate("HeaderUninstallPlugin"),text:F.Ay.translate("UninstallPluginConfirmation",Z||""),onCancel:In,onConfirm:Sn,confirmButtonColor:"error",confirmButtonText:F.Ay.translate("ButtonUninstall")})]})}},22633:function(n,e,r){r.d(e,{A:function(){return a}});var t=r(47919),i=r(12863),o=r(16438),l=r(52772);function a(n){return(0,t.A)(n)||(0,i.A)(n)||(0,o.A)(n)||(0,l.A)()}},38596:function(n,e,r){r.d(e,{n:function(){return v}}),r(29305),r(32733),r(84701),r(81678),r(14382),r(69892),r(44962),r(89336),r(4754),r(94),r(33087),r(36947),r(36457),r(88908),r(83810),r(78557),r(95021),r(73687),r(83994),r(23630),r(82367);var t=r(63696),i=r(427),o=r(52672),l=r(9790),a=r(64125);function s(n){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},s(n)}function u(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function c(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){f(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}function f(n,e,r){return(e=function(n){var e=function(n,e){if("object"!=s(n)||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var t=r.call(n,"string");if("object"!=s(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==s(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function d(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=Array(e);r<e;r++)t[r]=n[r];return t}function v(n,e){var r,s,u=(0,l.jE)(e),f=(r=t.useState((function(){return new i._(u,n)})),s=1,function(n){if(Array.isArray(n))return n}(r)||function(n,e){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var t,i,o,l,a=[],s=!0,u=!1;try{if(o=(r=r.call(n)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(t=o.call(r)).done)&&(a.push(t.value),a.length!==e);s=!0);}catch(n){u=!0,i=n}finally{try{if(!s&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw i}}return a}}(r,s)||function(n,e){if(n){if("string"==typeof n)return d(n,e);var r={}.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(n,e):void 0}}(r,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];t.useEffect((function(){f.setOptions(n)}),[f,n]);var v=t.useSyncExternalStore(t.useCallback((function(n){return f.subscribe(o.j.batchCalls(n))}),[f]),(function(){return f.getCurrentResult()}),(function(){return f.getCurrentResult()})),g=t.useCallback((function(n,e){f.mutate(n,e).catch(a.l)}),[f]);if(v.error&&(0,a.G)(f.options.throwOnError,[v.error]))throw v.error;return c(c({},v),{},{mutate:g,mutateAsync:v.mutate})}}}]);