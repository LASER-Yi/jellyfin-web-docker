(self.webpackChunk=self.webpackChunk||[]).push([[92016,7293],{24102:function(e,t,n){"use strict";var a=n(61693),i=n(21776);function r(e){return"Video"===e.MediaType&&"TvChannel"!==e.Type||"AudioBook"===e.Type||"AudioPodcast"===e.Type}function s(e,t){var n="itemProgressBar";return t&&t.containerClass&&(n+=" "+t.containerClass),'<div class="'+n+'"><div class="itemProgressBarForeground" style="width:'+e+'%;"></div></div>'}function o(e){return i.ZP.canMarkPlayed(e)}n(55005),t.ZP={getProgressHtml:s,getProgressBarHtml:function(e,t){var n;if(r(e)&&"Recording"!==e.Type){var i=t&&t.userData?t.userData:e.UserData;if(i&&(n=i.PlayedPercentage)&&n<100)return s(n,t)}if(("Program"===e.Type||"Timer"===e.Type||"Recording"===e.Type)&&e.StartDate&&e.EndDate){var o=0,c=1;try{o=a.ZP.parseISO8601Date(e.StartDate).getTime(),c=a.ZP.parseISO8601Date(e.EndDate).getTime()}catch(e){console.error(e)}if((n=((new Date).getTime()-o)/(c-o)*100)>0&&n<100)return function(e,t,n,a,i){var r="itemProgressBar";t&&t.containerClass&&(r+=" "+t.containerClass);var s="itemProgressBarForeground";return n&&(s+=" itemProgressBarForeground-recording"),'<div is="emby-progressbar" data-automode="time" data-starttime="'+a+'" data-endtime="'+i+'" class="'+r+'"><div class="'+s+'" style="width:'+e+'%;"></div></div>'}(n,t,"Timer"===e.Type||"Recording"===e.Type||e.TimerId,o,c)}return""},getPlayedIndicatorHtml:function(e){if(o(e)){var t=e.UserData||{};if(t.UnplayedItemCount)return'<div class="countIndicator indicator">'+a.ZP.toLocaleString(t.UnplayedItemCount)+"</div>";if(t.PlayedPercentage&&t.PlayedPercentage>=100||t.Played)return'<div class="playedIndicator indicator"><span class="material-icons indicatorIcon check" aria-hidden="true"></span></div>'}return""},getChildCountIndicatorHtml:function(e,t){var n=t&&t.minCount?t.minCount:0;return e.ChildCount&&e.ChildCount>n?'<div class="countIndicator indicator">'+a.ZP.toLocaleString(e.ChildCount)+"</div>":""},enableProgressIndicator:r,getTimerIndicator:function(e){var t;if("SeriesTimer"===e.Type)return'<span class="material-icons timerIndicator indicatorIcon fiber_smart_record" aria-hidden="true"></span>';if(e.TimerId||e.SeriesTimerId)t=e.Status||"Cancelled";else{if("Timer"!==e.Type)return"";t=e.Status}return e.SeriesTimerId?"Cancelled"!==t?'<span class="material-icons timerIndicator indicatorIcon fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons timerIndicator timerIndicator-inactive indicatorIcon fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons timerIndicator indicatorIcon fiber_manual_record" aria-hidden="true"></span>'},enablePlayedIndicator:o,getSyncIndicator:function(e){return 100===e.SyncPercent?'<div class="syncIndicator indicator fullSyncIndicator"><span class="material-icons indicatorIcon file_download" aria-hidden="true"></span></div>':null!=e.SyncPercent?'<div class="syncIndicator indicator emptySyncIndicator"><span class="material-icons indicatorIcon file_download" aria-hidden="true"></span></div>':""},getTypeIndicator:function(e){var t={Video:"videocam",Folder:"folder",PhotoAlbum:"photo_album",Photo:"photo"}[e.Type];return t?'<div class="indicator videoIndicator"><span class="material-icons indicatorIcon '+t+'" aria-hidden="true"></span></div>':""},getMissingIndicator:function(e){if("Episode"===e.Type&&"Virtual"===e.LocationType){if(e.PremiereDate)try{if(a.ZP.parseISO8601Date(e.PremiereDate).getTime()>(new Date).getTime())return'<div class="unairedIndicator">Unaired</div>'}catch(e){console.error(e)}return'<div class="missingIndicator">Missing</div>'}return""}}},70350:function(e,t,n){"use strict";n(23938),n(61013),n(76056),n(98010),n(63238);var a=n(65009),i=n.n(a),r=n(61693),s=n(94994),o=n(52050),c=n(21776),l=n(24102),d=(n(38228),n(60934));function u(e){var t,n,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u="",v=[],h="MusicAlbum"===e.Type||"MusicArtist"===e.MediaType||"Playlist"===e.Type||"Playlist"===e.MediaType||"MusicGenre"===e.MediaType;if(h?((a=e.SongCount||e.ChildCount)&&v.push(s.ZP.translate("TrackCount",a)),e.RunTimeTicks&&v.push(r.ZP.getDisplayDuration(e.RunTimeTicks))):"PhotoAlbum"!==e.Type&&"BoxSet"!==e.Type||(a=e.ChildCount)&&v.push(s.ZP.translate("ItemCount",a)),("Episode"===e.Type||"Photo"===e.MediaType)&&!1!==o.originalAirDate&&e.PremiereDate)try{n=r.ZP.parseISO8601Date(e.PremiereDate,"Episode"!==e.Type),t=r.ZP.toLocaleDateString(n),v.push(t)}catch(t){console.error("error parsing date:",e.PremiereDate)}if("SeriesTimer"===e.Type&&(e.RecordAnyTime?v.push(s.ZP.translate("Anytime")):v.push(r.ZP.getDisplayTime(e.StartDate)),e.RecordAnyChannel?v.push(s.ZP.translate("AllChannels")):v.push(e.ChannelName||s.ZP.translate("OneChannel"))),e.StartDate&&"Program"!==e.Type&&"SeriesTimer"!==e.Type&&"Timer"!==e.Type)try{n=r.ZP.parseISO8601Date(e.StartDate),t=r.ZP.toLocaleDateString(n),v.push(t),"Recording"!==e.Type&&(t=r.ZP.getDisplayTime(n),v.push(t))}catch(t){console.error("error parsing date:",e.StartDate)}if(!1!==o.year&&e.ProductionYear&&"Series"===e.Type)if("Continuing"===e.Status)v.push(s.ZP.translate("SeriesYearToPresent",r.ZP.toLocaleString(e.ProductionYear,{useGrouping:!1})));else if(e.ProductionYear){if(t=r.ZP.toLocaleString(e.ProductionYear,{useGrouping:!1}),e.EndDate)try{var g=r.ZP.toLocaleString(r.ZP.parseISO8601Date(e.EndDate).getFullYear(),{useGrouping:!1});g!==e.ProductionYear&&(t+="-".concat(g))}catch(t){console.error("error parsing date:",e.EndDate)}v.push(t)}if("Program"===e.Type||"Timer"===e.Type){var y=e;if("Timer"===e.Type&&(y=e.ProgramInfo),!1!==o.programIndicator&&(y.IsLive&&"true"===d.get("guide-indicator-live")?v.push({html:'<div class="mediaInfoProgramAttribute mediaInfoItem liveTvProgram">'.concat(s.ZP.translate("Live"),"</div>")}):y.IsPremiere&&"true"===d.get("guide-indicator-premiere")?v.push({html:'<div class="mediaInfoProgramAttribute mediaInfoItem premiereTvProgram">'.concat(s.ZP.translate("Premiere"),"</div>")}):y.IsSeries&&!y.IsRepeat&&"true"===d.get("guide-indicator-new")?v.push({html:'<div class="mediaInfoProgramAttribute mediaInfoItem newTvProgram">'.concat(s.ZP.translate("New"),"</div>")}):y.IsSeries&&y.IsRepeat&&"true"===d.get("guide-indicator-repeat")&&v.push({html:'<div class="mediaInfoProgramAttribute mediaInfoItem repeatTvProgram">'.concat(s.ZP.translate("Repeat"),"</div>")})),(y.IsSeries||y.EpisodeTitle)&&!1!==o.episodeTitle)(t=c.ZP.getDisplayName(y,{includeIndexNumber:o.episodeTitleIndexNumber}))&&v.push(i()(t));else if(y.IsMovie&&y.ProductionYear&&!1!==o.originalAirDate)v.push(y.ProductionYear);else if(y.PremiereDate&&!1!==o.originalAirDate)try{n=r.ZP.parseISO8601Date(y.PremiereDate),t=s.ZP.translate("OriginalAirDateValue",r.ZP.toLocaleDateString(n)),v.push(t)}catch(e){console.error("error parsing date:",y.PremiereDate)}else y.ProductionYear&&!1!==o.year&&v.push(y.ProductionYear)}if(!1!==o.year&&"Series"!==e.Type&&"Episode"!==e.Type&&"Person"!==e.Type&&"Photo"!==e.MediaType&&"Program"!==e.Type&&"Season"!==e.Type)if(e.ProductionYear)v.push(e.ProductionYear);else if(e.PremiereDate)try{t=r.ZP.toLocaleString(r.ZP.parseISO8601Date(e.PremiereDate).getFullYear(),{useGrouping:!1}),v.push(t)}catch(t){console.error("error parsing date:",e.PremiereDate)}if(e.RunTimeTicks&&"Series"!==e.Type&&"Program"!==e.Type&&"Timer"!==e.Type&&"Book"!==e.Type&&!h&&!1!==o.runtime&&("Audio"===e.Type?v.push(r.ZP.getDisplayRunningTime(e.RunTimeTicks)):v.push(r.ZP.getDisplayDuration(e.RunTimeTicks))),!1!==o.officialRating&&e.OfficialRating&&"Season"!==e.Type&&"Episode"!==e.Type&&v.push({text:e.OfficialRating,cssClass:"mediaInfoOfficialRating"}),e.Video3DFormat&&v.push("3D"),"Photo"===e.MediaType&&e.Width&&e.Height&&v.push("".concat(e.Width,"x").concat(e.Height)),!1!==o.container&&"Audio"===e.Type&&e.Container&&v.push(e.Container),u+=v.map((function(e){return f(e)})).join(""),!1!==o.starRating&&(u+=p(e)),e.HasSubtitles&&!1!==o.subtitles&&(u+='<div class="mediaInfoItem mediaInfoText closedCaptionMediaInfoText">CC</div>'),e.CriticRating&&!1!==o.criticRating&&(e.CriticRating>=60?u+='<div class="mediaInfoItem mediaInfoCriticRating mediaInfoCriticRatingFresh">'.concat(e.CriticRating,"</div>"):u+='<div class="mediaInfoItem mediaInfoCriticRating mediaInfoCriticRatingRotten">'.concat(e.CriticRating,"</div>")),!1!==o.endsAt){var b=m(e);b&&(u+=f(b,"endsAt"))}return u+l.ZP.getMissingIndicator(e)}function m(e){if("Video"===e.MediaType&&e.RunTimeTicks&&!e.StartDate){var t=(new Date).getTime()+e.RunTimeTicks/1e4;t=new Date(t);var n=r.ZP.getDisplayTime(t);return s.ZP.translate("EndsAtValue",n)}return null}function f(e,t){t=t?"".concat(t," mediaInfoItem"):"mediaInfoItem";var n=e;if("string"!=typeof e&&"number"!=typeof e){if(e.html)return e.html;n=e.text,t+=" ".concat(e.cssClass)}return'<div class="'.concat(t,'">').concat(n,"</div>")}function p(e){var t="";return e.CommunityRating&&(t+='<div class="starRatingContainer mediaInfoItem">',t+='<span class="material-icons starIcon star" aria-hidden="true"></span>',t+=e.CommunityRating.toFixed(1),t+="</div>"),t}function v(e,t,n){if(!1!==n.endsAt){var a=e.querySelector(".endsAt");a&&function(e,t){var n=setInterval((function(){document.body.contains(e)?e.innerHTML=m(t):clearInterval(n)}),6e4)}(a,t)}var i=e.querySelector(".lnkChannel");i&&i.addEventListener("click",h)}function h(e){var t=this.getAttribute("data-id"),n=this.getAttribute("data-serverid");return o.appRouter.showItem(t,n),e.preventDefault(),!1}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return void 0===t.interactive&&(t.interactive=!1),u(e,t)}function y(e,t){return null==(t=t||{}).interactive&&(t.interactive=!1),"Program"===e.Type?function(e,t){var n,a,s=[];if(e.StartDate&&!1!==t.programTime)try{n="",a=r.ZP.parseISO8601Date(e.StartDate),!1!==t.startDate&&(n+=r.ZP.toLocaleDateString(a,{weekday:"short",month:"short",day:"numeric"})),n+=" ".concat(r.ZP.getDisplayTime(a)),e.EndDate&&(a=r.ZP.parseISO8601Date(e.EndDate),n+=" - ".concat(r.ZP.getDisplayTime(a))),s.push(n)}catch(t){console.error("error parsing date:",e.StartDate)}if(e.ChannelNumber&&s.push("CH ".concat(e.ChannelNumber)),e.ChannelName&&(t.interactive&&e.ChannelId?s.push({html:'<a is="emby-linkbutton" class="button-flat mediaInfoItem" href="'.concat(o.appRouter.getRouteUrl({ServerId:e.ServerId,Type:"TvChannel",Name:e.ChannelName,Id:e.ChannelId}),'">').concat(i()(e.ChannelName),"</a>")}):s.push(i()(e.ChannelName))),!1!==t.timerIndicator){var c=function(e){var t;if("SeriesTimer"===e.Type)return'<span class="material-icons mediaInfoItem mediaInfoIconItem mediaInfoTimerIcon fiber_smart_record" aria-hidden="true"></span>';if(e.TimerId||e.SeriesTimerId)t=e.Status||"Cancelled";else{if("Timer"!==e.Type)return"";t=e.Status}return e.SeriesTimerId?"Cancelled"!==t?'<span class="material-icons mediaInfoItem mediaInfoIconItem mediaInfoTimerIcon fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons mediaInfoItem mediaInfoIconItem fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons mediaInfoItem mediaInfoIconItem mediaInfoTimerIcon fiber_manual_record" aria-hidden="true"></span>'}(e);c&&s.push({html:c})}return""+s.map((function(e){return f(e)})).join("")}(e,t):""}function b(e){var t=e.Width,n=e.Height;if(t&&n){if(t>=3800||n>=2e3)return"4K";if(t>=2500||n>=1400)return e.IsInterlaced?"1440i":"1440p";if(t>=1800||n>=1e3)return e.IsInterlaced?"1080i":"1080p";if(t>=1200||n>=700)return e.IsInterlaced?"720i":"720p";if(t>=700||n>=400)return e.IsInterlaced?"480i":"480p"}return null}t.ZP={getMediaInfoHtml:g,getEndsAt:m,getEndsAtFromPosition:function(e,t,n,a){var i=(new Date).getTime()+1/n*((e-(t||0))/1e4);i=new Date(i);var o=r.ZP.getDisplayTime(i);return!1===a?o:s.ZP.translate("EndsAtValue",o)},getPrimaryMediaInfoHtml:g,getSecondaryMediaInfoHtml:y,fillPrimaryMediaInfo:function(e,t,n){var a=g(t,n);e.innerHTML=a,v(e,t,n)},fillSecondaryMediaInfo:function(e,t,n){var a=y(t,n);e.innerHTML=a,v(e,t,n)},getMediaInfoStats:function(e){var t=[],n=(((e.MediaSources||[])[0]||{}).MediaStreams||[]).filter((function(e){return"Video"===e.Type}))[0]||{},a=function(e){if(!e.MediaSources)return null;var t=e.MediaSources[0];return t?(t.MediaStreams||[]).filter((function(e){return"Audio"===e.Type&&(e.Index===t.DefaultAudioStreamIndex||null==t.DefaultAudioStreamIndex)}))[0]:null}(e)||{};"Dvd"===e.VideoType&&t.push({type:"mediainfo",text:"Dvd"}),"BluRay"===e.VideoType&&t.push({type:"mediainfo",text:"BluRay"});var i=b(n);i&&t.push({type:"mediainfo",text:i}),n.Codec&&t.push({type:"mediainfo",text:n.Codec});var o,l=a.Channels;8===l?o="7.1":7===l?o="6.1":6===l?o="5.1":2===l&&(o="2.0"),o&&t.push({type:"mediainfo",text:o});var d=(a.Codec||"").toLowerCase();if("dca"!==d&&"dts"!==d||!a.Profile?a.Codec&&t.push({type:"mediainfo",text:a.Codec}):t.push({type:"mediainfo",text:a.Profile}),e.DateCreated&&c.ZP.enableDateAddedDisplay(e)){var u=r.ZP.parseISO8601Date(e.DateCreated);t.push({type:"added",text:s.ZP.translate("AddedOnValue","".concat(r.ZP.toLocaleDateString(u)," ").concat(r.ZP.getDisplayTime(u)))})}return t},getResolutionText:b}},78042:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return H}}),n(5769),n(63238),n(61418),n(17460),n(14078),n(20266),n(52077),n(911),n(23938),n(27471),n(61370),n(61013),n(32081),n(43512),n(55849);var a,i,r,s,o,c=n(65009),l=n.n(c),d=n(48957),u=n(17031),m=n(57366),f=n(72365),p=n(58517),v=n(21844),h=n(61693),g=n(21776),y=n(70350),b=n(34643),P=n(81643),T=n(94994),S=n(84881),I=n(30325),k=n(60934),L=n(84280),w=(n(42855),n(61414),n(18613)),Z=n(92581);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function C(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!==O(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key,"string"),"symbol"===O(i)?i:String(i)),a)}var i}function D(e){var t=document.createElement("div");document.body.appendChild(t),t.innerHTML='<div class="subtitleSync"> <div class="subtitleSyncContainer"> <button type="button" is="paper-icon-button-light" class="subtitleSync-closeButton"><span class="material-icons close" aria-hidden="true"></span></button> <div class="subtitleSyncTextField" contenteditable="true" spellcheck="false">0s</div> <div class="sliderContainer subtitleSyncSliderContainer"> <input is="emby-slider" type="range" step=".1" min="0" max="100" value="50" class="subtitleSyncSlider" data-slider-keep-progress="true"/> </div> </div> </div> ',i=t.querySelector(".subtitleSyncSlider"),r=t.querySelector(".subtitleSyncTextField"),s=t.querySelector(".subtitleSync-closeButton"),o=t.querySelector(".subtitleSyncContainer"),I.Z.tv&&(i.classList.add("focusable"),setTimeout((function(){i.enableKeyboardDragging()}),0)),o.classList.add("hide"),r.updateOffset=function(e){this.textContent=e+"s"},r.addEventListener("click",(function(){this.hasFocus=!0})),r.addEventListener("keydown",(function(e){if("Enter"===e.key){var t=/[-+]?\d+\.?\d*/g.exec(this.textContent);t?(t=t[0],t=parseFloat(t),t=Math.min(30,Math.max(-30,t)),this.textContent=t+"s",d.O.setSubtitleOffset(t,a),i.updateOffset((n=t/30,n*=50,n+=50,Math.min(100,Math.max(0,n.toFixed(1)))))):this.textContent=(d.O.getPlayerSubtitleOffset(a)||0)+"s",this.hasFocus=!1,e.preventDefault()}else this.hasFocus=!0,null===e.key.match(/[+-\d.s]/)&&e.preventDefault();var n;e.stopPropagation()})),r.blur=function(){!this.hasFocus&&this.prototype&&this.prototype.blur()},i.updateOffset=function(e){this.value=void 0===e?50:e},i.addEventListener("change",(function(){d.O.setSubtitleOffset(E(this.value),a),r.updateOffset(E(this.value))})),i.getBubbleHtml=function(e){var t=E(e);return'<h1 class="sliderBubbleText">'+(t>0?"+":"")+parseFloat(t)+"s</h1>"},s.addEventListener("click",(function(){d.O.disableShowingSubtitleOffset(a),x.prototype.toggle("forceToHide")})),e.element=t}function E(e){var t=(e-50)/50;return(t*=30).toFixed(1)}n(1203),n(76056),n(95623),n(19068),n(87211),n(25901),n(92189),n(95163),n(99785),n(91047);var x=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a=t,D(this)}var t,n;return t=e,(n=[{key:"destroy",value:function(){e.prototype.toggle("forceToHide"),a&&(d.O.disableShowingSubtitleOffset(a),d.O.setSubtitleOffset(0,a));var t=this.element;t&&(t.parentNode.removeChild(t),this.element=null)}},{key:"toggle",value:function(e){if(!e||["hide","forceToHide"].includes(e)){if(a&&d.O.supportSubtitleOffset(a)){if(e){if("hide"===e&&r.hasFocus)return}else if(d.O.isShowingSubtitleOffsetEnabled(a)&&d.O.canHandleOffsetOnCurrentSubtitle(a))return d.O.getPlayerSubtitleOffset(a)||r.hasFocus||(i.value="50",r.textContent="0s",d.O.setSubtitleOffset(0,a)),void o.classList.remove("hide");o.classList.add("hide")}}else console.warn("SubtitleSync.toggle called with invalid action",e)}}])&&C(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),M=x,R=n(52050),A=n(71487),q=n(57084);function F(){return document.querySelector(".dialogContainer .dialog.opened")}function H(e){function t(t){if(!t||"Program"!==t.Type)return x&&(x.destroy(),x=null),void e.querySelector(".btnRecord").classList.add("hide");w.Z.getApiClient(t.ServerId).getCurrentUser().then((function(a){a.Policy.EnableLiveTvManagement&&n.e(3679).then(n.bind(n,3679)).then((function(n){var a=n.default;x?x.refreshItem(t):(x=new a({item:t,button:e.querySelector(".btnRecord")}),e.querySelector(".btnRecord").classList.remove("hide"))}))}))}function a(n){var a=n.originalItem;E=a;var i=n.displayItem||a;t(i);var s=i.SeriesName||i.Album;(i.EpisodeTitle||i.IsSeries)&&(s=i.Name),function(e,t){var n=g.ZP.getDisplayName(e,{includeParentInfo:"Program"!==e.Type,includeIndexNumber:"Program"!==e.Type});n&&t&&(n="".concat(t," - ").concat(n)),n||(n=t||"");var a=n;if(e.PremiereDate)try{var i=h.ZP.toLocaleString(h.ZP.parseISO8601Date(e.PremiereDate).getFullYear(),{useGrouping:!1});a+=" (".concat(i,")")}catch(e){console.error(e)}A.Z.setTitle(a);var r=t||(e?e.Name:null);r&&(document.title=r)}(i,s);var o=e.querySelector(".osdSecondaryMediaInfo"),c=y.ZP.getSecondaryMediaInfoHtml(i,{startDate:!1,programTime:!1});o.innerHTML=c,c?o.classList.remove("hide"):o.classList.add("hide"),H?(r(Ue,i.StartDate),r(Ke,i.EndDate),Ue.classList.remove("hide"),Ke.classList.remove("hide"),Ae=i.StartDate?h.ZP.parseISO8601Date(i.StartDate).getTime():0,qe=i.EndDate?h.ZP.parseISO8601Date(i.EndDate).getTime():0):(Ue.classList.add("hide"),Ke.classList.add("hide"),Ue.innerHTML="",Ke.innerHTML="",Ae=0,qe=0)}function i(e,t){return t?h.ZP.toLocaleTimeString(e,{hour:"numeric",minute:"2-digit",second:"2-digit"}).toLowerCase().replace("am","").replace("pm","").trim():h.ZP.getDisplayTime(e).toLowerCase().replace("am","").replace("pm","").trim()}function r(e,t){var n;t&&(n=i(t=h.ZP.parseISO8601Date(t))),e.innerHTML=n||""}var s,o,c,O,C,D,E,x,H,B,N,_,V,U=!1;function K(){Xe.classList.remove("osdHeader-hidden"),function(){if(!B){var e=$e;B="osd",G(e),e.classList.remove("hide"),e.classList.remove("videoOsdBottom-hidden"),I.Z.mobile||setTimeout((function(){b.Z.focus(e.querySelector(".btnPause"))}),50),Te()}}(),X()}function j(){Xe.classList.add("osdHeader-hidden"),function(){if("osd"===B){var e=$e;G(e),e.classList.add("videoOsdBottom-hidden"),f.ZP.addEventListener(e,We,W,{once:!0}),B=null,Te("hide"),document.activeElement&&document.activeElement.blur()}}(),v.ZP.hideCursor()}function Y(){_&&(clearTimeout(_),_=null)}function G(e){f.ZP.removeEventListener(e,We,W,{once:!0})}function W(e){var t=e.target;t==$e&&(t.classList.add("hide"),f.ZP.removeEventListener(t,We,W,{once:!0}))}function X(){!B||U||F()?Y():(Y(),_=setTimeout(j,3e3))}function $(e){if("mouse"===(e.pointerType||(I.Z.mobile?"touch":"mouse"))){var t=e.screenX||e.clientX||0,n=e.screenY||e.clientY||0,a=V;if(!a)return void(V={x:t,y:n});if(Math.abs(t-a.x)<10&&Math.abs(n-a.y)<10)return;a.x=t,a.y=n,K()}}function z(t){var n,a=c;switch(t.detail.command){case"left":"osd"===B?K():B||(t.preventDefault(),d.O.rewind(a));break;case"right":"osd"===B?K():B||(t.preventDefault(),d.O.fastForward(a));break;case"pageup":d.O.nextChapter(a);break;case"pagedown":d.O.previousChapter(a);break;case"up":case"down":case"select":case"menu":case"info":case"play":case"playpause":case"pause":case"fastforward":case"rewind":case"next":case"previous":K();break;case"record":(n=e.querySelector(".btnRecord")).classList.contains("hide")||n.click(),K();break;case"togglestats":be();break;case"back":"osd"!==B||F()||(j(),t.preventDefault())}}function J(){var t,n;!c.forcedFullscreen||d.O.isFullscreen(c)?((n=(t=e.querySelector(".btnFullscreen")).querySelector(".material-icons")).classList.remove("fullscreen_exit","fullscreen"),d.O.isFullscreen(c)?(t.setAttribute("title",T.ZP.translate("ExitFullscreen")+" (f)"),n.classList.add("fullscreen_exit")):(t.setAttribute("title",T.ZP.translate("Fullscreen")+" (f)"),n.classList.add("fullscreen"))):R.appRouter.back()}function Q(){le(d.O.getCurrentPlayer())}function ee(n,i){var r,s;i.NowPlayingItem&&(D=!0,function(n,i,r){var s=r.PlayState||{};fe(s.IsPaused);var o=d.O.getSupportedCommands(i);xe=o,he(i,s.IsMuted,s.VolumeLevel),Ne&&!Ne.dragging&&(Ne.disabled=!s.CanSeek),Ge.disabled=!s.CanSeek,Ye.disabled=!s.CanSeek;var c=r.NowPlayingItem||{};Fe=s.PlaybackStartTimeTicks,ve(s.PositionTicks,c.RunTimeTicks,s.PlaybackStartTimeTicks,s.PlaybackRate,s.BufferedRanges||[]),function(n,i){var r,s=i.NowPlayingItem;if(E=s,!s)return t(null),A.Z.setTitle(""),He.disabled=!0,Ne.disabled=!0,Ge.disabled=!0,Ye.disabled=!0,e.querySelector(".btnSubtitles").classList.add("hide"),e.querySelector(".btnAudio").classList.add("hide"),e.querySelector(".osdTitle").innerHTML="",void(e.querySelector(".osdMediaInfo").innerHTML="");H=function(e){return!("TvChannel"!==e.Type||!e.CurrentProgram)}(s),function(e){if("TvChannel"===e.Type){var t=w.Z.getApiClient(e.ServerId);return t.getItem(t.getCurrentUserId(),e.Id).then((function(e){return{originalItem:e,displayItem:e.CurrentProgram}}))}return Promise.resolve({originalItem:e})}(s).then(a),He.disabled=!1,Ne.disabled=!1,Ge.disabled=!1,Ye.disabled=!1,d.O.subtitleTracks(n).length?(e.querySelector(".btnSubtitles").classList.remove("hide"),Te()):(e.querySelector(".btnSubtitles").classList.add("hide"),Te("forceToHide")),d.O.audioTracks(n).length>1?e.querySelector(".btnAudio").classList.remove("hide"):e.querySelector(".btnAudio").classList.add("hide"),(null===(r=E.Chapters)||void 0===r?void 0:r.length)>1?(e.querySelector(".btnPreviousChapter").classList.remove("hide"),e.querySelector(".btnNextChapter").classList.remove("hide")):(e.querySelector(".btnPreviousChapter").classList.add("hide"),e.querySelector(".btnNextChapter").classList.add("hide"))}(i,r);var l=r.MediaSource&&null==r.MediaSource.RunTimeTicks;Ne.setIsClear(l),c.RunTimeTicks&&Ne.setKeyboardSteps(1e6*k.skipBackLength()/c.RunTimeTicks,1e6*k.skipForwardLength()/c.RunTimeTicks),-1===o.indexOf("ToggleFullscreen")||i.isLocalPlayer&&I.Z.tv&&d.O.isFullscreen(i)?e.querySelector(".btnFullscreen").classList.add("hide"):e.querySelector(".btnFullscreen").classList.remove("hide"),-1===o.indexOf("PictureInPicture")?e.querySelector(".btnPip").classList.add("hide"):e.querySelector(".btnPip").classList.remove("hide"),-1===o.indexOf("AirPlay")?e.querySelector(".btnAirPlay").classList.add("hide"):e.querySelector(".btnAirPlay").classList.remove("hide"),J()}(0,this,i),r=e.querySelector(".btnPreviousTrack"),s=e.querySelector(".btnNextTrack"),r.classList.remove("hide"),s.classList.remove("hide"),s.disabled=!1,r.disabled=!1,!0,e.removeEventListener("viewbeforehide",Ce),d.O.isPlayingVideo(c)&&e.addEventListener("viewbeforehide",Ce),function(e){var t=sessionStorage.getItem("playbackRateSpeed");null!==t&&e.setPlaybackRate(t)}(this))}function te(){D&&fe(this.paused())}function ne(){if(D){var e=this;he(e,e.isMuted(),e.getVolume())}}function ae(e,t){console.debug("nowplaying event: "+e.type),ee.call(this,e,t),ie()}function ie(){O=!1,C&&(C.destroy(),C=null)}function re(t,n){Me=null,ie(),console.debug("nowplaying event: "+t.type),"Video"!==n.NextMediaType&&(e.removeEventListener("viewbeforehide",Ce),R.appRouter.back())}function se(){var e=d.O.getPlayerState(this);ee.call(this,{type:"init"},e)}function oe(){document.querySelector(".osdMediaStatus").classList.remove("hide")}function ce(){document.querySelector(".osdMediaStatus").classList.add("hide")}function le(e){if(e===c||(de(),c=e,e)){var t=d.O.getPlayerState(e);ee.call(e,{type:"init"},t),P.Z.on(e,"playbackstart",ae),P.Z.on(e,"playbackstop",re),P.Z.on(e,"volumechange",ne),P.Z.on(e,"pause",te),P.Z.on(e,"unpause",te),P.Z.on(e,"timeupdate",ue),P.Z.on(e,"fullscreenchange",J),P.Z.on(e,"mediastreamschange",se),P.Z.on(e,"beginFetch",oe),P.Z.on(e,"endFetch",ce),ie(),e.isFetching&&oe()}}function de(){Pe(),Se(),ie();var e=c;e&&(P.Z.off(e,"playbackstart",ae),P.Z.off(e,"playbackstop",re),P.Z.off(e,"volumechange",ne),P.Z.off(e,"pause",te),P.Z.off(e,"unpause",te),P.Z.off(e,"timeupdate",ue),P.Z.off(e,"fullscreenchange",J),P.Z.off(e,"mediastreamschange",se),c=null)}function ue(){if(D&&E){var t=(new Date).getTime();if(t-Re>=700){Re=t;var a=this;Me=d.O.duration(a);var i=1e4*d.O.currentTime(a);ve(i,Me,d.O.playbackStartTime(a),d.O.getPlaybackRate(a),d.O.getBufferedRanges(a));var r=E;!function(e,t){if("TvChannel"===t.Type){var n=t.CurrentProgram;if(n&&n.EndDate)try{var a=h.ZP.parseISO8601Date(n.EndDate);if((new Date).getTime()>=a.getTime()){console.debug("program info needs to be refreshed");var i=d.O.getPlayerState(e);ee.call(e,{type:"init"},i)}}catch(e){console.error("error parsing date: "+n.EndDate)}}}(a,r),function(t,a,i,r){if(r&&i&&!O&&!B&&"Episode"===a.Type&&k.enableNextVideoInfoOverlay()){var s=30;r>=3e10?s=40:r>=24e9&&(s=35),i>=r-1e7*s&&r>=6e9&&r-i>=2e8&&function(t){n.e(36542).then(n.bind(n,36542)).then((function(n){var a=n.default;B||C||(B="upnext",O=!0,d.O.nextItem(t).then((function(n){C=new a({parent:e.querySelector(".upNextContainer"),player:t,nextItem:n}),P.Z.on(C,"hide",me)}),me))}))}(t)}}(a,r,i,Me)}}}function me(){"upnext"===B&&(B=null)}function fe(t){var n,a,i=e.querySelector(".btnPause"),r=i.querySelector(".material-icons");r.classList.remove("play_arrow","pause"),t?(n="play_arrow",a=T.ZP.translate("Play")):(n="pause",a=T.ZP.translate("ButtonPause")),r.classList.add(n),f.ZP.setElementTitle(i,a+" (k)",a)}function pe(e,t,n){return(n-e)/t*100}function ve(e,t,n,a,i){if(H){if(Ne&&!Ne.dragging)if(Ae&&qe){var r=(n+(e||0))/1e4,s=qe-Ae;if(Ne.value=pe(Ae,s,r),i.length){var o=pe(Ae,s,(n+(i[0].start||0))/1e4),c=pe(Ae,s,(n+(i[0].end||0))/1e4);Ne.setBufferedRanges([{start:o,end:c}])}else Ne.setBufferedRanges([])}else Ne.value=0,Ne.setBufferedRanges([]);_e.innerHTML="",Ve.innerHTML=""}else{if(Ne&&!Ne.dragging){if(t){var l=e/t;l*=100,Ne.value=l}else Ne.value=0;t&&null!=e&&Me&&!H&&E.RunTimeTicks&&"Recording"!==E.Type&&null!==a?je.innerHTML="&nbsp;&nbsp;&nbsp;&nbsp;"+y.ZP.getEndsAtFromPosition(t,e,a,!0):je.innerHTML=""}if(Ne&&Ne.setBufferedRanges(i,t,e),e>=0?(ge(_e,e),_e.classList.remove("hide")):_e.classList.add("hide"),k.enableVideoRemainingTime()){var d=t-e;d>=0?(ge(Ve,d),Ve.innerHTML="-"+Ve.innerHTML,Ve.classList.remove("hide")):_e.classList.add("hide")}else ge(Ve,t),Ve.classList.remove("hide")}}function he(t,n,a){var i=xe,r=!0,s=!0;-1===i.indexOf("Mute")&&(r=!1),-1===i.indexOf("SetVolume")&&(s=!1),t.isLocalPlayer&&S.M.supports("physicalvolumecontrol")&&(r=!1,s=!1);var o=e.querySelector(".buttonMute"),c=o.querySelector(".material-icons");c.classList.remove("volume_off","volume_up"),n?(o.setAttribute("title",T.ZP.translate("Unmute")+" (m)"),c.classList.add("volume_off")):(o.setAttribute("title",T.ZP.translate("Mute")+" (m)"),c.classList.add("volume_up")),r?o.classList.remove("hide"):o.classList.add("hide"),He&&(s?Be.classList.remove("hide"):Be.classList.add("hide"),He.dragging||(He.value=a||0))}function ge(e,t,n){if(null!=t){var a=h.ZP.getDisplayRunningTime(t);n&&(a="&nbsp;/&nbsp;"+a),e.innerHTML=a}else e.innerHTML=""}function ye(e){if("stats"===e)be();else if("suboffset"===e){var t=c;t&&(d.O.enableShowingSubtitleOffset(t),Te())}}function be(){n.e(68074).then(n.bind(n,68074)).then((function(e){var t=e.default,n=c;n&&(N?N.toggle():N=new t({player:n}))}))}function Pe(){N&&(N.destroy(),N=null)}function Te(e){var t=c;De?De.toggle(e):t&&(De=new M(t))}function Se(){De&&(De.destroy(),De=null)}function Ie(e){if(!e.target.contains(s))return e.preventDefault(),e.stopPropagation(),!1}function ke(e){s=e.target;var t=L.ZP.getKeyName(e),n=e.ctrlKey||e.altKey||e.metaKey;if(32===e.keyCode)return"BUTTON"===e.target.tagName&&I.Z.tv||(d.O.playPause(c),e.preventDefault(),e.stopPropagation(),s=null),void K();if(I.Z.tv&&L.ZP.isNavigationKey(t))K();else switch(t){case"Enter":K();break;case"Escape":case"Back":"osd"!==B||F()||(j(),e.stopPropagation());break;case"k":d.O.playPause(c),K();break;case"ArrowUp":case"Up":d.O.volumeUp(c);break;case"ArrowDown":case"Down":d.O.volumeDown(c);break;case"l":case"ArrowRight":case"Right":d.O.fastForward(c),K();break;case"j":case"ArrowLeft":case"Left":d.O.rewind(c),K();break;case"f":e.ctrlKey||e.metaKey||(d.O.toggleFullscreen(c),K());break;case"m":d.O.toggleMute(c),K();break;case"p":case"P":e.shiftKey&&d.O.previousTrack(c);break;case"n":case"N":e.shiftKey&&d.O.nextTrack(c);break;case"NavigationLeft":case"GamepadDPadLeft":case"GamepadLeftThumbstickLeft":document.hasFocus()&&(d.O.rewind(c),K());break;case"NavigationRight":case"GamepadDPadRight":case"GamepadLeftThumbstickRight":document.hasFocus()&&(d.O.fastForward(c),K());break;case"Home":d.O.seekPercent(0,c);break;case"End":d.O.seekPercent(100,c);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(!n){var a=10*parseInt(t,10);d.O.seekPercent(a,c)}break;case">":d.O.increasePlaybackRate(c);break;case"<":d.O.decreasePlaybackRate(c);break;case"PageUp":d.O.nextChapter(c);break;case"PageDown":d.O.previousChapter(c)}}function Le(){X()}function we(e){s=e.target,U=!0,X()}function Ze(){U=!1,X()}function Oe(){U=!1,X()}function Ce(){if(d.O.isPlayingVideo()){Z.Z.disableFullscreen(),clearTimeout(o);var t=c;e.removeEventListener("viewbeforehide",Ce),de(),d.O.stop(t)}}Z.Z.enableFullscreen();var De,Ee=this,xe=[],Me=0,Re=0,Ae=0,qe=0,Fe=0,He=e.querySelector(".osdVolumeSlider"),Be=e.querySelector(".osdVolumeSliderContainer"),Ne=e.querySelector(".osdPositionSlider"),_e=e.querySelector(".osdPositionText"),Ve=e.querySelector(".osdDurationText"),Ue=e.querySelector(".startTimeText"),Ke=e.querySelector(".endTimeText"),je=e.querySelector(".endsAtText"),Ye=e.querySelector(".btnRewind"),Ge=e.querySelector(".btnFastForward"),We=f.ZP.whichTransitionEvent(),Xe=document.querySelector(".skinHeader"),$e=document.querySelector(".videoOsdBottom-maincontrols");Ne.enableKeyboardDragging(),He.enableKeyboardDragging(),I.Z.tv&&Ne.classList.add("focusable"),Ve.addEventListener("click",(function(){k.enableVideoRemainingTime(!k.enableVideoRemainingTime());var e=d.O.getPlayerState(c),t=e.PlayState,n=e.NowPlayingItem;ve(t.PositionTicks,n.RunTimeTicks,t.PlaybackStartTimeTicks,t.PlaybackRate,t.BufferedRanges||[])})),e.addEventListener("viewbeforeshow",(function(){Xe.classList.add("osdHeader"),(0,q.G2)(q.q3.Full)})),e.addEventListener("viewshow",(function(){try{P.Z.on(d.O,"playerchange",Q),le(d.O.getCurrentPlayer()),f.ZP.addEventListener(document,window.PointerEvent?"pointermove":"mousemove",$,{passive:!0}),K(),p.default.on(window,z),document.addEventListener("keydown",ke),f.ZP.addEventListener(document,"keydown",Le,{capture:!0,passive:!0}),f.ZP.addEventListener(window,window.PointerEvent?"pointerdown":"mousedown",we,{capture:!0,passive:!0}),f.ZP.addEventListener(window,window.PointerEvent?"pointerup":"mouseup",Ze,{capture:!0,passive:!0}),f.ZP.addEventListener(window,"touchstart",we,{capture:!0,passive:!0}),["touchend","touchcancel"].forEach((function(e){f.ZP.addEventListener(window,e,Ze,{capture:!0,passive:!0})})),f.ZP.addEventListener(window,"dragend",Oe,{capture:!0,passive:!0}),(m.Z.firefox||m.Z.edge)&&f.ZP.addEventListener(document,"click",Ie,{capture:!0})}catch(e){R.appRouter.goHome()}})),e.addEventListener("viewbeforehide",(function(){N&&N.enabled(!1),document.removeEventListener("keydown",ke),f.ZP.removeEventListener(document,"keydown",Le,{capture:!0,passive:!0}),f.ZP.removeEventListener(window,window.PointerEvent?"pointerdown":"mousedown",we,{capture:!0,passive:!0}),f.ZP.removeEventListener(window,window.PointerEvent?"pointerup":"mouseup",Ze,{capture:!0,passive:!0}),f.ZP.removeEventListener(window,"touchstart",we,{capture:!0,passive:!0}),["touchend","touchcancel"].forEach((function(e){f.ZP.removeEventListener(window,e,Ze,{capture:!0,passive:!0})})),f.ZP.removeEventListener(window,"dragend",Oe,{capture:!0,passive:!0}),(m.Z.firefox||m.Z.edge)&&f.ZP.removeEventListener(document,"click",Ie,{capture:!0}),Y(),Xe.classList.remove("osdHeader"),Xe.classList.remove("osdHeader-hidden"),f.ZP.removeEventListener(document,window.PointerEvent?"pointermove":"mousemove",$,{passive:!0}),p.default.off(window,z),P.Z.off(d.O,"playerchange",Q),de()})),e.querySelector(".btnFullscreen").addEventListener("click",(function(){d.O.toggleFullscreen(c)})),e.querySelector(".btnPip").addEventListener("click",(function(){d.O.togglePictureInPicture(c)})),e.querySelector(".btnAirPlay").addEventListener("click",(function(){d.O.toggleAirPlay(c)})),e.querySelector(".btnVideoOsdSettings").addEventListener("click",(function(){var e=this;n.e(29078).then(n.bind(n,29078)).then((function(t){var n=c;if(n){var a,i=d.O.getPlayerState(n),r=d.O.supportSubtitleOffset(n)&&d.O.canHandleOffsetOnCurrentSubtitle(n);t.show({mediaType:"Video",player:n,positionTo:e,quality:null===(a=i.MediaSource)||void 0===a?void 0:a.SupportsTranscoding,stats:!0,suboffset:r,onOption:ye}).finally((function(){X()})),setTimeout(X,0)}}))})),e.addEventListener("viewhide",(function(){Xe.classList.remove("hide")})),e.addEventListener("viewdestroy",(function(){Ee.touchHelper&&(Ee.touchHelper.destroy(),Ee.touchHelper=null),x&&(x.destroy(),x=null),Pe(),Se()}));var ze=0;f.ZP.addEventListener(e,window.PointerEvent?"pointerdown":"click",(function(e){if(f.ZP.parentWithClass(e.target,["videoOsdBottom","upNextContainer"]))K();else{var t=e.pointerType||(I.Z.mobile?"touch":"mouse"),n=(new Date).getTime();switch(t){case"touch":n-ze>300&&(ze=n,"osd"===B?j():B||K());break;case"mouse":e.button||(o?(clearTimeout(o),o=0):o=setTimeout((function(){d.O.playPause(c),K(),o=0}),300));break;default:d.O.playPause(c),K()}}}),{passive:!0}),f.ZP.addEventListener(e,"dblclick",(function(t){t.target===e&&d.O.toggleFullscreen(c)})),e.querySelector(".buttonMute").addEventListener("click",(function(){d.O.toggleMute(c)})),He.addEventListener("input",(function(e){d.O.setVolume(e.target.value,c)})),Ne.addEventListener("change",(function(){var e=c;if(e){var t=parseFloat(this.value);if(H){var n=t/100*(qe-Ae)*1e4;n+=1e4*Ae,n-=Fe,d.O.seek(n,e)}else d.O.seekPercent(t,e)}})),Ne.getBubbleHtml=function(e){if(K(),H){if(Ae&&qe){var t=qe-Ae;return t/=100,t*=e,t+=Ae,'<h1 class="sliderBubbleText">'+i(new Date(parseInt(t)),!0)+"</h1>"}return"--:--"}if(!Me)return"--:--";var n=Me;n/=100,n*=e;var a=E;if(a&&a.Chapters&&a.Chapters.length&&a.Chapters[0].ImageTag){var r=function(e,t,n,a){for(var i,r=-1,s=0,o=n.length;s<o;s++){var c=n[s];a>=c.StartPositionTicks&&(i=c,r=s)}if(!i)return null;var d=function(e,t,n,a,i){return t.ImageTag?i.getScaledImageUrl(e.Id,{maxWidth:400,tag:t.ImageTag,type:"Chapter",index:n}):null}(t,i,r,0,e);if(d){var u='<div class="chapterThumbContainer">';return u+='<img class="chapterThumb" src="'+d+'" />',u+='<div class="chapterThumbTextContainer">',u+='<div class="chapterThumbText chapterThumbText-dim">',u+=l()(i.Name),u+="</div>",u+='<h2 class="chapterThumbText">',u+=h.ZP.getDisplayRunningTime(a),u+="</h2>",(u+="</div>")+"</div>"}return null}(w.Z.getApiClient(a.ServerId),a,a.Chapters,n);if(r)return r}return'<h1 class="sliderBubbleText">'+h.ZP.getDisplayRunningTime(n)+"</h1>"},Ne.getMarkerInfo=function(){var e,t=[],n=E;return null!=n&&null!==(e=n.Chapters)&&void 0!==e&&e.length&&n.Chapters.forEach((function(e){t.push({className:"chapterMarker",name:e.Name,progress:e.StartPositionTicks/n.RunTimeTicks})})),t},e.querySelector(".btnPreviousTrack").addEventListener("click",(function(){d.O.previousTrack(c)})),e.querySelector(".btnPreviousChapter").addEventListener("click",(function(){d.O.previousChapter(c)})),e.querySelector(".btnPause").addEventListener("click",(function(){d.O.playPause(c)})),e.querySelector(".btnNextChapter").addEventListener("click",(function(){d.O.nextChapter(c)})),e.querySelector(".btnNextTrack").addEventListener("click",(function(){d.O.nextTrack(c)})),Ye.addEventListener("click",(function(){d.O.rewind(c)})),Ge.addEventListener("click",(function(){d.O.fastForward(c)})),e.querySelector(".btnAudio").addEventListener("click",(function(){var e=c,t=d.O.audioTracks(e),a=d.O.getAudioStreamIndex(e),i=t.map((function(e){var t={name:e.DisplayTitle,id:e.Index};return e.Index===a&&(t.selected=!0),t})),r=this;Promise.resolve().then(n.bind(n,12801)).then((function(t){t.default.show({items:i,title:T.ZP.translate("Audio"),positionTo:r}).then((function(t){var n=parseInt(t);n!==a&&d.O.setAudioStreamIndex(n,e)})).finally((function(){X()})),setTimeout(X,0)}))})),e.querySelector(".btnSubtitles").addEventListener("click",(function(){var e=c,t=d.O.subtitleTracks(e),a=d.O.secondarySubtitleTracks(e),i=d.O.getSubtitleStreamIndex(e);null==i&&(i=-1),t.unshift({Index:-1,DisplayTitle:T.ZP.translate("Off")});var r=t.map((function(e){var t={name:e.DisplayTitle,id:e.Index};return e.Index===i&&(t.selected=!0),t}));if(d.O.playerHasSecondarySubtitleSupport(e)&&t.length>1&&a.length>0&&-1!==i&&d.O.trackHasSecondarySubtitleSupport(d.O.getSubtitleStream(e,i),e)){var s={name:T.ZP.translate("SecondarySubtitles"),id:"secondarysubtitle"};r.unshift(s)}var o=this;Promise.resolve().then(n.bind(n,12801)).then((function(t){var n=t.default;n.show({title:T.ZP.translate("Subtitles"),items:r,positionTo:o}).then((function(t){if("secondarysubtitle"===t)try{!function(e,t){var n=c;if(d.O.playerHasSecondarySubtitleSupport(n)){var a=d.O.getSecondarySubtitleStreamIndex(n),i=d.O.secondarySubtitleTracks(n);null==a&&(a=-1),i.unshift({Index:-1,DisplayTitle:T.ZP.translate("Off")});var r=i.map((function(e){var t={name:e.DisplayTitle,id:e.Index};return e.Index===a&&(t.selected=!0),t}));e.show({title:T.ZP.translate("SecondarySubtitles"),items:r,positionTo:t}).then((function(e){if(e){var t=parseInt(e);t!==a&&d.O.setSecondarySubtitleStreamIndex(t,n)}})).finally((function(){X()})),setTimeout(X,0)}}(n,o)}catch(e){console.error(e)}else{var a=parseInt(t);a!==i&&d.O.setSubtitleStreamIndex(a,e)}Te()})).finally((function(){X()})),setTimeout(X,0)}))}));var Je=function(t){var n="",a="",i="oneShotPulse",r=1500,s=e.querySelector("#syncPlayIcon");switch(t){case"schedule-play":n="sync spin",a="play_arrow centered",i="infinitePulse",r=-1,j();break;case"unpause":n="play_circle_outline";break;case"pause":n="pause_circle_outline",K();break;case"seek":n="update",i="infinitePulse",r=-1;break;case"buffering":n="schedule",i="infinitePulse",r=-1;break;case"wait-pause":n="schedule",a="pause shifted",i="infinitePulse",r=-1;break;case"wait-unpause":n="schedule",a="play_arrow shifted",i="infinitePulse",r=-1;break;default:return void(s.style.visibility="hidden")}s.setAttribute("class","syncPlayIconCircle "+i),s.querySelector(".primary-icon").setAttribute("class","primary-icon material-icons "+n),s.querySelector(".secondary-icon").setAttribute("class","secondary-icon material-icons "+a);var o=s.cloneNode(!0);o.style.visibility="visible",s.parentNode.replaceChild(o,s),r<0||setTimeout((function(){o.style.visibility="hidden"}),r)};P.Z.on(u.default.Manager,"enabled",(function(t,n){n||(e.querySelector("#syncPlayIcon").style.visibility="hidden")})),P.Z.on(u.default.Manager,"notify-osd",(function(e,t){Je(t)})),P.Z.on(u.default.Manager,"group-state-update",(function(e,t,n){"Playing"===t&&"Unpause"===n||"Playing"===t&&"Ready"===n?Je("schedule-play"):"Paused"===t&&"Pause"===n?Je("pause"):"Paused"===t&&"Ready"===n?Je("clear"):"Waiting"===t&&"Seek"===n?Je("seek"):"Waiting"===t&&"Buffer"===n?Je("buffering"):"Waiting"===t&&"Pause"===n?Je("wait-pause"):"Waiting"===t&&"Unpause"===n&&Je("wait-unpause")}))}},55005:function(e,t,n){n(32081);var a=Object.create(HTMLDivElement.prototype);function i(){var e=parseInt(this.getAttribute("data-starttime")),t=parseInt(this.getAttribute("data-endtime")),n=((new Date).getTime()-e)/(t-e)*100;n=Math.min(100,n),n=Math.max(0,n),this.querySelector(".itemProgressBarForeground").style.width=n+"%"}a.attachedCallback=function(){this.timeInterval&&clearInterval(this.timeInterval),"time"===this.getAttribute("data-automode")&&(this.timeInterval=setInterval(i.bind(this),6e4))},a.detachedCallback=function(){this.timeInterval&&(clearInterval(this.timeInterval),this.timeInterval=null)},document.registerElement("emby-progressbar",{prototype:a,extends:"div"})},42855:function(e,t,n){"use strict";n(20252),n(99785),n(43512),n(23938),n(52077),n(911),n(63238),n(55849),n(61013),n(72410),n(15610),n(17460),n(25901),n(92189),n(91047),n(5769),n(14078);var a=n(57366),i=n(72365),r=n(30325),s=n(84280),o=(n(67752),n(62033),n(94994));function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var l,d=Object.create(HTMLInputElement.prototype),u=!1;if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var m=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");m&&m.configurable&&(u=!0)}function f(e,t){var n=e.sliderBubbleTrack.getBoundingClientRect(),a=(t-n.left)/n.width;o.ZP.getIsElementRTL(e)&&(a=(n.right-t)/n.width);var i=e.max-e.min;if("any"!==e.step&&0!==i){var r=(e.step||1)/i;a=Math.round(a/r)*r}return Math.min(Math.max(a,0),1)}function p(e,t){var n=(e.max-e.min)*t;if("any"!==e.step){var a=e.step||1;n=Math.round(n/a)*a}return n+=parseFloat(e.min),Math.min(Math.max(n,e.min),e.max)}function v(e){if(!e||!this.keyboardDragging&&!this.touched){var t=this,n=t.value;cancelAnimationFrame(t.updateValuesFrame),t.updateValuesFrame=requestAnimationFrame((function(){var e=t.backgroundLower;if(e){var a=(n-t.min)/(t.max-t.min);a*=100,e.style.width=a+"%"}t.markerContainerElement&&(t.triedAddingMarkers||function(e){e.markerInfo=[],e.getMarkerInfo&&(e.markerInfo=e.getMarkerInfo()),e.markerInfo.forEach((function(t){var n,a;e.markerContainerElement.insertAdjacentHTML("beforeend",(a="","chapterMarker"===(n=t).className&&(a=n.className,"string"==typeof n.name&&n.name.length&&(a="".concat(n.className," marker-").concat(n.name.substring(0,100).toLowerCase().replace(" ","-")))),'<span class="material-icons sliderMarker '.concat(a,'" aria-hidden="true"></span>')))})),e.markerElements=e.markerContainerElement.querySelectorAll(".sliderMarker"),e.triedAddingMarkers=!0}(t),function(e,t){if(e.markerInfo&&e.markerInfo.length&&e.markerElements&&e.markerElements.length)for(var n=0,a=e.markerElements.length;n<a;n++)e.markerInfo.length>n&&g(e,p(e,e.markerInfo[n].progress),e.markerElements[n],t)}(t,n))}))}}function h(e,t,n){requestAnimationFrame((function(){var a=e.sliderBubbleTrack.getBoundingClientRect(),i=n.getBoundingClientRect(),r=a.width*t/100;o.ZP.getIsElementRTL(e)&&(r=a.width-r),r=Math.min(Math.max(r,i.width/2),a.width-i.width/2),n.style.left=r+"px",t=e.getBubbleHtml?e.getBubbleHtml(t):'<h1 class="sliderBubbleText">'+(t=e.getBubbleText?e.getBubbleText(t):p(e,t/100).toLocaleString())+"</h1>",n.innerHTML=t}))}function g(e,t,n,a){requestAnimationFrame((function(){var i=e.sliderBubbleTrack.getBoundingClientRect(),r=n.getBoundingClientRect();if(i.width&&r.width){var s=i.width*t/100-r.width/2;s=Math.min(Math.max(s,-r.width/2),i.width-r.width/2),n.style.left=s+"px",a>=t?(n.classList.remove("unwatched"),n.classList.add("watched")):(n.classList.add("unwatched"),n.classList.remove("watched"))}}))}function y(e,t){(function(e){e.keyboardDragging=!0,clearTimeout(l),l=setTimeout((function(){!function(e){clearTimeout(l),l=void 0,e.keyboardDragging=!1;var t=new Event("change",{bubbles:!0,cancelable:!1});e.dispatchEvent(t)}(e)}),1e3)})(e),e.value=Math.max(e.min,Math.min(e.max,parseFloat(e.value)+t));var n=new Event("input",{bubbles:!0,cancelable:!1});e.dispatchEvent(n)}function b(e){switch(s.ZP.getKeyName(e)){case"ArrowLeft":case"Left":y(this,-this.keyboardStepDown||-1),e.preventDefault(),e.stopPropagation();break;case"ArrowRight":case"Right":y(this,this.keyboardStepUp||1),e.preventDefault(),e.stopPropagation()}}function P(e,t,n){var a=e.style;o.ZP.getIsRTL()?a.right=Math.max(t,0)+"%":a.left=Math.max(t,0)+"%";var i=n-t;a.width=Math.max(Math.min(i,100),0)+"%"}d.attachedCallback=function(){if("true"!==this.getAttribute("data-embyslider")){this.setAttribute("data-embyslider","true"),this.classList.add("mdl-slider"),this.classList.add("mdl-js-slider"),a.Z.edge&&this.classList.add("slider-browser-edge"),r.Z.mobile||this.classList.add("mdl-slider-hoverthumb"),r.Z.tv&&this.classList.add("show-focus");var e=i.ZP.parentWithClass(this,"sliderContainer-settings");if(e&&this.getAttribute("label")){var t=this.ownerDocument.createElement("label");t.innerText=this.getAttribute("label"),t.classList.add("sliderLabel"),t.htmlFor=this.id,e.insertBefore(t,e.firstChild)}var n=this.parentNode;n.classList.add("mdl-slider-container"),n.insertAdjacentHTML("beforeend",'<div class="mdl-slider-background-flex-container"><div class="mdl-slider-background-flex"><div class="mdl-slider-background-flex-inner"><div class="mdl-slider-background-upper"></div><div class="mdl-slider-background-lower"></div></div></div></div><div class="sliderBubbleTrack"><div class="sliderBubble hide"></div></div>'),this.sliderBubbleTrack=n.querySelector(".sliderBubbleTrack"),this.backgroundLower=n.querySelector(".mdl-slider-background-lower"),this.backgroundUpper=n.querySelector(".mdl-slider-background-upper");var s=n.querySelector(".sliderBubble"),o=s.classList.contains("hide");this.markerContainerElement=n.querySelector(".sliderMarkerContainer"),i.ZP.addEventListener(this,"input",(function(){var e,t,n,a;this.dragging=!0,"true"!==this.dataset.sliderKeepProgress&&v.call(this),h(this,100*(e=this,t=this.value,a=0!==(n=e.max-e.min)?(t-e.min)/n:0,Math.min(Math.max(a,0),1)),s),o&&(s.classList.remove("hide"),o=!1)}),{passive:!0}),i.ZP.addEventListener(this,"change",(function(){this.dragging=!1,"true"===this.dataset.sliderKeepProgress&&v.call(this),s.classList.add("hide"),o=!0}),{passive:!0}),i.ZP.addEventListener(this,window.PointerEvent?"pointermove":"mousemove",(function(e){this.dragging||(h(this,100*f(this,e.clientX),s),o&&(s.classList.remove("hide"),o=!1))}),{passive:!0}),i.ZP.addEventListener(this,window.PointerEvent?"pointerleave":"mouseleave",(function(){s.classList.add("hide"),o=!0}),{passive:!0}),a.Z.iOS&&(i.ZP.addEventListener(this,"touchstart",(function(e){if(1===e.targetTouches.length){this.touched=!0;var t=f(this,e.targetTouches[0].clientX);this.value=p(this,t),this.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!1})),e.preventDefault()}}),{capture:!0}),i.ZP.addEventListener(this,"touchmove",(function(e){if(this.touched&&1===e.targetTouches.length){var t=f(this,e.targetTouches[0].clientX);this.value=p(this,t),this.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!1}))}}),{passive:!0}),i.ZP.addEventListener(this,"touchend",(function(){var e=this;setTimeout((function(){e.touched=!1,e.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!1}))}),0)}),{passive:!0})),u?this.addEventListener("valueset",v.bind(this,!0)):((l=(c=this).interval)&&clearInterval(l),c.interval=setInterval(v.bind(c,!0),100))}var c,l},d.enableKeyboardDragging=function(){this.keyboardDraggingEnabled||(this.addEventListener("keydown",b),this.keyboardDraggingEnabled=!0)},d.setKeyboardSteps=function(e,t){this.keyboardStepDown=e||t||1,this.keyboardStepUp=t||e||1},d.setBufferedRanges=function(e,t,n){var a=this.backgroundUpper;if(a){null!=t&&(e=function(e,t){return t?e.map((function(e){return{start:e.start/t*100,end:e.end/t*100}})):[]}(e,t),n=n/t*100);var i,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw r}}}}(e);try{for(r.s();!(i=r.n()).done;){var s=i.value;if(!(null!=n&&n>=s.end))return void P(a,s.start,s.end)}}catch(e){r.e(e)}finally{r.f()}P(a,0,0)}},d.setIsClear=function(e){var t=this.backgroundLower;t&&(e?t.classList.add("mdl-slider-background-lower-clear"):t.classList.remove("mdl-slider-background-lower-clear"))},d.detachedCallback=function(){var e=this.interval;e&&clearInterval(e),this.interval=null,this.backgroundUpper=null,this.backgroundLower=null},document.registerElement("emby-slider",{prototype:d,extends:"input"})}}]);