(self.webpackChunk=self.webpackChunk||[]).push([[10739],{51938:function(e,t,r){"use strict";r(78557),r(73687);var i=r(98320),n=r(23648);function a(e){return"Video"===e.MediaType&&"TvChannel"!==e.Type||"AudioBook"===e.Type||"AudioPodcast"===e.Type}function o(e,t){var r="itemProgressBar";return null!=t&&t.containerClass&&(r+=" "+t.containerClass),'<div class="'+r+'"><div class="itemProgressBarForeground" style="width:'+e+'%;"></div></div>'}function s(e){return n.Ay.canMarkPlayed(e)}function c(e){return e>=100?"99+":e.toString()}r(12383),t.Ay={getProgressHtml:o,getProgressBarHtml:function(e,t){var r;if(a(e)&&"Recording"!==e.Type){var n=null!=t&&t.userData?t.userData:e.UserData;if(n&&(r=n.PlayedPercentage)&&r<100)return o(r,t)}if(("Program"===e.Type||"Timer"===e.Type||"Recording"===e.Type)&&e.StartDate&&e.EndDate){var s=0,c=1;try{s=i.Ay.parseISO8601Date(e.StartDate).getTime(),c=i.Ay.parseISO8601Date(e.EndDate).getTime()}catch(e){console.error(e)}if((r=((new Date).getTime()-s)/(c-s)*100)>0&&r<100)return function(e,t,r,i,n){var a="itemProgressBar";null!=t&&t.containerClass&&(a+=" "+t.containerClass);var o="itemProgressBarForeground";return r&&(o+=" itemProgressBarForeground-recording"),'<div is="emby-progressbar" data-automode="time" data-starttime="'+i+'" data-endtime="'+n+'" class="'+a+'"><div class="'+o+'" style="width:'+e+'%;"></div></div>'}(r,t,"Timer"===e.Type||"Recording"===e.Type||e.TimerId,s,c)}return""},getPlayedIndicatorHtml:function(e){if(s(e)){var t=e.UserData||{};if(t.UnplayedItemCount)return'<div class="countIndicator indicator">'+c(t.UnplayedItemCount)+"</div>";if(t.PlayedPercentage&&t.PlayedPercentage>=100||t.Played)return'<div class="playedIndicator indicator"><span class="material-icons indicatorIcon check" aria-hidden="true"></span></div>'}return""},getChildCountIndicatorHtml:function(e,t){var r=null!=t&&t.minCount?t.minCount:0;return e.ChildCount&&e.ChildCount>r?'<div class="countIndicator indicator">'+c(e.ChildCount)+"</div>":""},enableProgressIndicator:a,getTimerIndicator:function(e){var t;if("SeriesTimer"===e.Type)return'<span class="material-icons timerIndicator indicatorIcon fiber_smart_record" aria-hidden="true"></span>';if(e.TimerId||e.SeriesTimerId)t=e.Status||"Cancelled";else{if("Timer"!==e.Type)return"";t=e.Status}return e.SeriesTimerId?"Cancelled"!==t?'<span class="material-icons timerIndicator indicatorIcon fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons timerIndicator timerIndicator-inactive indicatorIcon fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons timerIndicator indicatorIcon fiber_manual_record" aria-hidden="true"></span>'},enablePlayedIndicator:s,getSyncIndicator:function(e){return 100===e.SyncPercent?'<div class="syncIndicator indicator fullSyncIndicator"><span class="material-icons indicatorIcon file_download" aria-hidden="true"></span></div>':null!=e.SyncPercent?'<div class="syncIndicator indicator emptySyncIndicator"><span class="material-icons indicatorIcon file_download" aria-hidden="true"></span></div>':""},getTypeIndicator:function(e){var t={Video:"videocam",Folder:"folder",PhotoAlbum:"photo_album",Photo:"photo"}[e.Type];return t?'<div class="indicator videoIndicator"><span class="material-icons indicatorIcon '+t+'" aria-hidden="true"></span></div>':""},getMissingIndicator:function(e){if("Episode"===e.Type&&"Virtual"===e.LocationType){if(e.PremiereDate)try{if(i.Ay.parseISO8601Date(e.PremiereDate).getTime()>(new Date).getTime())return'<div class="unairedIndicator">Unaired</div>'}catch(e){console.error(e)}return'<div class="missingIndicator">Missing</div>'}return""}}},82180:function(e,t,r){"use strict";r(24776),r(14382),r(86584),r(9698),r(78557);var i=r(22696),n=r.n(i),a=r(98320),o=r(5898),s=r(70267),c=r(23648),d=r(51938),l=(r(10353),r(82885));function u(e){if("Video"===e.MediaType&&e.RunTimeTicks&&!e.StartDate){var t=(new Date).getTime()+e.RunTimeTicks/1e4;t=new Date(t);var r=a.Ay.getDisplayTime(t);return o.Ay.translate("EndsAtValue",r)}return null}function m(e,t){t=t?"".concat(t," mediaInfoItem"):"mediaInfoItem";var r=e;if("string"!=typeof e&&"number"!=typeof e){if(e.html)return e.html;r=e.text,t+=" ".concat(e.cssClass)}return'<div class="'.concat(t,'">').concat(r,"</div>")}function g(e,t,r){if(!1!==r.endsAt){var i=e.querySelector(".endsAt");i&&function(e,t){var r=setInterval((function(){document.body.contains(e)?e.innerHTML=u(t):clearInterval(r)}),6e4)}(i,t)}var n=e.querySelector(".lnkChannel");n&&n.addEventListener("click",p)}function p(e){var t=this.getAttribute("data-id"),r=this.getAttribute("data-serverid");return s.appRouter.showItem(t,r),e.preventDefault(),!1}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return void 0===t.interactive&&(t.interactive=!1),function(e){var t,r,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},g="",p=[],y="MusicAlbum"===e.Type||"MusicArtist"===e.MediaType||"Playlist"===e.Type||"Playlist"===e.MediaType||"MusicGenre"===e.MediaType;if(y?((i=e.SongCount||e.ChildCount)&&p.push(o.Ay.translate("TrackCount",i)),e.RunTimeTicks&&p.push(a.Ay.getDisplayDuration(e.RunTimeTicks))):"PhotoAlbum"!==e.Type&&"BoxSet"!==e.Type||(i=e.ChildCount)&&p.push(o.Ay.translate("ItemCount",i)),("Episode"===e.Type||"Photo"===e.MediaType)&&!1!==s.originalAirDate&&e.PremiereDate)try{r=a.Ay.parseISO8601Date(e.PremiereDate,"Episode"!==e.Type),t=a.Ay.toLocaleDateString(r),p.push(t)}catch(t){console.error("error parsing date:",e.PremiereDate)}if("SeriesTimer"===e.Type&&(e.RecordAnyTime?p.push(o.Ay.translate("Anytime")):p.push(a.Ay.getDisplayTime(e.StartDate)),e.RecordAnyChannel?p.push(o.Ay.translate("AllChannels")):p.push(e.ChannelName||o.Ay.translate("OneChannel"))),e.StartDate&&"Program"!==e.Type&&"SeriesTimer"!==e.Type&&"Timer"!==e.Type)try{r=a.Ay.parseISO8601Date(e.StartDate),t=a.Ay.toLocaleDateString(r),p.push(t),"Recording"!==e.Type&&(t=a.Ay.getDisplayTime(r),p.push(t))}catch(t){console.error("error parsing date:",e.StartDate)}if(!1!==s.year&&e.ProductionYear&&"Series"===e.Type)if("Continuing"===e.Status)p.push(o.Ay.translate("SeriesYearToPresent",a.Ay.toLocaleString(e.ProductionYear,{useGrouping:!1})));else if(e.ProductionYear){if(t=a.Ay.toLocaleString(e.ProductionYear,{useGrouping:!1}),e.EndDate)try{var f=a.Ay.toLocaleString(a.Ay.parseISO8601Date(e.EndDate).getFullYear(),{useGrouping:!1});f!==t&&(t+=" - ".concat(f))}catch(t){console.error("error parsing date:",e.EndDate)}p.push(t)}if("Program"===e.Type||"Timer"===e.Type){var h=e;if("Timer"===e.Type&&(h=e.ProgramInfo),!1!==s.programIndicator&&(h.IsLive&&"true"===l.get("guide-indicator-live")?p.push({html:'<div class="mediaInfoProgramAttribute mediaInfoItem liveTvProgram">'.concat(o.Ay.translate("Live"),"</div>")}):h.IsPremiere&&"true"===l.get("guide-indicator-premiere")?p.push({html:'<div class="mediaInfoProgramAttribute mediaInfoItem premiereTvProgram">'.concat(o.Ay.translate("Premiere"),"</div>")}):h.IsSeries&&!h.IsRepeat&&"true"===l.get("guide-indicator-new")?p.push({html:'<div class="mediaInfoProgramAttribute mediaInfoItem newTvProgram">'.concat(o.Ay.translate("New"),"</div>")}):h.IsSeries&&h.IsRepeat&&"true"===l.get("guide-indicator-repeat")&&p.push({html:'<div class="mediaInfoProgramAttribute mediaInfoItem repeatTvProgram">'.concat(o.Ay.translate("Repeat"),"</div>")})),(h.IsSeries||h.EpisodeTitle)&&!1!==s.episodeTitle)(t=c.Ay.getDisplayName(h,{includeIndexNumber:s.episodeTitleIndexNumber}))&&p.push(n()(t));else if(h.IsMovie&&h.ProductionYear&&!1!==s.originalAirDate)p.push(h.ProductionYear);else if(h.PremiereDate&&!1!==s.originalAirDate)try{r=a.Ay.parseISO8601Date(h.PremiereDate),t=o.Ay.translate("OriginalAirDateValue",a.Ay.toLocaleDateString(r)),p.push(t)}catch(e){console.error("error parsing date:",h.PremiereDate)}else h.ProductionYear&&!1!==s.year&&p.push(h.ProductionYear)}if(!1!==s.year&&"Series"!==e.Type&&"Episode"!==e.Type&&"Person"!==e.Type&&"Photo"!==e.MediaType&&"Program"!==e.Type&&"Season"!==e.Type)if(e.ProductionYear)p.push(e.ProductionYear);else if(e.PremiereDate)try{t=a.Ay.toLocaleString(a.Ay.parseISO8601Date(e.PremiereDate).getFullYear(),{useGrouping:!1}),p.push(t)}catch(t){console.error("error parsing date:",e.PremiereDate)}if(e.RunTimeTicks&&"Series"!==e.Type&&"Program"!==e.Type&&"Timer"!==e.Type&&"Book"!==e.Type&&!y&&!1!==s.runtime&&("Audio"===e.Type?p.push(a.Ay.getDisplayRunningTime(e.RunTimeTicks)):p.push(a.Ay.getDisplayDuration(e.RunTimeTicks))),!1!==s.officialRating&&e.OfficialRating&&"Season"!==e.Type&&"Episode"!==e.Type&&p.push({text:e.OfficialRating,cssClass:"mediaInfoText mediaInfoOfficialRating"}),e.Video3DFormat&&p.push("3D"),"Photo"===e.MediaType&&e.Width&&e.Height&&p.push("".concat(e.Width,"x").concat(e.Height)),!1!==s.container&&"Audio"===e.Type&&e.Container&&p.push(e.Container),g+=p.map((function(e){return m(e)})).join(""),!1!==s.starRating&&(g+=function(e){var t="";return e.CommunityRating&&(t+='<div class="starRatingContainer mediaInfoItem">',t+='<span class="material-icons starIcon star" aria-hidden="true"></span>',t+=e.CommunityRating.toFixed(1),t+="</div>"),t}(e)),e.HasSubtitles&&!1!==s.subtitles&&(g+='<div class="mediaInfoItem mediaInfoText closedCaptionMediaInfoText">CC</div>'),e.CriticRating&&!1!==s.criticRating&&(e.CriticRating>=60?g+='<div class="mediaInfoItem mediaInfoCriticRating mediaInfoCriticRatingFresh">'.concat(e.CriticRating,"</div>"):g+='<div class="mediaInfoItem mediaInfoCriticRating mediaInfoCriticRatingRotten">'.concat(e.CriticRating,"</div>")),!1!==s.endsAt){var v=u(e);v&&(g+=m(v,"endsAt"))}return g+d.Ay.getMissingIndicator(e)}(e,t)}function f(e,t){return null==(t=t||{}).interactive&&(t.interactive=!1),"Program"===e.Type?function(e,t){var r,i,o=[];if(e.StartDate&&!1!==t.programTime)try{r="",i=a.Ay.parseISO8601Date(e.StartDate),!1!==t.startDate&&(r+=a.Ay.toLocaleDateString(i,{weekday:"short",month:"short",day:"numeric"})),r+=" ".concat(a.Ay.getDisplayTime(i)),e.EndDate&&(i=a.Ay.parseISO8601Date(e.EndDate),r+=" - ".concat(a.Ay.getDisplayTime(i))),o.push(r)}catch(t){console.error("error parsing date:",e.StartDate)}if(e.ChannelNumber&&o.push("CH ".concat(e.ChannelNumber)),e.ChannelName&&(t.interactive&&e.ChannelId?o.push({html:'<a is="emby-linkbutton" class="button-flat mediaInfoItem" href="'.concat(s.appRouter.getRouteUrl({ServerId:e.ServerId,Type:"TvChannel",Name:e.ChannelName,Id:e.ChannelId}),'">').concat(n()(e.ChannelName),"</a>")}):o.push(n()(e.ChannelName))),!1!==t.timerIndicator){var c=function(e){var t;if("SeriesTimer"===e.Type)return'<span class="material-icons mediaInfoItem mediaInfoIconItem mediaInfoTimerIcon fiber_smart_record" aria-hidden="true"></span>';if(e.TimerId||e.SeriesTimerId)t=e.Status||"Cancelled";else{if("Timer"!==e.Type)return"";t=e.Status}return e.SeriesTimerId?"Cancelled"!==t?'<span class="material-icons mediaInfoItem mediaInfoIconItem mediaInfoTimerIcon fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons mediaInfoItem mediaInfoIconItem fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons mediaInfoItem mediaInfoIconItem mediaInfoTimerIcon fiber_manual_record" aria-hidden="true"></span>'}(e);c&&o.push({html:c})}return""+o.map((function(e){return m(e)})).join("")}(e,t):""}function h(e){var t=e.Width,r=e.Height;if(t&&r){if(t>=3800||r>=2e3)return"4K";if(t>=2500||r>=1400)return e.IsInterlaced?"1440i":"1440p";if(t>=1800||r>=1e3)return e.IsInterlaced?"1080i":"1080p";if(t>=1200||r>=700)return e.IsInterlaced?"720i":"720p";if(t>=700||r>=400)return e.IsInterlaced?"480i":"480p"}return null}t.Ay={getMediaInfoHtml:y,getEndsAt:u,getEndsAtFromPosition:function(e,t,r,i){var n=(new Date).getTime()+1/r*((e-(t||0))/1e4);n=new Date(n);var s=a.Ay.getDisplayTime(n);return!1===i?s:o.Ay.translate("EndsAtValue",s)},getPrimaryMediaInfoHtml:y,getSecondaryMediaInfoHtml:f,fillPrimaryMediaInfo:function(e,t,r){var i=y(t,r);e.innerHTML=i,g(e,t,r)},fillSecondaryMediaInfo:function(e,t,r){var i=f(t,r);e.innerHTML=i,g(e,t,r)},getMediaInfoStats:function(e){var t=[],r=(((e.MediaSources||[])[0]||{}).MediaStreams||[]).filter((function(e){return"Video"===e.Type}))[0]||{},i=function(e){if(!e.MediaSources)return null;var t=e.MediaSources[0];return t?(t.MediaStreams||[]).filter((function(e){return"Audio"===e.Type&&(e.Index===t.DefaultAudioStreamIndex||null==t.DefaultAudioStreamIndex)}))[0]:null}(e)||{};"Dvd"===e.VideoType&&t.push({type:"mediainfo",text:"Dvd"}),"BluRay"===e.VideoType&&t.push({type:"mediainfo",text:"BluRay"});var n=h(r);n&&t.push({type:"mediainfo",text:n}),r.Codec&&t.push({type:"mediainfo",text:r.Codec});var s,d=i.Channels;8===d?s="7.1":7===d?s="6.1":6===d?s="5.1":2===d&&(s="2.0"),s&&t.push({type:"mediainfo",text:s});var l=(i.Codec||"").toLowerCase();if("dca"!==l&&"dts"!==l||!i.Profile?i.Codec&&t.push({type:"mediainfo",text:i.Codec}):t.push({type:"mediainfo",text:i.Profile}),e.DateCreated&&c.Ay.enableDateAddedDisplay(e)){var u=a.Ay.parseISO8601Date(e.DateCreated);t.push({type:"added",text:o.Ay.translate("AddedOnValue","".concat(a.Ay.toLocaleDateString(u)," ").concat(a.Ay.getDisplayTime(u)))})}return t},getResolutionText:h}},63834:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return S}}),r(24776),r(44962),r(78557),r(90076),r(83994),r(82367);var i,n,a,o=r(79754),s=r(5898),c=r(46782),d=r(82180),l=r(8566),u=r(10838),m=r(98320),g=r(76542),p=r(5996),y=r(44797),f=(r(10353),r(15453),r(77157),r(81077),r(98959),r(86191)),h=r(21069),v=r.p+"6de874568a98308c4a74.png";function I(){o.default.close(i)}function T(e,t,r,i){l.Ay.show();var n=f.A.getApiClient(r),a=n.getNewLiveTvTimerDefaults({programId:t}),o=n.getLiveTvProgram(t,n.getCurrentUserId());Promise.all([a,o]).then((function(t){t[0];var r=t[1];!function(e,t,r,i,n){if(!n){var a=function(e,t,r){var i=e.ImageTags||{};return e.PrimaryImageTag&&(i.Primary=e.PrimaryImageTag),i.Primary?t.getScaledImageUrl(e.Id,{type:"Primary",maxHeight:200,tag:e.ImageTags.Primary}):i.Thumb?t.getScaledImageUrl(e.Id,{type:"Thumb",maxHeight:200,tag:e.ImageTags.Thumb}):null}(r,i),o=e.querySelector(".recordingDialog-imageContainer");a?(o.innerHTML='<img src="'.concat(v,'" data-src="').concat(a,'" class="recordingDialog-img lazy" />'),o.classList.remove("hide"),g.default.lazyChildren(o)):(o.innerHTML="",o.classList.add("hide")),e.querySelector(".recordingDialog-itemName").innerText=r.Name,e.querySelector(".formDialogHeaderTitle").innerText=r.Name,e.querySelector(".itemGenres").innerText=(r.Genres||[]).join(" / "),e.querySelector(".itemOverview").innerText=r.Overview||"";var s=e.querySelector(".formDialogFooter"),c=new Date;c>=m.Ay.parseISO8601Date(r.StartDate,!0)&&c<m.Ay.parseISO8601Date(r.EndDate,!0)?s.classList.remove("hide"):s.classList.add("hide"),e.querySelector(".itemMiscInfoPrimary").innerHTML=d.Ay.getPrimaryMediaInfoHtml(r)}e.querySelector(".itemMiscInfoSecondary").innerHTML=d.Ay.getSecondaryMediaInfoHtml(r,{}),l.Ay.hide()}(e,0,r,n,i)}))}var S={show:function(e,t){return new Promise((function(r,d){n=null,l.Ay.show();var m={removeOnClose:!0,scrollY:!1};c.A.tv?m.size="fullscreen":m.size="small";var g=o.default.createDialog(m);g.classList.add("formDialog"),g.classList.add("recordingDialog");var v,S="";function b(){T(g,e,t,!0)}S+=s.Ay.translateHtml('<div class="formDialogHeader"> <button is="paper-icon-button-light" class="btnCancel autoSize" tabindex="-1" title="${ButtonBack}"><span class="material-icons arrow_back" aria-hidden="true"></span></button> <h3 class="formDialogHeaderTitle"></h3> </div> <div class="formDialogContent smoothScrollY"> <form class="dialogContentInner dialog-content-centered"> <div class="recordingDetailsContainer"> <div class="recordingDialog-imageContainer"> </div> <div class="recordingDetails"> <h1 class="programDialog-itemName recordingDialog-itemName dialogContentTitle"></h1> <p class="itemMiscInfoPrimary recordingDetailText"></p> <p class="itemMiscInfoSecondary recordingDetailText secondaryText"></p> <p class="itemGenres secondaryText"></p> <div style="margin:.5em 0 1em" class="recordingFields"> </div> </div> </div> <p class="itemOverview"></p> <br/> <div class="formDialogFooter hide"> <button is="emby-button" type="button" class="raised btnPlay block formDialogFooterItem button-submit"> <span>${Play}</span> </button> </div> </form> </div> ',"core"),g.innerHTML=S,i=g,g.addEventListener("close",(function(){var i;y.A.off(a,"recordingchanged",b),function(e,t,r){if("play"===e){var i=f.A.getApiClient(r);i.getLiveTvProgram(t,i.getCurrentUserId()).then((function(e){h.f.play({ids:[e.ChannelId],serverId:r})}))}}(n,e,t),null!==(i=a)&&void 0!==i&&i.hasChanged()?r():d()})),c.A.tv&&u.default.centerFocus.on(g.querySelector(".formDialogContent"),!1),(v=g).querySelector(".btnPlay").addEventListener("click",(function(){n="play",I()})),v.querySelector(".btnCancel").addEventListener("click",(function(){n=null,I()})),T(g,e,t),a=new p.default({parent:g.querySelector(".recordingFields"),programId:e,serverId:t}),y.A.on(a,"recordingchanged",b),o.default.open(g)}))}}},5996:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return S}}),r(29305),r(32733),r(84701),r(81678),r(44962),r(4754),r(94),r(36947),r(78557),r(90076),r(83994),r(82367);var i=r(5898),n=r(44797),a=r(10736),o=r(8566),s=r(47629),c=r(78938),d=(r(10353),r(15453),r(86191)),l=r(50764);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function m(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,g(i.key),i)}}function g(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=u(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}function p(e){var t=e.options,r=d.A.getApiClient(t.serverId);return t.parent.querySelector(".recordingFields").classList.remove("hide"),r.getLiveTvProgram(t.programId,r.getCurrentUserId()).then((function(r){e.TimerId=r.TimerId,e.Status=r.Status,e.SeriesTimerId=r.SeriesTimerId,function(e,t){t.IsSeries?e.querySelector(".recordSeriesContainer").classList.remove("hide"):e.querySelector(".recordSeriesContainer").classList.add("hide"),t.SeriesTimerId?(e.querySelector(".btnManageSeriesRecording").classList.remove("hide"),e.querySelector(".seriesRecordingButton .recordingIcon").classList.add("recordingIcon-active"),e.querySelector(".seriesRecordingButton .buttonText").innerHTML=i.Ay.translate("CancelSeries")):(e.querySelector(".btnManageSeriesRecording").classList.add("hide"),e.querySelector(".seriesRecordingButton .recordingIcon").classList.remove("recordingIcon-active"),e.querySelector(".seriesRecordingButton .buttonText").innerHTML=i.Ay.translate("RecordSeries")),t.TimerId&&"Cancelled"!==t.Status?(e.querySelector(".btnManageRecording").classList.remove("hide"),e.querySelector(".singleRecordingButton .recordingIcon").classList.add("recordingIcon-active"),"InProgress"===t.Status?e.querySelector(".singleRecordingButton .buttonText").innerHTML=i.Ay.translate("StopRecording"):e.querySelector(".singleRecordingButton .buttonText").innerHTML=i.Ay.translate("DoNotRecord")):(e.querySelector(".btnManageRecording").classList.add("hide"),e.querySelector(".singleRecordingButton .recordingIcon").classList.remove("recordingIcon-active"),e.querySelector(".singleRecordingButton .buttonText").innerHTML=i.Ay.translate("Record"))}(t.parent,r)}))}function y(e,t,r){var i=this.options;(r.Id&&this.TimerId===r.Id||r.ProgramId&&i&&i.programId===r.ProgramId)&&this.refresh()}function f(e,t,r){var i=this.options;(r.Id&&this.SeriesTimerId===r.Id||r.ProgramId&&i&&i.programId===r.ProgramId)&&this.refresh()}function h(){var e=this.options;if(this.TimerId&&"Cancelled"!==this.Status){var t=this;r.e(59801).then(r.bind(r,59801)).then((function(r){r.default.show(t.TimerId,e.serverId,{enableCancel:!1}).then((function(){t.changed=!0}))}))}}function v(){var e=this.options;if(this.SeriesTimerId){var t=this;r.e(72681).then(r.bind(r,72681)).then((function(r){r.default.show(t.SeriesTimerId,e.serverId,{enableCancel:!1}).then((function(){t.changed=!0}))}))}}function I(e){this.changed=!0;var t=this,r=this.options,i=d.A.getApiClient(r.serverId),a=!s.Ay.parentWithTag(e.target,"BUTTON").querySelector(".material-icons").classList.contains("recordingIcon-active"),l=this.TimerId&&"Cancelled"!==this.Status;a?l||(o.Ay.show(),c.default.createRecording(i,r.programId,!1).then((function(){n.A.trigger(t,"recordingchanged"),p(t),o.Ay.hide()}))):l&&(o.Ay.show(),c.default.cancelTimer(i,this.TimerId,!0).then((function(){n.A.trigger(t,"recordingchanged"),p(t),o.Ay.hide()})))}function T(e){this.changed=!0;var t=this,r=this.options,n=d.A.getApiClient(r.serverId);s.Ay.parentWithTag(e.target,"BUTTON").querySelector(".material-icons").classList.contains("recordingIcon-active")?this.SeriesTimerId&&n.cancelLiveTvSeriesTimer(this.SeriesTimerId).then((function(){(0,l.A)(i.Ay.translate("RecordingCancelled")),p(t)})):(r.parent.querySelector(".recordSeriesContainer").classList.remove("hide"),this.SeriesTimerId||(this.TimerId?c.default.changeRecordingToSeries(n,this.TimerId,r.programId):c.default.createRecording(n,r.programId,!0)).then((function(){p(t)})))}var S=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.embed();var r=y.bind(this);this.timerChangedHandler=r,n.A.on(a.default,"TimerCreated",r),n.A.on(a.default,"TimerCancelled",r);var i=f.bind(this);this.seriesTimerChangedHandler=i,n.A.on(a.default,"SeriesTimerCreated",i),n.A.on(a.default,"SeriesTimerCancelled",i)},(t=[{key:"embed",value:function(){var e=this;return new Promise((function(t){var r=e.options.parent;r.innerHTML=i.Ay.translateHtml('<div class="recordingFields hide"> <div class="recordSeriesContainer recordingFields-buttons flex align-items-center hide"> <div> <button is="emby-button" type="button" class="raised recordingButton seriesRecordingButton"> <span class="material-icons recordingIcon fiber_smart_record" aria-hidden="true"></span> <span class="buttonText">${RecordSeries}</span> </button> </div> <button is="emby-button" type="button" class="button-flat secondaryText manageRecordingButton btnManageSeriesRecording hide"> <span class="manageButtonText">${SeriesSettings}</span> </button> </div> <div class="recordingFields-buttons flex align-items-center"> <div> <button is="emby-button" type="button" class="raised recordingButton singleRecordingButton"> <span class="material-icons recordingIcon fiber_manual_record" aria-hidden="true"></span> <span class="buttonText">${Record}</span> </button> </div> <button is="emby-button" type="button" class="button-flat secondaryText manageRecordingButton btnManageRecording hide"> <span class="manageButtonText">${Settings}</span> </button> </div> </div> ',"core"),r.querySelector(".singleRecordingButton").addEventListener("click",I.bind(e)),r.querySelector(".seriesRecordingButton").addEventListener("click",T.bind(e)),r.querySelector(".btnManageRecording").addEventListener("click",h.bind(e)),r.querySelector(".btnManageSeriesRecording").addEventListener("click",v.bind(e)),p(e).then(t)}))}},{key:"hasChanged",value:function(){return this.changed}},{key:"refresh",value:function(){p(this)}},{key:"destroy",value:function(){var e=this.timerChangedHandler;this.timerChangedHandler=null,n.A.off(a.default,"TimerCreated",e),n.A.off(a.default,"TimerCancelled",e);var t=this.seriesTimerChangedHandler;this.seriesTimerChangedHandler=null,n.A.off(a.default,"SeriesTimerCreated",t),n.A.off(a.default,"SeriesTimerCancelled",t)}}])&&m(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}()},81077:function(e,t,r){"use strict";r(69177),r(10353);var i=Object.create(HTMLDivElement.prototype);function n(){var e=this,t=e.parentNode.querySelector(".collapseContent");t.expanded?(t.expanded=!1,function(e,t){requestAnimationFrame((function(){t.style.height=t.offsetHeight+"px",t.offsetHeight,t.classList.remove("expanded"),t.style.height="0",setTimeout((function(){t.classList.contains("expanded")?t.classList.remove("hide"):t.classList.add("hide")}),300),e.querySelector(".material-icons").classList.remove("emby-collapse-expandIconExpanded")}))}(e,t)):(t.expanded=!0,function(e,t){requestAnimationFrame((function(){t.classList.remove("hide"),t.classList.add("expanded"),t.style.height="auto";var r=t.offsetHeight+"px";t.style.height="0",t.offsetHeight,t.style.height=r,setTimeout((function(){t.classList.contains("expanded")?t.classList.remove("hide"):t.classList.add("hide"),t.style.height="auto"}),300),e.querySelector(".material-icons").classList.add("emby-collapse-expandIconExpanded")}))}(e,t))}i.attachedCallback=function(){if(!this.classList.contains("emby-collapse")){this.classList.add("emby-collapse");var e=this.querySelector(".collapseContent");e&&e.classList.add("hide");var t=this.getAttribute("title"),r='<button is="emby-button" type="button" on-click="toggleExpand" id="expandButton" class="emby-collapsible-button iconRight"><h3 class="emby-collapsible-title" title="'+t+'">'+t+'</h3><span class="material-icons emby-collapse-expandIcon expand_more" aria-hidden="true"></span></button>';this.insertAdjacentHTML("afterbegin",r);var i=this.querySelector(".emby-collapsible-button");i.addEventListener("click",n),"true"===this.getAttribute("data-expanded")&&n.call(i)}},document.registerElement("emby-collapse",{prototype:i,extends:"div"})},12383:function(e,t,r){r(96054);var i=Object.create(HTMLDivElement.prototype);function n(){var e=parseInt(this.getAttribute("data-starttime"),10),t=parseInt(this.getAttribute("data-endtime"),10),r=((new Date).getTime()-e)/(t-e)*100;r=Math.min(100,r),r=Math.max(0,r),this.querySelector(".itemProgressBarForeground").style.width=r+"%"}i.attachedCallback=function(){this.timeInterval&&clearInterval(this.timeInterval),"time"===this.getAttribute("data-automode")&&(this.timeInterval=setInterval(n.bind(this),6e4))},i.detachedCallback=function(){this.timeInterval&&(clearInterval(this.timeInterval),this.timeInterval=null)},document.registerElement("emby-progressbar",{prototype:i,extends:"div"})}}]);