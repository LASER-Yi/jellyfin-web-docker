"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[35273,49213,55357,71483],{75899:function(e,r,t){t.r(r),t.d(r,{default:function(){return d}}),t(5769),t(63238),t(61418),t(17460),t(14078);var a=t(28540),s=t(71487),n=t(94994),i=(t(38228),t(60635)),o=t(56663),c=t(3137);function l(e,r){var a=r.userId;ApiClient.getUser(a).then((function(r){i.default.getCurrentUser().then((function(a){s.default.setTitle(r.Name),e.querySelector(".username").innerText=r.Name;var n=!0,i=!1;"Guest"==r.ConnectLinkType?(e.querySelector(".localAccessSection").classList.add("hide"),n=!1):r.HasConfiguredPassword?(e.querySelector("#btnResetPassword").classList.remove("hide"),e.querySelector("#fldCurrentPassword").classList.remove("hide"),i=!0):(e.querySelector("#btnResetPassword").classList.add("hide"),e.querySelector("#fldCurrentPassword").classList.add("hide")),n&&(a.Policy.IsAdministrator||r.Policy.EnableUserPreferenceAccess)?e.querySelector(".passwordSection").classList.remove("hide"):e.querySelector(".passwordSection").classList.add("hide"),i&&(a.Policy.IsAdministrator||r.Policy.EnableUserPreferenceAccess)?e.querySelector(".localAccessSection").classList.remove("hide"):e.querySelector(".localAccessSection").classList.add("hide");var o=e.querySelector("#txtEasyPassword");o.value="",r.HasConfiguredEasyPassword?(o.placeholder="******",e.querySelector("#btnResetEasyPassword").classList.remove("hide")):(o.removeAttribute("placeholder"),o.placeholder="",e.querySelector("#btnResetEasyPassword").classList.add("hide")),e.querySelector(".chkEnableLocalEasyPassword").checked=r.Configuration.EnableLocalPassword,Promise.resolve().then(t.bind(t,87680)).then((function(r){r.default.autoFocus(e)}))}))})),e.querySelector("#txtCurrentPassword").value="",e.querySelector("#txtNewPassword").value="",e.querySelector("#txtNewPasswordConfirm").value=""}function d(e,r){function t(t){ApiClient.getUser(t).then((function(t){t.Configuration.EnableLocalPassword=e.querySelector(".chkEnableLocalEasyPassword").checked,ApiClient.updateUserConfiguration(t.Id,t.Configuration).then((function(){a.ZP.hide(),(0,o.Z)(n.ZP.translate("SettingsSaved")),l(e,r)}))}))}e.querySelector(".updatePasswordForm").addEventListener("submit",(function(t){var s,c,d;return this.querySelector("#txtNewPassword").value!=this.querySelector("#txtNewPasswordConfirm").value?(0,o.Z)(n.ZP.translate("PasswordMatchError")):(a.ZP.show(),s=r.userId,c=e.querySelector("#txtCurrentPassword").value,d=e.querySelector("#txtNewPassword").value,e.querySelector("#fldCurrentPassword").classList.contains("hide")&&(c=""),ApiClient.updateUserPassword(s,c,d).then((function(){a.ZP.hide(),(0,o.Z)(n.ZP.translate("PasswordSaved")),l(e,r)}),(function(){a.ZP.hide(),i.default.alert({title:n.ZP.translate("HeaderLoginFailure"),message:n.ZP.translate("MessageInvalidUser")})}))),t.preventDefault(),!1})),e.querySelector(".localAccessForm").addEventListener("submit",(function(s){var n,i;return a.ZP.show(),n=r.userId,(i=e.querySelector("#txtEasyPassword").value)?ApiClient.updateEasyPassword(n,i).then((function(){t(n)})):t(n),s.preventDefault(),!1})),e.querySelector("#btnResetEasyPassword").addEventListener("click",(function(){var t=n.ZP.translate("PinCodeResetConfirmation");(0,c.Z)(t,n.ZP.translate("HeaderPinCodeReset")).then((function(){var t=r.userId;a.ZP.show(),ApiClient.resetEasyPassword(t).then((function(){a.ZP.hide(),i.default.alert({message:n.ZP.translate("PinCodeResetComplete"),title:n.ZP.translate("HeaderPinCodeReset")}),l(e,r)}))}))})),e.querySelector("#btnResetPassword").addEventListener("click",(function(){var t=n.ZP.translate("PasswordResetConfirmation");(0,c.Z)(t,n.ZP.translate("ResetPassword")).then((function(){var t=r.userId;a.ZP.show(),ApiClient.resetUserPassword(t).then((function(){a.ZP.hide(),i.default.alert({message:n.ZP.translate("PasswordResetComplete"),title:n.ZP.translate("ResetPassword")}),l(e,r)}))}))})),e.addEventListener("viewshow",(function(){l(e,r)}))}},17905:function(e,r,t){t.r(r),t.d(r,{default:function(){return h}}),t(52077),t(1203);var a=t(75899),s=t(28540),n=t(71487),i=t(84881),o=t(94994),c=(t(38228),t(60635)),l=t(56663),d=t(3137),u=t(85951);function f(e){var r=(0,u.a)("userId");s.ZP.show(),ApiClient.getUser(r).then((function(r){e.querySelector(".username").innerText=r.Name,n.default.setTitle(r.Name);var t="assets/img/avatar.png";r.PrimaryImageTag&&(t=ApiClient.getUserImageUrl(r.Id,{tag:r.PrimaryImageTag,type:"Primary"})),e.querySelector("#image").style.backgroundImage="url("+t+")",c.default.getCurrentUser().then((function(t){r.PrimaryImageTag?(e.querySelector("#btnAddImage").classList.add("hide"),e.querySelector("#btnDeleteImage").classList.remove("hide")):i.M.supports("fileinput")&&(t.Policy.IsAdministrator||r.Policy.EnableUserPreferenceAccess)&&(e.querySelector("#btnDeleteImage").classList.add("hide"),e.querySelector("#btnAddImage").classList.remove("hide"))})),s.ZP.hide()}))}function m(e){switch(s.ZP.hide(),e.target.error.code){case e.target.error.NOT_FOUND_ERR:(0,l.Z)(o.ZP.translate("FileNotFound"));break;case e.target.error.ABORT_ERR:P();break;case e.target.error.NOT_READABLE_ERR:default:(0,l.Z)(o.ZP.translate("FileReadError"))}}function P(){s.ZP.hide(),(0,l.Z)(o.ZP.translate("FileReadCancelled"))}function h(e,r){f(e),new a.default(e,r),e.querySelector("#btnDeleteImage").addEventListener("click",(function(){(0,d.Z)(o.ZP.translate("DeleteImageConfirmation"),o.ZP.translate("DeleteImage")).then((function(){s.ZP.show();var r=(0,u.a)("userId");ApiClient.deleteUserImage(r,"primary").then((function(){s.ZP.hide(),f(e)}))}))})),e.querySelector("#btnAddImage").addEventListener("click",(function(){e.querySelector("#uploadImage").click()})),e.querySelector("#uploadImage").addEventListener("change",(function(r){!function(e,r){var t=e.querySelector("#image"),a=r[0];if(!a||!a.type.match("image.*"))return!1;var n=new FileReader;n.onerror=m,n.onabort=P,n.onload=function(r){t.style.backgroundImage="url("+r.target.result+")";var n=(0,u.a)("userId");ApiClient.uploadUserImage(n,"Primary",a).then((function(){s.ZP.hide(),f(e)}))},n.readAsDataURL(a)}(e,r.target.files)}))}},51869:function(e,r,t){var a="assets/img/devices/";r.ZP={getDeviceIcon:function(e){switch(e.AppName||e.Client){case"Samsung Smart TV":return a+"samsung.svg";case"Xbox One":return a+"xbox.svg";case"Sony PS4":return a+"playstation.svg";case"Kodi":case"Kodi JellyCon":return a+"kodi.svg";case"Jellyfin Android":case"AndroidTV":case"Android TV":return a+"android.svg";case"Jellyfin Mobile (iOS)":case"Jellyfin Mobile (iPadOS)":case"Jellyfin iOS":case"Infuse":return a+"apple.svg";case"Home Assistant":return a+"home-assistant.svg";case"Jellyfin Roku":return a+"roku.svg";case"Finamp":return a+"finamp.svg";case"Jellyfin Web":return function(e){switch(e){case"Opera":case"Opera TV":case"Opera Android":return a+"opera.svg";case"Chrome":case"Chrome Android":return a+"chrome.svg";case"Firefox":case"Firefox Android":return a+"firefox.svg";case"Safari":case"Safari iPad":case"Safari iPhone":return a+"safari.svg";case"Edge Chromium":case"Edge Chromium Android":case"Edge Chromium iPad":case"Edge Chromium iPhone":return a+"edgechromium.svg";case"Edge":return a+"edge.svg";case"Internet Explorer":return a+"msie.svg";default:return a+"html5.svg"}}(e.Name||e.DeviceName);default:return a+"other.svg"}},getLibraryIcon:function(e){switch(e){case"movies":return"video_library";case"music":return"library_music";case"photos":case"homevideos":return"photo_library";case"livetv":return"live_tv";case"tvshows":return"tv";case"trailers":return"local_movies";case"musicvideos":return"music_video";case"books":return"library_books";case"channels":return"videocam";case"playlists":return"view_list";default:return"folder"}}}}}]);