/*! For license information please see main.jellyfin.bundle.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[2840],{18613:function(e,t,n){"use strict";n(95163),n(32081),n(63238),n(61418),n(50987),n(12274),n(3214),n(99785),n(83011),n(20252),n(92571),n(25901),n(98010),n(55849),n(14009),n(12699),n(92189),n(91047),n(5769),n(17460),n(14078);var r=n(47005),a=n(84881),i=n(60635),o=n(60934),s=n(59858);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=p(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},h.apply(this,arguments)}function p(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function y(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var b=function(e){!e.quality&&(e.maxWidth||e.width||e.maxHeight||e.height||e.fillWidth||e.fillHeight)&&(e.quality=90)},w=function(){if(navigator.connection){var e=navigator.connection.downlinkMax;if(e&&e>0&&e<Number.POSITIVE_INFINITY)return e/=8,e*=1e6,e*=.7,parseInt(e,10)}return null},P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(P,e);var t,n,i,l,p=(i=P,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(i);if(l){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function P(){var e;return d(this,P),(e=p.apply(this,arguments)).localApiClient=null,r.Events.on(v(e),"localusersignedout",(function(e,t){(0,o.setUserInfo)(null,null),window.NativeShell&&"function"==typeof window.NativeShell.onLocalUserSignedOut&&window.NativeShell.onLocalUserSignedOut(t)})),r.Events.on(v(e),"apiclientcreated",(function(e,t){t.getMaxBandwidth=w,t.normalizeImageOptions=b})),e}return t=P,n=[{key:"initApiClient",value:function(e){console.debug("creating ApiClient singleton");var t=new r.ApiClient(e,a.M.appName(),a.M.appVersion(),a.M.deviceName(),a.M.deviceId());t.enableAutomaticNetworking=!1,t.manualAddressOnly=!0,this.addApiClient(t),this.setLocalApiClient(t),console.debug("loaded ApiClient singleton")}},{key:"connect",value:function(e){return h(g(P.prototype),"connect",this).call(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({enableAutoLogin:s.Z.enableAutoLogin()},e))}},{key:"setLocalApiClient",value:function(e){e&&(this.localApiClient=e,window.ApiClient=e)}},{key:"getLocalApiClient",value:function(){return this.localApiClient}},{key:"currentApiClient",value:function(){var e=this.getLocalApiClient();if(!e){var t=this.getLastUsedServer();t&&(e=this.getApiClient(t.Id))}return e}},{key:"onLocalUserSignedIn",value:function(e){var t=this.getApiClient(e.ServerId);return this.setLocalApiClient(t),(0,o.setUserInfo)(e.Id,t).then((function(){return window.NativeShell&&"function"==typeof window.NativeShell.onLocalUserSignedIn?window.NativeShell.onLocalUserSignedIn(e,t.accessToken()):Promise.resolve()}))}}],n&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),P}(r.ConnectionManager),k=new r.Credentials,S=i.ZP.capabilities(a.M);t.Z=new P(k,a.M.appName(),a.M.appVersion(),a.M.deviceName(),a.M.deviceId(),S)},27074:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return T},show:function(){return C}}),n(5769),n(63238),n(61418),n(17460),n(14078),n(27471),n(72410),n(15610),n(52077),n(25901),n(92189),n(91047);var r=n(65009),a=n.n(r),i=n(48102),o=n(30325),s=n(94994),l=n(72365),c=(n(38228),n(1892)),u=n.n(c),d=n(95760),f=n.n(d),h=n(38311),p=n.n(h),m=n(58192),y=n.n(m),v=n(38060),g=n.n(v),b=n(54865),w=n.n(b),P=n(11663),k={};function S(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t,r){Promise.resolve().then(n.bind(n,54517)).then((function(n){var a=r?"on":"off";n.centerFocus[a](e,t)}))}function C(e){var t,n={removeOnClose:!0,enableHistory:e.enableHistory,scrollY:!1};o.Z.tv?(n.size="fullscreen",t=!0,n.autoFocus=!0):(n.modal=!1,n.entryAnimation=e.entryAnimation,n.exitAnimation=e.exitAnimation,n.entryAnimationDuration=e.entryAnimationDuration||140,n.exitAnimationDuration=e.exitAnimationDuration||100,n.autoFocus=!1);var r=i.default.createDialog(n);t?r.classList.add("actionsheet-fullscreen"):r.classList.add("actionsheet-not-fullscreen"),r.classList.add("actionSheet"),e.dialogClass&&r.classList.add(e.dialogClass);var c="",u=o.Z.tv?"scrollY smoothScrollY hiddenScrollY":"scrollY",d="";e.items.length>20&&(d+="min-width:"+(l.ZP.getWindowSize().innerWidth>=300?240:200)+"px;");var f,h,p=!1,m=[],y=S(e.items);try{for(y.s();!(h=y.n()).done;){var v=h.value;(f=v.icon||(v.selected?"check":null))&&(p=!0),m.push(f||"")}}catch(e){y.e(e)}finally{y.f()}o.Z.tv&&(c+='<button is="paper-icon-button-light" class="btnCloseActionSheet hide-mouse-idle-tv" tabindex="-1" title="'.concat(s.ZP.translate("ButtonBack"),'">\n                     <span class="material-icons arrow_back" aria-hidden="true"></span>\n                 </button>'));var g=e.title&&!p;g||o.Z.tv?c+='<div class="actionSheetContent actionSheetContent-centered">':c+='<div class="actionSheetContent">',e.title&&(c+='<h1 class="actionSheetTitle">'+a()(e.title)+"</h1>"),e.text&&(c+='<p class="actionSheetText">'+a()(e.text)+"</p>");var b="actionSheetScroller";o.Z.tv&&(b+=" actionSheetScroller-tv focuscontainer-x focuscontainer-y"),c+='<div class="'+b+" "+u+'" style="'+d+'">';var w="listItem listItem-button actionSheetMenuItem";(e.border||e.shaded)&&(w+=" listItem-border"),e.menuItemClass&&(w+=" "+e.menuItemClass),o.Z.tv&&(w+=" listItem-focusscale"),o.Z.mobile&&(w+=" actionsheet-xlargeFont");for(var P=0;P<e.items.length;P++){var k=e.items[P];k.divider?c+='<div class="actionsheetDivider"></div>':(c+="<button"+(k.selected&&o.Z.tv?" autoFocus":"")+' is="emby-button" type="button" class="'+w+'" data-id="'+(null==k.id||""===k.id?k.value:k.id)+'">',(f=m[P])?c+='<span class="actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons '.concat(f,'" aria-hidden="true"></span>'):p&&!g&&(c+='<span class="actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons check" aria-hidden="true" style="visibility:hidden;"></span>'),c+='<div class="listItemBody actionsheetListItemBody">',c+='<div class="listItemBodyText actionSheetItemText">',c+=a()(k.name||k.textContent||k.innerText),c+="</div>",k.secondaryText&&(c+='<div class="listItemBodyText secondary">'.concat(a()(k.secondaryText),"</div>")),c+="</div>",k.asideText&&(c+='<div class="listItemAside actionSheetItemAsideText">'.concat(a()(k.asideText),"</div>")),c+="</button>")}e.showCancel&&(c+='<div class="buttons">',c+='<button is="emby-button" type="button" class="btnCloseActionSheet">'.concat(s.ZP.translate("ButtonCancel"),"</button>"),c+="</div>"),c+="</div>",r.innerHTML=c,o.Z.tv&&I(r.querySelector(".actionSheetScroller"),!1,!0);var x,C,T=r.querySelector(".btnCloseActionSheet");return T&&T.addEventListener("click",(function(){i.default.close(r)})),e.timeout&&(C=setTimeout((function(){i.default.close(r)}),e.timeout)),new Promise((function(t,a){var s;r.addEventListener("click",(function(n){var a=l.ZP.parentWithClass(n.target,"actionSheetMenuItem");a&&(x=a.getAttribute("data-id"),e.resolveOnClick&&(e.resolveOnClick.indexOf?-1!==e.resolveOnClick.indexOf(x)&&(t(x),s=!0):(t(x),s=!0)),i.default.close(r))})),r.addEventListener("close",(function(){o.Z.tv&&I(r.querySelector(".actionSheetScroller"),!1,!1),C&&(clearTimeout(C),C=null),s||(null!=x?(e.callback&&e.callback(x),t(x)):a("ActionSheet closed without resolving"))})),i.default.open(r);var c=e.positionTo&&"fullscreen"!==n.size?function(e,t){var n=l.ZP.getWindowSize(),r=n.innerHeight,a=n.innerWidth,i=function(e){var t=[];if(!document)return t;var n,r=S(e);try{for(r.s();!(n=r.n()).done;){var a=n.value.getBoundingClientRect();t.push({top:a.top,left:a.left,width:a.width,height:a.height})}}catch(e){r.e(e)}finally{r.f()}return t}([e.positionTo])[0];"top"!==e.positionY&&(i.top+=(i.height||0)/2),i.left+=(i.width||0)/2;var o=t.offsetHeight||300,s=t.offsetWidth||160;i.top-=o/2,i.left-=s/2;var c=i.left+s-a,u=i.top+o-r;return c>0&&(i.left-=c+20),u>0&&(i.top-=u+20),i.top+=e.offsetTop||0,i.left+=e.offsetLeft||0,i.top=Math.max(i.top,10),i.left=Math.max(i.left,10),i}(e,r):null;c&&(r.style.position="fixed",r.style.margin=0,r.style.left=c.left+"px",r.style.top=c.top+"px")}))}k.styleTagTransform=w(),k.setAttributes=y(),k.insert=p().bind(null,"head"),k.domAPI=f(),k.insertStyleElement=g(),u()(P.Z,k),P.Z&&P.Z.locals&&P.Z.locals,n(85427),n(87201),n(664);var T={show:C}},37099:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}}),n(82759),n(52077),n(40895),n(911),n(63238),n(61418),n(25901),n(92189),n(91047),n(5769),n(17460),n(14078),n(98521),n(6798),n(82923),n(21897),n(99785),n(12274),n(55849),n(50987),n(60190),n(72410);var r=n(52050),a=n(57366),i=n(56809),o=n(94994);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(){l=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),o=new I(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function h(){}function p(){}function m(){}var y={};c(y,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(C([])));g&&g!==t&&n.call(g,a)&&(y=g);var b=m.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(a,i,o,l){var c=d(e[a],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==s(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(f).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,l)}))}l(c.arg)}var a;this._invoke=function(e,n){function i(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(i,i):i()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=m,c(b,"constructor",m),c(m,"constructor",p),p.displayName=c(m,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(P.prototype),c(P.prototype,i,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new P(u(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),c(b,o,"Generator"),c(b,a,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function c(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){c(i,r,a,o,s,"next",e)}function s(e){c(i,r,a,o,s,"throw",e)}o(void 0)}))}}function d(e,t,n){var r=new RegExp(t,"ig");return e.replace(r,n)}function f(){return!a.Z.web0s&&!(a.Z.tizenVersion&&a.Z.tizenVersion<3)&&a.Z.tv&&window.alert}function h(e,t){return p.apply(this,arguments)}function p(){return(p=u(l().mark((function e(t,n){var a,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="string"==typeof t?{title:n,text:t}:t,e.next=3,r.appRouter.ready();case 3:if(!f()){e.next=8;break}return alert(d(a.text||"","<br/>","\n")),e.abrupt("return",Promise.resolve());case 8:return(s=[]).push({name:o.ZP.translate("ButtonGotIt"),id:"ok",type:"submit"}),a.buttons=s,e.abrupt("return",i.Z.show(a));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},79448:function(e,t,n){"use strict";n.d(t,{w:function(){return C},Z:function(){return T}}),n(23938),n(61013),n(27471),n(99785);var r=n(34643),a=n(30325),i=n(72365),o=n(94994),s=n(1892),l=n.n(s),c=n(95760),u=n.n(c),d=n(38311),f=n.n(d),h=n(58192),p=n.n(h),m=n(38060),y=n.n(m),v=n(54865),g=n.n(v),b=n(63421),w={};function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}w.styleTagTransform=g(),w.setAttributes=p(),w.insert=f().bind(null,"head"),w.domAPI=u(),w.insertStyleElement=y(),l()(b.Z,w),b.Z&&b.Z.locals&&b.Z.locals,n(61414),n(85427);var k="alphaPickerButton-selected";function S(){var e=this.querySelector(".".concat(k));e?r.Z.focus(e):r.Z.autoFocus(this,!0)}function x(e){var t="alphaPickerButton";return a.Z.tv&&(t+=" alphaPickerButton-tv"),e&&(t+=" alphaPickerButton-vertical"),t}function I(e,t){return e.map((function(e){return function(e,t){return'<button data-value="'.concat(e,'" class="').concat(x(t),'">').concat(e,"</button>")}(e,t)}))}var C=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=this;this.options=t;var r,s,l,c,u=t.element,d=t.itemsContainer,f=t.itemClass;function h(){s=null,n.value(r)}function p(){if(c=null,document.activeElement===l){var e=l.getAttribute("data-value");n.value(e,!0)}}function m(e){var t=i.ZP.parentWithClass(e.target,"alphaPickerButton");if(t){var n=t.getAttribute("data-value");u.dispatchEvent(new CustomEvent("alphavalueclicked",{cancelable:!1,detail:{value:n}}))}}function y(e){var t=i.ZP.parentWithClass(e.target,"alphaPickerButton");if(t){var n=t.getAttribute("data-value");(this._currentValue||"").toUpperCase()===n.toUpperCase()?this.value(null,!0):this.value(n,!0)}}function v(e){c&&(clearTimeout(c),c=null);var t=i.ZP.parentWithClass(e.target,"alphaPickerButton");t&&(l=t,c=setTimeout(p,600))}function g(e){var t=i.ZP.parentWithClass(e.target,f);if(t){var n=t.getAttribute("data-prefix");n&&n.length&&(r=n[0],s&&clearTimeout(s),s=setTimeout(h,100))}}this.enabled=function(e){e?(d&&d.addEventListener("focus",g,!0),"keyboard"===t.mode&&u.addEventListener("click",m),"click"!==t.valueChangeEvent?u.addEventListener("focus",v,!0):u.addEventListener("click",y.bind(this))):(d&&d.removeEventListener("focus",g,!0),u.removeEventListener("click",m),u.removeEventListener("focus",v,!0),u.removeEventListener("click",y.bind(this)))},function(e,t){e.classList.add("alphaPicker"),a.Z.tv&&e.classList.add("alphaPicker-tv");var n=e.classList.contains("alphaPicker-vertical");n||e.classList.add("focuscontainer-x");var r,i="",s=x(n),l="alphaPickerRow";n&&(l+=" alphaPickerRow-vertical"),i+='<div class="'.concat(l,'">'),"keyboard"===t.mode?i+='<button data-value=" " is="paper-icon-button-light" class="'.concat(s,'" aria-label="').concat(o.ZP.translate("ButtonSpace"),'"><span class="material-icons alphaPickerButtonIcon space_bar" aria-hidden="true"></span></button>'):i+=I(r=["#"],n).join(""),i+=I(r=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n).join(""),"keyboard"===t.mode?(i+='<button data-value="backspace" is="paper-icon-button-light" class="'.concat(s,'" aria-label="').concat(o.ZP.translate("ButtonBackspace"),'"><span class="material-icons alphaPickerButtonIcon backspace" aria-hidden="true"></span></button>'),i+="</div>",r=["0","1","2","3","4","5","6","7","8","9"],i+='<div class="'.concat(l,'">'),i+="<br/>",i+=I(r,n).join(""),i+="</div>"):i+="</div>",e.innerHTML=i,e.classList.add("focusable"),e.focus=S}(u,t),this.enabled(!0),this.visible(!0)}var t,n;return t=e,(n=[{key:"value",value:function(e,t){var n,r,a=this.options.element;if(void 0!==e)if(null!=e){if(e=e.toUpperCase(),this._currentValue=e,"keyboard"!==this.options.mode){r=a.querySelector(".".concat(k));try{n=a.querySelector(".alphaPickerButton[data-value='".concat(e,"']"))}catch(e){console.error("error in querySelector:",e)}n&&n!==r&&n.classList.add(k),r&&r!==n&&r.classList.remove(k)}}else this._currentValue=e,(r=a.querySelector(".".concat(k)))&&r.classList.remove(k);return t&&a.dispatchEvent(new CustomEvent("alphavaluechanged",{cancelable:!1,detail:{value:e}})),this._currentValue}},{key:"on",value:function(e,t){this.options.element.addEventListener(e,t)}},{key:"off",value:function(e,t){this.options.element.removeEventListener(e,t)}},{key:"updateControls",value:function(e){e.NameLessThan?this.value("#"):this.value(e.NameStartsWith),this.visible(-1!==e.SortBy.indexOf("SortName"))}},{key:"visible",value:function(e){this.options.element.style.visibility=e?"visible":"hidden"}},{key:"values",value:function(){for(var e=this.options.element.querySelectorAll(".alphaPickerButton"),t=[],n=0,r=e.length;n<r;n++)t.push(e[n].getAttribute("data-value"));return t}},{key:"focus",value:function(){var e=this.options.element;r.Z.autoFocus(e,!0)}},{key:"destroy",value:function(){var e=this.options.element;this.enabled(!1),e.classList.remove("focuscontainer-x"),this.options=null}}])&&P(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),T=C},52050:function(e,t,n){"use strict";n.r(t),n.d(t,{appRouter:function(){return $},history:function(){return P}}),n(5769),n(61484),n(63238),n(17460),n(14078),n(52077),n(911),n(95289),n(61418),n(90938),n(27471),n(55849),n(95623),n(12133),n(83526),n(61013),n(58112),n(99785),n(25901),n(92189),n(91047),n(98521),n(6798),n(82923),n(21897),n(12274),n(50987),n(60190),n(72410);var r=n(47005),a=n(39405),i=n(84881),o=n(76449),s=n(94994),l=n(21776),c=n(51161),u=n(58905),d=n(18613),f=n(37099);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function p(){p=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,i=Object.create(a.prototype),o=new I(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function f(){}function m(){}var y={};s(y,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(C([])));g&&g!==t&&n.call(g,a)&&(y=g);var b=m.prototype=d.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(a,i,o,s){var l=c(e[a],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==h(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,s)}))}s(l.arg)}var a;this._invoke=function(e,n){function i(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(i,i):i()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=m,s(b,"constructor",m),s(m,"constructor",f),f.displayName=s(m,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(P.prototype),s(P.prototype,i,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new P(l(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),s(b,o,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function m(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){m(i,r,a,o,s,"next",e)}function s(e){m(i,r,a,o,s,"throw",e)}o(void 0)}))}}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var P=(0,a.q_)(),k=["home","login","selectserver"],S=new WeakSet,x=new WeakSet,I=new WeakSet,C=new WeakSet,T=new WeakSet,L=new WeakSet,E=new WeakSet,A=new WeakSet,Z=new WeakSet,O=new WeakSet,j=new WeakSet,M=new WeakSet,N=new WeakSet,D=new WeakSet,R=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),g(this,D),g(this,N),g(this,M),g(this,j),g(this,O),g(this,Z),g(this,A),g(this,E),g(this,L),g(this,T),g(this,C),g(this,I),g(this,x),g(this,S),b(this,"allRoutes",new Map),b(this,"currentRouteInfo",{route:{}}),b(this,"currentViewLoadRequest",void 0),b(this,"firstConnectionResult",void 0),b(this,"forcedLogoutMsg",void 0),b(this,"msgTimeout",void 0),b(this,"promiseShow",void 0),b(this,"resolveOnNextShow",void 0),document.addEventListener("viewshow",(function(){return t.onViewShow()})),this.baseRoute=window.location.href.split("?")[0].replace(w(this,N,X).call(this),""),this.baseRoute=this.baseRoute.split("#")[0],this.baseRoute.endsWith("/")&&!this.baseRoute.endsWith("://")&&(this.baseRoute=this.baseRoute.substring(0,this.baseRoute.length-1))}var t,n,a,i;return t=e,n=[{key:"addRoute",value:function(e,t){this.allRoutes.set(e,{route:t,handler:w(this,D,J).call(this,t)})}},{key:"ready",value:function(){return this.promiseShow||Promise.resolve()}},{key:"back",value:(i=y(p().mark((function e(){var t=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.promiseShow){e.next=3;break}return e.next=3,this.promiseShow;case 3:return this.promiseShow=new Promise((function(e){t.resolveOnNextShow=e,P.back()})),e.abrupt("return",this.promiseShow);case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"show",value:(a=y(p().mark((function e(t,n){var r=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.promiseShow){e.next=3;break}return e.next=3,this.promiseShow;case 3:if(t.startsWith("#")&&(t=t.substring(1)),t.startsWith("!")&&(t=t.substring(1)),0!==t.indexOf("/")&&-1===t.indexOf("://")&&(t="/"+t),t=t.replace(this.baseUrl(),""),!this.currentRouteInfo||this.currentRouteInfo.path!==t){e.next=11;break}if("home"===this.currentRouteInfo.route.type){e.next=11;break}return c.ZP.hide(),e.abrupt("return",Promise.resolve());case 11:return this.promiseShow=new Promise((function(e){r.resolveOnNextShow=e,setTimeout((function(){return P.push(t,n)}),0)})),e.abrupt("return",this.promiseShow);case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"start",value:function(){var e=this;return c.ZP.show(),d.Z.getApiClients().forEach((function(t){r.Events.off(t,"requestfail",e.onRequestFail),r.Events.on(t,"requestfail",e.onRequestFail)})),r.Events.on(d.Z,"apiclientcreated",(function(t,n){r.Events.off(n,"requestfail",e.onRequestFail),r.Events.on(n,"requestfail",e.onRequestFail)})),d.Z.connect().then((function(t){e.firstConnectionResult=t,w(e,x,q).call(e,{location:P.location}),P.listen((function(t){w(e,x,q).call(e,t)}))})).catch().then((function(){c.ZP.hide()}))}},{key:"baseUrl",value:function(){return this.baseRoute}},{key:"canGoBack",value:function(){var e,t=null===(e=this.currentRouteInfo)||void 0===e?void 0:e.route;return!!t&&!(!document.querySelector(".dialogContainer")&&k.includes(t.type))&&window.history.length>1}},{key:"showItem",value:function(e,t,n){var r=this;if("string"==typeof e){var a=t?d.Z.getApiClient(t):d.Z.currentApiClient();a.getItem(a.getCurrentUserId(),e).then((function(e){r.showItem(e,n)}))}else{2===arguments.length&&(n=arguments[1]);var i=this.getRouteUrl(e,n);this.show(i,{item:e})}}},{key:"setTransparency",value:function(e){console.warn("Deprecated! Use Dashboard.setBackdropTransparency"),(0,o.G2)(e)}},{key:"onViewShow",value:function(){var e=this.resolveOnNextShow;e&&(this.promiseShow=null,this.resolveOnNextShow=null,e())}},{key:"onForcedLogoutMessageTimeout",value:function(){var e=this.forcedLogoutMsg;this.forcedLogoutMsg=null,e&&(0,f.Z)(e)}},{key:"showForcedLogoutMessage",value:function(e){this.forcedLogoutMsg=e,this.msgTimeout&&clearTimeout(this.msgTimeout),this.msgTimeout=setTimeout(this.onForcedLogoutMessageTimeout,100)}},{key:"onRequestFail",value:function(e,t){403===t.status&&"ParentalControl"===t.errorCode&&(!$.currentRouteInfo||$.currentRouteInfo.route.anonymous||$.currentRouteInfo.route.startup||($.showForcedLogoutMessage(s.ZP.translate("AccessRestrictedTryAgainLater")),$.showLocalLogin(this.serverId())))}},{key:"getRouteUrl",value:function(e,t){if(!e)throw new Error("item cannot be null");if(e.url)return e.url;var n,r=t?t.context:null,a=e.Id||e.ItemId;t||(t={});var i=e.Type||(t?t.itemType:null),o=e.ServerId||t.serverId;if("settings"===e)return"#/mypreferencesmenu.html";if("wizard"===e)return"#/wizardstart.html";if("manageserver"===e)return"#/dashboard.html";if("recordedtv"===e)return"#/livetv.html?tab=3&serverId="+t.serverId;if("nextup"===e)return"#/list.html?type=nextup&serverId="+t.serverId;if("list"===e){var s="#/list.html?serverId="+t.serverId+"&type="+t.itemTypes;return t.isFavorite&&(s+="&IsFavorite=true"),s}if("livetv"===e)return"programs"===t.section?"#/livetv.html?tab=0&serverId="+t.serverId:"guide"===t.section?"#/livetv.html?tab=1&serverId="+t.serverId:"movies"===t.section?"#/list.html?type=Programs&IsMovie=true&serverId="+t.serverId:"shows"===t.section?"#/list.html?type=Programs&IsSeries=true&IsMovie=false&IsNews=false&serverId="+t.serverId:"sports"===t.section?"#/list.html?type=Programs&IsSports=true&serverId="+t.serverId:"kids"===t.section?"#/list.html?type=Programs&IsKids=true&serverId="+t.serverId:"news"===t.section?"#/list.html?type=Programs&IsNews=true&serverId="+t.serverId:"onnow"===t.section?"#/list.html?type=Programs&IsAiring=true&serverId="+t.serverId:"channels"===t.section?"#/livetv.html?tab=2&serverId="+t.serverId:"dvrschedule"===t.section?"#/livetv.html?tab=4&serverId="+t.serverId:"seriesrecording"===t.section?"#/livetv.html?tab=5&serverId="+t.serverId:"#/livetv.html?serverId="+t.serverId;if("SeriesTimer"==i)return"#/details?seriesTimerId="+a+"&serverId="+o;if("livetv"==e.CollectionType)return"#/livetv.html";if("Genre"===e.Type)return n="#/list.html?genreId="+e.Id+"&serverId="+o,"livetv"===r&&(n+="&type=Programs"),t.parentId&&(n+="&parentId="+t.parentId),n;if("MusicGenre"===e.Type)return n="#/list.html?musicGenreId="+e.Id+"&serverId="+o,t.parentId&&(n+="&parentId="+t.parentId),n;if("Studio"===e.Type)return n="#/list.html?studioId="+e.Id+"&serverId="+o,t.parentId&&(n+="&parentId="+t.parentId),n;if("folders"!==r&&!l.ZP.isLocalItem(e)){if("movies"==e.CollectionType)return n="#/movies.html?topParentId="+e.Id,t&&"latest"===t.section&&(n+="&tab=1"),n;if("tvshows"==e.CollectionType)return n="#/tv.html?topParentId="+e.Id,t&&"latest"===t.section&&(n+="&tab=1"),n;var c;if("music"==e.CollectionType)return n="#/music.html?topParentId="+e.Id,"latest"===(null===(c=t)||void 0===c?void 0:c.section)&&(n+="&tab=1"),n}return["Playlist","TvChannel","Program","BoxSet","MusicAlbum","MusicGenre","Person","Recording","MusicArtist"].indexOf(i)>=0?"#/details?id="+a+"&serverId="+o:"Series"==i||"Season"==i||"Episode"==i?"#/details?id="+a+(r?"&context="+r:"")+"&serverId="+o:e.IsFolder?a?"#/list.html?parentId="+a+"&serverId="+o:"#":"#/details?id="+a+"&serverId="+o}},{key:"showLocalLogin",value:function(e){return this.show("login.html?serverid="+e)}},{key:"showVideoOsd",value:function(){return this.show("video")}},{key:"showSelectServer",value:function(){return this.show("selectserver.html")}},{key:"showSettings",value:function(){return this.show("mypreferencesmenu.html")}},{key:"showNowPlaying",value:function(){return this.show("queue")}},{key:"showGuide",value:function(){return this.show("livetv.html?tab=1")}},{key:"goHome",value:function(){return this.show("home.html")}},{key:"showSearch",value:function(){return this.show("search.html")}},{key:"showLiveTV",value:function(){return this.show("livetv.html")}},{key:"showRecordedTV",value:function(){return this.show("livetv.html?tab=3")}},{key:"showFavorites",value:function(){return this.show("home.html?tab=1")}}],n&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _(){var e=this;(0,o.rs)(),c.ZP.show(),d.Z.connect().then((function(t){w(e,I,B).call(e,t)}))}function q(e){var t=e.location,n=e.action,r=t.pathname.replace(/^!/,""),i=this.allRoutes.get(r);i?(console.debug('[appRouter] "%s" route found',r,t,i),i.handler({path:r+t.search,pathname:r,querystring:t.search.replace(/^\?/,""),state:t.state,isBack:n===a.aU.Pop})):(console.info('[appRouter] "%s" route not found',r,t),this.currentRouteInfo={route:{},path:r+t.search})}function B(e){var t=this;switch(e.State){case"SignedIn":c.ZP.hide(),this.goHome();break;case"ServerSignIn":this.showLocalLogin(e.ApiClient.serverId());break;case"ServerSelection":this.showSelectServer();break;case"ServerUpdateNeeded":(0,f.Z)({text:s.ZP.translate("ServerUpdateNeeded","https://github.com/jellyfin/jellyfin"),html:s.ZP.translate("ServerUpdateNeeded",'<a href="https://github.com/jellyfin/jellyfin">https://github.com/jellyfin/jellyfin</a>')}).then((function(){t.showSelectServer()}))}}function F(e,t,r,a){var i,o,s=this;if(i=r.contentPath&&"function"==typeof r.contentPath?r.contentPath(e.querystring):r.contentPath||r.path,e.querystring&&r.enableContentQueryString&&(i+="?"+e.querystring),r.serverRequest){var l=d.Z.currentApiClient();i=l.getUrl("/web".concat(i)),o=l.get(i)}else o=n(23935)("./".concat(i));o.then((function(t){w(s,M,Y).call(s,e,r,t,a)}))}function U(e,t,n){var r=this;w(this,Z,W).call(this,e,n,(function(){w(r,L,z).call(r,e,t,n)}))}function z(e,t,r){var a=this,i=function(n){w(a,A,V).call(a,e,t,r,n)};r.controller?n(2706)("./"+r.controller).then(i):i()}function H(){var e=this.currentViewLoadRequest;e&&(e.cancel=!0)}function V(e,t,n,r){var a=this;w(this,E,H).call(this);var i=e.isBack,o={url:this.baseUrl()+e.path,transition:n.transition,isBack:i,state:e.state,type:n.type,fullscreen:n.fullscreen,controllerFactory:r,options:{supportsThemeMedia:n.supportsThemeMedia||!1,enableMediaControl:!1!==n.enableMediaControl},autoFocus:n.autoFocus};this.currentViewLoadRequest=o;var s=function(){"string"==typeof n.path?w(a,C,F).call(a,e,t,n,o):t()};i?u.Z.tryRestoreView(o,(function(){a.currentRouteInfo={route:n,path:e.path}})).catch((function(e){e&&e.cancelled||s()})):s()}function W(e,t,n){var r=this,a=this.firstConnectionResult;if(this.firstConnectionResult=null,a){if("ServerSignIn"===a.State){var o=a.ApiClient.serverAddress()+"/System/Info/Public";return void fetch(o).then((function(e){return e.ok?e.json():Promise.reject("fetch failed")})).then((function(e){null!==e&&!1===e.StartupWizardCompleted?(d.Z.setLocalApiClient(a.ApiClient),r.show("wizardstart.html")):w(r,I,B).call(r,a)})).catch((function(e){console.error(e)}))}if("SignedIn"!==a.State)return void w(this,I,B).call(this,a)}var s=d.Z.currentApiClient(),l=e.pathname.toLowerCase();console.debug("[appRouter] processing path request: "+l);var c=!this.currentRouteInfo||this.currentRouteInfo.route.startup,u=e.isBack&&t.isDefaultRoute&&c;if(!(u||s&&s.isLoggedIn()||t.anonymous))return console.debug("[appRouter] route does not allow anonymous access: redirecting to login"),void w(this,S,_).call(this);if(u)i.M.supports("exit")&&i.M.exit();else{if(s&&s.isLoggedIn()){if(console.debug("[appRouter] user is authenticated"),t.isDefaultRoute)return console.debug("[appRouter] loading home page"),void this.goHome();if(t.roles)return void w(this,O,G).call(this,s,t.roles).then((function(){n()}),w(this,S,_).bind(this))}console.debug("[appRouter] proceeding to page: "+l),n()}}function G(e,t){var n=this;return Promise.all(t.split(",").map((function(t){return w(n,j,Q).call(n,e,t)})))}function Q(e,t){return"admin"===t?e.getCurrentUser().then((function(e){return e.Policy.IsAdministrator?Promise.resolve():Promise.reject()})):Promise.resolve()}function Y(e,t,n,r){n=s.ZP.translateHtml(n,t.dictionary),r.view=n,u.Z.loadView(r),this.currentRouteInfo={route:t,path:e.path},e.handled=!0}function X(){var e=window.location.pathname||"",t=e.lastIndexOf("/");return(e=-1!==t?e.substring(t):"/"+e)&&"/"!==e||(e="/index.html"),e}function J(e){var t=this;return function(n,r){if(n.path===t.currentRouteInfo.path)return console.debug("[appRouter] path did not change, ignoring route change"),void t.onViewShow();w(t,T,U).call(t,n,r,e)}}var $=new R;window.Emby=window.Emby||{},window.Emby.Page=$},84881:function(e,t,n){"use strict";n.d(t,{M:function(){return S}}),n(5769),n(63238),n(61418),n(55849),n(98010),n(40895),n(52077),n(911),n(82759),n(17460),n(14078),n(61370),n(27471);var r="10.9.0",a=n(59858),i=n(57366),o=n(47005),s=n(3427),l=n(58886),c=n(94994),u=n(23240);function d(){if(!v){var e="_deviceId2";(v=a.Z.get(e))||((i=[]).push(navigator.userAgent),i.push((new Date).getTime()),v=window.btoa?(t=btoa(i.join("|")),n="=".replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),r=new RegExp(n,"ig"),t.replace(r,"1")):(new Date).getTime(),a.Z.set(e,v))}var t,n,r,i;return v}function f(){return g||(g=i.Z.tizen?"Samsung Smart TV":i.Z.web0s?"LG Smart TV":i.Z.operaTv?"Opera TV":i.Z.xboxOne?"Xbox One":i.Z.ps4?"Sony PS4":i.Z.chrome?"Chrome":i.Z.edgeChromium?"Edge Chromium":i.Z.edge?"Edge":i.Z.firefox?"Firefox":i.Z.opera?"Opera":i.Z.safari?"Safari":"Web Browser",i.Z.ipad?g+=" iPad":i.Z.iphone?g+=" iPhone":i.Z.android&&(g+=" Android")),g}function h(){x&&(x=!1,o.Events.trigger(S,"resume"))}function p(){x||(x=!0)}var m,y,v,g,b=(m=[],navigator.share&&m.push("sharing"),i.Z.edgeUwp||i.Z.tv||i.Z.xboxOne||i.Z.ps4||m.push("filedownload"),i.Z.operaTv||i.Z.tizen||i.Z.orsay||i.Z.web0s?m.push("exit"):m.push("plugins"),i.Z.operaTv||i.Z.tizen||i.Z.orsay||i.Z.web0s||i.Z.ps4||(m.push("externallinks"),m.push("externalpremium")),i.Z.operaTv||m.push("externallinkdisplay"),!i.Z.tv&&(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.oSpeechRecognition||window.msSpeechRecognition)&&m.push("voiceinput"),(i.Z.edgeUwp||i.Z.tizen||i.Z.web0s||i.Z.orsay||i.Z.operaTv||i.Z.ps4||i.Z.xboxOne||!i.Z.mobile)&&(m.push("htmlaudioautoplay"),m.push("htmlvideoautoplay")),i.Z.edgeUwp&&m.push("sync"),function(){if(i.Z.tv)return!1;var e=document.documentElement;return e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullscreen||e.msRequestFullscreen||document.createElement("video").webkitEnterFullscreen}()&&m.push("fullscreenchange"),(i.Z.tv||i.Z.xboxOne||i.Z.ps4||i.Z.mobile)&&m.push("physicalvolumecontrol"),i.Z.tv||i.Z.xboxOne||i.Z.ps4||m.push("remotecontrol"),i.Z.operaTv||i.Z.tizen||i.Z.orsay||i.Z.web0s||i.Z.edgeUwp||m.push("remotevideo"),m.push("displaylanguage"),m.push("otherapppromotions"),m.push("displaymode"),m.push("targetblank"),m.push("screensaver"),l.IY().then((function(e){e&&m.push("multiserver")})),!i.Z.orsay&&(i.Z.firefox||i.Z.ps4||i.Z.edge||function(){try{var e=document.createElement("video"),t=document.createElement("style");t.textContent="video::cue {background: inherit}",document.body.appendChild(t),document.body.appendChild(e);var n=window.getComputedStyle(e,"::cue").background;return document.body.removeChild(t),document.body.removeChild(e),!!n.length}catch(e){return console.error("error detecting cue support: "+e),!1}}())&&m.push("subtitleappearancesettings"),i.Z.orsay||m.push("subtitleburnsettings"),i.Z.tv||i.Z.ps4||i.Z.xboxOne||m.push("fileinput"),(i.Z.chrome||i.Z.edgeChromium)&&m.push("chromecast"),m);function w(){try{var e,t;null!==(e=window.NativeShell)&&void 0!==e&&null!==(t=e.AppHost)&&void 0!==t&&t.exit?window.NativeShell.AppHost.exit():i.Z.tizen?tizen.application.getCurrentApplication().exit():i.Z.web0s?webOS.platformBack():window.close()}catch(e){console.error("error closing application: "+e)}}var P,k,S={getWindowState:function(){return document.windowState||"Normal"},setWindowState:function(){alert("setWindowState is not supported and should not be called")},exit:function(){window.appMode&&i.Z.tizen?y||Promise.resolve().then(n.bind(n,27074)).then((function(e){y=e.show({title:c.ZP.translate("MessageConfirmAppExit"),items:[{id:"yes",name:c.ZP.translate("Yes")},{id:"no",name:c.ZP.translate("No")}]}).then((function(e){"yes"===e&&w()})).finally((function(){y=null}))})):w()},supports:function(e){return window.NativeShell?window.NativeShell.AppHost.supports(e):-1!==b.indexOf(e.toLowerCase())},preferVisualCards:i.Z.android||i.Z.chrome,getDefaultLayout:function(){return window.NativeShell?window.NativeShell.AppHost.getDefaultLayout():"desktop"},getDeviceProfile:function(e){return new Promise((function(t){var n,o;if(window.NativeShell)o=window.NativeShell.AppHost.getDeviceProfile(u.Z,r);else{var l=function(e){var t=[];return e&&s.rR(e.RunTimeTicks,e.MediaType)&&(i.Z.edge&&t.push("mp3"),t.push("ac3"),t.push("eac3"),t.push("opus")),{enableMkvProgressive:!1,disableHlsVideoAudioCodecs:t}}(e);o=(0,u.Z)(l)}var c=a.Z.maxVideoWidth(),d=c<0?null===(n=S.screen())||void 0===n?void 0:n.maxAllowedWidth:c;d&&o.TranscodingProfiles.forEach((function(e){"Video"===e.Type&&(e.Conditions=(e.Conditions||[]).filter((function(e){return"Width"!==e.Property})),e.Conditions.push({Condition:"LessThanEqual",Property:"Width",Value:d.toString(),IsRequired:!1}))})),t(o)}))},init:function(){return window.NativeShell?window.NativeShell.AppHost.init():{deviceId:d(),deviceName:f()}},deviceName:function(){var e,t;return null!==(e=window.NativeShell)&&void 0!==e&&null!==(t=e.AppHost)&&void 0!==t&&t.deviceName?window.NativeShell.AppHost.deviceName():f()},deviceId:function(){var e,t;return null!==(e=window.NativeShell)&&void 0!==e&&null!==(t=e.AppHost)&&void 0!==t&&t.deviceId?window.NativeShell.AppHost.deviceId():d()},appName:function(){var e,t;return null!==(e=window.NativeShell)&&void 0!==e&&null!==(t=e.AppHost)&&void 0!==t&&t.appName?window.NativeShell.AppHost.appName():"Jellyfin Web"},appVersion:function(){var e,t;return null!==(e=window.NativeShell)&&void 0!==e&&null!==(t=e.AppHost)&&void 0!==t&&t.appVersion?window.NativeShell.AppHost.appVersion():r},getPushTokenInfo:function(){return{}},setUserScalable:function(e){if(!i.Z.tv){var t=e?"width=device-width, initial-scale=1, minimum-scale=1, user-scalable=yes":"width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no";document.querySelector("meta[name=viewport]").setAttribute("content",t)}},screen:function(){var e,t=null,n=null===(e=window.NativeShell)||void 0===e?void 0:e.AppHost;return null!=n&&n.screen?t=n.screen():window.screen&&!i.Z.tv&&(t={width:Math.floor(window.screen.width*window.devicePixelRatio),height:Math.floor(window.screen.height*window.devicePixelRatio)}),t&&(t.maxAllowedWidth=Math.max(t.width,t.height)),t}},x=!1;void 0!==document.hidden?(P="hidden",k="visibilitychange"):void 0!==document.webkitHidden&&(P="webkitHidden",k="webkitvisibilitychange"),document.addEventListener(k,(function(){document[P]?p():h()}),!1),window.addEventListener&&(window.addEventListener("focus",h),window.addEventListener("blur",p)),S.init()},87680:function(e,t,n){"use strict";n.r(t),n.d(t,{autoFocus:function(){return l},enable:function(){return s},isEnabled:function(){return o}}),n(23938),n(15610),n(17460),n(63238);var r,a=n(34643),i=n(30325);function o(){return i.Z.tv}function s(){o()&&(window.addEventListener("focusin",(function(e){r=e.target})),console.debug("AutoFocuser enabled"))}function l(e){if(!o())return null;e=e||document.body;var t,n=[];if(r&&(r.classList.contains("btnPreviousPage")?(n.push(e.querySelector(".btnPreviousPage")),n.push(e.querySelector(".btnNextPage"))):r.classList.contains("btnNextPage")?(n.push(e.querySelector(".btnNextPage")),n.push(e.querySelector(".btnPreviousPage"))):r.classList.contains("btnSelectView")&&n.push(e.querySelector(".btnSelectView")),n.push(r)),(n=n.concat(Array.from(e.querySelectorAll(".btnPlay")))).every((function(e){return!a.Z.isCurrentlyFocusable(e)||(a.Z.focus(e),t=e,!1)})),!t){var i=e.querySelector(".itemsContainer");i&&(t=a.Z.autoFocus(i))}return t||(t=a.Z.autoFocus(e)),t}t.default={isEnabled:o,enable:s,autoFocus:l}},76449:function(e,t,n){"use strict";n.d(t,{q3:function(){return z},rs:function(){return O},G2:function(){return H},pZ:function(){return B}}),n(99785),n(61013),n(48410),n(63238),n(55849);var r=n(1294),a=n(57366),i=n(48957),o=n(72365),s=n(60934),l=n(18613),c=n(1892),u=n.n(c),d=n(95760),f=n.n(d),h=n(38311),p=n.n(h),m=n(58192),y=n.n(m),v=n(38060),g=n.n(v),b=n(54865),w=n.n(b),P=n(55084),k={};function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}k.styleTagTransform=w(),k.setAttributes=y(),k.insert=p().bind(null,"head"),k.domAPI=f(),k.insertStyleElement=g(),u()(P.Z,k),P.Z&&P.Z.locals&&P.Z.locals;var x,I,C,T,L,E,A=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"load",value:function(e,t,n){var r=new Image,i=this;r.onload=function(){if(!i.isDestroyed){var r=document.createElement("div");if(r.classList.add("backdropImage"),r.classList.add("displayingBackdropImage"),r.style.backgroundImage="url('".concat(e,"')"),r.setAttribute("data-url",e),r.classList.add("backdropImageFadeIn"),t.appendChild(r),a.Z.slow)return n&&n.parentNode&&n.parentNode.removeChild(n),void N(!0);o.ZP.addEventListener(r,o.ZP.whichAnimationEvent(),(function e(){o.ZP.removeEventListener(r,o.ZP.whichAnimationEvent(),e,{once:!0}),r===i.currentAnimatingElement&&(i.currentAnimatingElement=null),n&&n.parentNode&&n.parentNode.removeChild(n)}),{once:!0}),N(!0)}},r.src=e}},{key:"cancelAnimation",value:function(){var e=this.currentAnimatingElement;e&&(e.classList.remove("backdropImageFadeIn"),this.currentAnimatingElement=null)}},{key:"destroy",value:function(){this.isDestroyed=!0,this.cancelAnimation()}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Z(){return x||(x=document.querySelector(".backdropContainer")),x||((x=document.createElement("div")).classList.add("backdropContainer"),document.body.insertBefore(x,document.body.firstChild)),x}function O(e){U(),L&&(L.destroy(),L=null),Z().innerHTML="",e&&(T=!1),N(!1)}function j(){return I||(I=document.querySelector(".backgroundContainer")),I}function M(){C||T?j().classList.add("withBackdrop"):j().classList.remove("withBackdrop")}function N(e){C=e,M()}function D(e){T=e,M()}function R(e,t){t=t||{};var n=l.Z.getApiClient(e.ServerId);return e.BackdropImageTags&&e.BackdropImageTags.length>0?e.BackdropImageTags.map((function(r,a){return n.getScaledImageUrl(e.BackdropItemId||e.Id,Object.assign(t,{type:"Backdrop",tag:r,maxWidth:o.ZP.getScreenWidth(),index:a}))})):e.ParentBackdropItemId&&e.ParentBackdropImageTags&&e.ParentBackdropImageTags.length?e.ParentBackdropImageTags.map((function(r,a){return n.getScaledImageUrl(e.ParentBackdropItemId,Object.assign(t,{type:"Backdrop",tag:r,maxWidth:o.ZP.getScreenWidth(),index:a}))})):[]}var _=[],q=-1;function B(e,t,n){if(s.enableBackdrops()){var i=function(e,t){for(var n=[],r=function(e){n.push(e)},a=0,i=e.length;a<i;a++)R(e[a],t).forEach(r);return n}(e,t);i.length?function(e,t){(0,r.Z)(e,_)||(U(),_=e,q=-1,e.length>1&&!1!==t&&!a.Z.tv&&!a.Z.firefox&&(E=setInterval(F,24e3)),F())}(i,n):O()}}function F(){if(!i.O.isPlayingLocally(["Video"])){var e=q+1;e>=_.length&&(e=0),q=e,function(e){L&&(L.destroy(),L=null);var t=Z(),n=t.querySelector(".displayingBackdropImage");if(n&&n.getAttribute("data-url")===e){if(n.getAttribute("data-url")===e)return;n.classList.remove("displayingBackdropImage")}var r=new A;r.load(e,t,n),L=r}(_[e])}}function U(){E&&clearInterval(E),E=null,_=[],q=-1}var z={Full:"full",Backdrop:"backdrop",None:"none"};function H(e){var t=Z(),n=j();e===z.Full||2===e?(O(!0),document.documentElement.classList.add("transparentDocument"),n.classList.add("backgroundContainer-transparent"),t.classList.add("hide")):e===z.Backdrop||1===e?(D(!0),document.documentElement.classList.add("transparentDocument"),n.classList.add("backgroundContainer-transparent"),t.classList.add("hide")):(D(!1),document.documentElement.classList.remove("transparentDocument"),n.classList.remove("backgroundContainer-transparent"),t.classList.remove("hide"))}},61570:function(e,t,n){"use strict";n.r(t),n.d(t,{buildCards:function(){return R},getCardsHtml:function(){return C},getDefaultBackgroundClass:function(){return M},getDefaultText:function(){return D},onSeriesTimerCancelled:function(){return z},onTimerCancelled:function(){return U},onTimerCreated:function(){return F},onUserDataChanged:function(){return B}}),n(15610),n(52077),n(25901),n(92189),n(91047),n(99785),n(92571),n(98010),n(20252),n(55849),n(14009),n(12699),n(5769),n(95623),n(63238),n(14078),n(27471),n(72410),n(32081),n(61418),n(17460),n(23938),n(40895);var r=n(65009),a=n.n(r),i=n(61693),o=n(38737),s=n(21776),l=n(34643),c=n(24102),u=n(94994),d=n(30325),f=n(72365),h=n(57366),p=n(48957),m=n(61008),y=n(51869),v=(n(46650),n(61414),n(15282),n(18613)),g=n(52050);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}}(e,t)||k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x,I=!h.Z.slow&&!h.Z.edge;function C(e,t){return 1===arguments.length&&(e=(t=arguments[0]).items),L(e,t)}function T(e,t){t.shape=t.shape||"auto";var n,r,a=o.default.getPrimaryImageAspectRatio(e);if(["auto","autohome","autooverflow","autoVertical"].includes(t.shape)){var i=t.shape;t.shape=null,a&&(a>=3?(t.shape="banner",t.coverImage=!0):t.shape=a>=1.33?"autooverflow"===i?"overflowBackdrop":"backdrop":a>.71?"autooverflow"===i?"overflowSquare":"square":"autooverflow"===i?"overflowPortrait":"portrait"),t.shape||(t.shape=t.defaultShape||("autooverflow"===i?"overflowSquare":"square"))}if("auto"===t.preferThumb&&(t.preferThumb="backdrop"===t.shape||"overflowBackdrop"===t.shape),t.uiAspect=E(t.shape),t.primaryImageAspectRatio=a,!t.width&&t.widths&&(t.width=t.widths[t.shape]),t.rows&&"number"!=typeof t.rows&&(t.rows=t.rows[t.shape]),!t.width){var s=f.ZP.getWindowSize().innerWidth,l=f.ZP.getWindowSize().innerHeight;n=s,(r=window.screen)&&r.availWidth-n>20&&(s=100*Math.floor(s/100)),t.width=function(e,t,n){var r=function(e,t,n){switch(e){case"portrait":return d.Z.tv?5.9999999988:t>=2200?10:t>=1920?9.000000000009:t>=1600?8:t>=1400?7.0000000000021:t>=1200?5.9999999988:t>=800?5:t>=700?4:3.0000000003;case"square":return d.Z.tv?5.9999999988:t>=2200?10:t>=1920?9.000000000009:t>=1600?8:t>=1400?7.0000000000021:t>=1200?5.9999999988:t>=800?5:t>=700?4:t>=500?3.0000000003:2;case"banner":return t>=2200?4:t>=1200?3.0000000003:t>=800?2:1;case"backdrop":return d.Z.tv?4:t>=2500?6:t>=1600?5:t>=1200?4:t>=770?3:t>=420?2:1;case"smallBackdrop":return t>=1600?8:t>=1400?7.000000000007001:t>=1200?5.9999999988:t>=1e3?5:t>=800?4:t>=500?3.0000000003:2;case"overflowSmallBackdrop":return d.Z.tv?100/18.9:n?t>=800?100/15.5:100/23.3:t>=540?100/30:100/72;case"overflowPortrait":return d.Z.tv?100/15.5:n?t>=1700?100/11.6:100/15.5:t>=1400?100/15:t>=1200?100/18:t>=760?100/23:t>=400?100/31.5:100/42;case"overflowSquare":return d.Z.tv?100/15.5:n?t>=1700?100/11.6:100/15.5:t>=1400?100/15:t>=1200?100/18:t>=760?100/23:t>=540?100/31.5:100/42;case"overflowBackdrop":return d.Z.tv?100/23.3:n?t>=1700?100/18.5:100/23.3:t>=1800?100/23.5:t>=1400?100/30:t>=760?2.5:t>=640?100/56:100/72;default:return 4}}(e,t,n);return Math.round(t/r)}(t.shape,s,s>1.3*l)}}function L(e,t){var n=!1;"autoVertical"===t.shape&&(n=!0),T(e,t);var r,a,o,s,l,c,u="",d=0,f=t.sectionTitleTagName||"div",h=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=k(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}(e.entries());try{for(h.s();!(c=h.n()).done;){var p=P(c.value,2),m=p[0],y=p[1],g=y.ServerId||t.serverId;if(g!==l&&(l=g,s=v.Z.getApiClient(l)),t.indexBy){var b="";if("PremiereDate"===t.indexBy){if(y.PremiereDate)try{b=i.ZP.toLocaleDateString(i.ZP.parseISO8601Date(y.PremiereDate),{weekday:"long",month:"long",day:"numeric"})}catch(e){console.error("error parsing timestamp for premiere date",e)}}else"ProductionYear"===t.indexBy?b=y.ProductionYear:"CommunityRating"===t.indexBy&&(b=y.CommunityRating?Math.floor(y.CommunityRating)+(y.CommunityRating%1>=.5?.5:0)+"+":null);b!==r&&(a&&(u+="</div>",a=!1,d=0),o&&(u+="</div>",n&&(u+="</div>"),o=!1),u+=n?'<div class="verticalSection">':'<div class="horizontalSection">',u+="<"+f+' class="sectionTitle">'+b+"</"+f+">",n&&(u+='<div class="itemsContainer vertical-wrap">'),r=b,o=!0)}t.rows&&0===d&&(a&&(u+="</div>",a=!1),u+='<div class="cardColumn">',a=!0),u+=N(m,y,s,t),d++,t.rows&&d>=t.rows&&(u+="</div>",a=!1,d=0)}}catch(e){h.e(e)}finally{h.f()}return a&&(u+="</div>"),o&&(u+="</div>",n&&(u+="</div>")),u}function E(e){if(e){if(-1!==(e=e.toLowerCase()).indexOf("portrait"))return 2/3;if(-1!==e.indexOf("backdrop"))return 16/9;if(-1!==e.indexOf("square"))return 1;if(-1!==e.indexOf("banner"))return 1e3/185}return null}function A(e){return"Program"===e.Type||"Timer"===e.Type||"Recording"===e.Type}function Z(e,t,n){var r="";if(e.StartDate)try{var a=i.ZP.parseISO8601Date(e.StartDate);t&&(r+=i.ZP.toLocaleDateString(a,{weekday:"short",month:"short",day:"numeric"})+" "),r+=i.ZP.getDisplayTime(a),e.EndDate&&n&&(a=i.ZP.parseISO8601Date(e.EndDate),r+=" - "+i.ZP.getDisplayTime(a))}catch(t){console.error("error parsing date: "+e.StartDate)}return r}function O(e,t,n,r,o,l,c,f,h,p,m){e=e.ProgramInfo||e;var y="";p&&(y+='<div class="lazy cardFooterLogo" data-src="'+p+'"></div>');var v=m?!l:l;m&&n.cardLayout&&d.Z.mobile&&"none"!==n.cardFooterAside&&(y+='<button is="paper-icon-button-light" class="itemAction btnCardOptions cardText-secondary" data-action="menu" title="'.concat(u.ZP.translate("ButtonMore"),'"><span class="material-icons more_vert" aria-hidden="true"></span></button>'));var g,b=n.centerText?"cardText cardTextCentered":"cardText",w=e.ServerId||n.serverId,P=[],k="MusicAlbum"===e.Type||"Audio"===e.Type||"MusicVideo"===e.Type;if(v&&(n.showParentTitle||n.showParentTitleOrTitle)&&!k)if(m&&"Episode"===e.Type&&e.SeriesName)e.SeriesId?P.push(j({Id:e.SeriesId,ServerId:w,Name:e.SeriesName,Type:"Series",IsFolder:!0})):P.push(a()(e.SeriesName));else if(A(e))P.push(a()(e.Name)),e.EpisodeTitle||e.IndexNumber||(g=!0);else{var S=e.SeriesName||e.Series||e.Album||e.AlbumArtist||"";(S||r)&&P.push(a()(S))}var x=r&&!g||n.showParentTitleOrTitle&&!P.length;if(x||g||!r&&!o||(x=!0),x){var I="auto"!==n.showTitle||e.IsFolder||"Photo"!==e.MediaType?s.ZP.getDisplayName(e,{includeParentInfo:n.includeParentInfoInTitle}):"";P.push(j({Id:e.Id,ServerId:w,Name:I,Type:e.Type,CollectionType:e.CollectionType,IsFolder:e.IsFolder}))}if(v){if(n.showParentTitle&&k&&(m&&e.AlbumArtists&&e.AlbumArtists.length?(e.AlbumArtists[0].Type="MusicArtist",e.AlbumArtists[0].IsFolder=!0,P.push(j(e.AlbumArtists[0],null,w))):P.push(a()(A(e)?e.Name:e.SeriesName||e.Series||e.Album||e.AlbumArtist||""))),e.ExtraType&&"Unknown"!==e.ExtraType&&P.push(u.ZP.translate(e.ExtraType)),n.showItemCounts&&P.push(function(e,t){var n,r=[];if("Playlist"===t.Type){if(n="",t.RunTimeTicks){var a=t.RunTimeTicks/6e8;a=a||1,n+=u.ZP.translate("ValueMinutes",Math.round(a))}else n+=u.ZP.translate("ValueMinutes",0);r.push(n)}else"Genre"===t.Type||"Studio"===t.Type?(t.MovieCount&&(n=1===t.MovieCount?u.ZP.translate("ValueOneMovie"):u.ZP.translate("ValueMovieCount",t.MovieCount),r.push(n)),t.SeriesCount&&(n=1===t.SeriesCount?u.ZP.translate("ValueOneSeries"):u.ZP.translate("ValueSeriesCount",t.SeriesCount),r.push(n)),t.EpisodeCount&&(n=1===t.EpisodeCount?u.ZP.translate("ValueOneEpisode"):u.ZP.translate("ValueEpisodeCount",t.EpisodeCount),r.push(n))):"MusicGenre"===t.Type||"MusicArtist"===e.context?(t.AlbumCount&&(n=1===t.AlbumCount?u.ZP.translate("ValueOneAlbum"):u.ZP.translate("ValueAlbumCount",t.AlbumCount),r.push(n)),t.SongCount&&(n=1===t.SongCount?u.ZP.translate("ValueOneSong"):u.ZP.translate("ValueSongCount",t.SongCount),r.push(n)),t.MusicVideoCount&&(n=1===t.MusicVideoCount?u.ZP.translate("ValueOneMusicVideo"):u.ZP.translate("ValueMusicVideoCount",t.MusicVideoCount),r.push(n))):"Series"===t.Type&&(n=1===t.RecursiveItemCount?u.ZP.translate("ValueOneEpisode"):u.ZP.translate("ValueEpisodeCount",t.RecursiveItemCount),r.push(n));return r.join(", ")}(n,e)),n.textLines)for(var C=n.textLines(e),T=0;T<C.length;T++)P.push(C[T]);if(n.showSongCount){var L="";e.SongCount&&(L=1===e.SongCount?u.ZP.translate("ValueOneSong"):u.ZP.translate("ValueSongCount",e.SongCount)),P.push(L)}if(n.showPremiereDate)if(e.PremiereDate)try{P.push(i.ZP.toLocaleDateString(i.ZP.parseISO8601Date(e.PremiereDate),{weekday:"long",month:"long",day:"numeric"}))}catch(e){P.push("")}else P.push("");if(n.showYear||n.showSeriesYear)if("Series"===e.Type)if("Continuing"===e.Status)P.push(u.ZP.translate("SeriesYearToPresent",e.ProductionYear||""));else if(e.EndDate&&e.ProductionYear){var E=i.ZP.parseISO8601Date(e.EndDate).getFullYear();P.push(e.ProductionYear+(E===e.ProductionYear?"":" - "+E))}else P.push(e.ProductionYear||"");else P.push(e.ProductionYear||"");n.showRuntime&&(e.RunTimeTicks?P.push(i.ZP.getDisplayRunningTime(e.RunTimeTicks)):P.push("")),n.showAirTime&&P.push(Z(e,n.showAirDateTime,n.showAirEndTime)||""),n.showChannelName&&(e.ChannelId?P.push(j({Id:e.ChannelId,ServerId:w,Name:e.ChannelName,Type:"TvChannel",MediaType:e.MediaType,IsFolder:!1},e.ChannelName)):P.push(a()(e.ChannelName||"")||"&nbsp;")),n.showCurrentProgram&&"TvChannel"===e.Type&&(e.CurrentProgram?P.push(a()(e.CurrentProgram.Name)):P.push("")),n.showCurrentProgramTime&&"TvChannel"===e.Type&&(e.CurrentProgram?P.push(Z(e.CurrentProgram,!1,!0)||""):P.push("")),n.showSeriesTimerTime&&(e.RecordAnyTime?P.push(u.ZP.translate("Anytime")):P.push(i.ZP.getDisplayTime(e.StartDate))),n.showSeriesTimerChannel&&(e.RecordAnyChannel?P.push(u.ZP.translate("AllChannels")):P.push(a()(e.ChannelName||"")||u.ZP.translate("OneChannel"))),n.showPersonRoleOrType&&e.Role&&P.push(u.ZP.translate("PersonRole",a()(e.Role)))}(r||!c)&&o&&l&&1===P.length&&(P=[]),l&&r&&(P=[a()(e.Name)]);var O=m&&n.cardLayout&&!n.centerText&&"none"!==n.cardFooterAside&&d.Z.mobile;return y+=function(e,t,n,r,a,i,o){for(var s="",l=0,c=0;c<e.length;c++){var u=t,d=e[c];if(l>0&&r?u+=" cardText-secondary":0===l&&r&&(u+=" cardText-first"),i&&(u+=" cardText-rightmargin"),d&&(s+="<div class='"+u+"'>",s+=d,s+="</div>",l++,o&&l>=o))break}if(n)for(var f=o||Math.min(e.length,o||e.length);l<f;)s+="<div class='"+t+"'>&nbsp;</div>",l++;return s}(P,b,!n.overlayText,m,n.cardLayout,O,n.lines),h&&(y+=h),y&&(!m||p||n.cardLayout)&&(y='<div class="'+f+'">'+y,y+="</div>"),y}function j(e,t,n){if(t||(t=s.ZP.getDisplayName(e)),t=a()(t),d.Z.tv)return t;var r='<a href="'+g.appRouter.getRouteUrl(e)+'" '+m.ZP.getShortcutAttributesHtml(e,n)+' class="itemAction textActionButton" title="'+t+'" data-action="link">';return(r+=t)+"</a>"}function M(e){return"defaultCardBackground defaultCardBackground"+function(e){if(e){for(var t=Math.floor(e.length/2),n=String(e.slice(t,t+1).charCodeAt()),r=0,a=0;a<n.length;a++)r+=parseInt(n.charAt(a));return String(r).slice(-1)%5+1}return Math.floor(5*Math.random())+1}(e)}function N(e,t,r,i){var o=i.action||"link";"play"===o&&t.IsFolder?o="link":"Photo"===t.MediaType&&(o="play");var l=i.shape;if("mixed"===l){l=null;var f=t.PrimaryImageAspectRatio;f&&(l=f>=1.33?"mixedBackdrop":f>.71?"mixedSquare":"mixedPortrait"),l=l||"mixedSquare"}var h="card";l&&(h+=" "+l+"Card"),i.cardCssClass&&(h+=" "+i.cardCssClass),i.cardClass&&(h+=" "+i.cardClass),d.Z.desktop&&(h+=" card-hoverable"),d.Z.tv&&(h+=" show-focus",I&&(h+=" show-animation"));var m=function(e,t,n,r){e=e.ProgramInfo||e;var a=n.width,i=null,o=e.PrimaryImageAspectRatio,s=!1,l=null,c=null,u=!1,d=E(r),f=null,h=null;return n.preferThumb&&e.ImageTags&&e.ImageTags.Thumb?(f="Thumb",c=e.ImageTags.Thumb):(n.preferBanner||"banner"===r)&&e.ImageTags&&e.ImageTags.Banner?(f="Banner",c=e.ImageTags.Banner):n.preferDisc&&e.ImageTags&&e.ImageTags.Disc?(f="Disc",c=e.ImageTags.Disc):n.preferLogo&&e.ImageTags&&e.ImageTags.Logo?(f="Logo",c=e.ImageTags.Logo):n.preferLogo&&e.ParentLogoImageTag&&e.ParentLogoItemId?(f="Logo",c=e.ParentLogoImageTag,h=e.ParentLogoItemId):n.preferThumb&&e.SeriesThumbImageTag&&!1!==n.inheritThumb?(f="Thumb",c=e.SeriesThumbImageTag,h=e.SeriesId):n.preferThumb&&e.ParentThumbItemId&&!1!==n.inheritThumb&&"Photo"!==e.MediaType?(f="Thumb",c=e.ParentThumbImageTag,h=e.ParentThumbItemId):n.preferThumb&&e.BackdropImageTags&&e.BackdropImageTags.length?(f="Backdrop",c=e.BackdropImageTags[0],s=!0):n.preferThumb&&e.ParentBackdropImageTags&&e.ParentBackdropImageTags.length&&!1!==n.inheritThumb&&"Episode"===e.Type?(f="Backdrop",c=e.ParentBackdropImageTags[0],h=e.ParentBackdropItemId):e.ImageTags&&e.ImageTags.Primary&&("Episode"!==e.Type||0!==e.ChildCount)?(f="Primary",c=e.ImageTags.Primary,i=a&&o?Math.round(a/o):null,n.preferThumb&&!1!==n.showTitle&&(s=!0),o&&d&&(u=Math.abs(o-d)/d<=.2)):e.SeriesPrimaryImageTag?(f="Primary",c=e.SeriesPrimaryImageTag,h=e.SeriesId):e.PrimaryImageTag?(f="Primary",c=e.PrimaryImageTag,h=e.PrimaryImageItemId,i=a&&o?Math.round(a/o):null,n.preferThumb&&!1!==n.showTitle&&(s=!0),o&&d&&(u=Math.abs(o-d)/d<=.2)):e.ParentPrimaryImageTag?(f="Primary",c=e.ParentPrimaryImageTag,h=e.ParentPrimaryImageItemId):e.AlbumId&&e.AlbumPrimaryImageTag?(f="Primary",c=e.AlbumPrimaryImageTag,h=e.AlbumId,i=a&&o?Math.round(a/o):null,o&&d&&(u=Math.abs(o-d)/d<=.2)):"Season"===e.Type&&e.ImageTags&&e.ImageTags.Thumb?(f="Thumb",c=e.ImageTags.Thumb):e.BackdropImageTags&&e.BackdropImageTags.length?(f="Backdrop",c=e.BackdropImageTags[0]):e.ImageTags&&e.ImageTags.Thumb?(f="Thumb",c=e.ImageTags.Thumb):e.SeriesThumbImageTag&&!1!==n.inheritThumb?(f="Thumb",c=e.SeriesThumbImageTag,h=e.SeriesId):e.ParentThumbItemId&&!1!==n.inheritThumb?(f="Thumb",c=e.ParentThumbImageTag,h=e.ParentThumbItemId):e.ParentBackdropImageTags&&e.ParentBackdropImageTags.length&&!1!==n.inheritThumb&&(f="Backdrop",c=e.ParentBackdropImageTags[0],h=e.ParentBackdropItemId),h||(h=e.Id),c&&f&&(!i&&a&&d&&(i=a/d),l=t.getScaledImageUrl(h,{type:f,fillHeight:i,fillWidth:a,quality:96,tag:c})),{imgUrl:l,blurhash:((n.imageBlurhashes||e.ImageBlurHashes||{})[f]||{})[c],forceName:s,coverImage:u}}(t,r,i,l),y=m.imgUrl,v=m.blurhash,P=m.forceName,k="auto"===i.showTitle||i.showTitle||"PhotoAlbum"===t.Type||"Folder"===t.Type,S=i.overlayText,C="cardImageContainer";(i.coverImage||m.coverImage)&&(C+=" coveredImage","TvChannel"===t.Type&&(C+=" coveredImage-contain")),y||(C+=" "+M(t.Name));var T,L,A=i.cardLayout?"cardBox visualCardBox":"cardBox",Z=c.ZP.getProgressBarHtml(t),j="",N=!1;i.showChannelLogo&&t.ChannelPrimaryImageTag?L=r.getScaledImageUrl(t.ChannelId,{type:"Primary",height:40,tag:t.ChannelPrimaryImageTag}):i.showLogo&&t.ParentLogoImageTag&&(L=r.getScaledImageUrl(t.ParentLogoItemId,{type:"Logo",height:40,tag:t.ParentLogoImageTag})),S?(j+=O(t,0,i,k,P,S,y,T=Z?"innerCardFooter fullInnerCardFooter":"innerCardFooter",Z,L=null,!1),N=!0):Z&&(j+='<div class="innerCardFooter fullInnerCardFooter innerCardFooterClear">',j+=Z,j+="</div>",Z="");var R=t.MediaSourceCount||1;R>1&&!0!==i.disableIndicators&&(j+='<div class="mediaSourceIndicator">'+R+"</div>");var _="";S||N||(T=i.cardLayout?"cardFooter":"cardFooter cardFooter-transparent",L&&(T+=" cardFooter-withlogo"),i.cardLayout||(L=null),_=O(t,0,i,k,P,S,y,T,Z,L,!0)),_&&!i.cardLayout&&(A+=" cardBox-bottompadded");var q,B="";if(d.Z.mobile){var F=i.overlayPlayButton;null!=F||i.overlayMoreButton||i.overlayInfoButton||i.cardLayout||(F="Video"===t.MediaType);var U="cardOverlayButton cardOverlayButton-br itemAction";i.centerPlayButton&&(B+='<button is="paper-icon-button-light" class="'.concat(U,' cardOverlayButton-centered" data-action="play" title="').concat(u.ZP.translate("Play"),'"><span class="material-icons cardOverlayButtonIcon play_arrow" aria-hidden="true"></span></button>')),!F||t.IsPlaceHolder||"Virtual"===t.LocationType&&t.MediaType&&"Program"!==t.Type||"Person"===t.Type||(B+='<button is="paper-icon-button-light" class="'.concat(U,'" data-action="play" title="').concat(u.ZP.translate("Play"),'"><span class="material-icons cardOverlayButtonIcon play_arrow" aria-hidden="true"></span></button>')),i.overlayMoreButton&&(B+='<button is="paper-icon-button-light" class="'.concat(U,'" data-action="menu" title="').concat(u.ZP.translate("ButtonMore"),'"><span class="material-icons cardOverlayButtonIcon more_vert" aria-hidden="true"></span></button>'))}i.showChildCountIndicator&&t.ChildCount&&(h+=" groupedCard");var z="",H="";if(v&&v.length>0&&(H='data-blurhash="'+v+'"'),d.Z.tv)q=y?'<div class="'+C+' cardContent lazy" data-src="'+y+'" '+H+">":'<div class="'+C+' cardContent">',z="</div>";else{var V=' aria-label="'.concat(a()(t.Name),'"'),W=g.appRouter.getRouteUrl(t);q=y?'<a href="'+W+'" data-action="'+o+'" class="'+C+' cardContent itemAction lazy" data-src="'+y+'" '+H+V+">":'<a href="'+W+'" data-action="'+o+'" class="'+C+' cardContent itemAction"'+V+">",z="</a>"}var G="";if(y&&"TvChannel"!==t.Type&&(G=D(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({defaultCardImageIcon:"folder"},i))),q='<div class="'.concat(A,'"><div class="').concat("cardScalable",'"><div class="cardPadder cardPadder-').concat(l,'">').concat(G,"</div>").concat(q),!0!==i.disableIndicators){var Q="";!1!==i.missingIndicator&&(Q+=c.ZP.getMissingIndicator(t)),Q+=c.ZP.getSyncIndicator(t),Q+=c.ZP.getTimerIndicator(t),Q+=c.ZP.getTypeIndicator(t),i.showGroupCount?Q+=c.ZP.getChildCountIndicatorHtml(t,{minCount:1}):Q+=c.ZP.getPlayedIndicatorHtml(t),("CollectionFolder"===t.Type||t.CollectionType)&&(Q+='<div is="emby-itemrefreshindicator"'+(t.RefreshProgress?"":' class="hide"')+' data-progress="'+(t.RefreshProgress||0)+'" data-status="'+t.RefreshStatus+'"></div>',x||(x=!0,n.e(277).then(n.bind(n,70277)))),Q&&(q+='<div class="cardIndicators">'+Q+"</div>")}y||(q+=D(t,i));var Y=d.Z.tv&&!B?"button":"div",X=t.SortName||t.Name||"",J=X.substring(0,Math.min(3,X.length));J&&(J=J.toUpperCase());var $,K="";t.TimerId&&(K+=' data-timerid="'+t.TimerId+'"'),t.SeriesTimerId&&(K+=' data-seriestimerid="'+t.SeriesTimerId+'"');var ee="";"button"===Y?(h+=" itemAction",$=' data-action="'+o+'"',ee=' aria-label="'.concat(a()(t.Name),'"')):$="","MusicAlbum"!==t.Type&&"MusicArtist"!==t.Type&&"Audio"!==t.Type&&(h+=" card-withuserdata");var te=t.UserData&&t.UserData.PlaybackPositionTicks?' data-positionticks="'+t.UserData.PlaybackPositionTicks+'"':"",ne=i.collectionId?' data-collectionid="'+i.collectionId+'"':"",re=i.playlistId?' data-playlistid="'+i.playlistId+'"':"",ae=t.MediaType?' data-mediatype="'+t.MediaType+'"':"",ie=t.CollectionType?' data-collectiontype="'+t.CollectionType+'"':"",oe=t.ChannelId?' data-channelid="'+t.ChannelId+'"':"",se=t.Path?' data-path="'+a()(t.Path)+'"':"",le=i.context?' data-context="'+i.context+'"':"",ce=i.parentId?' data-parentid="'+i.parentId+'"':"",ue=t.StartDate?' data-startdate="'+t.StartDate.toString()+'"':"",de=t.EndDate?' data-enddate="'+t.EndDate.toString()+'"':"",fe="";return d.Z.desktop&&!i.disableHoverMenu&&(fe+=function(e,t){var r="";r+='<div class="cardOverlayContainer itemAction" data-action="'+t+'">',r+='<a href="'+g.appRouter.getRouteUrl(e)+'" class="cardImageContainer"></a>';var a="cardOverlayButton cardOverlayButton-hover itemAction paper-icon-button-light";p.O.canPlay(e)&&(r+='<button is="paper-icon-button-light" class="'+a+' cardOverlayFab-primary" data-action="resume"><span class="material-icons cardOverlayButtonIcon cardOverlayButtonIcon-hover play_arrow" aria-hidden="true"></span></button>'),r+='<div class="cardOverlayButton-br flex">';var i=e.UserData||{};if(s.ZP.canMarkPlayed(e)&&(n.e(6662).then(n.bind(n,36662)),r+='<button is="emby-playstatebutton" type="button" data-action="none" class="'+a+'" data-id="'+e.Id+'" data-serverid="'+e.ServerId+'" data-itemtype="'+e.Type+'" data-played="'+i.Played+'"><span class="material-icons cardOverlayButtonIcon cardOverlayButtonIcon-hover check" aria-hidden="true"></span></button>'),s.ZP.canRate(e)){var o=null==i.Likes?"":i.Likes;n.e(7636).then(n.bind(n,27636)),r+='<button is="emby-ratingbutton" type="button" data-action="none" class="'+a+'" data-id="'+e.Id+'" data-serverid="'+e.ServerId+'" data-itemtype="'+e.Type+'" data-likes="'+o+'" data-isfavorite="'+i.IsFavorite+'"><span class="material-icons cardOverlayButtonIcon cardOverlayButtonIcon-hover favorite" aria-hidden="true"></span></button>'}return r+='<button is="paper-icon-button-light" class="'.concat(a,'" data-action="menu" title="').concat(u.ZP.translate("ButtonMore"),'"><span class="material-icons cardOverlayButtonIcon cardOverlayButtonIcon-hover more_vert" aria-hidden="true"></span></button>'),(r+="</div>")+"</div>"}(t,o)),"<"+Y+' data-index="'+e+'"'+K+$+' data-isfolder="'+(t.IsFolder||!1)+'" data-serverid="'+(t.ServerId||i.serverId)+'" data-id="'+(t.Id||t.ItemId)+'" data-type="'+t.Type+'"'+ae+ie+oe+se+te+ne+re+le+ce+ue+de+' data-prefix="'+a()(J)+'" class="'+h+'"'+ee+">"+q+j+z+B+fe+"</div>"+_+"</div></"+Y+">"}function D(e,t){if(e.CollectionType)return'<span class="cardImageIcon material-icons '+y.ZP.getLibraryIcon(e.CollectionType)+'" aria-hidden="true"></span>';switch(e.Type){case"MusicAlbum":return'<span class="cardImageIcon material-icons album" aria-hidden="true"></span>';case"MusicArtist":case"Person":return'<span class="cardImageIcon material-icons person" aria-hidden="true"></span>';case"Audio":return'<span class="cardImageIcon material-icons audiotrack" aria-hidden="true"></span>';case"Movie":return'<span class="cardImageIcon material-icons movie" aria-hidden="true"></span>';case"Episode":case"Series":return'<span class="cardImageIcon material-icons tv" aria-hidden="true"></span>';case"Program":return'<span class="cardImageIcon material-icons live_tv" aria-hidden="true"></span>';case"Book":return'<span class="cardImageIcon material-icons book" aria-hidden="true"></span>';case"Folder":return'<span class="cardImageIcon material-icons folder" aria-hidden="true"></span>';case"BoxSet":return'<span class="cardImageIcon material-icons collections" aria-hidden="true"></span>';case"Playlist":return'<span class="cardImageIcon material-icons view_list" aria-hidden="true"></span>';case"Photo":return'<span class="cardImageIcon material-icons photo" aria-hidden="true"></span>';case"PhotoAlbum":return'<span class="cardImageIcon material-icons photo_album" aria-hidden="true"></span>'}if(null!=t&&t.defaultCardImageIcon)return'<span class="cardImageIcon material-icons '+t.defaultCardImageIcon+'" aria-hidden="true"></span>';var n=A(e)?e.Name:s.ZP.getDisplayName(e);return'<div class="cardText cardDefaultText">'+a()(n)+"</div>"}function R(e,t){if(document.body.contains(t.itemsContainer)){if(t.parentContainer){if(!e.length)return void t.parentContainer.classList.add("hide");t.parentContainer.classList.remove("hide")}var n=L(e,t);n?(t.itemsContainer.cardBuilderHtml!==n&&(t.itemsContainer.innerHTML=n,e.length<50?t.itemsContainer.cardBuilderHtml=n:t.itemsContainer.cardBuilderHtml=null),o.default.lazyChildren(t.itemsContainer)):(t.itemsContainer.innerHTML=n,t.itemsContainer.cardBuilderHtml=null),t.autoFocus&&l.Z.autoFocus(t.itemsContainer,!0)}}function _(e,t){if(t)return t;if(!(t=e.querySelector(".cardIndicators"))){var n=e.querySelector(".cardImageContainer");(t=document.createElement("div")).classList.add("cardIndicators"),n.appendChild(t)}return t}function q(e,t){var n=e.getAttribute("data-type"),r="Series"===n||"BoxSet"===n||"Season"===n,a=null,i=null,o=null,s=null;t.Played?((i=e.querySelector(".playedIndicator"))||((i=document.createElement("div")).classList.add("playedIndicator"),i.classList.add("indicator"),(a=_(e,a)).appendChild(i)),i.innerHTML='<span class="material-icons indicatorIcon check" aria-hidden="true"></span>'):(i=e.querySelector(".playedIndicator"))&&i.parentNode.removeChild(i),t.UnplayedItemCount?((o=e.querySelector(".countIndicator"))||((o=document.createElement("div")).classList.add("countIndicator"),(a=_(e,a)).appendChild(o)),o.innerHTML=t.UnplayedItemCount):r&&(o=e.querySelector(".countIndicator"))&&o.parentNode.removeChild(o);var l=c.ZP.getProgressBarHtml({Type:n,UserData:t,MediaType:"Video"});if(l){if(!(s=e.querySelector(".itemProgressBar"))){(s=document.createElement("div")).classList.add("itemProgressBar");var u=e.querySelector(".innerCardFooter");u||((u=document.createElement("div")).classList.add("innerCardFooter"),e.querySelector(".cardImageContainer").appendChild(u)),u.appendChild(s)}s.innerHTML=l}else(s=e.querySelector(".itemProgressBar"))&&s.parentNode.removeChild(s)}function B(e,t){for(var n=(t||document.body).querySelectorAll('.card-withuserdata[data-id="'+e.ItemId+'"]'),r=0,a=n.length;r<a;r++)q(n[r],e)}function F(e,t,n){for(var r=n.querySelectorAll('.card[data-id="'+e+'"]'),a=0,i=r.length;a<i;a++){var o=r[a];o.querySelector(".timerIndicator")||_(o).insertAdjacentHTML("beforeend",'<span class="material-icons timerIndicator indicatorIcon fiber_manual_record" aria-hidden="true"></span>'),o.setAttribute("data-timerid",t)}}function U(e,t){for(var n=t.querySelectorAll('.card[data-timerid="'+e+'"]'),r=0;r<n.length;r++){var a=n[r],i=a.querySelector(".timerIndicator");i&&i.parentNode.removeChild(i),a.removeAttribute("data-timerid")}}function z(e,t){for(var n=t.querySelectorAll('.card[data-seriestimerid="'+e+'"]'),r=0;r<n.length;r++){var a=n[r],i=a.querySelector(".timerIndicator");i&&i.parentNode.removeChild(i),a.removeAttribute("data-seriestimerid")}}t.default={getCardsHtml:C,getDefaultBackgroundClass:M,getDefaultText:D,buildCards:R,onUserDataChanged:B,onTimerCreated:F,onTimerCancelled:U,onSeriesTimerCancelled:z}},3137:function(e,t,n){"use strict";n(52077),n(72482),n(63238),n(61418),n(25901),n(92189),n(91047),n(5769),n(17460),n(14078),n(98521),n(6798),n(82923),n(21897),n(99785),n(12274),n(55849),n(50987),n(60190),n(72410);var r=n(52050),a=n(57366),i=n(56809),o=n(94994);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(){l=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),o=new I(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function h(){}function p(){}function m(){}var y={};c(y,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(C([])));g&&g!==t&&n.call(g,a)&&(y=g);var b=m.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(a,i,o,l){var c=d(e[a],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==s(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(f).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,l)}))}l(c.arg)}var a;this._invoke=function(e,n){function i(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(i,i):i()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=m,c(b,"constructor",m),c(m,"constructor",p),p.displayName=c(m,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(P.prototype),c(P.prototype,i,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new P(u(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),c(b,o,"Generator"),c(b,a,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function c(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){c(i,r,a,o,s,"next",e)}function s(e){c(i,r,a,o,s,"throw",e)}o(void 0)}))}}function d(e,t,n){return e.split(t).join(n)}function f(){return(f=u(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"==typeof t&&(t={title:"",text:t}),n=d(t.text||"","<br/>","\n"),e.next=4,r.appRouter.ready();case 4:if(!window.confirm(n)){e.next=9;break}return e.abrupt("return",Promise.resolve());case 9:return e.abrupt("return",Promise.reject());case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=u(l().mark((function e(t,n){var a,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=[]).push({name:(a="string"==typeof t?{title:n,text:t}:t).cancelText||o.ZP.translate("ButtonCancel"),id:"cancel",type:"cancel"}),s.push({name:a.confirmText||o.ZP.translate("ButtonOk"),id:"ok",type:"delete"===a.primary?"delete":"submit"}),a.buttons=s,e.next=7,r.appRouter.ready();case 7:return e.abrupt("return",i.Z.show(a).then((function(e){return"ok"===e?Promise.resolve():Promise.reject()})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=a.Z.web0s||a.Z.tizenVersion&&a.Z.tizenVersion<3||!a.Z.tv||!window.confirm?function(e,t){return h.apply(this,arguments)}:function(e){return f.apply(this,arguments)};t.Z=p},56809:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}}),n(25901),n(92189),n(23938),n(63238),n(61418),n(99785),n(92571),n(98010),n(20252),n(55849),n(14009),n(12699);var r=n(31699),a=n.n(r),i=n(65009),o=n.n(i),s=n(48102),l=n(72365),c=n(30325),u=n(54517),d=n(94994),f=(n(85427),n(38228),n(61414),n(33310),n(6626),n(15359),'<div class="formDialogHeader formDialogHeader-clear justify-content-center"> <h1 class="formDialogHeaderTitle" style="margin-left:0;margin-top:.5em;padding:0 1em"></h1> </div> <div class="formDialogContent smoothScrollY"> <div class="dialogContentInner dialog-content-centered" style="padding-top:1em;padding-bottom:1em;text-align:center"> <div class="text"></div> </div> </div> <div class="formDialogFooter formDialogFooter-clear formDialogFooter-flex" style="margin:1em"></div> ');function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={show:function(e,t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{dialogOptions:{},buttons:[]},t=p({removeOnClose:!0,scrollY:!1},e.dialogOptions),n=c.Z.tv;n&&(t.size="fullscreen");var r=s.default.createDialog(t);r.classList.add("formDialog"),r.innerHTML=d.ZP.translateHtml(f,"core"),r.classList.add("align-items-center"),r.classList.add("justify-content-center");var i=r.querySelector(".formDialogContent");i.classList.add("no-grow"),n?(i.style["max-width"]="50%",i.style["max-height"]="60%",u.default.centerFocus.on(i,!1)):(i.style.maxWidth="".concat(Math.min(150*e.buttons.length+200,l.ZP.getWindowSize().innerWidth-50),"px"),r.classList.add("dialog-fullscreen-lowres")),e.title?r.querySelector(".formDialogHeaderTitle").innerText=e.title||"":r.querySelector(".formDialogHeaderTitle").classList.add("hide");var h,m,y=e.html||e.text||"";r.querySelector(".text").innerHTML=a().sanitize(y),y||r.querySelector(".dialogContentInner").classList.add("hide");var v,g="",b=!1;for(h=0,m=e.buttons.length;h<m;h++){var w=e.buttons[h],P=0===h?" autofocus":"",k="btnOption raised formDialogFooterItem formDialogFooterItem-autosize";w.type&&(k+=" button-".concat(w.type)),w.description&&(b=!0),b&&(k+=" formDialogFooterItem-vertical formDialogFooterItem-nomarginbottom"),g+='<button is="emby-button" type="button" class="'.concat(k,'" data-id="').concat(w.id,'"').concat(P,">").concat(o()(w.name),"</button>"),w.description&&(g+='<div class="formDialogFooterItem formDialogFooterItem-autosize fieldDescription" style="margin-top:.25em!important;margin-bottom:1.25em!important;">'.concat(w.description,"</div>"))}function S(){v=this.getAttribute("data-id"),s.default.close(r)}r.querySelector(".formDialogFooter").innerHTML=g,b&&r.querySelector(".formDialogFooter").classList.add("formDialogFooter-vertical");var x=r.querySelectorAll(".btnOption");for(h=0,m=x.length;h<m;h++)x[h].addEventListener("click",S);return s.default.open(r).then((function(){return n&&u.default.centerFocus.off(r.querySelector(".formDialogContent"),!1),v||Promise.reject()}))}("string"==typeof e?{title:t,text:e}:e)}}},48102:function(e,t,n){"use strict";n.r(t),n.d(t,{close:function(){return j},createDialog:function(){return R},default:function(){return q},open:function(){return O},setOnOpen:function(){return _}}),n(5769),n(95623),n(61514),n(52077),n(911),n(23938),n(83526),n(98010),n(63238),n(61418),n(17460),n(14078),n(99785),n(92571),n(25901),n(20252),n(55849),n(14009),n(12699);var r,a=n(52050),i=n(34643),o=n(57366),s=n(30325),l=n(58517),c=n(98555),u=n(72365),d=n(1892),f=n.n(d),h=n(95760),p=n.n(h),m=n(38311),y=n.n(m),v=n(58192),g=n.n(v),b=n(38060),w=n.n(b),P=n(54865),k=n.n(P),S=n(62101),x={};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(){return!o.Z.tv&&o.Z.supportsCssAnimation()}function E(e){var t=e.parentNode;if(t)try{t.removeChild(e)}catch(e){console.error("[dialogHelper] error removing dialog element: "+e)}}function A(e,t,n){this.originalUrl=window.location.href;var r,o=document.activeElement,d=!1;function f(t){"back"===t.detail.command&&(t.preventDefault(),t.stopPropagation(),j(e))}if(e.addEventListener("_close",(function(){if(Z(e)||l.default.off(e,f),r&&r(),function(e){var t=e.backdrop;if(t){e.backdrop=null;var n=function(){E(t)};if(L())return t.classList.remove("dialogBackdropOpened"),void setTimeout(n,300);n()}}(e),e.classList.remove("opened"),d&&document.body.classList.remove("noScroll"),Z(e)){var u,h=a.history.location.state||{};(null===(u=h.dialogs)||void 0===u?void 0:u.length)>0&&(h.dialogs[h.dialogs.length-1]===t?a.history.back():h.dialogs.includes(t)&&(console.warn('[dialogHelper] dialog "%s" was closed, but is not the last dialog opened',t),a.history.replace("".concat(a.history.location.pathname).concat(a.history.location.search),C(C({},h),{},{dialogs:h.dialogs.filter((function(e){return e!==t}))}))))}if(s.Z.tv&&i.Z.focus(o),(0,c.s)(e.getAttribute("data-removeonclose"),!0)){!function(e){s.Z.tv&&(e.classList.contains("scrollX")?D(e,!0,!1):e.classList.contains("smoothScrollY")&&D(e,!1,!1))}(e);var p=e.dialogContainer;p?(E(p),e.dialogContainer=null):E(e)}setTimeout((function(){e.dispatchEvent(new CustomEvent("close",{bubbles:!1,cancelable:!1})),n({element:e})}),1)})),!e.classList.contains("dialog-fixedSize")&&e.classList.add("centeredDialog"),e.classList.remove("hide"),function(e){var t=document.createElement("div");t.classList.add("dialogBackdrop");var n=e.dialogContainer||e;n.parentNode.insertBefore(t,n),e.backdrop=t,t.offsetWidth,t.classList.add("dialogBackdropOpened"),u.ZP.addEventListener(e.dialogContainer||t,"click",(function(t){t.target===e.dialogContainer&&j(e)}),{passive:!0}),u.ZP.addEventListener(e.dialogContainer||t,"contextmenu",(function(t){t.target===e.dialogContainer&&(j(e),t.preventDefault())}))}(e),e.classList.add("opened"),e.dispatchEvent(new CustomEvent("open",{bubbles:!1,cancelable:!1})),"true"!==e.getAttribute("data-lockscroll")||document.body.classList.contains("noScroll")||(document.body.classList.add("noScroll"),d=!0),function(e){var t=function(){i.Z.pushScope(e),"true"===e.getAttribute("data-autofocus")&&i.Z.autoFocus(e),document.activeElement&&!e.contains(document.activeElement)&&document.activeElement.blur()};if(L()){u.ZP.addEventListener(e,u.ZP.whichAnimationEvent(),(function n(){u.ZP.removeEventListener(e,u.ZP.whichAnimationEvent(),n,{once:!0}),t()}),{once:!0})}else t()}(e),Z(e)){var h=a.history.location.state||{},p=h.dialogs||[];p.push(t),a.history.push("".concat(a.history.location.pathname).concat(a.history.location.search),C(C({},h),{},{dialogs:p})),r=a.history.listen((function(n){var a,i=!((null===(a=n.location.state)||void 0===a?void 0:a.dialogs)||[]).includes(t);!i&&function(e){return!e.classList.contains("hide")}(e)||!r||r(),i&&j(e)}))}else l.default.on(e,f)}function Z(e){return"true"===e.getAttribute("data-history")}function O(e){r&&r(e);var t=e.parentNode;t&&t.removeChild(e);var n=document.createElement("div");return n.classList.add("dialogContainer"),n.appendChild(e),e.dialogContainer=n,document.body.appendChild(n),new Promise((function(t){new A(e,"dlg".concat((new Date).getTime()),t)}))}function j(e){e.classList.contains("hide")||(e.dispatchEvent(new CustomEvent("closing",{bubbles:!1,cancelable:!1})),function(e,t){if(L()){var n=!0;switch(e.animationConfig.exit.name){case"fadeout":e.style.animation="fadeout ".concat(e.animationConfig.exit.timing.duration,"ms ease-out normal both");break;case"scaledown":e.style.animation="scaledown ".concat(e.animationConfig.exit.timing.duration,"ms ease-out normal both");break;case"slidedown":e.style.animation="slidedown ".concat(e.animationConfig.exit.timing.duration,"ms ease-out normal both");break;default:n=!1}if(u.ZP.addEventListener(e,u.ZP.whichAnimationEvent(),(function n(){u.ZP.removeEventListener(e,u.ZP.whichAnimationEvent(),n,{once:!0}),t()}),{once:!0}),n)return}t()}(e,(function(){i.Z.popScope(e),e.classList.add("hide"),e.dispatchEvent(new CustomEvent("_close",{bubbles:!1,cancelable:!1}))})))}x.styleTagTransform=k(),x.setAttributes=g(),x.insert=y().bind(null,"head"),x.domAPI=p(),x.insertStyleElement=w(),f()(S.Z,x),S.Z&&S.Z.locals&&S.Z.locals,n(87201);var M="overscroll-behavior-y"in document.body.style;function N(e){return null!=e.lockScroll?e.lockScroll:"fullscreen"===e.size||!(M&&(e.size||!o.Z.touch))&&(!!e.size||o.Z.touch)}function D(e,t,r){Promise.resolve().then(n.bind(n,54517)).then((function(n){var a=r?"on":"off";n.centerFocus[a](e,t)}))}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=document.createElement("div");e.id&&(t.id=e.id),t.classList.add("focuscontainer"),t.classList.add("hide"),N(e)&&t.setAttribute("data-lockscroll","true"),!1!==e.enableHistory&&t.setAttribute("data-history","true"),!1!==e.modal&&t.setAttribute("modal","modal"),!1!==e.autoFocus&&t.setAttribute("data-autofocus","true");var n="scaleup",r="scaledown",a=e.entryAnimation||n,i=e.exitAnimation||r,o=e.entryAnimationDuration||("fullscreen"!==e.size?180:280),l=e.exitAnimationDuration||("fullscreen"!==e.size?120:220);if(t.animationConfig={entry:{name:a,timing:{duration:o,easing:"ease-out"}},exit:{name:i,timing:{duration:l,easing:"ease-out",fill:"both"}}},t.classList.add("dialog"),e.scrollX?(t.classList.add("scrollX"),t.classList.add("smoothScrollX"),s.Z.tv&&D(t,!0,!0)):!1!==e.scrollY&&(t.classList.add("smoothScrollY"),s.Z.tv&&D(t,!1,!0)),e.removeOnClose&&t.setAttribute("data-removeonclose","true"),e.size&&(t.classList.add("dialog-fixedSize"),t.classList.add("dialog-".concat(e.size))),L())switch(t.animationConfig.entry.name){case"fadein":t.style.animation="fadein ".concat(o,"ms ease-out normal");break;case"scaleup":t.style.animation="scaleup ".concat(o,"ms ease-out normal both");break;case"slideup":t.style.animation="slideup ".concat(o,"ms ease-out normal");break;case"slidedown":t.style.animation="slidedown ".concat(o,"ms ease-out normal")}return t}function _(e){r=e}var q={open:O,close:j,createDialog:R,setOnOpen:_}},19403:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}}),n(63238),n(61418),n(5769),n(17460),n(14078),n(23938),n(99785);var r=n(65009),a=n.n(r),i=n(51161),o=n(48102),s=n(72365),l=n(94994),c=(n(664),n(33310),n(61414),n(1892)),u=n.n(c),d=n(95760),f=n.n(d),h=n(38311),p=n.n(h),m=n(58192),y=n.n(m),v=n(38060),g=n.n(v),b=n(54865),w=n.n(b),P=n(11979),k={};k.styleTagTransform=w(),k.setAttributes=y(),k.insert=p().bind(null,"head"),k.domAPI=f(),k.insertStyleElement=g(),u()(P.Z,k),P.Z&&P.Z.locals&&P.Z.locals,n(6626),n(38228);var S,x=n(37099);function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t,n){return t&&I(e.prototype,t),n&&I(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(){i.ZP.hide()}function E(e,t,n,r){if(t&&"string"!=typeof t)throw new Error("invalid path");i.ZP.show();var a=[];t?(a.push(ApiClient.getDirectoryContents(t,n)),a.push(ApiClient.getParentPath(t))):a.push(ApiClient.getDrives()),Promise.all(a).then((function(n){var r=n[0],a=n[1]||"",o="";e.querySelector(".results").scrollTop=0,e.querySelector("#txtDirectoryPickerPath").value=t||"",t&&(o+=A("lnkPath lnkDirectory","",a,"..."));for(var s=0,l=r.length;s<l;s++){var c=r[s];o+=A("File"===c.Type?"lnkPath lnkFile":"lnkPath lnkDirectory",c.Type,c.Path,c.Name)}e.querySelector(".results").innerHTML=o,i.ZP.hide()}),(function(){r&&(e.querySelector("#txtDirectoryPickerPath").value="",e.querySelector(".results").innerHTML="",i.ZP.hide())}))}function A(e,t,n,r){var i="";return i+='<div class="listItem listItem-border '.concat(e,'" data-type="').concat(t,'" data-path="').concat(a()(n),'">'),i+='<div class="listItemBody" style="padding-left:0;padding-top:.5em;padding-bottom:.5em;">',i+='<div class="listItemBodyText">',i+=a()(r),i+="</div>",i+="</div>",(i+='<span class="material-icons arrow_forward" aria-hidden="true" style="font-size:inherit;"></span>')+"</div>"}function Z(e){!function(e){(0,x.Z)(e)}({text:e})}function O(e){return e.path?Promise.resolve(e.path):ApiClient.getJSON(ApiClient.getUrl("Environment/DefaultDirectoryBrowser")).then((function(e){return e.Path||""}),(function(){return""}))}var j=C((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),T(this,"currentDialog",void 0),T(this,"show",(function(e){var n={includeDirectories:!0};null!=(e=e||{}).includeDirectories&&(n.includeDirectories=e.includeDirectories),null!=e.includeFiles&&(n.includeFiles=e.includeFiles),Promise.all([S?Promise.resolve(S):ApiClient.getPublicSystemInfo().then((function(e){return S=e,e})),O(e)]).then((function(r){var i=r[0],c=r[1],u=o.default.createDialog({size:"small",removeOnClose:!0,scrollY:!1});u.classList.add("ui-body-a"),u.classList.add("background-theme-a"),u.classList.add("directoryPicker"),u.classList.add("formDialog");var d="";d+='<div class="formDialogHeader">',d+='<button is="paper-icon-button-light" class="btnCloseDialog autoSize" tabindex="-1" title="'.concat(l.ZP.translate("ButtonBack"),'"><span class="material-icons arrow_back" aria-hidden="true"></span></button>'),d+='<h3 class="formDialogHeaderTitle">',d+=a()(e.header||"")||l.ZP.translate("HeaderSelectPath"),d+="</h3>",d+="</div>",d+=function(e,t){var n,r="";r+='<div class="formDialogContent scrollY">',r+='<div class="dialogContentInner dialog-content-centered" style="padding-top:2em;">',e.pathReadOnly||(r+='<div class="infoBanner" style="margin-bottom:1.5em;">',r+=e.instruction?"".concat(a()(e.instruction),"<br/><br/>"):"","bsd"===t.OperatingSystem.toLowerCase()?(r+="<br/>",r+="<br/>",r+=l.ZP.translate("MessageDirectoryPickerBSDInstruction"),r+="<br/>"):"linux"===t.OperatingSystem.toLowerCase()&&(r+="<br/>",r+="<br/>",r+=l.ZP.translate("MessageDirectoryPickerLinuxInstruction"),r+="<br/>"),r+="</div>"),r+='<form style="margin:auto;">',r+='<div class="inputContainer" style="display: flex; align-items: center;">',r+='<div style="flex-grow:1;">',n=!0!==e.includeFiles?"LabelFolder":"LabelPath";var i=e.pathReadOnly?" readonly":"";return r+='<input is="emby-input" id="txtDirectoryPickerPath" type="text" required="required" '.concat(i,' label="').concat(l.ZP.translate(n),'"/>'),r+="</div>",i||(r+='<button type="button" is="paper-icon-button-light" class="btnRefreshDirectories emby-input-iconbutton" title="'.concat(l.ZP.translate("Refresh"),'"><span class="material-icons search" aria-hidden="true"></span></button>')),r+="</div>",i||(r+='<div class="results paperList" style="max-height: 200px; overflow-y: auto;"></div>'),e.enableNetworkSharePath&&(r+='<div class="inputContainer" style="margin-top:2em;">',r+='<input is="emby-input" id="txtNetworkPath" type="text" label="'.concat(l.ZP.translate("LabelOptionalNetworkPath"),'"/>'),r+='<div class="fieldDescription">',r+=l.ZP.translate("LabelOptionalNetworkPathHelp","<b>\\\\server</b>","<b>\\\\192.168.1.101</b>"),r+="</div>",r+="</div>"),r+='<div class="formDialogFooter">',r+='<button is="emby-button" type="submit" class="raised button-submit block formDialogFooterItem">'.concat(l.ZP.translate("ButtonOk"),"</button>"),r+="</div>",r+="</form>",r+="</div>",(r+="</div>")+"</div>"}(e,i),u.innerHTML=d,function(e,t,n){e.addEventListener("click",(function(t){var r=s.ZP.parentWithClass(t.target,"lnkPath");if(r){var a=r.getAttribute("data-path");r.classList.contains("lnkFile")?e.querySelector("#txtDirectoryPickerPath").value=a:E(e,a,n,!0)}})),e.addEventListener("click",(function(t){if(s.ZP.parentWithClass(t.target,"btnRefreshDirectories")){var r=e.querySelector("#txtDirectoryPickerPath").value;E(e,r,n)}})),e.addEventListener("change",(function(t){var r=s.ZP.parentWithTag(t.target,"INPUT");r&&"txtDirectoryPickerPath"===r.id&&E(e,r.value,n)})),e.querySelector("form").addEventListener("submit",(function(e){if(t.callback){var n=this.querySelector("#txtNetworkPath");n=n?n.value:null;var r=this.querySelector("#txtDirectoryPickerPath").value;(function(e,t,n){return n.ajax({type:"POST",url:n.getUrl("Environment/ValidatePath"),data:JSON.stringify({ValidateWriteable:t,Path:e}),contentType:"application/json"}).catch((function(e){if(e){if(404===e.status)return Z(l.ZP.translate("PathNotFound")),Promise.reject();if(500===e.status)return Z(t?l.ZP.translate("WriteAccessRequired"):l.ZP.translate("PathNotFound")),Promise.reject()}return Promise.resolve()}))})(r,t.validateWriteable,ApiClient).then(t.callback(r,n))}return e.preventDefault(),e.stopPropagation(),!1}))}(u,e,n),u.addEventListener("close",L),o.default.open(u),u.querySelector(".btnCloseDialog").addEventListener("click",(function(){o.default.close(u)})),t.currentDialog=u,u.querySelector("#txtDirectoryPickerPath").value=c;var f=u.querySelector("#txtNetworkPath");f&&(f.value=e.networkSharePath||""),e.pathReadOnly||E(u,c,n,!0)}))})),T(this,"close",(function(){t.currentDialog&&o.default.close(t.currentDialog)}))})),M=j},34643:function(e,t,n){"use strict";n.d(t,{Z:function(){return V}}),n(61013),n(27471),n(43512),n(60190),n(72410);var r=n(72365),a=(n(99785),n(57366)),i=n(30325);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=1e-6,l="scrollBehavior"in document.documentElement.style,c=!1;try{var u=document.createElement("div"),d=Object.defineProperty({},"behavior",{get:function(){c=!0}});u.scrollTo(d)}catch(e){console.error("error checking ScrollToOptions support")}function f(e,t,n){return e<=t?t:e>=n?n:e}var h,p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"scrollLeft",get:function(){return window.pageXOffset},set:function(e){window.scroll(e,window.pageYOffset)}},{key:"scrollTop",get:function(){return window.pageYOffset},set:function(e){window.scroll(window.pageXOffset,e)}},{key:"scrollWidth",get:function(){return Math.max(document.documentElement.scrollWidth,document.body.scrollWidth)}},{key:"scrollHeight",get:function(){return Math.max(document.documentElement.scrollHeight,document.body.scrollHeight)}},{key:"clientWidth",get:function(){return Math.min(document.documentElement.clientWidth,document.body.clientWidth)}},{key:"clientHeight",get:function(){return Math.min(document.documentElement.clientHeight,document.body.clientHeight)}},{key:"getAttribute",value:function(e){return document.body.getAttribute(e)}},{key:"getBoundingClientRect",value:function(){return{left:0,top:0,width:this.clientWidth,height:this.clientHeight}}},{key:"scrollTo",value:function(){window.scrollTo.apply(window,arguments)}}],n&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),m=new p,y={x:{nameScroll:"scrollWidth",nameClient:"clientWidth",nameStyle:"overflowX",nameScrollMode:"data-scroll-mode-x"},y:{nameScroll:"scrollHeight",nameClient:"clientHeight",nameStyle:"overflowY",nameScrollMode:"data-scroll-mode-y"}};function v(e,t){if(e)for(var n=t?y.y:y.x,r=e.parentElement;r&&r!==document.body;){if("custom"===r.getAttribute(n.nameScrollMode))return r;var a=window.getComputedStyle(r);if("fixed"===a.position)return r;var i=a[n.nameStyle];if("scroll"===i||"auto"===i&&r[n.nameScroll]>r[n.nameClient])return r;r=r.parentElement}return m}function g(e,t){var n={};return t?(n.scrollPos=e.scrollTop,n.scrollSize=e.scrollHeight,n.clientSize=e.clientHeight,n.mode=e.getAttribute(y.y.nameScrollMode)):(n.scrollPos=e.scrollLeft,n.scrollSize=e.scrollWidth,n.clientSize=e.clientWidth,n.mode=e.getAttribute(y.x.nameScrollMode)),n.custom="custom"===n.mode,n}function b(e,t,n){var r=t.getBoundingClientRect(),a=e.getBoundingClientRect();return n?e.scrollTop+r.top-a.top:e.scrollLeft+r.left-a.left}function w(e,t,n,r){var a,i,o,s,l,c,u=e.scrollSize-e.clientSize;if(r)a=t+(n-e.clientSize)/2;else{var d=(i=t,o=t+n-1,s=e.scrollPos,c=e.scrollPos+e.clientSize-1-o,(l=i-s)<0&&l<c?-l:c<0?c:0);a=e.scrollPos-d}return f(Math.round(a),0,u)}function P(e,t){if("scrollTo"in e)if(c)e.scrollTo(t);else{var n=void 0!==t.left?t.left:e.scrollLeft,r=void 0!==t.top?t.top:e.scrollTop;e.scrollTo(n,r)}else"scrollLeft"in e&&(void 0!==t.left&&(e.scrollLeft=t.left),void 0!==t.top&&(e.scrollTop=t.top))}function k(e,t,n,r,a){var i=a?"smooth":"instant";e!==n?(e&&P(e,{left:t,behavior:i}),n&&P(n,{top:r,behavior:i})):e&&P(e,{left:t,top:r,behavior:i})}function S(){cancelAnimationFrame(h),h=void 0}function x(e,t,n,r,a){S(),a&&!l?function(e,t,n,r){var a,i=e?e.scrollLeft:t,o=n?n.scrollTop:r,l=t-i,c=r-o;Math.abs(l)<s&&Math.abs(c)<s||(h=requestAnimationFrame((function s(u){a=a||u;var d,f=Math.min(1,(u-a)/270);if(1===f)return S(),void k(e,t,n,r,!1);k(e,i+l*(f=(d=f)*(2-d)),n,o+c*f,!1),h=requestAnimationFrame(s)})))}(e,t,n,r):k(e,t,n,r,a)}function I(){return i.Z.tv}function C(e,t){t=!!t;var n=!0,r=!0,a=e.offsetParent,i=a&&(!a.offsetParent||"fixed"===window.getComputedStyle(a).position);i&&(n=r=!1);var o=v(e,!1),s=v(e,!0),l=g(o,!1),c=g(s,!0);if(!(o===s&&(l.custom||c.custom)||l.custom&&c.custom)){var u,d=e.getBoundingClientRect(),f=0,h=0;l.custom?o=null:f=w(l,b(o,e,!1),d.width,n),c.custom?s=null:(h=w(c,b(s,e,!0),d.height,r),i&&d.bottom<0&&(h=0),h<((u=document.querySelector(".headerTop"))?u.clientHeight:0)&&s===m&&(h=0)),x(o,f,s,h,t)}}I()&&r.ZP.addEventListener(window,"focusin",(function(e){setTimeout((function(){C(e.target,!!a.Z.tizen)}),0)}),{capture:!0});var T={isEnabled:I,scrollTo:function(e,t,n){n=!!n;var r=v(null,!1),a=g(r,!1),i=g(r,!0);x(r,e=f(Math.round(e),0,a.scrollSize-a.clientSize),r,t=f(Math.round(t),0,i.scrollSize-i.clientSize),n)},scrollToElement:C},L=[];function E(e,t,n){var r;return!1!==n&&(r=e.querySelector("*[autofocus]"))||!1!==t&&(r=q(e,1,"noautofocus")[0])?(A(r),r):null}function A(e){try{e.focus({preventScroll:T.isEnabled()})}catch(e){console.error("Error in focusManager.autoFocus: "+e)}}var Z=["INPUT","TEXTAREA","SELECT","BUTTON","A"],O=["BODY","DIALOG"],j=Z.map((function(e){return"INPUT"===e&&(e+=':not([type="range"]):not([type="file"])'),e+':not([tabindex="-1"]):not(:disabled)'})).join(",")+",.focusable";function M(e){return-1!==Z.indexOf(e.tagName)||!(!e.classList||!e.classList.contains("focusable"))}function N(e,t){if(e){var n=e.tagName;n&&"HTML"!==n&&"BODY"!==n||(e=t)}return e}function D(e){for(var t=e;!M(e);){var n=e.parentNode;if(!n)return N(e,t);e=n}return N(e,t)}function R(e){return null!==e.offsetParent}function _(){return L[0]||document.body}function q(e,t,n){for(var r=(e||_()).querySelectorAll(j),a=[],i=0,o=r.length;i<o;i++){var s=r[i];if((!n||!s.classList.contains(n))&&R(s)&&(a.push(s),t&&a.length>=t))break}return a}function B(e,t){if(-1!==O.indexOf(e.tagName))return!0;var n=e.classList;if(n.contains("focuscontainer"))return!0;if(0===t){if(n.contains("focuscontainer-x"))return!0;if(n.contains("focuscontainer-left"))return!0}else if(1===t){if(n.contains("focuscontainer-x"))return!0;if(n.contains("focuscontainer-right"))return!0}else if(2===t){if(n.contains("focuscontainer-y"))return!0}else if(3===t){if(n.contains("focuscontainer-y"))return!0;if(n.contains("focuscontainer-down"))return!0}return!1}function F(e){var t;return null===(t=e.getBoundingClientRect?e.getBoundingClientRect():{top:0,left:0,width:0,height:0}).right&&((t={top:t.top,left:t.left,width:t.width,height:t.height}).right=t.left+t.width,t.bottom=t.top+t.height),t}function U(e,t,n,a){if((e=e||document.activeElement)&&(e=D(e)),n=n||(e?function(e,t){for(;!B(e,t);)if(!(e=e.parentNode))return _();return e}(e,t):_()),e){for(var i,o=r.ZP.parentWithClass(e,"focusable"),s=F(e),l=parseFloat(s.left)||0,c=parseFloat(s.top)||0,u=parseFloat(l+s.width-1)||l,d=parseFloat(c+s.height-1)||c,f=s.left+s.width/2,h=s.top+s.height/2,p=a||n.querySelectorAll(j),m=1/0,y=0,v=p.length;y<v;y++){var g=p[y];if(g!==e&&g!==o){var b=F(g);if(b.width||b.height){switch(t){case 0:if(b.left>=s.left)continue;if(b.right===s.right)continue;break;case 1:if(b.right<=s.right)continue;if(b.left===s.left)continue;break;case 2:if(b.top>=s.top)continue;if(b.bottom>=s.bottom)continue;break;case 3:if(b.bottom<=s.bottom)continue;if(b.top<=s.top)continue}var w=b.left,P=b.top,k=w+b.width-1,S=P+b.height-1,x=H(l,u,w,k),I=H(c,d,P,S),C=b.left+b.width/2,T=b.top+b.height/2,L=void 0,Z=void 0;switch(t){case 0:L=Math.abs(l-Math.min(l,k)),Z=I?0:Math.abs(h-T);break;case 1:L=Math.abs(u-Math.max(u,w)),Z=I?0:Math.abs(h-T);break;case 2:Z=Math.abs(c-Math.min(c,S)),L=x?0:Math.abs(f-C);break;case 3:Z=Math.abs(d-Math.max(d,P)),L=x?0:Math.abs(f-C)}var O=Math.sqrt(L*L+Z*Z);O<m&&(i=g,m=O)}}}if(i){if(e){var M=r.ZP.parentWithClass(i,"focusable");M&&M!==i&&o!==M&&(i=M)}A(i)}}else E(n,!0,!1)}function z(e,t,n,r){return n>=e&&n<=t||r>=e&&r<=t}function H(e,t,n,r){return z(e,t,n,r)||z(n,r,e,t)}var V={autoFocus:E,focus:A,focusableParent:D,getFocusableElements:q,moveLeft:function(e,t){U(e,0,t?t.container:null,t?t.focusableElements:null)},moveRight:function(e,t){U(e,1,t?t.container:null,t?t.focusableElements:null)},moveUp:function(e,t){U(e,2,t?t.container:null,t?t.focusableElements:null)},moveDown:function(e,t){U(e,3,t?t.container:null,t?t.focusableElements:null)},sendText:function(e){document.activeElement.value=e},isCurrentlyFocusable:function(e){if(e.disabled)return!1;if("-1"===e.getAttribute("tabindex"))return!1;if("INPUT"===e.tagName){var t=e.type;if("range"===t)return!1;if("file"===t)return!1}return R(e)},pushScope:function(e){L.push(e)},popScope:function(){L.length&&(L.length-=1)},focusFirst:function(e,t){for(var n=e.querySelectorAll(t),r=0,a=n.length;r<a;r++){var i=n[r];if(R(i)){A(i);break}}},focusLast:function(e,t){for(var n=[].slice.call(e.querySelectorAll(t),0).reverse(),r=0,a=n.length;r<a;r++){var i=n[r];if(R(i)){A(i);break}}},moveFocus:function(e,t,n,r){var a,i,o,s=t.querySelectorAll(n),l=[];for(a=0,i=s.length;a<i;a++)R(o=s[a])&&l.push(o);var c=-1;for(a=0,i=l.length;a<i;a++)if(e===(o=l[a])||o.contains(e)){c=a;break}if(-1!==c){var u=c+r;u=Math.max(0,u);var d=l[u=Math.min(u,l.length-1)];d&&A(d)}}}},3427:function(e,t,n){"use strict";n.d(t,{AW:function(){return y},LE:function(){return P},NB:function(){return v},WX:function(){return b},Xw:function(){return k},Zr:function(){return g},cV:function(){return u},eQ:function(){return S},jO:function(){return p},jt:function(){return l},mr:function(){return x},p_:function(){return h},rR:function(){return d},t_:function(){return w},tq:function(){return f},wf:function(){return I},wk:function(){return c}}),n(52077),n(911),n(95163),n(23938),n(63238),n(5769),n(17460),n(14078),n(70684),n(68581),n(61418);var r,a,i=n(59858),o=n(57366),s=n(47005);function l(){return i.Z.get("volume")||1}function c(e){e&&i.Z.set("volume",e)}function u(e){return e.IsRemote?null:"anonymous"}function d(e,t){if(null==window.MediaSource)return!1;if(o.Z.iOS)return!1;if(o.Z.tizen||o.Z.web0s)return!1;if((n=document.createElement("video")).canPlayType("application/x-mpegURL").replace(/no/,"")||n.canPlayType("application/vnd.apple.mpegURL").replace(/no/,"")){if(o.Z.android&&"Audio"===t)return!0;if(o.Z.edge,e)return!1}var n;return!0}function f(e,t){var n=e._hlsPlayer;if(n){var i=Date.now();window.performance&&window.performance.now&&(i=performance.now()),!r||i-r>3e3?(r=i,console.debug("try to recover media Error ..."),n.recoverMediaError()):!a||i-a>3e3?(a=i,console.debug("try to swap Audio Codec and recover media Error ..."),n.swapAudioCodec(),n.recoverMediaError()):(console.error("cannot recover, last media error recovery failed ..."),t?t():h(e,"mediadecodeerror"))}}function h(e,t){e.destroyCustomTrack&&e.destroyCustomTrack(e._mediaElement),s.Events.trigger(e,"error",[{type:t}])}function p(e){return!(!e||isNaN(e)||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)}function m(e,t){Math.abs((e.currentTime||0)-t)>=1&&(e.currentTime=t)}function y(e,t,n,r){var a=(n||0)/1e7;if(a)if(t.duration>=a)m(t,a),r&&r();else{var i=["durationchange","loadeddata","play","loadedmetadata"],o=function e(n){0===t.currentTime&&t.duration>=a&&(console.debug("seeking to ".concat(a," on ").concat(n.type," event")),m(t,a),i.forEach((function(n){return t.removeEventListener(n,e)})),r&&r())};i.forEach((function(e){return t.addEventListener(e,o)}))}}function v(e,t,n){return window.Windows&&n.mediaSource&&n.mediaSource.IsLocal?Windows.Storage.StorageFile.getFileFromPathAsync(n.url).then((function(t){var r=new Windows.Media.Playback.MediaPlaybackList,a=Windows.Media.Core.MediaSource.createFromStorageFile(t),i=(n.playerStartPositionTicks||0)/1e4;return r.items.append(new Windows.Media.Playback.MediaPlaybackItem(a,i)),e.src=URL.createObjectURL(r,{oneTimeOnly:!0}),Promise.resolve()})):(e.src=t,Promise.resolve())}function g(e){e.src="",e.innerHTML="",e.removeAttribute("src")}function b(e,t){try{return e.play().catch((function(e){var t=(e.name||"").toLowerCase();return"notallowederror"===t||"aborterror"===t?Promise.resolve():Promise.reject()})).then((function(){return function(e,t){e.addEventListener("error",t)}(e,t),Promise.resolve()}))}catch(e){return console.error("error calling video.play: "+e),Promise.reject()}}function w(e){var t=e._castPlayer;if(t){try{t.unload()}catch(e){console.error(e)}e._castPlayer=null}}function P(e){var t=e._hlsPlayer;if(t){try{t.destroy()}catch(e){console.error(e)}e._hlsPlayer=null}}function k(e){var t=e._flvPlayer;if(t){try{t.unload(),t.detachMediaElement(),t.destroy()}catch(e){console.error(e)}e._flvPlayer=null}}function S(e,t,n,r,a,i){t.on(Hls.Events.MANIFEST_PARSED,(function(){b(n,r).then(a,(function(){i&&(i(),i=null)}))})),t.on(Hls.Events.ERROR,(function(n,r){if(console.error("HLS Error: Type: "+r.type+" Details: "+(r.details||"")+" Fatal: "+(r.fatal||!1)),r.type===Hls.ErrorTypes.NETWORK_ERROR&&r.response&&r.response.code&&r.response.code>=400)return console.debug("hls.js response error code: "+r.response.code),t.destroy(),void(i?(i("servererror"),i=null):h(e,"servererror"));if(r.fatal)switch(r.type){case Hls.ErrorTypes.NETWORK_ERROR:r.response&&0===r.response.code?(console.debug("hls.js response error code: "+r.response.code),t.destroy(),i?(i("network"),i=null):h(e,"network")):(console.debug("fatal network error encountered, try to recover"),t.startLoad());break;case Hls.ErrorTypes.MEDIA_ERROR:console.debug("fatal media error encountered, try to recover"),f(e,i),i=null;break;default:console.debug("Cannot recover from hls error - destroy and trigger error"),t.destroy(),i?(i(),i=null):h(e,"mediadecodeerror")}}))}function x(e,t,n){t.removeEventListener("error",n),g(t),P(e),k(e),w(e);var r={src:e._currentSrc};s.Events.trigger(e,"stopped",[r]),e._currentTime=null,e._currentSrc=null,e._currentPlayOptions=null}function I(e,t){var n,r=[],a=t.buffered||[],i=e._currentPlayOptions;i&&(n=i.transcodingOffsetTicks),n=n||0;for(var o=0,s=a.length;o<s;o++){var l=a.start(o),c=a.end(o);p(l)||(l=0),p(c)?r.push({start:1e7*l+n,end:1e7*c+n}):c=0}return r}},38737:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j},fillImage:function(){return C},fillImages:function(){return Z},getPrimaryImageAspectRatio:function(){return A},lazyChildren:function(){return E},lazyImage:function(){return S},setLazyImage:function(){return O}}),n(98010),n(63238),n(52077),n(911),n(72410),n(69217),n(15610),n(17460),n(25901),n(92189),n(91047),n(5769),n(14078);var r=n(31338),a=n(60934),i=n(1892),o=n.n(i),s=n(95760),l=n.n(s),c=n(38311),u=n.n(c),d=n(58192),f=n.n(d),h=n(38060),p=n.n(h),m=n(54865),y=n.n(m),v=n(20290),g={};function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}g.styleTagTransform=y(),g.setAttributes=f(),g.insert=u().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=p(),o()(v.Z,g),v.Z&&v.Z.locals&&v.Z.locals;var P=new function(){return new Worker(n.p+"blurhash.worker.bundle.worker.js")},k={};function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getAttribute("data-src");t&&L(e,t)}function x(e,t,n,r){var a=document.createElement("canvas");a.setAttribute("aria-hidden","true"),a.width=n,a.height=r;var i=a.getContext("2d"),o=i.createImageData(n,r);o.data.set(t),i.putImageData(o,0,0),requestAnimationFrame((function(){a.classList.add("blurhash-canvas"),e.parentNode.insertBefore(a,e),e.classList.add("blurhashed"),e.removeAttribute("data-blurhash")}))}function I(e,t){try{k[t]=(k[t]||[]).filter((function(t){return t!==e})),k[t].push(e),P.postMessage({hash:t,width:20,height:20})}catch(t){return console.error(t),void e.classList.add("non-blurhashable")}}function C(e){if(!e)throw new Error("entry cannot be null");var t,n=e.target;t=n?n.getAttribute("data-src"):e,e.intersectionRatio>0?t&&L(n,t):t||function(e){var t,n;e.removeEventListener("animationend",T);var r,a=e.previousSibling;"CANVAS"===(null==a?void 0:a.tagName)&&a.classList.remove("lazy-hidden"),null===(t=e.parentNode)||void 0===t||null===(n=t.querySelector(".cardPadder"))||void 0===n||n.classList.remove("lazy-hidden-children"),"IMG"!==e.tagName?(r=e.style.backgroundImage.slice(4,-1).replace(/"/g,""),e.style.backgroundImage="none"):(r=e.getAttribute("src"),e.setAttribute("src","")),e.setAttribute("data-src",r),e.classList.remove("lazy-image-fadein-fast","lazy-image-fadein"),e.classList.add("lazy-hidden")}(n)}function T(e){var t=e.target;requestAnimationFrame((function(){var e,n,r=t.previousSibling;t.classList.contains("blurhashed")&&"CANVAS"===(null==r?void 0:r.tagName)&&r.classList.add("lazy-hidden"),null===(e=t.parentNode)||void 0===e||null===(n=e.querySelector(".cardPadder"))||void 0===n||n.classList.add("lazy-hidden-children")})),t.removeEventListener("animationend",T)}function L(e,t){if(void 0===t)throw new TypeError("url cannot be undefined");var n=new Image;n.src=t,e.classList.add("lazy-hidden"),e.addEventListener("animationend",T),n.addEventListener("load",(function(){requestAnimationFrame((function(){"IMG"!==e.tagName?e.style.backgroundImage="url('"+t+"')":e.setAttribute("src",t),e.removeAttribute("data-src"),a.enableFastFadein()?e.classList.add("lazy-image-fadein-fast"):e.classList.add("lazy-image-fadein"),e.classList.remove("lazy-hidden")}))}))}function E(e){if(a.enableBlurhash()){var t,n=b(e.querySelectorAll(".lazy"));try{for(n.s();!(t=n.n()).done;){var i=t.value,o=i.getAttribute("data-blurhash");!i.classList.contains("blurhashed","non-blurhashable")&&o?I(i,o):o||i.classList.contains("blurhashed")||i.classList.add("non-blurhashable")}}catch(e){n.e(e)}finally{n.f()}}r.NC(e,C)}function A(e){for(var t=[],n=0,r=e.length;n<r;n++){var a=e[n].PrimaryImageAspectRatio||0;a&&(t[t.length]=a)}if(!t.length)return null;t.sort((function(e,t){return e-t}));var i,o=Math.floor(t.length/2);i=t.length%2?t[o]:(t[o-1]+t[o])/2;var s=2/3;if(Math.abs(s-i)<=.15)return s;var l=16/9;if(Math.abs(l-i)<=.2)return l;if(Math.abs(1-i)<=.15)return 1;var c=4/3;return Math.abs(c-i)<=.15?c:i}function Z(e){for(var t=0,n=e.length;t<n;t++)C(e[0])}function O(e,t){e.classList.add("lazy"),e.setAttribute("data-src",t),S(e)}P.addEventListener("message",(function(e){var t=e.data,n=t.pixels,r=t.hsh,a=t.width,i=t.height,o=k[r];if(o&&o.length){var s,l=b(o);try{for(l.s();!(s=l.n()).done;)x(s.value,n,a,i)}catch(e){l.e(e)}finally{l.f()}delete k[r]}}));var j={setLazyImage:O,fillImages:Z,fillImage:C,lazyImage:S,lazyChildren:E,getPrimaryImageAspectRatio:A}},24102:function(e,t,n){"use strict";var r=n(61693),a=n(21776);function i(e){return"Video"===e.MediaType&&"TvChannel"!==e.Type||"AudioBook"===e.Type||"AudioPodcast"===e.Type}function o(e,t){var n="itemProgressBar";return t&&t.containerClass&&(n+=" "+t.containerClass),'<div class="'+n+'"><div class="itemProgressBarForeground" style="width:'+e+'%;"></div></div>'}function s(e){return a.ZP.canMarkPlayed(e)}n(55005),n(70739),n(85427),t.ZP={getProgressHtml:o,getProgressBarHtml:function(e,t){var n;if(i(e)&&"Recording"!==e.Type){var a=t&&t.userData?t.userData:e.UserData;if(a&&(n=a.PlayedPercentage)&&n<100)return o(n,t)}if(("Program"===e.Type||"Timer"===e.Type||"Recording"===e.Type)&&e.StartDate&&e.EndDate){var s=0,l=1;try{s=r.ZP.parseISO8601Date(e.StartDate).getTime(),l=r.ZP.parseISO8601Date(e.EndDate).getTime()}catch(e){console.error(e)}if((n=((new Date).getTime()-s)/(l-s)*100)>0&&n<100)return function(e,t,n,r,a){var i="itemProgressBar";t&&t.containerClass&&(i+=" "+t.containerClass);var o="itemProgressBarForeground";return n&&(o+=" itemProgressBarForeground-recording"),'<div is="emby-progressbar" data-automode="time" data-starttime="'+r+'" data-endtime="'+a+'" class="'+i+'"><div class="'+o+'" style="width:'+e+'%;"></div></div>'}(n,t,"Timer"===e.Type||"Recording"===e.Type||e.TimerId,s,l)}return""},getPlayedIndicatorHtml:function(e){if(s(e)){var t=e.UserData||{};if(t.UnplayedItemCount)return'<div class="countIndicator indicator">'+t.UnplayedItemCount+"</div>";if(t.PlayedPercentage&&t.PlayedPercentage>=100||t.Played)return'<div class="playedIndicator indicator"><span class="material-icons indicatorIcon check" aria-hidden="true"></span></div>'}return""},getChildCountIndicatorHtml:function(e,t){var n=t&&t.minCount?t.minCount:0;return e.ChildCount&&e.ChildCount>n?'<div class="countIndicator indicator">'+e.ChildCount+"</div>":""},enableProgressIndicator:i,getTimerIndicator:function(e){var t;if("SeriesTimer"===e.Type)return'<span class="material-icons timerIndicator indicatorIcon fiber_smart_record" aria-hidden="true"></span>';if(e.TimerId||e.SeriesTimerId)t=e.Status||"Cancelled";else{if("Timer"!==e.Type)return"";t=e.Status}return e.SeriesTimerId?"Cancelled"!==t?'<span class="material-icons timerIndicator indicatorIcon fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons timerIndicator timerIndicator-inactive indicatorIcon fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons timerIndicator indicatorIcon fiber_manual_record" aria-hidden="true"></span>'},enablePlayedIndicator:s,getSyncIndicator:function(e){return 100===e.SyncPercent?'<div class="syncIndicator indicator fullSyncIndicator"><span class="material-icons indicatorIcon file_download" aria-hidden="true"></span></div>':null!=e.SyncPercent?'<div class="syncIndicator indicator emptySyncIndicator"><span class="material-icons indicatorIcon file_download" aria-hidden="true"></span></div>':""},getTypeIndicator:function(e){var t={Video:"videocam",Folder:"folder",PhotoAlbum:"photo_album",Photo:"photo"}[e.Type];return t?'<div class="indicator videoIndicator"><span class="material-icons indicatorIcon '+t+'" aria-hidden="true"></span></div>':""},getMissingIndicator:function(e){if("Episode"===e.Type&&"Virtual"===e.LocationType){if(e.PremiereDate)try{if(r.ZP.parseISO8601Date(e.PremiereDate).getTime()>(new Date).getTime())return'<div class="unairedIndicator">Unaired</div>'}catch(e){console.error(e)}return'<div class="missingIndicator">Missing</div>'}return""}}},21776:function(e,t,n){"use strict";n(27471);var r=n(84881),a=n(94994);function i(e,t){var n=t.Type;return"UserRootFolder"!==n&&"UserView"!==n&&"Program"!==n&&"Timer"!==n&&"SeriesTimer"!==n&&("Recording"!==t.Type||"Completed"===t.Status)&&!o(t)&&e.Policy.IsAdministrator}function o(e){return!(!e||!e.Id||"string"!=typeof e.Id||0!==e.Id.indexOf("local"))}t.ZP={getDisplayName:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("null item passed into getDisplayName");"Timer"===e.Type&&(e=e.ProgramInfo||e);var n=("Program"!==e.Type&&"Recording"!==e.Type||!e.IsSeries&&!e.EpisodeTitle?e.Name:e.EpisodeTitle)||"";if("TvChannel"===e.Type)return e.ChannelNumber?e.ChannelNumber+" "+n:n;if("Episode"===e.Type&&0===e.ParentIndexNumber)n=a.ZP.translate("ValueSpecialEpisodeName",n);else if(("Episode"===e.Type||"Program"===e.Type||"Recording"===e.Type)&&null!=e.IndexNumber&&null!=e.ParentIndexNumber&&!1!==t.includeIndexNumber){var r=e.IndexNumber,i=r,o=" - ";!1!==t.includeParentInfo?i="S"+e.ParentIndexNumber+":E"+i:o=". ",e.IndexNumberEnd&&(i+="-"+(r=e.IndexNumberEnd)),i&&(n=n?i+o+n:i)}return n},supportsAddingToCollection:function(e){return!("Recording"===e.Type&&"Completed"!==e.Status||e.CollectionType||-1!==["Genre","MusicGenre","Studio","UserView","CollectionFolder","Audio","Program","Timer","SeriesTimer"].indexOf(e.Type)||"Photo"===e.MediaType||o(e))},supportsAddingToPlaylist:function(e){return"Program"!==e.Type&&"TvChannel"!==e.Type&&"Timer"!==e.Type&&"SeriesTimer"!==e.Type&&"Photo"!==e.MediaType&&("Recording"!==e.Type||"Completed"===e.Status)&&!o(e)&&"livetv"!==e.CollectionType&&(e.MediaType||e.IsFolder||"Genre"===e.Type||"MusicGenre"===e.Type||"MusicArtist"===e.Type)},isLocalItem:o,canIdentify:function(e,t){var n=t.Type;return!("Movie"!==n&&"Trailer"!==n&&"Series"!==n&&"BoxSet"!==n&&"Person"!==n&&"Book"!==n&&"MusicAlbum"!==n&&"MusicArtist"!==n&&"MusicVideo"!==n||!e.Policy.IsAdministrator||o(t))},canEdit:i,canEditImages:function(e,t){var n=t.Type;return"Photo"!==t.MediaType&&("UserView"===n?!!e.Policy.IsAdministrator:("Recording"!==t.Type||"Completed"===t.Status)&&"Timer"!==n&&"SeriesTimer"!==n&&i(e,t)&&!o(t))},canSync:function(e,t){return!(e&&!e.Policy.EnableContentDownloading)&&!o(t)&&t.SupportsSync},canShare:function(e,t){return"Program"!==e.Type&&"TvChannel"!==e.Type&&"Timer"!==e.Type&&"SeriesTimer"!==e.Type&&("Recording"!==e.Type||"Completed"===e.Status)&&!o(e)&&t.Policy.EnablePublicSharing&&r.M.supports("sharing")},enableDateAddedDisplay:function(e){return!e.IsFolder&&e.MediaType&&"Program"!==e.Type&&"TvChannel"!==e.Type&&"Trailer"!==e.Type},canMarkPlayed:function(e){if("Program"===e.Type)return!1;if("Video"===e.MediaType){if("TvChannel"!==e.Type)return!0}else if("Audio"===e.MediaType){if("AudioPodcast"===e.Type)return!0;if("AudioBook"===e.Type)return!0}return"Series"===e.Type||"Season"===e.Type||"BoxSet"===e.Type||"Book"===e.MediaType||"Recording"===e.MediaType},canRate:function(e){return!("Program"===e.Type||"Timer"===e.Type||"SeriesTimer"===e.Type||"CollectionFolder"===e.Type||"UserView"===e.Type||"Channel"===e.Type||!e.UserData)},canConvert:function(e,t){if(!t.Policy.EnableMediaConversion)return!1;if(o(e))return!1;var n=e.MediaType;if("Book"===n||"Photo"===n||"Audio"===n)return!1;if("livetv"===e.CollectionType)return!1;var r=e.Type;return!("Channel"===r||"Person"===r||"Year"===r||"Program"===r||"Timer"===r||"SeriesTimer"===r||"Virtual"===e.LocationType&&!e.IsFolder||e.IsPlaceHolder)},canRefreshMetadata:function(e,t){if(t.Policy.IsAdministrator){if("livetv"===e.CollectionType)return!1;if("Timer"!==e.Type&&"SeriesTimer"!==e.Type&&"Program"!==e.Type&&"TvChannel"!==e.Type&&("Recording"!==e.Type||"Completed"===e.Status)&&!o(e))return!0}return!1},supportsMediaSourceSelection:function(e){return!("Video"!==e.MediaType||"TvChannel"===e.Type||!e.MediaSources||1===e.MediaSources.length&&"Placeholder"===e.MediaSources[0].Type||!1===e.EnableMediaSourceDisplay||null==e.EnableMediaSourceDisplay&&e.SourceType&&"Library"!==e.SourceType)},sortTracks:function(e,t){var n=e.IsExternal-t.IsExternal;return 0!=n||0!=(n=t.IsForced-e.IsForced)||0!=(n=t.IsDefault-e.IsDefault)?n:e.Index-t.Index}}},9599:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E},show:function(){return T},showFindNew:function(){return L}}),n(32081),n(23938),n(63238),n(61418);var r,a,i,o,s,l,c=n(65009),u=n.n(c),d=n(48102),f=n(51161),h=n(94994),p=n(54517),m=n(30325),y=n(34643),v=n(57366),g=(n(33310),n(25141),n(61414),n(6626),n(85427),n(46650),n(18613)),b=n(29016),w='<div class="formDialogHeader"> <button is="paper-icon-button-light" class="btnCancel autoSize" tabindex="-1" title="${ButtonBack}"> <span class="material-icons arrow_back" aria-hidden="true"></span> </button> <h3 class="formDialogHeaderTitle">${Identify}</h3> </div> <div class="formDialogContent smoothScrollY"> <div class="dialogContentInner dialog-content-centered"> <form class="popupIdentifyForm" style="margin:auto"> <p>${HeaderIdentifyItemHelp}</p> <div class="padded-bottom fldPath hide"> <div>${LabelPath}</div> <div class="txtPath fieldDescription"></div> </div> <div class="inputContainer"> <input is="emby-input" type="text" id="txtLookupName" class="identifyField" data-lookup="Name" label="${LabelName}"/> </div> <div class="fldLookupYear inputContainer"> <input is="emby-input" type="number" id="txtLookupYear" class="identifyField" data-lookup="Year" pattern="[0-9]*" min="1800" label="${LabelYear}"/> </div> <div class="identifyProviderIds"></div> <div class="formDialogFooter"> <button is="emby-button" type="submit" class="raised button-submit block formDialogFooterItem"> <span>${Search}</span> </button> </div> </form> <div class="identificationSearchResults hide"> <h1>${SearchResults}</h1> <div class="identificationSearchResultList itemsContainer vertical-wrap"></div> </div> <form class="identifyOptionsForm hide" style="margin:auto"> <br/> <div class="selectedSearchResult"></div> <br/> <label class="checkboxContainer"> <input type="checkbox" is="emby-checkbox" id="chkIdentifyReplaceImages"/> <span>${ReplaceExistingImages}</span> </label> <div class="formDialogFooter"> <button is="emby-button" type="submit" class="raised button-submit block btnSubmit formDialogFooterItem"> <span>${ButtonOk}</span> </button> </div> </form> </div> </div> ',P=!v.Z.slow&&!v.Z.edge,k=!1;function S(){return g.Z.getApiClient(i)}function x(e){var t,n,i,o={ProviderIds:{}},s=e.querySelectorAll(".identifyField");for(t=0,n=s.length;t<n;t++)(i=s[t].value)&&("number"===s[t].type&&(i=parseInt(i)),o[s[t].getAttribute("data-lookup")]=i);var c=!1,p=e.querySelectorAll(".txtLookupId");for(t=0,n=p.length;t<n;t++)(i=p[t].value)&&(c=!0),o.ProviderIds[p[t].getAttribute("data-providerkey")]=i;if(c||o.Name){o={SearchInfo:o},r&&r.Id?o.ItemId=r.Id:o.IncludeDisabledProviders=!0,f.ZP.show();var v=S();v.ajax({type:"POST",url:v.getUrl("Items/RemoteSearch/".concat(a)),data:JSON.stringify(o),contentType:"application/json",dataType:"json"}).then((function(t){f.ZP.hide(),function(e,t){var n=e.querySelector(".identificationSearchResults");e.querySelector(".popupIdentifyForm").classList.add("hide"),n.classList.remove("hide"),e.querySelector(".identifyOptionsForm").classList.add("hide"),e.querySelector(".dialogContentInner").classList.remove("dialog-content-centered");var a,i,o="";for(a=0,i=t.length;a<i;a++)o+=I(t[a],a);var s=e.querySelector(".identificationSearchResultList");function c(){var n,a=parseInt(this.getAttribute("data-index")),i=t[a];null!=r?function(e,t){var n=e.querySelector(".identifyOptionsForm");e.querySelector(".popupIdentifyForm").classList.add("hide"),e.querySelector(".identificationSearchResults").classList.add("hide"),n.classList.remove("hide"),e.querySelector("#chkIdentifyReplaceImages").checked=!0,e.querySelector(".dialogContentInner").classList.add("dialog-content-centered"),l=t;var r=[];r.push(u()(t.Name)),t.ProductionYear&&r.push(t.ProductionYear);var a=r.join("<br/>");t.ImageUrl&&(a='<div style="display:flex;align-items:center;"><img src="'.concat(t.ImageUrl,'" style="max-height:240px;" /><div style="margin-left:1em;">').concat(a,"</div>")),e.querySelector(".selectedSearchResult").innerHTML=a,y.Z.focus(n.querySelector(".btnSubmit"))}(e,i):(n=e,l=i,k=!0,f.ZP.hide(),d.default.close(n))}s.innerHTML=o;var h=s.querySelectorAll(".card");for(a=0,i=h.length;a<i;a++)h[a].addEventListener("click",c);m.Z.tv&&y.Z.autoFocus(n)}(e,t)}))}else(0,b.Z)(h.ZP.translate("PleaseEnterNameOrId"))}function I(e,t){var n,r="",i="card scalableCard";"Episode"===a?(i+=" backdropCard backdropCard-scalable",n="cardPadder-backdrop"):"MusicAlbum"===a||"MusicArtist"===a?(i+=" squareCard squareCard-scalable",n="cardPadder-square"):(i+=" portraitCard portraitCard-scalable",n="cardPadder-portrait"),m.Z.tv&&(i+=" show-focus",P&&(i+=" show-animation")),r+='<button type="button" class="'.concat(i,'" data-index="').concat(t,'">'),r+='<div class="'.concat("cardBox cardBox-bottompadded",'">'),r+='<div class="cardScalable">',r+='<div class="'.concat(n,'"></div>'),r+='<div class="cardContent searchImage">',e.ImageUrl?r+='<div class="cardImageContainer coveredImage" style="background-image:url(\''.concat(e.ImageUrl,"');\"></div>"):r+='<div class="cardImageContainer coveredImage defaultCardBackground defaultCardBackground1"><div class="cardText cardCenteredText">'.concat(u()(e.Name),"</div></div>"),r+="</div>",r+="</div>";var o=3;"MusicAlbum"===a&&o++;var s=[e.Name];s.push(e.SearchProviderName),e.AlbumArtist&&s.push(e.AlbumArtist.Name),e.ProductionYear&&s.push(e.ProductionYear);for(var l=0;l<o;l++)r+=0===l?'<div class="cardText cardText-first cardTextCentered">':'<div class="cardText cardText-secondary cardTextCentered">',r+=u()(s[l]||"")||"&nbsp;",r+="</div>";return(r+="</div>")+"</button>"}function C(){f.ZP.hide(),k?o():s()}function T(e,t){return new Promise((function(n,c){o=n,s=c,i=t,k=!1,function(e){f.ZP.show();var t=S();t.getItem(t.getCurrentUserId(),e).then((function(e){a=(r=e).Type;var t={size:"small",removeOnClose:!0,scrollY:!1};m.Z.tv&&(t.size="fullscreen");var n=d.default.createDialog(t);n.classList.add("formDialog"),n.classList.add("recordingDialog");var i="";i+=h.ZP.translateHtml(w,"core"),n.innerHTML=i,n.addEventListener("close",C),m.Z.tv&&p.default.centerFocus.on(n.querySelector(".formDialogContent"),!1),e.Path?n.querySelector(".fldPath").classList.remove("hide"):n.querySelector(".fldPath").classList.add("hide"),n.querySelector(".txtPath").innerText=e.Path||"",d.default.open(n),n.querySelector(".popupIdentifyForm").addEventListener("submit",(function(e){return e.preventDefault(),x(n),!1})),n.querySelector(".identifyOptionsForm").addEventListener("submit",(function(e){return e.preventDefault(),function(e){f.ZP.show();var t={ReplaceAllImages:e.querySelector("#chkIdentifyReplaceImages").checked},n=S();n.ajax({type:"POST",url:n.getUrl("Items/RemoteSearch/Apply/".concat(r.Id),t),data:JSON.stringify(l),contentType:"application/json"}).then((function(){k=!0,f.ZP.hide(),d.default.close(e)}),(function(){f.ZP.hide(),d.default.close(e)}))}(n),!1})),n.querySelector(".btnCancel").addEventListener("click",(function(){d.default.close(n)})),n.classList.add("identifyDialog"),function(e,t){var n=S();n.getJSON(n.getUrl("Items/".concat(t.Id,"/ExternalIdInfos"))).then((function(n){for(var r="",a=0,i=n.length;a<i;a++){var o=n[a],s="txtLookup".concat(o.Key);r+='<div class="inputContainer">';var l=o.Name;o.Type&&(l="".concat(o.Name," ").concat(h.ZP.translate(o.Type)));var c=h.ZP.translate("LabelDynamicExternalId",u()(l));r+='<input is="emby-input" class="txtLookupId" data-providerkey="'.concat(o.Key,'" id="').concat(s,'" label="').concat(c,'"/>'),r+="</div>"}e.querySelector("#txtLookupName").value="","Person"===t.Type||"BoxSet"===t.Type?(e.querySelector(".fldLookupYear").classList.add("hide"),e.querySelector("#txtLookupYear").value=""):(e.querySelector(".fldLookupYear").classList.remove("hide"),e.querySelector("#txtLookupYear").value=""),e.querySelector(".identifyProviderIds").innerHTML=r,e.querySelector(".formDialogHeaderTitle").innerHTML=h.ZP.translate("Identify")}))}(n,e),f.ZP.hide()}))}(e)}))}function L(e,t,n,o){return new Promise((function(s){i=o,k=!1,function(e,t,n,i){r=null,a=n;var o={size:"small",removeOnClose:!0,scrollY:!1};m.Z.tv&&(o.size="fullscreen");var s=d.default.createDialog(o);s.classList.add("formDialog"),s.classList.add("recordingDialog");var c="";c+=h.ZP.translateHtml(w,"core"),s.innerHTML=c,m.Z.tv&&p.default.centerFocus.on(s.querySelector(".formDialogContent"),!1),d.default.open(s),s.querySelector(".btnCancel").addEventListener("click",(function(){d.default.close(s)})),s.querySelector(".popupIdentifyForm").addEventListener("submit",(function(e){return e.preventDefault(),x(s),!1})),s.addEventListener("close",(function(){f.ZP.hide(),i(k?l:null)})),s.classList.add("identifyDialog"),function(e,t,n,r){e.querySelector("#txtLookupName").value=t,"Person"===r||"BoxSet"===r?(e.querySelector(".fldLookupYear").classList.add("hide"),e.querySelector("#txtLookupYear").value=""):(e.querySelector(".fldLookupYear").classList.remove("hide"),e.querySelector("#txtLookupYear").value=n),e.querySelector(".formDialogHeaderTitle").innerHTML=h.ZP.translate("Search")}(s,e,t,n)}(e,t,n,s)}))}var E={show:T,showFindNew:L}},30325:function(e,t,n){"use strict";n(99785);var r=n(84881),a=n(57366),i=n(59858),o=n(47005);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n){t===n?(e[t]=!0,document.documentElement.classList.add("layout-"+t)):(e[t]=!1,document.documentElement.classList.remove("layout-"+t))}var u=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"tv",!1),l(this,"mobile",!1),l(this,"desktop",!1)}var t,n;return t=e,(n=[{key:"setLayout",value:function(e,t){e&&"auto"!==e?(c(this,"mobile",e),c(this,"tv",e),c(this,"desktop",e),!1!==t&&i.Z.set("layout",e)):(this.autoLayout(),!1!==t&&i.Z.set("layout","")),o.Events.trigger(this,"modechange")}},{key:"getSavedLayout",value:function(){return i.Z.get("layout")}},{key:"autoLayout",value:function(){a.Z.mobile?this.setLayout("mobile",!1):a.Z.tv||a.Z.xboxOne||a.Z.ps4?this.setLayout("tv",!1):this.setLayout(this.defaultLayout||"tv",!1)}},{key:"init",value:function(){var e=this.getSavedLayout();e?this.setLayout(e,!1):this.autoLayout()}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());r.M.getDefaultLayout&&(u.defaultLayout=r.M.getDefaultLayout()),u.init(),t.Z=u},31338:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,{NC:function(){return i}}),n(63238),n(55849),n(15610),n(17460),n(99785);var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t}var t,n;return t=e,(n=[{key:"createObserver",value:function(){var e=this.options.callback,t=new IntersectionObserver((function(t){t.forEach((function(t){e(t)}))}),{rootMargin:"50%",threshold:0});this.observer=t}},{key:"addElements",value:function(e){var t=this.observer;t||(this.createObserver(),t=this.observer),Array.from(e).forEach((function(e){t.observe(e)}))}},{key:"destroyObserver",value:function(){var e=this.observer;e&&(e.disconnect(),this.observer=null)}},{key:"destroy",value:function(){this.destroyObserver(),this.options=null}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function i(e,t){!function(e,t,n){e.length&&new a({callback:n}).addElements(e)}(e.getElementsByClassName("lazy"),0,t)}t.ZP={LazyLoader:a,lazyChildren:i}},51161:function(e,t,n){"use strict";n.d(t,{ZP:function(){return I}});var r,a,i,o,s,l,c,u=n(1892),d=n.n(u),f=n(95760),h=n.n(f),p=n(38311),m=n.n(p),y=n(58192),v=n.n(y),g=n(38060),b=n.n(g),w=n(54865),P=n.n(w),k=n(64777),S={};S.styleTagTransform=P(),S.setAttributes=v(),S.insert=m().bind(null,"head"),S.domAPI=h(),S.insertStyleElement=b(),d()(k.Z,S),k.Z&&k.Z.locals&&k.Z.locals;var x={show:function(){var e=r;e||(e=document.createElement("div"),r=e,e.classList.add("docspinner"),e.classList.add("mdl-spinner"),e.innerHTML='<div class="mdl-spinner__layer mdl-spinner__layer-1"><div class="mdl-spinner__circle-clipper mdl-spinner__left"><div class="mdl-spinner__circle mdl-spinner__circleLeft"></div></div><div class="mdl-spinner__circle-clipper mdl-spinner__right"><div class="mdl-spinner__circle mdl-spinner__circleRight"></div></div></div><div class="mdl-spinner__layer mdl-spinner__layer-2"><div class="mdl-spinner__circle-clipper mdl-spinner__left"><div class="mdl-spinner__circle mdl-spinner__circleLeft"></div></div><div class="mdl-spinner__circle-clipper mdl-spinner__right"><div class="mdl-spinner__circle mdl-spinner__circleRight"></div></div></div><div class="mdl-spinner__layer mdl-spinner__layer-3"><div class="mdl-spinner__circle-clipper mdl-spinner__left"><div class="mdl-spinner__circle mdl-spinner__circleLeft"></div></div><div class="mdl-spinner__circle-clipper mdl-spinner__right"><div class="mdl-spinner__circle mdl-spinner__circleRight"></div></div></div><div class="mdl-spinner__layer mdl-spinner__layer-4"><div class="mdl-spinner__circle-clipper mdl-spinner__left"><div class="mdl-spinner__circle mdl-spinner__circleLeft"></div></div><div class="mdl-spinner__circle-clipper mdl-spinner__right"><div class="mdl-spinner__circle mdl-spinner__circleRight"></div></div></div>',document.body.appendChild(e),a=e.querySelector(".mdl-spinner__layer-1"),i=e.querySelector(".mdl-spinner__layer-2"),o=e.querySelector(".mdl-spinner__layer-3"),s=e.querySelector(".mdl-spinner__layer-4"),l=e.querySelectorAll(".mdl-spinner__circleLeft"),c=e.querySelectorAll(".mdl-spinner__circleRight")),e.classList.add("mdlSpinnerActive"),a.classList.add("mdl-spinner__layer-1-active"),i.classList.add("mdl-spinner__layer-2-active"),o.classList.add("mdl-spinner__layer-3-active"),s.classList.add("mdl-spinner__layer-4-active");for(var t=0,n=l.length;t<n;t++)l[t].classList.add("mdl-spinner__circleLeft-active");for(var u=0,d=c.length;u<d;u++)c[u].classList.add("mdl-spinner__circleRight-active")},hide:function(){var e=r;if(e){e.classList.remove("mdlSpinnerActive"),e.classList.remove("mdl-spinner__layer-1-active"),e.classList.remove("mdl-spinner__layer-2-active"),e.classList.remove("mdl-spinner__layer-3-active"),e.classList.remove("mdl-spinner__layer-4-active");for(var t=0,n=l.length;t<n;t++)l[t].classList.remove("mdl-spinner__circleLeft-active");for(var a=0,i=c.length;a<i;a++)c[a].classList.remove("mdl-spinner__circleRight-active")}}};window.Loading=x;var I=x},67345:function(e,t,n){"use strict";n.r(t),n.d(t,{getTabsElement:function(){return p},selectedTabIndex:function(){return h},setTabs:function(){return f}}),n(5769),n(63238),n(61418),n(17460),n(14078),n(61013);var r,a,i,o=n(72365),s=n(57366),l=n(47005),c=(n(15112),n(38228),document.querySelector(".skinHeader"));function u(){this.selectedIndex(this.readySelectedIndex),this.readySelectedIndex=null}function d(e){function t(e){if(o.ZP.parentWithTag(e,"input"))return!1;var t=e.classList;return!t||!t.contains("scrollX")&&!t.contains("animatedScrollX")}for(var n=e;null!=n;){if(!t(n))return!1;n=n.parentNode}return!0}function f(e,t,o,f,h,p,m){if(a||(a=c.querySelector(".headerTabs")),!e)return r&&(document.body.classList.remove("withSectionTabs"),a.innerHTML="",a.classList.add("hide"),r=null),{tabsContainer:a,replaced:!1};var y=a;if(r||y.classList.remove("hide"),r!==e){var v=0,g='<div is="emby-tabs"'+(null==t?"":' data-index="'+t+'"')+' class="tabs-viewmenubar"><div class="emby-tabs-slider" style="white-space:nowrap;">'+o().map((function(e){var t,n="emby-tab-button";return!1===e.enabled&&(n+=" hide"),e.cssClass&&(n+=" "+e.cssClass),t=e.href?'<a href="'+e.href+'" is="emby-linkbutton" class="'+n+'" data-index="'+v+'"><div class="emby-button-foreground">'+e.name+"</div></a>":'<button type="button" is="emby-button" class="'+n+'" data-index="'+v+'"><div class="emby-button-foreground">'+e.name+"</div></button>",v++,t})).join("")+"</div></div>";return y.innerHTML=g,window.CustomElements.upgradeSubtree(y),document.body.classList.add("withSectionTabs"),r=e,function(e,t){if(s.Z.touch){var r=function(n,r){d(r)&&e.contains(r)&&t.selectNext()},a=function(n,r){d(r)&&e.contains(r)&&t.selectPrevious()};n.e(4810).then(n.bind(n,14810)).then((function(t){var n=new(0,t.default)(e.parentNode.parentNode);l.Events.on(n,"swipeleft",r),l.Events.on(n,"swiperight",a),e.addEventListener("viewdestroy",(function(){n.destroy()}))}))}}(e,i=y.querySelector('[is="emby-tabs"]')),i.addEventListener("beforetabchange",(function(e){var t=f();if(null!=e.detail.previousIndex){var n=t[e.detail.previousIndex];n&&n.classList.remove("is-active")}var r=t[e.detail.selectedTabIndex];r&&r.classList.add("is-active")})),h&&i.addEventListener("beforetabchange",h),p&&i.addEventListener("tabchange",p),!1!==m&&(i.selectedIndex?i.selectedIndex(t):(i.readySelectedIndex=t,i.addEventListener("ready",u))),{tabsContainer:y,tabs:i,replaced:!0}}return i.selectedIndex(t),{tabsContainer:y,tabs:i,replaced:!1}}function h(e){null!=e?i.selectedIndex(e):i.triggerTabChange()}function p(){return document.querySelector(".tabs-viewmenubar")}},48957:function(e,t,n){"use strict";n.d(t,{O:function(){return re}}),n(99785),n(72410),n(15610),n(25901),n(92189),n(91047),n(98521),n(6798),n(82923),n(21897),n(12274),n(50987),n(60190),n(92571),n(20252),n(14009),n(12699),n(5769),n(48410),n(61013),n(52077),n(911),n(27471),n(82759),n(40895),n(98010),n(63238),n(61418),n(55849),n(17460),n(14078),n(69217),n(32081),n(23938),n(90938);var r=n(47005),a=n(61693),i=n(59858),o=n(21776),s=n(67932);function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(38217),n(95623),n(61514);var d=0;function f(e){e.PlaylistItemId||(e.PlaylistItemId="playlistItem"+d,d++)}function h(e,t){for(var n=0,r=t.length;n<r;n++)if(t[n].PlaylistItemId===e)return n;return-1}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._sortedPlaylist=[],this._playlist=[],this._repeatMode="RepeatNone",this._shuffleMode="Sorted"}var t,n;return t=e,n=[{key:"getPlaylist",value:function(){return this._playlist.slice(0)}},{key:"setPlaylist",value:function(e){for(var t=0,n=(e=e.slice(0)).length;t<n;t++)f(e[t]);this._currentPlaylistItemId=null,this._playlist=e,this._repeatMode="RepeatNone"}},{key:"queue",value:function(e){for(var t=0,n=e.length;t<n;t++)f(e[t]),this._playlist.push(e[t])}},{key:"shufflePlaylist",value:function(){this._sortedPlaylist=[];var e,t=l(this._playlist);try{for(t.s();!(e=t.n()).done;){var n=e.value;this._sortedPlaylist.push(n)}}catch(e){t.e(e)}finally{t.f()}for(var r=this._playlist.splice(this.getCurrentPlaylistIndex(),1)[0],a=this._playlist.length-1;a>0;a--){var i=Math.floor(Math.random()*a),o=this._playlist[a];this._playlist[a]=this._playlist[i],this._playlist[i]=o}this._playlist.unshift(r),this._shuffleMode="Shuffle"}},{key:"sortShuffledPlaylist",value:function(){this._playlist=[];var e,t=l(this._sortedPlaylist);try{for(t.s();!(e=t.n()).done;){var n=e.value;this._playlist.push(n)}}catch(e){t.e(e)}finally{t.f()}this._sortedPlaylist=[],this._shuffleMode="Sorted"}},{key:"clearPlaylist",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._playlist.splice(this.getCurrentPlaylistIndex(),1)[0];this._playlist=[],e||this._playlist.push(t)}},{key:"queueNext",value:function(e){for(var t=0,n=e.length;t<n;t++)f(e[t]);var r,a,i,o=this.getCurrentPlaylistIndex();-1===o?o=this._playlist.length:o++,r=this._playlist,a=e,(i=[]).push(o),i.push(0),i=i.concat(a),r.splice.apply(r,i)}},{key:"getCurrentPlaylistIndex",value:function(){return h(this.getCurrentPlaylistItemId(),this._playlist)}},{key:"getCurrentItem",value:function(){var e=h(this.getCurrentPlaylistItemId(),this._playlist);return-1===e?null:this._playlist[e]}},{key:"getCurrentPlaylistItemId",value:function(){return this._currentPlaylistItemId}},{key:"setPlaylistState",value:function(e){this._currentPlaylistItemId=e}},{key:"setPlaylistIndex",value:function(e){e<0?this.setPlaylistState(null):this.setPlaylistState(this._playlist[e].PlaylistItemId)}},{key:"removeFromPlaylist",value:function(e){if(this._playlist.length<=e.length)return{result:"empty"};var t=this.getCurrentPlaylistItemId(),n=-1!==e.indexOf(t);return this._sortedPlaylist=this._sortedPlaylist.filter((function(t){return!e.includes(t.PlaylistItemId)})),this._playlist=this._playlist.filter((function(t){return!e.includes(t.PlaylistItemId)})),{result:"removed",isCurrentIndex:n}}},{key:"movePlaylistItem",value:function(e,t){for(var n,r,a,i,o=this.getPlaylist(),s=0,l=o.length;s<l;s++)if(o[s].PlaylistItemId===e){n=s;break}if(-1===n||n===t)return{result:"noop"};if(t>=o.length)throw new Error("newIndex out of bounds");return a=n,i=t,(r=o).splice(i,0,r.splice(a,1)[0]),this._playlist=o,{result:"moved",playlistItemId:e,newIndex:t}}},{key:"reset",value:function(){this._sortedPlaylist=[],this._playlist=[],this._currentPlaylistItemId=null,this._repeatMode="RepeatNone",this._shuffleMode="Sorted"}},{key:"setRepeatMode",value:function(e){if(!["RepeatOne","RepeatAll","RepeatNone"].includes(e))throw new TypeError("invalid value provided for setRepeatMode");this._repeatMode=e}},{key:"getRepeatMode",value:function(){return this._repeatMode}},{key:"setShuffleMode",value:function(e){switch(e){case"Shuffle":this.shufflePlaylist();break;case"Sorted":this.sortShuffledPlaylist();break;default:throw new TypeError("invalid value provided to setShuffleMode")}}},{key:"toggleShuffleMode",value:function(){switch(this._shuffleMode){case"Shuffle":this.setShuffleMode("Sorted");break;case"Sorted":this.setShuffleMode("Shuffle");break;default:throw new TypeError("current value for shufflequeue is invalid")}}},{key:"getShuffleMode",value:function(){return this._shuffleMode}},{key:"getNextItemInfo",value:function(){var e,t=this.getPlaylist(),n=t.length;switch(this.getRepeatMode()){case"RepeatOne":e=this.getCurrentPlaylistIndex();break;case"RepeatAll":(e=this.getCurrentPlaylistIndex()+1)>=n&&(e=0);break;default:e=this.getCurrentPlaylistIndex()+1}if(e<0||e>=n)return null;var r=t[e];return r?{item:r,index:e}:null}}],n&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),m=p,y=n(60934),v=n(94994),g=n(51161),b=n(84881),w=n(10341),P=n(18613),k=n(37099);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(){T=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,i=Object.create(a.prototype),o=new x(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=w(o,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function f(){}function h(){}var p={};s(p,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(I([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=h.prototype=d.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(a,i,o,s){var l=c(e[a],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==S(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,s)}))}s(l.arg)}var a;this._invoke=function(e,n){function i(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=h,s(v,"constructor",h),s(h,"constructor",f),f.displayName=s(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,o,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),s(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new b(l(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),s(v,o,"Generator"),s(v,a,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function L(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){L(i,r,a,o,s,"next",e)}function s(e){L(i,r,a,o,s,"throw",e)}o(void 0)}))}}function A(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e){return!e.getPlaylist&&!!e.isLocalPlayer}function M(e,t,n,a,i,o,s){if(i){var l=Object.assign({},t.PlayState);l.ItemId=t.NowPlayingItem.Id,s&&(l.EventName=s),a&&function(e,t,n,r){t.NowPlayingQueue=function(e,t){return(t=t||e._currentPlayer)&&!j(t)?t.getPlaylistSync():e._playQueueManager.getPlaylist()}(e,n).map((function(e){var t={Id:e.Id,PlaylistItemId:e.PlaylistItemId};return e.ServerId!==r&&(t.ServerId=e.ServerId),t}))}(e,l,n,i),P.Z.getApiClient(i)[o](l).then((function(){r.Events.trigger(e,"reportplayback",[!0])}))}else r.Events.trigger(e,"reportplayback",[!1])}function N(e){return e.toLowerCase().replace(" ","")}function D(e,t){var n=P.Z.getApiClient(e);if(t.Ids&&1===t.Ids.split(",").length){var r=t.Ids.split(",");return n.getItem(n.getCurrentUserId(),r).then((function(e){return{Items:[e],TotalRecordCount:1}}))}return-1===t.Limit?delete t.Limit:t.Limit=t.Limit||300,t.Fields="Chapters",t.ExcludeLocationTypes="Virtual",t.EnableTotalRecordCount=!1,t.CollapseBoxSetItems=!1,n.getItems(n.getCurrentUserId(),t)}function R(e,t){var n=Object.assign(e,t),r=n.Filters?n.Filters.split(","):[];return-1===r.indexOf("IsNotFolder")&&r.push("IsNotFolder"),n.Filters=r.join(","),n}function _(e,t){if(t=(t||"").toLowerCase(),"audio"===e){if("opus"===t)return"audio/ogg";if("webma"===t)return"audio/webm";if("m4a"===t)return"audio/mp4"}else if("video"===e){if("mkv"===t)return"video/x-matroska";if("m4v"===t)return"video/mp4";if("mov"===t)return"video/quicktime";if("mpg"===t)return"video/mpeg";if("flv"===t)return"video/x-flv"}return e+"/"+t}function q(e,t){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)","i").exec(t);return null==n?"":decodeURIComponent(n[1].replace(/\+/g," "))}function B(e){return!!e.isLocalPlayer}function F(e){return!!e.Id}function U(e){var t=null,n=null,r=null;return e.CodecProfiles.forEach((function(e){"Audio"===e.Type&&(e.Conditions||[]).forEach((function(e){"LessThanEqual"===e.Condition&&"AudioBitDepth"===e.Property?n=e.Value:"LessThanEqual"===e.Condition&&"AudioSampleRate"===e.Property?t=e.Value:"LessThanEqual"===e.Condition&&"AudioBitrate"===e.Property&&(r=e.Value)}))})),{maxAudioSampleRate:t,maxAudioBitDepth:n,maxAudioBitrate:r}}var z=(new Date).getTime();function H(e,t,n,r,a,i,o,s,l){var c="Audio/"+e.Id+"/universal";return z++,a.getUrl(c,{UserId:a.getCurrentUserId(),DeviceId:a.deviceId(),MaxStreamingBitrate:s||r,Container:n,TranscodingContainer:t.Container||null,TranscodingProtocol:t.Protocol||null,AudioCodec:t.AudioCodec,MaxAudioSampleRate:i,MaxAudioBitDepth:o,api_key:a.accessToken(),PlaySessionId:z,StartTimeTicks:l||0,EnableRedirection:!0,EnableRemoteMedia:b.M.supports("remoteaudio")})}function V(e,t,n,r,a){var i=t.TranscodingProfiles.filter((function(e){return"Audio"===e.Type&&"Streaming"===e.Context}))[0],o="";t.DirectPlayProfiles.forEach((function(e){"Audio"===e.Type&&(o?o+=","+e.Container:o=e.Container,e.AudioCodec&&(o+="|"+e.AudioCodec))}));var s=U(t);return H(e,i,o,n,r,s.maxAudioSampleRate,s.maxAudioBitDepth,s.maxAudioBitrate,a)}function W(e,t,n,r,a){return function(e,t,n,r,a){var i=t.TranscodingProfiles.filter((function(e){return"Audio"===e.Type&&"Streaming"===e.Context}))[0],s="";t.DirectPlayProfiles.forEach((function(e){"Audio"===e.Type&&(s?s+=","+e.Container:s=e.Container,e.AudioCodec&&(s+="|"+e.AudioCodec))}));for(var l=U(t),c=[],u=0,d=e.length;u<d;u++){var f=e[u],h=void 0;"Audio"!==f.MediaType||o.ZP.isLocalItem(f)||(h=H(f,i,s,n,r,l.maxAudioSampleRate,l.maxAudioBitDepth,l.maxAudioBitrate,a)),c.push(h||""),0===u&&(a=0)}return Promise.resolve(c)}(e,t,n,r,a).then((function(t){for(var n=0,r=e.length;n<r;n++){var a=e[n],i=t[n];i&&(a.PresetMediaSource={StreamUrl:i,Id:a.Id,MediaStreams:[],RunTimeTicks:a.RunTimeTicks})}}))}function G(e,t,n,r,a,i,s,l,c,u,d,f,h,p,m){if(!o.ZP.isLocalItem(n)&&"Audio"===n.MediaType&&!e.useServerPlaybackInfoForAudio)return Promise.resolve({MediaSources:[{StreamUrl:V(n,r,a,t,i),Id:n.Id,MediaStreams:[],RunTimeTicks:n.RunTimeTicks}]});if(n.PresetMediaSource)return Promise.resolve({MediaSources:[n.PresetMediaSource]});var y=n.Id,v={UserId:t.getCurrentUserId(),StartTimeTicks:i||0};return s?(v.IsPlayback=!0,v.AutoOpenLiveStream=!0):(v.IsPlayback=!1,v.AutoOpenLiveStream=!1),null!=c&&(v.AudioStreamIndex=c),null!=u&&(v.SubtitleStreamIndex=u),null!=f&&(v.EnableDirectPlay=f),null!=h&&(v.EnableDirectStream=h),null!=p&&(v.AllowVideoStreamCopy=p),null!=m&&(v.AllowAudioStreamCopy=m),l&&(v.MediaSourceId=l),d&&(v.LiveStreamId=d),a&&(v.MaxStreamingBitrate=a),e.enableMediaProbe&&!e.enableMediaProbe(n)&&(v.EnableMediaProbe=!1),!1!==v.EnableDirectStream&&e.supportsPlayMethod&&!e.supportsPlayMethod("DirectStream",n)&&(v.EnableDirectStream=!1),e.getDirectPlayProtocols&&(v.DirectPlayProtocols=e.getDirectPlayProtocols()),t.getPlaybackInfo(y,v,r)}function Q(e,t,n){var r="BluRay"===n.VideoType||"Dvd"===n.VideoType||"HdDvd"===n.VideoType;if(n.SupportsDirectPlay||r){if(n.IsRemote&&!b.M.supports("remotevideo"))return Promise.resolve(!1);if("Http"===n.Protocol&&!n.RequiredHttpHeaders.length)return n.SupportsDirectStream||n.SupportsTranscoding?function(e,t){return e.IsRemote?Promise.resolve(!0):t.getEndpointInfo().then((function(t){if(t.IsInNetwork){if(!t.IsLocal){var n=(e.Path||"").toLowerCase();if(-1!==n.indexOf("localhost")||-1!==n.indexOf("127.0.0.1"))return Promise.resolve(!1)}return Promise.resolve(!0)}return Promise.resolve(!1)}))}(n,e):Promise.resolve(!0)}return Promise.resolve(!1)}function Y(e,t){return!t.ErrorCode||(X(0,"PlaybackError"+t.ErrorCode),!1)}function X(e,t){(0,k.Z)({text:v.ZP.translate(t),title:v.ZP.translate("HeaderPlaybackError")})}function J(e){e.fullscreen=!1!==e.fullscreen}function $(e){return!e.isLocalPlayer}function K(e,t){return{name:t.name,id:t.id,playerName:t.name,playableMediaTypes:["Audio","Video","Photo","Book"].map(t.canPlayMediaType),isLocalPlayer:t.isLocalPlayer,supportedCommands:e.getSupportedCommands(t)}}function ee(e){return e.getTargets?e.getTargets():Promise.resolve([K(e)])}function te(e,t){var n=e.isLocalPlayer?0:1,r=t.isLocalPlayer?0:1;return n=n.toString()+e.name,r=r.toString()+t.name,n.localeCompare(r)}var ne=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t,l=this,c=[],u=null;this._playNextAfterEnded=!0;var d,f={};function h(e,t){return l.subtitleTracks(e).filter((function(e){return"Subtitle"===e.Type&&e.Index===t}))[0]}function p(e){var t=l._currentPlayer;t&&e.id!==t.id||k(null)}function k(e,n){var a=l._currentPlayer,i=t;if(e&&!n&&e.isLocalPlayer&&(n=K(l,e)),e&&!n)throw new Error("targetInfo cannot be null");u=null,l._currentPlayer=e,t=n,n&&console.debug("Active player: "+JSON.stringify(n)),a&&l.endPlayerUpdates(a),e&&l.beginPlayerUpdates(e),function(e,t,n,a,i){(t||a)&&(n&&i&&n.id===i.id||r.Events.trigger(e,"playerchange",[t,n,a]))}(l,e,n,a,i)}function S(e,t){e||(e=P.Z.currentApiClient());var n=e.getSavedEndpointInfo()||{};return i.Z.maxStreamingBitrate(n.IsInNetwork,t)}function x(e){return e.DeliveryMethod?e.DeliveryMethod:e.IsExternal?"External":"Embed"}function C(e){if(!e)throw new Error("player cannot be null");return-1!==(N(e).streamInfo.url||"").toLowerCase().indexOf(".m3u8")||(e.seekable?e.seekable():!("Transcode"===l.playMethod(e))&&e.duration())}function L(e,t,n){if(C(e)&&null==n)e.currentTime(parseInt(t/1e4));else{n=n||{};var r=N(e).streamInfo.liveStreamId,a=N(e).streamInfo.lastMediaInfoQuery,i=l.playSessionId(e),o=l.currentItem(e);e.getDeviceProfile(o,{isRetry:!1===n.EnableDirectPlay}).then((function(s){var c=null==n.AudioStreamIndex?N(e).audioStreamIndex:n.AudioStreamIndex,u=null==n.SubtitleStreamIndex?N(e).subtitleStreamIndex:n.SubtitleStreamIndex,d=l.currentMediaSource(e),f=P.Z.getApiClient(o.ServerId);t&&(t=parseInt(t));var h=n.MaxStreamingBitrate||l.getMaxStreamingBitrate(e),p=o.playOptions||{fullscreen:!0};G(e,f,o,s,h,t,!0,d.Id,c,u,r,n.EnableDirectPlay,n.EnableDirectStream,n.AllowVideoStreamCopy,n.AllowAudioStreamCopy).then((function(n){if(Y(0,n)){d=n.MediaSources[0];var r=ce(f,o.MediaType,o,d,t,e);if(r.fullscreen=p.fullscreen,r.lastMediaInfoQuery=a,!r.url)return void X(0,"PlaybackErrorNoCompatibleStream");N(e).subtitleStreamIndex=u,N(e).audioStreamIndex=c,N(e).maxStreamingBitrate=h,function(e,t,n,r){var a=N(t);a.isChangingStream=!0,a.streamInfo&&n?e.stopActiveEncodings(n).then((function(){var a=function(){e.stopActiveEncodings(n)};Z(0,t,r).then(a,a)})):Z(0,t,r)}(f,e,i,r)}}))}))}}function Z(e,t,n){var r=N(t);return r.streamInfo=n,t.play(n).then((function(){r.isChangingStream=!1,n.started=!0,n.ended=!1,Ne(t,"timeupdate")}),(function(e){r.isChangingStream=!1,ke.call(t,e,{type:"mediadecodeerror",streamInfo:n})}))}function O(e,t){e.length>1&&t&&t.ids&&e.sort((function(e,n){return t.ids.indexOf(e.Id)-t.ids.indexOf(n.Id)}));var n,r=e[0],a=r.ServerId,i=t.queryOptions||{};if("Program"===r.Type)n=D(a,{Ids:r.ChannelId});else if("Playlist"===r.Type)n=D(a,{ParentId:r.Id,SortBy:t.shuffle?"Random":null});else if("MusicArtist"===r.Type)n=D(a,{ArtistIds:r.Id,Filters:"IsNotFolder",Recursive:!0,SortBy:t.shuffle?"Random":"SortName",MediaTypes:"Audio"});else if("Photo"===r.MediaType)n=D(a,{ParentId:r.ParentId,Filters:"IsNotFolder",Recursive:!1,SortBy:t.shuffle?"Random":"SortName",MediaTypes:"Photo,Video",Limit:-1}).then((function(e){var n=e.Items.map((function(e){return e.Id})).indexOf(r.Id);return-1===n&&(n=0),t.startIndex=n,Promise.resolve(e)}));else if("PhotoAlbum"===r.Type)n=D(a,{ParentId:r.Id,Filters:"IsNotFolder",Recursive:!1,SortBy:t.shuffle?"Random":"SortName",MediaTypes:"Photo",Limit:-1});else if("MusicGenre"===r.Type)n=D(a,{GenreIds:r.Id,Filters:"IsNotFolder",Recursive:!0,SortBy:t.shuffle?"Random":"SortName",MediaTypes:"Audio"});else if(r.IsFolder&&"homevideos"===r.CollectionType)n=D(a,R({ParentId:r.Id,Filters:"IsNotFolder",Recursive:!0,SortBy:t.shuffle?"Random":"SortName",MediaTypes:"Photo",Limit:-1},i));else if(r.IsFolder){var o=null;t.shuffle?o="Random":"BoxSet"!==r.Type&&(o="SortName"),n=D(a,R({ParentId:r.Id,Filters:"IsNotFolder",Recursive:!0,SortBy:o,MediaTypes:"Audio,Video"},i))}else"Episode"===r.Type&&1===e.length&&!1!==fe(r,t).supportsProgress&&(n=new Promise((function(e,t){var n=P.Z.getApiClient(r.ServerId);n.getCurrentUser().then((function(a){a.Configuration.EnableNextEpisodeAutoPlay&&r.SeriesId?n.getEpisodes(r.SeriesId,{IsVirtualUnaired:!1,IsMissing:!1,UserId:n.getCurrentUserId(),Fields:"Chapters"}).then((function(t){var n=!1;t.Items=t.Items.filter((function(e){return!!n||e.Id===r.Id&&(n=!0,!0)})),t.TotalRecordCount=t.Items.length,e(t)}),t):e(null)}))})));return n?n.then((function(t){return t?t.Items:e})):Promise.resolve(e)}function N(e){if(!e)throw new Error("player cannot be null");if(!e.name)throw new Error("player name cannot be null");var t=f[e.name];return t||(f[e.name]={},t=f[e.name]),e}function U(e){if(!e)throw new Error("player cannot be null");var t=Math.floor(1e4*e.currentTime());return N(e).streamInfo&&(t+=N(e).streamInfo.transcodingOffsetTicks||0),t}function z(e,t){var n=t.startIndex||0,r=e[n];if(r||(r=e[n=0]),!r)return X(0,"PlaybackErrorNoCompatibleStream"),Promise.reject();if("Photo"===r.MediaType||"Book"===r.MediaType)return function(e,t){var n=fe(e[t.startIndex||0],t);return g.ZP.hide(),t.items=e,n.play(t)}(e,t);var a=P.Z.getApiClient(r.ServerId);return function(e,t,n){return n.startPositionTicks||n.startIndex||!1===n.fullscreen||"Video"!==(r=e).MediaType||"TvChannel"===r.Type||"InProgress"===r.Status||!F(r)||!y.enableCinemaMode()?Promise.resolve({Items:[]}):t.getIntros(e.Id).then((function(e){return e}),(function(){return Promise.resolve({Items:[]})}));var r}(r,a,t).then((function(a){var i,o,s=a.Items;return r.playOptions={fullscreen:(o=t).fullscreen,mediaSourceId:o.mediaSourceId,audioStreamIndex:o.audioStreamIndex,subtitleStreamIndex:o.subtitleStreamIndex,startPositionTicks:o.startPositionTicks},i=s.length?{fullscreen:r.playOptions.fullscreen}:r.playOptions,e=s.concat(e),i.items=e,i.startIndex=n,V(e[n],i,(function(){l._playQueueManager.setPlaylist(e),H(e[n].PlaylistItemId,n),g.ZP.hide()}))}))}function H(e,t){isNaN(t)||l._playQueueManager.setPlaylistState(e,t)}function V(e,t,n,r){return e.IsPlaceHolder?(g.ZP.hide(),X(0,"PlaybackErrorPlaceHolder"),Promise.reject()):(J(t),t.isFirstItem?t.isFirstItem=!1:t.isFirstItem=!0,function(e,t){return new Promise((function(n,r){var a=s.E.ofType("preplayintercept");if(a.sort((function(e,t){return(e.order||0)-(t.order||0)})),a.length){g.ZP.hide();var i=Object.assign({},t);i.mediaType=e.MediaType,i.item=e,ie(a,0,i,n,r)}else n()}))}(e,t).then((function(){t.fullscreen&&g.ZP.show();var a=e.MediaType,s=function(){return le(S(P.Z.getApiClient(e.ServerId),a),e,t,n,r)};if(!F(e)||o.ZP.isLocalItem(e))return s();var l=P.Z.getApiClient(e.ServerId);l.getEndpointInfo().then((function(o){if(("Video"===a||"Audio"===a)&&i.Z.enableAutomaticBitrateDetection(o.IsInNetwork,a))return l.detectBitrate().then((function(s){return i.Z.maxStreamingBitrate(o.IsInNetwork,a,s),le(s,e,t,n,r)}),s);s()}),s)}),re))}function ne(){var e=l._currentPlayer;e&&(ae(e),p(e)),r.Events.trigger(l,"playbackcancelled")}function re(){return ne(),Promise.reject()}function ae(e){e.destroy()}function ie(e,t,n,r,a){t>=e.length?r():e[t].intercept(n).then((function(){ie(e,t+1,n,r,a)}),a)}function oe(e,t,n,r){if(-1==e)return console.debug("AutoSet ".concat(r," - No Stream Set")),void("Subtitle"==r&&(n.DefaultSubtitleStreamIndex=-1));if(t.MediaStreams&&n.MediaStreams){var a=null,i=0,o=t.MediaStreams[e];if(o){console.debug("AutoSet ".concat(r," - Previous was ").concat(o.Index," - ").concat(o.DisplayTitle));var s,l=0,c=A(t.MediaStreams);try{for(c.s();!(s=c.n()).done;){var u=s.value;if(u.Type==r){if(u.Index==e)break;l+=1}}}catch(e){c.e(e)}finally{c.f()}var d,f=0,h=A(n.MediaStreams);try{for(h.s();!(d=h.n()).done;){var p=d.value;if(p.Type==r){var m=0;o.Codec==p.Codec&&(m+=1),l==f&&(m+=1),o.DisplayTitle&&o.DisplayTitle==p.DisplayTitle&&(m+=2),o.Language&&"und"!=o.Language&&o.Language==p.Language&&(m+=2),console.debug("AutoSet ".concat(r," - Score ").concat(m," for ").concat(p.Index," - ").concat(p.DisplayTitle)),m>i&&m>=3&&(i=m,a=p.Index),f+=1}}}catch(e){h.e(e)}finally{h.f()}null!=a?(console.debug("AutoSet ".concat(r," - Using ").concat(a," score ").concat(i,".")),"Subtitle"==r&&(n.DefaultSubtitleStreamIndex=a),"Audio"==r&&(n.DefaultAudioStreamIndex=a)):console.debug("AutoSet ".concat(r," - Threshold not met. Using default."))}else console.debug("AutoSet ".concat(r," - No prevStream"))}else console.debug("AutoSet ".concat(r," - No MediaStreams"))}function se(e,t,n,r){try{if(!e)return;if(!t)return void console.warn("AutoSet - No mediaSource");n&&"number"==typeof e.DefaultAudioStreamIndex&&oe(e.DefaultAudioStreamIndex,e,t,"Audio"),r&&"number"==typeof e.DefaultSubtitleStreamIndex&&oe(e.DefaultSubtitleStreamIndex,e,t,"Subtitle")}catch(e){console.error("AutoSet - Caught unexpected error: ".concat(e))}}function le(e,t,n,a,i){var o,s=n.startPositionTicks,c=fe(t,n),u=l._currentPlayer;return u?(l._playNextAfterEnded=!1,o=function(e,t,n){var a=l.getPlayerState(e),i=l.currentItem(e).ServerId;return ge(e),function(e){r.Events.off(e,"stopped",Se)}(e),(e===t?e.stop(!1):e.stop(!0)).then((function(){N(e).streamInfo=null,xe(e),j(e)&&M(l,a,e,!0,i,"reportPlaybackStopped"),r.Events.trigger(l,"playbackstop",[{player:e,state:a,nextItem:n,nextMediaType:n.MediaType}])}))}(u,c,t)):o=Promise.resolve(),c?F(t)&&"Book"!==t.MediaType?Promise.all([o,c.getDeviceProfile(t)]).then((function(r){var o=r[1],l=P.Z.getApiClient(t.ServerId),u=n.mediaSourceId,d=n.audioStreamIndex,f=n.subtitleStreamIndex;return c&&!j(c)?function(e,t,n,r,a,i,o,s,l,c){return W(t,n,r,a,i).then((function(){return g.ZP.hide(),e.play({items:t,startPositionTicks:i||0,mediaSourceId:o,audioStreamIndex:s,subtitleStreamIndex:l,startIndex:c})}))}(c,n.items,o,e,l,s,u,d,f,n.startIndex):(n.items=null,de(c,l,o,e,t,s,u,d,f).then(function(){var r=E(T().mark((function r(o){var u,d,f;return T().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,l.getCurrentUser();case 2:return u=r.sent,se(i,o,u.Configuration.RememberAudioSelections,u.Configuration.RememberSubtitleSelections),(d=ce(l,t.MediaType,t,o,s,c)).fullscreen=n.fullscreen,(f=N(c)).isChangingStream=!1,f.maxStreamingBitrate=e,f.streamInfo=d,r.abrupt("return",c.play(d).then((function(){g.ZP.hide(),a(),be(c,n,d,o)}),(function(e){a(),be(c,n,d,o),setTimeout((function(){ke.call(c,e,{type:"mediadecodeerror",streamInfo:d})}),100)})));case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()))})):o.then((function(){var e=function(e){return{url:e.Url||e.Path,playMethod:"DirectPlay",item:e,textTracks:[],mediaType:e.MediaType}}(t);return e.fullscreen=n.fullscreen,N(c).isChangingStream=!1,c.play(e).then((function(){g.ZP.hide(),a(),be(c,n,e)})).catch((function(e){l.stop(c),g.ZP.hide(),X(0,e||"ErrorDefault")}))})):o.then((function(){ne(),g.ZP.hide(),console.error("No player found for the requested media: ".concat(t.Url)),X(0,"ErrorPlayerNotFound")}))}function ce(e,t,n,r,a,i){var o,s,l,c=0,u=a,d=r.LiveStreamId,f="Transcode",h=(r.Container||"").toLowerCase();if(r.MediaStreams&&i.useFullSubtitleUrls&&r.MediaStreams.forEach((function(t){t.DeliveryUrl&&t.DeliveryUrl.startsWith("/")&&(t.DeliveryUrl=e.getUrl(t.DeliveryUrl))})),"Video"===t||"Audio"===t)if(s=_(t.toLowerCase(),h),r.enableDirectPlay)o=r.Path,f="DirectPlay";else if(r.StreamUrl)f="Transcode",o=r.StreamUrl;else if(r.SupportsDirectPlay||r.SupportsDirectStream){l={Static:!0,mediaSourceId:r.Id,deviceId:e.deviceId(),api_key:e.accessToken()},r.ETag&&(l.Tag=r.ETag),r.LiveStreamId&&(l.LiveStreamId=r.LiveStreamId);var p="Video"===t?"Videos":"Audio";o=e.getUrl(p+"/"+n.Id+"/stream."+h,l),f=r.SupportsDirectPlay?"DirectPlay":"DirectStream"}else r.SupportsTranscoding&&(o=e.getUrl(r.TranscodingUrl),"hls"===r.TranscodingSubProtocol?s="application/x-mpegURL":(s=_(t.toLowerCase(),r.TranscodingContainer),-1===o.toLowerCase().indexOf("copytimestamps=true")&&(c=a||0)));else o=r.Path,f="DirectPlay";!o&&r.SupportsDirectPlay&&(o=r.Path,f="DirectPlay");var m={url:o,mimeType:s,transcodingOffsetTicks:c,playMethod:f,playerStartPositionTicks:u,item:n,mediaSource:r,textTracks:ue(e,n,r),tracks:ue(e,n,r),mediaType:t,liveStreamId:d,playSessionId:q("playSessionId",o),title:n.Name},y=function(e,t,n){return(n=n||{}).type=n.type||"Backdrop",n.maxWidth||n.width||n.maxHeight||n.height||n.fillWidth||n.fillHeight||(n.quality=100),t.BackdropImageTags&&t.BackdropImageTags.length?(n.tag=t.BackdropImageTags[0],e.getScaledImageUrl(t.Id,n)):t.ParentBackdropImageTags&&t.ParentBackdropImageTags.length?(n.tag=t.ParentBackdropImageTags[0],e.getScaledImageUrl(t.ParentBackdropItemId,n)):null}(e,n,{});return y&&(m.backdropUrl=y),m}function ue(e,t,n){for(var r=n.MediaStreams.filter((function(e){return"Subtitle"===e.Type})).filter((function(e){return"External"===e.DeliveryMethod})),a=[],i=0,s=r.length;i<s;i++){var l,c=r[i];l=o.ZP.isLocalItem(t)?c.Path:c.IsExternalUrl?c.DeliveryUrl:e.getUrl(c.DeliveryUrl),a.push({url:l,language:c.Language||"und",isDefault:c.Index===n.DefaultSubtitleStreamIndex,index:c.Index,format:c.Codec})}return a}function de(e,t,n,r,a,i,o,s,l){return G(e,t,a,n,r,i,!0,o,s,l,null).then((function(o){return Y(0,o)?function(e,t,n){var r=n.map((function(t){return Q(e,0,t)}));return r.length?Promise.all(r).then((function(e){for(var t=0,r=n.length;t<r;t++)n[t].enableDirectPlay=e[t]||!1;var a=n.filter((function(e){return e.enableDirectPlay}))[0];return a||(a=n.filter((function(e){return e.SupportsDirectStream}))[0]),(a=a||n.filter((function(e){return e.SupportsTranscoding}))[0])||n[0]})):Promise.reject()}(t,0,o.MediaSources).then((function(s){return s?s.RequiresOpening&&!s.LiveStreamId?function(e,t,n,r,a,i,o,s,l,c){var u={DeviceProfile:a,OpenToken:s.OpenToken},d={UserId:t.getCurrentUserId(),StartTimeTicks:o||0,ItemId:n.Id,PlaySessionId:r};return i&&(d.MaxStreamingBitrate=i),!1!==d.EnableDirectStream&&e.supportsPlayMethod&&!e.supportsPlayMethod("DirectStream",n)&&(d.EnableDirectStream=!1),t.ajax({url:t.getUrl("LiveStreams/Open",d),type:"POST",data:JSON.stringify(u),contentType:"application/json",dataType:"json"})}(e,t,a,o.PlaySessionId,n,r,i,s).then((function(e){return Q(t,0,e.MediaSource).then((function(t){return e.MediaSource.enableDirectPlay=t,e.MediaSource}))})):s:(X(0,"PlaybackErrorNoCompatibleStream"),Promise.reject())})):Promise.reject()}))}function fe(e,t,n){var r=F(e);return function(e,t){if(!t){var n=e._currentPlayer;if(n&&!B(n))return[n]}return e.getPlayers().filter(B)}(l,n).filter((function(n){if(n.canPlayMediaType(e.MediaType)){if(r)return!n.canPlayItem||n.canPlayItem(e,t);if(e.Url&&n.canPlayUrl)return n.canPlayUrl(e.Url)}return!1}))[0]}function he(e){var t=l.currentMediaSource(e),n=N(e);return I(I({},t),{},{DefaultAudioStreamIndex:n.audioStreamIndex,DefaultSubtitleStreamIndex:n.subtitleStreamIndex})}function pe(e,t,n){if(!(n=n||l._currentPlayer))return l.play(e);if(e.items)return O(e.items,e).then((function(e){me(e,t,n)}));if(!e.serverId)throw new Error("serverId required!");return D(e.serverId,{Ids:e.ids.join(",")}).then((function(r){return O(r.Items,e).then((function(e){me(e,t,n)}))}))}function me(e,t,n){if(e.length)if(n.isLocalPlayer)if(n&&!j(n)){var a=P.Z.getApiClient(e[0].ServerId);n.getDeviceProfile(e[0]).then((function(r){W(e,r,l.getMaxStreamingBitrate(n),a,0).then((function(){"next"===t?n.queueNext(e):n.queue(e)}))}))}else"next"===t?l._playQueueManager.queueNext(e):l._playQueueManager.queue(e),r.Events.trigger(n,"playlistitemadd");else"next"===t?n.queueNext({items:e}):n.queue({items:e})}function ye(){Ne(this,"timeupdate")}function ve(e){ge(e),e._progressInterval=setInterval(ye.bind(e),1e4)}function ge(e){e._progressInterval&&(clearInterval(e._progressInterval),e._progressInterval=null)}function be(e,t,n,a){if(!e)throw new Error("player cannot be null");k(e);var i=N(e);i.streamInfo=n,n.playbackStartTimeTicks=1e4*(new Date).getTime(),a?(i.audioStreamIndex=a.DefaultAudioStreamIndex,i.subtitleStreamIndex=a.DefaultSubtitleStreamIndex):(i.audioStreamIndex=null,i.subtitleStreamIndex=null),l._playNextAfterEnded=!0;var o=t.isFirstItem,s=t.fullscreen,c=l.getPlayerState(e,n.item,n.mediaSource);M(l,c,e,!0,c.NowPlayingItem.ServerId,"reportPlaybackStart"),c.IsFirstItem=o,c.IsFullscreen=s,r.Events.trigger(e,"playbackstart",[c]),r.Events.trigger(l,"playbackstart",[e,c]),n.started=!0,ve(e)}function we(e,t,n){var a=this;k(a);var i=t.playOptions||{fullscreen:!0},o=i.isFirstItem,s=i.fullscreen;i.isFirstItem=!1;var c=N(a);c.streamInfo={};var u=c.streamInfo;u.playbackStartTimeTicks=1e4*(new Date).getTime();var d=l.getPlayerState(a,t,n);M(l,d,a,!0,d.NowPlayingItem.ServerId,"reportPlaybackStart"),d.IsFirstItem=o,d.IsFullscreen=s,r.Events.trigger(a,"playbackstart",[d]),r.Events.trigger(l,"playbackstart",[a,d]),u.started=!0,ve(a)}function Pe(e,t){var n=this;ge(n);var a=l.getPlayerState(n,t.item,t.mediaSource),i=t.nextItem,o=t.nextMediaType,s={player:n,state:a,nextItem:i?i.item:null,nextMediaType:o};a.NextMediaType=o,N(n).streamInfo.ended=!0,F(t.item)&&(a.PlayState.PositionTicks=1e4*(t.positionMs||0),M(l,a,n,!0,t.item.ServerId,"reportPlaybackStopped")),a.NextItem=s.nextItem,r.Events.trigger(n,"playbackstop",[a]),r.Events.trigger(l,"playbackstop",[s]);var c=i&&i.item.playOptions||{fullscreen:!0};(i?fe(i.item,c):null)!==n&&(ae(n),p(n))}function ke(e,t){var n=this,a=(t=t||{}).type;console.debug("playbackmanager playback error type: "+(a||""));var i=t.streamInfo||N(n).streamInfo;if(null!=i&&i.url){var o=-1!==i.url.toLowerCase().indexOf("allowvideostreamcopy=false"),s=-1!==i.url.toLowerCase().indexOf("allowaudiostreamcopy=false");if(function(e,t,n,r){return!(!e.mediaSource.SupportsTranscoding||n&&r)}(i,0,o,s))return void L(n,U(n)||i.playerStartPositionTicks,{EnableDirectPlay:!1,EnableDirectStream:!1,AllowVideoStreamCopy:!1,AllowAudioStreamCopy:!s&&!o&&null})}r.Events.trigger(l,"playbackerror",[a]),Se.call(n,e,"NoCompatibleStream")}function Se(e,t){var n=this;if(!N(n).isChangingStream){ge(n);var a=l.getPlayerState(n),i=N(n),o=i.streamInfo,s=t&&"string"==typeof t,c=l._playNextAfterEnded&&!s?l._playQueueManager.getNextItemInfo():null,u=c?c.item.MediaType:null,d={player:n,state:a,nextItem:c?c.item:null,nextMediaType:u};a.NextMediaType=u,o&&F(o.item)&&(!1===n.supportsProgress&&a.PlayState&&!a.PlayState.PositionTicks&&(a.PlayState.PositionTicks=o.item.RunTimeTicks),o.ended=!0,M(l,a,n,!0,o.item.ServerId,"reportPlaybackStopped")),a.NextItem=d.nextItem,c||l._playQueueManager.reset(),r.Events.trigger(n,"playbackstop",[a]),r.Events.trigger(l,"playbackstop",[d]);var f=c&&c.item.playOptions||{fullscreen:!0};(c?fe(c.item,f):null)!==n&&(i.streamInfo=null,ae(n),p(n)),s?X(0,"PlaybackError"+t):c&&l.nextTrack()}}function xe(e){j(e)&&(r.Events.off(e,"stopped",Se),r.Events.on(e,"stopped",Se))}function Ie(){Ne(this,"timeupdate")}function Ce(){Ne(this,"pause")}function Te(){Ne(this,"unpause")}function Le(){Ne(this,"volumechange")}function Ee(){Ne(this,"repeatmodechange")}function Ae(){Ne(this,"shufflequeuemodechange")}function Ze(){Ne(this,"playlistitemmove",!0)}function Oe(){Ne(this,"playlistitemremove",!0)}function je(){Ne(this,"playlistitemadd",!0)}function Me(e){c.push(e),c.sort((function(e,t){return(e.priority||0)-(t.priority||0)})),!1!==e.isLocalPlayer&&(e.isLocalPlayer=!0),e.currentState={},e.getVolume&&e.setVolume||function(e){e.getVolume=function(){return e.volume()},e.setVolume=function(t){return e.volume(t)}}(e),j(e)?(r.Events.on(e,"error",ke),r.Events.on(e,"timeupdate",Ie),r.Events.on(e,"pause",Ce),r.Events.on(e,"unpause",Te),r.Events.on(e,"volumechange",Le),r.Events.on(e,"repeatmodechange",Ee),r.Events.on(e,"shufflequeuemodechange",Ae),r.Events.on(e,"playlistitemmove",Ze),r.Events.on(e,"playlistitemremove",Oe),r.Events.on(e,"playlistitemadd",je)):e.isLocalPlayer&&(r.Events.on(e,"itemstarted",we),r.Events.on(e,"itemstopped",Pe),r.Events.on(e,"timeupdate",Ie),r.Events.on(e,"pause",Ce),r.Events.on(e,"unpause",Te),r.Events.on(e,"volumechange",Le),r.Events.on(e,"repeatmodechange",Ee),r.Events.on(e,"shufflequeuemodechange",Ae),r.Events.on(e,"playlistitemmove",Ze),r.Events.on(e,"playlistitemremove",Oe),r.Events.on(e,"playlistitemadd",je)),e.isLocalPlayer&&function(e){w.Z.isEnabled?w.Z.on("change",(function(){r.Events.trigger(e,"fullscreenchange")})):document.addEventListener("webkitfullscreenchange",(function(){r.Events.trigger(e,"fullscreenchange")}),!1)}(e),xe(e)}function Ne(e,t,n){if(!e)throw new Error("player cannot be null");var a=l.getPlayerState(e);if(a.NowPlayingItem){var i=a.NowPlayingItem.ServerId,o=N(e).streamInfo;o&&o.started&&!o.ended&&M(l,a,e,n,i,"reportPlaybackProgress",t),o&&o.liveStreamId&&(new Date).getTime()-(o.lastMediaInfoQuery||0)>=6e5&&function(e,t,n,a,i){console.debug("getLiveStreamMediaInfo"),t.lastMediaInfoQuery=(new Date).getTime(),P.Z.getApiClient(i).isMinServerVersion("3.2.70.7")&&P.Z.getApiClient(i).getLiveStreamMediaInfo(a).then((function(t){n.MediaStreams=t.MediaStreams,r.Events.trigger(e,"mediastreamschange")}),(function(){}))}(e,o,l.currentMediaSource(e),o.liveStreamId,i)}}this._playQueueManager=new m,l.currentItem=function(e){if(!e)throw new Error("player cannot be null");if(e.currentItem)return e.currentItem();var t=N(e);return t.streamInfo?t.streamInfo.item:null},l.currentMediaSource=function(e){if(!e)throw new Error("player cannot be null");if(e.currentMediaSource)return e.currentMediaSource();var t=N(e);return t.streamInfo?t.streamInfo.mediaSource:null},l.playMethod=function(e){if(!e)throw new Error("player cannot be null");if(e.playMethod)return e.playMethod();var t=N(e);return t.streamInfo?t.streamInfo.playMethod:null},l.playSessionId=function(e){if(!e)throw new Error("player cannot be null");if(e.playSessionId)return e.playSessionId();var t=N(e);return t.streamInfo?t.streamInfo.playSessionId:null},l.getPlayerInfo=function(){var e=l._currentPlayer;if(!e)return null;var n=t||{};return{name:e.name,isLocalPlayer:e.isLocalPlayer,id:n.id,deviceName:n.deviceName,playableMediaTypes:n.playableMediaTypes,supportedCommands:n.supportedCommands}},l.setActivePlayer=function(e,t){if("localplayer"!==e&&"localplayer"!==e.name){if("string"==typeof e&&(e=c.filter((function(t){return t.name===e}))[0]),!e)throw new Error("null player");k(e,t)}else{if(l._currentPlayer&&l._currentPlayer.isLocalPlayer)return;k(null,null)}},l.trySetActivePlayer=function(e,t){if("localplayer"!==e&&"localplayer"!==e.name){if("string"==typeof e&&(e=c.filter((function(t){return t.name===e}))[0]),!e)throw new Error("null player");if(u!==t.id){u=t.id;var n=e.tryPair?e.tryPair(t):Promise.resolve();r.Events.trigger(l,"pairing"),n.then((function(){r.Events.trigger(l,"paired"),k(e,t)}),(function(){r.Events.trigger(l,"pairerror"),u===t.id&&(u=null)}))}}else l._currentPlayer&&l._currentPlayer.isLocalPlayer},l.getTargets=function(){var e=c.filter($).map(ee);return Promise.all(e).then((function(e){return P.Z.currentApiClient().getCurrentUser().then((function(t){var n=[];n.push({name:v.ZP.translate("HeaderMyDevice"),id:"localplayer",playerName:"localplayer",playableMediaTypes:["Audio","Video","Photo","Book"],isLocalPlayer:!0,supportedCommands:l.getSupportedCommands({isLocalPlayer:!0}),user:t});for(var r=0;r<e.length;r++)for(var a=e[r],i=0;i<a.length;i++)n.push(a[i]);return n.sort(te)}))}))},l.getPlaylist=function(e){return(e=e||l._currentPlayer)&&!j(e)?e.getPlaylistSync?Promise.resolve(e.getPlaylistSync()):e.getPlaylist():Promise.resolve(l._playQueueManager.getPlaylist())},l.isPlaying=function(e){return(e=e||l._currentPlayer)&&e.isPlaying?e.isPlaying():null!=e&&null!=e.currentSrc()},l.isPlayingMediaType=function(e,t){return(t=t||l._currentPlayer)&&t.isPlaying?t.isPlaying(e):!!l.isPlaying(t)&&N(t).streamInfo.mediaType===e},l.isPlayingLocally=function(e,t){return!(!(t=t||l._currentPlayer)||!t.isLocalPlayer)&&e.filter((function(e){return l.isPlayingMediaType(e,t)})).length>0},l.isPlayingVideo=function(e){return l.isPlayingMediaType("Video",e)},l.isPlayingAudio=function(e){return l.isPlayingMediaType("Audio",e)},l.getPlayers=function(){return c},l.canPlay=function(e){var t=e.Type;if("PhotoAlbum"===t||"MusicGenre"===t||"Season"===t||"Series"===t||"BoxSet"===t||"MusicAlbum"===t||"MusicArtist"===t||"Playlist"===t)return!0;if("Virtual"===e.LocationType&&"Program"!==t)return!1;if("Program"===t){if(!e.EndDate||!e.StartDate)return!1;if((new Date).getTime()>a.ZP.parseISO8601Date(e.EndDate).getTime()||(new Date).getTime()<a.ZP.parseISO8601Date(e.StartDate).getTime())return!1}return null!=fe(e,{fullscreen:!0})},l.toggleAspectRatio=function(e){if(e=e||l._currentPlayer){for(var t=l.getAspectRatio(e),n=l.getSupportedAspectRatios(e),r=-1,a=0,i=n.length;a<i;a++)if(n[a].id===t){r=a;break}++r>=n.length&&(r=0),l.setAspectRatio(n[r].id,e)}},l.setAspectRatio=function(e,t){(t=t||l._currentPlayer)&&t.setAspectRatio&&t.setAspectRatio(e)},l.getSupportedAspectRatios=function(e){return(e=e||l._currentPlayer)&&e.getSupportedAspectRatios?e.getSupportedAspectRatios():[]},l.getAspectRatio=function(e){if((e=e||l._currentPlayer)&&e.getAspectRatio)return e.getAspectRatio()},l.increasePlaybackRate=function(e){if(e=e||l._currentPlayer){for(var t=l.getPlaybackRate(e),n=l.getSupportedPlaybackRates(e),r=-1,a=0,i=n.length;a<i;a++)if(n[a].id===t){r=a;break}r=Math.min(r+1,n.length-1),l.setPlaybackRate(n[r].id,e)}},l.decreasePlaybackRate=function(e){if(e=e||l._currentPlayer){for(var t=l.getPlaybackRate(e),n=l.getSupportedPlaybackRates(e),r=-1,a=0,i=n.length;a<i;a++)if(n[a].id===t){r=a;break}r=Math.max(r-1,0),l.setPlaybackRate(n[r].id,e)}},l.getSupportedPlaybackRates=function(e){return(e=e||l._currentPlayer)&&e.getSupportedPlaybackRates?e.getSupportedPlaybackRates():[]},l.setBrightness=function(e,t){(t=t||l._currentPlayer)&&(d||(d=!0,n.e(7830).then(n.bind(n,47830)).then()),t.setBrightness(e))},l.getBrightness=function(e){if(e=e||l._currentPlayer)return e.getBrightness()},l.setVolume=function(e,t){(t=t||l._currentPlayer)&&t.setVolume(e)},l.getVolume=function(e){if(e=e||l._currentPlayer)return e.getVolume()},l.volumeUp=function(e){(e=e||l._currentPlayer)&&e.volumeUp()},l.volumeDown=function(e){(e=e||l._currentPlayer)&&e.volumeDown()},l.changeAudioStream=function(e){if((e=e||l._currentPlayer)&&!j(e))return e.changeAudioStream();if(e){for(var t=l.currentMediaSource(e),n=[],r=0,a=t.MediaStreams.length;r<a;r++)"Audio"===t.MediaStreams[r].Type&&n.push(t.MediaStreams[r]);if(!(n.length<=1)){for(var i=l.getAudioStreamIndex(e),o=-1,s=0,c=n.length;s<c;s++)if(n[s].Index===i){o=s;break}var u=o+1;u>=n.length&&(u=0),u=-1===u?-1:n[u].Index,l.setAudioStreamIndex(u,e)}}},l.changeSubtitleStream=function(e){if((e=e||l._currentPlayer)&&!j(e))return e.changeSubtitleStream();if(e){for(var t=l.currentMediaSource(e),n=[],r=0,a=t.MediaStreams.length;r<a;r++)"Subtitle"===t.MediaStreams[r].Type&&n.push(t.MediaStreams[r]);if(n.length){for(var i=l.getSubtitleStreamIndex(e),o=-1,s=0,c=n.length;s<c;s++)if(n[s].Index===i){o=s;break}var u=o+1;u>=n.length&&(u=-1),u=-1===u?-1:n[u].Index,l.setSubtitleStreamIndex(u,e)}}},l.getAudioStreamIndex=function(e){return(e=e||l._currentPlayer)&&!j(e)?e.getAudioStreamIndex():N(e).audioStreamIndex},l.setAudioStreamIndex=function(e,t){if((t=t||l._currentPlayer)&&!j(t))return t.setAudioStreamIndex(e);"Transcode"!==l.playMethod(t)&&t.canSetAudioStreamIndex()?t.getDeviceProfile(l.currentItem(t)).then((function(n){!function(e,t,n){for(var r,a=e.MediaStreams,i=0,o=a.length;i<o;i++)if("Audio"===a[i].Type&&a[i].Index===t){r=a[i];break}if(!r)return!1;var s=(r.Codec||"").toLowerCase();return!!s&&(n.DirectPlayProfiles||[]).filter((function(e){return"Video"===e.Type&&(!e.AudioCodec||(0===e.AudioCodec.indexOf("-")?-1===e.AudioCodec.toLowerCase().indexOf(s):-1!==e.AudioCodec.toLowerCase().indexOf(s)))})).length>0}(l.currentMediaSource(t),e,n)?(L(t,U(t),{AudioStreamIndex:e}),N(t).audioStreamIndex=e):(t.setAudioStreamIndex(e),N(t).audioStreamIndex=e)})):(L(t,U(t),{AudioStreamIndex:e}),N(t).audioStreamIndex=e)},l.getMaxStreamingBitrate=function(e){if((e=e||l._currentPlayer)&&e.getMaxStreamingBitrate)return e.getMaxStreamingBitrate();var t=N(e);if(t.maxStreamingBitrate)return t.maxStreamingBitrate;var n=t.streamInfo?t.streamInfo.mediaType:null,r=l.currentItem(e);return S(r?P.Z.getApiClient(r.ServerId):P.Z.currentApiClient(),n)},l.enableAutomaticBitrateDetection=function(e){if((e=e||l._currentPlayer)&&e.enableAutomaticBitrateDetection)return e.enableAutomaticBitrateDetection();var t=N(e),n=t.streamInfo?t.streamInfo.mediaType:null,r=l.currentItem(e),a=(r?P.Z.getApiClient(r.ServerId):P.Z.currentApiClient()).getSavedEndpointInfo()||{};return i.Z.enableAutomaticBitrateDetection(a.IsInNetwork,n)},l.setMaxStreamingBitrate=function(e,t){if((t=t||l._currentPlayer)&&t.setMaxStreamingBitrate)return t.setMaxStreamingBitrate(e);var n=P.Z.getApiClient(l.currentItem(t).ServerId);n.getEndpointInfo().then((function(r){var a,o=N(t),s=o.streamInfo?o.streamInfo.mediaType:null;e.enableAutomaticBitrateDetection?(i.Z.enableAutomaticBitrateDetection(r.IsInNetwork,s,!0),a=n.detectBitrate(!0)):(i.Z.enableAutomaticBitrateDetection(r.IsInNetwork,s,!1),a=Promise.resolve(e.maxBitrate)),a.then((function(e){i.Z.maxStreamingBitrate(r.IsInNetwork,s,e),L(t,U(t),{MaxStreamingBitrate:e})}))}))},l.isFullscreen=function(e){return!(e=e||l._currentPlayer).isLocalPlayer||e.isFullscreen?e.isFullscreen():w.Z.isEnabled?w.Z.isFullscreen:document.webkitIsFullScreen},l.toggleFullscreen=function(e){if(!(e=e||l._currentPlayer).isLocalPlayer||e.toggleFullscreen)return e.toggleFullscreen();if(w.Z.isEnabled)w.Z.toggle();else if(document.webkitIsFullScreen&&document.webkitCancelFullscreen)document.webkitCancelFullscreen();else{var t=document.querySelector("video");t&&t.webkitEnterFullscreen&&t.webkitEnterFullscreen()}},l.togglePictureInPicture=function(e){return(e=e||l._currentPlayer).togglePictureInPicture()},l.toggleAirPlay=function(e){return(e=e||l._currentPlayer).toggleAirPlay()},l.getSubtitleStreamIndex=function(e){if((e=e||l._currentPlayer)&&!j(e))return e.getSubtitleStreamIndex();if(!e)throw new Error("player cannot be null");return N(e).subtitleStreamIndex},l.setSubtitleStreamIndex=function(e,t){if((t=t||l._currentPlayer)&&!j(t))return t.setSubtitleStreamIndex(e);var n=function(e){if(!e)throw new Error("player cannot be null");var t=N(e).subtitleStreamIndex;return null==t||-1===t?null:h(e,t)}(t),r=h(t,e);if(n||r){var a=-1,i=l.playMethod(t);n&&!r?("Encode"===x(n)||"Embed"===x(n)&&"Transcode"===i)&&L(t,U(t),{SubtitleStreamIndex:-1}):!n&&r?"External"===x(r)||"Embed"===x(r)&&"Transcode"!==i?a=e:L(t,U(t),{SubtitleStreamIndex:e}):n&&r&&("External"===x(r)||"Embed"===x(r)&&"Transcode"!==i?(a=e,"External"!==x(n)&&"Embed"!==x(n)&&L(t,U(t),{SubtitleStreamIndex:-1})):L(t,U(t),{SubtitleStreamIndex:e})),t.setSubtitleStreamIndex(a),N(t).subtitleStreamIndex=e}},l.supportSubtitleOffset=function(e){return(e=e||l._currentPlayer)&&"setSubtitleOffset"in e},l.enableShowingSubtitleOffset=function(e){(e=e||l._currentPlayer).enableShowingSubtitleOffset()},l.disableShowingSubtitleOffset=function(e){(e=e||l._currentPlayer).disableShowingSubtitleOffset&&e.disableShowingSubtitleOffset()},l.isShowingSubtitleOffsetEnabled=function(e){return(e=e||l._currentPlayer).isShowingSubtitleOffsetEnabled()},l.isSubtitleStreamExternal=function(e,t){var n=h(t,e);return!!n&&"External"===x(n)},l.setSubtitleOffset=function(e,t){(t=t||l._currentPlayer).setSubtitleOffset&&t.setSubtitleOffset(e)},l.getPlayerSubtitleOffset=function(e){if((e=e||l._currentPlayer).getSubtitleOffset)return e.getSubtitleOffset()},l.canHandleOffsetOnCurrentSubtitle=function(e){var t=l.getSubtitleStreamIndex(e);return-1!==t&&l.isSubtitleStreamExternal(t,e)},l.seek=function(e,t){if(e=Math.max(0,e),(t=t||l._currentPlayer)&&!j(t))return t.seek(e);L(t,e)},l.seekRelative=function(e,t){if((t=t||l._currentPlayer)&&!j(t)&&t.seekRelative)return t.seekRelative(n);var n=U(t)+e;return this.seek(n,t)},l.translateItemsForPlayback=O,l.getItemsForPlayback=D,l.play=function(e){if(J(e),l._currentPlayer){if(!1===e.enableRemotePlayers&&!l._currentPlayer.isLocalPlayer)return Promise.reject();if(!l._currentPlayer.isLocalPlayer)return l._currentPlayer.play(e)}if(e.fullscreen&&g.ZP.show(),e.items)return O(e.items,e).then((function(t){return z(t,e)}));if(!e.serverId)throw new Error("serverId required!");return D(e.serverId,{Ids:e.ids.join(",")}).then((function(t){return O(t.Items,e).then((function(t){return z(t,e)}))}))},l.getPlayerState=function(e,t,n){if(!(e=e||l._currentPlayer))throw new Error("player cannot be null");if(!j(e)&&e.getPlayerState)return e.getPlayerState();t=t||l.currentItem(e),n=n||l.currentMediaSource(e);var r={PlayState:{}};return e&&(r.PlayState.VolumeLevel=e.getVolume(),r.PlayState.IsMuted=e.isMuted(),r.PlayState.IsPaused=e.paused(),r.PlayState.RepeatMode=l.getRepeatMode(e),r.PlayState.ShuffleMode=l.getQueueShuffleMode(e),r.PlayState.MaxStreamingBitrate=l.getMaxStreamingBitrate(e),r.PlayState.PositionTicks=U(e),r.PlayState.PlaybackStartTimeTicks=l.playbackStartTime(e),r.PlayState.PlaybackRate=l.getPlaybackRate(e),r.PlayState.SubtitleStreamIndex=l.getSubtitleStreamIndex(e),r.PlayState.AudioStreamIndex=l.getAudioStreamIndex(e),r.PlayState.BufferedRanges=l.getBufferedRanges(e),r.PlayState.PlayMethod=l.playMethod(e),n&&(r.PlayState.LiveStreamId=n.LiveStreamId),r.PlayState.PlaySessionId=l.playSessionId(e),r.PlayState.PlaylistItemId=l.getCurrentPlaylistItemId(e)),n&&(r.PlayState.MediaSourceId=n.Id,r.NowPlayingItem={RunTimeTicks:n.RunTimeTicks},r.PlayState.CanSeek=(n.RunTimeTicks||0)>0||C(e)),t&&(r.NowPlayingItem=function(e,t,n){var r=Object.assign({},t);return n&&(r.RunTimeTicks=n.RunTimeTicks,r.MediaStreams=n.MediaStreams,r.MediaSources=null),r.RunTimeTicks=r.RunTimeTicks||1e4*e.duration(),r}(e,t,n)),r.MediaSource=n,r},l.duration=function(e){if((e=e||l._currentPlayer)&&!j(e)&&!e.isLocalPlayer)return e.duration();if(!e)throw new Error("player cannot be null");var t=l.currentMediaSource(e);if(t&&t.RunTimeTicks)return t.RunTimeTicks;var n=e.duration();return n&&(n*=1e4),n},l.getCurrentTicks=U,l.getPlaybackInfo=function(e,t){var n=(t=t||{}).startPositionTicks||0,r=t.mediaType||e.MediaType,a=fe(e,t),i=P.Z.getApiClient(e.ServerId);return i.getEndpointInfo().then((function(){var o=S(P.Z.getApiClient(e.ServerId),r);return a.getDeviceProfile(e).then((function(r){return de(a,i,r,o,e,n,t.mediaSourceId,t.audioStreamIndex,t.subtitleStreamIndex).then((function(t){return ce(i,e.MediaType,e,t,n,a)}))}))}))},l.getPlaybackMediaSources=function(e,t){var n=(t=t||{}).startPositionTicks||0,r=t.mediaType||e.MediaType,a=fe(e,t,!0),i=P.Z.getApiClient(e.ServerId);return i.getEndpointInfo().then((function(){var t=S(P.Z.getApiClient(e.ServerId),r);return a.getDeviceProfile(e).then((function(r){return G(a,i,e,r,t,n,!1,null,null,null,null).then((function(e){return e.MediaSources}))}))}))},l.getItemFromPlaylistItemId=function(e){for(var t,n,r=l._playQueueManager.getPlaylist(),a=0,i=r.length;a<i;a++)if(r[a].PlaylistItemId===e){t=r[a],n=a;break}return{Item:t,Index:n}},l.setCurrentPlaylistItem=function(e,t){if((t=t||l._currentPlayer)&&!j(t))return t.setCurrentPlaylistItem(e);var n=l.getItemFromPlaylistItemId(e);if(n.Item){var r=n.Item.playOptions||{fullscreen:!0};V(n.Item,r,(function(){H(n.Item.PlaylistItemId,n.Index)}))}},l.removeFromPlaylist=function(e,t){if(!e)throw new Error("Invalid playlistItemIds");if((t=t||l._currentPlayer)&&!j(t))return t.removeFromPlaylist(e);var n=l._playQueueManager.removeFromPlaylist(e);if("empty"===n.result)return l.stop(t);var a=n.isCurrentIndex;return r.Events.trigger(t,"playlistitemremove",[{playlistItemIds:e}]),a?l.setCurrentPlaylistItem(l._playQueueManager.getPlaylist()[0].PlaylistItemId,t):Promise.resolve()},l.movePlaylistItem=function(e,t,n){if((n=n||l._currentPlayer)&&!j(n))return n.movePlaylistItem(e,t);var a=l._playQueueManager.movePlaylistItem(e,t);"noop"!==a.result&&r.Events.trigger(n,"playlistitemmove",[{playlistItemId:a.playlistItemId,newIndex:a.newIndex}])},l.getCurrentPlaylistIndex=function(e){return(e=e||l._currentPlayer)&&!j(e)?e.getCurrentPlaylistIndex():l._playQueueManager.getCurrentPlaylistIndex()},l.getCurrentPlaylistItemId=function(e){return(e=e||l._currentPlayer)&&!j(e)?e.getCurrentPlaylistItemId():l._playQueueManager.getCurrentPlaylistItemId()},l.channelUp=function(e){return e=e||l._currentPlayer,l.nextTrack(e)},l.channelDown=function(e){return e=e||l._currentPlayer,l.previousTrack(e)},l.nextTrack=function(e){if((e=e||l._currentPlayer)&&!j(e))return e.nextTrack();var t=l._playQueueManager.getNextItemInfo();if(t){console.debug("playing next track");var n=t.item.playOptions||{fullscreen:!0};V(t.item,n,(function(){H(t.item.PlaylistItemId,t.index)}),he(e))}},l.previousTrack=function(e){if((e=e||l._currentPlayer)&&!j(e))return e.previousTrack();var t=l.getCurrentPlaylistIndex(e)-1;if(t>=0){var n=l._playQueueManager.getPlaylist()[t];if(n){var r=n.playOptions||{fullscreen:!0};r.startPositionTicks=0,V(n,r,(function(){H(n.PlaylistItemId,t)}),he(e))}}},l.queue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._currentPlayer;pe(e,"",t)},l.queueNext=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._currentPlayer;pe(e,"next",t)},r.Events.on(s.E,"registered",(function(e,t){"mediaplayer"===t.type&&Me(t)})),s.E.ofType("mediaplayer").forEach(Me),l.onAppClose=function(){var e=this._currentPlayer;e&&this.isPlaying(e)&&(this._playNextAfterEnded=!1,Se.call(e))},l.playbackStartTime=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._currentPlayer;if(e&&!j(e)&&!e.isLocalPlayer)return e.playbackStartTime();var t=N(e).streamInfo;return t?t.playbackStartTimeTicks:null},b.M.supports("remotecontrol")&&Promise.resolve().then(n.bind(n,44038)).then((function(e){var t=e.default;r.Events.on(t,"ServerShuttingDown",l.setDefaultPlayerActive.bind(l)),r.Events.on(t,"ServerRestarting",l.setDefaultPlayerActive.bind(l))}))}var t,l,c;return t=e,l=[{key:"getCurrentPlayer",value:function(){return this._currentPlayer}},{key:"currentTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._currentPlayer;return!e||j(e)||e.isLocalPlayer?this.getCurrentTicks(e)/1e4:e.currentTime()}},{key:"nextItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._currentPlayer;if(e&&!j(e))return e.nextItem();var t=this._playQueueManager.getNextItemInfo();if(!t||!t.item)return Promise.reject();var n=P.Z.getApiClient(t.item.ServerId);return n.getItem(n.getCurrentUserId(),t.item.Id)}},{key:"canQueue",value:function(e){return"MusicAlbum"===e.Type||"MusicArtist"===e.Type||"MusicGenre"===e.Type?this.canQueueMediaType("Audio"):this.canQueueMediaType(e.MediaType)}},{key:"canQueueMediaType",value:function(e){return!!this._currentPlayer&&this._currentPlayer.canPlayMediaType(e)}},{key:"isMuted",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._currentPlayer;return!!e&&e.isMuted()}},{key:"setMute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._currentPlayer;t&&t.setMute(e)}},{key:"toggleMute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._currentPlayer;t&&(t.toggleMute?t.toggleMute():t.setMute(!t.isMuted()))}},{key:"toggleDisplayMirroring",value:function(){this.enableDisplayMirroring(!this.enableDisplayMirroring())}},{key:"enableDisplayMirroring",value:function(e){if(null==e)return"0"!==(i.Z.get("displaymirror")||"");var t=e?"1":"0";i.Z.set("displaymirror",t)}},{key:"nextChapter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._currentPlayer,t=this.currentItem(e),n=this.getCurrentTicks(e),r=(t.Chapters||[]).filter((function(e){return e.StartPositionTicks>n}))[0];r?this.seek(r.StartPositionTicks,e):this.nextTrack(e)}},{key:"previousChapter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._currentPlayer,t=this.currentItem(e),n=this.getCurrentTicks(e);n-=1e8,0===this.getCurrentPlaylistIndex(e)&&(n=Math.max(n,0));var r=(t.Chapters||[]).filter((function(e){return e.StartPositionTicks<=n}));r.length?this.seek(r[r.length-1].StartPositionTicks,e):this.previousTrack(e)}},{key:"fastForward",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._currentPlayer;if(null==e.fastForward){var t=1e4*y.skipForwardLength();this.seekRelative(t,e)}else e.fastForward(y.skipForwardLength())}},{key:"rewind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._currentPlayer;if(null==e.rewind){var t=0-1e4*y.skipBackLength();this.seekRelative(t,e)}else e.rewind(y.skipBackLength())}},{key:"seekPercent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._currentPlayer,n=this.duration(t)||0;n*=e/=100,this.seek(parseInt(n),t)}},{key:"seekMs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._currentPlayer,n=1e4*e;this.seek(n,t)}},{key:"playTrailers",value:(c=E(T().mark((function e(t){var n,r,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this._currentPlayer)||!n.playTrailers){e.next=3;break}return e.abrupt("return",n.playTrailers(t));case 3:if(r=P.Z.getApiClient(t.ServerId),!t.LocalTrailerCount){e.next=8;break}return e.next=7,r.getLocalTrailers(r.getCurrentUserId(),t.Id);case 7:a=e.sent;case 8:if(a&&a.length||(a=(t.RemoteTrailers||[]).map((function(e){return{Name:e.Name||t.Name+" Trailer",Url:e.Url,MediaType:"Video",Type:"Trailer",ServerId:r.serverId()}}))),!a.length){e.next=11;break}return e.abrupt("return",this.play({items:a}));case 11:return e.abrupt("return",Promise.reject());case 12:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"getSubtitleUrl",value:function(e,t){var n=P.Z.getApiClient(t);return e.IsExternalUrl?e.DeliveryUrl:n.getUrl(e.DeliveryUrl)}},{key:"stop",value:function(e){return(e=e||this._currentPlayer)?(j(e)&&(this._playNextAfterEnded=!1),e.stop(!0,!0)):Promise.resolve()}},{key:"getBufferedRanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._currentPlayer;return e&&e.getBufferedRanges?e.getBufferedRanges():[]}},{key:"playPause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._currentPlayer;if(e)return e.playPause?e.playPause():e.paused()?this.unpause(e):this.pause(e)}},{key:"paused",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._currentPlayer;if(e)return e.paused()}},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._currentPlayer;e&&e.pause()}},{key:"unpause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._currentPlayer;e&&e.unpause()}},{key:"setPlaybackRate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._currentPlayer;t&&t.setPlaybackRate&&(t.setPlaybackRate(e),sessionStorage.setItem("playbackRateSpeed",e))}},{key:"getPlaybackRate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._currentPlayer;return e&&e.getPlaybackRate?e.getPlaybackRate():null}},{key:"instantMix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._currentPlayer;if(t&&t.instantMix)return t.instantMix(e);var n=P.Z.getApiClient(e.ServerId),r={};r.UserId=n.getCurrentUserId(),r.Limit=200;var a=this;n.getInstantMixFromItem(e.Id,r).then((function(e){a.play({items:e.Items})}))}},{key:"shuffle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._currentPlayer;return t&&t.shuffle?t.shuffle(e):this.play({items:[e],shuffle:!0})}},{key:"audioTracks",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._currentPlayer;if(e.audioTracks){var t=e.audioTracks();if(t)return t.sort(o.ZP.sortTracks)}var n=this.currentMediaSource(e),r=(n||{}).MediaStreams||[];return r.filter((function(e){return"Audio"===e.Type})).sort(o.ZP.sortTracks)}},{key:"subtitleTracks",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._currentPlayer;if(e.subtitleTracks){var t=e.subtitleTracks();if(t)return t.sort(o.ZP.sortTracks)}var n=this.currentMediaSource(e),r=(n||{}).MediaStreams||[];return r.filter((function(e){return"Subtitle"===e.Type})).sort(o.ZP.sortTracks)}},{key:"getSupportedCommands",value:function(e){if((e=e||this._currentPlayer||{isLocalPlayer:!0}).isLocalPlayer){var t=["GoHome","GoToSettings","VolumeUp","VolumeDown","Mute","Unmute","ToggleMute","SetVolume","SetAudioStreamIndex","SetSubtitleStreamIndex","SetMaxStreamingBitrate","DisplayContent","GoToSearch","DisplayMessage","SetRepeatMode","SetShuffleQueue","PlayMediaSource","PlayTrailers"];return b.M.supports("fullscreenchange")&&t.push("ToggleFullscreen"),e.supports&&(e.supports("PictureInPicture")&&t.push("PictureInPicture"),e.supports("AirPlay")&&t.push("AirPlay"),e.supports("SetBrightness")&&t.push("SetBrightness"),e.supports("SetAspectRatio")&&t.push("SetAspectRatio"),e.supports("PlaybackRate")&&t.push("PlaybackRate")),t}var n=this.getPlayerInfo();return n?n.supportedCommands:[]}},{key:"setRepeatMode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._currentPlayer;if(t&&!j(t))return t.setRepeatMode(e);this._playQueueManager.setRepeatMode(e),r.Events.trigger(t,"repeatmodechange")}},{key:"getRepeatMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._currentPlayer;return e&&!j(e)?e.getRepeatMode():this._playQueueManager.getRepeatMode()}},{key:"setQueueShuffleMode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._currentPlayer;if(t&&!j(t))return t.setQueueShuffleMode(e);this._playQueueManager.setShuffleMode(e),r.Events.trigger(t,"shufflequeuemodechange")}},{key:"getQueueShuffleMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._currentPlayer;return e&&!j(e)?e.getQueueShuffleMode():this._playQueueManager.getShuffleMode()}},{key:"toggleQueueShuffleMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._currentPlayer;if(e&&!j(e))switch(e.getQueueShuffleMode()){case"Shuffle":e.setQueueShuffleMode("Sorted");break;case"Sorted":e.setQueueShuffleMode("Shuffle");break;default:throw new TypeError("current value for shufflequeue is invalid")}else this._playQueueManager.toggleShuffleMode();r.Events.trigger(e,"shufflequeuemodechange")}},{key:"clearQueue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._currentPlayer;if(t&&!j(t))return t.clearQueue(e);this._playQueueManager.clearPlaylist(e),r.Events.trigger(t,"playlistitemremove")}},{key:"trySetActiveDeviceName",value:function(e){e=N(e);var t=this;t.getTargets().then((function(n){var r=n.filter((function(t){return N(t.name)===e}))[0];r&&t.trySetActivePlayer(r.playerName,r)}))}},{key:"displayContent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._currentPlayer;t&&t.displayContent&&t.displayContent(e)}},{key:"beginPlayerUpdates",value:function(e){e.beginPlayerUpdates&&e.beginPlayerUpdates()}},{key:"endPlayerUpdates",value:function(e){e.endPlayerUpdates&&e.endPlayerUpdates()}},{key:"setDefaultPlayerActive",value:function(){this.setActivePlayer("localplayer")}},{key:"removeActivePlayer",value:function(e){var t=this.getPlayerInfo();t&&t.name===e&&this.setDefaultPlayerActive()}},{key:"removeActiveTarget",value:function(e){var t=this.getPlayerInfo();t&&t.id===e&&this.setDefaultPlayerActive()}},{key:"sendCommand",value:function(e,t){switch(console.debug("MediaController received command: "+e.Name),e.Name){case"SetRepeatMode":this.setRepeatMode(e.Arguments.RepeatMode,t);break;case"SetShuffleQueue":this.setQueueShuffleMode(e.Arguments.ShuffleMode,t);break;case"VolumeUp":this.volumeUp(t);break;case"VolumeDown":this.volumeDown(t);break;case"Mute":this.setMute(!0,t);break;case"Unmute":this.setMute(!1,t);break;case"ToggleMute":this.toggleMute(t);break;case"SetVolume":this.setVolume(e.Arguments.Volume,t);break;case"SetAspectRatio":this.setAspectRatio(e.Arguments.AspectRatio,t);break;case"PlaybackRate":this.setPlaybackRate(e.Arguments.PlaybackRate,t);break;case"SetBrightness":this.setBrightness(e.Arguments.Brightness,t);break;case"SetAudioStreamIndex":this.setAudioStreamIndex(parseInt(e.Arguments.Index),t);break;case"SetSubtitleStreamIndex":this.setSubtitleStreamIndex(parseInt(e.Arguments.Index),t);break;case"SetMaxStreamingBitrate":this.setMaxStreamingBitrate(parseInt(e.Arguments.Bitrate),t);break;case"ToggleFullscreen":this.toggleFullscreen(t);break;default:t.sendCommand&&t.sendCommand(e)}}}],l&&O(t.prototype,l),Object.defineProperty(t,"prototype",{writable:!1}),e}(),re=new ne;window.addEventListener("beforeunload",(function(){try{re.onAppClose()}catch(e){console.error("error in onAppClose: "+e)}}))},68156:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S},show:function(){return w}}),n(5769),n(27471),n(61013),n(63238),n(61418),n(17460),n(14078),n(52327),n(98010);var r=n(59858),a=n(47005),i=n(57366),o=n(51161),s=n(48957),l=n(67932),c=n(52050),u=n(94994),d=n(84881),f=n(18613);function h(){return"undefined"!=typeof Storage}try{var p=f.Z.currentApiClient();p&&h()&&a.Events.on(p,"websocketopen",(function(){var e=localStorage.getItem("autocastPlayerId");s.O.getTargets().then((function(t){for(var n=0;n<t.length;n++)if(t[n].id==e){s.O.trySetActivePlayer(t[n].playerName,t[n]);break}}))}))}catch(e){console.warn("Could not get current apiClient",e)}n(25141),n(38228);var m=n(56809),y=n(48102);function v(e){if(e&&s.O.enableDisplayMirroring()){var t=s.O.getPlayerInfo();t&&(t.isLocalPlayer||-1===t.supportedCommands.indexOf("DisplayContent")||function(e,t){var n=e.item;s.O.displayContent({ItemName:n.Name,ItemId:n.Id,ItemType:n.Type,Context:e.context},t)}(e,s.O.getCurrentPlayer()))}}function g(){}function b(e){var t=e.deviceType;switch(!t&&e.isLocalPlayer&&(t=i.Z.tv?"tv":i.Z.mobile?"smartphone":"desktop"),t||(t="tv"),t){case"smartphone":return"smartphone";case"tablet":return"tablet";case"tv":default:return"tv";case"cast":return"cast";case"desktop":return"computer"}}function w(e){var t=s.O.getPlayerInfo();if(!t||t.isLocalPlayer){var r=t?t.id:null;o.ZP.show(),s.O.getTargets().then((function(t){var a=t.map((function(e){var t,n=e.name;return e.appName&&e.appName!==e.name&&(n+=" - "+e.appName),{name:n,id:e.id,selected:r===e.id,secondaryText:(t=e,t.user?t.user.Name:null),icon:b(e)}}));Promise.resolve().then(n.bind(n,27074)).then((function(n){o.ZP.hide();var r={title:u.ZP.translate("HeaderPlayOn"),items:a,positionTo:e,resolveOnClick:!0,border:!0};!i.Z.chrome&&!i.Z.edgeChromium||d.M.supports("castmenuhashchange")||(r.enableHistory=!1),!!l.E.plugins.find((function(e){return"chromecast"===e.id}))||(r.text="(".concat(u.ZP.translate("GoogleCastUnsupported"),")")),n.show(r).then((function(e){var n=t.filter((function(t){return t.id===e}))[0];s.O.trySetActivePlayer(n.playerName,n),v()}),g)}))}))}else!function(e){var t="",n=y.default.createDialog({removeOnClose:!0,modal:!1,entryAnimationDuration:160,exitAnimationDuration:160,autoFocus:!1});n.classList.add("promptDialog");var r=e.deviceName||e.name;if(t+='<div class="promptDialogContent" style="padding:1.5em;">',t+='<h2 style="margin-top:.5em;">',t+=r,t+="</h2>",t+="<div>",-1!==e.supportedCommands.indexOf("DisplayContent")&&(t+='<label class="checkboxContainer">',t+='<input type="checkbox" is="emby-checkbox" class="chkMirror"'+(s.O.enableDisplayMirroring()?" checked":"")+"/>",t+="<span>"+u.ZP.translate("EnableDisplayMirroring")+"</span>",t+="</label>"),t+="</div>",h()){t+='<div><label class="checkboxContainer">';var a=function(){if(!h())return!1;var e=localStorage.getItem("autocastPlayerId"),t=s.O.getPlayerInfo();return t&&e&&t.id===e}()?" checked":"";t+='<input type="checkbox" is="emby-checkbox" class="chkAutoCast"'+a+"/>",t+="<span>"+u.ZP.translate("EnableAutoCast")+"</span>",t+="</label></div>"}t+='<div style="margin-top:1em;display:flex;justify-content: flex-end;">',t+='<button is="emby-button" type="button" class="button-flat btnRemoteControl promptDialogButton">'+u.ZP.translate("HeaderRemoteControl")+"</button>",t+='<button is="emby-button" type="button" class="button-flat btnDisconnect promptDialogButton ">'+u.ZP.translate("Disconnect")+"</button>",t+='<button is="emby-button" type="button" class="button-flat btnCancel promptDialogButton">'+u.ZP.translate("ButtonCancel")+"</button>",t+="</div>",t+="</div>",n.innerHTML=t;var i=n.querySelector(".chkMirror");i&&i.addEventListener("change",P);var o=n.querySelector(".chkAutoCast");o&&o.addEventListener("change",k);var l="",d=n.querySelector(".btnRemoteControl");d&&d.addEventListener("click",(function(){l="nowplaying",y.default.close(n)})),n.querySelector(".btnDisconnect").addEventListener("click",(function(){l="disconnectFromPlayer",y.default.close(n)})),n.querySelector(".btnCancel").addEventListener("click",(function(){y.default.close(n)})),y.default.open(n).then((function(){"nowplaying"===l?c.appRouter.showNowPlaying():"disconnectFromPlayer"===l&&function(e){if(-1!==s.O.getSupportedCommands().indexOf("EndSession")){var t=[];t.push({name:u.ZP.translate("Yes"),id:"yes"}),t.push({name:u.ZP.translate("No"),id:"no"}),m.Z.show({buttons:t,text:u.ZP.translate("ConfirmEndPlayerSession",e)}).then((function(e){switch(e){case"yes":s.O.getCurrentPlayer().endSession(),s.O.setDefaultPlayerActive();break;case"no":s.O.setDefaultPlayerActive()}}))}else s.O.setDefaultPlayerActive()}(r)}),g)}(t)}function P(){s.O.enableDisplayMirroring(this.checked)}function k(){!function(e){if(h())if(e){var t=s.O.getPlayerInfo();t&&t.id&&localStorage.setItem("autocastPlayerId",t.id)}else localStorage.removeItem("autocastPlayerId")}(this.checked)}document.addEventListener("viewshow",(function(e){var t=(e.detail.state||{}).item;t&&t.ServerId&&v({item:t})})),a.Events.on(r.Z,"change",(function(e,t){"displaymirror"===t&&v()})),a.Events.on(s.O,"pairing",(function(){o.ZP.show()})),a.Events.on(s.O,"paired",(function(){o.ZP.hide()})),a.Events.on(s.O,"pairerror",(function(){o.ZP.hide()}));var S={show:w}},67932:function(e,t,n){"use strict";n.d(t,{E:function(){return j}}),n(99785),n(25901),n(92189),n(91047),n(98521),n(6798),n(82923),n(21897),n(12274),n(55849),n(50987),n(60190),n(72410),n(5769),n(63238),n(61418),n(17460),n(14078),n(98010),n(95623),n(61514),n(12133),n(90938),n(58112);var r=n(47005),a=n(94994),i=n(51161),o=n(59858),s=n(48957),l=n(84881),c=n(52050),u=n(58517),d=n(29016),f=n(3137);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function p(){p=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,i=Object.create(a.prototype),o=new I(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function f(){}function m(){}var y={};s(y,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(C([])));g&&g!==t&&n.call(g,a)&&(y=g);var b=m.prototype=d.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(a,i,o,s){var l=c(e[a],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==h(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,s)}))}s(l.arg)}var a;this._invoke=function(e,n){function i(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(i,i):i()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=m,s(b,"constructor",m),s(m,"constructor",f),f.displayName=s(m,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(P.prototype),s(P.prototype,i,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new P(l(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),s(b,o,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function m(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){m(i,r,a,o,s,"next",e)}function s(e){m(i,r,a,o,s,"throw",e)}o(void 0)}))}}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function b(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var w=(new Date).getTime(),P=new WeakSet,k=new WeakSet,S=new WeakSet,x=new WeakSet,I=new WeakSet,C=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),g(this,I),g(this,x),g(this,S),g(this,k),g(this,P),n=[],(t="pluginsList")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}var t,h,m;return t=e,h=[{key:"plugins",get:function(){return this.pluginsList}},{key:"loadPlugin",value:(m=y(p().mark((function e(t){var h,m,y,v,g;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=23;break}if(!(t in window)){e.next=16;break}return console.log("Loading plugin (via window): ".concat(t)),e.next=5,window[t];case 5:if("function"==typeof(m=e.sent)){e.next=8;break}throw new TypeError("Plugin definitions in window have to be an (async) function returning the plugin class");case 8:return e.next=10,m();case 10:if("function"==typeof(y=e.sent)){e.next=13;break}throw new TypeError("Plugin definition doesn't return a class for '".concat(t,"'"));case 13:h=new y({events:r.Events,loading:i.ZP,appSettings:o.Z,playbackManager:s.O,globalize:a.ZP,appHost:l.M,appRouter:c.appRouter,inputManager:u,toast:d.Z,confirm:f.Z}),e.next=21;break;case 16:return console.debug("Loading plugin (via dynamic import): ".concat(t)),e.next=19,n(72982)("./".concat(t));case 19:v=e.sent,h=new v.default;case 21:e.next=32;break;case 23:if(!t.then){e.next=31;break}return console.debug("Loading plugin (via promise/async function)"),e.next=27,t;case 27:g=e.sent,h=new g.default,e.next=32;break;case 31:throw new TypeError("Plugins have to be a Promise that resolves to a plugin builder function");case 32:return e.abrupt("return",b(this,S,A).call(this,t,h));case 33:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"ofType",value:function(e){return this.pluginsList.filter((function(t){return t.type===e}))}},{key:"mapPath",value:function(e,t,n){"string"==typeof e&&(e=this.pluginsList.filter((function(t){return(t.id||t.packageName)===e}))[0]);var r=e.baseUrl+"/"+t;return n&&(r+=r.includes("?")?"&":"?",r+="v="+w),r}}],h&&v(t.prototype,h),Object.defineProperty(t,"prototype",{writable:!1}),e}();function T(e){var t=e.getTranslations?e.getTranslations():[];return a.ZP.loadStrings({name:e.id||e.packageName,strings:t})}function L(e){return E.apply(this,arguments)}function E(){return(E=y(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(this,x,O).call(this,t),"skin"!==t.type){e.next=5;break}return e.abrupt("return",t);case 5:return e.abrupt("return",b(this,P,T).call(this,t));case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function A(e,t){return Z.apply(this,arguments)}function Z(){return(Z=y(p().mark((function e(t,n){var r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=7;break}if(!this.plugins.filter((function(e){return e.id===n.id}))[0]){e.next=4;break}return e.abrupt("return",t);case 4:n.installUrl=t,r=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\")),n.baseUrl=t.substring(0,r);case 7:return e.abrupt("return",b(this,k,L).call(this,n));case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function O(e){this.pluginsList.push(e),r.Events.trigger(this,"registered",[e])}var j=new C},30531:function(e,t,n){"use strict";n.r(t),n(63238),n(61418);var r=n(94994),a=n(51161),i=n(18613),o=n(29016),s=n(3137),l=n(56809);function c(e,t,n,i){return a.ZP.show(),e.getItem(e.getCurrentUserId(),n).then((function(s){return s.IsSeries?e.getNewLiveTvTimerDefaults({programId:n}).then((function(t){return e.createLiveTvSeriesTimer(t).then((function(){a.ZP.hide(),(0,o.Z)(r.ZP.translate("SeriesRecordingScheduled"))}))})):i?u(t,e.serverId()):d(e.serverId(),t,!0)}))}function u(e,t){return new Promise((function(n,o){(0,s.Z)({text:r.ZP.translate("MessageConfirmRecordingCancellation"),primary:"delete",confirmText:r.ZP.translate("HeaderCancelRecording"),cancelText:r.ZP.translate("HeaderKeepRecording")}).then((function(){a.ZP.show(),d(i.Z.getApiClient(t),e,!0).then(n,o)}),o)}))}function d(e,t,n){return a.ZP.show(),e.cancelLiveTvTimer(t).then((function(){!1!==n&&(a.ZP.hide(),(0,o.Z)(r.ZP.translate("RecordingCancelled")))}))}function f(e,t,n){return a.ZP.show(),e.getNewLiveTvTimerDefaults({programId:t}).then((function(t){return(n?e.createLiveTvSeriesTimer(t):e.createLiveTvTimer(t)).then((function(){a.ZP.hide(),(0,o.Z)(r.ZP.translate("RecordingScheduled"))}))}))}t.default={cancelTimer:d,createRecording:f,changeRecordingToSeries:c,toggleRecording:function(e,t,n,s,u){var h=i.Z.getApiClient(e),p=n&&"Cancelled"!==s;return u&&p?function(e,t,n,s,c){return new Promise((function(t,u){var f=[];f.push({name:r.ZP.translate("HeaderKeepRecording"),id:"cancel",type:"submit"}),"InProgress"===s?f.push({name:r.ZP.translate("HeaderStopRecording"),id:"canceltimer",type:"cancel"}):f.push({name:r.ZP.translate("HeaderCancelRecording"),id:"canceltimer",type:"cancel"}),f.push({name:r.ZP.translate("HeaderCancelSeries"),id:"cancelseriestimer",type:"cancel"}),l.Z.show({text:r.ZP.translate("MessageConfirmRecordingCancellation"),buttons:f}).then((function(s){var l=i.Z.getApiClient(e);"canceltimer"===s?(a.ZP.show(),d(l,n,!0).then(t,u)):"cancelseriestimer"===s?(a.ZP.show(),l.cancelLiveTvSeriesTimer(c).then((function(){(0,o.Z)(r.ZP.translate("SeriesCancelled")),a.ZP.hide(),t()}),u)):t()}),u)}))}(e,0,n,s,u):p&&t?c(h,n,t,!0):t?f(h,t):Promise.reject()},cancelTimerWithConfirmation:u,cancelSeriesTimerWithConfirmation:function(e,t){return new Promise((function(n,l){(0,s.Z)({text:r.ZP.translate("MessageConfirmRecordingCancellation"),primary:"delete",confirmText:r.ZP.translate("HeaderCancelSeries"),cancelText:r.ZP.translate("HeaderKeepSeries")}).then((function(){a.ZP.show(),i.Z.getApiClient(t).cancelLiveTvSeriesTimer(e).then((function(){(0,o.Z)(r.ZP.translate("SeriesCancelled")),a.ZP.hide(),n()}),l)}),l)}))}}},61008:function(e,t,n){"use strict";n(5769),n(63238),n(61418),n(17460),n(14078),n(48410),n(32081),n(23938);var r=n(48957),a=n(58517),i=n(52050),o=n(94994),s=n(72365),l=n(30531),c=n(18613),u=n(29016);function d(e,t,n){for(var a,i=e.parentNode,o=e.classList.length?".".concat(e.classList[0]):"",l=i.querySelectorAll("".concat(o,"[data-id]")),c=[],u=!1,d=0,f=l.length;d<f;d++)l[d]===e&&(u=!0,a=d),!u&&n||c.push(l[d].getAttribute("data-id"));var h=s.ZP.parentWithClass(e,"itemsContainer");if(h&&h.fetchData){var p=n?{StartIndex:a}:{};return h.fetchData(p).then((function(e){return n?r.O.queue({items:e.Items}):r.O.play({items:e.Items,startIndex:a})}))}if(c.length)return n?r.O.queue({ids:c,serverId:t}):r.O.play({ids:c,serverId:t,startIndex:a})}function f(e){var t=(e=s.ZP.parentWithAttribute(e,"data-id")).getAttribute("data-serverid"),n=e.getAttribute("data-id"),r=e.getAttribute("data-type"),a=c.Z.getApiClient(t);return"Timer"===r?a.getLiveTvTimer(n):"SeriesTimer"===r?a.getLiveTvSeriesTimer(n):a.getItem(a.getCurrentUserId(),n)}function h(e){return{Type:e.getAttribute("data-type"),Id:e.getAttribute("data-id"),TimerId:e.getAttribute("data-timerid"),CollectionType:e.getAttribute("data-collectiontype"),ChannelId:e.getAttribute("data-channelid"),SeriesId:e.getAttribute("data-seriesid"),ServerId:e.getAttribute("data-serverid"),MediaType:e.getAttribute("data-mediatype"),Path:e.getAttribute("data-path"),IsFolder:"true"===e.getAttribute("data-isfolder"),StartDate:e.getAttribute("data-startdate"),EndDate:e.getAttribute("data-enddate"),UserData:{PlaybackPositionTicks:parseInt(e.getAttribute("data-positionticks")||"0")}}}function p(e,t,a){t=t||e;var v=e.getAttribute("data-id");v||(v=(e=s.ZP.parentWithAttribute(e,"data-id")).getAttribute("data-id"));var g=h(e),b=g.ServerId,w=g.Type,P="Program"===w?g.ChannelId:g.Id;if("Photo"===g.MediaType&&"link"===a&&(a="play"),"link"===a)i.appRouter.showItem(g,{context:e.getAttribute("data-context"),parentId:e.getAttribute("data-parentid")});else if("programdialog"===a)!function(e){Promise.all([n.e(241),n.e(9553)]).then(n.bind(n,45012)).then((function(t){t.default.show(e.Id,e.ServerId)}))}(g);else if("instantmix"===a)r.O.instantMix({Id:P,ServerId:b});else if("play"===a||"resume"===a){var k=parseInt(e.getAttribute("data-positionticks")||"0");r.O.canPlay(g)?r.O.play({ids:[P],startPositionTicks:k,serverId:b}):console.warn("Unable to play item",g)}else if("queue"===a)r.O.isPlaying()?(r.O.queue({ids:[P],serverId:b}),(0,u.Z)(o.ZP.translate("MediaQueued"))):r.O.queue({ids:[P],serverId:b});else if("playallfromhere"===a)d(e,b);else if("queueallfromhere"===a)d(e,b,!0);else if("setplaylistindex"===a)r.O.setCurrentPlaylistItem(e.getAttribute("data-playlistitemid"));else if("record"===a)!function(e,t,n,r,a){if("Program"===n||r||a){var i="Program"===n?t:null;l.default.toggleRecording(e,i,r,a)}}(b,v,w,e.getAttribute("data-timerid"),e.getAttribute("data-seriestimerid"));else if("menu"===a){var S="false"===t.getAttribute("data-playoptions")?{shuffle:!1,instantMix:!1,play:!1,playAllFromHere:!1,queue:!1,queueAllFromHere:!1}:{};S.positionTo=t,function(e,t){f(e).then((function(r){var a=e.getAttribute("data-playlistid"),i=e.getAttribute("data-collectionid");if(a){var o=s.ZP.parentWithAttribute(e,"data-playlistitemid");r.PlaylistItemId=o?o.getAttribute("data-playlistitemid"):null}n.e(9337).then(n.bind(n,9337)).then((function(n){c.Z.getApiClient(r.ServerId).getCurrentUser().then((function(o){n.show(Object.assign({item:r,play:!0,queue:!0,playAllFromHere:!r.IsFolder,queueAllFromHere:!r.IsFolder,playlistId:a,collectionId:i,user:o},t||{})).then((function(n){var r,a;"playallfromhere"===n.command||"queueallfromhere"===n.command?p(e,t.positionTo,n.command):(n.updated||n.deleted)&&(r=e,(a=(a=t.itemsContainer)||s.ZP.parentWithAttribute(r,"is","emby-itemscontainer"))&&a.notifyRefreshNeeded(!0))}))}))}))}))}(e,S)}else if("playmenu"===a)!function(e,t){var r=h(e);n.e(3273).then(n.bind(n,95004)).then((function(e){e.show({item:r,positionTo:t})}))}(e,t);else if("edit"===a)f(t).then((function(e){!function(e,t){var r=c.Z.getApiClient(t);new Promise((function(t,a){var i=r.serverInfo().Id;"Timer"===e.Type?e.ProgramId?Promise.all([n.e(241),n.e(9553)]).then(n.bind(n,45012)).then((function(n){n.default.show(e.ProgramId,i).then(t,a)})):n.e(1341).then(n.bind(n,21341)).then((function(n){n.default.show(e.Id,i).then(t,a)})):n.e(4076).then(n.bind(n,64076)).then((function(n){n.default.show(e.Id,i).then(t,a)}))}))}(e,b)}));else if("playtrailer"===a)f(t).then(y);else if("addtoplaylist"===a)f(t).then(m);else if("custom"===a){var x=t.getAttribute("data-customaction");e.dispatchEvent(new CustomEvent("action-".concat(x),{detail:{playlistItemId:e.getAttribute("data-playlistitemid")},cancelable:!1,bubbles:!0}))}}function m(e){n.e(3126).then(n.bind(n,43126)).then((function(t){(new(0,t.default)).show({items:[e.Id],serverId:e.ServerId})}))}function y(e){var t=c.Z.getApiClient(e.ServerId);t.getLocalTrailers(t.getCurrentUserId(),e.Id).then((function(e){r.O.play({items:e})}))}function v(e){var t=s.ZP.parentWithClass(e.target,"itemAction");if(t){var n=t,r=n.getAttribute("data-action");if(r||(n=s.ZP.parentWithAttribute(n,"data-action"))&&(r=n.getAttribute("data-action")),r)return p(t,n,r),e.preventDefault(),e.stopPropagation(),!1}}function g(e){var t=e.detail.command;if("play"===t||"resume"===t||"record"===t||"menu"===t||"info"===t){var n=e.target,r=s.ZP.parentWithClass(n,"itemAction")||s.ZP.parentWithAttribute(n,"data-id");r&&(e.preventDefault(),e.stopPropagation(),p(r,r,t))}}t.ZP={on:function(e,t){!1!==(t=t||{}).click&&e.addEventListener("click",v),!1!==t.command&&a.default.on(e,g)},off:function(e,t){t=t||{},e.removeEventListener("click",v),!1!==t.command&&a.default.off(e,g)},onClick:v,getShortcutAttributesHtml:function(e,t){var n='data-id="'.concat(e.Id,'" data-serverid="').concat(t||e.ServerId,'" data-type="').concat(e.Type,'" data-mediatype="').concat(e.MediaType,'" data-channelid="').concat(e.ChannelId,'" data-isfolder="').concat(e.IsFolder,'"'),r=e.CollectionType;return r&&(n+=' data-collectiontype="'.concat(r,'"')),n}}},33761:function(e,t,n){"use strict";n.d(t,{$:function(){return i},L:function(){return o}});var r=n(59858),a="syncPlay";function i(e){return r.Z.get(e,a)}function o(e,t){return r.Z.set(e,t,a)}},99294:function(e,t,n){"use strict";n.d(t,{Z:function(){return ae}});var r={};n.r(r),n.d(r,{TicksPerMillisecond:function(){return s},WaitForEventDefaultTimeout:function(){return i},WaitForPlayerEventTimeout:function(){return o},getItemsForPlayback:function(){return u},stringToGuid:function(){return c},translateItemsForPlayback:function(){return d},waitForEventOnce:function(){return l}}),n(63238),n(61418),n(55849),n(52077),n(911),n(48410),n(27471),n(69217),n(61013),n(98010);var a=n(47005),i=3e4,o=500,s=1e4;function l(e,t,n,r){var i=arguments;return new Promise((function(o,s){var l;n&&(l=setTimeout((function(){s("Timed out.")}),n));var c=function(){a.Events.off(e,t,u),l&&clearTimeout(l),Array.isArray(r)&&r.forEach((function(t){a.Events.off(e,t,d)}))},u=function(){c(),o(i)},d=function(e){c(),s(e.type)};a.Events.on(e,t,u),Array.isArray(r)&&r.forEach((function(t){a.Events.on(e,t,d)}))}))}function c(e){return e.replace(/([0-z]{8})([0-z]{4})([0-z]{4})([0-z]{4})([0-z]{12})/,"$1-$2-$3-$4-$5")}function u(e,t){if(t.Ids&&1===t.Ids.split(",").length){var n=t.Ids.split(",");return e.getItem(e.getCurrentUserId(),n).then((function(e){return{Items:[e]}}))}return t.Limit=t.Limit||300,t.Fields="Chapters",t.ExcludeLocationTypes="Virtual",t.EnableTotalRecordCount=!1,t.CollapseBoxSetItems=!1,e.getItems(e.getCurrentUserId(),t)}function d(e,t,n){t.length>1&&n&&n.ids&&t.sort((function(e,t){return n.ids.indexOf(e.Id)-n.ids.indexOf(t.Id)}));var r,a,i,o,s,l=t[0],c=n.queryOptions||{};if("Program"===l.Type)r=u(e,{Ids:l.ChannelId});else if("Playlist"===l.Type)r=u(e,{ParentId:l.Id,SortBy:n.shuffle?"Random":null});else if("MusicArtist"===l.Type)r=u(e,{ArtistIds:l.Id,Filters:"IsNotFolder",Recursive:!0,SortBy:n.shuffle?"Random":"SortName",MediaTypes:"Audio"});else if("Photo"===l.MediaType)r=u(e,{ParentId:l.ParentId,Filters:"IsNotFolder",Recursive:!1,SortBy:n.shuffle?"Random":"SortName",MediaTypes:"Photo,Video"}).then((function(e){var t=e.Items.map((function(e){return e.Id})).indexOf(l.Id);return-1===t&&(t=0),n.startIndex=t,Promise.resolve(e)}));else if("PhotoAlbum"===l.Type)r=u(e,{ParentId:l.Id,Filters:"IsNotFolder",Recursive:!1,SortBy:n.shuffle?"Random":"SortName",MediaTypes:"Photo,Video",Limit:1e3});else if("MusicGenre"===l.Type)r=u(e,{GenreIds:l.Id,Filters:"IsNotFolder",Recursive:!0,SortBy:n.shuffle?"Random":"SortName",MediaTypes:"Audio"});else if(l.IsFolder){var d=null;n.shuffle?d="Random":"BoxSet"===l.Type&&(d="SortName"),r=u(e,(a={ParentId:l.Id,Filters:"IsNotFolder",Recursive:!0,SortBy:d,MediaTypes:"Audio,Video"},i=c,-1===(s=(o=Object.assign(a,i)).Filters?o.Filters.split(","):[]).indexOf("IsNotFolder")&&s.push("IsNotFolder"),o.Filters=s.join(","),o))}else"Episode"===l.Type&&1===t.length&&(r=new Promise((function(t,n){e.getCurrentUser().then((function(r){r.Configuration.EnableNextEpisodeAutoPlay&&l.SeriesId?e.getEpisodes(l.SeriesId,{IsVirtualUnaired:!1,IsMissing:!1,UserId:e.getCurrentUserId(),Fields:"Chapters"}).then((function(e){var n=!1;e.Items=e.Items.filter((function(e){return!!n||e.Id===l.Id&&(n=!0,!0)})),e.TotalRecordCount=e.Items.length,t(e)}),n):t(null)}))})));return r?r.then((function(e){return e?e.Items:t})):Promise.resolve(t)}n(23938),n(32081),n(76056),n(99785);var f=n(59858),h=n(98555),p=n(33761);function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n(50987),n(12274),n(3214),n(25901),n(92189),n(91047),n(5769),n(17460),n(14078),n(72410),n(61370);var g=function(){function e(t,n,r,a){m(this,e),this.requestSent=t.getTime(),this.requestReceived=n.getTime(),this.responseSent=r.getTime(),this.responseReceived=a.getTime()}return v(e,[{key:"getOffset",value:function(){return(this.requestReceived-this.requestSent+(this.responseSent-this.responseReceived))/2}},{key:"getDelay",value:function(){return this.responseReceived-this.requestSent-(this.responseSent-this.requestReceived)}},{key:"getPing",value:function(){return this.getDelay()/2}}]),e}();function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function k(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(o,e);var t,n,r,a,i=(r=o,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(a){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return k(this,e)});function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.call(this,e)}return t=o,(n=[{key:"requestPing",value:function(){var e,t=this.manager.getApiClient(),n=new Date;return t.getServerTime().then((function(t){return e=new Date,t.json()})).then((function(t){var r=new Date(t.RequestReceptionTime),a=new Date(t.ResponseTransmissionTime);return Promise.resolve({requestSent:n,requestReceived:r,responseSent:a,responseReceived:e})}))}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(function(){function e(t){m(this,e),this.manager=t,this.pingStop=!0,this.pollingInterval=1e3,this.poller=null,this.pings=0,this.measurement=null,this.measurements=[]}return v(e,[{key:"isReady",value:function(){return!!this.measurement}},{key:"getTimeOffset",value:function(){return this.measurement?this.measurement.getOffset():0}},{key:"getPing",value:function(){return this.measurement?this.measurement.getPing():0}},{key:"updateTimeOffset",value:function(e){this.measurements.push(e),this.measurements.length>8&&this.measurements.shift();var t=this.measurements.slice(0);t.sort((function(e,t){return e.getDelay()-t.getDelay()})),this.measurement=t[0]}},{key:"requestPing",value:function(){return console.warn("SyncPlay TimeSync requestPing: override this method!"),Promise.reject("Not implemented.")}},{key:"internalRequestPing",value:function(){var e=this;this.poller||this.pingStop||(this.poller=setTimeout((function(){e.poller=null,e.requestPing().then((function(t){return e.onPingResponseCallback(t)})).catch((function(t){return e.onPingRequestErrorCallback(t)})).finally((function(){return e.internalRequestPing()}))}),this.pollingInterval))}},{key:"onPingResponseCallback",value:function(e){var t=e.requestSent,n=e.requestReceived,r=e.responseSent,i=e.responseReceived,o=new g(t,n,r,i);this.updateTimeOffset(o),this.pings>=3?this.pollingInterval=6e4:this.pings++,a.Events.trigger(this,"update",[null,this.getTimeOffset(),this.getPing()])}},{key:"onPingRequestErrorCallback",value:function(e){console.error(e),a.Events.trigger(this,"update",[e,null,null])}},{key:"resetMeasurements",value:function(){this.measurement=null,this.measurements=[]}},{key:"startPing",value:function(){this.pingStop=!1,this.internalRequestPing()}},{key:"stopPing",value:function(){this.pingStop=!0,this.poller&&(clearTimeout(this.poller),this.poller=null)}},{key:"forceUpdate",value:function(){this.stopPing(),this.pollingInterval=1e3,this.pings=0,this.startPing()}},{key:"remoteDateToLocal",value:function(e){return new Date(e.getTime()-this.getTimeOffset())}},{key:"localDateToRemote",value:function(e){return new Date(e.getTime()+this.getTimeOffset())}}]),e}());function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return new Date(e.getTime()+t)}var T=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.manager=null,this.timeSyncServer=null,this.timeSyncDeviceId=(0,p.$)("timeSyncDevice")||"server",this.extraTimeOffset=(0,h.f)((0,p.$)("extraTimeOffset"),0)}var t,n;return t=e,(n=[{key:"init",value:function(e){var t=this;this.manager=e,this.timeSyncServer=new x(e),a.Events.on(this.timeSyncServer,"update",(function(e,n,r,i){n?console.debug("SyncPlay TimeSyncCore: time sync with server issue:",n):a.Events.trigger(t,"time-sync-server-update",[r,i])})),a.Events.on(f.Z,"change",(function(e,n){"extraTimeOffset"===n&&(t.extraTimeOffset=(0,h.f)((0,p.$)("extraTimeOffset"),0))}))}},{key:"forceUpdate",value:function(){this.timeSyncServer.forceUpdate()}},{key:"getActiveDeviceName",value:function(){return"Server"}},{key:"remoteDateToLocal",value:function(e){return C(this.timeSyncServer.remoteDateToLocal(e),-this.extraTimeOffset)}},{key:"localDateToRemote",value:function(e){return C(this.timeSyncServer.localDateToRemote(e),this.extraTimeOffset)}},{key:"getTimeOffset",value:function(){return this.timeSyncServer.getTimeOffset()+this.extraTimeOffset}}])&&I(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),L=(n(98521),n(6798),n(82923),n(21897),n(60190),n(57366));function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function A(){A=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,i=Object.create(a.prototype),o=new S(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=w(o,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function f(){}function h(){}var p={};s(p,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(x([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=h.prototype=d.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(a,i,o,s){var l=c(e[a],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==E(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,s)}))}s(l.arg)}var a;this._invoke=function(e,n){function i(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return f.prototype=h,s(v,"constructor",h),s(h,"constructor",f),f.displayName=s(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,o,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),s(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new b(l(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),s(v,o,"Generator"),s(v,a,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function Z(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Z(i,r,a,o,s,"next",e)}function s(e){Z(i,r,a,o,s,"throw",e)}o(void 0)}))}}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var M=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.manager=null,this.timeSyncCore=null,this.syncEnabled=!1,this.playbackDiffMillis=0,this.syncAttempts=0,this.lastSyncTime=new Date,this.playerIsBuffering=!1,this.lastCommand=null,this.scheduledCommandTimeout=null,this.syncTimeout=null,this.loadPreferences()}var t,n,r,c,u;return t=e,n=[{key:"init",value:function(e){var t=this;this.manager=e,this.timeSyncCore=e.getTimeSyncCore(),a.Events.on(this.manager,"settings-update",(function(){t.loadPreferences()}))}},{key:"loadPreferences",value:function(){this.minDelaySpeedToSync=(0,h.f)((0,p.$)("minDelaySpeedToSync"),60),this.maxDelaySpeedToSync=(0,h.f)((0,p.$)("maxDelaySpeedToSync"),3e3),this.speedToSyncDuration=(0,h.f)((0,p.$)("speedToSyncDuration"),1e3),this.minDelaySkipToSync=(0,h.f)((0,p.$)("minDelaySkipToSync"),400),this.useSpeedToSync=(0,h.s)((0,p.$)("useSpeedToSync"),!0),this.useSkipToSync=(0,h.s)((0,p.$)("useSkipToSync"),!0),this.enableSyncCorrection=(0,h.s)((0,p.$)("enableSyncCorrection"),!(L.Z.mobile||L.Z.iOS))}},{key:"onPlaybackStart",value:function(e,t){a.Events.trigger(this.manager,"playbackstart",[e,t])}},{key:"onPlaybackStop",value:function(e){this.lastCommand=null,a.Events.trigger(this.manager,"playbackstop",[e])}},{key:"onUnpause",value:function(){a.Events.trigger(this.manager,"unpause")}},{key:"onPause",value:function(){a.Events.trigger(this.manager,"pause")}},{key:"onTimeUpdate",value:function(e,t){this.syncPlaybackTime(t),a.Events.trigger(this.manager,"timeupdate",[e,t])}},{key:"onReady",value:function(){this.playerIsBuffering=!1,this.sendBufferingRequest(!1),a.Events.trigger(this.manager,"ready")}},{key:"onBuffering",value:function(){this.playerIsBuffering=!0,this.sendBufferingRequest(!0),a.Events.trigger(this.manager,"buffering")}},{key:"sendBufferingRequest",value:(u=O(A().mark((function e(){var t,n,r,a,i,o,l,c,u,d,f=arguments;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(f.length>0&&void 0!==f[0])||f[0],!(n=this.manager.getPlayerWrapper()).currentTimeAsync){e.next=8;break}return e.next=5,n.currentTimeAsync();case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=n.currentTime();case 9:r=e.t0,a=Math.round(r*s),i=n.isPlaying(),o=new Date,l=this.timeSyncCore.localDateToRemote(o),c=this.manager.getQueueCore().getCurrentPlaylistItemId(),u={When:l.toISOString(),PositionTicks:a,IsPlaying:i,PlaylistItemId:c},d=this.manager.getApiClient(),t?d.requestSyncPlayBuffering(u):d.requestSyncPlayReady(u);case 18:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"isBuffering",value:function(){return this.playerIsBuffering}},{key:"applyCommand",value:(c=O(A().mark((function e(t){var n,r,a,i,o;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lastCommand||this.lastCommand.When.getTime()!==t.When.getTime()||this.lastCommand.PositionTicks!==t.PositionTicks||this.lastCommand.Command!==t.Command||this.lastCommand.PlaylistItemId!==t.PlaylistItemId){e.next=37;break}if(console.debug("SyncPlay applyCommand: duplicate command received!",t),n=new Date,!(this.timeSyncCore.remoteDateToLocal(t.When)>n)){e.next=9;break}return console.debug("SyncPlay applyCommand: command already scheduled.",t),e.abrupt("return");case 9:if(r=this.manager.getPlayerWrapper(),e.t0=Math,!r.currentTimeAsync){e.next=17;break}return e.next=14,r.currentTimeAsync();case 14:e.t1=e.sent,e.next=18;break;case 17:e.t1=r.currentTime();case 18:e.t2=e.t1,e.t3=s,e.t4=e.t2*e.t3,a=e.t0.round.call(e.t0,e.t4),i=r.isPlaying(),e.t5=t.Command,e.next="Unpause"===e.t5?26:"Pause"===e.t5?28:"Stop"===e.t5?30:"Seek"===e.t5?32:34;break;case 26:return i||this.scheduleUnpause(t.When,t.PositionTicks),e.abrupt("break",36);case 28:return(i||a!==t.PositionTicks)&&this.schedulePause(t.When,t.PositionTicks),e.abrupt("break",36);case 30:return i&&this.scheduleStop(t.When),e.abrupt("break",36);case 32:return i||a!==t.PositionTicks?(o=Math.round(100*(Math.random()-.5))*s,this.scheduleSeek(t.When,t.PositionTicks+o),console.debug("SyncPlay applyCommand: adding random offset to force seek:",o,t)):this.sendBufferingRequest(!1),e.abrupt("break",36);case 34:return console.error("SyncPlay applyCommand: command is not recognised:",t),e.abrupt("break",36);case 36:return e.abrupt("return");case 37:if(this.lastCommand=t,!this.manager.isRemote()){e.next=40;break}return e.abrupt("return");case 40:e.t6=t.Command,e.next="Unpause"===e.t6?43:"Pause"===e.t6?45:"Stop"===e.t6?47:"Seek"===e.t6?49:51;break;case 43:return this.scheduleUnpause(t.When,t.PositionTicks),e.abrupt("break",53);case 45:return this.schedulePause(t.When,t.PositionTicks),e.abrupt("break",53);case 47:return this.scheduleStop(t.When),e.abrupt("break",53);case 49:return this.scheduleSeek(t.When,t.PositionTicks),e.abrupt("break",53);case 51:return console.error("SyncPlay applyCommand: command is not recognised:",t),e.abrupt("break",53);case 53:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"scheduleUnpause",value:(r=O(A().mark((function e(t,n){var r,i,o,c,u,d,f,h=this;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.clearScheduledCommand(),r=this.maxDelaySpeedToSync/2,i=new Date,o=this.timeSyncCore.remoteDateToLocal(t),!(c=this.manager.getPlayerWrapper()).currentTimeAsync){e.next=11;break}return e.next=8,c.currentTimeAsync();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=c.currentTime();case 12:e.t1=e.t0,e.t2=s,u=e.t1*e.t2,o>i?(d=o-i,u-n>this.minDelaySkipToSync*s&&this.localSeek(n),this.scheduledCommandTimeout=setTimeout((function(){h.localUnpause(),a.Events.trigger(h.manager,"notify-osd",["unpause"]),h.syncTimeout=setTimeout((function(){h.syncEnabled=!0}),r)}),d),console.debug("Scheduled unpause in",d/1e3,"seconds.")):(f=this.estimateCurrentTicks(n,t),l(this.manager,"unpause").then((function(){h.localSeek(f)})),this.localUnpause(),setTimeout((function(){a.Events.trigger(h.manager,"notify-osd",["unpause"])}),100),this.syncTimeout=setTimeout((function(){h.syncEnabled=!0}),r),console.debug("SyncPlay scheduleUnpause: unpause now from ".concat(f," (was at ").concat(u,").")));case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"schedulePause",value:function(e,t){var n=this;this.clearScheduledCommand();var r=new Date,a=this.timeSyncCore.remoteDateToLocal(e),i=function(){l(n.manager,"pause",o).then((function(){n.localSeek(t)})).catch((function(){n.localSeek(t)})),n.localPause()};if(a>r){var s=a-r;this.scheduledCommandTimeout=setTimeout(i,s),console.debug("Scheduled pause in",s/1e3,"seconds.")}else i(),console.debug("SyncPlay schedulePause: now.")}},{key:"scheduleStop",value:function(e){var t=this;this.clearScheduledCommand();var n=new Date,r=this.timeSyncCore.remoteDateToLocal(e),a=function(){t.localStop()};if(r>n){var i=r-n;this.scheduledCommandTimeout=setTimeout(a,i),console.debug("Scheduled stop in",i/1e3,"seconds.")}else a(),console.debug("SyncPlay scheduleStop: now.")}},{key:"scheduleSeek",value:function(e,t){var n=this;this.clearScheduledCommand();var r=new Date,a=this.timeSyncCore.remoteDateToLocal(e),o=function(){n.localUnpause(),n.localSeek(t),l(n.manager,"ready",i).then((function(){n.localPause(),n.sendBufferingRequest(!1)})).catch((function(e){console.error("Timed out while waiting for 'ready' event! Seeking to ".concat(t,"."),e),n.localSeek(t)}))};if(a>r){var s=a-r;this.scheduledCommandTimeout=setTimeout(o,s),console.debug("Scheduled seek in",s/1e3,"seconds.")}else o(),console.debug("SyncPlay scheduleSeek: now.")}},{key:"clearScheduledCommand",value:function(){clearTimeout(this.scheduledCommandTimeout),clearTimeout(this.syncTimeout),this.syncEnabled=!1;var e=this.manager.getPlayerWrapper();e.hasPlaybackRate()&&e.setPlaybackRate(1),this.manager.clearSyncIcon()}},{key:"localUnpause",value:function(){if(this.manager.isPlaybackActive())return this.manager.getPlayerWrapper().localUnpause();console.debug("SyncPlay localUnpause: no active player!")}},{key:"localPause",value:function(){if(this.manager.isPlaybackActive())return this.manager.getPlayerWrapper().localPause();console.debug("SyncPlay localPause: no active player!")}},{key:"localSeek",value:function(e){if(this.manager.isPlaybackActive())return this.manager.getPlayerWrapper().localSeek(e);console.debug("SyncPlay localSeek: no active player!")}},{key:"localStop",value:function(){if(this.manager.isPlaybackActive())return this.manager.getPlayerWrapper().localStop();console.debug("SyncPlay localStop: no active player!")}},{key:"estimateCurrentTicks",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,r=this.timeSyncCore.localDateToRemote(n);return e+(r.getTime()-t.getTime())*s}},{key:"syncPlaybackTime",value:function(e){var t=this,n=this.maxDelaySpeedToSync,r=this.speedToSyncDuration;if(this.manager.isPlaybackActive()){var i=this.lastCommand;if(i&&"Unpause"===i.Command&&!this.isBuffering()){var o=this.manager.getQueueCore().getCurrentPlaylistItemId();if(i.PlaylistItemId===o){var l=e.currentTime,c=e.currentPosition*s,u=this.estimateCurrentTicks(i.PositionTicks,i.When,l),d=(u-c)/s;if(this.playbackDiffMillis=d,a.Events.trigger(this.manager,"playback-diff",[this.playbackDiffMillis]),!(l-this.lastSyncTime<n/2)){this.lastSyncTime=l;var f=this.manager.getPlayerWrapper();if(this.syncEnabled&&this.enableSyncCorrection){var h=Math.abs(d);if(f.hasPlaybackRate()&&this.useSpeedToSync&&h>=this.minDelaySpeedToSync&&h<this.maxDelaySpeedToSync){d<=.2*-r&&(r=Math.abs(d)/.8);var p=1+d/r;p<=0&&console.error("SyncPlay error: speed should not be negative!",p,d,r),f.setPlaybackRate(p),this.syncEnabled=!1,this.syncAttempts++,this.manager.showSyncIcon("SpeedToSync (x".concat(p.toFixed(2),")")),this.syncTimeout=setTimeout((function(){f.setPlaybackRate(1),t.syncEnabled=!0,t.manager.clearSyncIcon()}),r),console.log("SyncPlay SpeedToSync",p)}else this.useSkipToSync&&h>=this.minDelaySkipToSync?(this.localSeek(u),this.syncEnabled=!1,this.syncAttempts++,this.manager.showSyncIcon("SkipToSync (".concat(this.syncAttempts,")")),this.syncTimeout=setTimeout((function(){t.syncEnabled=!0,t.manager.clearSyncIcon()}),n/2),console.log("SyncPlay SkipToSync",u)):(this.syncAttempts>0&&console.debug("Playback has been synced after",this.syncAttempts,"attempts."),this.syncAttempts=0)}}}}}else console.debug("SyncPlay syncPlaybackTime: no active player!")}}],n&&j(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),N=M,D=n(94994),R=n(29016);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function q(){q=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,i=Object.create(a.prototype),o=new S(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=w(o,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function f(){}function h(){}var p={};s(p,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(x([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=h.prototype=d.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(a,i,o,s){var l=c(e[a],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==_(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,s)}))}s(l.arg)}var a;this._invoke=function(e,n){function i(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return f.prototype=h,s(v,"constructor",h),s(h,"constructor",f),f.displayName=s(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,o,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),s(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new b(l(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),s(v,o,"Generator"),s(v,a,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function B(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function F(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){B(i,r,a,o,s,"next",e)}function s(e){B(i,r,a,o,s,"throw",e)}o(void 0)}))}}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.manager=null,this.lastPlayQueueUpdate=null,this.playlist=[]}var t,n;return t=e,(n=[{key:"init",value:function(e){this.manager=e}},{key:"updatePlayQueue",value:function(e,t){var n=this;if(t.LastUpdate=new Date(t.LastUpdate),t.LastUpdate.getTime()<=this.getLastUpdateTime())console.debug("SyncPlay updatePlayQueue: ignoring old update",t);else{console.debug("SyncPlay updatePlayQueue:",t);var r=e.serverInfo().Id;this.onPlayQueueUpdate(e,t,r).then((function(r){if(t.LastUpdate.getTime()<n.getLastUpdateTime())throw console.warn("SyncPlay updatePlayQueue: trying to apply old update.",t),new Error("Trying to apply old update");if(n.manager.isRemote())console.warn("SyncPlay updatePlayQueue: remote player has own SyncPlay manager.");else{var a=n.manager.getPlayerWrapper();switch(t.Reason){case"NewPlaylist":n.manager.isFollowingGroupPlayback()?n.startPlayback(e):n.manager.followGroupPlayback(e).then((function(){n.startPlayback(e)}));break;case"SetCurrentItem":case"NextItem":case"PreviousItem":a.onQueueUpdate();var i=n.getCurrentPlaylistItemId();n.setCurrentPlaylistItem(e,i);break;case"RemoveItems":a.onQueueUpdate();var o=r.playQueueUpdate.PlayingItemIndex,s=-1===o?null:r.playlist[o].PlaylistItemId,l=n.getCurrentPlaylistItemId();s!==l&&n.setCurrentPlaylistItem(e,l);break;case"MoveItem":case"Queue":case"QueueNext":a.onQueueUpdate();break;case"RepeatMode":a.localSetRepeatMode(n.getRepeatMode());break;case"ShuffleMode":a.localSetQueueShuffleMode(n.getShuffleMode());break;default:console.error("SyncPlay updatePlayQueue: unknown reason for update:",t.Reason)}}})).catch((function(e){console.warn("SyncPlay updatePlayQueue:",e)}))}}},{key:"onPlayQueueUpdate",value:function(e,t,n){var r=this,a=this.lastPlayQueueUpdate,i=this.playlist,o=t.Playlist.map((function(e){return e.ItemId}));return o.length?u(e,{Ids:o.join(",")}).then((function(s){return d(e,s.Items,{ids:o,serverId:n}).then((function(e){if(r.lastPlayQueueUpdate&&t.LastUpdate.getTime()<=r.getLastUpdateTime())throw new Error("Trying to apply old update");for(var n=0;n<e.length;n++)e[n].PlaylistItemId=t.Playlist[n].PlaylistItemId;return r.lastPlayQueueUpdate=t,r.playlist=e,{playQueueUpdate:a,playlist:i}}))})):this.lastPlayQueueUpdate&&t.LastUpdate.getTime()<=this.getLastUpdateTime()?Promise.reject("Trying to apply old update"):(this.lastPlayQueueUpdate=t,this.playlist=[],Promise.resolve({playQueueUpdate:a,playlist:i}))}},{key:"scheduleReadyRequestOnPlaybackStart",value:function(e,t){var n=this;l(this.manager,"playbackstart",i,["playbackerror"]).then(F(q().mark((function t(){var r,a,i,o,l,c;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.debug("SyncPlay scheduleReadyRequestOnPlaybackStart: local pause and notify server."),(r=n.manager.getPlayerWrapper()).localPause(),a=new Date,i=n.manager.timeSyncCore.localDateToRemote(a),!r.currentTimeAsync){t.next=11;break}return t.next=8,r.currentTimeAsync();case 8:t.t0=t.sent,t.next=12;break;case 11:t.t0=r.currentTime();case 12:o=t.t0,l=Math.round(o*s),c=r.isPlaying(),e.requestSyncPlayReady({When:i.toISOString(),PositionTicks:l,IsPlaying:c,PlaylistItemId:n.getCurrentPlaylistItemId()});case 16:case"end":return t.stop()}}),t)})))).catch((function(r){console.error("Error while waiting for `playbackstart` event!",t,r),n.manager.isSyncPlayEnabled()||(0,R.Z)(D.ZP.translate("MessageSyncPlayErrorMedia")),n.manager.haltGroupPlayback(e)}))}},{key:"startPlayback",value:function(e){var t=this;if(!this.manager.isFollowingGroupPlayback())return console.debug("SyncPlay startPlayback: ignoring, not following playback."),Promise.reject();if(this.isPlaylistEmpty())console.debug("SyncPlay startPlayback: empty playlist.");else{var n=this.manager.getLastPlaybackCommand(),r=0;if(n&&n.EmittedAt.getTime()>=this.getLastUpdateTime())r=this.manager.getPlaybackCore().estimateCurrentTicks(n.PositionTicks,n.When);else{var a=this.getStartPositionTicks(),i=this.getLastUpdate();r=this.manager.getPlaybackCore().estimateCurrentTicks(a,i)}var o=e.serverInfo().Id;this.manager.getPlayerWrapper().localPlay({ids:this.getPlaylistAsItemIds(),startPositionTicks:r,startIndex:this.getCurrentPlaylistIndex(),serverId:o}).then((function(){t.scheduleReadyRequestOnPlaybackStart(e,"startPlayback")})).catch((function(e){console.error(e),(0,R.Z)(D.ZP.translate("MessageSyncPlayErrorMedia"))}))}}},{key:"setCurrentPlaylistItem",value:function(e,t){this.manager.isFollowingGroupPlayback()?(this.scheduleReadyRequestOnPlaybackStart(e,"setCurrentPlaylistItem"),this.manager.getPlayerWrapper().localSetCurrentPlaylistItem(t)):console.debug("SyncPlay setCurrentPlaylistItem: ignoring, not following playback.")}},{key:"getCurrentPlaylistIndex",value:function(){return this.lastPlayQueueUpdate?this.lastPlayQueueUpdate.PlayingItemIndex:-1}},{key:"getCurrentPlaylistItemId",value:function(){if(this.lastPlayQueueUpdate){var e=this.lastPlayQueueUpdate.PlayingItemIndex;return-1===e?null:this.playlist[e].PlaylistItemId}return null}},{key:"getPlaylist",value:function(){return this.playlist.slice(0)}},{key:"isPlaylistEmpty",value:function(){return 0===this.playlist.length}},{key:"getLastUpdate",value:function(){return this.lastPlayQueueUpdate?this.lastPlayQueueUpdate.LastUpdate:null}},{key:"getLastUpdateTime",value:function(){return this.lastPlayQueueUpdate?this.lastPlayQueueUpdate.LastUpdate.getTime():0}},{key:"getStartPositionTicks",value:function(){return this.lastPlayQueueUpdate?this.lastPlayQueueUpdate.StartPositionTicks:0}},{key:"getPlaylistAsItemIds",value:function(){return this.lastPlayQueueUpdate?this.lastPlayQueueUpdate.Playlist.map((function(e){return e.ItemId})):[]}},{key:"getRepeatMode",value:function(){return this.lastPlayQueueUpdate?this.lastPlayQueueUpdate.RepeatMode:"Sorted"}},{key:"getShuffleMode",value:function(){return this.lastPlayQueueUpdate?this.lastPlayQueueUpdate.ShuffleMode:"RepeatNone"}}])&&U(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.manager=null}var t,n;return t=e,n=[{key:"init",value:function(e){this.manager=e}},{key:"playPause",value:function(){this.manager.isPlaying()?this.pause():this.unpause()}},{key:"unpause",value:function(){this.manager.getApiClient().requestSyncPlayUnpause()}},{key:"pause",value:function(){this.manager.getApiClient().requestSyncPlayPause(),this.manager.getPlayerWrapper().localPause()}},{key:"seek",value:function(e){this.manager.getApiClient().requestSyncPlaySeek({PositionTicks:e})}},{key:"play",value:function(e){var t=this.manager.getApiClient(),n=function(n){var r=n.map((function(e){return e.Id}));return t.requestSyncPlaySetNewQueue({PlayingQueue:r,PlayingItemPosition:e.startIndex?e.startIndex:0,StartPositionTicks:e.startPositionTicks?e.startPositionTicks:0})};return e.items?d(t,e.items,e).then(n):u(t,{Ids:e.ids.join(",")}).then((function(r){return d(t,r.Items,e).then(n)}))}},{key:"setCurrentPlaylistItem",value:function(e){this.manager.getApiClient().requestSyncPlaySetPlaylistItem({PlaylistItemId:e})}},{key:"clearPlaylist",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.manager.getApiClient();t.requestSyncPlayRemoveFromPlaylist({ClearPlaylist:!0,ClearPlayingItem:e})}},{key:"removeFromPlaylist",value:function(e){this.manager.getApiClient().requestSyncPlayRemoveFromPlaylist({PlaylistItemIds:e})}},{key:"movePlaylistItem",value:function(e,t){this.manager.getApiClient().requestSyncPlayMovePlaylistItem({PlaylistItemId:e,NewIndex:t})}},{key:"queue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Queue",n=this.manager.getApiClient();e.items?d(n,e.items,e).then((function(e){var r=e.map((function(e){return e.Id}));n.requestSyncPlayQueue({ItemIds:r,Mode:t})})):u(n,{Ids:e.ids.join(",")}).then((function(r){d(n,r.Items,e).then((function(e){var r=e.map((function(e){return e.Id}));n.requestSyncPlayQueue({ItemIds:r,Mode:t})}))}))}},{key:"queueNext",value:function(e){this.queue(e,"QueueNext")}},{key:"nextItem",value:function(){this.manager.getApiClient().requestSyncPlayNextItem({PlaylistItemId:this.manager.getQueueCore().getCurrentPlaylistItemId()})}},{key:"previousItem",value:function(){this.manager.getApiClient().requestSyncPlayPreviousItem({PlaylistItemId:this.manager.getQueueCore().getCurrentPlaylistItemId()})}},{key:"setRepeatMode",value:function(e){this.manager.getApiClient().requestSyncPlaySetRepeatMode({Mode:e})}},{key:"setShuffleMode",value:function(e){this.manager.getApiClient().requestSyncPlaySetShuffleMode({Mode:e})}},{key:"toggleShuffleMode",value:function(){var e=this.manager.getQueueCore().getShuffleMode();e="Sorted"===e?"Shuffle":"Sorted",this.manager.getApiClient().requestSyncPlaySetShuffleMode({Mode:e})}}],n&&H(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),W=V;function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Q=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.playerFactory=t,this.apiClient=null,this.timeSyncCore=new T,this.playbackCore=new N,this.queueCore=new z,this.controller=new W,this.syncMethod="None",this.groupInfo=null,this.syncPlayEnabledAt=null,this.syncPlayReady=!1,this.queuedCommand=null,this.followingGroupPlayback=!0,this.lastPlaybackCommand=null,this.currentPlayer=null,this.playerWrapper=null}var t,n;return t=e,n=[{key:"init",value:function(e){var t=this;this.updateApiClient(e),this.playerWrapper=this.playerFactory.getDefaultWrapper(this),this.timeSyncCore.init(this),this.playbackCore.init(this),this.queueCore.init(this),this.controller.init(this),a.Events.on(this.timeSyncCore,"time-sync-server-update",(function(e,n,r){t.syncEnabled&&t.getApiClient().sendSyncPlayPing({Ping:r})}))}},{key:"updateApiClient",value:function(e){if(!e)throw new Error("ApiClient is null!");this.apiClient=e}},{key:"getTimeSyncCore",value:function(){return this.timeSyncCore}},{key:"getPlaybackCore",value:function(){return this.playbackCore}},{key:"getQueueCore",value:function(){return this.queueCore}},{key:"getController",value:function(){return this.controller}},{key:"getPlayerWrapper",value:function(){return this.playerWrapper}},{key:"getApiClient",value:function(){return this.apiClient}},{key:"getLastPlaybackCommand",value:function(){return this.lastPlaybackCommand}},{key:"onPlayerChange",value:function(e){this.bindToPlayer(e)}},{key:"bindToPlayer",value:function(e){this.releaseCurrentPlayer(),e&&(this.playerWrapper.unbindFromPlayer(),this.currentPlayer=e,this.playerWrapper=this.playerFactory.getWrapper(e,this),this.isSyncPlayEnabled()&&this.playerWrapper.bindToPlayer(),a.Events.trigger(this,"playerchange",[this.currentPlayer]))}},{key:"releaseCurrentPlayer",value:function(){this.currentPlayer=null,this.playerWrapper.unbindFromPlayer(),this.playerWrapper=this.playerFactory.getDefaultWrapper(this),this.isSyncPlayEnabled()&&this.playerWrapper.bindToPlayer(),a.Events.trigger(this,"playerchange",[this.currentPlayer])}},{key:"processGroupUpdate",value:function(e,t){switch(e.Type){case"PlayQueue":this.queueCore.updatePlayQueue(t,e.Data);break;case"UserJoined":(0,R.Z)(D.ZP.translate("MessageSyncPlayUserJoined",e.Data)),this.groupInfo.Participants?this.groupInfo.Participants.push(e.Data):this.groupInfo.Participants=[e.Data];break;case"UserLeft":(0,R.Z)(D.ZP.translate("MessageSyncPlayUserLeft",e.Data)),this.groupInfo.Participants&&(this.groupInfo.Participants=this.groupInfo.Participants.filter((function(t){return t!==e.Data})));break;case"GroupJoined":e.Data.LastUpdatedAt=new Date(e.Data.LastUpdatedAt),this.enableSyncPlay(t,e.Data,!0);break;case"SyncPlayIsDisabled":(0,R.Z)(D.ZP.translate("MessageSyncPlayIsDisabled"));break;case"NotInGroup":case"GroupLeft":this.disableSyncPlay(!0);break;case"GroupUpdate":e.Data.LastUpdatedAt=new Date(e.Data.LastUpdatedAt),this.groupInfo=e.Data;break;case"StateUpdate":a.Events.trigger(this,"group-state-update",[e.Data.State,e.Data.Reason]),console.debug("SyncPlay processGroupUpdate: state changed to ".concat(e.Data.State," because ").concat(e.Data.Reason,"."));break;case"GroupDoesNotExist":(0,R.Z)(D.ZP.translate("MessageSyncPlayGroupDoesNotExist"));break;case"CreateGroupDenied":(0,R.Z)(D.ZP.translate("MessageSyncPlayCreateGroupDenied"));break;case"JoinGroupDenied":(0,R.Z)(D.ZP.translate("MessageSyncPlayJoinGroupDenied"));break;case"LibraryAccessDenied":(0,R.Z)(D.ZP.translate("MessageSyncPlayLibraryAccessDenied"));break;default:console.error("SyncPlay processGroupUpdate: command ".concat(e.Type," not recognised."))}}},{key:"processCommand",value:function(e){if(null!==e)if("string"==typeof e.When&&(e.When=new Date(e.When),e.EmittedAt=new Date(e.EmittedAt),e.PositionTicks=e.PositionTicks?parseInt(e.PositionTicks):null),this.isSyncPlayEnabled())if(e.EmittedAt.getTime()<this.syncPlayEnabledAt.getTime())console.debug("SyncPlay processCommand: ignoring old command.",e);else{if(!this.syncPlayReady)return console.debug("SyncPlay processCommand: SyncPlay not ready, queued command.",e),void(this.queuedCommand=e);if(this.lastPlaybackCommand=e,this.isPlaybackActive()){var t=this.queueCore.getCurrentPlaylistItemId();e.PlaylistItemId===t||"Stop"===e.Command?(console.log("SyncPlay will ".concat(e.Command," at ").concat(e.When," (in ").concat(e.When.getTime()-Date.now()," ms)").concat(e.PositionTicks?"":" from "+e.PositionTicks,".")),this.playbackCore.applyCommand(e)):console.error("SyncPlay processCommand: playlist item does not match!",e)}else console.debug("SyncPlay processCommand: no active player!")}else console.debug("SyncPlay processCommand: SyncPlay not enabled, ignoring command.",e)}},{key:"processStateChange",value:function(e){null!==e&&null!==e.State&&null!==e.Reason&&(this.isSyncPlayEnabled()?a.Events.trigger(this,"group-state-change",[e.State,e.Reason]):console.debug("SyncPlay processStateChange: SyncPlay not enabled, ignoring group state update.",e))}},{key:"followGroupPlayback",value:function(e){return this.followingGroupPlayback=!0,e.requestSyncPlaySetIgnoreWait({IgnoreWait:!1})}},{key:"resumeGroupPlayback",value:function(e){var t=this;this.followGroupPlayback(e).then((function(){t.queueCore.startPlayback(e)}))}},{key:"haltGroupPlayback",value:function(e){this.followingGroupPlayback=!1,e.requestSyncPlaySetIgnoreWait({IgnoreWait:!0}),this.playbackCore.localStop()}},{key:"isFollowingGroupPlayback",value:function(){return this.followingGroupPlayback}},{key:"enableSyncPlay",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.isSyncPlayEnabled()){if(t.GroupId===this.groupInfo.GroupId)return void console.debug("SyncPlay enableSyncPlay: group ".concat(this.groupInfo.GroupId," already joined."));console.warn("SyncPlay enableSyncPlay: switching from group ".concat(this.groupInfo.GroupId," to group ").concat(t.GroupId,".")),this.disableSyncPlay(!1),r=!1}this.groupInfo=t,this.syncPlayEnabledAt=t.LastUpdatedAt,this.playerWrapper.bindToPlayer(),a.Events.trigger(this,"enabled",[!0]),l(this.timeSyncCore,"time-sync-server-update").then((function(){n.syncPlayReady=!0,n.processCommand(n.queuedCommand,e),n.queuedCommand=null})),this.syncPlayReady=!1,this.followingGroupPlayback=!0,this.timeSyncCore.forceUpdate(),r&&(0,R.Z)(D.ZP.translate("MessageSyncPlayEnabled"))}},{key:"disableSyncPlay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.syncPlayEnabledAt=null,this.syncPlayReady=!1,this.followingGroupPlayback=!0,this.lastPlaybackCommand=null,this.queuedCommand=null,this.playbackCore.syncEnabled=!1,a.Events.trigger(this,"enabled",[!1]),this.playerWrapper.unbindFromPlayer(),e&&(0,R.Z)(D.ZP.translate("MessageSyncPlayDisabled"))}},{key:"isSyncPlayEnabled",value:function(){return null!==this.syncPlayEnabledAt}},{key:"getGroupInfo",value:function(){return this.groupInfo}},{key:"getStats",value:function(){return{TimeSyncDevice:this.timeSyncCore.getActiveDeviceName(),TimeSyncOffset:this.timeSyncCore.getTimeOffset().toFixed(2),PlaybackDiff:this.playbackCore.playbackDiffMillis.toFixed(2),SyncMethod:this.syncMethod}}},{key:"isPlaybackActive",value:function(){return this.playerWrapper.isPlaybackActive()}},{key:"isRemote",value:function(){return this.playerWrapper.isRemote()}},{key:"isPlaylistEmpty",value:function(){return this.queueCore.isPlaylistEmpty()}},{key:"isPlaying",value:function(){return!!this.lastPlaybackCommand&&"Unpause"===this.lastPlaybackCommand.Command}},{key:"showSyncIcon",value:function(e){this.syncMethod=e,a.Events.trigger(this,"syncing",[!0,this.syncMethod])}},{key:"clearSyncIcon",value:function(){this.syncMethod="None",a.Events.trigger(this,"syncing",[!1,this.syncMethod])}}],n&&G(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Y=Q;function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var J,$,K,ee=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,this.manager=n,this.playbackCore=n.getPlaybackCore(),this.queueCore=n.getQueueCore(),this.bound=!1}var t,n;return t=e,(n=[{key:"bindToPlayer",value:function(){this.bound||(this.localBindToPlayer(),this.bound=!0)}},{key:"localBindToPlayer",value:function(){throw new Error("Override this method!")}},{key:"unbindFromPlayer",value:function(){this.bound&&(this.localUnbindFromPlayer(),this.bound=!1)}},{key:"localUnbindFromPlayer",value:function(){throw new Error("Override this method!")}},{key:"onPlaybackStart",value:function(e,t){this.playbackCore.onPlaybackStart(e,t),a.Events.trigger(this,"playbackstart",[e,t])}},{key:"onPlaybackStop",value:function(e){this.playbackCore.onPlaybackStop(e),a.Events.trigger(this,"playbackstop",[e])}},{key:"onUnpause",value:function(){this.playbackCore.onUnpause(),a.Events.trigger(this,"unpause",[this.currentPlayer])}},{key:"onPause",value:function(){this.playbackCore.onPause(),a.Events.trigger(this,"pause",[this.currentPlayer])}},{key:"onTimeUpdate",value:function(e,t){this.playbackCore.onTimeUpdate(e,t),a.Events.trigger(this,"timeupdate",[e,t])}},{key:"onReady",value:function(){this.playbackCore.onReady(),a.Events.trigger(this,"ready")}},{key:"onBuffering",value:function(){this.playbackCore.onBuffering(),a.Events.trigger(this,"buffering")}},{key:"onQueueUpdate",value:function(){}},{key:"isPlaybackActive",value:function(){return!1}},{key:"isPlaying",value:function(){return!1}},{key:"currentTime",value:function(){return 0}},{key:"hasPlaybackRate",value:function(){return!1}},{key:"setPlaybackRate",value:function(e){}},{key:"getPlaybackRate",value:function(){return 1}},{key:"isRemote",value:function(){return!1}},{key:"localUnpause",value:function(){}},{key:"localPause",value:function(){}},{key:"localSeek",value:function(e){}},{key:"localStop",value:function(){}},{key:"localSendCommand",value:function(e){}},{key:"localPlay",value:function(e){}},{key:"localSetCurrentPlaylistItem",value:function(e){}},{key:"localRemoveFromPlaylist",value:function(e){}},{key:"localMovePlaylistItem",value:function(e,t){}},{key:"localQueue",value:function(e){}},{key:"localQueueNext",value:function(e){}},{key:"localNextItem",value:function(){}},{key:"localPreviousItem",value:function(){}},{key:"localSetRepeatMode",value:function(e){}},{key:"localSetQueueShuffleMode",value:function(e){}},{key:"localToggleQueueShuffleMode",value:function(){}}])&&X(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();K="generic",($="type")in(J=ee)?Object.defineProperty(J,$,{value:K,enumerable:!0,configurable:!0,writable:!0}):J.type=K;var te=ee;function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var re=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wrappers={},this.DefaultWrapper=te}var t,n;return t=e,(n=[{key:"registerWrapper",value:function(e){console.debug("SyncPlay WrapperFactory registerWrapper:",e.type),this.wrappers[e.type]=e}},{key:"setDefaultWrapper",value:function(e){console.debug("SyncPlay WrapperFactory setDefaultWrapper:",e.type),this.DefaultWrapper=e}},{key:"getWrapper",value:function(e,t){if(!e)return console.debug("SyncPlay WrapperFactory getWrapper: using default wrapper."),this.getDefaultWrapper(t);var n=e.syncPlayWrapAs||e.id;console.debug("SyncPlay WrapperFactory getWrapper:",n);var r=this.wrappers[n];return r?new r(e,t):(console.debug("SyncPlay WrapperFactory getWrapper: unknown player ".concat(n,", using default wrapper.")),this.getDefaultWrapper(t))}},{key:"getDefaultWrapper",value:function(e){return this.DefaultWrapper?new this.DefaultWrapper(null,e):null}}])&&ne(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()),ae={Helper:r,Manager:new Y(re),PlayerFactory:re,Players:{GenericPlayer:te}}},29016:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r,a=n(1892),i=n.n(a),o=n(95760),s=n.n(o),l=n(38311),c=n.n(l),u=n(58192),d=n.n(u),f=n(38060),h=n.n(f),p=n(54865),m=n.n(p),y=n(16710),v={};function g(e){"string"==typeof e&&(e={text:e});var t=document.createElement("div");t.classList.add("toast"),t.textContent=e.text,(r||((r=document.createElement("div")).classList.add("toastContainer"),document.body.appendChild(r)),r).appendChild(t),setTimeout((function(){t.classList.add("toastVisible"),function(e){setTimeout((function(){e.classList.add("toastHide"),function(e){setTimeout((function(){e.parentNode.removeChild(e)}),300)}(e)}),3300)}(t)}),300)}v.styleTagTransform=m(),v.setAttributes=d(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=h(),i()(y.Z,v),y.Z&&y.Z.locals&&y.Z.locals},58905:function(e,t,n){"use strict";n.d(t,{Z:function(){return F}}),n(52077),n(911),n(27471),n(5769),n(63238),n(17460),n(14078),n(68581),n(55849),n(61418),n(99785),n(95623),n(61514),n(72482);var r=n(36366),a=n(1892),i=n.n(a),o=n(95760),s=n.n(o),l=n(38311),c=n.n(l),u=n(58192),d=n.n(u),f=n(38060),h=n.n(f),p=n(54865),m=n.n(p),y=n(84810),v={};v.styleTagTransform=m(),v.setAttributes=d(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=h(),i()(y.Z,v),y.Z&&y.Z.locals&&y.Z.locals;var g,b=n(60635);function w(e,t){if(t.controllerFactory)return Promise.resolve();var n=e.getAttribute("data-controller");if(n){0===n.indexOf("__plugin/")&&(n=n.substring("__plugin/".length)),n=b.ZP.getPluginUrl(n);var a=ApiClient.getUrl("/web/"+n);return(0,r.k)(a).then((function(e){t.controllerFactory=e}))}return Promise.resolve()}function P(e,t,n){return e.split(t).join(n)}function k(e,t,n){for(var r=0,a=e.length;r<a;r++)t!==r&&n!==r&&e[r].classList.add("hide")}function S(e,t){for(var n=0,r=e.length;n<r;n++)t!==n&&e[n].classList.add("hide")}function x(){C=[],T=[],I.innerHTML="",L=-1}var I=document.querySelector(".mainAnimatedPages"),C=[],T=[],L=-1;x(),I.classList.remove("hide");var E,A,Z={loadView:function(e){if(!e.cancel){var t=L,n=-1===t?null:C[t],r=t+1;r>=3&&(r=0);var a=e.url.includes("configurationpage"),i=function(e,t){var n=e.view;if(-1===n.indexOf('data-role="page"'))return n;var r=-1!==n.indexOf("<script"),a=function(e,t){t&&(e=P(e,"\x3c!--<script","<script"),e=P(e,"<\/script>--\x3e","<\/script>"));var n=document.createElement("div");return n.innerHTML=e,n.querySelector('div[data-role="page"]')}(n,r);r&&(r=null!=a.querySelector("script"));var i=!1,o=!1,s=!1;return t&&(i=-1!=n.indexOf("jQuery")||-1!=n.indexOf("$(")||-1!=n.indexOf("$."),s=-1!=n.indexOf(".checked("),o=-1!=n.indexOf(".selectmenu(")),{elem:a,hasScript:r,hasjQuerySelect:o,hasjQueryChecked:s,hasjQuery:i}}(e,a),o=i.elem,s=C[r];s&&function(e){e.dispatchEvent(new CustomEvent("viewdestroy",{}))}(s);var l=o;"string"==typeof l&&((l=document.createElement("div")).innerHTML=o),l.classList.add("mainAnimatedPage"),s?i.hasScript&&window.$?(I.removeChild(s),l=$(l).appendTo(I)[0]):I.replaceChild(l,s):i.hasScript&&window.$?l=$(l).appendTo(I)[0]:I.appendChild(l),e.type&&l.setAttribute("data-type",e.type);var c=[];return e.fullscreen&&c.push("fullscreen"),c.length&&l.setAttribute("data-properties",c.join(",")),C[r]=l,w(l,e).then((function(){return new Promise((function(e){return setTimeout(e,0)}))})).then((function(){return g&&g(l,!1,e),k(C,r,t),L=r,T[r]=e.url,!e.cancel&&n&&S(C,r),window.$&&($.mobile=$.mobile||{},$.mobile.activePage=l),l}))}},tryRestoreView:function(e){var t=e.url,n=T.indexOf(t);if(-1!==n){var r=C[n],a=r;if(a){if(e.cancel)return;var i=L,o=-1===i?null:C[i];return w(a,e).then((function(){return g&&g(a,!0,e),k(C,n,i),r.classList.remove("hide"),L=n,!e.cancel&&o&&S(C,n),window.$&&($.mobile=$.mobile||{},$.mobile.activePage=a),a}))}}return Promise.reject()},reset:x,setOnBeforeChange:function(e){g=e}},O=n(34643),j=n(30325);function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t,n){E&&R(E,null,"viewhide"),E=e;var r=_(e,t,n);n?j.Z.mobile||(e.activeElement&&document.body.contains(e.activeElement)&&O.Z.isCurrentlyFocusable(e.activeElement)?O.Z.focus(e.activeElement):O.Z.autoFocus(e)):!1!==t.autoFocus&&O.Z.autoFocus(e),e.dispatchEvent(new CustomEvent("viewshow",r)),A&&e.dispatchEvent(new CustomEvent("pageshow",r))}function D(e){var t=e.getAttribute("data-properties");return t?t.split(","):[]}function R(e,t,n,r){t||(t={detail:{type:e.getAttribute("data-type"),properties:D(e)},bubbles:!0,cancelable:r}),t.cancelable=r||!1;var a=e.dispatchEvent(new CustomEvent(n,t));return A&&(t.cancelable=!1,e.dispatchEvent(new CustomEvent(n.replace("view","page"),t))),a}function _(e,t,n){var r=t.state,a=t.url,i=t.options,o=void 0===i?{}:i,s=a.indexOf("?"),l=new URLSearchParams(a.substring(s+1)),c={};return l.forEach((function(e,t){return c[t]=e})),{detail:{type:e.getAttribute("data-type"),properties:D(e),params:c,isRestored:n,state:r,options:o},bubbles:!0,cancelable:!1}}Z.setOnBeforeChange((function(e,t,n){E&&R(E,null,"viewbeforehide",!0);var r=_(e,n,t);e.initComplete||(e.initComplete=!0,"function"==typeof n.controllerFactory?new n.controllerFactory(e,r.detail.params):n.controllerFactory&&"function"==typeof n.controllerFactory.default&&new n.controllerFactory.default(e,r.detail.params),n.controllerFactory&&!A||R(e,r,"viewinit")),R(e,r,"viewbeforeshow")})),document.addEventListener("skinunload",(function(){Z.reset()}));var q=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"loadView",value:function(e){E&&(E.activeElement=document.activeElement),e.cancel||Z.loadView(e).then((function(t){N(t,e)}))}},{key:"hideView",value:function(){E&&(R(E,null,"viewbeforehide"),R(E,null,"viewhide"),E.classList.add("hide"),E=null)}},{key:"tryRestoreView",value:function(e,t){return e.cancel?Promise.reject({cancelled:!0}):(E&&(E.activeElement=document.activeElement),Z.tryRestoreView(e).then((function(n){t(),N(n,e,!0)})))}},{key:"currentView",value:function(){return E}},{key:"dispatchPageEvents",value:function(e){A=e}}],n&&M(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),B=new q;B.dispatchPageEvents(!0);var F=B},38228:function(e,t,n){"use strict";n(67752);var r=n(72365),a=n(30325),i=n(92581),o=n(52050),s=n(84881),l=(n(47161),Object.create(HTMLButtonElement.prototype)),c=Object.create(HTMLAnchorElement.prototype);function u(e){var t=this.getAttribute("href")||"";"#"!==t?this.getAttribute("target")?s.M.supports("targetblank")||(e.preventDefault(),i.Z.openUrl(t)):(e.preventDefault(),o.appRouter.show(t)):e.preventDefault()}l.createdCallback=function(){this.classList.contains("emby-button")||(this.classList.add("emby-button"),a.Z.tv&&this.classList.add("show-focus"))},l.attachedCallback=function(){"A"===this.tagName&&((0,r.xg)(this,"click",u,{}),(0,r.Oo)(this,"click",u,{}),"true"===this.getAttribute("data-autohide")&&(s.M.supports("externallinks")?this.classList.remove("hide"):this.classList.add("hide")))},l.detachedCallback=function(){(0,r.xg)(this,"click",u,{})},c.createdCallback=l.createdCallback,c.attachedCallback=l.attachedCallback,document.registerElement("emby-button",{prototype:l,extends:"button"}),document.registerElement("emby-linkbutton",{prototype:c,extends:"a"}),t.Z=l},61414:function(e,t,n){"use strict";var r=n(30325),a=(n(47161),n(67752),Object.create(HTMLButtonElement.prototype));a.createdCallback=function(){this.classList.add("paper-icon-button-light"),r.Z.tv&&this.classList.add("show-focus")},document.registerElement("paper-icon-button-light",{prototype:a,extends:"button"})},25141:function(e,t,n){"use strict";n.r(t);var r=n(57366),a=n(72365),i=n(1892),o=n.n(i),s=n(95760),l=n.n(s),c=n(38311),u=n.n(c),d=n(58192),f=n.n(d),h=n(38060),p=n.n(h),m=n(54865),y=n.n(m),v=n(21950),g={};g.styleTagTransform=y(),g.setAttributes=f(),g.insert=u().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=p(),o()(v.Z,g),v.Z&&v.Z.locals&&v.Z.locals,n(67752);var b=Object.create(HTMLInputElement.prototype);function w(e){if(13===e.keyCode||32===e.keyCode&&r.Z.tizen)return e.preventDefault(),this.checked=!this.checked,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),!1}var P=!!(r.Z.tizen||r.Z.orsay||r.Z.operaTv||r.Z.web0s);function k(e){var t=this.parentNode;t.style.webkitAnimationName="repaintChrome",t.style.webkitAnimationDelay=!0===e?"500ms":"",t.style.webkitAnimationDuration="10ms",t.style.webkitAnimationIterationCount="1",setTimeout((function(){t.style.webkitAnimationName=""}),!0===e?520:20)}b.attachedCallback=function(){if("true"!==this.getAttribute("data-embycheckbox")){this.setAttribute("data-embycheckbox","true"),this.classList.add("emby-checkbox");var e=this.parentNode;e.classList.add("emby-checkbox-label");var t=e.querySelector("span"),n="checkboxOutline",r=this.getAttribute("data-outlineclass");r&&(n+=" "+r);var i='<span class="material-icons checkboxIcon checkboxIcon-checked '+(this.getAttribute("data-checkedicon")||"check")+'" aria-hidden="true"></span>',o='<span class="material-icons checkboxIcon checkboxIcon-unchecked '+(this.getAttribute("data-uncheckedicon")||"")+'" aria-hidden="true"></span>';e.insertAdjacentHTML("beforeend",'<span class="'+n+'">'+i+o+"</span>"),t.classList.add("checkboxLabel"),this.addEventListener("keydown",w),P&&(k.call(this,!0),a.ZP.addEventListener(this,"click",k,{passive:!0}),a.ZP.addEventListener(this,"blur",k,{passive:!0}),a.ZP.addEventListener(this,"focus",k,{passive:!0}),a.ZP.addEventListener(this,"change",k,{passive:!0}))}},b.detachedCallback=function(){this.removeEventListener("keydown",w),a.ZP.removeEventListener(this,"click",k,{passive:!0}),a.ZP.removeEventListener(this,"blur",k,{passive:!0}),a.ZP.removeEventListener(this,"focus",k,{passive:!0}),a.ZP.removeEventListener(this,"change",k,{passive:!0})},document.registerElement("emby-checkbox",{prototype:b,extends:"input"})},33648:function(e,t,n){"use strict";var r=n(1892),a=n.n(r),i=n(95760),o=n.n(i),s=n(38311),l=n.n(s),c=n(58192),u=n.n(c),d=n(38060),f=n.n(d),h=n(54865),p=n.n(h),m=n(11509),y={};y.styleTagTransform=p(),y.setAttributes=u(),y.insert=l().bind(null,"head"),y.domAPI=o(),y.insertStyleElement=f(),a()(m.Z,y),m.Z&&m.Z.locals&&m.Z.locals,n(67752),n(38228);var v=Object.create(HTMLDivElement.prototype);function g(){var e=this,t=e.parentNode.querySelector(".collapseContent");t.expanded?(t.expanded=!1,function(e,t){requestAnimationFrame((function(){t.style.height=t.offsetHeight+"px",t.offsetHeight,t.classList.remove("expanded"),t.style.height="0",setTimeout((function(){t.classList.contains("expanded")?t.classList.remove("hide"):t.classList.add("hide")}),300),e.querySelector(".material-icons").classList.remove("emby-collapse-expandIconExpanded")}))}(e,t)):(t.expanded=!0,function(e,t){requestAnimationFrame((function(){t.classList.remove("hide"),t.classList.add("expanded"),t.style.height="auto";var n=t.offsetHeight+"px";t.style.height="0",t.offsetHeight,t.style.height=n,setTimeout((function(){t.classList.contains("expanded")?t.classList.remove("hide"):t.classList.add("hide"),t.style.height="auto"}),300),e.querySelector(".material-icons").classList.add("emby-collapse-expandIconExpanded")}))}(e,t))}v.attachedCallback=function(){if(!this.classList.contains("emby-collapse")){this.classList.add("emby-collapse");var e=this.querySelector(".collapseContent");e&&e.classList.add("hide");var t=this.getAttribute("title"),n='<button is="emby-button" type="button" on-click="toggleExpand" id="expandButton" class="emby-collapsible-button iconRight"><h3 class="emby-collapsible-title" title="'+t+'">'+t+'</h3><span class="material-icons emby-collapse-expandIcon expand_more" aria-hidden="true"></span></button>';this.insertAdjacentHTML("afterbegin",n);var r=this.querySelector(".emby-collapsible-button");r.addEventListener("click",g),"true"===this.getAttribute("data-expanded")&&g.call(r)}},document.registerElement("emby-collapse",{prototype:v,extends:"div"})},33310:function(e,t,n){"use strict";n(20252),n(99785);var r=n(57366),a=n(72365),i=n(1892),o=n.n(i),s=n(95760),l=n.n(s),c=n(38311),u=n.n(c),d=n(58192),f=n.n(d),h=n(38060),p=n.n(h),m=n(54865),y=n.n(m),v=n(11562),g={};g.styleTagTransform=y(),g.setAttributes=f(),g.insert=u().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=p(),o()(v.Z,g),v.Z&&v.Z.locals&&v.Z.locals,n(67752);var b=Object.create(HTMLInputElement.prototype),w=0,P=!1;if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var k=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");if(k&&k.configurable){var S=k.set;k.set=function(e){S.call(this,e),this.dispatchEvent(new CustomEvent("valueset",{bubbles:!1,cancelable:!1}))},Object.defineProperty(HTMLInputElement.prototype,"value",k),P=!0}}function x(){var e=this.labelElement;this.value?e.classList.remove("inputLabel-float"):P&&"date"!==this.type&&"time"!==this.type&&e.classList.add("inputLabel-float")}b.createdCallback=function(){if(this.id||(this.id="embyinput"+w,w++),!this.classList.contains("emby-input")){this.classList.add("emby-input");var e=this.parentNode,t=this.ownerDocument,n=t.createElement("label");n.innerText=this.getAttribute("label")||"",n.classList.add("inputLabel"),n.classList.add("inputLabelUnfocused"),n.htmlFor=this.id,e.insertBefore(n,this),this.labelElement=n,a.ZP.addEventListener(this,"focus",(function(){x.call(this),t.attachIME&&t.attachIME(this),n.classList.add("inputLabelFocused"),n.classList.remove("inputLabelUnfocused")}),{passive:!0}),a.ZP.addEventListener(this,"blur",(function(){x.call(this),n.classList.remove("inputLabelFocused"),n.classList.add("inputLabelUnfocused")}),{passive:!0}),a.ZP.addEventListener(this,"change",x,{passive:!0}),a.ZP.addEventListener(this,"input",x,{passive:!0}),a.ZP.addEventListener(this,"valueset",x,{passive:!0}),r.Z.orsay&&this===t.activeElement&&t.attachIME&&t.attachIME(this)}},b.attachedCallback=function(){this.labelElement.htmlFor=this.id,x.call(this)},b.label=function(e){this.labelElement.innerText=e},document.registerElement("emby-input",{prototype:b,extends:"input"})},82427:function(e,t,n){"use strict";n(5769),n(63238),n(61418),n(17460),n(14078),n(27471),n(32081);var r=n(61008),a=n(58517),i=n(48957),o=n(38737),s=n(30325),l=n(57366),c=n(72365),u=n(51161),d=n(34643),f=n(44038),h=n(47005),p=(n(67752),n(18613)),m=n(28172),y=Object.create(HTMLDivElement.prototype);function v(e){var t=this,n=t.multiSelect;n&&!1===n.onContainerClick.call(t,e)||r.ZP.onClick.call(t,e)}function g(e){return e.preventDefault(),e.stopPropagation(),!1}function b(e){var t=e.target,n=c.ZP.parentWithAttribute(t,"data-id");if(n&&n.getAttribute("data-serverid"))return a.default.handleCommand("menu",{sourceElement:n}),e.preventDefault(),e.stopPropagation(),!1}function w(e,t,r){var a=this;Promise.resolve().then(n.bind(n,61570)).then((function(e){e.onUserDataChanged(r,a)}));var i=P(a);(-1!==i.indexOf("markfavorite")||-1!==i.indexOf("markplayed"))&&a.notifyRefreshNeeded()}function P(e){var t=e.getAttribute("data-monitor");return t?t.split(","):[]}function k(e,t,r){var a=this;if(-1===P(a).indexOf("timers")){var i=r.ProgramId,o=r.Id;Promise.resolve().then(n.bind(n,61570)).then((function(e){e.onTimerCreated(i,o,a)}))}else a.notifyRefreshNeeded()}function S(){-1===P(this).indexOf("seriestimers")||this.notifyRefreshNeeded()}function x(e,t,r){var a=this;-1===P(a).indexOf("timers")?Promise.resolve().then(n.bind(n,61570)).then((function(e){e.onTimerCancelled(r.Id,a)})):a.notifyRefreshNeeded()}function I(e,t,r){var a=this;-1===P(a).indexOf("seriestimers")?Promise.resolve().then(n.bind(n,61570)).then((function(e){e.onSeriesTimerCancelled(r.Id,a)})):a.notifyRefreshNeeded()}function C(e,t,n){var r=this,a=P(r);if(-1===a.indexOf("seriestimers")&&-1===a.indexOf("timers")){var i=n.ItemsAdded||[],o=n.ItemsRemoved||[];if(i.length||o.length){var s=r.getAttribute("data-parentid");if(s){var l=n.FoldersAddedTo||[],c=n.FoldersRemovedFrom||[],u=n.CollectionFolders||[];if(-1===l.indexOf(s)&&-1===c.indexOf(s)&&-1===u.indexOf(s))return}r.notifyRefreshNeeded()}}}function T(e,t){var n=this,r=t.state,a=P(n);if(r.NowPlayingItem&&"Video"===r.NowPlayingItem.MediaType){if(-1!==a.indexOf("videoplayback"))return void n.notifyRefreshNeeded(!0)}else if(r.NowPlayingItem&&"Audio"===r.NowPlayingItem.MediaType&&-1!==a.indexOf("audioplayback"))return void n.notifyRefreshNeeded(!0)}function L(e,t,n,r){var a=n.bind(e);r=r||f.default,h.Events.on(r,t,a),e["event_"+t]=a}function E(e,t,n){var r=e["event_"+t];r&&(n=n||f.default,h.Events.off(n,t,r),e["event_"+t]=null)}function A(e,t){e.refreshInterval&&(clearInterval(e.refreshInterval),e.refreshInterval=null,t||(e.refreshIntervalEndTime=null))}function Z(e,t){A(e),t||(t=parseInt(e.getAttribute("data-refreshinterval")||"0")),t&&(e.refreshInterval=setInterval(e.notifyRefreshNeeded.bind(e),t),e.refreshIntervalEndTime=(new Date).getTime()+t)}function O(e){var t=e.Items||e,n=this.parentContainer;n&&(t.length?n.classList.remove("hide"):n.classList.add("hide"));var r,a,i=document.activeElement;this.contains(i)&&(a=!0,r=i.getAttribute("data-id")),this.innerHTML=this.getItemsHtml(t),o.default.lazyChildren(this),a&&function(e,t){if(t){var n=e.querySelector('[data-id="'+t+'"]');if(n)try{return void d.Z.focus(n)}catch(e){console.error(e)}}d.Z.autoFocus(e)}(this,r),Z(this),this.afterRefresh&&this.afterRefresh(e)}y.enableMultiSelect=function(e){var t=this.multiSelect;if(e){if(!t){var r=this;n.e(4032).then(n.bind(n,4032)).then((function(e){var t=e.default;r.multiSelect=new t({container:r,bindOnClick:!1})}))}}else t&&(t.destroy(),this.multiSelect=null)},y.enableDragReordering=function(e){var t=this.sortable;if(e){if(!t){var n=this;n.sortable=new m.ZP(n,{draggable:".listItem",handle:".listViewDragHandle",onEnd:function(e){return function(e,t){var n=e.item,r=e.newIndex,a=n.getAttribute("data-playlistitemid"),i=n.getAttribute("data-playlistid");if(i){var o=n.getAttribute("data-serverid"),s=p.Z.getApiClient(o);u.ZP.show(),s.ajax({url:s.getUrl("Playlists/"+i+"/Items/"+a+"/Move/"+r),type:"POST"}).then((function(){u.ZP.hide()}),(function(){u.ZP.hide(),t.refreshItems()}))}else{var l=e.oldIndex;n.dispatchEvent(new CustomEvent("itemdrop",{detail:{oldIndex:l,newIndex:r,playlistItemId:a},bubbles:!0,cancelable:!1}))}}(e,n)}})}}else t&&(t.destroy(),this.sortable=null)},y.createdCallback=function(){this.classList.add("itemsContainer")},y.attachedCallback=function(){this.addEventListener("click",v),l.Z.touch?this.addEventListener("contextmenu",g):"false"!==this.getAttribute("data-contextmenu")&&this.addEventListener("contextmenu",b),(s.Z.desktop||s.Z.mobile)&&"false"!==this.getAttribute("data-multiselect")&&this.enableMultiSelect(!0),s.Z.tv&&this.classList.add("itemsContainer-tv"),r.ZP.on(this,{click:!1}),L(this,"UserDataChanged",w),L(this,"TimerCreated",k),L(this,"SeriesTimerCreated",S),L(this,"TimerCancelled",x),L(this,"SeriesTimerCancelled",I),L(this,"LibraryChanged",C),L(this,"playbackstop",T,i.O),"true"===this.getAttribute("data-dragreorder")&&this.enableDragReordering(!0)},y.detachedCallback=function(){A(this),this.enableMultiSelect(!1),this.enableDragReordering(!1),this.removeEventListener("click",v),this.removeEventListener("contextmenu",b),this.removeEventListener("contextmenu",g),r.ZP.off(this,{click:!1}),E(this,"UserDataChanged"),E(this,"TimerCreated"),E(this,"SeriesTimerCreated"),E(this,"TimerCancelled"),E(this,"SeriesTimerCancelled"),E(this,"LibraryChanged"),E(this,"playbackstop",i.O),this.fetchData=null,this.getItemsHtml=null,this.parentContainer=null},y.pause=function(){A(this,!0),this.paused=!0},y.resume=function(e){this.paused=!1;var t=this.refreshIntervalEndTime;if(t){var n=t-(new Date).getTime();n>0&&!this.needsRefresh?Z(this,n):(this.needsRefresh=!0,this.refreshIntervalEndTime=null)}return this.needsRefresh||e&&e.refresh?this.refreshItems():Promise.resolve()},y.refreshItems=function(){return this.fetchData?this.paused?(this.needsRefresh=!0,Promise.resolve()):(this.needsRefresh=!1,this.fetchData().then(O.bind(this))):Promise.resolve()},y.notifyRefreshNeeded=function(e){if(this.paused)this.needsRefresh=!0;else{var t=this.refreshTimeout;t&&clearTimeout(t),!0===e?this.refreshItems():this.refreshTimeout=setTimeout(this.refreshItems.bind(this),1e4)}},document.registerElement("emby-itemscontainer",{prototype:y,extends:"div"})},55005:function(e,t,n){n(32081);var r=Object.create(HTMLDivElement.prototype);function a(){var e=parseInt(this.getAttribute("data-starttime")),t=parseInt(this.getAttribute("data-endtime")),n=((new Date).getTime()-e)/(t-e)*100;n=Math.min(100,n),n=Math.max(0,n),this.querySelector(".itemProgressBarForeground").style.width=n+"%"}r.attachedCallback=function(){this.timeInterval&&clearInterval(this.timeInterval),"time"===this.getAttribute("data-automode")&&(this.timeInterval=setInterval(a.bind(this),6e4))},r.detachedCallback=function(){this.timeInterval&&(clearInterval(this.timeInterval),this.timeInterval=null)},document.registerElement("emby-progressbar",{prototype:r,extends:"div"})},26291:function(e,t,n){"use strict";n(5769),n(63238),n(61418),n(17460),n(14078);var r=n(15723),a=n(72365),i=n(30325),o=n(58517),s=n(34643),l=n(57366),c=(n(67752),n(1892)),u=n.n(c),d=n(95760),f=n.n(d),h=n(38311),p=n.n(h),m=n(58192),y=n.n(m),v=n(38060),g=n.n(v),b=n(54865),w=n.n(b),P=n(88101),k={};k.styleTagTransform=w(),k.setAttributes=y(),k.insert=p().bind(null,"head"),k.domAPI=f(),k.insertStyleElement=g(),u()(P.Z,k),P.Z&&P.Z.locals&&P.Z.locals;var S=Object.create(HTMLDivElement.prototype);function x(e){var t=e.detail.command;"end"===t?(s.Z.focusLast(this,"."+this.getAttribute("data-navcommands")),e.preventDefault(),e.stopPropagation()):"pageup"===t?(s.Z.moveFocus(e.target,this,"."+this.getAttribute("data-navcommands"),-12),e.preventDefault(),e.stopPropagation()):"pagedown"===t&&(s.Z.moveFocus(e.target,this,"."+this.getAttribute("data-navcommands"),12),e.preventDefault(),e.stopPropagation())}S.createdCallback=function(){this.classList.add("emby-scroller")},S.scrollToBeginning=function(){this.scroller&&this.scroller.slideTo(0,!0)},S.toStart=function(e,t){this.scroller&&this.scroller.toStart(e,t)},S.toCenter=function(e,t){this.scroller&&this.scroller.toCenter(e,t)},S.scrollToPosition=function(e,t){this.scroller&&this.scroller.slideTo(e,t)},S.getScrollPosition=function(){if(this.scroller)return this.scroller.getScrollPosition()},S.getScrollSize=function(){if(this.scroller)return this.scroller.getScrollSize()},S.getScrollEventName=function(){if(this.scroller)return this.scroller.getScrollEventName()},S.getScrollSlider=function(){if(this.scroller)return this.scroller.getScrollSlider()},S.addScrollEventListener=function(e,t){this.scroller&&a.ZP.addEventListener(this.scroller.getScrollFrame(),this.scroller.getScrollEventName(),e,t)},S.removeScrollEventListener=function(e,t){this.scroller&&a.ZP.removeEventListener(this.scroller.getScrollFrame(),this.scroller.getScrollEventName(),e,t)},S.attachedCallback=function(){this.getAttribute("data-navcommands")&&o.default.on(this,x);var e="false"!==this.getAttribute("data-horizontal"),t=this.querySelector(".scrollSlider");e&&(t.style["white-space"]="nowrap");var c,u=i.Z.desktop&&e&&"false"!==this.getAttribute("data-scrollbuttons"),d={horizontal:e,mouseDragging:1,mouseWheel:"false"!==this.getAttribute("data-mousewheel"),touchDragging:1,slidee:t,scrollBy:200,speed:e?270:240,elasticBounds:1,dragHandle:1,autoImmediate:!0,skipSlideToWhenVisible:"true"===this.getAttribute("data-skipfocuswhenvisible"),dispatchScrollEvent:u||"true"===this.getAttribute("data-scrollevent"),hideScrollbar:u||"true"===this.getAttribute("data-hidescrollbar"),allowNativeSmoothScroll:"true"===this.getAttribute("data-allownativesmoothscroll")&&!u,allowNativeScroll:!u,forceHideScrollbars:u,requireAnimation:u&&l.Z.edge};this.scroller=new r.Z(this,d),this.scroller.init(),this.scroller.reload(),i.Z.tv&&this.getAttribute("data-centerfocus")&&(this,c=this.scroller,a.ZP.addEventListener(this,"focus",(function(e){var t=s.Z.focusableParent(e.target);t&&c.toCenter(t)}),{capture:!0,passive:!0})),u&&function(e){n.e(8878).then(n.bind(n,58878)).then((function(){e.insertAdjacentHTML("beforebegin",'<div is="emby-scrollbuttons" class="emby-scrollbuttons padded-right"></div>')}))}(this)},S.pause=function(){var e=this.headroom;e&&e.pause()},S.resume=function(){var e=this.headroom;e&&e.resume()},S.detachedCallback=function(){this.getAttribute("data-navcommands")&&o.default.off(this,x);var e=this.headroom;e&&(e.destroy(),this.headroom=null);var t=this.scroller;t&&(t.destroy(),this.scroller=null)},document.registerElement("emby-scroller",{prototype:S,extends:"div"})},19099:function(e,t,n){"use strict";var r=n(30325),a=n(57366),i=n(27074),o=n(1892),s=n.n(o),l=n(95760),c=n.n(l),u=n(38311),d=n.n(u),f=n(58192),h=n.n(f),p=n(38060),m=n.n(p),y=n(54865),v=n.n(y),g=n(19561),b={};b.styleTagTransform=v(),b.setAttributes=h(),b.insert=d().bind(null,"head"),b.domAPI=c(),b.insertStyleElement=m(),s()(g.Z,b),g.Z&&g.Z.locals&&g.Z.locals,n(67752);var w=Object.create(HTMLSelectElement.prototype);function P(){return!(!a.Z.edgeUwp&&!a.Z.xboxOne&&(a.Z.tizen||a.Z.orsay||a.Z.web0s||!a.Z.tv&&r.Z.tv))}function k(e){var t=S(e),n=t?t.textContent||t.innerText:null;i.default.show({items:e.options,positionTo:e,title:n}).then((function(t){!function(e,t){e.value=t}(e,t),function(e){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),e.dispatchEvent(t)}(e)}))}function S(e){for(var t=e.previousSibling;t&&"LABEL"!==t.tagName;)t=t.previousSibling;return t}function x(){var e=S(this);e&&e.classList.add("selectLabelFocused")}function I(){var e=S(this);e&&e.classList.remove("selectLabelFocused")}function C(e){e.button||P()||(e.preventDefault(),k(this))}function T(e){switch(e.keyCode){case 13:return void(P()||(e.preventDefault(),k(this)));case 37:case 38:case 39:case 40:return void(r.Z.tv&&e.preventDefault())}}var L=0;w.createdCallback=function(){this.id||(this.id="embyselect"+L,L++),this.classList.add("emby-select-withcolor"),r.Z.tv&&this.classList.add("emby-select-focusscale"),this.addEventListener("mousedown",C),this.addEventListener("keydown",T),this.addEventListener("focus",x),this.addEventListener("blur",I)},w.attachedCallback=function(){var e;if(!this.classList.contains("emby-select")){this.classList.add("emby-select");var t,n=this.ownerDocument.createElement("label");n.innerText=this.getAttribute("label")||"",n.classList.add("selectLabel"),n.htmlFor=this.id,null===(e=this.parentNode)||void 0===e||e.insertBefore(n,this),this.classList.contains("emby-select-withcolor")&&(null===(t=this.parentNode)||void 0===t||t.insertAdjacentHTML("beforeend",'<div class="selectArrowContainer"><div style="visibility:hidden;display:none;">0</div><span class="selectArrow material-icons keyboard_arrow_down" aria-hidden="true"></span></div>'))}},w.setLabel=function(e){var t;(null===(t=this.parentNode)||void 0===t?void 0:t.querySelector("label")).innerText=e},document.registerElement("emby-select",{prototype:w,extends:"select"})},54725:function(e,t,n){"use strict";n(20252),n(99785),n(43512),n(61013),n(72410),n(63238),n(15610),n(17460),n(52077),n(25901),n(92189),n(91047),n(5769),n(14078);var r=n(57366),a=n(72365),i=n(30325),o=n(84280),s=n(1892),l=n.n(s),c=n(95760),u=n.n(c),d=n(38311),f=n.n(d),h=n(58192),p=n.n(h),m=n(38060),y=n.n(m),v=n(54865),g=n.n(v),b=n(82911),w={};function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}w.styleTagTransform=g(),w.setAttributes=p(),w.insert=f().bind(null,"head"),w.domAPI=u(),w.insertStyleElement=y(),l()(b.Z,w),b.Z&&b.Z.locals&&b.Z.locals,n(67752),n(33310);var k,S=Object.create(HTMLInputElement.prototype),x=!1;if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var I=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");I&&I.configurable&&(x=!0)}function C(e,t){var n=e.sliderBubbleTrack.getBoundingClientRect(),r=(t-n.left)/n.width,a=e.max-e.min;if("any"!==e.step&&0!==a){var i=(e.step||1)/a;r=Math.round(r/i)*i}return Math.min(Math.max(r,0),1)}function T(e,t){var n=(e.max-e.min)*t;if("any"!==e.step){var r=e.step||1;n=Math.round(n/r)*r}return n+=parseFloat(e.min),Math.min(Math.max(n,e.min),e.max)}function L(e){if(!e||!this.keyboardDragging&&!this.touched){var t=this,n=t.value;cancelAnimationFrame(t.updateValuesFrame),t.updateValuesFrame=requestAnimationFrame((function(){var e=t.backgroundLower;if(e){var r=(n-t.min)/(t.max-t.min);r*=100,e.style.width=r+"%"}}))}}function E(e,t,n){requestAnimationFrame((function(){var r=e.sliderBubbleTrack.getBoundingClientRect(),a=n.getBoundingClientRect(),i=r.width*t/100;i=Math.min(Math.max(i,a.width/2),r.width-a.width/2),n.style.left=i+"px",t=e.getBubbleHtml?e.getBubbleHtml(t):'<h1 class="sliderBubbleText">'+(t=e.getBubbleText?e.getBubbleText(t):T(e,t/100).toLocaleString())+"</h1>",n.innerHTML=t}))}function A(e,t){(function(e){e.keyboardDragging=!0,clearTimeout(k),k=setTimeout((function(){!function(e){clearTimeout(k),k=void 0,e.keyboardDragging=!1;var t=new Event("change",{bubbles:!0,cancelable:!1});e.dispatchEvent(t)}(e)}),1e3)})(e),e.value=Math.max(e.min,Math.min(e.max,parseFloat(e.value)+t));var n=new Event("input",{bubbles:!0,cancelable:!1});e.dispatchEvent(n)}function Z(e){switch(o.ZP.getKeyName(e)){case"ArrowLeft":case"Left":A(this,-this.keyboardStepDown||-1),e.preventDefault(),e.stopPropagation();break;case"ArrowRight":case"Right":A(this,this.keyboardStepUp||1),e.preventDefault(),e.stopPropagation()}}function O(e,t,n){var r=e.style;r.left=Math.max(t,0)+"%";var a=n-t;r.width=Math.max(Math.min(a,100),0)+"%"}S.attachedCallback=function(){if("true"!==this.getAttribute("data-embyslider")){this.setAttribute("data-embyslider","true"),this.classList.add("mdl-slider"),this.classList.add("mdl-js-slider"),r.Z.edge&&this.classList.add("slider-browser-edge"),i.Z.mobile||this.classList.add("mdl-slider-hoverthumb"),i.Z.tv&&this.classList.add("show-focus");var e=a.ZP.parentWithClass(this,"sliderContainer-settings");if(e&&this.getAttribute("label")){var t=this.ownerDocument.createElement("label");t.innerText=this.getAttribute("label"),t.classList.add("sliderLabel"),t.htmlFor=this.id,e.insertBefore(t,e.firstChild)}var n=this.parentNode;n.classList.add("mdl-slider-container"),n.insertAdjacentHTML("beforeend",'<div class="mdl-slider-background-flex-container"><div class="mdl-slider-background-flex"><div class="mdl-slider-background-flex-inner"><div class="mdl-slider-background-upper"></div><div class="mdl-slider-background-lower"></div></div></div></div><div class="sliderBubbleTrack"><div class="sliderBubble hide"></div></div>'),this.sliderBubbleTrack=n.querySelector(".sliderBubbleTrack"),this.backgroundLower=n.querySelector(".mdl-slider-background-lower"),this.backgroundUpper=n.querySelector(".mdl-slider-background-upper");var o=n.querySelector(".sliderBubble"),s=o.classList.contains("hide");a.ZP.addEventListener(this,"input",(function(){var e,t,n,r;this.dragging=!0,"true"!==this.dataset.sliderKeepProgress&&L.call(this),E(this,100*(e=this,t=this.value,r=0!==(n=e.max-e.min)?(t-e.min)/n:0,Math.min(Math.max(r,0),1)),o),s&&(o.classList.remove("hide"),s=!1)}),{passive:!0}),a.ZP.addEventListener(this,"change",(function(){this.dragging=!1,"true"===this.dataset.sliderKeepProgress&&L.call(this),o.classList.add("hide"),s=!0}),{passive:!0}),a.ZP.addEventListener(this,window.PointerEvent?"pointermove":"mousemove",(function(e){this.dragging||(E(this,100*C(this,e.clientX),o),s&&(o.classList.remove("hide"),s=!1))}),{passive:!0}),a.ZP.addEventListener(this,window.PointerEvent?"pointerleave":"mouseleave",(function(){o.classList.add("hide"),s=!0}),{passive:!0}),r.Z.iOS&&(a.ZP.addEventListener(this,"touchstart",(function(e){if(1===e.targetTouches.length){this.touched=!0;var t=C(this,e.targetTouches[0].clientX);this.value=T(this,t),this.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!1})),e.preventDefault()}}),{capture:!0}),a.ZP.addEventListener(this,"touchmove",(function(e){if(this.touched&&1===e.targetTouches.length){var t=C(this,e.targetTouches[0].clientX);this.value=T(this,t),this.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!1}))}}),{passive:!0}),a.ZP.addEventListener(this,"touchend",(function(){var e=this;setTimeout((function(){e.touched=!1,e.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!1}))}),0)}),{passive:!0})),x?this.addEventListener("valueset",L.bind(this,!0)):((c=(l=this).interval)&&clearInterval(c),l.interval=setInterval(L.bind(l,!0),100))}var l,c},S.enableKeyboardDragging=function(){this.keyboardDraggingEnabled||(this.addEventListener("keydown",Z),this.keyboardDraggingEnabled=!0)},S.setKeyboardSteps=function(e,t){this.keyboardStepDown=e||t||1,this.keyboardStepUp=t||e||1},S.setBufferedRanges=function(e,t,n){var r=this.backgroundUpper;if(r){null!=t&&(e=function(e,t){return t?e.map((function(e){return{start:e.start/t*100,end:e.end/t*100}})):[]}(e,t),n=n/t*100);var a,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}(e);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(!(null!=n&&n>=o.end))return void O(r,o.start,o.end)}}catch(e){i.e(e)}finally{i.f()}O(r,0,0)}},S.setIsClear=function(e){var t=this.backgroundLower;t&&(e?t.classList.add("mdl-slider-background-lower-clear"):t.classList.remove("mdl-slider-background-lower-clear"))},S.detachedCallback=function(){var e=this.interval;e&&clearInterval(e),this.interval=null,this.backgroundUpper=null,this.backgroundLower=null},document.registerElement("emby-slider",{prototype:S,extends:"input"})},15112:function(e,t,n){"use strict";n(32081),n(67752);var r=n(72365),a=n(15723),i=n(57366),o=n(34643),s=n(30325),l=n(1892),c=n.n(l),u=n(95760),d=n.n(u),f=n(38311),h=n.n(f),p=n(58192),m=n.n(p),y=n(38060),v=n.n(y),g=n(54865),b=n.n(g),w=n(1841),P={};P.styleTagTransform=b(),P.setAttributes=m(),P.insert=h().bind(null,"head"),P.domAPI=d(),P.insertStyleElement=v(),c()(w.Z,P),w.Z&&w.Z.locals&&w.Z.locals,n(87201);var k=Object.create(HTMLDivElement.prototype),S="emby-tab-button",x=S+"-active";function I(e){e.classList.add(x)}function C(e,t,n){var r;e.dispatchEvent(new CustomEvent("beforetabchange",{detail:{selectedTabIndex:t,previousIndex:n}})),null!=n&&n!==t&&(r=null)&&r.classList.remove("is-active")}function T(e){var t=this,n=t.querySelector("."+x),a=r.ZP.parentWithClass(e.target,S);if(a&&a!==n){n&&n.classList.remove(x);var i=n?parseInt(n.getAttribute("data-index")):null;I(a);var o=parseInt(a.getAttribute("data-index"));C(t,o,i),setTimeout((function(){t.selectedTabIndex=o,t.dispatchEvent(new CustomEvent("tabchange",{detail:{selectedTabIndex:o,previousIndex:i}}))}),120),t.scroller&&t.scroller.toCenter(a,!1)}}function L(e){var t=r.ZP.parentWithClass(e.target,S);t&&this.scroller&&this.scroller.toCenter(t,!1)}function E(e){var t=e.target.parentNode.querySelector(".lastFocused");t&&t.classList.remove("lastFocused"),e.target.classList.add("lastFocused")}function A(e){return e.querySelector("."+x)}function Z(e,t){for(var n=e[t];n;){if(n.classList.contains(S)&&!n.classList.contains("hide"))return n;n=n[t]}return null}k.createdCallback=function(){this.classList.contains("emby-tabs")||(this.classList.add("emby-tabs"),this.classList.add("focusable"),r.ZP.addEventListener(this,"click",T,{passive:!0}),s.Z.tv&&r.ZP.addEventListener(this,"focusin",L,{passive:!0}),r.ZP.addEventListener(this,"focusout",E))},k.focus=function(){var e=this.querySelector("."+x),t=this.querySelector(".lastFocused");t?o.Z.focus(t):e?o.Z.focus(e):o.Z.autoFocus(this)},k.refresh=function(){this.scroller&&this.scroller.reload()},k.attachedCallback=function(){!function(e){if(!e.scroller){var t=e.querySelector(".emby-tabs-slider");t?(e.scroller=new a.Z(e,{horizontal:1,itemNav:0,mouseDragging:1,touchDragging:1,slidee:t,smart:!0,releaseSwing:!0,scrollBy:200,speed:120,elasticBounds:1,dragHandle:1,dynamicHandle:1,clickBar:1,hiddenScroll:!0,requireAnimation:!i.Z.safari,allowNativeSmoothScroll:!0}),e.scroller.init()):(e.classList.add("scrollX"),e.classList.add("hiddenScrollX"),e.classList.add("smoothScrollX"))}}(this);var e=this.querySelector("."+x),t=e?parseInt(e.getAttribute("data-index")):parseInt(this.getAttribute("data-index")||"0");if(-1!==t){this.selectedTabIndex=t;var n=this.querySelectorAll("."+S)[t];n&&I(n)}this.readyFired||(this.readyFired=!0,this.dispatchEvent(new CustomEvent("ready",{})))},k.detachedCallback=function(){this.scroller&&(this.scroller.destroy(),this.scroller=null),r.ZP.removeEventListener(this,"click",T,{passive:!0}),s.Z.tv&&r.ZP.removeEventListener(this,"focusin",L,{passive:!0})},k.selectedIndex=function(e,t){var n=this;if(null==e)return n.selectedTabIndex||0;var r=n.selectedIndex();n.selectedTabIndex=e;var a=n.querySelectorAll("."+S);if(r===e||!1===t){C(n,e,r),n.dispatchEvent(new CustomEvent("tabchange",{detail:{selectedTabIndex:e}}));var i=a[r];I(a[e]),r!==e&&i&&i.classList.remove(x)}else T.call(n,{target:a[e]})},k.selectNext=function(){var e=Z(A(this),"nextSibling");e&&T.call(this,{target:e})},k.selectPrevious=function(){var e=Z(A(this),"previousSibling");e&&T.call(this,{target:e})},k.triggerBeforeTabChange=function(){C(this,this.selectedIndex())},k.triggerTabChange=function(){this.dispatchEvent(new CustomEvent("tabchange",{detail:{selectedTabIndex:this.selectedIndex()}}))},k.setTabEnabled=function(e,t){var n=this.querySelector('.emby-tab-button[data-index="'+e+'"]');t?n.classList.remove("hide"):n.classList.remove("add")},document.registerElement("emby-tabs",{prototype:k,extends:"div"})},83038:function(e,t,n){n(52077),function(e){"use strict";var t=e.prototype,n=t.parseFromString;try{if((new e).parseFromString("","text/html"))return}catch(e){}t.parseFromString=function(e,t){if(/^\s*text\/html\s*(?:;|$)/i.test(t)){var r=document.implementation.createHTMLDocument("");return r.documentElement.innerHTML=e,r}return n.apply(this,arguments)}}(DOMParser)},55278:function(e,t,n){n(99785),void 0===HTMLElement.prototype.nativeFocus&&function(){var e=!1;try{var t=document.createElement("div");t.addEventListener("focus",(function(e){e.preventDefault(),e.stopPropagation()}),!0);var n=Object.defineProperty({},"preventScroll",{get:function(){e=!0}});t.focus(n)}catch(e){console.error("error checking preventScroll support")}e||(HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus,HTMLElement.prototype.focus=function(e){var t=window.scrollX,n=window.scrollY;this.nativeFocus(),e&&e.preventScroll&&window.scroll(t,n)})}()},93662:function(e,t,n){n(63238),n(61418),function(e){"use strict";var t=e.prototype,n=t.play;t.play=function(){try{var e=n.apply(this,arguments);return"function"==typeof(null==e?void 0:e.then)?e:Promise.resolve()}catch(e){return Promise.reject(e)}}}(HTMLMediaElement)},20671:function(e,t,n){n(63238),n(23938),n(99785),function(){var e={transform:["webkitTransform"],transition:["webkitTransition"]},t=document.createElement("div");function n(n){n in t.style||(e[n]||[]).every((function(e){return!(e in t.style)||(console.debug("polyfill '".concat(n,"' with '").concat(e,"'")),Object.defineProperty(CSSStyleDeclaration.prototype,n,{get:function(){return this[e]},set:function(t){this[e]=t}}),!1)}))}t.style instanceof CSSStyleDeclaration&&(n("transform"),n("transition"))}()},15723:function(e,t,n){"use strict";n(52077),n(1203),n(63238),n(48410),n(27471),n(61418),n(25901),n(92189),n(91047),n(5769),n(17460),n(14078);var r=n(57366),a=n(30325),i=n(72365),o=n(34643),s=n(97329);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e){e.preventDefault(),e.stopPropagation(),this.removeEventListener(e.type,c)}function u(e,t,n){return e<t?t:e>n?n:e}n(87201);var d=["mousemove","mouseup"],f=["touchmove","touchend"],h=document.implementation.hasFeature("Event.wheel","3.0")?"wheel":"mousewheel",p=["INPUT","SELECT","TEXTAREA"],m=function(e,t){var n=Object.assign({},{slidee:null,horizontal:!1,mouseWheel:!0,scrollBy:0,dragSource:null,mouseDragging:1,touchDragging:1,dragThreshold:3,intervactive:null,speed:0},t),l="scrollBehavior"in document.documentElement.style;!1===t.allowNativeScroll?t.enableNativeScroll=!1:l&&(r.Z.firefox&&!a.Z.tv||t.allowNativeSmoothScroll)?t.enableNativeScroll=!0:t.requireAnimation&&(r.Z.animate||r.Z.supportsCssAnimation())?t.enableNativeScroll=!1:a.Z.tv&&r.Z.animate||(t.enableNativeScroll=!0),r.Z.web0s&&(t.enableNativeScroll=!0);var m=this;m.options=n;var y=n.slidee?n.slidee:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&undefined!==e&&n.push(e);return n}(e.firstChild)[0];m._pos={start:0,center:0,end:0,cur:0,dest:0};var v=!t.enableNativeScroll,g=e,b=n.dragSource?n.dragSource:e,w={released:1},P={last:0,delta:0,resetTime:200};m.initialized=0,m.slidee=y,m.options=n,m.dragging=w;var k,S=e,x=!0,I=0,C=0;function T(){x&&(x=!1,I=n.horizontal?e.offsetWidth:e.offsetHeight,C=n.scrollWidth||Math.max(y[n.horizontal?"offsetWidth":"offsetHeight"],y[n.horizontal?"scrollWidth":"scrollHeight"]),m._pos.end=Math.max(C-I,0))}function L(e){if(x=!0,!e){T();var t=m._pos;m.slideTo(u(t.dest,t.start,t.end))}}function E(e,t,n,a,i){var o=e.style;(i||r.Z.edge)&&(o.transition="none",e.offsetWidth),o.transition="transform "+a+"ms ease-out",o[t]=n}function A(e){return e.getBoundingClientRect?e.getBoundingClientRect():{top:0,left:0}}function Z(e){var t="touchstart"===e.type;if(!(w.init||!t&&function(e){for(;e;){if(-1!==p.indexOf(e.tagName))return!0;e=e.parentNode}return!1}(e.target))&&(t?n.touchDragging:n.mouseDragging&&e.which<2)){t||e.preventDefault(),w.released=0,w.init=0,w.source=e.target,w.touch=t;var r=t?e.touches[0]:e;w.initX=r.pageX,w.initY=r.pageY,w.initPos=m._pos.cur,w.start=+new Date,w.time=0,w.path=0,w.delta=0,w.locked=0,w.pathToLock=t?30:10,v&&(t?f.forEach((function(e){i.ZP.addEventListener(document,e,O,{passive:!0})})):d.forEach((function(e){i.ZP.addEventListener(document,e,O,{passive:!0})})))}}function O(e){w.released="mouseup"===e.type||"touchend"===e.type;var t=w.touch?e[w.released?"changedTouches":"touches"][0]:e;if(w.pathX=t.pageX-w.initX,w.pathY=t.pageY-w.initY,w.path=Math.sqrt(Math.pow(w.pathX,2)+Math.pow(w.pathY,2)),w.delta=n.horizontal?w.pathX:w.pathY,w.released||!(w.path<1)){if(!w.init){if(w.path<n.dragThreshold)return w.released?j():void 0;if(!(n.horizontal?Math.abs(w.pathX)>Math.abs(w.pathY):Math.abs(w.pathX)<Math.abs(w.pathY)))return j();w.init=1}!w.locked&&w.path>w.pathToLock&&(w.locked=1,w.source.addEventListener("click",c)),w.released&&j(),m.slideTo(Math.round(w.initPos-w.delta))}}function j(){w.released=!0,f.forEach((function(e){i.ZP.removeEventListener(document,e,O,{passive:!0})})),d.forEach((function(e){i.ZP.removeEventListener(document,e,O,{passive:!0})})),setTimeout((function(){w.source.removeEventListener("click",c)})),w.init=0}function M(e){T();var t=m._pos;if(n.scrollBy&&t.start!==t.end){var r=function(e){return P.curDelta=n.horizontal?e.deltaX:e.deltaY,v&&(P.curDelta/=1===e.deltaMode?3:100),P.curDelta}(e);v?(r>0&&t.dest<t.end||r<0&&(t.dest,t.start),m.slideBy(n.scrollBy*r)):(l&&(r*=12),n.horizontal?S.scrollLeft+=r:S.scrollTop+=r)}}m.reload=function(){L()},m.getScrollEventName=function(){return v?"scrollanimate":"scroll"},m.getScrollSlider=function(){return y},m.getScrollFrame=function(){return e},m.slideTo=function(t,r,i){T();var o=m._pos;if(t=a.Z.tv?u(t,o.start):u(t,o.start,o.end),v){o.cur,r=r||w.init||!n.speed;var s=(new Date).getTime();n.autoImmediate&&!r&&s-(k||0)<=50&&(r=!0),!r&&n.skipSlideToWhenVisible&&i&&i.isVisible||(o.dest=t,function(t,r,a){var i=n.speed;a&&(i=n.immediateSpeed||50),n.horizontal?E(y,"transform","translateX("+-Math.round(r)+"px)",i):E(y,"transform","translateY("+-Math.round(r)+"px)",i),m._pos.cur=r,n.dispatchScrollEvent&&e.dispatchEvent(new CustomEvent(m.getScrollEventName(),{bubbles:!0,cancelable:!1}))}(0,t,r),k=s)}else!function(e,t,r){e.scroll?n.horizontal?e.scroll({left:t,behavior:r?"instant":"smooth"}):e.scroll({top:t,behavior:r?"instant":"smooth"}):!r&&e.scrollTo?n.horizontal?e.scrollTo(Math.round(t),0):e.scrollTo(0,Math.round(t)):n.horizontal?e.scrollLeft=Math.round(t):e.scrollTop=Math.round(t)}(S,t,r)},m.getPos=function(e){var t=A(v?y:S),r=A(e),a=n.horizontal?r.left-t.left:r.top-t.top,i=n.horizontal?r.width:r.height;i||0===i||(i=e[n.horizontal?"offsetWidth":"offsetHeight"]);var o=n.centerOffset||0;v||(o=0,n.horizontal?a+=S.scrollLeft:a+=S.scrollTop),T();var s=m._pos.cur,l=s+I;return console.debug("offset:"+a+" currentStart:"+s+" currentEnd:"+l),{start:a,center:a+o-I/2+i/2,end:a-I+i,size:i,isVisible:a>=s&&a+i<=l}},m.getCenterPosition=function(e){T();var t=m.getPos(e);return u(t.center,t.start,t.end)},m.destroy=function(){return m.frameResizeObserver&&(m.frameResizeObserver.disconnect(),m.frameResizeObserver=null),i.ZP.removeEventListener(e,"scroll",R,{passive:!0}),i.ZP.removeEventListener(g,h,M,{passive:!0}),i.ZP.removeEventListener(b,"touchstart",Z,{passive:!0}),i.ZP.removeEventListener(e,"click",_,{passive:!0,capture:!0}),i.ZP.removeEventListener(b,"mousedown",Z,{}),g.removeAttribute("data-scroll-mode-".concat(n.horizontal?"x":"y")),m.initialized=0,m};var N={};function D(e){var t=e[0];if(t){var n=t.contentRect;if(0===n.width||0===n.height)return;n.width===N.width&&n.height===N.height||(N=n,L(!1))}}function R(){n.horizontal?this.scrollLeft=0:this.scrollTop=0}function _(e){if(1===e.which){var t=o.Z.focusableParent(e.target);t&&t!==document.activeElement&&t.focus()}}m.getScrollPosition=function(){return v?m._pos.cur:n.horizontal?S.scrollLeft:S.scrollTop},m.getScrollSize=function(){return v?C:n.horizontal?S.scrollWidth:S.scrollHeight},m.init=function(){if(!m.initialized)return v?(e.style.overflow="hidden",y.style["will-change"]="transform",y.style.transition="transform "+n.speed+"ms ease-out",n.horizontal?y.classList.add("animatedScrollX"):y.classList.add("animatedScrollY")):n.horizontal?(a.Z.desktop&&!n.hideScrollbar?S.classList.add("scrollX"):(S.classList.add("scrollX"),S.classList.add("hiddenScrollX"),a.Z.tv&&!1!==n.allowNativeSmoothScroll&&S.classList.add("smoothScrollX")),n.forceHideScrollbars&&S.classList.add("hiddenScrollX-forced")):(a.Z.desktop&&!n.hideScrollbar?S.classList.add("scrollY"):(S.classList.add("scrollY"),S.classList.add("hiddenScrollY"),a.Z.tv&&!1!==n.allowNativeSmoothScroll&&S.classList.add("smoothScrollY")),n.forceHideScrollbars&&S.classList.add("hiddenScrollY-forced")),g.setAttribute("data-scroll-mode-".concat(n.horizontal?"x":"y"),"custom"),(v||a.Z.tv)&&i.ZP.addEventListener(b,"mousedown",Z,{}),m.frameResizeObserver=new s.Z(D,{}),m.frameResizeObserver.observe(e),v?(i.ZP.addEventListener(b,"touchstart",Z,{passive:!0}),n.horizontal||i.ZP.addEventListener(e,"scroll",R,{passive:!0}),n.mouseWheel&&i.ZP.addEventListener(g,h,M,{passive:!0})):n.horizontal&&n.mouseWheel&&i.ZP.addEventListener(g,h,M,{passive:!0}),i.ZP.addEventListener(e,"click",_,{passive:!0,capture:!0}),m.initialized=1,L(!0),m}};m.prototype.slideBy=function(e,t){e&&this.slideTo(this._pos.dest+e,t)},m.prototype.to=function(e,t,n){var r;if("boolean"===(null==(r=t)?String(r):"object"===l(r)||"function"==typeof r?Object.prototype.toString.call(r).match(/\s([a-z]+)/i)[1].toLowerCase()||"object":l(r))&&(n=t,t=void 0),void 0===t)this.slideTo(this._pos[e],n);else{var a=this.getPos(t);a&&this.slideTo(a[e],n,a)}},m.prototype.toStart=function(e,t){this.to("start",e,t)},m.prototype.toEnd=function(e,t){this.to("end",e,t)},m.prototype.toCenter=function(e,t){this.to("center",e,t)},m.create=function(e,t){var n=new m(e,t);return Promise.resolve(n)},t.Z=m},57366:function(e,t,n){"use strict";var r,a;function i(){var e=navigator.userAgent.toLowerCase();return-1!==e.indexOf("netcast")||-1!==e.indexOf("web0s")}n(27471),n(52077),n(1203),n(32081);var o=navigator.userAgent,s=function(e){e=e.toLowerCase();var t,n=/(edg)[ /]([\w.]+)/.exec(e)||/(edga)[ /]([\w.]+)/.exec(e)||/(edgios)[ /]([\w.]+)/.exec(e)||/(edge)[ /]([\w.]+)/.exec(e)||/(opera)[ /]([\w.]+)/.exec(e)||/(opr)[ /]([\w.]+)/.exec(e)||/(chrome)[ /]([\w.]+)/.exec(e)||/(safari)[ /]([\w.]+)/.exec(e)||/(firefox)[ /]([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],r=/(version)[ /]([\w.]+)/.exec(e),a=/(ipad)/.exec(e)||/(iphone)/.exec(e)||/(windows)/.exec(e)||/(android)/.exec(e)||[],i=n[1]||"";"edge"===i&&(a=[""]),"opr"===i&&(i="opera"),r&&r.length>2&&(t=r[2]),t=t||n[2]||"0";var o=parseInt(t.split(".")[0]);return isNaN(o)&&(o=0),{browser:i,version:t,platform:a[0]||"",versionMajor:o}}(o),l={};if(s.browser&&(l[s.browser]=!0,l.version=s.version,l.versionMajor=s.versionMajor),s.platform&&(l[s.platform]=!0),l.edgeChromium=l.edg||l.edga||l.edgios,l.chrome||l.edgeChromium||l.edge||l.opera||-1===o.toLowerCase().indexOf("webkit")||(l.safari=!0),l.osx=-1!==o.toLowerCase().indexOf("mac os x"),l.osx&&!l.iphone&&!l.ipod&&!l.ipad&&navigator.maxTouchPoints>1&&(l.ipad=!0),-1!==o.toLowerCase().indexOf("playstation 4")&&(l.ps4=!0,l.tv=!0),function(e){for(var t=["mobi","ipad","iphone","ipod","silk","gt-p1000","nexus 7","kindle fire","opera mini"],n=e.toLowerCase(),r=0,a=t.length;r<a;r++)if(-1!==n.indexOf(t[r]))return!0;return!1}(o)&&(l.mobile=!0),-1!==o.toLowerCase().indexOf("xbox")&&(l.xboxOne=!0,l.tv=!0),l.animate="undefined"!=typeof document&&null!=document.documentElement.animate,l.tizen=-1!==o.toLowerCase().indexOf("tizen")||null!=window.tizen,l.web0s=i(),l.edgeUwp=l.edge&&(-1!==o.toLowerCase().indexOf("msapphost")||-1!==o.toLowerCase().indexOf("webview")),l.web0s)l.web0sVersion=function(e){if(e.chrome){if(-1!==navigator.userAgent.toLowerCase().indexOf("netcast"))return void console.warn("Unable to detect webOS version - NetCast");if(e.versionMajor>=79)return 6;if(e.versionMajor>=68)return 5;if(e.versionMajor>=53)return 4;if(e.versionMajor>=38)return 3;if(e.versionMajor>=34)return 2;if(e.versionMajor>=26)return 1}else{if(e.versionMajor>=538)return 2;if(e.versionMajor>=537)return 1}console.error("Unable to detect webOS version")}(l);else if(l.tizen){delete l.safari;var c=navigator.appVersion.match(/Tizen (\d+).(\d+)/);l.tizenVersion=parseInt(c[1])}else l.orsay=-1!==o.toLowerCase().indexOf("smarthub");l.edgeUwp&&(l.edge=!0),l.tv=function(){var e=navigator.userAgent.toLowerCase();return-1===e.indexOf("oculusbrowser")&&(-1!==e.indexOf("tv")||-1!==e.indexOf("samsungbrowser")||-1!==e.indexOf("viera")||!!i())}(),l.operaTv=l.tv&&-1!==o.toLowerCase().indexOf("opr/"),(l.mobile||l.tv)&&(l.slow=!0),"undefined"!=typeof document&&("ontouchstart"in window||navigator.maxTouchPoints>0)&&(l.touch=!0),l.keyboard=function(e){return!!(e.touch||e.xboxOne||e.ps4||e.edgeUwp||e.tv)}(l),l.supportsCssAnimation=function(e){if(e){if(!0===a||!1===a)return a}else if(!0===r||!1===r)return r;var t=!1,n=["Webkit","O","Moz"],i=document.createElement("div");if(void 0!==i.style.animationName&&(t=!0),!1===t&&e)for(var o=0;o<n.length;o++)if(void 0!==i.style[n[o]+"AnimationName"]){t=!0;break}return e?a=t:r=t},l.iOS=l.ipad||l.iphone||l.ipod,l.iOS&&(l.iOSVersion=function(){if(/iP(hone|od|ad)|MacIntel/.test(navigator.platform))for(var e=0,t=[/OS (\d+)_(\d+)_?(\d+)?/,/Version\/(\d+)/];e<t.length;e++){var n=t[e],r=navigator.appVersion.match(n);if(r)return[parseInt(r[1],10),parseInt(r[2]||0,10),parseInt(r[3]||0,10)]}return[]}(),l.iOSVersion&&l.iOSVersion.length>=2&&(l.iOSVersion=l.iOSVersion[0]+l.iOSVersion[1]/10)),t.Z=l},23240:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}}),n(52077),n(911),n(32081),n(98010),n(63238),n(27471),n(55849),n(61013),n(40895),n(23938);var r,a,i=n(59858),o=n(60934),s=n(57366);function l(e,t){return!!(s.Z.tizen||s.Z.xboxOne||s.Z.web0s||t.supportsHevc)||!s.Z.ps4&&!!e.canPlayType&&(e.canPlayType('video/mp4; codecs="hvc1.1.L120"').replace(/no/,"")||e.canPlayType('video/mp4; codecs="hev1.1.L120"').replace(/no/,"")||e.canPlayType('video/mp4; codecs="hvc1.1.0.L120"').replace(/no/,"")||e.canPlayType('video/mp4; codecs="hev1.1.0.L120"').replace(/no/,""))}function c(){return null==a&&(a=u()||null!=window.MediaSource),a}function u(){if(s.Z.tizen)return!0;var e=document.createElement("video");return!(!e.canPlayType("application/x-mpegURL").replace(/no/,"")&&!e.canPlayType("application/vnd.apple.mpegURL").replace(/no/,""))}function d(e){return!!(s.Z.edgeUwp||s.Z.tizen||s.Z.web0s)||!(s.Z.iOS&&s.Z.iOSVersion<11)&&e.canPlayType('audio/mp4; codecs="ac-3"').replace(/no/,"")}function f(e){return!(!s.Z.tizen&&!s.Z.web0s)||!(s.Z.iOS&&s.Z.iOSVersion<11)&&e.canPlayType('audio/mp4; codecs="ec-3"').replace(/no/,"")}function h(e){var t;if("flac"===e){if(s.Z.tizen||s.Z.web0s||s.Z.edgeUwp)return!0}else if("wma"===e){if(s.Z.tizen||s.Z.edgeUwp)return!0}else if("asf"===e){if(s.Z.tizen||s.Z.web0s||s.Z.edgeUwp)return!0}else if("opus"===e){if(s.Z.web0s)return s.Z.web0sVersion>=3.5;t='audio/ogg; codecs="opus"'}else if("alac"===e){if(s.Z.iOS||s.Z.osx)return!0}else if("mp2"===e)return!1;return"webma"===e?t="audio/webm":"mp2"===e?t="audio/mpeg":t||(t="audio/"+e),!!document.createElement("audio").canPlayType(t).replace(/no/,"")}function p(){return s.Z.tizen||s.Z.web0s||s.Z.edgeUwp}function m(e){return s.Z.tizen||s.Z.web0s||s.Z.edgeUwp||e.canPlayType('video/mp4; codecs="vc-1"').replace(/no/,"")}function y(e){var t;e=e||{};var n=12e7,a=document.createElement("video"),y=function(e,t){var n=parseInt(o.allowedAudioChannels(),10);if(n>0)return n;if(e.audioChannels)return e.audioChannels;var r,a=s.Z.safari||s.Z.chrome||s.Z.edgeChromium||s.Z.firefox||s.Z.tv||s.Z.ps4||s.Z.xboxOne,i=d(t)||f(t),l=(r=window.AudioContext||window.webkitAudioContext||!1)?(new r).destination.maxChannelCount:-1;return i&&a?l>6?l:6:l>2?a?l:2:l>0?l:a?6:2}(e,a),v=a.canPlayType('video/webm; codecs="vp8"').replace(/no/,""),g=a.canPlayType('video/webm; codecs="vp9"').replace(/no/,""),b=["vorbis"],w=function(e){return!!(s.Z.tizen||s.Z.web0s||e.canPlayType("video/x-matroska").replace(/no/,"")||e.canPlayType("video/mkv").replace(/no/,"")||s.Z.edgeChromium&&s.Z.windows||s.Z.edgeUwp)}(a),P={};P.MaxStreamingBitrate=n,P.MaxStaticBitrate=1e8,P.MusicStreamingTranscodingBitrate=Math.min(n,384e3),P.DirectPlayProfiles=[];var k=[],S=[],x=[],I=a.canPlayType('video/mp4; codecs="avc1.640029, mp4a.69"').replace(/no/,"")||a.canPlayType('video/mp4; codecs="avc1.640029, mp4a.6B"').replace(/no/,"")||a.canPlayType('video/mp4; codecs="avc1.640029, mp3"').replace(/no/,""),C=e.supportsMp2VideoAudio;null==C&&(C=s.Z.edgeUwp||s.Z.tizen||s.Z.web0s,I&&(s.Z.chrome||s.Z.edgeChromium||s.Z.firefox&&s.Z.versionMajor>=83)&&(C=!0),s.Z.android&&(C=!1));var T=s.Z.xboxOne?null===(t=window.screen)||void 0===t?void 0:t.width:null;e.maxVideoWidth&&(T=e.maxVideoWidth);var L=a.canPlayType('video/mp4; codecs="avc1.640029, mp4a.40.2"').replace(/no/,""),E=d(a),A=f(a),Z=function(e){return!(!s.Z.tizen&&!s.Z.web0s)||!!e.canPlayType&&(e.canPlayType('application/x-mpegurl; codecs="avc1.42E01E, ac-3"').replace(/no/,"")||e.canPlayType('application/vnd.apple.mpegURL; codecs="avc1.42E01E, ac-3"').replace(/no/,""))}(a);L&&(k.push("aac"),S.push("aac"),x.push("aac")),I&&(k.push("mp3"),s.Z.ps4||S.push("mp3"),x.push("mp3")),E&&(k.push("ac3"),A&&k.push("eac3"),Z&&(S.push("ac3"),x.push("ac3"),A&&(S.push("eac3"),x.push("eac3")))),C&&(k.push("mp2"),S.push("mp2"),x.push("mp2"));var O=e.supportsDts;null==O&&(O=s.Z.tizen||s.Z.web0sVersion||a.canPlayType('video/mp4; codecs="dts-"').replace(/no/,"")||a.canPlayType('video/mp4; codecs="dts+"').replace(/no/,""),(s.Z.tizenVersion>=4||s.Z.web0sVersion>=5)&&(O=!1)),O&&(k.push("dca"),k.push("dts")),(s.Z.tizen||s.Z.web0s)&&(k.push("pcm_s16le"),k.push("pcm_s24le")),e.supportsTrueHd&&k.push("truehd"),s.Z.tizen&&k.push("aac_latm"),h("opus")&&(k.push("opus"),b.push("opus"),s.Z.tizen&&S.push("opus")),h("flac")&&(k.push("flac"),x.push("flac")),h("alac")&&(k.push("alac"),x.push("alac")),k=k.filter((function(t){return-1===(e.disableVideoAudioCodecs||[]).indexOf(t)})),S=S.filter((function(t){return-1===(e.disableHlsVideoAudioCodecs||[]).indexOf(t)})),x=x.filter((function(t){return-1===(e.disableHlsVideoAudioCodecs||[]).indexOf(t)}));var j=[],M=[],N=[],D=[];(s.Z.safari||s.Z.tizen||s.Z.web0s)&&l(a,e)&&D.push("hevc"),function(e){return!(!e.canPlayType||!e.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""))}(a)&&(j.push("h264"),N.push("h264"),(s.Z.safari||s.Z.tizen||s.Z.web0s)&&D.push("h264")),l(a,e)&&(s.Z.safari||j.push("hevc"),(s.Z.tizen||s.Z.web0s)&&N.push("hevc")),p()&&j.push("mpeg2video"),m(a)&&j.push("vc1"),s.Z.tizen&&j.push("msmpeg4v2"),v&&(j.push("vp8"),M.push("vp8")),g&&(j.push("vp9"),M.push("vp9")),function(e){return s.Z.tizenVersion>=5.5||s.Z.web0sVersion>=5||e.canPlayType('video/webm; codecs="av01.0.15M.10"').replace(/no/,"")}(a)&&(j.push("av1"),M.push("av1")),(v||s.Z.tizen)&&k.push("vorbis"),M.length&&P.DirectPlayProfiles.push({Container:"webm",Type:"Video",VideoCodec:M.join(","),AudioCodec:b.join(",")}),j.length&&P.DirectPlayProfiles.push({Container:"mp4,m4v",Type:"Video",VideoCodec:j.join(","),AudioCodec:k.join(",")}),w&&j.length&&P.DirectPlayProfiles.push({Container:"mkv",Type:"Video",VideoCodec:j.join(","),AudioCodec:k.join(",")}),["m2ts","wmv","ts","asf","avi","mpg","mpeg","flv","3gp","mts","trp","vob","vro","mov"].map((function(t){return function(e,t,n,r){var a=!1,i=e,o=[];switch(e){case"asf":case"wmv":a=s.Z.tizen||s.Z.web0s||s.Z.edgeUwp,t=[];break;case"avi":a=s.Z.tizen||s.Z.web0s||s.Z.edgeUwp,s.Z.tizenVersion>=4&&(o.push("h264"),l(n,r)&&o.push("hevc"));break;case"mpg":case"mpeg":a=s.Z.tizen||s.Z.web0s||s.Z.edgeUwp;break;case"flv":case"3gp":case"mts":case"trp":case"vob":case"vro":a=s.Z.tizen;break;case"mov":a=s.Z.safari||s.Z.tizen||s.Z.web0s||s.Z.chrome||s.Z.edgeChromium||s.Z.edgeUwp,o.push("h264");break;case"m2ts":a=s.Z.tizen||s.Z.web0s||s.Z.edgeUwp,o.push("h264"),m(n)&&o.push("vc1"),p()&&o.push("mpeg2video");break;case"ts":a=s.Z.tizen||s.Z.web0s||s.Z.edgeUwp,o.push("h264"),(s.Z.tizen||s.Z.web0s)&&l(n,r)&&o.push("hevc"),m(n)&&o.push("vc1"),p()&&o.push("mpeg2video"),i="ts,mpegts"}return a?{Container:i,Type:"Video",VideoCodec:o.join(","),AudioCodec:t.join(",")}:null}(t,k,a,e)})).filter((function(e){return null!=e})).forEach((function(e){P.DirectPlayProfiles.push(e)})),["opus","mp3","mp2","aac","flac","alac","webma","wma","wav","ogg","oga"].filter(h).forEach((function(e){P.DirectPlayProfiles.push({Container:e,Type:"Audio"}),"opus"!==e&&"webma"!==e||P.DirectPlayProfiles.push({Container:"webm",AudioCodec:e,Type:"Audio"}),"aac"!==e&&"alac"!==e||(P.DirectPlayProfiles.push({Container:"m4a",AudioCodec:e,Type:"Audio"}),P.DirectPlayProfiles.push({Container:"m4b",AudioCodec:e,Type:"Audio"}))})),P.TranscodingProfiles=[];var R=!(!(s.Z.iOS||s.Z.osx||s.Z.edge)&&u());c()&&!1!==s.Z.enableHlsAudio&&P.TranscodingProfiles.push({Container:!u()||s.Z.edge||s.Z.android?"ts":"aac",Type:"Audio",AudioCodec:"aac",Context:"Streaming",Protocol:"hls",MaxAudioChannels:y.toString(),MinSegments:s.Z.iOS||s.Z.osx?"2":"1",BreakOnNonKeyFrames:R}),["aac","mp3","opus","wav"].filter(h).forEach((function(e){P.TranscodingProfiles.push({Container:e,Type:"Audio",AudioCodec:e,Context:"Streaming",Protocol:"http",MaxAudioChannels:y.toString()})})),["opus","mp3","aac","wav"].filter(h).forEach((function(e){P.TranscodingProfiles.push({Container:e,Type:"Audio",AudioCodec:e,Context:"Static",Protocol:"http",MaxAudioChannels:y.toString()})})),w&&!s.Z.tizen&&!1!==e.enableMkvProgressive&&P.TranscodingProfiles.push({Container:"mkv",Type:"Video",AudioCodec:k.join(","),VideoCodec:j.join(","),Context:"Streaming",MaxAudioChannels:y.toString(),CopyTimestamps:!0}),w&&P.TranscodingProfiles.push({Container:"mkv",Type:"Video",AudioCodec:k.join(","),VideoCodec:j.join(","),Context:"Static",MaxAudioChannels:y.toString(),CopyTimestamps:!0}),c()&&!1!==e.enableHls&&(D.length&&x.length&&o.preferFmp4HlsContainer()&&(s.Z.safari||s.Z.tizen||s.Z.web0s)&&P.TranscodingProfiles.push({Container:"mp4",Type:"Video",AudioCodec:x.join(","),VideoCodec:D.join(","),Context:"Streaming",Protocol:"hls",MaxAudioChannels:y.toString(),MinSegments:s.Z.iOS||s.Z.osx?"2":"1",BreakOnNonKeyFrames:R}),N.length&&S.length&&P.TranscodingProfiles.push({Container:"ts",Type:"Video",AudioCodec:S.join(","),VideoCodec:N.join(","),Context:"Streaming",Protocol:"hls",MaxAudioChannels:y.toString(),MinSegments:s.Z.iOS||s.Z.osx?"2":"1",BreakOnNonKeyFrames:R})),b.length&&M.length&&P.TranscodingProfiles.push({Container:"webm",Type:"Video",AudioCodec:b.join(","),VideoCodec:(v?M.concat("vpx"):M).join(","),Context:"Streaming",Protocol:"http",MaxAudioChannels:y.toString()}),P.TranscodingProfiles.push({Container:"mp4",Type:"Video",AudioCodec:k.join(","),VideoCodec:"h264",Context:"Static",Protocol:"http"}),P.ContainerProfiles=[],P.CodecProfiles=[];var _=s.Z.tizen||a.audioTracks,q=[];a.canPlayType('video/mp4; codecs="avc1.640029, mp4a.40.5"').replace(/no/,"")||q.push({Condition:"NotEquals",Property:"AudioProfile",Value:"HE-AAC"}),_||q.push({Condition:"Equals",Property:"IsSecondaryAudio",Value:"false",IsRequired:!1}),q.length&&P.CodecProfiles.push({Type:"VideoAudio",Codec:"aac",Conditions:q}),_||P.CodecProfiles.push({Type:"VideoAudio",Conditions:[{Condition:"Equals",Property:"IsSecondaryAudio",Value:"false",IsRequired:!1}]});var B=42,F="high|main|baseline|constrained baseline";(s.Z.tizen||s.Z.web0s||a.canPlayType('video/mp4; codecs="avc1.640833"').replace(/no/,""))&&(B=51),(s.Z.tizenVersion>=5&&window.NativeShell||a.canPlayType('video/mp4; codecs="avc1.640834"').replace(/no/,""))&&(B=52),(s.Z.tizen||a.canPlayType('video/mp4; codecs="avc1.6e0033"').replace(/no/,""))&&(s.Z.safari||s.Z.iOS||s.Z.web0s||s.Z.edge||s.Z.mobile||(F+="|high 10"));var U=120,z="main";(a.canPlayType('video/mp4; codecs="hvc1.1.4.L123"').replace(/no/,"")||a.canPlayType('video/mp4; codecs="hev1.1.4.L123"').replace(/no/,""))&&(U=123),(a.canPlayType('video/mp4; codecs="hvc1.2.4.L123"').replace(/no/,"")||a.canPlayType('video/mp4; codecs="hev1.2.4.L123"').replace(/no/,""))&&(U=123,z="main|main 10"),(a.canPlayType('video/mp4; codecs="hvc1.2.4.L153"').replace(/no/,"")||a.canPlayType('video/mp4; codecs="hev1.2.4.L153"').replace(/no/,""))&&(U=153,z="main|main 10"),(a.canPlayType('video/mp4; codecs="hvc1.2.4.L183"').replace(/no/,"")||a.canPlayType('video/mp4; codecs="hev1.2.4.L183"').replace(/no/,""))&&(U=183,z="main|main 10");var H="SDR",V="SDR",W="SDR";s.Z.safari&&(s.Z.iOS&&s.Z.iOSVersion>=11||s.Z.osx)&&(H+="|HDR10|HLG",(s.Z.iOS&&s.Z.iOSVersion>=13||s.Z.osx)&&(H+="|DOVI")),(s.Z.tizen||s.Z.web0s)&&(H+="|HDR10|HLG|DOVI",V+="|HDR10|HLG",W+="|HDR10|HLG"),(s.Z.edgeChromium||s.Z.chrome||s.Z.firefox)&&(V+="|HDR10|HLG",W+="|HDR10|HLG");var G=[{Condition:"NotEquals",Property:"IsAnamorphic",Value:"true",IsRequired:!1},{Condition:"EqualsAny",Property:"VideoProfile",Value:F,IsRequired:!1},{Condition:"EqualsAny",Property:"VideoRangeType",Value:"SDR",IsRequired:!1},{Condition:"LessThanEqual",Property:"VideoLevel",Value:B.toString(),IsRequired:!1}],Q=[{Condition:"NotEquals",Property:"IsAnamorphic",Value:"true",IsRequired:!1},{Condition:"EqualsAny",Property:"VideoProfile",Value:z,IsRequired:!1},{Condition:"EqualsAny",Property:"VideoRangeType",Value:H,IsRequired:!1},{Condition:"LessThanEqual",Property:"VideoLevel",Value:U.toString(),IsRequired:!1}],Y=[{Condition:"EqualsAny",Property:"VideoRangeType",Value:V,IsRequired:!1}],X=[{Condition:"EqualsAny",Property:"VideoRangeType",Value:W,IsRequired:!1}];s.Z.edgeUwp||s.Z.tizen||s.Z.web0s||(G.push({Condition:"NotEquals",Property:"IsInterlaced",Value:"true",IsRequired:!1}),Q.push({Condition:"NotEquals",Property:"IsInterlaced",Value:"true",IsRequired:!1})),T&&(G.push({Condition:"LessThanEqual",Property:"Width",Value:T.toString(),IsRequired:!1}),Q.push({Condition:"LessThanEqual",Property:"Width",Value:T.toString(),IsRequired:!1}));var J=(function(){var e=!1;if(s.Z.tizen)try{e=!webapis.productinfo.isUdPanelSupported(),console.debug("isTizenFhd = "+e)}catch(e){console.error("isUdPanelSupported() error code = "+e.code)}var t=null;return s.Z.ps4?t=8e6:s.Z.xboxOne?t=12e6:s.Z.tizen&&e&&(t=2e7),t}()||"").toString(),$=J,K=J;if($&&G.push({Condition:"LessThanEqual",Property:"VideoBitrate",Value:$,IsRequired:!0}),K&&Q.push({Condition:"LessThanEqual",Property:"VideoBitrate",Value:K,IsRequired:!0}),s.Z.iOS&&s.Z.iOSVersion<13){var ee={Type:"Video",Codec:"h264",Container:"ts",Conditions:G.filter((function(e){return"VideoLevel"!==e.Property}))};ee.Conditions.push({Condition:"LessThanEqual",Property:"VideoLevel",Value:"42",IsRequired:!1}),P.CodecProfiles.push(ee)}P.CodecProfiles.push({Type:"Video",Codec:"h264",Conditions:G}),P.CodecProfiles.push({Type:"Video",Codec:"hevc",Conditions:Q}),P.CodecProfiles.push({Type:"Video",Codec:"vp9",Conditions:Y}),P.CodecProfiles.push({Type:"Video",Codec:"av1",Conditions:X});var te=[];J&&te.push({Condition:"LessThanEqual",Property:"VideoBitrate",Value:J}),T&&te.push({Condition:"LessThanEqual",Property:"Width",Value:T.toString(),IsRequired:!1}),te.length&&P.CodecProfiles.push({Type:"Video",Conditions:te}),P.SubtitleProfiles=[];var ne=i.Z.get("subtitleburnin");return"all"!==ne&&((s.Z.tizen||(null==r&&(r=null!=document.createElement("video").textTracks),r))&&P.SubtitleProfiles.push({Format:"vtt",Method:"External"}),!1===e.enableSsaRender||e.isRetry||"allcomplexformats"===ne||(P.SubtitleProfiles.push({Format:"ass",Method:"External"}),P.SubtitleProfiles.push({Format:"ssa",Method:"External"}))),P.ResponseProfiles=[],P.ResponseProfiles.push({Type:"Video",Container:"m4v",MimeType:"video/mp4"}),P}},61693:function(e,t,n){"use strict";n(52077),n(1203),n(32081),n(43512),n(63238),n(40895),n(27471),n(25901),n(92189),n(91047),n(5769),n(17460),n(14078);var r=n(94994);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){var n=e.match(/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(\.\d+)?(Z|([+-])(\d{2}):(\d{2}))?/);if(!n)throw new Error("Couldn't parse ISO 8601 date string '"+e+"'");var r=[1,2,3,4,5,6,10,11];for(var a in r)n[r[a]]=parseInt(n[r[a]],10);n[7]=parseFloat(n[7]);var i=Date.UTC(n[1],n[2]-1,n[3],n[4],n[5],n[6]);if(n[7]>0&&(i+=Math.round(1e3*n[7])),"Z"!==n[8]&&n[10]){var o=60*n[10]*60*1e3;n[11]&&(o+=60*n[11]*1e3),"-"===n[9]?i-=o:i+=o}else!1===t&&(i+=6e4*(new Date).getTimezoneOffset());return new Date(i)}var o=function(){try{(new Date).toLocaleTimeString("i")}catch(e){return"RangeError"===e.name}return!1}();function s(e,t){if(!e)throw new Error("date cannot be null");if(t=t||{},o){var n=r.ZP.getCurrentDateTimeLocale();if(n)return e.toLocaleTimeString(n,t)}return e.toLocaleTimeString()}t.ZP={parseISO8601Date:i,getDisplayRunningTime:function(e){var t=36e9,n=6e8,r=[],a=e/t;(a=Math.floor(a))&&r.push(a);var i=(e-=a*t)/n;e-=(i=Math.floor(i))*n,i<10&&a&&(i="0"+i),r.push(i);var o=e/1e7;return(o=Math.floor(o))<10&&(o="0"+o),r.push(o),r.join(":")},getDisplayDuration:function(e){var t=Math.round(e/6e8)||1,n=Math.floor(t/60),r=t%60,a=[];return n>0&&a.push("".concat(n,"h")),a.push("".concat(r,"m")),a.join(" ")},toLocaleDateString:function(e,t){if(!e)throw new Error("date cannot be null");if(t=t||{},o){var n=r.ZP.getCurrentDateTimeLocale();if(n)return e.toLocaleDateString(n,t)}var a=function(e){var t=[];for(var n in e)t.push({name:n,value:e[n]});return t}(t);if(1===a.length&&"weekday"===a[0].name){var i=[];return i[0]="Sun",i[1]="Mon",i[2]="Tue",i[3]="Wed",i[4]="Thu",i[5]="Fri",i[6]="Sat",i[e.getDay()]}return e.toLocaleDateString()},toLocaleString:function(e,t){if(!e)throw new Error("date cannot be null");if(t=t||{},o){var n=r.ZP.getCurrentDateTimeLocale();if(n)return e.toLocaleString(n,t)}return e.toLocaleString()},getDisplayTime:function(e){if(!e)throw new Error("date cannot be null");if("string"===a(e).toString().toLowerCase())try{e=i(e,!0)}catch(t){return e}if(o)return s(e,{hour:"numeric",minute:"2-digit"});var t=s(e),n=t.toLowerCase();if(-1!==n.indexOf("am")||-1!==n.indexOf("pm")){t=n;var r=e.getHours()%12,l=e.getHours()>11?"pm":"am";r||(r=12);var c=e.getMinutes();c<10&&(c="0"+c),t=r+(c=":"+c)+l}else{var u=t.split(":");u.length>2&&(u.length=2,t=u.join(":"))}return t},isRelativeDay:function(e,t){if(!e)throw new Error("date cannot be null");var n=new Date,r=n.getDate()+t;return n.setDate(r),e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()&&e.getDate()===r},toLocaleTimeString:s,supportsLocalization:function(){return o}}},80632:function(e,t,n){"use strict";n.d(t,{Kd:function(){return re},mF:function(){return ae}}),n(52077),n(911);var r=n(27917),a=n(16998),i=n(28905),o=n(91724),s=n(44345),l=n(62808),c=n(24210),u=n(72262),d=n(99307),f=n(416),h=n(23423),p=n(4601),m=n(83131),y=n(48113),v=n(24209),g=n(27770),b=n(49633),w=n(56718),P=n(16452),k=n(66089),S=n(72566),x=n(75083),I=n(70570),C=n(17862),T=n(11188),L=n(19292),E=n(59303),A=n(61567),Z=n(4142),O=n(949),j=n(42782),M=n(28702),N=n(64145),D=n(3505),R=n(79472),_=n(91870),q=n(72291),B=n(27660),F=n(31002),U=n(28544),z=n(58503),H=n(76931),V=n(73426),W=n(672),G=n(49762),Q=n(95249),Y=n(72168),X=n(17062),J=n(44870),$=n(67491),K=n(88684),ee=n(95939),te=n(94994),ne=function(e){return{af:r.Z,ar:a.Z,"be-by":i.Z,"bg-bg":o.Z,bn:s.Z,ca:l.Z,cs:c.Z,cy:u.Z,da:d.Z,de:f.Z,el:h.Z,"en-gb":p.Z,"en-us":m.Z,eo:y.Z,es:v.Z,"es-ar":v.Z,"es-do":v.Z,"es-mx":v.Z,et:g.Z,fa:b.Z,fi:w.Z,fr:P.Z,"fr-ca":k.Z,gl:S.Z,gsw:f.Z,he:x.Z,"hi-in":I.Z,hr:C.Z,hu:T.Z,id:L.Z,is:E.Z,it:A.Z,ja:Z.Z,kk:O.Z,ko:j.Z,"lt-lt":M.Z,lv:N.Z,ms:D.Z,nb:R.Z,nl:_.Z,nn:q.Z,pl:B.Z,pt:F.Z,"pt-br":U.Z,"pt-pt":F.Z,ro:z.Z,ru:H.Z,sk:V.Z,"sl-si":W.Z,sv:G.Z,ta:Q.Z,th:Y.Z,tr:X.Z,uk:J.Z,vi:$.Z,"zh-cn":K.Z,"zh-hk":K.Z,"zh-tw":ee.Z}[e]};function re(){return ne(te.ZP.getCurrentLocale())||ne(te.ZP.getCurrentLocale().replace(/-.*/,""))||m.Z}var ae={addSuffix:!0,locale:re()};t.ZP={getLocale:re,localeWithSuffix:ae}},72365:function(e,t,n){"use strict";function r(e,t){for(var n=0,r=t.length;n<r;n++)if(e.contains(t[n]))return!0;return!1}n.d(t,{Oo:function(){return l},xg:function(){return c}}),n(27471),n(99785),n(69217),n(52077),n(911);var a,i,o=!1;try{var s=Object.defineProperty({},"capture",{get:function(){o=!0}});window.addEventListener("test",null,s)}catch(e){console.debug("error checking capture support")}function l(e,t,n,r){var a=r||{};o||(a=a.capture),e.addEventListener(t,n,a)}function c(e,t,n,r){var a=r||{};o||(a=a.capture),e.removeEventListener(t,n,a)}function u(){a=null}var d,f,h=[480,720,1280,1440,1920,2560,3840,5120,7680];function p(){if(d)return d;var e=document.createElement("div"),t={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(var n in t)if(void 0!==e.style[n])return d=t[n],t[n];return d="animationend"}t.ZP={parentWithAttribute:function(e,t,n){for(;n?e.getAttribute(t)!==n:!e.getAttribute(t);)if(!(e=e.parentNode)||!e.getAttribute)return null;return e},parentWithClass:function(e,t){for(Array.isArray(t)||(t=[t]);!e.classList||!r(e.classList,t);)if(!(e=e.parentNode))return null;return e},parentWithTag:function(e,t){for(Array.isArray(t)||(t=[t]);-1===t.indexOf(e.tagName||"");)if(!(e=e.parentNode))return null;return e},addEventListener:l,removeEventListener:c,getWindowSize:function(){return a||(a={innerHeight:window.innerHeight,innerWidth:window.innerWidth},i||(i=!0,l(window,"orientationchange",u,{passive:!0}),l(window,"resize",u,{passive:!0}))),a},getScreenWidth:function(){var e=window.innerWidth,t=window.innerHeight;return t>e&&(e=t*(16/9)),h.sort((function(t,n){return Math.abs(e-t)-Math.abs(e-n)}))[0]},setElementTitle:function(e,t,n){e.setAttribute("title",t),e.setAttribute("aria-label",n)},whichTransitionEvent:function(){if(f)return f;var e=document.createElement("div"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var n in t)if(void 0!==e.style[n])return f=t[n],t[n];return f="transitionend"},whichAnimationEvent:p,whichAnimationCancelEvent:function(){return p().replace("animationend","animationcancel").replace("AnimationEnd","AnimationCancel")}}},94994:function(e,t,n){"use strict";n.d(t,{tC:function(){return w}}),n(5769),n(63238),n(61418),n(52077),n(911),n(17460),n(14078),n(98010),n(72482),n(27471);var r,a,i,o=n(47005),s=n(29955),l=n(60934),c="en-us",u={};function d(){return r}function f(){var e,t;try{e=l.currentSettings.language()}catch(e){console.error("no language set in user settings")}e=e||document.documentElement.getAttribute("data-culture")||(navigator.language?navigator.language:navigator.userLanguage?navigator.userLanguage:navigator.languages&&navigator.languages.length?navigator.languages[0]:c),r=p(e);try{t=l.currentSettings.dateTimeLocale()}catch(e){console.error("no date format set in user settings")}a=t?p(t):r,function(e){for(var t in u)h(u[t],e);if(e!==c)for(var n in u)h(u[n],c)}(r)}function h(e,t){return e.dictionaries[t]?Promise.resolve():function(e,t){t=p(t);var r=e.filter((function(e){return p(e.lang)===t}));return r.length||(t=t.replace(/-.*/,""),(r=e.filter((function(e){return p(e.lang)===t}))).length||(r=e.filter((function(e){return p(e.lang)===c})))),new Promise((function(e){if(r.length){var t=r[0].path;n(32648)("./".concat(t)).then((function(t){e(t)})).catch((function(){e({})}))}else e()}))}(e.translations,t).then((function(n){e.dictionaries[t]=n}))}function p(e){return e.replace("_","-").toLowerCase()}function m(e,t){e||(e=P());var n=u[e];return n?n.dictionaries[t]:{}}function y(e){u[e.name]={translations:e.strings||e.translations,dictionaries:{}}}function v(e){var t,n=e.split("#");return n.length>1&&(t=n[0],e=n[1]),g(e,t)}function g(e,t){var n=m(t,d());return n&&n[e]||(n=m(t,c))&&n[e]?n[e]:(!n||(0,s.Z)(n)?console.warn("Translation dictionary is empty."):console.error("Translation key is missing from dictionary: ".concat(e)),e)}function b(e,t,n){return e.split(t).join(n)}function w(e,t){if(e=e.default||e,t||(t=P()),!t)throw new Error("module cannot be null or empty");var n=e.indexOf("${");if(-1===n)return e;n+=2;var r=e.indexOf("}",n);if(-1===r)return e;var a=e.substring(n,r),i=g(a,t);return w(e=e.replace("${"+a+"}",i),t)}function P(e){return e&&(i=e),i}f(),o.Events.on(l.currentSettings,"change",(function(e,t){"language"!==t&&"datetimelocale"!==t||f()})),t.ZP={translate:function(e){for(var t=v(e),n=1;n<arguments.length;n++)t=b(t,"{"+(n-1)+"}",arguments[n]);return t},translateHtml:w,loadStrings:function(e){var t,n=d(),r=[];return"string"==typeof e?t=e:(t=e.name,y(e)),r.push(h(u[t],n)),r.push(h(u[t],c)),Promise.all(r)},defaultModule:P,getCurrentLocale:d,getCurrentDateTimeLocale:function(){return a},register:y,updateCurrentCulture:f}},51869:function(e,t,n){"use strict";t.ZP={getDeviceIcon:function(e){var t="assets/img/devices/";switch(e.AppName||e.Client){case"Samsung Smart TV":return t+"samsung.svg";case"Xbox One":return t+"xbox.svg";case"Sony PS4":return t+"playstation.svg";case"Kodi":case"Kodi JellyCon":return t+"kodi.svg";case"Jellyfin Android":case"AndroidTV":case"Android TV":return t+"android.svg";case"Jellyfin Mobile (iOS)":case"Jellyfin Mobile (iPadOS)":case"Jellyfin iOS":case"Infuse":return t+"apple.svg";case"Jellyfin Web":switch(e.Name||e.DeviceName){case"Opera":case"Opera TV":case"Opera Android":return t+"opera.svg";case"Chrome":case"Chrome Android":return t+"chrome.svg";case"Firefox":case"Firefox Android":return t+"firefox.svg";case"Safari":case"Safari iPad":case"Safari iPhone":return t+"safari.svg";case"Edge Chromium":case"Edge Chromium Android":case"Edge Chromium iPad":case"Edge Chromium iPhone":return t+"edgechromium.svg";case"Edge":return t+"edge.svg";case"Internet Explorer":return t+"msie.svg";default:return t+"html5.svg"}default:return t+"other.svg"}},getLibraryIcon:function(e){switch(e){case"movies":return"video_library";case"music":return"library_music";case"photos":case"homevideos":return"photo_library";case"livetv":return"live_tv";case"tvshows":return"tv";case"trailers":return"local_movies";case"musicvideos":return"music_video";case"books":return"library_books";case"channels":return"videocam";case"playlists":return"view_list";default:return"folder"}}}},58517:function(e,t,n){"use strict";n.r(t),n.d(t,{handleCommand:function(){return v},idleTime:function(){return d},notify:function(){return c},notifyMouseMove:function(){return u},off:function(){return m},on:function(){return p},select:function(){return f}});var r=n(48957),a=n(34643),i=n(52050),o=n(72365),s=n(84881),l=(new Date).getTime();function c(){l=(new Date).getTime(),v("unknown")}function u(){l=(new Date).getTime()}function d(){return(new Date).getTime()-l}function f(e){e.click()}var h=0;function p(e,t){h++,o.ZP.addEventListener(e,"command",t,{})}function m(e,t){h&&h--,o.ZP.removeEventListener(e,"command",t,{})}var y={};function v(e,t){l=(new Date).getTime();var n=t?t.sourceElement:null;if(n&&(n=a.Z.focusableParent(n)),!n){n=document.activeElement||window;var o=document.querySelectorAll(".dialogContainer .dialog.opened"),c=o.length?o[o.length-1]:null;c&&!c.contains(n)&&(n=c)}if(h){var u=new CustomEvent("command",{detail:{command:e},bubbles:!0,cancelable:!0});if(!n.dispatchEvent(u))return}var d={up:function(){a.Z.moveUp(n)},down:function(){a.Z.moveDown(n)},left:function(){a.Z.moveLeft(n)},right:function(){a.Z.moveRight(n)},home:function(){i.appRouter.goHome()},settings:function(){i.appRouter.showSettings()},back:function(){i.appRouter.canGoBack()?i.appRouter.back():s.M.supports("exit")&&s.M.exit()},select:function(){f(n)},nextchapter:function(){r.O.nextChapter()},next:function(){r.O.nextTrack()},nexttrack:function(){r.O.nextTrack()},previous:function(){r.O.previousTrack()},previoustrack:function(){r.O.previousTrack()},previouschapter:function(){r.O.previousChapter()},guide:function(){i.appRouter.showGuide()},recordedtv:function(){i.appRouter.showRecordedTV()},livetv:function(){i.appRouter.showLiveTV()},mute:function(){r.O.setMute(!0)},unmute:function(){r.O.setMute(!1)},togglemute:function(){r.O.toggleMute()},channelup:function(){r.O.channelUp()},channeldown:function(){r.O.channelDown()},volumedown:function(){r.O.volumeDown()},volumeup:function(){r.O.volumeUp()},play:function(){r.O.unpause()},pause:function(){r.O.pause()},playpause:function(){r.O.playPause()},stop:function(){var e,t;e=y.stop||0,!((t=(new Date).getTime())-e<1e3||(y.stop=t,0))&&r.O.stop()},changezoom:function(){r.O.toggleAspectRatio()},increaseplaybackrate:function(){r.O.increasePlaybackRate()},decreaseplaybackrate:function(){r.O.decreasePlaybackRate()},changeaudiotrack:function(){r.O.changeAudioStream()},changesubtitletrack:function(){r.O.changeSubtitleStream()},search:function(){i.appRouter.showSearch()},favorites:function(){i.appRouter.showFavorites()},fastforward:function(){r.O.fastForward()},rewind:function(){r.O.rewind()},seek:function(){r.O.seekMs(t)},togglefullscreen:function(){r.O.toggleFullscreen()},disabledisplaymirror:function(){r.O.enableDisplayMirroring(!1)},enabledisplaymirror:function(){r.O.enableDisplayMirroring(!0)},toggledisplaymirror:function(){r.O.toggleDisplayMirroring()},nowplaying:function(){i.appRouter.showNowPlaying()},repeatnone:function(){r.O.setRepeatMode("RepeatNone")},repeatall:function(){r.O.setRepeatMode("RepeatAll")},repeatone:function(){r.O.setRepeatMode("RepeatOne")},unknown:function(){}}[e];void 0!==d?d.call():console.debug("inputManager: tried to process command with no action assigned: ".concat(e))}o.ZP.addEventListener(document,"click",c,{passive:!0}),t.default={handleCommand:v,notify:c,notifyMouseMove:u,idleTime:d,on:p,off:m}},84280:function(e,t,n){"use strict";n(5769),n(27471),n(63238),n(61418),n(17460),n(14078);var r=n(58517),a=n(30325),i=n(59858),o={13:"Enter",19:"Pause",27:"Escape",32:"Space",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",412:"MediaRewind",413:"MediaStop",415:"MediaPlay",417:"MediaFastForward",461:"Back",10009:"Back",10232:"MediaTrackPrevious",10233:"MediaTrackNext",10252:"MediaPlayPause"},s=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"],l=!1;try{l="key"in new KeyboardEvent("keydown")}catch(e){console.error("error checking 'key' field")}if(!l)for(var c=65;c<=90;c++)o[c]=String.fromCharCode(c).toLowerCase();function u(e){return o[e.keyCode]||e.key}function d(e){return-1!=s.indexOf(e)}navigator.getGamepads&&i.Z.enableGamepad()&&window.addEventListener("gamepadconnected",(function e(){console.log("Gamepad connected! Attaching gamepadtokey.js script"),window.removeEventListener("gamepadconnected",e),n.e(2145).then(n.bind(n,82145))})),t.ZP={enable:function(){window.addEventListener("keydown",(function(e){var t=u(e);if(a.Z.tv||!d(t)){var n=!0;switch(t){case"ArrowLeft":r.default.handleCommand("left");break;case"ArrowUp":r.default.handleCommand("up");break;case"ArrowRight":r.default.handleCommand("right");break;case"ArrowDown":r.default.handleCommand("down");break;case"Back":r.default.handleCommand("back");break;case"Escape":a.Z.tv?r.default.handleCommand("back"):n=!1;break;case"MediaPlay":r.default.handleCommand("play");break;case"Pause":r.default.handleCommand("pause");break;case"MediaPlayPause":r.default.handleCommand("playpause");break;case"MediaRewind":r.default.handleCommand("rewind");break;case"MediaFastForward":r.default.handleCommand("fastforward");break;case"MediaStop":r.default.handleCommand("stop");break;case"MediaTrackPrevious":r.default.handleCommand("previoustrack");break;case"MediaTrackNext":r.default.handleCommand("nexttrack");break;default:n=!1}n&&(console.debug("disabling default event handling"),e.preventDefault())}}))},getKeyName:u,isNavigationKey:d}},12619:function(e,t,n){"use strict";n.d(t,{Z:function(){return Ye}}),n(72410),n(15610),n(52077),n(25901),n(92189),n(91047),n(5769),n(63238),n(61418),n(17460),n(14078),n(27471),n(40895),n(98010),n(20266),n(48410),n(55849),n(61013),n(23938);var r=n(65009),a=n.n(r),i=n(40275),o=n.n(i),s=n(72365),l=n(30325),c=n(58517),u=n(47005),d=n(58905),f=n(52050),h=n(84881),p=n(48957),m=(n(99785),n(99294)),y=(n(98521),n(6798),n(82923),n(21897),n(12274),n(50987),n(60190),n(33761)),v=n(48102),g=n(51161),b=n(29016),w=n(94994);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function k(){k=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,i=Object.create(a.prototype),o=new I(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=w(o,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function f(){}function h(){}var p={};s(p,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(C([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=h.prototype=d.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(a,i,o,s){var l=c(e[a],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==P(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,s)}))}s(l.arg)}var a;this._invoke=function(e,n){function i(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=h,s(v,"constructor",h),s(h,"constructor",f),f.displayName=s(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,o,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),s(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new b(l(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),s(v,o,"Generator"),s(v,a,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function S(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){S(i,r,a,o,s,"next",e)}function s(e){S(i,r,a,o,s,"throw",e)}o(void 0)}))}}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t,r){Promise.resolve().then(n.bind(n,54517)).then((function(n){var a=r?"on":"off";n.centerFocus[a](e,t)}))}n(85427),n(33310),n(19099),n(38228),n(61414),n(25141),n(664),n(6626);var L=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};I(this,e),this.apiClient=t,this.timeSyncCore=n,this.options=r}var t,r,a,i,o,s;return t=e,r=[{key:"embed",value:(s=x(k().mark((function e(){var t,r,a,i=this;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={removeOnClose:!0,scrollY:!0},l.Z.tv?t.size="fullscreen":t.size="small",this.context=v.default.createDialog(t),this.context.classList.add("formDialog"),e.next=6,n.e(6249).then(n.bind(n,56249));case 6:return r=e.sent,a=r.default,this.context.innerHTML=w.ZP.translateHtml(a,"core"),this.context.querySelector("form").addEventListener("submit",(function(e){return e&&e.preventDefault(),!1})),this.context.querySelector(".btnSave").addEventListener("click",(function(){i.onSubmit()})),this.context.querySelector(".btnCancel").addEventListener("click",(function(){v.default.close(i.context)})),e.next=14,this.initEditor();case 14:return l.Z.tv&&T(this.context.querySelector(".formDialogContent"),!1,!0),e.abrupt("return",v.default.open(this.context).then((function(){return l.Z.tv&&T(i.context.querySelector(".formDialogContent"),!1,!1),i.context.submitted?Promise.resolve():Promise.reject()})));case 16:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"initEditor",value:(o=x(k().mark((function e(){var t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=this.context).querySelector("#txtExtraTimeOffset").value=m.Z.Manager.timeSyncCore.extraTimeOffset,t.querySelector("#chkSyncCorrection").checked=m.Z.Manager.playbackCore.enableSyncCorrection,t.querySelector("#txtMinDelaySpeedToSync").value=m.Z.Manager.playbackCore.minDelaySpeedToSync,t.querySelector("#txtMaxDelaySpeedToSync").value=m.Z.Manager.playbackCore.maxDelaySpeedToSync,t.querySelector("#txtSpeedToSyncDuration").value=m.Z.Manager.playbackCore.speedToSyncDuration,t.querySelector("#txtMinDelaySkipToSync").value=m.Z.Manager.playbackCore.minDelaySkipToSync,t.querySelector("#chkSpeedToSync").checked=m.Z.Manager.playbackCore.useSpeedToSync,t.querySelector("#chkSkipToSync").checked=m.Z.Manager.playbackCore.useSkipToSync;case 9:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"onSubmit",value:function(){this.save(),v.default.close(this.context)}},{key:"save",value:(i=x(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.ZP.show(),e.next=3,this.saveToAppSettings();case 3:g.ZP.hide(),(0,b.Z)(w.ZP.translate("SettingsSaved")),u.Events.trigger(this,"saved");case 6:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"saveToAppSettings",value:(a=x(k().mark((function e(){var t,n,r,a,i,o,s,l,c;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.context,n=t.querySelector("#txtExtraTimeOffset").value,r=t.querySelector("#chkSyncCorrection").checked,a=t.querySelector("#txtMinDelaySpeedToSync").value,i=t.querySelector("#txtMaxDelaySpeedToSync").value,o=t.querySelector("#txtSpeedToSyncDuration").value,s=t.querySelector("#txtMinDelaySkipToSync").value,l=t.querySelector("#chkSpeedToSync").checked,c=t.querySelector("#chkSkipToSync").checked,(0,y.L)("extraTimeOffset",n),(0,y.L)("enableSyncCorrection",r),(0,y.L)("minDelaySpeedToSync",a),(0,y.L)("maxDelaySpeedToSync",i),(0,y.L)("speedToSyncDuration",o),(0,y.L)("minDelaySkipToSync",s),(0,y.L)("useSpeedToSync",l),(0,y.L)("useSkipToSync",c),u.Events.trigger(m.Z.Manager,"settings-update");case 18:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})}],r&&C(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),E=L,A=n(27074);function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(61370);var O=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"check",value:function(){if(h.M.supports("htmlaudioautoplay"))return Promise.resolve(!0);var e,t=((e=document.createElement("audio")).classList.add("testMediaPlayerAudio"),e.classList.add("hide"),document.body.appendChild(e),e.volume=1,e.src="assets/audio/silence.mp3",e);return t.play().finally((function(){!function(e){e.pause(),e.remove()}(t)}))}}])&&Z(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),j=new O,M=n(18613),N=n(1892),D=n.n(N),R=n(95760),_=n.n(R),q=n(38311),B=n.n(q),F=n(58192),U=n.n(F),z=n(38060),H=n.n(z),V=n(54865),W=n.n(V),G=n(6593),Q={};function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Q.styleTagTransform=W(),Q.setAttributes=U(),Q.insert=B().bind(null,"head"),Q.domAPI=_(),Q.insertStyleElement=H(),D()(G.Z,Q),G.Z&&G.Z.locals&&G.Z.locals;var X,J,$,K,ee,te,ne,re,ae,ie,oe,se,le,ce,ue=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.syncPlayEnabled=!1,u.Events.on(m.Z.Manager,"enabled",(function(e,n){t.syncPlayEnabled=n}))}var t,n;return t=e,(n=[{key:"showNewJoinGroupSelection",value:function(e,t,n){var r=t.localUser?t.localUser.Policy:{};n.getSyncPlayGroups().then((function(a){a.json().then((function(a){var i=a.map((function(e){return{name:e.GroupName,icon:"person",id:e.GroupId,selected:!1,secondaryText:e.Participants.join(", ")}}));if("CreateAndJoinGroups"===r.SyncPlayAccess&&i.push({name:w.ZP.translate("LabelSyncPlayNewGroup"),icon:"add",id:"new-group",selected:!0,secondaryText:w.ZP.translate("LabelSyncPlayNewGroupDescription")}),0===i.length&&"JoinGroups"===r.SyncPlayAccess)return(0,b.Z)({text:w.ZP.translate("MessageSyncPlayCreateGroupDenied")}),void g.ZP.hide();var o={title:w.ZP.translate("HeaderSyncPlaySelectGroup"),items:i,positionTo:e,border:!0,dialogClass:"syncPlayGroupMenu"};A.default.show(o).then((function(e){"new-group"==e?n.createSyncPlayGroup({GroupName:w.ZP.translate("SyncPlayGroupDefaultTitle",t.localUser.Name)}):e&&n.joinSyncPlayGroup({GroupId:e})})).catch((function(e){e&&console.error("SyncPlay: unexpected error listing groups:",e)})),g.ZP.hide()}))})).catch((function(e){console.error(e),g.ZP.hide(),(0,b.Z)({text:w.ZP.translate("MessageSyncPlayErrorAccessingGroups")})}))}},{key:"showLeaveGroupSelection",value:function(e,t,n){var r=m.Z.Manager.getGroupInfo(),a=[];m.Z.Manager.isPlaylistEmpty()||m.Z.Manager.isPlaybackActive()?m.Z.Manager.isPlaybackActive()&&a.push({name:w.ZP.translate("LabelSyncPlayHaltPlayback"),icon:"pause_circle_filled",id:"halt-playback",selected:!1,secondaryText:w.ZP.translate("LabelSyncPlayHaltPlaybackDescription")}):a.push({name:w.ZP.translate("LabelSyncPlayResumePlayback"),icon:"play_circle_filled",id:"resume-playback",selected:!1,secondaryText:w.ZP.translate("LabelSyncPlayResumePlaybackDescription")}),a.push({name:w.ZP.translate("Settings"),icon:"video_settings",id:"settings",selected:!1,secondaryText:w.ZP.translate("LabelSyncPlaySettingsDescription")}),a.push({name:w.ZP.translate("LabelSyncPlayLeaveGroup"),icon:"meeting_room",id:"leave-group",selected:!0,secondaryText:w.ZP.translate("LabelSyncPlayLeaveGroupDescription")});var i={title:r.GroupName,text:r.Participants.join(", "),dialogClass:"syncPlayGroupMenu",items:a,positionTo:e,border:!0};A.default.show(i).then((function(e){"resume-playback"==e?m.Z.Manager.resumeGroupPlayback(n):"halt-playback"==e?m.Z.Manager.haltGroupPlayback(n):"leave-group"==e?n.leaveSyncPlayGroup():"settings"==e&&new E(n,m.Z.Manager.getTimeSyncCore(),{groupInfo:r}).embed().catch((function(e){e&&console.error("Error creating SyncPlay settings editor",e)}))})).catch((function(e){e&&console.error("SyncPlay: unexpected error showing group menu:",e)})),g.ZP.hide()}},{key:"show",value:function(e){var t=this;g.ZP.show(),j.check().then((function(){console.debug("Playback is allowed.")})).catch((function(e){console.error("Playback not allowed!",e),(0,b.Z)({text:w.ZP.translate("MessageSyncPlayPlaybackPermissionRequired")})}));var n=M.Z.currentApiClient();M.Z.user(n).then((function(r){t.syncPlayEnabled?t.showLeaveGroupSelection(e,r,n):t.showNewJoinGroupSelection(e,r,n)})).catch((function(e){console.error(e),g.ZP.hide(),(0,b.Z)({text:w.ZP.translate("MessageSyncPlayNoGroupsAvailable")})}))}}])&&Y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()),de=n(57366),fe=n(51869),he=n(58886),pe=n(60635),me=n(85951);function ye(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(){return ie&&ie.localUser?M.Z.getApiClient(ie.localUser.ServerId):M.Z.currentApiClient()}function be(){re&&(re.title=w.ZP.translate("ButtonBack")),ee&&(ee.title=w.ZP.translate("Home")),K&&(K.title=w.ZP.translate("Menu")),ce&&(ce.title=w.ZP.translate("ButtonSyncPlay")),le&&(le.title=w.ZP.translate("ButtonPlayer")),oe&&(oe.title=w.ZP.translate("ButtonCast")),se&&(se.title=w.ZP.translate("Search")),ae&&(ae.title=w.ZP.translate("Settings"))}function we(e){var t;if(be(),e&&e.name?(e.imageUrl&&(Pe(e.imageUrl),t=!0),ae.title=e.name,ae.classList.remove("hide")):ae.classList.add("hide"),t||Pe(null),e&&e.localUser){ee&&ee.classList.remove("hide"),se&&se.classList.remove("hide"),l.Z.tv||oe.classList.remove("hide");var n=e.Policy?e.Policy:e.localUser.Policy,r=ge();ce&&"None"!==(null==n?void 0:n.SyncPlayAccess)&&r.isMinServerVersion("10.6.0")&&ce.classList.remove("hide")}else ee.classList.add("hide"),oe.classList.add("hide"),ce.classList.add("hide"),se&&se.classList.add("hide");Ve=!1}function Pe(e){e?(ae.classList.add("headerUserButtonRound"),ae.innerHTML='<div class="headerButton headerButtonRight paper-icon-button-light headerUserButtonRound" style="background-image:url(\''+e+"');\"></div>"):(ae.classList.remove("headerUserButtonRound"),ae.innerHTML='<span class="material-icons person" aria-hidden="true"></span>')}function ke(){$.isVisible?Se():$.open()}function Se(){$.close()}function xe(){$.isVisible?l.Z.mobile&&document.body.classList.add("bodyWithPopupOpen"):document.body.classList.remove("bodyWithPopupOpen")}function Ie(e){return-1!==window.location.href.toString().toLowerCase().indexOf(e.toLowerCase())}function Ce(e){for(var t=J.querySelectorAll(".navMenuOption"),n=e.id,r=0,a=t.length;r<a;r++){var i=t[r],o=!1,s=i.getAttribute("data-pageids");s&&(o=-1!=(s=s.split("|")).indexOf(n));var l=i.getAttribute("data-pageurls");if(l&&(o=(l=l.split("|")).filter(Ie).length>0),o){i.classList.add("navMenuOption-selected");var c="";c+=((i=i.querySelector(".navMenuOptionText")||i).innerText||i.textContent).trim(),Qe.setTitle(c)}else i.classList.remove("navMenuOption-selected")}}function Te(e){var t=[{name:w.ZP.translate("TabServer")},{name:w.ZP.translate("TabDashboard"),href:"#/dashboard.html",pageIds:["dashboardPage"],icon:"dashboard"},{name:w.ZP.translate("General"),href:"#/dashboardgeneral.html",pageIds:["dashboardGeneralPage"],icon:"settings"},{name:w.ZP.translate("HeaderUsers"),href:"#/userprofiles.html",pageIds:["userProfilesPage","newUserPage","editUserPage","userLibraryAccessPage","userParentalControlPage","userPasswordPage"],icon:"people"},{name:w.ZP.translate("HeaderLibraries"),href:"#/library.html",pageIds:["mediaLibraryPage","librarySettingsPage","libraryDisplayPage","metadataImagesConfigurationPage","metadataNfoPage"],icon:"folder"},{name:w.ZP.translate("TitlePlayback"),icon:"play_arrow",href:"#/encodingsettings.html",pageIds:["encodingSettingsPage","playbackConfigurationPage","streamingSettingsPage"]}];return Le(t,e,"server"),t.push({divider:!0,name:w.ZP.translate("HeaderDevices")}),t.push({name:w.ZP.translate("HeaderDevices"),href:"#/devices.html",pageIds:["devicesPage","devicePage"],icon:"devices"}),t.push({name:w.ZP.translate("HeaderActivity"),href:"#/serveractivity.html",pageIds:["serverActivityPage"],icon:"assessment"}),t.push({name:w.ZP.translate("DLNA"),href:"#/dlnasettings.html",pageIds:["dlnaSettingsPage","dlnaProfilesPage","dlnaProfilePage"],icon:"input"}),t.push({divider:!0,name:w.ZP.translate("LiveTV")}),t.push({name:w.ZP.translate("LiveTV"),href:"#/livetvstatus.html",pageIds:["liveTvStatusPage","liveTvTunerPage"],icon:"live_tv"}),t.push({name:w.ZP.translate("HeaderDVR"),href:"#/livetvsettings.html",pageIds:["liveTvSettingsPage"],icon:"dvr"}),Le(t,e,"livetv"),t.push({divider:!0,name:w.ZP.translate("TabAdvanced")}),t.push({name:w.ZP.translate("TabNetworking"),icon:"cloud",href:"#/networking.html",pageIds:["networkingPage"]}),t.push({name:w.ZP.translate("HeaderApiKeys"),icon:"vpn_key",href:"#/apikeys.html",pageIds:["apiKeysPage"]}),t.push({name:w.ZP.translate("TabLogs"),href:"#/log.html",pageIds:["logPage"],icon:"bug_report"}),t.push({name:w.ZP.translate("TabNotifications"),icon:"notifications",href:"#/notificationsettings.html",pageIds:["notificationSettingsPage","notificationSettingPage"]}),t.push({name:w.ZP.translate("TabPlugins"),icon:"shopping_cart",href:"#/installedplugins.html",pageIds:["pluginsPage","pluginCatalogPage"]}),t.push({name:w.ZP.translate("TabScheduledTasks"),href:"#/scheduledtasks.html",pageIds:["scheduledTasksPage","scheduledTaskPage"],icon:"schedule"}),function(e){var t,n=ye(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.EnableInMainMenu&&void 0===r.MenuSection)return!0}}catch(e){n.e(e)}finally{n.f()}return!1}(e)&&(t.push({divider:!0,name:w.ZP.translate("TabPlugins")}),Le(t,e)),t}function Le(e,t,n){var r,a=ye(t);try{for(a.s();!(r=a.n()).done;){var i=r.value;i.EnableInMainMenu&&i.MenuSection===n&&e.push({name:i.DisplayName,icon:i.MenuIcon||"folder",href:pe.ZP.getPluginUrl(i.Name),pageUrls:[pe.ZP.getPluginUrl(i.Name)]})}}catch(e){a.e(e)}finally{a.f()}}function Ee(e){var t="",n=e.pageIds?e.pageIds.join("|"):"";n=n?' data-pageids="'+n+'"':"";var r=e.pageUrls?e.pageUrls.join("|"):"";return r=r?' data-pageurls="'+r+'"':"",t+='<a is="emby-linkbutton" class="navMenuOption" href="'+e.href+'"'+n+r+">",e.icon&&(t+='<span class="material-icons navMenuOptionIcon '+e.icon+'" aria-hidden="true"></span>'),t+='<span class="navMenuOptionText">',t+=a()(e.name),(t+="</span>")+"</a>"}function Ae(){var e=this.getElementsByClassName("sectionName")[0],t=e?e.innerHTML:this.innerHTML;Qe.setTitle(t)}function Ze(e,t){var n=document.querySelector(e);n&&(t?n.classList.remove("hide"):n.classList.add("hide"))}function Oe(){return(0,me.a)("topParentId")||null}function je(e){s.ZP.parentWithTag(e.target,"A")&&setTimeout(Se,30)}function Me(){pe.ZP.selectServer()}function Ne(){pe.ZP.navigate("mypreferencesmenu.html")}function De(){h.M.exit()}function Re(){pe.ZP.logout()}function _e(){var e=document,t=p.O.getPlayerInfo(),n=oe.querySelector(".material-icons");n.classList.remove("cast_connected","cast"),t&&!t.isLocalPlayer?(n.classList.add("cast_connected"),oe.classList.add("castButton-active"),e.querySelector(".headerSelectedPlayer").innerText=t.deviceName||t.name):(n.classList.add("cast"),oe.classList.remove("castButton-active"),e.querySelector(".headerSelectedPlayer").innerHTML="")}function qe(e){Be(),te="library",e?Promise.resolve(e):M.Z.user(ge()).then((function(e){!function(e){var t="";t+='<div style="height:.5em;"></div>',t+='<a is="emby-linkbutton" class="navMenuOption lnkMediaFolder" href="#/home.html"><span class="material-icons navMenuOptionIcon home" aria-hidden="true"></span><span class="navMenuOptionText">'.concat(w.ZP.translate("Home"),"</span></a>"),t+='<div class="customMenuOptions"></div>',t+='<div class="libraryMenuOptions"></div>',e.localUser&&e.localUser.Policy.IsAdministrator&&(t+='<div class="adminMenuOptions">',t+='<h3 class="sidebarHeader">',t+=w.ZP.translate("HeaderAdmin"),t+="</h3>",t+='<a is="emby-linkbutton" class="navMenuOption lnkMediaFolder lnkManageServer" data-itemid="dashboard" href="#/dashboard.html"><span class="material-icons navMenuOptionIcon dashboard" aria-hidden="true"></span><span class="navMenuOptionText">'.concat(w.ZP.translate("TabDashboard"),"</span></a>"),t+='<a is="emby-linkbutton" class="navMenuOption lnkMediaFolder editorViewMenu" data-itemid="editor" href="#/edititemmetadata.html"><span class="material-icons navMenuOptionIcon mode_edit" aria-hidden="true"></span><span class="navMenuOptionText">'.concat(w.ZP.translate("Metadata"),"</span></a>"),t+="</div>"),e.localUser&&(t+='<div class="userMenuOptions">',t+='<h3 class="sidebarHeader">',t+=w.ZP.translate("HeaderUser"),t+="</h3>",h.M.supports("multiserver")&&(t+='<a is="emby-linkbutton" class="navMenuOption lnkMediaFolder btnSelectServer" data-itemid="selectserver" href="#"><span class="material-icons navMenuOptionIcon wifi" aria-hidden="true"></span><span class="navMenuOptionText">'.concat(w.ZP.translate("SelectServer"),"</span></a>")),t+='<a is="emby-linkbutton" class="navMenuOption lnkMediaFolder btnSettings" data-itemid="settings" href="#"><span class="material-icons navMenuOptionIcon settings" aria-hidden="true"></span><span class="navMenuOptionText">'.concat(w.ZP.translate("Settings"),"</span></a>"),t+='<a is="emby-linkbutton" class="navMenuOption lnkMediaFolder btnLogout" data-itemid="logout" href="#"><span class="material-icons navMenuOptionIcon exit_to_app" aria-hidden="true"></span><span class="navMenuOptionText">'.concat(w.ZP.translate("ButtonSignOut"),"</span></a>"),h.M.supports("exitmenu")&&(t+='<a is="emby-linkbutton" class="navMenuOption lnkMediaFolder exitApp" data-itemid="exitapp" href="#"><span class="material-icons navMenuOptionIcon close" aria-hidden="true"></span><span class="navMenuOptionText">'.concat(w.ZP.translate("ButtonExitApp"),"</span></a>")),t+="</div>"),J.innerHTML=t;var n=J.querySelector(".btnSelectServer");n&&n.addEventListener("click",Me);var r=J.querySelector(".btnSettings");r&&r.addEventListener("click",Ne);var a=J.querySelector(".exitApp");a&&a.addEventListener("click",De);var i=J.querySelector(".btnLogout");i&&i.addEventListener("click",Re)}(e),function(e){if(!e)return Ze(".libraryMenuDownloads",!1),Ze(".lnkSyncToOtherDevices",!1),void Ze(".userMenuOptions",!1);e.Policy.EnableContentDownloading?Ze(".lnkSyncToOtherDevices",!0):Ze(".lnkSyncToOtherDevices",!1),e.Policy.EnableContentDownloading&&h.M.supports("sync")?Ze(".libraryMenuDownloads",!0):Ze(".libraryMenuDownloads",!1);var t=pe.ZP.getCurrentUserId(),n=ge(),r=document.querySelector(".customMenuOptions");r&&(0,he.hi)().then((function(e){e.forEach((function(e){var t=document.createElement("a","emby-linkbutton");t.classList.add("navMenuOption","lnkMediaFolder"),t.rel="noopener noreferrer",t.target="_blank",t.href=e.url;var n=document.createElement("span");n.className="material-icons navMenuOptionIcon ".concat(e.icon||"link"),n.setAttribute("aria-hidden","true"),t.appendChild(n);var a=document.createElement("span");a.className="navMenuOptionText",a.textContent=e.name,t.appendChild(a),r.appendChild(t)}))}));var i=document.querySelector(".libraryMenuOptions");i&&function(e,t){return e.getUserViews({},t).then((function(e){for(var t=e.Items,n=[],r=0,a=t.length;r<a;r++){var i=t[r];if(n.push(i),"livetv"==i.CollectionType){i.ImageTags={},i.icon="live_tv";var o=Object.assign({},i);o.Name=w.ZP.translate("Guide"),o.ImageTags={},o.icon="dvr",o.url="#/livetv.html?tab=1",n.push(o)}}return n}))}(n,t).then((function(e){var t=e,n='<h3 class="sidebarHeader">'.concat(w.ZP.translate("HeaderMedia"),"</h3>");n+=t.map((function(e){var t,n,r=e.icon||fe.ZP.getLibraryIcon(e.CollectionType),i=e.Id;return'<a is="emby-linkbutton" data-itemid="'.concat(i,'" class="lnkMediaFolder navMenuOption" href="').concat((t=e,n=e.CollectionType,f.appRouter.getRouteUrl(t,{context:n})),'">\n                                    <span class="material-icons navMenuOptionIcon ').concat(r,'" aria-hidden="true"></span>\n                                    <span class="sectionName navMenuOptionText">').concat(a()(e.Name),"</span>\n                                  </a>")})).join(""),i.innerHTML=n;var r,o=ye(i.querySelectorAll(".navMenuOption"));try{for(o.s();!(r=o.n()).done;){var s=r.value;s.removeEventListener("click",Ae),s.addEventListener("click",Ae)}}catch(e){o.e(e)}finally{o.f()}}))}(e.localUser)}))}function Be(){return $?Promise.resolve($):(X=document.querySelector(".mainDrawer"),(J=X.querySelector(".scrollContainer")).addEventListener("click",je),new Promise((function(e){n.e(8615).then(n.bind(n,98615)).then((function(t){var n,r=t.default;$=new r((n=window.screen.availWidth-50,n=Math.max(n,240),n=Math.min(n,320),{target:X,onChange:xe,width:n})),l.Z.tv||X.classList.remove("hide"),e($)}))})))}n(87201),n(15359);var Fe,Ue=l.Z.desktop,ze=!l.Z.tv,He=document.querySelector(".skinHeader"),Ve=!0;(0,pe.RW)("pagebeforeshow","page",(function(){this.classList.contains("withTabs")||Qe.setTabs(null)})),(0,pe.RW)("pageshow","page",(function(e){var t=this,n=t.classList.contains("type-interior"),r=t.classList.contains("homePage"),i=!n&&t.classList.contains("libraryPage"),o=ge();n?(K&&K.classList.remove("hide"),function(e,t){te="admin",Be(),J.querySelector(".adminDrawerLogo")?Ce(e):function(e,t){(function(e){return function(e){return e.getJSON(e.getUrl("web/configurationpages")+"?pageType=PluginConfiguration&EnableInMainMenu=true").then(Te,(function(){return Te([])}))}(e).then((function(e){var t,n="";n+='<div class="drawerContent">';for(var r=0;r<e.length;r++)(t=e[r]).href?n+=Ee(t):t.name&&(n+='<h3 class="sidebarHeader">',n+=a()(t.name),n+="</h3>");return n+"</div>"}))})(t).then((function(t){var n="";n+='<a class="adminDrawerLogo clearLink" is="emby-linkbutton" href="#/home.html">',n+='<img src="assets/img/icon-transparent.png" />',n+="</a>",n+=t,J.innerHTML=n,Ce(e)}))}(e,t)}(t,o)):(K&&(Ue||r&&ze?K.classList.remove("hide"):K.classList.add("hide")),"library"!==te&&qe()),function(e,t){var n=3;if(e?n=2:t&&(n=1),Fe!==n){Fe=n,e&&!l.Z.mobile?He.classList.add("headroomDisabled"):He.classList.remove("headroomDisabled");var r=document.body.classList;t?(r.add("libraryDocument"),r.remove("dashboardDocument"),r.remove("hideMainDrawer"),$&&$.setEdgeSwipeEnabled(!0)):e?(r.remove("libraryDocument"),r.add("dashboardDocument"),r.remove("hideMainDrawer"),$&&$.setEdgeSwipeEnabled(!0)):(r.remove("libraryDocument"),r.remove("dashboardDocument"),r.add("hideMainDrawer"),$&&$.setEdgeSwipeEnabled(!1))}Ve&&M.Z.user(ge()).then(we)}(n,i),e.detail.isRestored||window.scrollTo(0,0),function(e){var t=e.getAttribute("data-title");t?Qe.setTitle(t):e.classList.contains("standalonePage")&&Qe.setDefaultTitle()}(t),function(e){re&&("false"!==e.getAttribute("data-backbutton")&&f.appRouter.canGoBack()?re.classList.remove("hide"):re.classList.add("hide"))}(t),function(e){for(var t=e.classList.contains("liveTvPage"),n=e.classList.contains("channelsPage"),r=e.classList.contains("metadataEditorPage"),a=e.classList.contains("mySyncPage"),i=t||n||r||a||e.classList.contains("allLibraryPage")?"":Oe()||"",o=document.getElementsByClassName("lnkMediaFolder"),s=0,l=o.length;s<l;s++){var c=o[s],u=c.getAttribute("data-itemid");n&&"channels"===u||t&&"livetv"===u||r&&"editor"===u||a&&"manageoffline"===u&&-1!=window.location.href.toString().indexOf("mode=download")||a&&"syncotherdevices"===u&&-1==window.location.href.toString().indexOf("mode=download")||i&&u==i?c.classList.add("navMenuOption-selected"):c.classList.remove("navMenuOption-selected")}}(t)})),u.Events.on(M.Z,"localusersignedin",(function(e,t){var n=M.Z.getApiClient(t.ServerId);te=null,ie={localUser:t},Be(),M.Z.user(n).then((function(e){ie=e,we(e)}))})),u.Events.on(M.Z,"localusersignedout",(function(){ie={},we()})),u.Events.on(p.O,"playerchange",_e),Be();var We,Ge,Qe={getTopParentId:Oe,onHardwareMenuButtonClick:function(){ke()},setTabs:function(e,t,r){Promise.resolve().then(n.bind(n,67345)).then((function(n){e?n.setTabs(d.Z.currentView(),t,r,(function(){return[]})):n.setTabs(null)}))},setDefaultTitle:function(){ne||(ne=document.querySelector(".pageTitle")),ne&&(ne.classList.add("pageTitleWithLogo"),ne.classList.add("pageTitleWithDefaultLogo"),ne.style.backgroundImage=null,ne.innerHTML=""),document.title="Jellyfin"},setTitle:function(e){if(null!=e){"-"===e&&(e="");var t=e;ne||(ne=document.querySelector(".pageTitle")),ne&&(ne.classList.remove("pageTitleWithLogo"),ne.classList.remove("pageTitleWithDefaultLogo"),ne.style.backgroundImage=null,ne.innerText=t||""),document.title=e||"Jellyfin"}else Qe.setDefaultTitle()},setTransparentMenu:function(e){e?He.classList.add("semiTransparent"):He.classList.remove("semiTransparent")}};window.LibraryMenu=Qe,Ge="",Ge+='<div class="flex align-items-center flex-grow headerTop">',Ge+='<div class="headerLeft">',Ge+='<button type="button" is="paper-icon-button-light" class="headerButton headerButtonLeft headerBackButton hide"><span class="material-icons '+(de.Z.safari?"chevron_left":"arrow_back")+'" aria-hidden="true"></span></button>',Ge+='<button type="button" is="paper-icon-button-light" class="headerButton headerHomeButton hide barsMenuButton headerButtonLeft"><span class="material-icons home" aria-hidden="true"></span></button>',Ge+='<button type="button" is="paper-icon-button-light" class="headerButton mainDrawerButton barsMenuButton headerButtonLeft hide"><span class="material-icons menu" aria-hidden="true"></span></button>',Ge+='<h3 class="pageTitle" aria-hidden="true"></h3>',Ge+="</div>",Ge+='<div class="headerRight">',Ge+='<button is="paper-icon-button-light" class="headerSyncButton syncButton headerButton headerButtonRight hide"><span class="material-icons groups" aria-hidden="true"></span></button>',Ge+='<span class="headerSelectedPlayer"></span>',Ge+='<button is="paper-icon-button-light" class="headerAudioPlayerButton audioPlayerButton headerButton headerButtonRight hide"><span class="material-icons music_note" aria-hidden="true"></span></button>',Ge+='<button is="paper-icon-button-light" class="headerCastButton castButton headerButton headerButtonRight hide"><span class="material-icons cast" aria-hidden="true"></span></button>',Ge+='<button type="button" is="paper-icon-button-light" class="headerButton headerButtonRight headerSearchButton hide"><span class="material-icons search" aria-hidden="true"></span></button>',Ge+='<button is="paper-icon-button-light" class="headerButton headerButtonRight headerUserButton hide"><span class="material-icons person" aria-hidden="true"></span></button>',Ge+="</div>",Ge+="</div>",Ge+='<div class="headerTabs sectionTabs hide">',Ge+="</div>",He.classList.add("skinHeader-withBackground"),He.classList.add("skinHeader-blurred"),He.innerHTML=Ge,re=He.querySelector(".headerBackButton"),ee=He.querySelector(".headerHomeButton"),K=He.querySelector(".mainDrawerButton"),ae=He.querySelector(".headerUserButton"),oe=He.querySelector(".headerCastButton"),le=He.querySelector(".headerAudioPlayerButton"),se=He.querySelector(".headerSearchButton"),ce=He.querySelector(".headerSyncButton"),be(),Promise.resolve().then(n.bind(n,38737)).then((function(e){e.lazyChildren(He)})),K&&K.addEventListener("click",ke),re&&re.addEventListener("click",(function(){f.appRouter.back()})),se&&se.addEventListener("click",(function(){c.default.handleCommand("search")})),ae.addEventListener("click",(function(){pe.ZP.navigate("mypreferencesmenu.html")})),ee.addEventListener("click",(function(){pe.ZP.navigate("home.html")})),l.Z.tv||oe.addEventListener("click",(function(){var e=this;Promise.resolve().then(n.bind(n,68156)).then((function(t){t.show(e)}))})),le.addEventListener("click",(function(){return f.appRouter.showNowPlaying()})),ce.addEventListener("click",(function(){ue.show(this)})),l.Z.mobile&&(We=He,new(o())(We).init()),u.Events.on(p.O,"playbackstart",(function(){p.O.isPlayingAudio()&&l.Z.tv?le.classList.remove("hide"):le.classList.add("hide")})),u.Events.on(p.O,"playbackstop",(function(e,t){"Audio"!=t.nextMediaType&&le.classList.add("hide")})),_e();var Ye=Qe},41392:function(e,t,n){"use strict";n(61013),n(63238),n(61418),n(72410),n(15610),n(17460),n(52077),n(25901),n(92189),n(91047),n(5769),n(14078);var r=n(30325),a=n(61693),i=n(61570);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(){return!r.Z.desktop}window.LiveTvHelpers={getTimersHtml:function(e,t){t=t||{};var n,l=[],c="",u=[],d=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw i}}}}(e.map((function(e){return e.Type="Timer",e})));try{for(d.s();!(n=d.n()).done;){var f=n.value,h="";if(!1!==t.indexByDate&&f.StartDate)try{var p=a.ZP.parseISO8601Date(f.StartDate,!0);h=a.ZP.toLocaleDateString(p,{weekday:"long",month:"short",day:"numeric"})}catch(e){console.error("error parsing premiereDate:"+f.StartDate+"; error: "+e)}h!=c?(u.length&&l.push({name:c,items:u}),c=h,u=[f]):u.push(f)}}catch(e){d.e(e)}finally{d.f()}u.length&&l.push({name:c,items:u});for(var m="",y=0,v=l;y<v.length;y++){var g=v[y];if(g.name&&(m+='<div class="verticalSection">',m+='<h2 class="sectionTitle sectionTitle-cards padded-left">'+g.name+"</h2>"),s()){var b="scrollX hiddenScrollX";r.Z.tv&&(b+=" smoothScrollX"),m+='<div is="emby-itemscontainer" class="itemsContainer '+b+' padded-left padded-right">'}else m+='<div is="emby-itemscontainer" class="itemsContainer vertical-wrap padded-left padded-right">';m+=i.default.getCardsHtml({items:g.items,shape:s()?"overflowBackdrop":"backdrop",showTitle:!0,showParentTitleOrTitle:!0,showAirTime:!0,showAirEndTime:!0,showChannelName:!1,cardLayout:!0,centerText:!1,action:"edit",cardFooterAside:"none",preferThumb:!0,defaultShape:null,coverImage:!0,allowBottomPadding:!1,overlayText:!1,showChannelLogo:!0}),m+="</div>",g.name&&(m+="</div>")}return Promise.resolve(m)}}},21844:function(e,t,n){"use strict";var r,a,i,o=n(58517),s=n(34643),l=n(57366),c=n(30325),u=n(47005),d=n(72365),f={},h=(new Date).getTime();function p(){var e=document.body.classList;e.remove("mouseIdle"),e.remove("mouseIdle-tv")}function m(){r&&(r=!1,p(),u.Events.trigger(f,"mouseactive"))}function y(){var e;r||(r=!0,(e=document.body.classList).add("mouseIdle"),c.Z.tv&&e.add("mouseIdle-tv"),u.Events.trigger(f,"mouseidle"))}function v(e){var t=e.screenX||e.clientX,n=e.screenY||e.clientY;if(void 0!==t||void 0!==n){var r=a;r?Math.abs(t-r.x)<10&&Math.abs(n-r.y)<10||(r.x=t,r.y=n,h=(new Date).getTime(),o.default.notifyMouseMove(),m()):a={x:t,y:n}}}function g(e){if("mouse"===(e.pointerType||(c.Z.mobile?"touch":"mouse"))&&!r){var t=s.Z.focusableParent(e.target);t&&s.Z.focus(t)}}function b(){!r&&(new Date).getTime()-h>=5e3&&y()}function w(){i&&(clearInterval(i),i=null),p(),d.ZP.removeEventListener(document,window.PointerEvent?"pointermove":"mousemove",v,{passive:!0}),c.Z.mobile||(i||(i=setInterval(b,5e3)),d.ZP.addEventListener(document,window.PointerEvent?"pointermove":"mousemove",v,{passive:!0})),d.ZP.removeEventListener(document,window.PointerEvent?"pointerenter":"mouseenter",g,{capture:!0,passive:!0}),c.Z.tv&&!l.Z.web0s&&l.Z.tv&&d.ZP.addEventListener(document,window.PointerEvent?"pointerenter":"mouseenter",g,{capture:!0,passive:!0})}w(),u.Events.on(c.Z,"modechange",w),t.ZP={hideCursor:y,showCursor:m}},54517:function(e,t,n){"use strict";n.r(t),n.d(t,{centerFocus:function(){return f},getPosition:function(){return o},toCenter:function(){return s},toStart:function(){return l}});var r=n(34643),a=n(72365);function i(e){return e.getBoundingClientRect?e.getBoundingClientRect():{top:0,left:0}}function o(e,t,n){var r=i(e),a=i(t),o=n?a.left-r.left:a.top-r.top,s=n?a.width:a.height;s||0===s||(s=t[n?"offsetWidth":"offsetHeight"]);var l=n?e.scrollLeft:e.scrollTop;o+=l;var c=n?e.offsetWidth:e.offsetHeight;return{start:o,center:o-c/2+s/2,end:o-c+s,size:s,isVisible:o>=l&&o+s<=l+c}}function s(e,t,n,r){var a=o(e,t,n);r&&a.isVisible||(e.scrollTo?n?e.scrollTo(a.center,0):e.scrollTo(0,a.center):n?e.scrollLeft=Math.round(a.center):e.scrollTop=Math.round(a.center))}function l(e,t,n,r){var a=o(e,t,n);r&&a.isVisible||(e.scrollTo?n?e.scrollTo(a.start,0):e.scrollTo(0,a.start):n?e.scrollLeft=Math.round(a.start):e.scrollTop=Math.round(a.start))}function c(e,t,n){var a=r.Z.focusableParent(e.target);a&&s(t,a,n)}function u(e){c(e,this,!0)}function d(e){c(e,this,!1)}n(87201);var f={on:function(e,t){e.setAttribute("data-scroll-mode-".concat(t?"x":"y"),"custom"),t?a.ZP.addEventListener(e,"focus",u,{capture:!0,passive:!0}):a.ZP.addEventListener(e,"focus",d,{capture:!0,passive:!0})},off:function(e,t){e.removeAttribute("data-scroll-mode-".concat(t?"x":"y")),t?a.ZP.removeEventListener(e,"focus",u,{capture:!0,passive:!0}):a.ZP.removeEventListener(e,"focus",d,{capture:!0,passive:!0})}};t.default={getPosition:o,centerFocus:f,toCenter:s,toStart:l}},44038:function(e,t,n){"use strict";n.r(t),n(32081),n(63238),n(55849);var r=n(48957),a=n(99294),i=n(47005),o=n(58517),s=n(34643),l=n(52050),c=n(18613),u=n(29016),d=n(37099),f={};function h(){o.default.notify()}function p(e,t){var n=this;if("Play"===t.MessageType){h();var c=n.serverInfo().Id;"PlayNext"===t.Data.PlayCommand?r.O.queueNext({ids:t.Data.ItemIds,serverId:c}):"PlayLast"===t.Data.PlayCommand?r.O.queue({ids:t.Data.ItemIds,serverId:c}):r.O.play({ids:t.Data.ItemIds,startPositionTicks:t.Data.StartPositionTicks,mediaSourceId:t.Data.MediaSourceId,audioStreamIndex:t.Data.AudioStreamIndex,subtitleStreamIndex:t.Data.SubtitleStreamIndex,startIndex:t.Data.StartIndex,serverId:c})}else if("Playstate"===t.MessageType)"Stop"===t.Data.Command?o.default.handleCommand("stop"):"Pause"===t.Data.Command?o.default.handleCommand("pause"):"Unpause"===t.Data.Command?o.default.handleCommand("play"):"PlayPause"===t.Data.Command?o.default.handleCommand("playpause"):"Seek"===t.Data.Command?r.O.seek(t.Data.SeekPositionTicks):"NextTrack"===t.Data.Command?o.default.handleCommand("next"):"PreviousTrack"===t.Data.Command?o.default.handleCommand("previous"):h();else if("GeneralCommand"===t.MessageType)!function(e,t){switch(console.debug("Received command: "+e.Name),e.Name){case"Select":return void o.default.handleCommand("select");case"Back":return void o.default.handleCommand("back");case"MoveUp":return void o.default.handleCommand("up");case"MoveDown":return void o.default.handleCommand("down");case"MoveLeft":return void o.default.handleCommand("left");case"MoveRight":return void o.default.handleCommand("right");case"PageUp":return void o.default.handleCommand("pageup");case"PageDown":return void o.default.handleCommand("pagedown");case"PlayTrailers":!function(e,t){e.getItem(e.getCurrentUserId(),t).then((function(e){r.O.playTrailers(e)}))}(t,e.Arguments.ItemId);break;case"SetRepeatMode":r.O.setRepeatMode(e.Arguments.RepeatMode);break;case"SetShuffleQueue":r.O.setQueueShuffleMode(e.Arguments.ShuffleMode);break;case"VolumeUp":return void o.default.handleCommand("volumeup");case"VolumeDown":return void o.default.handleCommand("volumedown");case"ChannelUp":return void o.default.handleCommand("channelup");case"ChannelDown":return void o.default.handleCommand("channeldown");case"Mute":return void o.default.handleCommand("mute");case"Unmute":return void o.default.handleCommand("unmute");case"ToggleMute":return void o.default.handleCommand("togglemute");case"SetVolume":h(),r.O.setVolume(e.Arguments.Volume);break;case"SetAudioStreamIndex":h(),r.O.setAudioStreamIndex(parseInt(e.Arguments.Index));break;case"SetSubtitleStreamIndex":h(),r.O.setSubtitleStreamIndex(parseInt(e.Arguments.Index));break;case"ToggleFullscreen":return void o.default.handleCommand("togglefullscreen");case"GoHome":return void o.default.handleCommand("home");case"GoToSettings":return void o.default.handleCommand("settings");case"DisplayContent":!function(e,t){r.O.isPlayingLocally(["Video","Book"])||l.appRouter.showItem(e.Arguments.ItemId,t.serverId())}(e,t);break;case"GoToSearch":return void o.default.handleCommand("search");case"DisplayMessage":!function(e){var t=e.Arguments;t.TimeoutMs?(0,u.Z)({title:t.Header,text:t.Text}):(0,d.Z)({title:t.Header,text:t.Text})}(e);break;case"ToggleOsd":case"ToggleContextMenu":case"SendKey":break;case"SendString":s.Z.sendText(e.Arguments.String);break;default:console.debug("processGeneralCommand does not recognize: "+e.Name)}h()}(t.Data,n);else if("UserDataChanged"===t.MessageType){if(t.Data.UserId===n.getCurrentUserId())for(var p=0,m=t.Data.UserDataList.length;p<m;p++)i.Events.trigger(f,"UserDataChanged",[n,t.Data.UserDataList[p]])}else"SyncPlayCommand"===t.MessageType?a.Z.Manager.processCommand(t.Data,n):"SyncPlayGroupUpdate"===t.MessageType?a.Z.Manager.processGroupUpdate(t.Data,n):i.Events.trigger(f,t.MessageType,[n,t.Data])}function m(e){i.Events.off(e,"message",p),i.Events.on(e,"message",p)}c.Z.getApiClients().forEach(m),i.Events.on(c.Z,"apiclientcreated",(function(e,t){m(t)})),window.ServerNotifications=f,t.default=f},59858:function(e,t,n){"use strict";n(63238),n(40895),n(32081),n(5769),n(17460),n(12133),n(14078),n(99785);var r=n(47005),a=n(98555);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var s=new WeakSet,l=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t=this,n=s),n.add(t)}var t,n;return t=e,(n=[{key:"enableAutoLogin",value:function(e){return void 0!==e&&this.set("enableAutoLogin",e.toString()),(0,a.s)(this.get("enableAutoLogin"),!0)}},{key:"enableGamepad",value:function(e){return void 0!==e?this.set("enableGamepad",e.toString()):(0,a.s)(this.get("enableGamepad"),!1)}},{key:"enableSystemExternalPlayers",value:function(e){return void 0!==e&&this.set("enableSystemExternalPlayers",e.toString()),(0,a.s)(this.get("enableSystemExternalPlayers"),!1)}},{key:"enableAutomaticBitrateDetection",value:function(e,t,n){var r="enableautobitratebitrate-"+t+"-"+e;return void 0!==n&&(e&&"Audio"===t&&(n=!0),this.set(r,n.toString())),!(!e||"Audio"!==t)||(0,a.s)(this.get(r),!0)}},{key:"maxStreamingBitrate",value:function(e,t,n){var r="maxbitrate-"+t+"-"+e;return void 0!==n&&(e&&"Audio"===t||this.set(r,n)),e&&"Audio"===t?15e7:parseInt(this.get(r)||"0")||15e5}},{key:"maxStaticMusicBitrate",value:function(e){void 0!==e&&this.set("maxStaticMusicBitrate",e);var t=32e4;return parseInt(this.get("maxStaticMusicBitrate")||t.toString())||t}},{key:"maxChromecastBitrate",value:function(e){return void 0!==e&&this.set("chromecastBitrate1",e),(e=this.get("chromecastBitrate1"))?parseInt(e):null}},{key:"maxVideoWidth",value:function(e){return void 0!==e?this.set("maxVideoWidth",e.toString()):parseInt(this.get("maxVideoWidth")||"0",10)||0}},{key:"set",value:function(e,t,n){var a=this.get(e,n);r.AppStorage.setItem(o(this,s,c).call(this,e,n),t),a!==t&&r.Events.trigger(this,"change",[e])}},{key:"get",value:function(e,t){return r.AppStorage.getItem(o(this,s,c).call(this,e,t))}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e,t){return t&&(e=t+"-"+e),e}t.Z=new l},60934:function(e,t,n){"use strict";n.r(t),n.d(t,{UserSettings:function(){return u},allowedAudioChannels:function(){return g},chromecastVersion:function(){return Z},currentSettings:function(){return d},customCss:function(){return X},dashboardTheme:function(){return M},dateTimeLocale:function(){return A},detailsBanner:function(){return T},disableCustomCss:function(){return J},enableBackdrops:function(){return C},enableBlurhash:function(){return I},enableCinemaMode:function(){return w},enableFastFadein:function(){return x},enableNextVideoInfoOverlay:function(){return P},enableRewatchingInNextUp:function(){return B},enableThemeSongs:function(){return k},enableThemeVideos:function(){return S},get:function(){return y},getComicsPlayerSettings:function(){return W},getData:function(){return h},getFilter:function(){return Y},getSubtitleAppearanceSettings:function(){return H},importFrom:function(){return p},language:function(){return E},libraryPageSize:function(){return _},loadQuerySettings:function(){return U},maxDaysForNextUp:function(){return q},preferFmp4HlsContainer:function(){return b},saveQuerySettings:function(){return z},screensaver:function(){return R},serverConfig:function(){return v},set:function(){return m},setComicsPlayerSettings:function(){return G},setFilter:function(){return Q},setSubtitleAppearanceSettings:function(){return V},setUserInfo:function(){return f},skin:function(){return N},skipBackLength:function(){return O},skipForwardLength:function(){return j},soundEffects:function(){return F},theme:function(){return D},useEpisodeImagesInNextUpAndResume:function(){return L}}),n(63238),n(61418),n(40895),n(32081),n(48410),n(99785);var r=n(59858),a=n(47005),i=n(98555);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(){var e=this;e.saveTimeout=null,e.currentApiClient.updateDisplayPreferences("usersettings",e.displayPrefs,e.currentUserId,"emby")}var l={verticalPosition:-3},c={langDir:"ltr",pagesPerView:1},u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"setUserInfo",value:function(e,t){if(this.saveTimeout&&clearTimeout(this.saveTimeout),this.currentUserId=e,this.currentApiClient=t,!e)return this.displayPrefs=null,Promise.resolve();var n=this;return t.getDisplayPreferences("usersettings",e,"emby").then((function(e){e.CustomPrefs=e.CustomPrefs||{},n.displayPrefs=e}))}},{key:"getData",value:function(){return this.displayPrefs}},{key:"importFrom",value:function(e){this.displayPrefs=e.getData()}},{key:"set",value:function(e,t,n){var i,o=this.currentUserId,l=this.get(e,n),c=r.Z.set(e,t,o);return!1!==n&&this.displayPrefs&&(this.displayPrefs.CustomPrefs[e]=null==t?t:t.toString(),(i=this).saveTimeout&&clearTimeout(i.saveTimeout),i.saveTimeout=setTimeout(s.bind(i),50)),l!==t&&a.Events.trigger(this,"change",[e]),c}},{key:"get",value:function(e,t){var n=this.currentUserId;return!1!==t&&this.displayPrefs?this.displayPrefs.CustomPrefs[e]:r.Z.get(e,n)}},{key:"serverConfig",value:function(e){var t=this.currentApiClient;return e?t.updateUserConfiguration(this.currentUserId,e):t.getUser(this.currentUserId).then((function(e){return e.Configuration}))}},{key:"allowedAudioChannels",value:function(e){return void 0!==e?this.set("allowedAudioChannels",e,!1):this.get("allowedAudioChannels",!1)||"-1"}},{key:"preferFmp4HlsContainer",value:function(e){return void 0!==e?this.set("preferFmp4HlsContainer",e.toString(),!1):(0,i.s)(this.get("preferFmp4HlsContainer",!1),!1)}},{key:"enableCinemaMode",value:function(e){return void 0!==e?this.set("enableCinemaMode",e.toString(),!1):(0,i.s)(this.get("enableCinemaMode",!1),!0)}},{key:"enableNextVideoInfoOverlay",value:function(e){return void 0!==e?this.set("enableNextVideoInfoOverlay",e.toString()):(0,i.s)(this.get("enableNextVideoInfoOverlay",!1),!0)}},{key:"enableThemeSongs",value:function(e){return void 0!==e?this.set("enableThemeSongs",e.toString(),!1):(0,i.s)(this.get("enableThemeSongs",!1),!1)}},{key:"enableThemeVideos",value:function(e){return void 0!==e?this.set("enableThemeVideos",e.toString(),!1):(0,i.s)(this.get("enableThemeVideos",!1),!1)}},{key:"enableFastFadein",value:function(e){return void 0!==e?this.set("fastFadein",e.toString(),!1):(0,i.s)(this.get("fastFadein",!1),!0)}},{key:"enableBlurhash",value:function(e){return void 0!==e?this.set("blurhash",e.toString(),!1):(0,i.s)(this.get("blurhash",!1),!0)}},{key:"enableBackdrops",value:function(e){return void 0!==e?this.set("enableBackdrops",e.toString(),!1):(0,i.s)(this.get("enableBackdrops",!1),!1)}},{key:"disableCustomCss",value:function(e){return void 0!==e?this.set("disableCustomCss",e.toString(),!1):(0,i.s)(this.get("disableCustomCss",!1),!1)}},{key:"customCss",value:function(e){return void 0!==e?this.set("customCss",e.toString(),!1):this.get("customCss",!1)}},{key:"detailsBanner",value:function(e){return void 0!==e?this.set("detailsBanner",e.toString(),!1):(0,i.s)(this.get("detailsBanner",!1),!0)}},{key:"useEpisodeImagesInNextUpAndResume",value:function(e){return void 0!==e?this.set("useEpisodeImagesInNextUpAndResume",e.toString(),!0):(0,i.s)(this.get("useEpisodeImagesInNextUpAndResume",!0),!1)}},{key:"language",value:function(e){return void 0!==e?this.set("language",e.toString(),!1):this.get("language",!1)}},{key:"dateTimeLocale",value:function(e){return void 0!==e?this.set("datetimelocale",e.toString(),!1):this.get("datetimelocale",!1)}},{key:"chromecastVersion",value:function(e){return void 0!==e?this.set("chromecastVersion",e.toString()):this.get("chromecastVersion")||"stable"}},{key:"skipBackLength",value:function(e){return void 0!==e?this.set("skipBackLength",e.toString()):parseInt(this.get("skipBackLength")||"10000")}},{key:"skipForwardLength",value:function(e){return void 0!==e?this.set("skipForwardLength",e.toString()):parseInt(this.get("skipForwardLength")||"30000")}},{key:"dashboardTheme",value:function(e){return void 0!==e?this.set("dashboardTheme",e):this.get("dashboardTheme")}},{key:"skin",value:function(e){return void 0!==e?this.set("skin",e,!1):this.get("skin",!1)}},{key:"theme",value:function(e){return void 0!==e?this.set("appTheme",e,!1):this.get("appTheme",!1)}},{key:"screensaver",value:function(e){return void 0!==e?this.set("screensaver",e,!1):this.get("screensaver",!1)}},{key:"libraryPageSize",value:function(e){if(void 0!==e)return this.set("libraryPageSize",parseInt(e,10),!1);var t=parseInt(this.get("libraryPageSize",!1),10);return 0===t?0:t||100}},{key:"maxDaysForNextUp",value:function(e){if(void 0!==e)return this.set("maxDaysForNextUp",parseInt(e,10),!1);var t=parseInt(this.get("maxDaysForNextUp",!1),10);return 0===t?0:t||365}},{key:"enableRewatchingInNextUp",value:function(e){return void 0!==e?this.set("enableRewatchingInNextUp",e,!1):(0,i.s)(this.get("enableRewatchingInNextUp",!1),!1)}},{key:"soundEffects",value:function(e){return void 0!==e?this.set("soundeffects",e,!1):this.get("soundeffects",!1)}},{key:"loadQuerySettings",value:function(e,t){var n=this.get(e);return n?(n=JSON.parse(n),Object.assign(t,n)):t}},{key:"saveQuerySettings",value:function(e,t){var n={};return t.SortBy&&(n.SortBy=t.SortBy),t.SortOrder&&(n.SortOrder=t.SortOrder),this.set(e,JSON.stringify(n))}},{key:"getSubtitleAppearanceSettings",value:function(e){return e=e||"localplayersubtitleappearance3",Object.assign(l,JSON.parse(this.get(e,!1)||"{}"))}},{key:"setSubtitleAppearanceSettings",value:function(e,t){return t=t||"localplayersubtitleappearance3",this.set(t,JSON.stringify(e),!1)}},{key:"getComicsPlayerSettings",value:function(e){var t=JSON.parse(this.get("comicsPlayerSettings",!1)||"{}");return Object.assign(c,t[e])}},{key:"setComicsPlayerSettings",value:function(e,t){var n=JSON.parse(this.get("comicsPlayerSettings",!1)||"{}");return n[t]=e,this.set("comicsPlayerSettings",JSON.stringify(n),!1)}},{key:"setFilter",value:function(e,t){return this.set(e,t,!0)}},{key:"getFilter",value:function(e){return this.get(e,!0)}}],n&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),d=new u,f=d.setUserInfo.bind(d),h=d.getData.bind(d),p=d.importFrom.bind(d),m=d.set.bind(d),y=d.get.bind(d),v=d.serverConfig.bind(d),g=d.allowedAudioChannels.bind(d),b=d.preferFmp4HlsContainer.bind(d),w=d.enableCinemaMode.bind(d),P=d.enableNextVideoInfoOverlay.bind(d),k=d.enableThemeSongs.bind(d),S=d.enableThemeVideos.bind(d),x=d.enableFastFadein.bind(d),I=d.enableBlurhash.bind(d),C=d.enableBackdrops.bind(d),T=d.detailsBanner.bind(d),L=d.useEpisodeImagesInNextUpAndResume.bind(d),E=d.language.bind(d),A=d.dateTimeLocale.bind(d),Z=d.chromecastVersion.bind(d),O=d.skipBackLength.bind(d),j=d.skipForwardLength.bind(d),M=d.dashboardTheme.bind(d),N=d.skin.bind(d),D=d.theme.bind(d),R=d.screensaver.bind(d),_=d.libraryPageSize.bind(d),q=d.maxDaysForNextUp.bind(d),B=d.enableRewatchingInNextUp.bind(d),F=d.soundEffects.bind(d),U=d.loadQuerySettings.bind(d),z=d.saveQuerySettings.bind(d),H=d.getSubtitleAppearanceSettings.bind(d),V=d.setSubtitleAppearanceSettings.bind(d),W=d.getComicsPlayerSettings.bind(d),G=d.setComicsPlayerSettings.bind(d),Q=d.setFilter.bind(d),Y=d.getFilter.bind(d),X=d.customCss.bind(d),J=d.disableCustomCss.bind(d)},58886:function(e,t,n){"use strict";n.d(t,{Vx:function(){return P},X0:function(){return p},hi:function(){return k},IY:function(){return m},uM:function(){return S},MC:function(){return y},RC:function(){return w}}),n(63238),n(61418),n(52327),n(90938),n(25901),n(92189),n(91047),n(5769),n(17460),n(14078),n(98521),n(6798),n(82923),n(21897),n(99785),n(12274),n(55849),n(50987),n(60190),n(72410);var r,a=JSON.parse('{"includeCorsCredentials":false,"multiserver":false,"themes":[{"name":"Apple TV","id":"appletv","color":"#bcbcbc"},{"name":"Blue Radiance","id":"blueradiance","color":"#011432"},{"name":"Dark","id":"dark","color":"#202020","default":true},{"name":"Light","id":"light","color":"#303030"},{"name":"Purple Haze","id":"purplehaze","color":"#000420"},{"name":"WMC","id":"wmc","color":"#0c2450"}],"menuLinks":[],"servers":[],"plugins":["playAccessValidation/plugin","experimentalWarnings/plugin","htmlAudioPlayer/plugin","htmlVideoPlayer/plugin","photoPlayer/plugin","comicsPlayer/plugin","bookPlayer/plugin","youtubePlayer/plugin","backdropScreensaver/plugin","pdfPlayer/plugin","logoScreensaver/plugin","sessionPlayer/plugin","chromecastPlayer/plugin"]}');function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(){o=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),o=new I(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function h(){}function p(){}function m(){}var y={};c(y,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(C([])));g&&g!==t&&n.call(g,a)&&(y=g);var b=m.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(a,o,s,l){var c=d(e[a],e,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==i(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,l)}),(function(e){r("throw",e,s,l)})):t.resolve(f).then((function(e){u.value=e,s(u)}),(function(e){return r("throw",e,s,l)}))}l(c.arg)}var a;this._invoke=function(e,n){function i(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(i,i):i()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=m,c(b,"constructor",m),c(m,"constructor",p),p.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(P.prototype),c(P.prototype,s,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new P(u(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),c(b,l,"Generator"),c(b,a,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function s(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){s(i,r,a,o,l,"next",e)}function l(e){s(i,r,a,o,l,"throw",e)}o(void 0)}))}}var c=document.createElement("a");function u(e,t){return d.apply(this,arguments)}function d(){return(d=l(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.href=t,r=c.href,e.abrupt("return",new Promise((function(e,a){var i=new XMLHttpRequest;i.onload=function(){var t=i.status;r.startsWith("file:")&&0===t&&(t=200),e(new Response(i.responseText,{status:t}))},i.onerror=function(){a(new TypeError("Local request failed"))},i.open("GET",t),n&&n.cache&&i.setRequestHeader("Cache-Control",n.cache),i.send(null)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return h.apply(this,arguments)}function h(){return(h=l(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return",Promise.resolve(r));case 2:return e.prev=2,e.next=5,u("config.json",{cache:"no-cache"});case 5:if((t=e.sent).ok){e.next=8;break}throw new Error("network response was not ok");case 8:return e.next=10,t.json();case 10:return r=e.sent,e.abrupt("return",r);case 14:return e.prev=14,e.t0=e.catch(2),console.warn("failed to fetch the web config file:",e.t0),r=a,e.abrupt("return",r);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}function p(){return f().then((function(e){return!!e.includeCorsCredentials})).catch((function(e){return console.log("cannot get web config:",e),!1}))}function m(){return f().then((function(e){return!!e.multiserver})).catch((function(e){return console.log("cannot get web config:",e),!1}))}function y(){return f().then((function(e){return e.servers||[]})).catch((function(e){return console.log("cannot get web config:",e),[]}))}var v={name:"Dark",id:"dark",default:!0},g=v,b=function(e){if(e){var t=e.find((function(e){return e.default}));if(t)return void(g=t)}g=v};function w(){return f().then((function(e){Array.isArray(e.themes)||console.error("web config is invalid, missing themes:",e);var t=Array.isArray(e.themes)?e.themes:a.themes;return b(t),t})).catch((function(e){return console.log("cannot get web config:",e),b(),a.themes}))}var P=function(){return g};function k(){return f().then((function(e){return e.menuLinks||console.error("web config is invalid, missing menuLinks:",e),e.menuLinks||[]})).catch((function(e){return console.log("cannot get web config:",e),[]}))}function S(){return f().then((function(e){return e.plugins||console.error("web config is invalid, missing plugins:",e),e.plugins||a.plugins})).catch((function(e){return console.log("cannot get web config:",e),a.plugins}))}},92581:function(e,t,n){"use strict";n(63238),n(55849),t.Z={enableFullscreen:function(){var e;null!==(e=window.NativeShell)&&void 0!==e&&e.enableFullscreen&&window.NativeShell.enableFullscreen()},disableFullscreen:function(){var e;null!==(e=window.NativeShell)&&void 0!==e&&e.disableFullscreen&&window.NativeShell.disableFullscreen()},openUrl:function(e,t){var n;null!==(n=window.NativeShell)&&void 0!==n&&n.openUrl?window.NativeShell.openUrl(e,t):window.open(e,t||"_blank")},updateMediaSession:function(e){var t;null!==(t=window.NativeShell)&&void 0!==t&&t.updateMediaSession&&window.NativeShell.updateMediaSession(e)},hideMediaSession:function(){var e;null!==(e=window.NativeShell)&&void 0!==e&&e.hideMediaSession&&window.NativeShell.hideMediaSession()},updateVolumeLevel:function(e){var t;null!==(t=window.NativeShell)&&void 0!==t&&t.updateVolumeLevel&&window.NativeShell.updateVolumeLevel(e)},downloadFiles:function(e){var t;return!(null===(t=window.NativeShell)||void 0===t||!t.downloadFile||(e.forEach((function(e){return window.NativeShell.downloadFile(e)})),0))}}},97238:function(e,t,n){"use strict";n(5769),n(61013),n(27471),n(63238),n(40895),n(61418),n(17460),n(14078),n(98010),n(90938),n(23938),n(61370),n(25901),n(92189),n(91047),n(98521),n(6798),n(82923),n(21897),n(99785),n(12274),n(55849),n(50987),n(60190),n(72410),n(75377),n(86248),n(72326),n(46756),n(17827),n(92075),n(24845),n(97329);var r=n(1892),a=n.n(r),i=n(95760),o=n.n(i),s=n(38311),l=n.n(s),c=n(58192),u=n.n(c),d=n(38060),f=n.n(d),h=n(54865),p=n.n(h),m=n(68557),y={};y.styleTagTransform=p(),y.setAttributes=u(),y.insert=l().bind(null,"head"),y.domAPI=o(),y.insertStyleElement=f(),a()(m.Z,y),m.Z&&m.Z.locals&&m.Z.locals;var v=n(27378),g=n(31542),b=n(47005),w=n(18613),P=n(94994),k=n(57366),S=n(84280),x=(n(21844),n(87680)),I=n(84881),C=n(58886),T=n(67932),L=(n(95623),n(61514),n(58112),n(11755),n(59858));function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Z(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,j(e,t,"set"),n),n}function O(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,j(e,t,"get"))}function j(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var M=new WeakMap,N=new WeakMap,D=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),A(this,M,{writable:!0,value:[]}),A(this,N,{writable:!0,value:"installedpackages1"})}var t,n;return t=e,n=[{key:"init",value:function(){var e=this;console.groupCollapsed("loading packages");var t=JSON.parse(L.Z.get(O(this,N))||"[]");return Promise.all(t.map((function(t){return e.loadPackage(t)}))).then((function(){return console.debug("finished loading packages"),Promise.resolve()})).catch((function(){return Promise.resolve()})).finally((function(){console.groupEnd("loading packages")}))}},{key:"packages",get:function(){return O(this,M).slice(0)}},{key:"install",value:function(e){var t=this;return this.loadPackage(e,!0).then((function(n){var r=JSON.parse(L.Z.get(O(t,N))||"[]");return r.includes(e)||(r.push(e),L.Z.set(O(t,N),JSON.stringify(r))),n}))}},{key:"uninstall",value:function(e){var t=O(this,M).filter((function(t){return t.name===e}))[0];return t&&(Z(this,M,O(this,M).filter((function(t){return t.name!==e}))),this.removeUrl(t.url)),Promise.resolve()}},{key:"mapPath",value:function(e,t){var n=t.toLowerCase();if(n.startsWith("http:")||n.startsWith("https:")||n.startsWith("file:"))return t;var r=e.url;return r=r.substring(0,r.lastIndexOf("/")),(r+="/")+t}},{key:"addPackage",value:function(e){Z(this,M,O(this,M).filter((function(t){return t.name!==e.name}))),O(this,M).push(e)}},{key:"removeUrl",value:function(e){var t=JSON.parse(L.Z.get(O(this,N))||"[]");t=t.filter((function(t){return t!==e})),L.Z.set(O(this,N),JSON.stringify(t))}},{key:"loadPackage",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(r,a){var i=new XMLHttpRequest,o=e;e+=-1===e.indexOf("?")?"?":"&",e+="t="+(new Date).getTime(),i.open("GET",e,!0);var s=function(){!0===n?a():(t.removeUrl(o),r())};i.onload=function(){if(t.status<400){var e=JSON.parse(t.response);e.url=o,t.addPackage(e);var n=e.plugins||[];e.plugin&&n.push(e.plugin);var a=n.map((function(n){return T.E.loadPlugin(t.mapPath(e,n))}));Promise.all(a).then(r,r)}else s()},i.onerror=s,i.send()}))}}],n&&E(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),R=new D,_=n(52050),q=(n(38228),n(60934)),B=n(45220),F=n(60635);B.Z.setTheme(q.theme()).then((function(){return document.body.classList.add("force-scroll")})),b.Events.on(w.Z,"localusersignedin",(function(){B.Z.setTheme(q.theme())})),(0,F.RW)("viewbeforeshow","page",(function(){this.classList.contains("type-interior")?B.Z.setTheme(q.dashboardTheme()):B.Z.setTheme(q.theme())}));var U=n(12619),z=(n(33310),n(41392),n(61414),n(82427),n(33648),n(19099),n(25141),n(54725),n(38927)),H={};H.styleTagTransform=p(),H.setAttributes=u(),H.insert=l().bind(null,"head"),H.domAPI=o(),H.insertStyleElement=f(),a()(z.Z,H),z.Z&&z.Z.locals&&z.Z.locals,n(664),n(92051);var V=n(75240),W={};function G(e){var t=e.alias?e.alias:e.path;console.debug("defining route: "+t),e.dictionary="core",_.appRouter.addRoute(t,e)}W.styleTagTransform=p(),W.setAttributes=u(),W.insert=l().bind(null,"head"),W.domAPI=o(),W.insertStyleElement=f(),a()(V.Z,W),V.Z&&V.Z.locals&&V.Z.locals,console.groupCollapsed("defining core routes"),G({alias:"/addserver.html",path:"session/addServer/index.html",autoFocus:!1,anonymous:!0,startup:!0,controller:"session/addServer/index"}),G({alias:"/selectserver.html",path:"session/selectServer/index.html",autoFocus:!1,anonymous:!0,startup:!0,controller:"session/selectServer/index",type:"selectserver"}),G({alias:"/login.html",path:"session/login/index.html",autoFocus:!1,anonymous:!0,startup:!0,controller:"session/login/index",type:"login"}),G({alias:"/forgotpassword.html",path:"session/forgotPassword/index.html",anonymous:!0,startup:!0,controller:"session/forgotPassword/index"}),G({alias:"/forgotpasswordpin.html",path:"session/resetPassword/index.html",autoFocus:!1,anonymous:!0,startup:!0,controller:"session/resetPassword/index"}),G({alias:"/mypreferencesmenu.html",path:"user/menu/index.html",autoFocus:!1,controller:"user/menu/index"}),G({alias:"/mypreferencescontrols.html",path:"user/controls/index.html",autoFocus:!1,controller:"user/controls/index"}),G({alias:"/mypreferencesdisplay.html",path:"user/display/index.html",autoFocus:!1,controller:"user/display/index"}),G({alias:"/mypreferenceshome.html",path:"user/home/index.html",autoFocus:!1,controller:"user/home/index"}),G({alias:"/mypreferencesquickconnect.html",path:"user/quickConnect/index.html",autoFocus:!1,transition:"fade",controller:"user/quickConnect/index"}),G({alias:"/mypreferencesplayback.html",path:"user/playback/index.html",autoFocus:!1,controller:"user/playback/index"}),G({alias:"/mypreferencessubtitles.html",path:"user/subtitles/index.html",autoFocus:!1,controller:"user/subtitles/index"}),G({alias:"/dashboard.html",path:"dashboard/dashboard.html",autoFocus:!1,roles:"admin",controller:"dashboard/dashboard"}),G({alias:"/dashboardgeneral.html",path:"dashboard/general.html",controller:"dashboard/general",autoFocus:!1,roles:"admin"}),G({alias:"/networking.html",path:"dashboard/networking.html",autoFocus:!1,roles:"admin",controller:"dashboard/networking"}),G({alias:"/devices.html",path:"dashboard/devices/devices.html",autoFocus:!1,roles:"admin",controller:"dashboard/devices/devices"}),G({alias:"/device.html",path:"dashboard/devices/device.html",autoFocus:!1,roles:"admin",controller:"dashboard/devices/device"}),G({alias:"/quickConnect.html",path:"dashboard/quickConnect.html",autoFocus:!1,roles:"admin",controller:"dashboard/quickConnect"}),G({alias:"/dlnaprofile.html",path:"dashboard/dlna/profile.html",autoFocus:!1,roles:"admin",controller:"dashboard/dlna/profile"}),G({alias:"/dlnaprofiles.html",path:"dashboard/dlna/profiles.html",autoFocus:!1,roles:"admin",controller:"dashboard/dlna/profiles"}),G({alias:"/dlnasettings.html",path:"dashboard/dlna/settings.html",autoFocus:!1,roles:"admin",controller:"dashboard/dlna/settings"}),G({alias:"/addplugin.html",path:"dashboard/plugins/add/index.html",autoFocus:!1,roles:"admin",controller:"dashboard/plugins/add/index"}),G({alias:"/library.html",path:"dashboard/library.html",autoFocus:!1,roles:"admin",controller:"dashboard/library"}),G({alias:"/librarydisplay.html",path:"dashboard/librarydisplay.html",autoFocus:!1,roles:"admin",controller:"dashboard/librarydisplay"}),G({alias:"/edititemmetadata.html",path:"edititemmetadata.html",controller:"edititemmetadata",autoFocus:!1}),G({alias:"/encodingsettings.html",path:"dashboard/encodingsettings.html",autoFocus:!1,roles:"admin",controller:"dashboard/encodingsettings"}),G({alias:"/log.html",path:"dashboard/logs.html",roles:"admin",controller:"dashboard/logs"}),G({alias:"/metadataimages.html",path:"dashboard/metadataimages.html",autoFocus:!1,roles:"admin",controller:"dashboard/metadataImages"}),G({alias:"/metadatanfo.html",path:"dashboard/metadatanfo.html",autoFocus:!1,roles:"admin",controller:"dashboard/metadatanfo"}),G({alias:"/notificationsetting.html",path:"dashboard/notifications/notification/index.html",autoFocus:!1,roles:"admin",controller:"dashboard/notifications/notification/index"}),G({alias:"/notificationsettings.html",path:"dashboard/notifications/notifications/index.html",controller:"dashboard/notifications/notifications/index",autoFocus:!1,roles:"admin"}),G({alias:"/playbackconfiguration.html",path:"dashboard/playback.html",autoFocus:!1,roles:"admin",controller:"dashboard/playback"}),G({alias:"/availableplugins.html",path:"dashboard/plugins/available/index.html",autoFocus:!1,roles:"admin",controller:"dashboard/plugins/available/index"}),G({alias:"/repositories.html",path:"dashboard/plugins/repositories/index.html",autoFocus:!1,roles:"admin",controller:"dashboard/plugins/repositories/index"}),G({alias:"/list.html",path:"list.html",autoFocus:!1,controller:"list"}),G({alias:"/details",path:"itemDetails/index.html",controller:"itemDetails/index",autoFocus:!1}),G({alias:"/livetv.html",path:"livetv.html",controller:"livetv/livetvsuggested",autoFocus:!1}),G({alias:"/livetvguideprovider.html",path:"livetvguideprovider.html",autoFocus:!1,roles:"admin",controller:"livetvguideprovider"}),G({alias:"/livetvsettings.html",path:"livetvsettings.html",autoFocus:!1,controller:"livetvsettings"}),G({alias:"/livetvstatus.html",path:"livetvstatus.html",autoFocus:!1,roles:"admin",controller:"livetvstatus"}),G({alias:"/livetvtuner.html",path:"livetvtuner.html",autoFocus:!1,roles:"admin",controller:"livetvtuner"}),G({alias:"/movies.html",path:"movies/movies.html",autoFocus:!1,controller:"movies/moviesrecommended"}),G({alias:"/music.html",path:"music/music.html",controller:"music/musicrecommended",autoFocus:!1}),G({alias:"/installedplugins.html",path:"dashboard/plugins/installed/index.html",autoFocus:!1,roles:"admin",controller:"dashboard/plugins/installed/index"}),G({alias:"/scheduledtask.html",path:"dashboard/scheduledtasks/scheduledtask.html",autoFocus:!1,roles:"admin",controller:"dashboard/scheduledtasks/scheduledtask"}),G({alias:"/scheduledtasks.html",path:"dashboard/scheduledtasks/scheduledtasks.html",autoFocus:!1,roles:"admin",controller:"dashboard/scheduledtasks/scheduledtasks"}),G({alias:"/serveractivity.html",path:"dashboard/serveractivity.html",autoFocus:!1,roles:"admin",controller:"dashboard/serveractivity"}),G({alias:"/apikeys.html",path:"dashboard/apikeys.html",autoFocus:!1,roles:"admin",controller:"dashboard/apikeys"}),G({alias:"/streamingsettings.html",path:"dashboard/streaming.html",autoFocus:!1,roles:"admin",controller:"dashboard/streaming"}),G({alias:"/tv.html",path:"shows/tvrecommended.html",autoFocus:!1,controller:"shows/tvrecommended"}),G({alias:"/wizardremoteaccess.html",path:"wizard/remote/index.html",autoFocus:!1,anonymous:!0,controller:"wizard/remote/index"}),G({alias:"/wizardfinish.html",path:"wizard/finish/index.html",autoFocus:!1,anonymous:!0,controller:"wizard/finish/index"}),G({alias:"/wizardlibrary.html",path:"wizard/library.html",autoFocus:!1,anonymous:!0,controller:"dashboard/library"}),G({alias:"/wizardsettings.html",path:"wizard/settings/index.html",autoFocus:!1,anonymous:!0,controller:"wizard/settings/index"}),G({alias:"/wizardstart.html",path:"wizard/start/index.html",autoFocus:!1,anonymous:!0,controller:"wizard/start/index"}),G({alias:"/wizarduser.html",path:"wizard/user/index.html",controller:"wizard/user/index",autoFocus:!1,anonymous:!0}),G({alias:"/video",path:"playback/video/index.html",controller:"playback/video/index",autoFocus:!1,type:"video-osd",supportsThemeMedia:!0,fullscreen:!0,enableMediaControl:!1}),G({alias:"/queue",path:"playback/queue/index.html",controller:"playback/queue/index",autoFocus:!1,fullscreen:!0,supportsThemeMedia:!0,enableMediaControl:!1}),G({path:"/configurationpage",autoFocus:!1,enableCache:!1,enableContentQueryString:!0,roles:"admin",serverRequest:!0}),G({path:"/",autoFocus:!1,isDefaultRoute:!0}),console.groupEnd("defining core routes");var Q,Y=n(48957),X=[];function J(e,t){var n=e.filter((function(e){return"Video"===e.MediaType?q.enableThemeVideos():q.enableThemeSongs()}));if(n.length){if(!Q&&Y.O.isPlaying())return;X=n.map((function(e){return e.Id})),n.forEach((function(e){e.playOptions={fullscreen:!1,enableRemotePlayers:!1}})),Y.O.play({items:n,fullscreen:!1,enableRemotePlayers:!1}).then((function(){Q=t}))}else $()}function $(){Q&&Y.O.stop(),Q=null}var K=["CollectionFolder","UserView","Program","SeriesTimer","Person","TvChannel","Channel"];document.addEventListener("viewshow",(function(e){var t=(e.detail.state||{}).item;t&&t.ServerId?function(e){if(e.CollectionType)$();else if(-1===K.indexOf(e.Type)){var t=w.Z.getApiClient(e.ServerId);t.getThemeMedia(t.getCurrentUserId(),e.Id,!0).then((function(e){var t=q.enableThemeVideos()&&e.ThemeVideosResult.Items.length?e.ThemeVideosResult:e.ThemeSongsResult,n=t.OwnerId;n!==Q&&J(t.Items,n)}))}else $()}(t):(e.detail.options||{}).supportsThemeMedia||J([],null)}),!0),b.Events.on(Y.O,"playbackstart",(function(e,t){var n=Y.O.currentItem(t);-1==X.indexOf(n.Id)&&(Q=null)}));var ee=n(76449),te={};(0,F.RW)("pageshow","page",(function(){var e,t,n,r=this;r.classList.contains("selfBackdropPage")||(r.classList.contains("backdropPage")?q.enableBackdrops()?(e=r.getAttribute("data-backdroptype"),t=r.classList.contains("globalBackdropPage")?"":U.Z.getTopParentId(),(n=window.ApiClient)&&function(e,t,n,r){var a="backdrops2_".concat(t+(n||"")+(r||"")),i=te[a];if(i)return console.debug("Found backdrop id list in cache. Key: ".concat(a)),i=JSON.parse(i),Promise.resolve(i);var o={SortBy:"IsFavoriteOrLiked,Random",Limit:20,Recursive:!0,IncludeItemTypes:n,ImageTypes:"Backdrop",ParentId:r,EnableTotalRecordCount:!1,MaxOfficialRating:r?"":"PG-13"};return e.getItems(e.getCurrentUserId(),o).then((function(e){var t=e.Items.map((function(e){return{Id:e.Id,tag:e.BackdropImageTags[0],ServerId:e.ServerId}}));return te[a]=JSON.stringify(t),t}))}(n,n.getCurrentUserId(),e,t).then((function(e){e.length?(0,ee.pZ)(e.map((function(e){return e.BackdropImageTags=[e.tag],e}))):(0,ee.rs)()}))):(r.classList.remove("backdropPage"),(0,ee.rs)()):(0,ee.rs)())})),n(15610),n(52077);var ne=n(58517),re=n(6363),ae={};function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}ae.styleTagTransform=p(),ae.setAttributes=u(),ae.insert=l().bind(null,"head"),ae.domAPI=o(),ae.insertStyleElement=f(),a()(re.Z,ae),re.Z&&re.Z.locals&&re.Z.locals;var oe=0;b.Events.on(Y.O,"playbackstop",(function(e,t){var n=t.state;n.NowPlayingItem&&"Video"==n.NowPlayingItem.MediaType&&(oe=(new Date).getTime())})),new function(){var e,t=this;function n(){e&&(console.debug("Hiding screensaver"),e.hide().then((function(){document.body.classList.remove("screensaver-noScroll")})),e=null),window.removeEventListener("click",n,!0),window.removeEventListener("mousemove",n,!0),window.removeEventListener("keydown",n,!0)}this.isShowing=function(){return null!=e},this.show=function(){var t,r=w.Z.currentApiClient();r&&r.isLoggedIn()&&(t=!0);var a=function(e){var t;try{t=q.get("screensaver",!1)}catch(n){t=e?"backdropscreensaver":"logoscreensaver"}var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}(T.E.ofType("screensaver"));try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.id===t)return a}}catch(e){r.e(e)}finally{r.f()}return null}(t);a&&function(t){if(e)throw new Error("An existing screensaver is already active.");console.debug("Showing screensaver "+t.name),document.body.classList.add("screensaver-noScroll"),t.show(),e=t,!1!==t.hideOnClick&&window.addEventListener("click",n,!0),!1!==t.hideOnMouse&&window.addEventListener("mousemove",n,!0),!1!==t.hideOnKey&&window.addEventListener("keydown",n,!0)}(a)},this.hide=function(){n()},setInterval((function(){t.isShowing()||ne.default.idleTime()<18e4||(new Date).getTime()-oe<18e4||Y.O.isPlayingVideo()||t.show()}),1e4)},n(44038),n(68156),n(83038),n(55278),n(93662),n(20671);var se=n(99294);function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(3214);var ce,ue=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.queueCore=t.getQueueCore()}var t,n;return t=e,(n=[{key:"getPlaylist",value:function(){return this.queueCore.getPlaylist()}},{key:"setPlaylist",value:function(){}},{key:"queue",value:function(){}},{key:"shufflePlaylist",value:function(){}},{key:"sortShuffledPlaylist",value:function(){}},{key:"clearPlaylist",value:function(){}},{key:"queueNext",value:function(){}},{key:"getCurrentPlaylistIndex",value:function(){return this.queueCore.getCurrentPlaylistIndex()}},{key:"getCurrentItem",value:function(){var e=this.getCurrentPlaylistIndex();return e>=0?this.getPlaylist()[e]:null}},{key:"getCurrentPlaylistItemId",value:function(){return this.queueCore.getCurrentPlaylistItemId()}},{key:"setPlaylistState",value:function(){}},{key:"setPlaylistIndex",value:function(){}},{key:"removeFromPlaylist",value:function(){}},{key:"movePlaylistItem",value:function(){return{result:"noop"}}},{key:"reset",value:function(){}},{key:"setRepeatMode",value:function(){}},{key:"getRepeatMode",value:function(){return this.queueCore.getRepeatMode()}},{key:"setShuffleMode",value:function(){}},{key:"toggleShuffleMode",value:function(){}},{key:"getShuffleMode",value:function(){return this.queueCore.getShuffleMode()}},{key:"getNextItemInfo",value:function(){var e,t=this.getPlaylist();switch(this.getRepeatMode()){case"RepeatOne":e=this.getCurrentPlaylistIndex();break;case"RepeatAll":(e=this.getCurrentPlaylistIndex()+1)>=t.length&&(e=0);break;default:e=this.getCurrentPlaylistIndex()+1}if(e<0||e>=t.length)return null;var n=t[e];return n?{item:n,index:e}:null}}])&&le(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),de=ue;function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pe(e,t)}function me(e,t){if(t&&("object"===fe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ye(e){return ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ye(e)}var ve,ge,be,we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pe(e,t)}(o,e);var t,n,r,a,i=(r=o,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ye(r);if(a){var n=ye(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return me(this,e)});function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=i.call(this,e,t),ce=t,n}return t=o,n=[{key:"localBindToPlayer",value:function(){Y.O.syncPlayEnabled||(Y.O._localPlayPause=Y.O.playPause,Y.O._localUnpause=Y.O.unpause,Y.O._localPause=Y.O.pause,Y.O._localSeek=Y.O.seek,Y.O._localSendCommand=Y.O.sendCommand,Y.O.playPause=this.playPauseRequest,Y.O.unpause=this.unpauseRequest,Y.O.pause=this.pauseRequest,Y.O.seek=this.seekRequest,Y.O.sendCommand=this.sendCommandRequest,Y.O._localPlayQueueManager=Y.O._playQueueManager,Y.O._localPlay=Y.O.play,Y.O._localSetCurrentPlaylistItem=Y.O.setCurrentPlaylistItem,Y.O._localClearQueue=Y.O.clearQueue,Y.O._localRemoveFromPlaylist=Y.O.removeFromPlaylist,Y.O._localMovePlaylistItem=Y.O.movePlaylistItem,Y.O._localQueue=Y.O.queue,Y.O._localQueueNext=Y.O.queueNext,Y.O._localNextTrack=Y.O.nextTrack,Y.O._localPreviousTrack=Y.O.previousTrack,Y.O._localSetRepeatMode=Y.O.setRepeatMode,Y.O._localSetQueueShuffleMode=Y.O.setQueueShuffleMode,Y.O._localToggleQueueShuffleMode=Y.O.toggleQueueShuffleMode,Y.O._playQueueManager=new de(this.manager),Y.O.play=this.playRequest,Y.O.setCurrentPlaylistItem=this.setCurrentPlaylistItemRequest,Y.O.clearQueue=this.clearQueueRequest,Y.O.removeFromPlaylist=this.removeFromPlaylistRequest,Y.O.movePlaylistItem=this.movePlaylistItemRequest,Y.O.queue=this.queueRequest,Y.O.queueNext=this.queueNextRequest,Y.O.nextTrack=this.nextTrackRequest,Y.O.previousTrack=this.previousTrackRequest,Y.O.setRepeatMode=this.setRepeatModeRequest,Y.O.setQueueShuffleMode=this.setQueueShuffleModeRequest,Y.O.toggleQueueShuffleMode=this.toggleQueueShuffleModeRequest,Y.O.syncPlayEnabled=!0)}},{key:"localUnbindFromPlayer",value:function(){Y.O.syncPlayEnabled&&(Y.O.playPause=Y.O._localPlayPause,Y.O.unpause=Y.O._localUnpause,Y.O.pause=Y.O._localPause,Y.O.seek=Y.O._localSeek,Y.O.sendCommand=Y.O._localSendCommand,Y.O._playQueueManager=Y.O._localPlayQueueManager,Y.O.play=Y.O._localPlay,Y.O.setCurrentPlaylistItem=Y.O._localSetCurrentPlaylistItem,Y.O.clearQueue=this._localClearQueue,Y.O.removeFromPlaylist=Y.O._localRemoveFromPlaylist,Y.O.movePlaylistItem=Y.O._localMovePlaylistItem,Y.O.queue=Y.O._localQueue,Y.O.queueNext=Y.O._localQueueNext,Y.O.nextTrack=Y.O._localNextTrack,Y.O.previousTrack=Y.O._localPreviousTrack,Y.O.setRepeatMode=Y.O._localSetRepeatMode,Y.O.setQueueShuffleMode=Y.O._localSetQueueShuffleMode,Y.O.toggleQueueShuffleMode=Y.O._localToggleQueueShuffleMode,Y.O.syncPlayEnabled=!1)}},{key:"playPauseRequest",value:function(){ce.getController().playPause()}},{key:"unpauseRequest",value:function(){ce.getController().unpause()}},{key:"pauseRequest",value:function(){ce.getController().pause()}},{key:"seekRequest",value:function(e){ce.getController().seek(e)}},{key:"sendCommandRequest",value:function(e,t){console.debug("SyncPlay sendCommand:",e.Name,e);var n,r=ce.getController(),a=ce.getPlayerWrapper(),i={PlaybackRate:function(){},SetRepeatMode:function(e){r.setRepeatMode(e.Arguments.RepeatMode)},SetShuffleQueue:function(e){r.setShuffleMode(e.Arguments.ShuffleMode)}},o=i[e.Name];"function"==typeof o?o(e,t):(n=e,a.localSendCommand(n))}},{key:"localUnpause",value:function(){Y.O.syncPlayEnabled?Y.O._localUnpause(this.player):Y.O.unpause(this.player)}},{key:"localPause",value:function(){Y.O.syncPlayEnabled?Y.O._localPause(this.player):Y.O.pause(this.player)}},{key:"localSeek",value:function(e){Y.O.syncPlayEnabled?Y.O._localSeek(e,this.player):Y.O.seek(e,this.player)}},{key:"localStop",value:function(){Y.O.stop(this.player)}},{key:"localSendCommand",value:function(e){Y.O.syncPlayEnabled?Y.O._localSendCommand(e,this.player):Y.O.sendCommand(e,this.player)}},{key:"playRequest",value:function(e){return ce.getController().play(e)}},{key:"setCurrentPlaylistItemRequest",value:function(e){ce.getController().setCurrentPlaylistItem(e)}},{key:"clearQueueRequest",value:function(e){ce.getController().clearPlaylist(e)}},{key:"removeFromPlaylistRequest",value:function(e){ce.getController().removeFromPlaylist(e)}},{key:"movePlaylistItemRequest",value:function(e,t){ce.getController().movePlaylistItem(e,t)}},{key:"queueRequest",value:function(e){ce.getController().queue(e)}},{key:"queueNextRequest",value:function(e){ce.getController().queueNext(e)}},{key:"nextTrackRequest",value:function(){ce.getController().nextItem()}},{key:"previousTrackRequest",value:function(){ce.getController().previousItem()}},{key:"setRepeatModeRequest",value:function(e){ce.getController().setRepeatMode(e)}},{key:"setQueueShuffleModeRequest",value:function(e){ce.getController().setShuffleMode(e)}},{key:"toggleQueueShuffleModeRequest",value:function(){ce.getController().toggleShuffleMode()}},{key:"localPlay",value:function(e){return Y.O.syncPlayEnabled?Y.O._localPlay(e):Y.O.play(e)}},{key:"localSetCurrentPlaylistItem",value:function(e){return Y.O.syncPlayEnabled?Y.O._localSetCurrentPlaylistItem(e,this.player):Y.O.setCurrentPlaylistItem(e,this.player)}},{key:"localRemoveFromPlaylist",value:function(e){return Y.O.syncPlayEnabled?Y.O._localRemoveFromPlaylist(e,this.player):Y.O.removeFromPlaylist(e,this.player)}},{key:"localMovePlaylistItem",value:function(e,t){return Y.O.syncPlayEnabled?Y.O._localMovePlaylistItem(e,t,this.player):Y.O.movePlaylistItem(e,t,this.player)}},{key:"localQueue",value:function(e){return Y.O.syncPlayEnabled?Y.O._localQueue(e,this.player):Y.O.queue(e,this.player)}},{key:"localQueueNext",value:function(e){return Y.O.syncPlayEnabled?Y.O._localQueueNext(e,this.player):Y.O.queueNext(e,this.player)}},{key:"localNextItem",value:function(){Y.O.syncPlayEnabled?Y.O._localNextTrack(this.player):Y.O.nextTrack(this.player)}},{key:"localPreviousItem",value:function(){Y.O.syncPlayEnabled?Y.O._localPreviousTrack(this.player):Y.O.previousTrack(this.player)}},{key:"localSetRepeatMode",value:function(e){Y.O.syncPlayEnabled?Y.O._localSetRepeatMode(e,this.player):Y.O.setRepeatMode(e,this.player)}},{key:"localSetQueueShuffleMode",value:function(e){Y.O.syncPlayEnabled?Y.O._localSetQueueShuffleMode(e,this.player):Y.O.setQueueShuffleMode(e,this.player)}},{key:"localToggleQueueShuffleMode",value:function(){Y.O.syncPlayEnabled?Y.O._localToggleQueueShuffleMode(this.player):Y.O.toggleQueueShuffleMode(this.player)}}],n&&he(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(se.Z.Players.GenericPlayer);be="default",(ge="type")in(ve=we)?Object.defineProperty(ve,ge,{value:be,enumerable:!0,configurable:!0,writable:!0}):ve.type=be;var Pe=we;function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xe(){return xe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ie(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},xe.apply(this,arguments)}function Ie(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Le(e)););return e}function Ce(e,t){return Ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ce(e,t)}function Te(e,t){if(t&&("object"===ke(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Le(e){return Le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Le(e)}n(83011),n(20252);var Ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ce(e,t)}(o,e);var t,n,r,a,i=(r=o,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Le(r);if(a){var n=Le(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Te(this,e)});function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=i.call(this,e,t)).isPlayerActive=!1,n.savedPlaybackRate=1,n.minBufferingThresholdMillis=3e3,e.currentTimeAsync&&(n.currentTimeAsync=function(){return n.player.currentTimeAsync()}),n}return t=o,n=[{key:"localBindToPlayer",value:function(){xe(Le(o.prototype),"localBindToPlayer",this).call(this);var e=this;this._onPlaybackStart=function(t,n){e.isPlayerActive=!0,e.onPlaybackStart(t,n)},this._onPlaybackStop=function(t){e.isPlayerActive=!1,e.onPlaybackStop(t)},this._onUnpause=function(){e.onUnpause()},this._onPause=function(){e.onPause()},this._onTimeUpdate=function(t){var n=new Date,r=e.player.currentTime();e.onTimeUpdate(t,{currentTime:n,currentPosition:r})},this._onPlaying=function(){clearTimeout(e.notifyBuffering),e.onReady()},this._onWaiting=function(){clearTimeout(e.notifyBuffering),e.notifyBuffering=setTimeout((function(){e.onBuffering()}),e.minBufferingThresholdMillis)},b.Events.on(this.player,"playbackstart",this._onPlaybackStart),b.Events.on(this.player,"playbackstop",this._onPlaybackStop),b.Events.on(this.player,"unpause",this._onUnpause),b.Events.on(this.player,"pause",this._onPause),b.Events.on(this.player,"timeupdate",this._onTimeUpdate),b.Events.on(this.player,"playing",this._onPlaying),b.Events.on(this.player,"waiting",this._onWaiting),this.savedPlaybackRate=this.player.getPlaybackRate()}},{key:"localUnbindFromPlayer",value:function(){xe(Le(o.prototype),"localUnbindFromPlayer",this).call(this),b.Events.off(this.player,"playbackstart",this._onPlaybackStart),b.Events.off(this.player,"playbackstop",this._onPlaybackStop),b.Events.off(this.player,"unpause",this._onPlayerUnpause),b.Events.off(this.player,"pause",this._onPlayerPause),b.Events.off(this.player,"timeupdate",this._onTimeUpdate),b.Events.off(this.player,"playing",this._onPlaying),b.Events.off(this.player,"waiting",this._onWaiting),this.player.setPlaybackRate(this.savedPlaybackRate)}},{key:"onQueueUpdate",value:function(){b.Events.trigger(this.player,"playlistitemadd")}},{key:"isPlaybackActive",value:function(){return this.isPlayerActive}},{key:"isPlaying",value:function(){return!this.player.paused()}},{key:"currentTime",value:function(){return this.player.currentTime()}},{key:"hasPlaybackRate",value:function(){return!0}},{key:"setPlaybackRate",value:function(e){this.player.setPlaybackRate(e)}},{key:"getPlaybackRate",value:function(){return this.player.getPlaybackRate()}}],n&&Se(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(Pe);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e.type=n}(Ee,"type","htmlvideoplayer");var Ae=Ee;function Ze(e){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze(e)}function Oe(e,t){return Oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Oe(e,t)}function je(e,t){if(t&&("object"===Ze(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Me(e){return Me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Me(e)}var Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oe(e,t)}(i,e);var t,n,r,a=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Me(n);if(r){var a=Me(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return je(this,e)});function i(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.call(this,e,t)}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(Ae);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e.type=n}(Ne,"type","htmlaudioplayer");var De=Ne,Re=n(5607),_e=n(24246),qe=n(79928),Be=function(){return Be=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Be.apply(this,arguments)},Fe=function(e){return e.replace(/^!/,"")};function Ue(e){var t=e.basename,n=e.children,r=e.history,a=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}(v.useState({action:r.action,location:r.location}),2),i=a[0],o=a[1];return(0,v.useLayoutEffect)((function(){r.listen((function(e){e.location.pathname.startsWith("!")?r.replace(Fe(e.location.pathname),e.location.state):o(e)}))}),[r]),(0,_e.jsx)(qe.F0,{basename:t,children:n,location:Be(Be({},i.location),{pathname:Fe(i.location.pathname)}),navigationType:i.action,navigator:r})}var ze,He,Ve=n(37099),We=n(51161),Ge=function(){return Ge=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Ge.apply(this,arguments)},Qe=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(o,s)}l((r=r.apply(e,t||[])).next())}))},Ye=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};!function(e){e.Home="/home.html",e.Login="/login.html",e.SelectServer="/selectserver.html",e.StartWizard="/wizardstart.html"}(ze||(ze={})),function(e){e.SignedIn="SignedIn",e.ServerSignIn="ServerSignIn",e.ServerSelection="ServerSelection",e.ServerUpdateNeeded="ServerUpdateNeeded"}(He||(He={}));var Xe=function(e){var t=e.isAdminRequired,n=void 0!==t&&t,r=e.isUserRequired,a=void 0===r||r,i=(0,qe.s0)(),o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}((0,v.useState)(!0),2),s=o[0],l=o[1];return(0,v.useEffect)((function(){var e=function(e){return Qe(void 0,void 0,void 0,(function(){var t;return Ye(this,(function(n){switch(n.label){case 0:switch(e.State){case He.SignedIn:return[3,1];case He.ServerSignIn:return[3,2];case He.ServerSelection:return[3,3];case He.ServerUpdateNeeded:return[3,4]}return[3,8];case 1:return console.debug("[ConnectionRequired] already logged in, redirecting to home"),i(ze.Home),[2];case 2:return console.debug("[ConnectionRequired] not logged in, redirecting to login page"),i(ze.Login,{state:{serverid:e.ApiClient.serverId()}}),[2];case 3:return console.debug("[ConnectionRequired] redirecting to select server page"),i(ze.SelectServer),[2];case 4:return n.trys.push([4,6,,7]),[4,(0,Ve.Z)({text:P.ZP.translate("ServerUpdateNeeded","https://github.com/jellyfin/jellyfin"),html:P.ZP.translate("ServerUpdateNeeded",'<a href="https://github.com/jellyfin/jellyfin">https://github.com/jellyfin/jellyfin</a>')})];case 5:return n.sent(),[3,7];case 6:return t=n.sent(),console.warn("[ConnectionRequired] failed to show alert",t),[3,7];case 7:return console.debug("[ConnectionRequired] server update required, redirecting to select server page"),i(ze.SelectServer),[2];case 8:return console.warn("[ConnectionRequired] unhandled connection state",e.State),[2]}}))}))};Qe(void 0,void 0,void 0,(function(){var t,r,o,s,c,u,d,f,h;return Ye(this,(function(p){switch(p.label){case 0:if(t=_.appRouter.firstConnectionResult,_.appRouter.firstConnectionResult=null,!t||t.State===He.SignedIn)return[3,6];if(t.State!==He.ServerSignIn)return[3,5];p.label=1;case 1:return p.trys.push([1,4,,5]),[4,fetch("".concat(t.ApiClient.serverAddress(),"/System/Info/Public"))];case 2:if(!(r=p.sent()).ok)throw new Error("Public system info request failed");return[4,r.json()];case 3:return(null==(o=p.sent())?void 0:o.StartupWizardCompleted)?[3,5]:(console.info("[ConnectionRequired] startup wizard is not complete, redirecting there"),i(ze.StartWizard),[2]);case 4:return s=p.sent(),console.error("[ConnectionRequired] checking wizard status failed",s),[2];case 5:return e(t),[2];case 6:if(c=w.Z.currentApiClient(),!n&&!a||(null==c?void 0:c.isLoggedIn()))return[3,11];p.label=7;case 7:return p.trys.push([7,9,,10]),console.warn("[ConnectionRequired] unauthenticated user attempted to access user route"),u=e,[4,w.Z.connect()];case 8:return u.apply(void 0,[p.sent()]),[3,10];case 9:return d=p.sent(),console.warn("[ConnectionRequired] error bouncing from user route",d),[3,10];case 10:return[2];case 11:if(!n)return[3,17];p.label=12;case 12:return p.trys.push([12,16,,17]),[4,c.getCurrentUser()];case 13:return p.sent().Policy.IsAdministrator?[3,15]:(console.warn("[ConnectionRequired] normal user attempted to access admin route"),f=e,[4,w.Z.connect()]);case 14:return f.apply(void 0,[p.sent()]),[2];case 15:return[3,17];case 16:return h=p.sent(),console.warn("[ConnectionRequired] error bouncing from admin route",h),[2];case 17:return l(!1),[2]}}))}))}),[n,a,i]),(0,v.useEffect)((function(){s?We.ZP.show():We.ZP.hide()}),[s]),s?null:(0,_e.jsx)("div",Ge({className:"skinBody"},{children:(0,_e.jsx)(qe.j3,{})}))},Je=n(29016),$e=function(e){var t=e.is,n=e.id,r=e.className,a=e.title,i=e.icon,o=e.dataIndex,s=e.dataTag,l=e.dataProfileid;return{__html:'<button\n        is="'.concat(t,'"\n        type="button"\n        ').concat(n,'\n        class="').concat(r,'"\n        ').concat(a,"\n        ").concat(o,"\n        ").concat(s,"\n        ").concat(l,'\n    >\n        <span class="material-icons ').concat(i,'" aria-hidden="true"></span>\n    </button>')}},Ke=function(e){var t=e.is,n=e.id,r=e.className,a=e.title,i=e.icon,o=e.dataIndex,s=e.dataTag,l=e.dataProfileid;return(0,_e.jsx)("div",{dangerouslySetInnerHTML:$e({is:t,id:n?'id="'.concat(n,'"'):"",className:r,title:a?'title="'.concat(P.ZP.translate(a),'"'):"",icon:i,dataIndex:o?'data-index="'.concat(o,'"'):"",dataTag:s?'data-tag="'.concat(s,'"'):"",dataProfileid:l?'data-profileid="'.concat(l,'"'):""})})},et=function(e){var t=e.className,n=e.title,r=e.href;return{__html:'<a\n        is="emby-linkbutton"\n        rel="noopener noreferrer"\n        class="'.concat(t,'"\n        target="_blank"\n        href="').concat(r,'"\n        >\n        ').concat(n,"\n    </a>")}},tt=function(e){var t=e.className,n=e.title,r=e.url;return(0,_e.jsx)("div",{dangerouslySetInnerHTML:et({className:t,title:P.ZP.translate(n),href:r})})},nt=function(){return nt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},nt.apply(this,arguments)},rt=function(e){var t=e.SectionClassName,n=e.title,r=e.isBtnVisible,a=void 0!==r&&r,i=e.btnId,o=e.btnClassName,s=e.btnTitle,l=e.btnIcon,c=e.isLinkVisible,u=void 0===c||c,d=e.url;return(0,_e.jsxs)("div",nt({className:"".concat(t," sectionTitleContainer flex align-items-center")},{children:[(0,_e.jsx)("h2",nt({className:"sectionTitle"},{children:n})),a&&(0,_e.jsx)(Ke,{is:"emby-button",id:i,className:o,title:s,icon:l}),u&&(0,_e.jsx)(tt,{className:"raised button-alt headerHelpButton",title:"Help",url:d})]}))},at=function(e){var t=e.type,n=e.id,r=e.label,a=e.options;return{__html:'<input\n        is="emby-input"\n        type="'.concat(t,'"\n        id="').concat(n,'"\n        label="').concat(r,'"\n        ').concat(a,"\n    />")}},it=function(e){var t=e.type,n=e.id,r=e.label,a=e.options;return(0,_e.jsx)("div",{dangerouslySetInnerHTML:at({type:t,id:n,label:P.ZP.translate(r),options:a||""})})},ot=function(e){var t=e.type,n=e.id,r=e.className,a=e.title,i=e.leftIcon,o=e.rightIcon;return{__html:'<button\n        is="emby-button"\n        type="'.concat(t,'"\n        ').concat(n,'\n        class="').concat(r,'"\n        >\n        ').concat(i,"\n        <span>").concat(a,"</span>\n        ").concat(o,"\n    </button>")}},st=function(e){var t=e.type,n=e.id,r=e.className,a=e.title,i=e.leftIcon,o=e.rightIcon;return(0,_e.jsx)("div",{dangerouslySetInnerHTML:ot({type:t,id:n?'id="'.concat(n,'"'):"",className:r,title:P.ZP.translate(a),leftIcon:i?'<span class="material-icons '.concat(i,'" aria-hidden="true"></span>'):"",rightIcon:o?'<span class="material-icons '.concat(o,'" aria-hidden="true"></span>'):""})})},lt=n(65009),ct=n.n(lt),ut=function(e){var t=e.labelClassName,n=e.className,r=e.id,a=e.dataFilter,i=e.dataItemType,o=e.dataId,s=e.checkedAttribute,l=e.renderContent;return{__html:"<label ".concat(t,'>\n        <input\n            is="emby-checkbox"\n            type="checkbox"\n            class="').concat(n,'"\n            ').concat(r,"\n            ").concat(a,"\n            ").concat(i,"\n            ").concat(o,"\n            ").concat(s,"\n        />\n        ").concat(l,"\n    </label>")}},dt=function(e){var t=e.labelClassName,n=e.className,r=e.elementId,a=e.dataFilter,i=e.itemType,o=e.itemId,s=e.itemAppName,l=e.itemCheckedAttribute,c=e.itemName,u=e.title,d=s?"- ".concat(s):"",f=c?"<span>".concat(ct()(c||"")," ").concat(d,"</span>"):"<span>".concat(P.ZP.translate(u),"</span>");return(0,_e.jsx)("div",{className:"sectioncheckbox",dangerouslySetInnerHTML:ut({labelClassName:t?"class='".concat(t,"'"):"",className:n,id:r?"id='".concat(r,"'"):"",dataFilter:a?"data-filter='".concat(a,"'"):"",dataItemType:i?"data-itemtype='".concat(i,"'"):"",dataId:o?"data-id='".concat(o,"'"):"",checkedAttribute:l||"",renderContent:f})})},ft=function(){return ft=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ft.apply(this,arguments)},ht=function(e){var t=e.containerClassName,n=e.headerTitle,r=e.checkBoxClassName,a=e.checkBoxTitle,i=e.listContainerClassName,o=e.accessClassName,s=e.listTitle,l=e.description,c=e.children;return(0,_e.jsxs)("div",ft({className:t},{children:[(0,_e.jsx)("h2",{children:P.ZP.translate(n)}),(0,_e.jsx)(dt,{labelClassName:"checkboxContainer",className:r,title:a}),(0,_e.jsxs)("div",ft({className:i},{children:[(0,_e.jsxs)("div",ft({className:o},{children:[(0,_e.jsx)("h3",ft({className:"checkboxListLabel"},{children:P.ZP.translate(s)})),(0,_e.jsx)("div",ft({className:"checkboxList paperList",style:{padding:".5em 1em"}},{children:c}))]})),(0,_e.jsx)("div",ft({className:"fieldDescription"},{children:P.ZP.translate(l)}))]}))]}))},pt=n(58905),mt=function(){return mt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},mt.apply(this,arguments)},yt=function(e){var t=e.children,n=e.id,r=e.className,a=void 0===r?"":r,i=e.title,o=e.isBackButtonEnabled,s=void 0===o||o,l=e.isMenuButtonEnabled,c=void 0!==l&&l,u=e.isNowPlayingBarEnabled,d=void 0===u||u,f=e.isThemeMediaSupported,h=void 0!==f&&f,p=e.backDropType,m=(0,v.useRef)(null);return(0,v.useEffect)((function(){pt.Z.hideView()}),[]),(0,v.useEffect)((function(){var e,t,n,r,a={bubbles:!0,cancelable:!1,detail:{isRestored:!1,options:{enableMediaControl:d,supportsThemeMedia:h}}};null===(e=m.current)||void 0===e||e.dispatchEvent(new CustomEvent("viewbeforeshow",a)),null===(t=m.current)||void 0===t||t.dispatchEvent(new CustomEvent("pagebeforeshow",a)),null===(n=m.current)||void 0===n||n.dispatchEvent(new CustomEvent("viewshow",a)),null===(r=m.current)||void 0===r||r.dispatchEvent(new CustomEvent("pageshow",a))}),[m,d,h]),(0,_e.jsx)("div",mt({ref:m,id:n,"data-role":"page",className:"page ".concat(a),"data-title":i,"data-backbutton":s,"data-menubutton":c,"data-backdroptype":p},{children:t}))},vt=function(){return vt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},vt.apply(this,arguments)},gt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o},bt=function(){var e=gt((0,v.useState)([]),2),t=e[0],n=e[1],r=gt((0,v.useState)([]),2),a=r[0],i=r[1],o=(0,v.useRef)(null),s=function(e){return e.map((function(e){return{Id:e.Id,Name:e.Name}}))},l=(0,v.useCallback)((function(e){var t=o.current;if(t){var n=s(e);i(n),t.querySelector(".folderAccess").dispatchEvent(new CustomEvent("create")),t.querySelector(".chkEnableAllFolders").checked=!1}else console.error("Unexpected null reference")}),[]),c=(0,v.useCallback)((function(e){var t=o.current;if(t){var r=s(e);n(r),t.querySelector(".channelAccess").dispatchEvent(new CustomEvent("create"));var a=t.querySelector(".channelAccessContainer");r.length?a.classList.remove("hide"):a.classList.add("hide"),t.querySelector(".chkEnableAllChannels").checked=!1}else console.error("Unexpected null reference")}),[]),u=(0,v.useCallback)((function(){var e=o.current;if(e){e.querySelector("#txtUsername").value="",e.querySelector("#txtPassword").value="",We.ZP.show();var t=window.ApiClient.getJSON(window.ApiClient.getUrl("Library/MediaFolders",{IsHidden:!1})),n=window.ApiClient.getJSON(window.ApiClient.getUrl("Channels"));Promise.all([t,n]).then((function(e){l(e[0].Items),c(e[1].Items),We.ZP.hide()}))}else console.error("Unexpected null reference")}),[c,l]);return(0,v.useEffect)((function(){var e=o.current;e?(u(),e.querySelector(".chkEnableAllChannels").addEventListener("change",(function(){var t=e.querySelector(".channelAccessListContainer");this.checked?t.classList.add("hide"):t.classList.remove("hide")})),e.querySelector(".chkEnableAllFolders").addEventListener("change",(function(){var t=e.querySelector(".folderAccessListContainer");this.checked?t.classList.add("hide"):t.classList.remove("hide")})),e.querySelector(".newUserProfileForm").addEventListener("submit",(function(t){var n;return We.ZP.show(),(n={}).Name=e.querySelector("#txtUsername").value,n.Password=e.querySelector("#txtPassword").value,window.ApiClient.createUser(n).then((function(t){if(!t.Id)throw new Error("Unexpected null user.Id");if(!t.Policy)throw new Error("Unexpected null user.Policy");t.Policy.EnableAllFolders=e.querySelector(".chkEnableAllFolders").checked,t.Policy.EnabledFolders=[],t.Policy.EnableAllFolders||(t.Policy.EnabledFolders=Array.prototype.filter.call(e.querySelectorAll(".chkFolder"),(function(e){return e.checked})).map((function(e){return e.getAttribute("data-id")}))),t.Policy.EnableAllChannels=e.querySelector(".chkEnableAllChannels").checked,t.Policy.EnabledChannels=[],t.Policy.EnableAllChannels||(t.Policy.EnabledChannels=Array.prototype.filter.call(e.querySelectorAll(".chkChannel"),(function(e){return e.checked})).map((function(e){return e.getAttribute("data-id")}))),window.ApiClient.updateUserPolicy(t.Id,t.Policy).then((function(){F.ZP.navigate("useredit.html?userId="+t.Id)}))}),(function(){(0,Je.Z)(P.ZP.translate("ErrorDefault")),We.ZP.hide()})),t.preventDefault(),t.stopPropagation(),!1})),e.querySelector("#btnCancel").addEventListener("click",(function(){window.history.back()}))):console.error("Unexpected null reference")}),[u]),(0,_e.jsx)(yt,vt({id:"newUserPage",className:"mainAnimatedPage type-interior"},{children:(0,_e.jsxs)("div",vt({ref:o,className:"content-primary"},{children:[(0,_e.jsx)("div",vt({className:"verticalSection"},{children:(0,_e.jsx)(rt,{title:P.ZP.translate("HeaderAddUser"),url:"https://docs.jellyfin.org/general/server/users/"})})),(0,_e.jsxs)("form",vt({className:"newUserProfileForm"},{children:[(0,_e.jsx)("div",vt({className:"inputContainer"},{children:(0,_e.jsx)(it,{type:"text",id:"txtUsername",label:"LabelName",options:"required"})})),(0,_e.jsx)("div",vt({className:"inputContainer"},{children:(0,_e.jsx)(it,{type:"password",id:"txtPassword",label:"LabelPassword"})})),(0,_e.jsx)(ht,vt({containerClassName:"folderAccessContainer",headerTitle:"HeaderLibraryAccess",checkBoxClassName:"chkEnableAllFolders",checkBoxTitle:"OptionEnableAccessToAllLibraries",listContainerClassName:"folderAccessListContainer",accessClassName:"folderAccess",listTitle:"HeaderLibraries",description:"LibraryAccessHelp"},{children:a.map((function(e){return(0,_e.jsx)(dt,{className:"chkFolder",itemId:e.Id,itemName:e.Name},e.Id)}))})),(0,_e.jsx)(ht,vt({containerClassName:"channelAccessContainer verticalSection-extrabottompadding hide",headerTitle:"HeaderChannelAccess",checkBoxClassName:"chkEnableAllChannels",checkBoxTitle:"OptionEnableAccessToAllChannels",listContainerClassName:"channelAccessListContainer",accessClassName:"channelAccess",listTitle:"Channels",description:"ChannelAccessHelp"},{children:t.map((function(e){return(0,_e.jsx)(dt,{className:"chkChannel",itemId:e.Id,itemName:e.Name},e.Id)}))})),(0,_e.jsxs)("div",{children:[(0,_e.jsx)(st,{type:"submit",className:"raised button-submit block",title:"Save"}),(0,_e.jsx)(st,{type:"button",id:"btnCancel",className:"raised button-cancel block",title:"ButtonCancel"})]})]}))]}))}))},wt=n(67622),Pt=n(25883),kt=n(79448),St=function(e){var t=e.onAlphaPicked,n=void 0===t?function(){}:t,r=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}((0,v.useState)(),2),a=r[0],i=r[1],o=(0,v.useRef)(null);return(0,v.useEffect)((function(){var e;return i(new kt.Z({element:o.current,mode:"keyboard"})),null===(e=o.current)||void 0===e||e.addEventListener("alphavalueclicked",n),function(){null==a||a.destroy()}}),[]),(0,_e.jsx)("div",{ref:o,className:"alphaPicker align-items-center"})},xt=(n(85427),n(15359),n(44027)),It={};It.styleTagTransform=p(),It.setAttributes=u(),It.insert=l().bind(null,"head"),It.domAPI=o(),It.insertStyleElement=f(),a()(xt.Z,It),xt.Z&&xt.Z.locals&&xt.Z.locals;var Ct=n(30325),Tt=function(){return Tt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Tt.apply(this,arguments)},Lt=function(e){var t=e.onSearch,n=void 0===t?function(){}:t,r=(0,v.useRef)(null),a=function(){var e;return null===(e=null==r?void 0:r.current)||void 0===e?void 0:e.querySelector(".searchfields-txtSearch")},i=(0,v.useMemo)((function(){return(0,Pt.Z)(n,400)}),[n]);return(0,v.useEffect)((function(){var e,t;return null===(e=a())||void 0===e||e.addEventListener("input",(function(e){i(function(e){return void 0===e&&(e=""),e.trim()}(e.target.value))})),null===(t=a())||void 0===t||t.focus(),function(){i.cancel()}}),[i]),(0,_e.jsxs)("div",Tt({className:"padded-left padded-right searchFields",ref:r},{children:[(0,_e.jsxs)("div",Tt({className:"searchFieldsInner flex align-items-center justify-content-center"},{children:[(0,_e.jsx)("span",{className:"searchfields-icon material-icons search","aria-hidden":"true"}),(0,_e.jsx)("div",{className:"inputContainer flex-grow",style:{marginBottom:0},dangerouslySetInnerHTML:{__html:'<input\n    is="emby-input"\n    class="searchfields-txtSearch"\n    type="text"\n    data-keyboard="true"\n    placeholder="'.concat(P.ZP.translate("Search"),'"\n    autocomplete="off"\n    maxlength="40"\n    autofocus\n/>')}})]})),Ct.Z.tv&&!k.Z.tv&&(0,_e.jsx)(St,{onAlphaPicked:function(e){var t=e.detail.value,n=a();if(n){if("backspace"===t){var r=n.value;n.value=r.length?r.substring(0,r.length-1):""}else n.value+=t;n.dispatchEvent(new CustomEvent("input",{bubbles:!0}))}else console.error("Unexpected null reference")}})]}))},Et=n(60042),At=n.n(Et),Zt=n(61570),Ot=(n(26291),function(){return Ot=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Ot.apply(this,arguments)}),jt=function(e){var t=e.title;return{__html:'<h2 class="sectionTitle sectionTitle-cards focuscontainer-x padded-left padded-right">'.concat(void 0===t?"":t,'</h2>\n    <div is="emby-scroller" data-horizontal="true" data-centerfocus="card" class="padded-top-focusscale padded-bottom-focusscale">\n    <div is="emby-itemscontainer" class="focuscontainer-x itemsContainer scrollSlider"></div>\n</div>')}},Mt=function(e){var t=e.title,n=e.items,r=void 0===n?[]:n,a=e.cardOptions,i=void 0===a?{}:a,o=(0,v.useRef)(null);return(0,v.useEffect)((function(){var e;Zt.default.buildCards(r,Ot({itemsContainer:null===(e=o.current)||void 0===e?void 0:e.querySelector(".itemsContainer"),parentContainer:o.current,shape:"autooverflow",scalable:!0,showTitle:!0,overlayText:!1,centerText:!0,allowBottomPadding:!1},i))}),[i,r]),(0,_e.jsx)("div",{ref:o,className:"verticalSection",dangerouslySetInnerHTML:jt({title:t})})},Nt=function(){return Nt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Nt.apply(this,arguments)},Dt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o},Rt=function(e){var t=e.serverId,n=void 0===t?window.ApiClient.serverId():t,r=e.parentId,a=e.collectionType,i=e.query,o=Dt((0,v.useState)([]),2),s=o[0],l=o[1],c=Dt((0,v.useState)([]),2),u=c[0],d=c[1],f=Dt((0,v.useState)([]),2),h=f[0],p=f[1],m=Dt((0,v.useState)([]),2),y=m[0],g=m[1],b=Dt((0,v.useState)([]),2),k=b[0],S=b[1],x=Dt((0,v.useState)([]),2),I=x[0],C=x[1],T=Dt((0,v.useState)([]),2),L=T[0],E=T[1],A=Dt((0,v.useState)([]),2),Z=A[0],O=A[1],j=Dt((0,v.useState)([]),2),M=j[0],N=j[1],D=Dt((0,v.useState)([]),2),R=D[0],_=D[1],q=Dt((0,v.useState)([]),2),B=q[0],F=q[1],U=Dt((0,v.useState)([]),2),z=U[0],H=U[1],V=Dt((0,v.useState)([]),2),W=V[0],G=V[1],Q=Dt((0,v.useState)([]),2),Y=Q[0],X=Q[1],J=Dt((0,v.useState)([]),2),$=J[0],K=J[1],ee=Dt((0,v.useState)([]),2),te=ee[0],ne=ee[1];return(0,v.useEffect)((function(){var e=function(){return{ParentId:r,searchTerm:i,Limit:24,Fields:"PrimaryImageAspectRatio,CanDelete,BasicSyncInfo,MediaSourceCount",Recursive:!0,EnableTotalRecordCount:!1,ImageTypeLimit:1,IncludePeople:!1,IncludeMedia:!1,IncludeGenres:!1,IncludeStudios:!1,IncludeArtists:!1}},t=function(t,n){return void 0===n&&(n={}),null==t?void 0:t.getItems(null==t?void 0:t.getCurrentUserId(),Nt(Nt(Nt({},e()),{IncludeMedia:!0}),n))},o=function(){return"movies"===a},s=function(){return"tvshows"===a||"tv"===a};if(l([]),d([]),p([]),g([]),S([]),C([]),E([]),O([]),N([]),_([]),F([]),H([]),G([]),X([]),K([]),ne([]),i){var c=w.Z.getApiClient(n);a&&!o()||t(c,{IncludeItemTypes:"Movie"}).then((function(e){return l(e.Items||[])})),a&&!s()||(t(c,{IncludeItemTypes:"Series"}).then((function(e){return d(e.Items||[])})),t(c,{IncludeItemTypes:"Episode"}).then((function(e){return p(e.Items||[])}))),(!a||o()||s())&&function(t,n){return void 0===n&&(n={}),null==t?void 0:t.getPeople(null==t?void 0:t.getCurrentUserId(),Nt(Nt(Nt({},e()),{IncludePeople:!0}),n))}(c).then((function(e){return K(e.Items||[])})),a&&"music"!==a||(t(c,{IncludeItemTypes:"Playlist"}).then((function(e){return E(e.Items||[])})),function(t,n){return void 0===n&&(n={}),null==t?void 0:t.getArtists(null==t?void 0:t.getCurrentUserId(),Nt(Nt(Nt({},e()),{IncludeArtists:!0}),n))}(c).then((function(e){return O(e.Items||[])})),t(c,{IncludeItemTypes:"MusicAlbum"}).then((function(e){return N(e.Items||[])})),t(c,{IncludeItemTypes:"Audio"}).then((function(e){return _(e.Items||[])}))),a||(t(c,{MediaTypes:"Video",ExcludeItemTypes:"Movie,Episode,TvChannel"}).then((function(e){return g(e.Items||[])})),t(c,{IncludeItemTypes:"LiveTvProgram"}).then((function(e){return S(e.Items||[])})),t(c,{IncludeItemTypes:"TvChannel"}).then((function(e){return C(e.Items||[])})),t(c,{IncludeItemTypes:"PhotoAlbum"}).then((function(e){return F(e.Items||[])})),t(c,{IncludeItemTypes:"Photo"}).then((function(e){return H(e.Items||[])})),t(c,{IncludeItemTypes:"AudioBook"}).then((function(e){return G(e.Items||[])})),t(c,{IncludeItemTypes:"Book"}).then((function(e){return X(e.Items||[])})),t(c,{IncludeItemTypes:"BoxSet"}).then((function(e){return ne(e.Items||[])})))}}),[a,r,i,n]),(0,_e.jsxs)("div",Nt({className:At()("searchResults","padded-bottom-page","padded-top",{hide:!i||"livetv"===a})},{children:[(0,_e.jsx)(Mt,{title:P.ZP.translate("Movies"),items:s,cardOptions:{showYear:!0}}),(0,_e.jsx)(Mt,{title:P.ZP.translate("Shows"),items:u,cardOptions:{showYear:!0}}),(0,_e.jsx)(Mt,{title:P.ZP.translate("Episodes"),items:h,cardOptions:{coverImage:!0,showParentTitle:!0}}),(0,_e.jsx)(Mt,{title:P.ZP.translate("HeaderVideos"),items:y,cardOptions:{showParentTitle:!0}}),(0,_e.jsx)(Mt,{title:P.ZP.translate("Programs"),items:k,cardOptions:{preferThumb:!0,inheritThumb:!1,showParentTitleOrTitle:!0,showTitle:!1,coverImage:!0,overlayMoreButton:!0,showAirTime:!0,showAirDateTime:!0,showChannelName:!0}}),(0,_e.jsx)(Mt,{title:P.ZP.translate("Channels"),items:I,cardOptions:{shape:"square"}}),(0,_e.jsx)(Mt,{title:P.ZP.translate("Playlists"),items:L}),(0,_e.jsx)(Mt,{title:P.ZP.translate("Artists"),items:Z,cardOptions:{coverImage:!0}}),(0,_e.jsx)(Mt,{title:P.ZP.translate("Albums"),items:M,cardOptions:{showParentTitle:!0}}),(0,_e.jsx)(Mt,{title:P.ZP.translate("Songs"),items:R,cardOptions:{showParentTitle:!0}}),(0,_e.jsx)(Mt,{title:P.ZP.translate("HeaderPhotoAlbums"),items:B}),(0,_e.jsx)(Mt,{title:P.ZP.translate("Photos"),items:z}),(0,_e.jsx)(Mt,{title:P.ZP.translate("HeaderAudioBooks"),items:W}),(0,_e.jsx)(Mt,{title:P.ZP.translate("Books"),items:Y}),(0,_e.jsx)(Mt,{title:P.ZP.translate("Collections"),items:te}),(0,_e.jsx)(Mt,{title:P.ZP.translate("People"),items:$,cardOptions:{coverImage:!0}})]}))},_t=function(){return _t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},_t.apply(this,arguments)},qt=function(e){var t=e.name,n=e.href;return{__html:"<a\n    is='emby-linkbutton'\n    class='button-link'\n    style='display: inline-block; padding: 0.5em 1em;'\n    href='".concat(n,"'\n>").concat(ct()(t),"</a>")}},Bt=function(e){var t=e.serverId,n=void 0===t?window.ApiClient.serverId():t,r=e.parentId,a=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}((0,v.useState)([]),2),i=a[0],o=a[1];return(0,v.useEffect)((function(){var e=w.Z.getApiClient(n);e.getItems(e.getCurrentUserId(),{SortBy:"IsFavoriteOrLiked,Random",IncludeItemTypes:"Movie,Series,MusicArtist",Limit:20,Recursive:!0,ImageTypeLimit:0,EnableImages:!1,ParentId:r,EnableTotalRecordCount:!1}).then((function(e){return o(e.Items||[])}))}),[r,n]),(0,_e.jsxs)("div",_t({className:"verticalSection searchSuggestions",style:{textAlign:"center"}},{children:[(0,_e.jsx)("div",{children:(0,_e.jsx)("h2",_t({className:"sectionTitle padded-left padded-right"},{children:P.ZP.translate("Suggestions")}))}),(0,_e.jsx)("div",_t({className:"searchSuggestionsList padded-left padded-right"},{children:i.map((function(e){return(0,_e.jsx)("div",{dangerouslySetInnerHTML:qt({name:e.Name||"",href:_.appRouter.getRouteUrl(e)})},"suggestion-".concat(e.Id))}))}))]}))},Ft=function(){return Ft=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Ft.apply(this,arguments)},Ut=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o},zt={preferThumb:!0,inheritThumb:!1,showParentTitleOrTitle:!0,showTitle:!1,coverImage:!0,overlayMoreButton:!0,showAirTime:!0,showAirDateTime:!0,showChannelName:!0},Ht=function(e){var t=e.serverId,n=void 0===t?window.ApiClient.serverId():t,r=e.parentId,a=e.collectionType,i=e.query,o=Ut((0,v.useState)([]),2),s=o[0],l=o[1],c=Ut((0,v.useState)([]),2),u=c[0],d=c[1],f=Ut((0,v.useState)([]),2),h=f[0],p=f[1],m=Ut((0,v.useState)([]),2),y=m[0],g=m[1],b=Ut((0,v.useState)([]),2),k=b[0],S=b[1],x=Ut((0,v.useState)([]),2),I=x[0],C=x[1],T=Ut((0,v.useState)([]),2),L=T[0],E=T[1];return(0,v.useEffect)((function(){var e=function(e,t){return void 0===t&&(t={}),null==e?void 0:e.getItems(null==e?void 0:e.getCurrentUserId(),Ft(Ft(Ft({},{ParentId:r,searchTerm:i,Limit:24,Fields:"PrimaryImageAspectRatio,CanDelete,BasicSyncInfo,MediaSourceCount",Recursive:!0,EnableTotalRecordCount:!1,ImageTypeLimit:1,IncludePeople:!1,IncludeMedia:!1,IncludeGenres:!1,IncludeStudios:!1,IncludeArtists:!1}),{IncludeMedia:!0}),t))};if(l([]),d([]),p([]),g([]),S([]),C([]),E([]),i&&"livetv"===a){var t=w.Z.getApiClient(n);e(t,{IncludeItemTypes:"LiveTvProgram",IsMovie:!0}).then((function(e){return l(e.Items||[])})),e(t,{IncludeItemTypes:"LiveTvProgram",IsMovie:!1,IsSeries:!0,IsSports:!1,IsKids:!1,IsNews:!1}).then((function(e){return d(e.Items||[])})),e(t,{IncludeItemTypes:"LiveTvProgram",IsSports:!0}).then((function(e){return p(e.Items||[])})),e(t,{IncludeItemTypes:"LiveTvProgram",IsKids:!0}).then((function(e){return g(e.Items||[])})),e(t,{IncludeItemTypes:"LiveTvProgram",IsNews:!0}).then((function(e){return S(e.Items||[])})),e(t,{IncludeItemTypes:"LiveTvProgram",IsMovie:!1,IsSeries:!1,IsSports:!1,IsKids:!1,IsNews:!1}).then((function(e){return C(e.Items||[])})),e(t,{IncludeItemTypes:"TvChannel"}).then((function(e){return E(e.Items||[])}))}}),[a,r,i,n]),(0,_e.jsxs)("div",Ft({className:At()("searchResults","padded-bottom-page","padded-top",{hide:!(i&&"livetv"===a)})},{children:[(0,_e.jsx)(Mt,{title:P.ZP.translate("Movies"),items:s,cardOptions:Ft(Ft({},zt),{shape:"overflowPortrait"})}),(0,_e.jsx)(Mt,{title:P.ZP.translate("Episodes"),items:u,cardOptions:zt}),(0,_e.jsx)(Mt,{title:P.ZP.translate("Sports"),items:h,cardOptions:zt}),(0,_e.jsx)(Mt,{title:P.ZP.translate("Kids"),items:y,cardOptions:zt}),(0,_e.jsx)(Mt,{title:P.ZP.translate("News"),items:k,cardOptions:zt}),(0,_e.jsx)(Mt,{title:P.ZP.translate("Programs"),items:I,cardOptions:zt}),(0,_e.jsx)(Mt,{title:P.ZP.translate("Channels"),items:L,cardOptions:{shape:"square"}})]}))},Vt=function(){return Vt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Vt.apply(this,arguments)},Wt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o},Gt=function(){var e=Wt((0,v.useState)(),2),t=e[0],n=e[1],r=Wt((0,wt.lr)(),1)[0];return(0,_e.jsxs)(yt,Vt({id:"searchPage",title:P.ZP.translate("Search"),className:"mainAnimatedPage libraryPage allLibraryPage noSecondaryNavPage"},{children:[(0,_e.jsx)(Lt,{onSearch:n}),!t&&(0,_e.jsx)(Bt,{serverId:r.get("serverId")||window.ApiClient.serverId(),parentId:r.get("parentId")}),(0,_e.jsx)(Rt,{serverId:r.get("serverId")||window.ApiClient.serverId(),parentId:r.get("parentId"),collectionType:r.get("collectionType"),query:t}),(0,_e.jsx)(Ht,{serverId:r.get("serverId")||window.ApiClient.serverId(),parentId:r.get("parentId"),collectionType:r.get("collectionType"),query:t})]}))},Qt=function(e){var t=e.className,n=e.title;return{__html:'<a\n        is="emby-linkbutton"\n        class="'.concat(t,"\"\n        href='#'\n        >\n        ").concat(n,"\n    </a>")}},Yt=function(e){var t=e.className,n=e.title;return(0,_e.jsx)("div",{dangerouslySetInnerHTML:Qt({className:t,title:P.ZP.translate(n)})})},Xt=function(e){return{__html:'<a href="#"\n        is="emby-linkbutton"\n        data-role="button"\n        class="'.concat("useredit"===e?"ui-btn-active":"",'"\n        onclick="Dashboard.navigate(\'useredit.html\', true);">\n        ').concat(P.ZP.translate("Profile"),'\n    </a>\n    <a href="#"\n        is="emby-linkbutton"\n        data-role="button"\n        class="').concat("userlibraryaccess"===e?"ui-btn-active":"",'"\n        onclick="Dashboard.navigate(\'userlibraryaccess.html\', true);">\n        ').concat(P.ZP.translate("TabAccess"),'\n    </a>\n    <a href="#"\n        is="emby-linkbutton"\n        data-role="button"\n        class="').concat("userparentalcontrol"===e?"ui-btn-active":"",'"\n        onclick="Dashboard.navigate(\'userparentalcontrol.html\', true);">\n        ').concat(P.ZP.translate("TabParentalControl"),'\n    </a>\n    <a href="#"\n        is="emby-linkbutton"\n        data-role="button"\n        class="').concat("userpassword"===e?"ui-btn-active":"",'"\n        onclick="Dashboard.navigate(\'userpassword.html\', true);">\n        ').concat(P.ZP.translate("HeaderPassword"),"\n    </a>")}},Jt=function(e){var t=e.activeTab;return(0,_e.jsx)("div",{"data-role":"controlgroup","data-type":"horizontal",className:"localnav",dangerouslySetInnerHTML:Xt(t)})},$t=n(85951),Kt=function(e){var t=e.name,n=e.id,r=e.required,a=e.label,i=e.option;return{__html:'<select\n        is="emby-select"\n        '.concat(t,'\n        id="').concat(n,'"\n        ').concat(r,'\n        label="').concat(a,'"\n    >\n        ').concat(i,"\n    </select>")}},en=function(e){var t=e.name,n=e.id,r=e.required,a=e.label,i=e.children;return(0,_e.jsx)("div",{dangerouslySetInnerHTML:Kt({name:t?"name='".concat(t,"'"):"",id:n,required:r?"required='".concat(r,"'"):"",label:P.ZP.translate(a),option:i})})},tn=function(){return tn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},tn.apply(this,arguments)},nn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o},rn=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},an=function(){var e=nn((0,v.useState)(""),2),t=e[0],n=e[1],r=nn((0,v.useState)([]),2),a=r[0],i=r[1],o=nn((0,v.useState)([]),2),s=o[0],l=o[1],c=nn((0,v.useState)([]),2),u=c[0],d=c[1],f=nn((0,v.useState)(""),2),h=f[0],p=f[1],m=nn((0,v.useState)(""),2),y=m[0],g=m[1],b=(0,v.useRef)(null),w=function(){var e=(0,$t.a)("userId");return window.ApiClient.getUser(e)},k=(0,v.useCallback)((function(e,t){var n=b.current;if(n){var r=n.querySelector(".fldSelectLoginProvider");t.length>1?r.classList.remove("hide"):r.classList.add("hide"),l(t);var a=e.Policy.AuthenticationProviderId;p(a)}else console.error("Unexpected null reference")}),[]),S=(0,v.useCallback)((function(e,t){var n=b.current;if(n){var r=n.querySelector(".fldSelectPasswordResetProvider");t.length>1?r.classList.remove("hide"):r.classList.add("hide"),d(t);var a=e.Policy.PasswordResetProviderId;g(a)}else console.error("Unexpected null reference")}),[]),x=(0,v.useCallback)((function(e,t){var n=b.current;n?window.ApiClient.getJSON(window.ApiClient.getUrl("Channels",{SupportsMediaDeletion:!0})).then((function(r){var a,o,s,l,c,u=[];try{for(var d=rn(t),f=d.next();!f.done;f=d.next()){var h=f.value;c=e.Policy.EnableContentDeletion||-1!=e.Policy.EnableContentDeletionFromFolders.indexOf(h.Id)?' checked="checked"':"",u.push({Id:h.Id,Name:h.Name,checkedAttribute:c})}}catch(e){a={error:e}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}try{for(var p=rn(r.Items),m=p.next();!m.done;m=p.next())h=m.value,c=e.Policy.EnableContentDeletion||-1!=e.Policy.EnableContentDeletionFromFolders.indexOf(h.Id)?' checked="checked"':"",u.push({Id:h.Id,Name:h.Name,checkedAttribute:c})}catch(e){s={error:e}}finally{try{m&&!m.done&&(l=p.return)&&l.call(p)}finally{if(s)throw s.error}}i(u);var y,v,g=n.querySelector(".chkEnableDeleteAllFolders");g.checked=e.Policy.EnableContentDeletion,y=g,(v=document.createEvent("HTMLEvents")).initEvent("change",!1,!0),y.dispatchEvent(v)})):console.error("Unexpected null reference")}),[]),I=(0,v.useCallback)((function(e){var t=b.current;if(t){window.ApiClient.getJSON(window.ApiClient.getUrl("Auth/Providers")).then((function(t){k(e,t)})),window.ApiClient.getJSON(window.ApiClient.getUrl("Auth/PasswordResetProviders")).then((function(t){S(e,t)})),window.ApiClient.getJSON(window.ApiClient.getUrl("Library/MediaFolders",{IsHidden:!1})).then((function(t){x(e,t.Items)}));var r=t.querySelector(".disabledUserBanner");e.Policy.IsDisabled?r.classList.remove("hide"):r.classList.add("hide");var a=t.querySelector("#txtUserName");a.disabled=!1,a.removeAttribute("disabled"),t.querySelector(".lnkEditUserPreferences").setAttribute("href","mypreferencesmenu.html?userId="+e.Id),U.Z.setTitle(e.Name),n(e.Name),t.querySelector("#txtUserName").value=e.Name,t.querySelector(".chkIsAdmin").checked=e.Policy.IsAdministrator,t.querySelector(".chkDisabled").checked=e.Policy.IsDisabled,t.querySelector(".chkIsHidden").checked=e.Policy.IsHidden,t.querySelector(".chkRemoteControlSharedDevices").checked=e.Policy.EnableSharedDeviceControl,t.querySelector(".chkEnableRemoteControlOtherUsers").checked=e.Policy.EnableRemoteControlOfOtherUsers,t.querySelector(".chkEnableDownloading").checked=e.Policy.EnableContentDownloading,t.querySelector(".chkManageLiveTv").checked=e.Policy.EnableLiveTvManagement,t.querySelector(".chkEnableLiveTvAccess").checked=e.Policy.EnableLiveTvAccess,t.querySelector(".chkEnableMediaPlayback").checked=e.Policy.EnableMediaPlayback,t.querySelector(".chkEnableAudioPlaybackTranscoding").checked=e.Policy.EnableAudioPlaybackTranscoding,t.querySelector(".chkEnableVideoPlaybackTranscoding").checked=e.Policy.EnableVideoPlaybackTranscoding,t.querySelector(".chkEnableVideoPlaybackRemuxing").checked=e.Policy.EnablePlaybackRemuxing,t.querySelector(".chkForceRemoteSourceTranscoding").checked=e.Policy.ForceRemoteSourceTranscoding,t.querySelector(".chkRemoteAccess").checked=null==e.Policy.EnableRemoteAccess||e.Policy.EnableRemoteAccess,t.querySelector("#txtRemoteClientBitrateLimit").value=e.Policy.RemoteClientBitrateLimit>0?(e.Policy.RemoteClientBitrateLimit/1e6).toLocaleString(void 0,{maximumFractionDigits:6}):"",t.querySelector("#txtLoginAttemptsBeforeLockout").value=e.Policy.LoginAttemptsBeforeLockout||"0",t.querySelector("#txtMaxActiveSessions").value=e.Policy.MaxActiveSessions||"0",window.ApiClient.isMinServerVersion("10.6.0")&&(t.querySelector("#selectSyncPlayAccess").value=e.Policy.SyncPlayAccess),We.ZP.hide()}else console.error("Unexpected null reference")}),[k,S,x]),C=(0,v.useCallback)((function(){We.ZP.show(),w().then((function(e){I(e)}))}),[I]);(0,v.useEffect)((function(){var e=b.current;if(e){C();e.querySelector(".chkEnableDeleteAllFolders").addEventListener("change",(function(){this.checked?e.querySelector(".deleteAccess").classList.add("hide"):e.querySelector(".deleteAccess").classList.remove("hide")})),window.ApiClient.getNamedConfiguration("network").then((function(t){var n=e.querySelector(".fldRemoteAccess");t.EnableRemoteAccess?n.classList.remove("hide"):n.classList.add("hide")})),e.querySelector(".editUserProfileForm").addEventListener("submit",(function(t){return We.ZP.show(),w().then((function(t){!function(t){if(!t.Id)throw new Error("Unexpected null user.Id");if(!t.Policy)throw new Error("Unexpected null user.Policy");t.Name=e.querySelector("#txtUserName").value,t.Policy.IsAdministrator=e.querySelector(".chkIsAdmin").checked,t.Policy.IsHidden=e.querySelector(".chkIsHidden").checked,t.Policy.IsDisabled=e.querySelector(".chkDisabled").checked,t.Policy.EnableRemoteControlOfOtherUsers=e.querySelector(".chkEnableRemoteControlOtherUsers").checked,t.Policy.EnableLiveTvManagement=e.querySelector(".chkManageLiveTv").checked,t.Policy.EnableLiveTvAccess=e.querySelector(".chkEnableLiveTvAccess").checked,t.Policy.EnableSharedDeviceControl=e.querySelector(".chkRemoteControlSharedDevices").checked,t.Policy.EnableMediaPlayback=e.querySelector(".chkEnableMediaPlayback").checked,t.Policy.EnableAudioPlaybackTranscoding=e.querySelector(".chkEnableAudioPlaybackTranscoding").checked,t.Policy.EnableVideoPlaybackTranscoding=e.querySelector(".chkEnableVideoPlaybackTranscoding").checked,t.Policy.EnablePlaybackRemuxing=e.querySelector(".chkEnableVideoPlaybackRemuxing").checked,t.Policy.ForceRemoteSourceTranscoding=e.querySelector(".chkForceRemoteSourceTranscoding").checked,t.Policy.EnableContentDownloading=e.querySelector(".chkEnableDownloading").checked,t.Policy.EnableRemoteAccess=e.querySelector(".chkRemoteAccess").checked,t.Policy.RemoteClientBitrateLimit=Math.floor(1e6*parseFloat(e.querySelector("#txtRemoteClientBitrateLimit").value||"0")),t.Policy.LoginAttemptsBeforeLockout=parseInt(e.querySelector("#txtLoginAttemptsBeforeLockout").value||"0"),t.Policy.MaxActiveSessions=parseInt(e.querySelector("#txtMaxActiveSessions").value||"0"),t.Policy.AuthenticationProviderId=e.querySelector("#selectLoginProvider").value,t.Policy.PasswordResetProviderId=e.querySelector("#selectPasswordResetProvider").value,t.Policy.EnableContentDeletion=e.querySelector(".chkEnableDeleteAllFolders").checked,t.Policy.EnableContentDeletionFromFolders=t.Policy.EnableContentDeletion?[]:Array.prototype.filter.call(e.querySelectorAll(".chkFolder"),(function(e){return e.checked})).map((function(e){return e.getAttribute("data-id")})),window.ApiClient.isMinServerVersion("10.6.0")&&(t.Policy.SyncPlayAccess=e.querySelector("#selectSyncPlayAccess").value),window.ApiClient.updateUser(t).then((function(){window.ApiClient.updateUserPolicy(t.Id||"",t.Policy||{}).then((function(){F.ZP.navigate("userprofiles.html"),We.ZP.hide(),(0,Je.Z)(P.ZP.translate("SettingsSaved"))}))}))}(t)})),t.preventDefault(),t.stopPropagation(),!1})),e.querySelector("#btnCancel").addEventListener("click",(function(){window.history.back()}))}else console.error("Unexpected null reference")}),[C]);var T,L=s.map((function(e){var t=e.Id===h||s.length<2?" selected":"";return'<option value="'.concat(e.Id,'"').concat(t,">").concat(ct()(e.Name),"</option>")})),E=u.map((function(e){var t=e.Id===y||u.length<2?" selected":"";return'<option value="'.concat(e.Id,'"').concat(t,">").concat(ct()(e.Name),"</option>")}));return(0,_e.jsx)(yt,tn({id:"editUserPage",className:"mainAnimatedPage type-interior"},{children:(0,_e.jsxs)("div",tn({ref:b,className:"content-primary"},{children:[(0,_e.jsx)("div",tn({className:"verticalSection"},{children:(0,_e.jsx)(rt,{title:t,url:"https://docs.jellyfin.org/general/server/users/"})})),(0,_e.jsx)(Jt,{activeTab:"useredit"}),(0,_e.jsx)("div",tn({className:"lnkEditUserPreferencesContainer",style:{paddingBottom:"1em"}},{children:(0,_e.jsx)(Yt,{className:"lnkEditUserPreferences button-link",title:"ButtonEditOtherUserPreferences"})})),(0,_e.jsxs)("form",tn({className:"editUserProfileForm"},{children:[(0,_e.jsx)("div",tn({className:"disabledUserBanner hide"},{children:(0,_e.jsxs)("div",tn({className:"btn btnDarkAccent btnStatic"},{children:[(0,_e.jsx)("div",{children:P.ZP.translate("HeaderThisUserIsCurrentlyDisabled")}),(0,_e.jsx)("div",tn({style:{marginTop:5}},{children:P.ZP.translate("MessageReenableUser")}))]}))})),(0,_e.jsx)("div",tn({id:"fldUserName",className:"inputContainer"},{children:(0,_e.jsx)(it,{type:"text",id:"txtUserName",label:"LabelName",options:"required"})})),(0,_e.jsxs)("div",tn({className:"selectContainer fldSelectLoginProvider hide"},{children:[(0,_e.jsx)(en,tn({id:"selectLoginProvider",label:"LabelAuthProvider"},{children:L})),(0,_e.jsx)("div",tn({className:"fieldDescription"},{children:P.ZP.translate("AuthProviderHelp")}))]})),(0,_e.jsxs)("div",tn({className:"selectContainer fldSelectPasswordResetProvider hide"},{children:[(0,_e.jsx)(en,tn({id:"selectPasswordResetProvider",label:"LabelPasswordResetProvider"},{children:E})),(0,_e.jsx)("div",tn({className:"fieldDescription"},{children:P.ZP.translate("PasswordResetProviderHelp")}))]})),(0,_e.jsxs)("div",tn({className:"checkboxContainer checkboxContainer-withDescription fldRemoteAccess hide"},{children:[(0,_e.jsx)(dt,{className:"chkRemoteAccess",title:"AllowRemoteAccess"}),(0,_e.jsx)("div",tn({className:"fieldDescription checkboxFieldDescription"},{children:P.ZP.translate("AllowRemoteAccessHelp")}))]})),(0,_e.jsx)(dt,{labelClassName:"checkboxContainer",className:"chkIsAdmin",title:"OptionAllowUserToManageServer"}),(0,_e.jsxs)("div",tn({id:"featureAccessFields",className:"verticalSection"},{children:[(0,_e.jsx)("h2",tn({className:"paperListLabel"},{children:P.ZP.translate("HeaderFeatureAccess")})),(0,_e.jsxs)("div",tn({className:"checkboxList paperList",style:{padding:".5em 1em"}},{children:[(0,_e.jsx)(dt,{className:"chkEnableLiveTvAccess",title:"OptionAllowBrowsingLiveTv"}),(0,_e.jsx)(dt,{className:"chkManageLiveTv",title:"OptionAllowManageLiveTv"})]}))]})),(0,_e.jsxs)("div",tn({className:"verticalSection"},{children:[(0,_e.jsx)("h2",tn({className:"paperListLabel"},{children:P.ZP.translate("HeaderPlayback")})),(0,_e.jsxs)("div",tn({className:"checkboxList paperList",style:{padding:".5em 1em"}},{children:[(0,_e.jsx)(dt,{className:"chkEnableMediaPlayback",title:"OptionAllowMediaPlayback"}),(0,_e.jsx)(dt,{className:"chkEnableAudioPlaybackTranscoding",title:"OptionAllowAudioPlaybackTranscoding"}),(0,_e.jsx)(dt,{className:"chkEnableVideoPlaybackTranscoding",title:"OptionAllowVideoPlaybackTranscoding"}),(0,_e.jsx)(dt,{className:"chkEnableVideoPlaybackRemuxing",title:"OptionAllowVideoPlaybackRemuxing"}),(0,_e.jsx)(dt,{className:"chkForceRemoteSourceTranscoding",title:"OptionForceRemoteSourceTranscoding"})]})),(0,_e.jsx)("div",tn({className:"fieldDescription"},{children:P.ZP.translate("OptionAllowMediaPlaybackTranscodingHelp")}))]})),(0,_e.jsx)("br",{}),(0,_e.jsx)("div",tn({className:"verticalSection"},{children:(0,_e.jsxs)("div",tn({className:"inputContainer"},{children:[(0,_e.jsx)(it,{type:"number",id:"txtRemoteClientBitrateLimit",label:"LabelRemoteClientBitrateLimit",options:'inputMode="decimal" pattern="[0-9]*(.[0-9]+)?" min="{0}" step=".25"'}),(0,_e.jsx)("div",tn({className:"fieldDescription"},{children:P.ZP.translate("LabelRemoteClientBitrateLimitHelp")})),(0,_e.jsx)("div",tn({className:"fieldDescription"},{children:P.ZP.translate("LabelUserRemoteClientBitrateLimitHelp")}))]}))})),(0,_e.jsx)("div",tn({className:"verticalSection"},{children:(0,_e.jsxs)("div",tn({className:"selectContainer fldSelectSyncPlayAccess"},{children:[(0,_e.jsx)(en,tn({id:"selectSyncPlayAccess",label:"LabelSyncPlayAccess"},{children:(T="",T+="<option value='CreateAndJoinGroups'>".concat(P.ZP.translate("LabelSyncPlayAccessCreateAndJoinGroups"),"</option>"),T+="<option value='JoinGroups'>".concat(P.ZP.translate("LabelSyncPlayAccessJoinGroups"),"</option>"),T+="<option value='None'>".concat(P.ZP.translate("LabelSyncPlayAccessNone"),"</option>"))})),(0,_e.jsx)("div",tn({className:"fieldDescription"},{children:P.ZP.translate("SyncPlayAccessHelp")}))]}))})),(0,_e.jsxs)("div",tn({className:"verticalSection"},{children:[(0,_e.jsx)("h2",tn({className:"checkboxListLabel",style:{marginBottom:"1em"}},{children:P.ZP.translate("HeaderAllowMediaDeletionFrom")})),(0,_e.jsxs)("div",tn({className:"checkboxList paperList checkboxList-paperList"},{children:[(0,_e.jsx)(dt,{labelClassName:"checkboxContainer",className:"chkEnableDeleteAllFolders",title:"AllLibraries"}),(0,_e.jsx)("div",tn({className:"deleteAccess"},{children:a.map((function(e){return(0,_e.jsx)(dt,{className:"chkFolder",itemId:e.Id,itemName:e.Name,itemCheckedAttribute:e.checkedAttribute},e.Id)}))}))]}))]})),(0,_e.jsxs)("div",tn({className:"verticalSection"},{children:[(0,_e.jsx)("h2",tn({className:"checkboxListLabel"},{children:P.ZP.translate("HeaderRemoteControl")})),(0,_e.jsxs)("div",tn({className:"checkboxList paperList",style:{padding:".5em 1em"}},{children:[(0,_e.jsx)(dt,{className:"chkEnableRemoteControlOtherUsers",title:"OptionAllowRemoteControlOthers"}),(0,_e.jsx)(dt,{className:"chkRemoteControlSharedDevices",title:"OptionAllowRemoteSharedDevices"})]})),(0,_e.jsx)("div",tn({className:"fieldDescription"},{children:P.ZP.translate("OptionAllowRemoteSharedDevicesHelp")}))]})),(0,_e.jsx)("h2",tn({className:"checkboxListLabel"},{children:P.ZP.translate("Other")})),(0,_e.jsxs)("div",tn({className:"checkboxContainer checkboxContainer-withDescription"},{children:[(0,_e.jsx)(dt,{className:"chkEnableDownloading",title:"OptionAllowContentDownload"}),(0,_e.jsx)("div",tn({className:"fieldDescription checkboxFieldDescription"},{children:P.ZP.translate("OptionAllowContentDownloadHelp")}))]})),(0,_e.jsxs)("div",tn({className:"checkboxContainer checkboxContainer-withDescription",id:"fldIsEnabled"},{children:[(0,_e.jsx)(dt,{className:"chkDisabled",title:"OptionDisableUser"}),(0,_e.jsx)("div",tn({className:"fieldDescription checkboxFieldDescription"},{children:P.ZP.translate("OptionDisableUserHelp")}))]})),(0,_e.jsxs)("div",tn({className:"checkboxContainer checkboxContainer-withDescription",id:"fldIsHidden"},{children:[(0,_e.jsx)(dt,{className:"chkIsHidden",title:"OptionHideUser"}),(0,_e.jsx)("div",tn({className:"fieldDescription checkboxFieldDescription"},{children:P.ZP.translate("OptionHideUserFromLoginHelp")}))]})),(0,_e.jsx)("br",{}),(0,_e.jsx)("div",tn({className:"verticalSection"},{children:(0,_e.jsxs)("div",tn({className:"inputContainer",id:"fldLoginAttemptsBeforeLockout"},{children:[(0,_e.jsx)(it,{type:"number",id:"txtLoginAttemptsBeforeLockout",label:"LabelUserLoginAttemptsBeforeLockout",options:"min={-1} step={1}"}),(0,_e.jsx)("div",tn({className:"fieldDescription"},{children:P.ZP.translate("OptionLoginAttemptsBeforeLockout")})),(0,_e.jsx)("div",tn({className:"fieldDescription"},{children:P.ZP.translate("OptionLoginAttemptsBeforeLockoutHelp")}))]}))})),(0,_e.jsx)("br",{}),(0,_e.jsx)("div",tn({className:"verticalSection"},{children:(0,_e.jsxs)("div",tn({className:"inputContainer",id:"fldMaxActiveSessions"},{children:[(0,_e.jsx)(it,{type:"number",id:"txtMaxActiveSessions",label:"LabelUserMaxActiveSessions",options:"min={0} step={1}"}),(0,_e.jsx)("div",tn({className:"fieldDescription"},{children:P.ZP.translate("OptionMaxActiveSessions")})),(0,_e.jsx)("div",tn({className:"fieldDescription"},{children:P.ZP.translate("OptionMaxActiveSessionsHelp")}))]}))})),(0,_e.jsx)("br",{}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)(st,{type:"submit",className:"raised button-submit block",title:"Save"}),(0,_e.jsx)(st,{type:"button",id:"btnCancel",className:"raised button-cancel block",title:"ButtonCancel"})]})]}))]}))}))},on=function(){return on=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},on.apply(this,arguments)},sn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o},ln=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},cn=function(){var e=sn((0,v.useState)(""),2),t=e[0],n=e[1],r=sn((0,v.useState)([]),2),a=r[0],i=r[1],o=sn((0,v.useState)([]),2),s=o[0],l=o[1],c=sn((0,v.useState)([]),2),u=c[0],d=c[1],f=(0,v.useRef)(null),h=function(e){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),e.dispatchEvent(t)},p=(0,v.useCallback)((function(e,t){var n,r,a=f.current;if(a){var i=[];try{for(var o=ln(t),s=o.next();!s.done;s=o.next()){var c=s.value,u=e.Policy.EnableAllFolders||-1!=e.Policy.EnabledFolders.indexOf(c.Id)?' checked="checked"':"";i.push({Id:c.Id,Name:c.Name,checkedAttribute:u})}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}l(i);var d=a.querySelector(".chkEnableAllFolders");d.checked=e.Policy.EnableAllFolders,h(d)}else console.error("Unexpected null reference")}),[]),m=(0,v.useCallback)((function(e,t){var n,r,a=f.current;if(a){var o=[];try{for(var s=ln(t),l=s.next();!l.done;l=s.next()){var c=l.value,u=e.Policy.EnableAllChannels||-1!=e.Policy.EnabledChannels.indexOf(c.Id)?' checked="checked"':"";o.push({Id:c.Id,Name:c.Name,checkedAttribute:u})}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}i(o),t.length?a.querySelector(".channelAccessContainer").classList.remove("hide"):a.querySelector(".channelAccessContainer").classList.add("hide");var d=a.querySelector(".chkEnableAllChannels");d.checked=e.Policy.EnableAllChannels,h(d)}else console.error("Unexpected null reference")}),[]),y=(0,v.useCallback)((function(e,t){var n,r,a=f.current;if(a){var i=[];try{for(var o=ln(t),s=o.next();!s.done;s=o.next()){var l=s.value,c=e.Policy.EnableAllDevices||-1!=e.Policy.EnabledDevices.indexOf(l.Id)?' checked="checked"':"";i.push({Id:l.Id,Name:l.Name,AppName:l.AppName,checkedAttribute:c})}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}d(i);var u=a.querySelector(".chkEnableAllDevices");u.checked=e.Policy.EnableAllDevices,h(u),e.Policy.IsAdministrator?a.querySelector(".deviceAccessContainer").classList.add("hide"):a.querySelector(".deviceAccessContainer").classList.remove("hide")}else console.error("Unexpected null reference")}),[]),g=(0,v.useCallback)((function(e,t,r,a){n(e.Name),U.Z.setTitle(e.Name),m(e,r),p(e,t),y(e,a),We.ZP.hide()}),[m,y,p]),b=(0,v.useCallback)((function(){We.ZP.show();var e=(0,$t.a)("userId"),t=e?window.ApiClient.getUser(e):Promise.resolve({Configuration:{}}),n=window.ApiClient.getJSON(window.ApiClient.getUrl("Library/MediaFolders",{IsHidden:!1})),r=window.ApiClient.getJSON(window.ApiClient.getUrl("Channels")),a=window.ApiClient.getJSON(window.ApiClient.getUrl("Devices"));Promise.all([t,n,r,a]).then((function(e){g(e[0],e[1].Items,e[2].Items,e[3].Items)}))}),[g]);return(0,v.useEffect)((function(){var e=f.current;if(e){b();var t=function(){We.ZP.hide(),(0,Je.Z)(P.ZP.translate("SettingsSaved"))};e.querySelector(".chkEnableAllDevices").addEventListener("change",(function(){e.querySelector(".deviceAccessListContainer").classList.toggle("hide",this.checked)})),e.querySelector(".chkEnableAllChannels").addEventListener("change",(function(){e.querySelector(".channelAccessListContainer").classList.toggle("hide",this.checked)})),e.querySelector(".chkEnableAllFolders").addEventListener("change",(function(){e.querySelector(".folderAccessListContainer").classList.toggle("hide",this.checked)})),e.querySelector(".userLibraryAccessForm").addEventListener("submit",(function(n){We.ZP.show();var r=(0,$t.a)("userId");return window.ApiClient.getUser(r).then((function(n){!function(n){if(!n.Id)throw new Error("Unexpected null user.Id");if(!n.Policy)throw new Error("Unexpected null user.Policy");n.Policy.EnableAllFolders=e.querySelector(".chkEnableAllFolders").checked,n.Policy.EnabledFolders=n.Policy.EnableAllFolders?[]:Array.prototype.filter.call(e.querySelectorAll(".chkFolder"),(function(e){return e.checked})).map((function(e){return e.getAttribute("data-id")})),n.Policy.EnableAllChannels=e.querySelector(".chkEnableAllChannels").checked,n.Policy.EnabledChannels=n.Policy.EnableAllChannels?[]:Array.prototype.filter.call(e.querySelectorAll(".chkChannel"),(function(e){return e.checked})).map((function(e){return e.getAttribute("data-id")})),n.Policy.EnableAllDevices=e.querySelector(".chkEnableAllDevices").checked,n.Policy.EnabledDevices=n.Policy.EnableAllDevices?[]:Array.prototype.filter.call(e.querySelectorAll(".chkDevice"),(function(e){return e.checked})).map((function(e){return e.getAttribute("data-id")})),n.Policy.BlockedChannels=null,n.Policy.BlockedMediaFolders=null,window.ApiClient.updateUserPolicy(n.Id,n.Policy).then((function(){t()}))}(n)})),n.preventDefault(),n.stopPropagation(),!1}))}else console.error("Unexpected null reference")}),[b]),(0,_e.jsx)(yt,on({id:"userLibraryAccessPage",className:"mainAnimatedPage type-interior"},{children:(0,_e.jsxs)("div",on({ref:f,className:"content-primary"},{children:[(0,_e.jsx)("div",on({className:"verticalSection"},{children:(0,_e.jsx)(rt,{title:t,url:"https://docs.jellyfin.org/general/server/users/"})})),(0,_e.jsx)(Jt,{activeTab:"userlibraryaccess"}),(0,_e.jsxs)("form",on({className:"userLibraryAccessForm"},{children:[(0,_e.jsx)(ht,on({containerClassName:"folderAccessContainer",headerTitle:"HeaderLibraryAccess",checkBoxClassName:"chkEnableAllFolders",checkBoxTitle:"OptionEnableAccessToAllLibraries",listContainerClassName:"folderAccessListContainer",accessClassName:"folderAccess",listTitle:"HeaderLibraries",description:"LibraryAccessHelp"},{children:s.map((function(e){return(0,_e.jsx)(dt,{className:"chkFolder",itemId:e.Id,itemName:e.Name,itemCheckedAttribute:e.checkedAttribute},e.Id)}))})),(0,_e.jsx)(ht,on({containerClassName:"channelAccessContainer hide",headerTitle:"HeaderChannelAccess",checkBoxClassName:"chkEnableAllChannels",checkBoxTitle:"OptionEnableAccessToAllChannels",listContainerClassName:"channelAccessListContainer",accessClassName:"channelAccess",listTitle:"Channels",description:"ChannelAccessHelp"},{children:a.map((function(e){return(0,_e.jsx)(dt,{className:"chkChannel",itemId:e.Id,itemName:e.Name,itemCheckedAttribute:e.checkedAttribute},e.Id)}))})),(0,_e.jsx)(ht,on({containerClassName:"deviceAccessContainer hide",headerTitle:"HeaderDeviceAccess",checkBoxClassName:"chkEnableAllDevices",checkBoxTitle:"OptionEnableAccessFromAllDevices",listContainerClassName:"deviceAccessListContainer",accessClassName:"deviceAccess",listTitle:"HeaderDevices",description:"DeviceAccessHelp"},{children:u.map((function(e){return(0,_e.jsx)(dt,{className:"chkDevice",itemId:e.Id,itemName:e.Name,itemAppName:e.AppName,itemCheckedAttribute:e.checkedAttribute},e.Id)}))})),(0,_e.jsx)("br",{}),(0,_e.jsx)("div",{children:(0,_e.jsx)(st,{type:"submit",className:"raised button-submit block",title:"Save"})})]}))]}))}))},un=n(45013),dn=n(61693),fn=function(){return fn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},fn.apply(this,arguments)};function hn(e){void 0===e&&(e=0);var t=0,n=e%1;return n&&(t=Math.floor(60*n)),dn.ZP.getDisplayTime(new Date(2e3,1,1,e,t,0,0))}var pn=function(e){var t=e.index,n=e.DayOfWeek,r=e.StartHour,a=e.EndHour;return(0,_e.jsxs)("div",fn({className:"liSchedule listItem","data-day":n,"data-start":r,"data-end":a},{children:[(0,_e.jsxs)("div",fn({className:"listItemBody two-line"},{children:[(0,_e.jsx)("h3",fn({className:"listItemBodyText"},{children:P.ZP.translate(n)})),(0,_e.jsx)("div",fn({className:"listItemBodyText secondary"},{children:hn(r)+" - "+hn(a)}))]})),(0,_e.jsx)(Ke,{is:"paper-icon-button-light",className:"btnDelete listItemButton",title:"Delete",icon:"delete",dataIndex:t})]}))},mn=function(){return mn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},mn.apply(this,arguments)},yn=function(e){var t=e.tag;return(0,_e.jsx)("div",mn({className:"paperList"},{children:(0,_e.jsxs)("div",mn({className:"listItem"},{children:[(0,_e.jsx)("div",mn({className:"listItemBody"},{children:(0,_e.jsx)("h3",mn({className:"listItemBodyText"},{children:t}))})),(0,_e.jsx)(Ke,{is:"paper-icon-button-light",className:"blockedTag btnDeleteTag listItemButton",title:"Delete",icon:"delete",dataTag:t})]}))}))},vn=function(){return vn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},vn.apply(this,arguments)},gn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o},bn=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},wn=function(){var e=gn((0,v.useState)(""),2),t=e[0],r=e[1],a=gn((0,v.useState)([]),2),i=a[0],o=a[1],s=gn((0,v.useState)([]),2),l=s[0],c=s[1],u=gn((0,v.useState)([]),2),d=u[0],f=u[1],h=gn((0,v.useState)([]),2),p=h[0],m=h[1],y=(0,v.useRef)(null),g=(0,v.useCallback)((function(e){for(var t,n=[],r=0,a=e.length;r<a;r++){if(t=e[r],n.length){var i=n[n.length-1];if(i.Value===t.Value){i.Name+="/"+t.Name;continue}}n.push({Name:t.Name,Value:t.Value})}o(n)}),[]),b=(0,v.useCallback)((function(e){var t,n,r=y.current;if(r){var a=[{name:P.ZP.translate("Books"),value:"Book"},{name:P.ZP.translate("Channels"),value:"ChannelContent"},{name:P.ZP.translate("LiveTV"),value:"LiveTvChannel"},{name:P.ZP.translate("Movies"),value:"Movie"},{name:P.ZP.translate("Music"),value:"Music"},{name:P.ZP.translate("Trailers"),value:"Trailer"},{name:P.ZP.translate("Shows"),value:"Series"}],i=[];try{for(var o=bn(a),s=o.next();!s.done;s=o.next()){var l=s.value,u=-1!=e.Policy.BlockUnratedItems.indexOf(l.value)?' checked="checked"':"";i.push({value:l.value,name:l.name,checkedAttribute:u})}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}c(i),r.querySelector(".blockUnratedItems").dispatchEvent(new CustomEvent("create"))}else console.error("Unexpected null reference")}),[]),w=(0,v.useCallback)((function(e){var t,n,r=y.current;if(r){m(e);var a=r.querySelector(".blockedTags"),i=function(t){t.addEventListener("click",(function(){var n=t.getAttribute("data-tag"),r=e.filter((function(e){return e!=n}));w(r)}))};try{for(var o=bn(a.querySelectorAll(".btnDeleteTag")),s=o.next();!s.done;s=o.next())i(s.value)}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}else console.error("Unexpected null reference")}),[]),k=(0,v.useCallback)((function(e){var t,n,r=y.current;if(r){f(e);var a=r.querySelector(".accessScheduleList"),i=function(t){t.addEventListener("click",(function(){var n=parseInt(t.getAttribute("data-index")||"0",10);e.splice(n,1);var r=e.filter((function(e){return e!=n}));k(r)}))};try{for(var o=bn(a.querySelectorAll(".btnDelete")),s=o.next();!s.done;s=o.next())i(s.value)}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}else console.error("Unexpected null reference")}),[]),S=(0,v.useCallback)((function(e,t){var n=y.current;if(n){r(e.Name),U.Z.setTitle(e.Name),b(e),w(e.Policy.BlockedTags),g(t);var a="";if(e.Policy.MaxParentalRating)for(var i=0,o=t.length;i<o;i++){var s=t[i];e.Policy.MaxParentalRating>=s.Value&&(a=s.Value)}n.querySelector("#selectMaxParentalRating").value=a,e.Policy.IsAdministrator?n.querySelector(".accessScheduleSection").classList.add("hide"):n.querySelector(".accessScheduleSection").classList.remove("hide"),k(e.Policy.AccessSchedules||[]),We.ZP.hide()}else console.error("Unexpected null reference")}),[w,b,g,k]),x=(0,v.useCallback)((function(){We.ZP.show();var e=(0,$t.a)("userId"),t=window.ApiClient.getUser(e),n=window.ApiClient.getParentalRatings();Promise.all([t,n]).then((function(e){S(e[0],e[1])}))}),[S]);return(0,v.useEffect)((function(){var e=y.current;if(e){x();var t=function(){return Array.prototype.map.call(e.querySelectorAll(".liSchedule"),(function(e){return{DayOfWeek:e.getAttribute("data-day"),StartHour:e.getAttribute("data-start"),EndHour:e.getAttribute("data-end")}}))},r=function(){return Array.prototype.map.call(e.querySelectorAll(".blockedTag"),(function(e){return e.getAttribute("data-tag")}))};e.querySelector("#btnAddSchedule").addEventListener("click",(function(){var e,r;e={Id:0,UserId:"",DayOfWeek:un.W.Sunday,StartHour:0,EndHour:0},r=-1,e=e||{},n.e(9592).then(n.bind(n,39592)).then((function(n){n.default.show({schedule:e}).then((function(e){var n=t();-1==r&&(r=n.length),n[r]=e,k(n)}))}))})),e.querySelector("#btnAddBlockedTag").addEventListener("click",(function(){n.e(3690).then(n.bind(n,23690)).then((function(e){(0,e.default)({label:P.ZP.translate("LabelTag")}).then((function(e){var t=r();-1==t.indexOf(e)&&(t.push(e),w(t))}))}))})),e.querySelector(".userParentalControlForm").addEventListener("submit",(function(n){We.ZP.show();var a=(0,$t.a)("userId");return window.ApiClient.getUser(a).then((function(n){!function(n){if(!n.Id)throw new Error("Unexpected null user.Id");if(!n.Policy)throw new Error("Unexpected null user.Policy");n.Policy.MaxParentalRating=parseInt(e.querySelector("#selectMaxParentalRating").value||"0",10)||null,n.Policy.BlockUnratedItems=Array.prototype.filter.call(e.querySelectorAll(".chkUnratedItem"),(function(e){return e.checked})).map((function(e){return e.getAttribute("data-itemtype")})),n.Policy.AccessSchedules=t(),n.Policy.BlockedTags=r(),window.ApiClient.updateUserPolicy(n.Id,n.Policy).then((function(){We.ZP.hide(),(0,Je.Z)(P.ZP.translate("SettingsSaved"))}))}(n)})),n.preventDefault(),n.stopPropagation(),!1}))}else console.error("Unexpected null reference")}),[w,x,k]),(0,_e.jsx)(yt,vn({id:"userParentalControlPage",className:"mainAnimatedPage type-interior"},{children:(0,_e.jsxs)("div",vn({ref:y,className:"content-primary"},{children:[(0,_e.jsx)("div",vn({className:"verticalSection"},{children:(0,_e.jsx)(rt,{title:t,url:"https://docs.jellyfin.org/general/server/users/"})})),(0,_e.jsx)(Jt,{activeTab:"userparentalcontrol"}),(0,_e.jsxs)("form",vn({className:"userParentalControlForm"},{children:[(0,_e.jsxs)("div",vn({className:"selectContainer"},{children:[(0,_e.jsx)(en,vn({id:"selectMaxParentalRating",label:"LabelMaxParentalRating"},{children:function(){var e,t,n="";n+="<option value=''></option>";try{for(var r=bn(i),a=r.next();!a.done;a=r.next()){var o=a.value;n+="<option value='".concat(o.Value,"'>").concat(ct()(o.Name),"</option>")}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n}()})),(0,_e.jsx)("div",vn({className:"fieldDescription"},{children:P.ZP.translate("MaxParentalRatingHelp")}))]})),(0,_e.jsx)("div",{children:(0,_e.jsxs)("div",vn({className:"blockUnratedItems"},{children:[(0,_e.jsx)("h3",vn({className:"checkboxListLabel"},{children:P.ZP.translate("HeaderBlockItemsWithNoRating")})),(0,_e.jsx)("div",vn({className:"checkboxList paperList",style:{padding:".5em 1em"}},{children:l.map((function(e){return(0,_e.jsx)(dt,{className:"chkUnratedItem",itemType:e.value,itemName:e.name,itemCheckedAttribute:e.checkedAttribute},e.value)}))}))]}))}),(0,_e.jsx)("br",{}),(0,_e.jsxs)("div",vn({className:"verticalSection",style:{marginBottom:"2em"}},{children:[(0,_e.jsx)(rt,{SectionClassName:"detailSectionHeader",title:P.ZP.translate("LabelBlockContentWithTags"),isBtnVisible:!0,btnId:"btnAddBlockedTag",btnClassName:"fab submit sectionTitleButton",btnTitle:"Add",btnIcon:"add",isLinkVisible:!1}),(0,_e.jsx)("div",vn({className:"blockedTags",style:{marginTop:".5em"}},{children:p.map((function(e,t){return(0,_e.jsx)(yn,{tag:e},t)}))}))]})),(0,_e.jsxs)("div",vn({className:"accessScheduleSection verticalSection",style:{marginBottom:"2em"}},{children:[(0,_e.jsx)(rt,{title:P.ZP.translate("HeaderAccessSchedule"),isBtnVisible:!0,btnId:"btnAddSchedule",btnClassName:"fab submit sectionTitleButton",btnTitle:"Add",btnIcon:"add",isLinkVisible:!1}),(0,_e.jsx)("p",{children:P.ZP.translate("HeaderAccessScheduleHelp")}),(0,_e.jsx)("div",vn({className:"accessScheduleList paperList"},{children:d.map((function(e,t){return(0,_e.jsx)(pn,{index:t,Id:e.Id,DayOfWeek:e.DayOfWeek,StartHour:e.StartHour,EndHour:e.EndHour},t)}))}))]})),(0,_e.jsx)("div",{children:(0,_e.jsx)(st,{type:"submit",className:"raised button-submit block",title:"Save"})})]}))]}))}))},Pn=n(3137),kn=function(){return kn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},kn.apply(this,arguments)},Sn=function(e){var t=e.userId,r=(0,v.useRef)(null),a=(0,v.useCallback)((function(){var e=r.current;e?(window.ApiClient.getUser(t).then((function(t){F.ZP.getCurrentUser().then((function(r){var a,i;if(!t.Policy)throw new Error("Unexpected null user.Policy");if(!t.Configuration)throw new Error("Unexpected null user.Configuration");U.Z.setTitle(t.Name);var o=!1;t.HasConfiguredPassword?(e.querySelector("#btnResetPassword").classList.remove("hide"),e.querySelector("#fldCurrentPassword").classList.remove("hide"),o=!0):(e.querySelector("#btnResetPassword").classList.add("hide"),e.querySelector("#fldCurrentPassword").classList.add("hide")),(null===(a=null==r?void 0:r.Policy)||void 0===a?void 0:a.IsAdministrator)||t.Policy.EnableUserPreferenceAccess?e.querySelector(".passwordSection").classList.remove("hide"):e.querySelector(".passwordSection").classList.add("hide"),o&&((null===(i=null==r?void 0:r.Policy)||void 0===i?void 0:i.IsAdministrator)||t.Policy.EnableUserPreferenceAccess)?e.querySelector(".localAccessSection").classList.remove("hide"):e.querySelector(".localAccessSection").classList.add("hide");var s=e.querySelector("#txtEasyPassword");s.value="",t.HasConfiguredEasyPassword?(s.placeholder="******",e.querySelector("#btnResetEasyPassword").classList.remove("hide")):(s.removeAttribute("placeholder"),s.placeholder="",e.querySelector("#btnResetEasyPassword").classList.add("hide")),e.querySelector(".chkEnableLocalEasyPassword").checked=t.Configuration.EnableLocalPassword||!1,Promise.resolve().then(n.bind(n,87680)).then((function(t){t.default.autoFocus(e)}))}))})),e.querySelector("#txtCurrentPassword").value="",e.querySelector("#txtNewPassword").value="",e.querySelector("#txtNewPasswordConfirm").value=""):console.error("Unexpected null reference")}),[t]);return(0,v.useEffect)((function(){var e=r.current;if(e){a();var n=function(){window.ApiClient.getUser(t).then((function(t){if(!t.Configuration)throw new Error("Unexpected null user.Configuration");if(!t.Id)throw new Error("Unexpected null user.Id");t.Configuration.EnableLocalPassword=e.querySelector(".chkEnableLocalEasyPassword").checked,window.ApiClient.updateUserConfiguration(t.Id,t.Configuration).then((function(){We.ZP.hide(),(0,Je.Z)(P.ZP.translate("SettingsSaved")),a()}))}))};e.querySelector(".updatePasswordForm").addEventListener("submit",(function(n){return e.querySelector("#txtNewPassword").value!=e.querySelector("#txtNewPasswordConfirm").value?(0,Je.Z)(P.ZP.translate("PasswordMatchError")):(We.ZP.show(),r=e.querySelector("#txtCurrentPassword").value,i=e.querySelector("#txtNewPassword").value,e.querySelector("#fldCurrentPassword").classList.contains("hide")&&(r=""),window.ApiClient.updateUserPassword(t,r,i).then((function(){We.ZP.hide(),(0,Je.Z)(P.ZP.translate("PasswordSaved")),a()}),(function(){We.ZP.hide(),F.ZP.alert({title:P.ZP.translate("HeaderLoginFailure"),message:P.ZP.translate("MessageInvalidUser")})}))),n.preventDefault(),!1;var r,i})),e.querySelector(".localAccessForm").addEventListener("submit",(function(r){return We.ZP.show(),(a=e.querySelector("#txtEasyPassword").value)?window.ApiClient.updateEasyPassword(t,a).then((function(){n()})):n(),r.preventDefault(),!1;var a})),e.querySelector("#btnResetEasyPassword").addEventListener("click",(function(){var e=P.ZP.translate("PinCodeResetConfirmation");(0,Pn.Z)(e,P.ZP.translate("HeaderPinCodeReset")).then((function(){We.ZP.show(),window.ApiClient.resetEasyPassword(t).then((function(){We.ZP.hide(),F.ZP.alert({message:P.ZP.translate("PinCodeResetComplete"),title:P.ZP.translate("HeaderPinCodeReset")}),a()}))}))})),e.querySelector("#btnResetPassword").addEventListener("click",(function(){var e=P.ZP.translate("PasswordResetConfirmation");(0,Pn.Z)(e,P.ZP.translate("ResetPassword")).then((function(){We.ZP.show(),window.ApiClient.resetUserPassword(t).then((function(){We.ZP.hide(),F.ZP.alert({message:P.ZP.translate("PasswordResetComplete"),title:P.ZP.translate("ResetPassword")}),a()}))}))}))}else console.error("Unexpected null reference")}),[a,t]),(0,_e.jsxs)("div",kn({ref:r},{children:[(0,_e.jsx)("form",kn({className:"updatePasswordForm passwordSection hide",style:{margin:"0 auto 2em"}},{children:(0,_e.jsxs)("div",kn({className:"detailSection"},{children:[(0,_e.jsx)("div",kn({id:"fldCurrentPassword",className:"inputContainer hide"},{children:(0,_e.jsx)(it,{type:"password",id:"txtCurrentPassword",label:"LabelCurrentPassword",options:'autoComplete="off"'})})),(0,_e.jsx)("div",kn({className:"inputContainer"},{children:(0,_e.jsx)(it,{type:"password",id:"txtNewPassword",label:"LabelNewPassword",options:'autoComplete="off"'})})),(0,_e.jsx)("div",kn({className:"inputContainer"},{children:(0,_e.jsx)(it,{type:"password",id:"txtNewPasswordConfirm",label:"LabelNewPasswordConfirm",options:'autoComplete="off"'})})),(0,_e.jsx)("br",{}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)(st,{type:"submit",className:"raised button-submit block",title:"Save"}),(0,_e.jsx)(st,{type:"button",id:"btnResetPassword",className:"raised button-cancel block hide",title:"ResetPassword"})]})]}))})),(0,_e.jsx)("br",{}),(0,_e.jsx)("form",kn({className:"localAccessForm localAccessSection",style:{margin:"0 auto"}},{children:(0,_e.jsxs)("div",kn({className:"detailSection"},{children:[(0,_e.jsx)("div",kn({className:"detailSectionHeader"},{children:P.ZP.translate("HeaderEasyPinCode")})),(0,_e.jsx)("br",{}),(0,_e.jsx)("div",{children:P.ZP.translate("EasyPasswordHelp")}),(0,_e.jsx)("br",{}),(0,_e.jsx)("div",kn({className:"inputContainer"},{children:(0,_e.jsx)(it,{type:"number",id:"txtEasyPassword",label:"LabelEasyPinCode",options:'autoComplete="off" pattern="[0-9]*" step="1" maxlength="5"'})})),(0,_e.jsx)("br",{}),(0,_e.jsxs)("div",kn({className:"checkboxContainer checkboxContainer-withDescription"},{children:[(0,_e.jsx)(dt,{className:"chkEnableLocalEasyPassword",title:"LabelInNetworkSignInWithEasyPassword"}),(0,_e.jsx)("div",kn({className:"fieldDescription checkboxFieldDescription"},{children:P.ZP.translate("LabelInNetworkSignInWithEasyPasswordHelp")}))]})),(0,_e.jsxs)("div",{children:[(0,_e.jsx)(st,{type:"submit",className:"raised button-submit block",title:"Save"}),(0,_e.jsx)(st,{type:"button",id:"btnResetEasyPassword",className:"raised button-cancel block hide",title:"ButtonResetEasyPassword"})]})]}))}))]}))},xn=function(){return xn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},xn.apply(this,arguments)},In=function(){var e=(0,$t.a)("userId"),t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}((0,v.useState)(""),2),n=t[0],r=t[1],a=(0,v.useCallback)((function(){We.ZP.show(),window.ApiClient.getUser(e).then((function(e){if(!e.Name)throw new Error("Unexpected null user.Name");r(e.Name),We.ZP.hide()}))}),[e]);return(0,v.useEffect)((function(){a()}),[a]),(0,_e.jsx)(yt,xn({id:"userPasswordPage",className:"mainAnimatedPage type-interior userPasswordPage"},{children:(0,_e.jsxs)("div",xn({className:"content-primary"},{children:[(0,_e.jsx)("div",xn({className:"verticalSection"},{children:(0,_e.jsx)(rt,{title:n,url:"https://docs.jellyfin.org/general/server/users/"})})),(0,_e.jsx)(Jt,{activeTab:"userpassword"}),(0,_e.jsx)("div",xn({className:"readOnlyContent"},{children:(0,_e.jsx)(Sn,{userId:e})}))]}))}))},Cn=n(1573),Tn=function(){return Tn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Tn.apply(this,arguments)},Ln=function(){var e=(0,$t.a)("userId"),t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}((0,v.useState)(""),2),n=t[0],r=t[1],a=(0,v.useRef)(null),i=(0,v.useCallback)((function(){var t=a.current;t?(We.ZP.show(),window.ApiClient.getUser(e).then((function(e){if(!e.Name)throw new Error("Unexpected null user.Name");if(!e.Id)throw new Error("Unexpected null user.Id");r(e.Name),U.Z.setTitle(e.Name);var n="assets/img/avatar.png";e.PrimaryImageTag&&(n=window.ApiClient.getUserImageUrl(e.Id,{tag:e.PrimaryImageTag,type:"Primary"})),t.querySelector("#image").style.backgroundImage="url("+n+")",F.ZP.getCurrentUser().then((function(n){var r;if(!e.Policy)throw new Error("Unexpected null user.Policy");e.PrimaryImageTag?(t.querySelector("#btnAddImage").classList.add("hide"),t.querySelector("#btnDeleteImage").classList.remove("hide")):I.M.supports("fileinput")&&((null===(r=null==n?void 0:n.Policy)||void 0===r?void 0:r.IsAdministrator)||e.Policy.EnableUserPreferenceAccess)&&(t.querySelector("#btnDeleteImage").classList.add("hide"),t.querySelector("#btnAddImage").classList.remove("hide"))})),We.ZP.hide()}))):console.error("Unexpected null reference")}),[e]);return(0,v.useEffect)((function(){var t=a.current;if(t){i();var n=function(e){var t,n;switch(We.ZP.hide(),null===(n=null===(t=e.target)||void 0===t?void 0:t.error)||void 0===n?void 0:n.code){case DOMException.NOT_FOUND_ERR:(0,Je.Z)(P.ZP.translate("FileNotFound"));break;case DOMException.ABORT_ERR:r();break;default:(0,Je.Z)(P.ZP.translate("FileReadError"))}},r=function(){We.ZP.hide(),(0,Je.Z)(P.ZP.translate("FileReadCancelled"))};t.querySelector("#btnDeleteImage").addEventListener("click",(function(){(0,Pn.Z)(P.ZP.translate("DeleteImageConfirmation"),P.ZP.translate("DeleteImage")).then((function(){We.ZP.show(),window.ApiClient.deleteUserImage(e,Cn._.Primary).then((function(){We.ZP.hide(),i()}))}))})),t.querySelector("#btnAddImage").addEventListener("click",(function(){var e=t.querySelector("#uploadImage");e.value="",e.click()})),t.querySelector("#uploadImage").addEventListener("change",(function(a){!function(a){var o=t.querySelector("#image"),s=a.target.files[0];if(!s||!s.type.match("image.*"))return!1;var l=new FileReader;l.onerror=n,l.onabort=r,l.onload=function(){o.style.backgroundImage="url("+l.result+")",window.ApiClient.uploadUserImage(e,Cn._.Primary,s).then((function(){We.ZP.hide(),i()}))},l.readAsDataURL(s)}(a)}))}else console.error("Unexpected null reference")}),[i,e]),(0,_e.jsx)(yt,Tn({id:"userProfilePage",title:P.ZP.translate("Profile"),className:"mainAnimatedPage libraryPage userPreferencesPage userPasswordPage noSecondaryNavPage"},{children:(0,_e.jsxs)("div",Tn({ref:a,className:"padded-left padded-right padded-bottom-page"},{children:[(0,_e.jsxs)("div",Tn({className:"readOnlyContent",style:{margin:"0 auto",marginBottom:"1.8em",padding:"0 1em",display:"flex",flexDirection:"row",alignItems:"center"}},{children:[(0,_e.jsxs)("div",Tn({className:"imagePlaceHolder",style:{position:"relative",display:"inline-block",maxWidth:200}},{children:[(0,_e.jsx)("input",{id:"uploadImage",type:"file",accept:"image/*",style:{position:"absolute",right:0,width:"100%",height:"100%",opacity:0,cursor:"pointer"}}),(0,_e.jsx)("div",{id:"image",style:{width:200,height:200,backgroundRepeat:"no-repeat",backgroundPosition:"center",borderRadius:"100%",backgroundSize:"cover"}})]})),(0,_e.jsxs)("div",Tn({style:{verticalAlign:"top",margin:"1em 2em",display:"flex",flexDirection:"column",alignItems:"center"}},{children:[(0,_e.jsx)("h2",Tn({className:"username",style:{margin:0,fontSize:"xx-large"}},{children:n})),(0,_e.jsx)("br",{}),(0,_e.jsx)(st,{type:"button",id:"btnAddImage",className:"raised button-submit hide",title:"ButtonAddImage"}),(0,_e.jsx)(st,{type:"button",id:"btnDeleteImage",className:"raised hide",title:"DeleteImage"})]}))]})),(0,_e.jsx)(Sn,{userId:e})]}))}))},En=n(72365),An=n(20990),Zn=n(80632),On=function(){return On=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},On.apply(this,arguments)},jn=function(e){var t=e.user,n=e.renderImgUrl;return{__html:'<a\n        is="emby-linkbutton"\n        class="cardContent"\n        href="#/useredit.html?userId='.concat(t.Id,'"\n        >\n        ').concat(n,"\n    </a>")}},Mn=function(e){var t,n,r,a=e.user,i=void 0===a?{}:a,o="card squareCard scalableCard squareCard-scalable";(null===(t=i.Policy)||void 0===t?void 0:t.IsDisabled)&&(o+=" grayscale"),i.PrimaryImageTag&&i.Id&&(r=window.ApiClient.getUserImageUrl(i.Id,{width:300,tag:i.PrimaryImageTag,type:"Primary"}));var s="cardImage";(null===(n=i.Policy)||void 0===n?void 0:n.IsDisabled)&&(s+=" disabledUser");var l,c=(l=i.LastActivityDate)?P.ZP.translate("LastSeen",(0,An.Z)(Date.parse(l),Zn.mF)):"",u=r?"<div class='".concat(s,"' style='background-image:url(").concat(r,")'></div>"):"<div class='".concat(s," ").concat(Zt.default.getDefaultBackgroundClass(i.Name)," flex align-items-center justify-content-center'>\n            <span class='material-icons cardImageIcon person' aria-hidden='true'></span>\n        </div>");return(0,_e.jsx)("div",On({"data-userid":i.Id,className:o},{children:(0,_e.jsxs)("div",On({className:"cardBox visualCardBox"},{children:[(0,_e.jsxs)("div",On({className:"cardScalable visualCardBox-cardScalable"},{children:[(0,_e.jsx)("div",{className:"cardPadder cardPadder-square"}),(0,_e.jsx)("div",{dangerouslySetInnerHTML:jn({user:i,renderImgUrl:u})})]})),(0,_e.jsxs)("div",On({className:"cardFooter visualCardBox-cardFooter"},{children:[(0,_e.jsx)("div",On({style:{textAlign:"right",float:"right",paddingTop:"5px"}},{children:(0,_e.jsx)(Ke,{is:"paper-icon-button-light",className:"btnUserMenu flex-shrink-zero",icon:"more_vert"})})),(0,_e.jsx)("div",On({className:"cardText"},{children:(0,_e.jsx)("span",{children:ct()(i.Name)})})),(0,_e.jsx)("div",On({className:"cardText cardText-secondary"},{children:(0,_e.jsx)("span",{children:""!=c?c:""})}))]}))]}))}))},Nn=(n(46650),n(70739),function(){return Nn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Nn.apply(this,arguments)}),Dn=function(){var e=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}((0,v.useState)([]),2),t=e[0],r=e[1],a=(0,v.useRef)(null),i=function(){We.ZP.show(),window.ApiClient.getUsers().then((function(e){r(e),We.ZP.hide()}))};return(0,v.useEffect)((function(){var e=a.current;if(e){i();e.addEventListener("click",(function(e){var t=En.ZP.parentWithClass(e.target,"btnUserMenu");t&&function(e){var t=En.ZP.parentWithClass(e,"card"),r=t.getAttribute("data-userid");if(r){var a=[];a.push({name:P.ZP.translate("ButtonOpen"),id:"open",icon:"mode_edit"}),a.push({name:P.ZP.translate("ButtonLibraryAccess"),id:"access",icon:"lock"}),a.push({name:P.ZP.translate("ButtonParentalControl"),id:"parentalcontrol",icon:"person"}),a.push({name:P.ZP.translate("Delete"),id:"delete",icon:"delete"}),Promise.resolve().then(n.bind(n,27074)).then((function(e){e.default.show({items:a,positionTo:t,callback:function(e){switch(e){case"open":F.ZP.navigate("useredit.html?userId="+r);break;case"access":F.ZP.navigate("userlibraryaccess.html?userId="+r);break;case"parentalcontrol":F.ZP.navigate("userparentalcontrol.html?userId="+r);break;case"delete":!function(e){var t=P.ZP.translate("DeleteUserConfirmation");(0,Pn.Z)({title:P.ZP.translate("DeleteUser"),text:t,confirmText:P.ZP.translate("Delete"),primary:"delete"}).then((function(){We.ZP.show(),window.ApiClient.deleteUser(e).then((function(){i()}))}))}(r)}}})}))}else console.error("Unexpected null user id")}(t)})),e.querySelector("#btnAddUser").addEventListener("click",(function(){F.ZP.navigate("usernew.html")}))}else console.error("Unexpected null reference")}),[]),(0,_e.jsx)(yt,Nn({id:"userProfilesPage",className:"mainAnimatedPage type-interior userProfilesPage fullWidthContent"},{children:(0,_e.jsxs)("div",Nn({ref:a,className:"content-primary"},{children:[(0,_e.jsx)("div",Nn({className:"verticalSection"},{children:(0,_e.jsx)(rt,{title:P.ZP.translate("HeaderUsers"),isBtnVisible:!0,btnId:"btnAddUser",btnClassName:"fab submit sectionTitleButton",btnTitle:"ButtonAddUser",btnIcon:"add",url:"https://docs.jellyfin.org/general/server/users/adding-managing-users.html"})})),(0,_e.jsx)("div",Nn({className:"localUsers itemsContainer vertical-wrap"},{children:t.map((function(e){return(0,_e.jsx)(Mn,{user:e},e.Id)}))}))]}))}))},Rn=n(67345),_n=(n(15112),function(){return _n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},_n.apply(this,arguments)}),qn=function(e){var t=(0,v.useRef)(),r=(0,v.useRef)(parseInt(e.tab||(0).toString())),a=(0,v.useMemo)((function(){return[]}),[]),i=(0,v.useRef)(r.current),o=(0,v.useRef)(null),s=function(){return[{name:P.ZP.translate("Home")},{name:P.ZP.translate("Favorites")}]},l=function(){var e;return null===(e=o.current)||void 0===e?void 0:e.querySelectorAll(".tabContent")},c=(0,v.useCallback)((function(t){if(null==t)throw new Error("index cannot be null");var r="";switch(t){case 0:r="hometab";break;case 1:r="favorites"}return n(23935)("./".concat(r)).then((function(n){var r,i=n.default,s=a[t];return s||(s=new i(null===(r=o.current)||void 0===r?void 0:r.querySelector(".tabContent[data-index='"+t+"']"),e),a[t]=s),s}))}),[e,a]),u=(0,v.useCallback)((function(){a&&a.forEach((function(e){e.destroy&&e.destroy()})),t.current=null,i.current=null}),[a]),d=(0,v.useCallback)((function(e,n){c(e).then((function(a){var i=!a.refreshed;a.onResume({autoFocus:null==n&&Ct.Z.tv,refresh:i}),a.refreshed=!0,r.current=e,t.current=a}))}),[c]),f=(0,v.useCallback)((function(e){var t=parseInt(e.detail.selectedTabIndex),n=e.detail.previousIndex,r=null==n?null:a[n];r&&r.onPause&&r.onPause(),d(t,n)}),[d,a]),h=(0,v.useCallback)((function(){U.Z.setTitle(null),(0,ee.rs)();var e=t.current;e?e&&e.onResume&&e.onResume({}):Rn.selectedTabIndex(i.current),document.querySelector(".skinHeader").classList.add("noHomeButtonHeader")}),[]),p=(0,v.useCallback)((function(){var e=t.current;e&&e.onPause&&e.onPause(),document.querySelector(".skinHeader").classList.remove("noHomeButtonHeader")}),[]);return(0,v.useEffect)((function(){return Rn.setTabs(o.current,r.current,s,l,null,f,!1),h(),function(){p(),u()}}),[p,h,f,u]),(0,_e.jsx)("div",_n({ref:o},{children:(0,_e.jsxs)(yt,_n({id:"indexPage",className:"mainAnimatedPage homePage libraryPage allLibraryPage backdropPage pageWithAbsoluteTabs withTabs",isBackButtonEnabled:!1,backDropType:"movie,series,book"},{children:[(0,_e.jsx)("div",_n({className:"tabContent pageTabContent",id:"homeTab","data-index":"0"},{children:(0,_e.jsx)("div",{className:"sections"})})),(0,_e.jsx)("div",_n({className:"tabContent pageTabContent",id:"favoritesTab","data-index":"1"},{children:(0,_e.jsx)("div",{className:"sections"})}))]}))}))},Bn=function(){return Bn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Bn.apply(this,arguments)},Fn=function(){return(0,_e.jsx)(qe.Z5,{children:(0,_e.jsxs)(qe.AW,Bn({path:"/"},{children:[(0,_e.jsxs)(qe.AW,Bn({path:"/",element:(0,_e.jsx)(Xe,{})},{children:[(0,_e.jsx)(qe.AW,{path:"search.html",element:(0,_e.jsx)(Gt,{})}),(0,_e.jsx)(qe.AW,{path:"userprofile.html",element:(0,_e.jsx)(Ln,{})}),(0,_e.jsx)(qe.AW,{path:"home.html",element:(0,_e.jsx)(qn,{})})]})),(0,_e.jsxs)(qe.AW,Bn({path:"/",element:(0,_e.jsx)(Xe,{isAdminRequired:!0})},{children:[(0,_e.jsx)(qe.AW,{path:"usernew.html",element:(0,_e.jsx)(bt,{})}),(0,_e.jsx)(qe.AW,{path:"userprofiles.html",element:(0,_e.jsx)(Dn,{})}),(0,_e.jsx)(qe.AW,{path:"useredit.html",element:(0,_e.jsx)(an,{})}),(0,_e.jsx)(qe.AW,{path:"userlibraryaccess.html",element:(0,_e.jsx)(cn,{})}),(0,_e.jsx)(qe.AW,{path:"userparentalcontrol.html",element:(0,_e.jsx)(wn,{})}),(0,_e.jsx)(qe.AW,{path:"userpassword.html",element:(0,_e.jsx)(In,{})})]})),(0,_e.jsx)(qe.AW,{path:"*",element:null})]}))})};function Un(e){return Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Un(e)}function zn(){zn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,i=Object.create(a.prototype),o=new S(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=w(o,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function f(){}function h(){}var p={};s(p,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(x([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=h.prototype=d.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(a,i,o,s){var l=c(e[a],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==Un(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,s)}))}s(l.arg)}var a;this._invoke=function(e,n){function i(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return f.prototype=h,s(v,"constructor",h),s(h,"constructor",f),f.displayName=s(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,o,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),s(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new b(l(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),s(v,o,"Generator"),s(v,a,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function Hn(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function Vn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Hn(i,r,a,o,s,"next",e)}function s(e){Hn(i,r,a,o,s,"throw",e)}o(void 0)}))}}function Wn(){return Gn.apply(this,arguments)}function Gn(){return Gn=Vn(zn().mark((function e(){var t,r,a,i,o,s;return zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.debug("begin onAppReady"),console.debug("onAppReady: loading dependencies"),k.Z.iOS&&n.e(2968).then(n.bind(n,62968)),b.Events.on(I.M,"resume",(function(){var e;null===(e=w.Z.currentApiClient())||void 0===e||e.ensureWebSocket()})),e.next=6,_.appRouter.start();case 6:g.render(v.createElement(Ue,{history:_.history},v.createElement(Fn,null)),document.getElementById("reactRoot")),k.Z.tv||k.Z.xboxOne||k.Z.ps4||Promise.all([n.e(9337),n.e(5249)]).then(n.bind(n,85249)),I.M.supports("remotecontrol")&&(Promise.resolve().then(n.bind(n,68156)),n.e(9938).then(n.bind(n,39938))),I.M.supports("physicalvolumecontrol")&&!k.Z.touch||n.e(2262).then(n.bind(n,2262)),(navigator.mediaSession||window.NativeShell)&&n.e(3441).then(n.bind(n,33441)),k.Z.tv||k.Z.xboxOne||(n.e(777).then(n.bind(n,90777)),Qn(),window.Notification&&n.e(2950).then(n.bind(n,17149))),(t=w.Z.currentApiClient())&&(r=function(e){var t=document.querySelector("#cssBranding");t||((t=document.createElement("style")).id="cssBranding",document.body.appendChild(t)),t.textContent=e},a=fetch(t.getUrl("Branding/Css")).then((function(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()})).catch((function(e){console.warn("Error applying custom css",e)})),i=function(){var e=Vn(zn().mark((function e(){var t,n;return zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!q.currentSettings.disableCustomCss()){e.next=4;break}r(""),e.next=9;break;case 4:return e.t0=r,e.next=7,a;case 7:e.t1=e.sent,(0,e.t0)(e.t1);case 9:t=q.currentSettings.customCss(),n=document.querySelector("#localCssBranding"),t?(n||((n=document.createElement("style")).id="localCssBranding",document.body.appendChild(n)),n.textContent=t):n&&(n.textContent="");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=P.ZP.getCurrentLocale();document.documentElement.setAttribute("lang",e)},s=function(){i(),o()},b.Events.on(w.Z,"localusersignedin",s),b.Events.on(w.Z,"localusersignedout",s),b.Events.on(q.currentSettings,"change",(function(e,t){"disableCustomCss"==t||"customCss"==t?i():"language"==t&&o()})),a.then(r));case 14:case"end":return e.stop()}}),e)}))),Gn.apply(this,arguments)}function Qn(){navigator.serviceWorker&&"cordova"!==window.appMode&&"android"!==window.appMode?navigator.serviceWorker.register("serviceworker.js").then((function(){return console.log("serviceWorker registered")})).catch((function(e){return console.log("error registering serviceWorker: "+e)})):console.warn("serviceWorker unsupported")}window.Events=b.Events,window.TaskButton=Re.Z,(0,F.yN)().then((function(e){e&&w.Z.initApiClient(e)})).then((function(){var e;console.debug("initAfterDependencies promises resolved"),(e=["af","ar","be-by","bg-bg","bn_bd","ca","cs","cy","da","de","el","en-gb","en-us","eo","es","es-419","es-ar","es_do","es-mx","et","fa","fi","fil","fr","fr-ca","gl","gsw","he","hi-in","hr","hu","id","it","ja","kk","ko","lt-lt","lv","mr","ms","nb","nl","nn","pl","pr","pt","pt-br","pt-pt","ro","ru","sk","sl-si","sq","sv","ta","th","tr","uk","ur_pk","vi","zh-cn","zh-hk","zh-tw"].map((function(e){return{lang:e,path:e+".json"}})),P.ZP.defaultModule("core"),P.ZP.loadStrings({name:"core",translations:e})).then((function(){!function(){if("android"===window.appMode&&-1!==window.location.href.toString().toLowerCase().indexOf("start=backgroundsync"))return Wn();document.title=P.ZP.translateHtml(document.title,"core"),k.Z.tv&&!k.Z.android?(console.debug("using system fonts with explicit sizes"),n.e(9789).then(n.bind(n,59789))):(console.debug("using default fonts"),Promise.all([n.e(3884),n.e(4333)]).then(n.bind(n,54333))),n.e(6078).then(n.bind(n,26078)),(console.groupCollapsed("loading installed plugins"),console.dir(T.E),(0,C.uM)().then((function(e){I.M.supports("remotecontrol")?k.Z.chrome||k.Z.edgeChromium||k.Z.opera||(e=e.filter((function(e){return!e.startsWith("chromecastPlayer")}))):e=e.filter((function(e){return!e.startsWith("sessionPlayer")&&!e.startsWith("chromecastPlayer")})),window.NativeShell&&(e=e.concat(window.NativeShell.getPlugins())),Promise.all(e.map((function(e){return T.E.loadPlugin(e)}))).then((function(){return console.debug("finished loading plugins")})).catch((function(e){return console.warn("failed loading plugins",e)})).finally((function(){console.groupEnd("loading installed plugins"),R.init()}))}))).then((function(){!function(){se.Z.PlayerFactory.setDefaultWrapper(Pe),se.Z.PlayerFactory.registerWrapper(Ae),se.Z.PlayerFactory.registerWrapper(De),b.Events.on(Y.O,"playerchange",(function(e,t,n,r){se.Z.Manager.onPlayerChange(t,n,r)}));var e=w.Z.currentApiClient();e&&se.Z.Manager.init(e),b.Events.on(w.Z,"apiclientcreated",(function(e,t){return se.Z.Manager.init(t)})),b.Events.on(w.Z,"localusersignedin",(function(){return se.Z.Manager.updateApiClient(w.Z.currentApiClient())})),b.Events.on(w.Z,"localusersignedout",(function(){return se.Z.Manager.updateApiClient(w.Z.currentApiClient())}))}(),Wn()}))}()})),S.ZP.enable(),x.default.enable(),b.Events.on(w.Z,"localusersignedin",P.ZP.updateCurrentCulture)})),(0,F.RW)("viewshow","standalonePage",(function(){document.querySelector(".skinHeader").classList.add("noHeaderRight")})),(0,F.RW)("viewhide","standalonePage",(function(){document.querySelector(".skinHeader").classList.remove("noHeaderRight")}))},5607:function(e,t,n){"use strict";n(98010),n(63238),n(76056);var r=n(47005),a=n(44038),i=n(94994),o=(n(38228),n(18613));t.Z=function(e){function t(){o.Z.getApiClient(f).getScheduledTasks({IsEnabled:!0}).then(n)}function n(t){var n=t.filter((function(t){return t.Key==e.taskKey}))[0];if(e.panel&&(n?e.panel.classList.remove("hide"):e.panel.classList.add("hide")),n){"Idle"==n.State?d.removeAttribute("disabled"):d.setAttribute("disabled","disabled"),d.setAttribute("data-taskid",n.Id);var r=(n.CurrentProgressPercentage||0).toFixed(1);if(e.progressElem&&(e.progressElem.value=r,"Running"==n.State?e.progressElem.classList.remove("hide"):e.progressElem.classList.add("hide")),e.lastResultElem){var a=n.LastExecutionResult?n.LastExecutionResult.Status:"";"Failed"==a?e.lastResultElem.html('<span style="color:#FF0000;">('+i.ZP.translate("LabelFailed")+")</span>"):"Cancelled"==a?e.lastResultElem.html('<span style="color:#0026FF;">('+i.ZP.translate("LabelCancelled")+")</span>"):"Aborted"==a?e.lastResultElem.html('<span style="color:#FF0000;">'+i.ZP.translate("LabelAbortedByServerShutdown")+"</span>"):e.lastResultElem.html(a)}}}function s(){var e;e=this.getAttribute("data-taskid"),o.Z.getApiClient(f).startScheduledTask(e).then(t)}function l(e,t,r){t.serverId()===f&&n(r)}var c,u,d=e.button,f=ApiClient.serverId();e.panel&&e.panel.classList.add("hide"),"off"==e.mode?(d.removeEventListener("click",s),r.Events.off(a.default,"ScheduledTasksInfo",l),o.Z.getApiClient(f).sendMessage("ScheduledTasksInfoStop"),c&&clearInterval(c)):(d.addEventListener("click",s),t(),u=o.Z.getApiClient(f),c&&clearInterval(c),u.sendMessage("ScheduledTasksInfoStart","1000,1000"),c=setInterval((function(){o.Z.getApiClient(f).isMessageChannelOpen()||t()}),5e3),r.Events.on(a.default,"ScheduledTasksInfo",l))}},45220:function(e,t,n){"use strict";n(52327),n(63238),n(61418);var r,a=n(58886),i=document.querySelector("#cssTheme");function o(){return(0,a.RC)()}t.Z={getThemes:o,setTheme:function(e){return new Promise((function(t){r&&r===e?t():function(e){return o().then((function(t){var n;return e&&(n=t.find((function(t){return t.id===e}))),n||(n=(0,a.Vx)()),{stylesheetPath:"themes/"+n.id+"/theme.css",themeId:n.id,color:n.color}}))}(e).then((function(e){if(r&&r===e.themeId)t();else{var n=e.stylesheetPath;i&&(i.removeAttribute("href"),r=null);var a=i;a||((a=document.createElement("link")).id="cssTheme",a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),document.body.appendChild(a)),a.addEventListener("load",(function e(n){n.target.removeEventListener("load",e),t()})),a.setAttribute("href",n),i=a,r=e.themeId,document.getElementById("themeColor").content=e.color}}))}))}}},60635:function(e,t,n){"use strict";n.d(t,{RW:function(){return x},Xz:function(){return I},yN:function(){return P}}),n(48410),n(63238),n(61418),n(58112),n(90938),n(61013),n(5769),n(17460),n(14078),n(98010),n(52327),n(25901),n(92189),n(91047),n(98521),n(6798),n(82923),n(21897),n(99785),n(12274),n(55849),n(50987),n(60190),n(72410);var r=n(18613),a=n(29016),i=n(51161),o=n(52050),s=n(37099),l=n(3137),c=n(94994),u=n(58886),d=n(61693),f=n(76449),h=n(19403),p=n(48102),m=n(9599),y=n(85951);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function g(){g=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,i=Object.create(a.prototype),o=new I(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function f(){}function h(){}var p={};s(p,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(C([])));y&&y!==t&&n.call(y,a)&&(p=y);var b=h.prototype=d.prototype=Object.create(p);function w(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(a,i,o,s){var l=c(e[a],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==v(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,s)}))}s(l.arg)}var a;this._invoke=function(e,n){function i(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(i,i):i()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=h,s(b,"constructor",h),s(h,"constructor",f),f.displayName=s(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(P.prototype),s(P.prototype,i,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new P(l(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),s(b,o,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function b(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){b(i,r,a,o,s,"next",e)}function s(e){b(i,r,a,o,s,"throw",e)}o(void 0)}))}}function P(){return k.apply(this,arguments)}function k(){return k=w(g().mark((function e(){var t,n,r,a,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=window.ApiClient)){e.next=3;break}return e.abrupt("return",Promise.resolve(t.serverAddress()));case 3:return e.next=5,u.MC();case 5:if(0!==(n=e.sent).length){e.next=12;break}if(a=window.location.href.toLowerCase().lastIndexOf("/web"),!(r=-1!=a?window.location.href.substring(0,a):window.location.origin).startsWith("file:")){e.next=11;break}return e.abrupt("return",Promise.resolve());case 11:n.push(r);case 12:return console.debug("URL candidates:",n),i=n.map((function(e){return fetch("".concat(e,"/System/Info/Public")).then(function(){var t=w(g().mark((function t(n){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.ok){t.next=2;break}return t.abrupt("return");case 2:return t.t0=e,t.next=5,n.json();case 5:return t.t1=t.sent,t.abrupt("return",{url:t.t0,config:t.t1});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.error(e)}))})),e.abrupt("return",Promise.all(i).then((function(e){return e.filter((function(e){return null==e?void 0:e.config}))})).then((function(e){var t=e.find((function(e){return!e.config.StartupWizardCompleted}))||e[0];return null==t?void 0:t.url})).catch((function(e){console.error(e)})));case 15:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function S(e,t){if(!e)throw new Error("url cannot be null or empty");var n=(0,y.z)();return t&&n&&(e+=n),o.appRouter.show(e)}var x=function(e,t,n){document.addEventListener(e,(function(e){var r=e.target;r.classList.contains(t)&&n.call(r,e)}))},I=function(e,t,n){document.addEventListener(e,(function(e){var r=e.target;r.id===t&&n.call(r,e)}))},C={alert:function(e){"string"==typeof e?(0,a.Z)({text:e}):(0,s.Z)({title:e.title||c.ZP.translate("HeaderAlert"),text:e.message}).then(e.callback||function(){})},capabilities:function(e){return Object.assign({PlayableMediaTypes:["Audio","Video"],SupportedCommands:["MoveUp","MoveDown","MoveLeft","MoveRight","PageUp","PageDown","PreviousLetter","NextLetter","ToggleOsd","ToggleContextMenu","Select","Back","SendKey","SendString","GoHome","GoToSettings","VolumeUp","VolumeDown","Mute","Unmute","ToggleMute","SetVolume","SetAudioStreamIndex","SetSubtitleStreamIndex","DisplayContent","GoToSearch","DisplayMessage","SetRepeatMode","SetShuffleQueue","ChannelUp","ChannelDown","PlayMediaSource","PlayTrailers"],SupportsPersistentIdentifier:"cordova"===window.appMode||"android"===window.appMode,SupportsMediaControl:!0},e.getPushTokenInfo())},confirm:function(e,t,n){(0,l.Z)(e,t).then((function(){n(!0)})).catch((function(){n(!1)}))},getPluginUrl:function(e){return"configurationpage?name="+encodeURIComponent(e)},getConfigurationResourceUrl:function(e){return ApiClient.getUrl("web/ConfigurationPage",{name:e})},getCurrentUser:function(){return window.ApiClient.getCurrentUser(!1)},getCurrentUserId:function(){var e=window.ApiClient;return e?e.getCurrentUserId():null},hideLoadingMsg:function(){i.ZP.hide()},logout:function(){r.Z.logout().then((function(){u.IY().then((function(e){S(e?"selectserver.html":"login.html")}))}))},navigate:S,onServerChanged:function(e,t,n){r.Z.setLocalApiClient(n)},processErrorResponse:function(e){i.ZP.hide();var t=""+e.status;e.statusText&&(t=e.statusText),(0,s.Z)({title:t,text:e.headers?e.headers.get("X-Application-Error-Code"):null})},processPluginConfigurationUpdateResult:function(){i.ZP.hide(),(0,a.Z)(c.ZP.translate("SettingsSaved"))},processServerConfigurationUpdateResult:function(){i.ZP.hide(),(0,a.Z)(c.ZP.translate("SettingsSaved"))},selectServer:function(){window.NativeShell&&"function"==typeof window.NativeShell.selectServer?window.NativeShell.selectServer():S("selectserver.html")},serverAddress:P,showLoadingMsg:function(){i.ZP.show()},datetime:d.ZP,DirectoryBrowser:h.default,dialogHelper:p.default,itemIdentifier:m.default,setBackdropTransparency:f.G2};window.Dashboard=C,t.ZP=C},64022:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,".dashboardColumn,.dashboardSections{-webkit-flex-direction:column;flex-direction:column}.dashboardFooter{margin-top:3.5em;text-align:center}.dashboardFooter a{margin:0 .7em}progress{appearance:none;-moz-appearance:none;-webkit-appearance:none;background:#ccc!important;margin:0}progress[role]:after{background-image:none}progress::-webkit-progress-bar{background:#ccc}progress::-moz-progress-bar{background-color:#00a4dc}progress::-webkit-progress-value{background-color:#00a4dc}progress[aria-valuenow]:before{background-color:#00a4dc;border-radius:.4em}.localnav{margin-bottom:2.2em!important}@media (min-width:50em){.type-interior>.ui-panel-content-wrap>div[data-role=content],.type-interior>div[data-role=content]{overflow:hidden;padding-left:0;padding-right:0;padding-top:0}}.dashboardDocument .dashboardEntryHeaderButton,.dashboardDocument .lnkManageServer{display:none!important}.adminDrawerLogo{display:none}.layout-mobile .adminDrawerLogo{border-bottom:1px solid #e0e0e0;display:block;margin-bottom:1em;padding:1.5em 1em 1.2em}.adminDrawerLogo img{height:4em}a[data-role=button]{-webkit-font-smoothing:antialiased;background:#292929!important;background-clip:padding-box;-webkit-background-clip:padding-box;cursor:pointer!important;display:inline-block;font-family:inherit!important;font-weight:500!important;margin:0 .25em!important;padding:.8em 1em;text-align:center;text-decoration:none!important;-webkit-user-select:none}div[data-role=controlgroup] a[data-role=button]{border-radius:0;box-shadow:none!important;display:inline-block!important;margin:0!important}div[data-role=controlgroup] a[data-role=button]:first-child{border-bottom-left-radius:.3125em;border-top-left-radius:.3125em}div[data-role=controlgroup] a[data-role=button]:last-child{border-bottom-right-radius:.3125em;border-top-right-radius:.3125em}div[data-role=controlgroup] a[data-role=button]+a[data-role=button]{border-left-width:0!important;margin:0 0 0 -.4em!important}div[data-role=controlgroup] a.ui-btn-active{background:#00a4dc!important;color:#292929!important}.sessionAppInfo img{margin-right:8px;max-height:2.5em;max-width:2.5em}.appLinks img{height:36px}.wizardContent h2 img{height:2.5em;margin-right:.5em;position:relative;top:-.3em;vertical-align:middle}.header .imageLink{display:inline-block}.header .imageLink img{height:2.1em;vertical-align:middle}.content-primary{padding-left:1em;padding-right:1em;padding-top:6em}.withTabs .content-primary{padding-top:9em!important}@media (min-width:40em){.content-primary{padding-top:4.6em}.withTabs .content-primary{padding-top:10em!important}}@media (min-width:84em){.withTabs .content-primary{padding-top:7em!important}}.content-primary ul:first-child{margin-top:0}.dashboardColumn,.dashboardSections{display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column}.dashboardColumn{-webkit-flex-grow:1;flex-grow:1;-webkit-flex-shrink:0;flex-shrink:0}.dashboardActionsContainer{margin:1em -.3em 0}.sessionNowPlayingContent{background-position:50%;background-repeat:no-repeat;background-size:cover;border-radius:.2em;bottom:0;left:0;position:absolute;right:0;top:0}.activeSession:not(.playingSession) .sessionNowPlayingContent{display:none}.dashboardSection{-webkit-flex-shrink:0;flex-shrink:0;margin:0 0 2em}.dashboardSection h3{margin-bottom:.5em;margin-top:.5em}.dashboardSection .sectionTitleTextButton>.material-icons.material-icons{font-size:1.17em;margin-bottom:.5em;margin-top:.5em;padding-top:0}.activeRecordingItems>.card{width:50%}.localUsers .cardText-secondary{height:3em;white-space:pre-wrap}.customCssContainer textarea{resize:none}@media (min-width:70em){.dashboardSections{-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;flex-wrap:wrap}.dashboardColumn-2-60{-webkit-flex-grow:2;flex-grow:2}.dashboardSection{padding:0 1.5em}.activeRecordingItems>.card{width:25%}}.wizardContent{background:#fff;margin:0 auto;max-width:62em;padding:.5em 2em 1em}.wizardNavigation{text-align:right}.wizardContent form{max-width:100%}.scheduledTaskPaperIconItem{outline:0!important}.activeSession{min-width:20rem;width:100%!important}.activitylogUserPhoto{background-position:50%;background-repeat:no-repeat;background-size:cover;border-radius:100%;height:1.71em;margin-right:.5em;width:1.71em}@media (min-width:50em){.activeSession{-webkit-flex-basis:50%;flex-basis:50%;-webkit-flex-grow:0;flex-grow:0;-webkit-flex-shrink:0;flex-shrink:0;max-width:25rem}}.sessionCardFooter{padding-bottom:1em!important;padding-top:.5em!important;position:relative;text-align:center}.sessionAppInfo{-webkit-flex-grow:1;flex-grow:1;overflow:hidden;padding:.5em}.sessionCardButtons{min-height:2.7em}.sessionCardButton{margin:0}.sessionNowPlayingInnerContent{bottom:0;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;font-weight:400;left:0;position:absolute;right:0;top:0}.darkenContent{background:rgba(0,0,0,.7);color:#ddd}.sessionAppName{max-width:200px;vertical-align:top}.sessionNowPlayingDetails{display:-webkit-flex;display:flex}.sessionNowPlayingInfo{-webkit-flex-grow:1;flex-grow:1;padding:.8em .5em;text-overflow:ellipsis}.sessionNowPlayingTime{-webkit-align-self:flex-end;align-self:flex-end;-webkit-flex-shrink:0;flex-shrink:0;padding:.8em .5em;text-overflow:ellipsis}.playbackProgress,.transcodingProgress{background:transparent!important;margin:0;width:100%}.activeDevices.itemsContainer{margin:-.6em}.activeSession .backgroundProgress,.activeSession .playbackProgress,.activeSession .transcodingProgress{bottom:0;height:6px;left:0;position:absolute;right:0;width:100%}.playbackProgress>div{background-color:#00a4dc;z-index:1000}.transcodingProgress>div{background-color:#dd4919;z-index:10}.backgroundProgress>div{background-color:#303030}@media (max-width:34.375em){.sessionAppName{max-width:160px}}@media (max-width:31.25em){.sessionAppName{max-width:150px}}.disabledUser{-webkit-filter:grayscale(100%);filter:grayscale(100%)}.disabledUserBanner{margin:0 0 2em}.appLinks a{text-decoration:none!important}.appLinks a+a{margin-left:5px}@-webkit-keyframes rotating{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes rotating{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.rotatingCircle{-webkit-animation:rotating 2s linear infinite;animation:rotating 2s linear infinite}.pluginPreviewImg{box-shadow:0 .0725em .29em 0 rgba(0,0,0,.37)}.ui-bar-a{padding:0 20px;text-align:center}",""]),t.Z=o},75240:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,".detailTableBodyCell,.detailTableHeaderCell{border-spacing:0;padding:.4em}.detailTable{border-collapse:collapse;border-spacing:0;margin:0 auto;text-align:left;width:100%}.detailTableHeaderCell{font-weight:700;text-align:left;vertical-align:top}",""]),t.Z=o},49672:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,".flex{display:-webkit-flex;display:flex}.inline-flex{display:-webkit-inline-flex;display:inline-flex}.flex-direction-column{-webkit-flex-direction:column;flex-direction:column}.flex-direction-row{-webkit-flex-direction:row;flex-direction:row}.flex-grow{-webkit-flex-grow:1;flex-grow:1}.flex-shrink-zero{-webkit-flex-shrink:0;flex-shrink:0}.align-items-center{-webkit-align-items:center;align-items:center}.align-items-flex-start{-webkit-align-items:flex-start;align-items:flex-start}.align-items-flex-end{-webkit-align-items:flex-end;align-items:flex-end}.justify-content-center{-webkit-justify-content:center;justify-content:center}.justify-content-flex-end{-webkit-justify-content:flex-end;justify-content:flex-end}.justify-content-space-between{-webkit-justify-content:space-between;justify-content:space-between}.flex-wrap-wrap{-webkit-flex-wrap:wrap;flex-wrap:wrap}.align-self-flex-end{-webkit-align-self:flex-end;align-self:flex-end}",""]),t.Z=o},38927:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,".guideVerticalScroller{padding-bottom:15em}@media (min-width:62.5em){#guideTab{padding-left:.5em}}#channelsTab .cardImageContainer{background-size:contain}",""]),t.Z=o},56665:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,".scrollX{-webkit-overflow-scrolling:touch;overflow-x:auto;overflow-y:hidden;white-space:nowrap}.smoothScrollX{scroll-behavior:smooth}.hiddenScrollX,.layout-tv .scrollX{-ms-overflow-style:none;scrollbar-width:none}.hiddenScrollX-forced{overflow:-moz-scrollbars-none}.hiddenScrollX::-webkit-scrollbar,.layout-tv .scrollX::-webkit-scrollbar{display:none;height:0!important}.scrollY,.smoothScrollY{-webkit-overflow-scrolling:touch;overflow-x:hidden;overflow-y:auto}.smoothScrollY{scroll-behavior:smooth}.hiddenScrollY,.layout-tv .smoothScrollY{-ms-overflow-style:none;scrollbar-width:none}.hiddenScrollY-forced{overflow:-moz-scrollbars-none}.hiddenScrollY::-webkit-scrollbar,.layout-tv .scrollY::-webkit-scrollbar,.layout-tv .smoothScrollY::-webkit-scrollbar{display:none;width:0!important}",""]),t.Z=o},68557:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,'html{height:100%;line-height:1.35;margin:0;padding:0}body{-webkit-font-smoothing:antialiased;background-color:transparent!important;height:100%;margin:0;overflow-x:hidden;padding:0}.clipForScreenReader{clip:rect(1px,1px,1px,1px);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.material-icons{-webkit-font-feature-settings:"liga";font-feature-settings:"liga"}.backgroundContainer{bottom:0;contain:strict;left:0;position:fixed;right:0;top:0}.layout-mobile,.layout-tv{-webkit-touch-callout:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.mainAnimatedPage{contain:style size!important}.pageContainer{overflow-x:visible!important}.bodyWithPopupOpen{overflow-y:hidden!important}div[data-role=page]{outline:0}.pageTitle{font-family:inherit;margin-top:0}.fieldDescription{font-weight:400;padding-left:.15em;white-space:normal!important}.fieldDescription+.fieldDescription{margin-top:.3em}.content-primary,.padded-bottom-page,.page,.pageWithAbsoluteTabs .pageTabContent{padding-bottom:calc(env(safe-area-inset-bottom) + 5em)!important}@media (min-width:50em){.readOnlyContent,form{max-width:54em}}.headerHelpButton{margin-left:1.25em!important;padding-bottom:.4em!important;padding-top:.4em!important}.mediaInfoContent{margin-left:auto;margin-right:auto;width:85%}.headroom{transition:-webkit-transform .2s linear;transition:transform .2s linear;transition:transform .2s linear,-webkit-transform .2s linear;will-change:transform}.headroom--pinned{-webkit-transform:translateY(0);transform:translateY(0)}.headroom--unpinned{-webkit-transform:translateY(-100%);transform:translateY(-100%)}.drawerContent{padding-bottom:4em}.force-scroll{overflow-y:scroll}.hide-scroll{overflow-y:hidden}.w-100{width:100%}.margin-auto-x{margin-left:auto;margin-right:auto}.margin-auto-y{margin-bottom:auto;margin-top:auto}',""]),t.Z=o},11663:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,".actionSheet{border:none;border-radius:.1em!important;display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;max-height:84%;padding:0}.actionsheet-not-fullscreen{max-height:90%;max-width:90%}.actionsheet-fullscreen{border-radius:0!important;max-height:none}.actionSheetContent-centered{-webkit-align-items:center;align-items:center;text-align:center}.actionSheetContent{display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;-webkit-flex-grow:1;flex-grow:1;-webkit-justify-content:center;justify-content:center;margin:0!important;overflow:hidden;padding:.4em 0!important}.actionSheetMenuItem{border-radius:0;box-shadow:none;-webkit-flex-shrink:0;flex-shrink:0;font-weight:inherit;margin:0}.actionSheetMenuItem:focus{-webkit-transform:none!important;transform:none!important}.actionsheetListItemBody{padding:.4em 1em .4em .6em!important}.actionSheetItemText{display:-webkit-flex;display:flex;-webkit-flex-grow:1;flex-grow:1;-webkit-justify-content:flex-start;justify-content:flex-start;overflow:hidden;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.actionSheetItemAsideText{display:-webkit-flex;display:flex;-webkit-flex-shrink:0;flex-shrink:0;font-size:90%;-webkit-justify-content:flex-end;justify-content:flex-end;margin-left:5em;margin-right:.5em;opacity:.7}.actionSheetScroller{display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;margin-bottom:0!important;width:100%}.actionSheetScroller-tv{max-height:64%;max-width:60%;width:auto}.actionsheetDivider{-webkit-flex-shrink:0;flex-shrink:0;height:.07em;margin:.25em 0}.actionSheetTitle{margin:.6em 0 .7em!important}.actionSheetText,.actionSheetTitle{-webkit-flex-grow:0;flex-grow:0;padding:0 .75rem}.actionSheetText{margin-top:0}.actionsheetMenuItemIcon{margin:0 .85em 0 .45em!important;padding:0!important}.actionsheet-xlargeFont{font-size:112%!important}.btnCloseActionSheet{left:.5em;position:fixed;top:.75em}",""]),t.Z=o},63421:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,".alphaPicker{-webkit-align-self:center;align-self:center;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;text-align:center}.alphaPicker-vertical{line-height:1}.alphaPicker-fixed{bottom:5.5em;bottom:max(env(safe-area-inset-bottom),5.5em);position:fixed}.alphaPickerRow{-webkit-align-items:center;align-items:center;display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-justify-content:center;justify-content:center}.alphaPickerRow-vertical{-webkit-flex-direction:column;flex-direction:column}.alphaPickerButton{border:0!important;border-radius:.1em;cursor:pointer;-webkit-flex-grow:1;flex-grow:1;-webkit-flex-shrink:0;flex-shrink:0;font-family:inherit;font-size:inherit;font-weight:400;margin:0;min-width:0;min-width:auto;outline:none!important;padding:.1em .4em;vertical-align:middle;width:auto}@media (max-height:50em){.alphaPicker-fixed{bottom:5em;bottom:max(env(safe-area-inset-bottom),5em)}.alphaPickerButton-vertical{padding-bottom:1px!important;padding-top:1px!important}}@media (max-height:49em){.alphaPicker-vertical{font-size:94%}}@media (max-height:44em){.alphaPicker-vertical{font-size:90%}.alphaPickerButton-vertical{padding-bottom:0!important;padding-top:0!important}}@media (max-height:37em){.alphaPicker-vertical{font-size:82%}}@media (max-height:32em){.alphaPicker-vertical{font-size:74%}}.alphaPicker-vertical.alphaPicker-tv{font-size:86%}.alphaPickerButton-tv.alphaPickerButton-vertical{padding:0}.alphaPickerButton-vertical{display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;text-align:center;width:1.5em}.alphaPickerButtonIcon{font-size:100%!important}.alphaPicker-fixed.alphaPicker-tv{bottom:1%;bottom:max(env(safe-area-inset-bottom),1%)}.alphaPicker-fixed-right{right:.4em;right:max(env(safe-area-inset-right),.4em)}@media (min-width:62.5em){.alphaPicker-fixed-right{right:1em;right:max(env(safe-area-inset-right),1em)}}@media (max-height:31.25em){.alphaPicker-fixed{display:none!important}}",""]),t.Z=o},55084:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,".backdropContainer{contain:layout style size}.backdropImage{background-position:50%;background-repeat:no-repeat;background-size:cover;bottom:0;contain:layout style;left:0;position:absolute;right:0;top:0}.backdropImageFadeIn{-webkit-animation:backdrop-fadein .8s ease-in normal both;animation:backdrop-fadein .8s ease-in normal both}@-webkit-keyframes backdrop-fadein{0%{opacity:0}to{opacity:1}}@keyframes backdrop-fadein{0%{opacity:0}to{opacity:1}}",""]),t.Z=o},56375:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,"button{-webkit-border-fit:border!important}button::-moz-focus-inner{border:0;padding:0}.card{-webkit-tap-highlight-color:rgba(0,0,0,0);background:none!important;background-color:transparent!important;border:0;color:inherit!important;contain:layout style;cursor:pointer;display:block;-webkit-flex-shrink:0;flex-shrink:0;font-family:inherit!important;font-size:inherit!important;font-weight:inherit!important;margin:0;outline:none!important;padding:0;text-transform:none}.card:not(.show-animation){contain:layout style paint}.itemsContainer,.vertical-list{display:-webkit-flex;display:flex}.vertical-list{-webkit-flex-direction:column;flex-direction:column;-webkit-flex-wrap:nowrap;flex-wrap:nowrap}.vertical-wrap{display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;flex-wrap:wrap}.vertical-wrap.centered{-webkit-justify-content:center;justify-content:center}.cardScalable{contain:layout style;position:relative}.cardPadder-backdrop,.cardPadder-mixedBackdrop,.cardPadder-overflowBackdrop,.cardPadder-overflowSmallBackdrop,.cardPadder-smallBackdrop{contain:strict;padding-bottom:56.25%}.cardPadder-mixedSquare,.cardPadder-overflowSquare,.cardPadder-square,.overflowSquareCard-textCardPadder{contain:strict;padding-bottom:100%}.cardPadder-mixedPortrait,.cardPadder-overflowPortrait,.cardPadder-portrait,.overflowPortraitCard-textCardPadder{contain:strict;padding-bottom:150%}.cardPadder-banner{contain:strict;padding-bottom:18.5%}.cardBox{-webkit-tap-highlight-color:rgba(0,0,0,0);border:0 solid transparent;contain:layout;contain:style;margin:.6em;outline:none!important;padding:0!important;transition:none}.card.show-animation .cardBox{transition:-webkit-transform .2s ease-out;transition:transform .2s ease-out;transition:transform .2s ease-out,-webkit-transform .2s ease-out;will-change:transform}.card.show-focus:not(.show-animation) .cardBox{margin:.4em}.card.show-focus:not(.show-animation) .cardBox.visualCardBox,.card.show-focus:not(.show-animation) .cardBox:not(.visualCardBox) .cardScalable{border:.5em solid transparent;border-radius:.7em}.card.show-animation:focus>.cardBox{-webkit-transform:scale(1.18);transform:scale(1.18)}.cardBox-bottompadded{margin-bottom:1.8em!important}@media(max-width:50em){.cardBox-bottompadded{margin-bottom:1.2em!important}}.card:focus{font-weight:inherit!important;position:relative!important;z-index:10!important}.btnCardOptions{bottom:.25em;margin:0!important;position:absolute;right:0;z-index:1}.mediaSourceIndicator{-webkit-align-items:center;align-items:center;background:#38c;border-radius:50%;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);color:#fff;display:-webkit-flex;display:flex;font-size:88%;font-weight:500;height:2em;-webkit-justify-content:center;justify-content:center;left:.3em;position:absolute;text-align:center;top:.3em;vertical-align:middle;width:2em}.cardImageContainer{-webkit-align-items:center;align-items:center;background-clip:content-box!important;background-position:50%;background-repeat:no-repeat;background-size:cover;border-radius:.2em;color:inherit;-webkit-justify-content:center;justify-content:center;position:relative;text-decoration:none}.cardContent.cardImageContainer,.cardImageContainer{display:-webkit-flex;display:flex}.cardScalable .cardImageContainer{contain:strict;height:100%;width:100%}.chapterCardImageContainer{background-color:#000;border-radius:0}.textCardImageContainer{background-color:#333}.cardContent{-webkit-tap-highlight-color:rgba(0,0,0,0);border:0!important;border-radius:.2em;bottom:0;color:inherit;contain:strict;cursor:pointer;display:block;font-family:inherit;font-size:inherit;height:100%;left:0;margin:0!important;outline:none!important;overflow:hidden;padding:0!important;position:absolute;right:0;top:0;width:100%}.defaultCardBackground{display:-webkit-flex;display:flex}.cardContent:not(.defaultCardBackground){background-color:transparent}.cardPadder{position:relative}.cardBox:not(.visualCardBox) .cardPadder{background-color:#242424;border-radius:.2em}.blurhash-canvas{border-radius:.2em}.cardBox:not(.visualCardBox) .cardPadder,.cardContent-shadow{box-shadow:0 .0725em .29em 0 rgba(0,0,0,.37)}.cardImage{background-repeat:no-repeat;border:none;bottom:0;left:0;position:absolute;right:0;top:0}.cardImage,.coveredImage{background-position:50%;background-size:cover}.coveredImage.coveredImage-contain{background-size:contain}.cardFooter{padding:.3em .3em .5em;position:relative}.visualCardBox{border-radius:.2em;box-shadow:0 .0725em .29em 0 rgba(0,0,0,.37)}.innerCardFooter{background:rgba(0,0,0,.7);bottom:0;color:#fff;left:0;max-width:100%;overflow:hidden;position:absolute;text-align:left;z-index:1}.innerCardFooterClear{background-color:transparent}.fullInnerCardFooter{right:0}.cardText{overflow:hidden;padding:.06em .5em;text-align:left;text-overflow:ellipsis;white-space:nowrap}.dialog .cardText{text-overflow:clip}.cardText-secondary{font-size:86%}.cardText-first{padding-top:.24em}.textActionButton{-webkit-tap-highlight-color:rgba(0,0,0,0);background:transparent;border:0!important;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;outline:none!important;padding:0!important;text-decoration:none;vertical-align:middle}.textActionButton:hover{text-decoration:underline}.cardText>.textActionButton{overflow:hidden;text-align:left;text-overflow:ellipsis;width:100%}.innerCardFooter>.cardText{padding:.3em .5em}.cardFooter-withlogo{padding-left:4em;position:relative}.cardFooterLogo{background-position:50%;background-repeat:no-repeat;background-size:70% auto;bottom:0;left:0;position:absolute;top:0;width:4.5em}.cardTextCentered,.cardTextCentered>.textActionButton{text-align:center}.cardText-rightmargin{margin-right:2em}.cardDefaultText{font-size:2em;font-weight:700;text-align:center;white-space:normal}.cardImageIcon{color:inherit;font-size:5em}.cardPadder .cardImageIcon{color:#111;left:50%;position:absolute;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.cardImageContainer .cardImageIcon{margin:auto}.cardIndicators{-webkit-align-items:center;align-items:center;contain:layout style;right:.225em;top:.225em}.cardIndicators,.cardProgramAttributeIndicators{display:-webkit-flex;display:flex;position:absolute}.cardProgramAttributeIndicators{font-size:92%;left:0;text-transform:uppercase;top:0}.programAttributeIndicator{color:#fff;font-weight:500;padding:.18em .5em}.cardOverlayButton{color:hsla(0,0%,100%,.76);font-size:88%;margin:0;padding:.75em;z-index:1}.cardOverlayButton-br{bottom:0;position:absolute;right:0}.cardOverlayButtonIcon{-webkit-align-items:center;align-items:center;background-color:rgba(0,0,0,.7)!important;border-radius:100em;font-size:1.6695652174em!important;height:1.5em!important;-webkit-justify-content:center;justify-content:center;width:1.5em!important}.cardOverlayButtonIcon,.cardOverlayButtonIcon.material-icons{display:-webkit-flex;display:flex}.cardOverlayButton-centered{background-color:rgba(0,0,0,.5)!important;border:.06em solid hsla(0,0%,100%,.6);bottom:auto;color:hsla(0,0%,100%,.76);display:-webkit-flex;display:flex;font-size:112%;height:2.6em;left:50%;margin:-1.3em 0 0 -1.3em;padding:.38em!important;position:static;position:absolute;right:auto;top:50%;transition:-webkit-transform .2s ease-out;transition:transform .2s ease-out;transition:transform .2s ease-out,-webkit-transform .2s ease-out;width:2.6em}.backdropCard,.bannerCard{width:100%}.smallBackdropCard,.squareCard{width:50%}.portraitCard{width:33.3333333333%}.mixedPortraitCard{width:12em}.mixedSquareCard{width:18em}.mixedBackdropCard{width:32em}@media(min-width:25em){.backdropCard{width:50%}}@media(min-width:31.25em){.portraitCard,.smallBackdropCard,.squareCard{width:33.3333333333%}}@media(min-width:43.75em){.portraitCard,.squareCard{width:25%}}@media(min-width:48.125em){.backdropCard{width:33.3333333333%}}@media(min-width:50em){.bannerCard{width:50%}.portraitCard,.squareCard{width:20%}.smallBackdropCard{width:25%}}@media(min-width:62.5em){.smallBackdropCard{width:20%}}@media(min-width:75em){.backdropCard{width:25%}.portraitCard,.squareCard{width:16.6666666667%}.bannerCard{width:33.3333333333%}.smallBackdropCard{width:16.6666666667%}}@media(min-width:87.5em){.portraitCard,.smallBackdropCard,.squareCard{width:14.2857142857%}}@media(min-width:100em){.smallBackdropCard{width:12.5%}.backdropCard{width:20%}.portraitCard,.squareCard{width:12.5%}}@media(min-width:120em){.portraitCard,.squareCard{width:11.1111111111%}}@media(min-width:131.25em){.bannerCard{width:25%}.portraitCard,.squareCard{width:10%}}@media(min-width:156.25em){.backdropCard{width:16.6666666667%}}.itemsContainer-tv>.backdropCard{width:25%}.itemsContainer-tv>.portraitCard,.itemsContainer-tv>.squareCard{width:16.6666666667%}.overflowBackdropCard,.overflowSmallBackdropCard{width:72vw}.overflowPortraitCard,.overflowSquareCard{width:40vw}@media(min-width:25em){.overflowPortraitCard{width:31.2vw}}@media(min-width:35em){.overflowSquareCard{width:31.2vw}.overflowBackdropCard{width:45.5vw}.overflowSmallBackdropCard{width:30vw}}@media(min-width:43.75em){.overflowPortraitCard,.overflowSquareCard{width:23.1vw}}@media(min-width:48.125em){.overflowBackdropCard,.overflowSmallBackdropCard{width:30vw}}@media(orientation:landscape){.overflowBackdropCard,.overflowSmallBackdropCard{width:30vw}.overflowPortraitCard,.overflowSquareCard{width:23.1vw}}@media(orientation:landscape)and (min-width:48.125em){.overflowBackdropCard,.overflowSmallBackdropCard{width:23.1vw}}@media(orientation:landscape)and (min-width:50em){.overflowSmallBackdropCard{width:15.5vw}}@media(min-width:50em){.overflowPortraitCard,.overflowSquareCard{width:18.5vw}}@media(min-width:75em){.overflowBackdropCard,.overflowSmallBackdropCard{width:23.1vw}.overflowPortraitCard,.overflowSquareCard{width:15.5vw}}@media(min-width:87.5em){.overflowPortraitCard,.overflowSquareCard{width:13.3vw}}@media(min-width:100em){.overflowBackdropCard,.overflowSmallBackdropCard{width:18.7vw}.overflowPortraitCard,.overflowSquareCard{width:11.6vw}}@media(min-width:120em){.overflowPortraitCard,.overflowSquareCard{width:10.41vw}}@media(min-width:131.25em){.overflowPortraitCard,.overflowSquareCard{width:9.3vw}}@media(min-width:156.25em){.overflowBackdropCard,.overflowSmallBackdropCard{width:15.6vw}}.itemsContainer-tv>.overflowBackdropCard{width:23.5vw}.overflowBackdropCard-textCard{width:15.5vw!important}.overflowBackdropCard-textCardPadder{padding-bottom:87.75%}.itemsContainer-tv>.overflowPortraitCard,.itemsContainer-tv>.overflowSquareCard{width:15.6vw}.itemsContainer-tv>.overflowSmallBackdropCard{width:18.8vw}.cardOverlayContainer{background:rgba(0,0,0,.5);border-radius:.2em;bottom:0;left:0;opacity:0;position:absolute;right:0;top:0;transition:opacity .2s;-webkit-user-select:none;-ms-user-select:none;user-select:none}.visualCardBox .blurhash-canvas,.visualCardBox .cardContent,.visualCardBox .cardOverlayContainer{border-bottom-left-radius:0;border-bottom-right-radius:0}.card-hoverable:hover .cardOverlayContainer{opacity:1}.cardOverlayButton-hover{background:transparent;opacity:0;padding:.25em;transition:.2s}.cardOverlayButtonIcon-hover{background:transparent!important}.card-hoverable:hover .cardOverlayButton-hover{opacity:1}.cardOverlayFab-primary{background-color:rgba(0,0,0,.7);font-size:130%;height:3em;left:50%;margin-left:-1.5em;margin-top:-1.5em;padding:0;position:absolute;top:50%;width:3em}.cardOverlayFab-primary:hover{-webkit-transform:scale(1.4);transform:scale(1.4);transition:.2s}",""]),t.Z=o},62101:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,".dialogContainer{-webkit-align-items:center;align-items:center;bottom:0;contain:strict;display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;left:0;overflow:hidden;overscroll-behavior:contain;position:fixed;right:0;top:0;z-index:999999!important}.dialog{-webkit-font-smoothing:antialiased;border:0;border-radius:.2em;box-shadow:0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12),0 8px 10px -5px rgba(0,0,0,.4);contain:style paint;margin:0;padding:0;will-change:transform,opacity}.dialog-fixedSize{border-radius:0;contain:layout style paint;max-height:none;max-width:none}.dialog-fullscreen{bottom:0;box-shadow:none;left:0;margin:0;position:fixed!important;right:0;top:0}@-webkit-keyframes scaledown{0%{opacity:1;-webkit-transform:none;transform:none}to{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}}@keyframes scaledown{0%{opacity:1;-webkit-transform:none;transform:none}to{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}}@-webkit-keyframes scaleup{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes scaleup{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}to{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadein{0%{opacity:0}to{opacity:1}}@keyframes fadein{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fadeout{0%{opacity:1}to{opacity:0}}@keyframes fadeout{0%{opacity:1}to{opacity:0}}@-webkit-keyframes slideup{0%{opacity:0;-webkit-transform:translate3d(0,30%,0);transform:translate3d(0,30%,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes slideup{0%{opacity:0;-webkit-transform:translate3d(0,30%,0);transform:translate3d(0,30%,0)}to{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes slidedown{0%{opacity:1;-webkit-transform:none;transform:none}to{opacity:0;-webkit-transform:translate3d(0,20%,0);transform:translate3d(0,20%,0)}}@keyframes slidedown{0%{opacity:1;-webkit-transform:none;transform:none}to{opacity:0;-webkit-transform:translate3d(0,20%,0);transform:translate3d(0,20%,0)}}@media (max-width:80em),all and (max-height:45em){.dialog-fixedSize,.dialog-fullscreen-lowres{bottom:0!important;box-shadow:none;height:auto!important;left:0!important;margin:0!important;position:fixed!important;right:0!important;top:0!important;width:auto!important}}@media (min-width:80em)and (min-height:45em){.dialog-small{height:80%;width:60%}}.noScroll{overflow-x:hidden!important;overflow-y:hidden!important}.dialogBackdrop{background-color:#000;bottom:0!important;left:0!important;margin:0!important;opacity:0;position:fixed!important;right:0!important;top:0!important;transition:opacity .2s ease-out;will-change:opacity;z-index:999999!important}.dialogBackdropOpened{opacity:.5}",""]),t.Z=o},11979:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,"#ulDirectoryPickerList a{padding-bottom:.4em;padding-top:.4em}.lblDirectoryPickerPath{white-space:nowrap}",""]),t.Z=o},37018:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,".formDialog{-webkit-flex-direction:column;flex-direction:column;position:relative}.formDialog,.formDialogHeader{display:-webkit-flex;display:flex}.formDialogHeader{-webkit-align-items:center;align-items:center;-webkit-flex-shrink:0;flex-shrink:0;padding:1em .5em}.formDialogHeaderTitle{margin-bottom:0;margin-left:.25em;margin-top:0}.formDialogHeaderTitle:first-child{margin-left:1em}.formDialogContent:not(.no-grow){-webkit-flex-grow:1;flex-grow:1}.dialogContentInner{padding:.5em 1em 20em}.dialogContentInner-mini{padding-bottom:10em}.dialog-content-centered{margin:0 auto;max-width:53em}.dialogContentTitle{margin-top:1em}.formDialogFooter{-webkit-align-items:flex-end;align-items:flex-end;bottom:0;display:-webkit-flex;display:flex;left:0;padding:1em;position:absolute;right:0;z-index:1}.formDialogFooter,.layout-tv .formDialogFooter{-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-justify-content:center;justify-content:center}.layout-tv .formDialogFooter{-webkit-align-items:center;align-items:center;position:relative}.formDialogFooter-flex{position:static;width:100%}.formDialogFooter-vertical{-webkit-flex-direction:column;flex-direction:column;padding-bottom:1.5em;padding-top:.5em;width:80%!important}.formDialogFooterItem{-webkit-flex-basis:12em;flex-basis:12em;margin:.5em!important;text-align:center}.formDialogFooterItem-vertical{-webkit-justify-content:center;justify-content:center;margin:1em!important;max-width:none!important;width:100%}.formDialogFooterItem-nomarginbottom{margin-bottom:0!important}.formDialogFooterItem-autosize{-webkit-flex-basis:initial;flex-basis:auto;-webkit-flex-grow:initial;flex-grow:0;padding-left:2em;padding-right:2em}@media (min-width:50em){.formDialogFooterItem{max-width:80%}.dialogContentInner{padding-left:1.5em;padding-right:1.5em}}@media (min-width:80em){.formDialogFooterItem{max-width:70%}.dialogContentInner{padding-left:2em;padding-right:2em}}",""]),t.Z=o},65989:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,".newTvProgram{background:#38c;color:#fff}.liveTvProgram{background:#c33;color:#fff}.premiereTvProgram{background:#ef6c00;color:#fff}.repeatTvProgram{background:#009688;color:#fff}",""]),t.Z=o},20290:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,"@-webkit-keyframes fadein{0%{opacity:0}to{opacity:1}}@keyframes fadein{0%{opacity:0}to{opacity:1}}.lazy-image-fadein{-webkit-animation:fadein .5s;animation:fadein .5s;opacity:1}.lazy-image-fadein-fast{-webkit-animation:fadein .1s;animation:fadein .1s;opacity:1}.lazy-hidden,.lazy-hidden-children *{opacity:0}.blurhash-canvas{bottom:0;height:100%;left:0;pointer-events:none;position:absolute;right:0;top:0;width:100%}",""]),t.Z=o},84399:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,".itemProgressBar{background:#333;background:rgba(51,51,51,.8);height:.28em;position:relative}.itemProgressBarForeground{bottom:0;left:0;position:absolute;top:0}.indicator{-webkit-align-items:center;align-items:center;border-radius:100em;display:-webkit-flex;display:flex;font-weight:500;height:2em;-webkit-justify-content:center;justify-content:center;width:2em}.timerIndicator{color:#cb272a}.timerIndicator-inactive{color:#888}.indicator+.indicator{margin-left:.25em}.indicatorIcon{font-size:1.6em;height:auto;width:auto}.countIndicator{font-size:88%;font-weight:500}.countIndicator,.playedIndicator{-webkit-align-items:center;align-items:center;border-radius:100em;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);color:#fff;display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center}.playedIndicator{font-size:80%}.videoIndicator{-webkit-align-items:center;align-items:center;background:#444;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);color:#fff;display:-webkit-flex;display:flex;font-size:88%;-webkit-justify-content:center;justify-content:center}.syncIndicator,.videoIndicator{border-radius:100em}.emptySyncIndicator{background:#ccc;color:#333}.missingIndicator,.unairedIndicator{background:#c33;border-radius:100em;color:#fff;font-size:84%;font-weight:500;margin:0 .25em;padding:.25em .5em}",""]),t.Z=o},46449:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,".listItem{-webkit-align-items:center;align-items:center;background:transparent;border:0;color:inherit;cursor:pointer;display:block;font-family:inherit;font-size:inherit;margin:0;outline:none!important;overflow:hidden;padding:.25em .25em .25em .5em;text-align:left;vertical-align:middle}.listItem-withContentWrapper{-webkit-align-items:flex-start;align-items:flex-start;-webkit-flex-direction:column;flex-direction:column}.listItem[data-action=none]{cursor:default}.listItem-content{-webkit-align-items:center;align-items:center;display:-webkit-flex;display:flex;width:100%}.listItem-button{width:100%}.listItem-indexnumberleft{margin-right:1em;min-width:2%;text-align:center}.listItem-border{border-radius:0;border-style:solid;border-width:0 0 .1em;display:block;margin:0;padding:0}.listItem-border.show-focus:focus{-webkit-transform:scale(1)!important;transform:scale(1)!important}.listItemAside,.listItemIcon,.listItemImage{-webkit-flex-shrink:0;flex-shrink:0}.listItemBody,.listItemButton,.listItemIcon,.listItemImage{display:inline-block;vertical-align:middle}.listItemButton{contain:layout style;-webkit-flex-shrink:0;flex-shrink:0;margin:0}.listViewDragHandle{margin-left:-.25em!important;touch-action:none}.listItemBody{-webkit-flex-direction:column;flex-direction:column;-webkit-flex-grow:1;flex-grow:1;-webkit-justify-content:center;justify-content:center;overflow:hidden;padding:.85em .75em;text-overflow:ellipsis;vertical-align:middle}.listItem,.listItemBody,.listItemMediaInfo{contain:layout style;display:-webkit-flex;display:flex}.layout-tv .listItemBody{padding:.35em .75em}.listItemBody-noleftpadding{padding-left:0!important}.listItemBodyText{margin:0;overflow:hidden;padding:.1em 0;text-overflow:ellipsis}.layout-desktop .listItemBodyText{margin:.25em 0 0}.listItemBodyText-nowrap{white-space:nowrap}.listItemImage{background-position:50%;background-repeat:no-repeat;background-size:cover;display:-webkit-flex;display:flex;-webkit-flex-shrink:0;flex-shrink:0;height:4em;min-height:2.78em;min-width:2.78em;position:relative;width:4em}.listItemImage-large{background-position:50%;height:13vw;margin-right:.75em;width:19.5vw}.listItemImageButton{-webkit-align-self:center;align-self:center;background:rgba(0,0,0,.4);color:hsla(0,0%,100%,.6);display:-webkit-flex;display:flex;font-size:1.6em;justify-self:center;margin:auto;transition:.2s ease-out}.listItemImageButton:hover{background:rgba(0,164,220,.2);color:#00a4dc;-webkit-transform:scale(1.2);transform:scale(1.2)}.listItemImageButton-icon{-webkit-align-items:center;align-items:center;border-radius:100em;display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;padding:.2em}.listItemImage .cardImageIcon{font-size:3em}@media (max-width:64em){.listItemImage-large{height:16vw;margin-right:0!important;width:22vw}.listItemImageButton,.listItemIndicators{font-size:.6em!important}.listItemBody{padding-left:.75em}}@media (max-width:50em){.listItemBody{padding-right:.5em}.listItemMediaInfo{display:none}}@media (max-width:40em){[data-type=Movie] .listItemImage,[data-type=Series] .listItemImage{display:none}}.listItemImage-large-tv{height:20vw!important;width:30vw!important}.listItemIcon{font-size:143%;height:1em!important;padding:0 .25em 0 0;width:1em!important}.listItemIcon:not(.listItemIcon-transparent){background-color:#00a4dc;border-radius:100em;color:#fff;margin:0 .2em 0 .4em;padding:.5em}.listItemProgressBar{bottom:0;left:0;position:absolute;right:0}.listItem:focus{border-radius:.2em}.listItem:focus .secondary{color:inherit!important}.listItem-focusscale{transition:-webkit-transform .2s ease-out;transition:transform .2s ease-out;transition:transform .2s ease-out,-webkit-transform .2s ease-out}.listItem-focusscale:focus{-webkit-transform:scale(1.025);transform:scale(1.025)}.paperList{margin:.5em auto}.paperList-clear{background-color:transparent!important}.listGroupHeader-first{margin-top:0}.listItemIndicators{-webkit-align-items:center;align-items:center;display:-webkit-flex;display:flex;position:absolute;right:.324em;top:.324em}.listItem-bottomoverview{font-size:88%;margin-bottom:1em;margin-top:.2em}@media (max-width:50em){.listItem .criticRating,.listItem .endsAt,.listItem-overview{display:none!important}}@media (min-width:50em){.listItem-bottomoverview{display:none!important}}.listItemCheckboxContainer{width:auto!important}",""]),t.Z=o},64777:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,".mdl-spinner{display:none;height:1.95em;position:relative;width:1.95em}.mdlSpinnerActive{-webkit-animation:mdl-spinner__container-rotate 1.56823529412s linear infinite;animation:mdl-spinner__container-rotate 1.56823529412s linear infinite;display:inline-block}@-webkit-keyframes mdl-spinner__container-rotate{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes mdl-spinner__container-rotate{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.mdl-spinner__layer{height:100%;opacity:0;position:absolute;width:100%}.mdl-spinner__layer-1{border-color:#00a4dc}.mdl-spinner__layer-1-active{-webkit-animation:mdl-spinner__fill-unfill-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdl-spinner__layer-1-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both;animation:mdl-spinner__fill-unfill-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdl-spinner__layer-1-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both}.mdl-spinner__layer-2{border-color:#00a4dc}.mdl-spinner__layer-2-active{-webkit-animation:mdl-spinner__fill-unfill-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdl-spinner__layer-2-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both;animation:mdl-spinner__fill-unfill-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdl-spinner__layer-2-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both}.mdl-spinner__layer-3{border-color:#00a4dc}.mdl-spinner__layer-3-active{-webkit-animation:mdl-spinner__fill-unfill-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdl-spinner__layer-3-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both;animation:mdl-spinner__fill-unfill-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdl-spinner__layer-3-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both}.mdl-spinner__layer-4{border-color:#00a4dc}.mdl-spinner__layer-4-active{-webkit-animation:mdl-spinner__fill-unfill-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdl-spinner__layer-4-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both;animation:mdl-spinner__fill-unfill-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdl-spinner__layer-4-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both}@-webkit-keyframes mdl-spinner__fill-unfill-rotate{12.5%{-webkit-transform:rotate(135deg);transform:rotate(135deg)}25%{-webkit-transform:rotate(270deg);transform:rotate(270deg)}37.5%{-webkit-transform:rotate(405deg);transform:rotate(405deg)}50%{-webkit-transform:rotate(540deg);transform:rotate(540deg)}62.5%{-webkit-transform:rotate(675deg);transform:rotate(675deg)}75%{-webkit-transform:rotate(810deg);transform:rotate(810deg)}87.5%{-webkit-transform:rotate(945deg);transform:rotate(945deg)}to{-webkit-transform:rotate(3turn);transform:rotate(3turn)}}@keyframes mdl-spinner__fill-unfill-rotate{12.5%{-webkit-transform:rotate(135deg);transform:rotate(135deg)}25%{-webkit-transform:rotate(270deg);transform:rotate(270deg)}37.5%{-webkit-transform:rotate(405deg);transform:rotate(405deg)}50%{-webkit-transform:rotate(540deg);transform:rotate(540deg)}62.5%{-webkit-transform:rotate(675deg);transform:rotate(675deg)}75%{-webkit-transform:rotate(810deg);transform:rotate(810deg)}87.5%{-webkit-transform:rotate(945deg);transform:rotate(945deg)}to{-webkit-transform:rotate(3turn);transform:rotate(3turn)}}@-webkit-keyframes mdl-spinner__layer-1-fade-in-out{0%{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdl-spinner__layer-1-fade-in-out{0%{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@-webkit-keyframes mdl-spinner__layer-2-fade-in-out{0%{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}}@keyframes mdl-spinner__layer-2-fade-in-out{0%{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}}@-webkit-keyframes mdl-spinner__layer-3-fade-in-out{0%{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}}@keyframes mdl-spinner__layer-3-fade-in-out{0%{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}}@-webkit-keyframes mdl-spinner__layer-4-fade-in-out{0%{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdl-spinner__layer-4-fade-in-out{0%{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}.mdl-spinner__circle{-webkit-animation:none;animation:none;border-bottom-color:transparent!important;border:.21em solid;border-color:inherit;border-radius:50%;bottom:0;box-sizing:border-box;height:100%;left:0;position:absolute;right:0;top:0}.mdl-spinner__circle-clipper{border-color:inherit;display:inline-block;height:100%;overflow:hidden;position:relative;width:50%}.mdl-spinner__circle-clipper .mdl-spinner__circle{width:200%}.mdl-spinner__circleLeft{border-right-color:transparent!important;-webkit-transform:rotate(129deg);transform:rotate(129deg)}.mdl-spinner__circleLeft-active{-webkit-animation:mdl-spinner__left-spin 1333ms cubic-bezier(.4,0,.2,1) infinite both;animation:mdl-spinner__left-spin 1333ms cubic-bezier(.4,0,.2,1) infinite both}.mdl-spinner__circleRight{border-left-color:transparent!important;left:-100%;-webkit-transform:rotate(-129deg);transform:rotate(-129deg)}.mdl-spinner__circleRight-active{-webkit-animation:mdl-spinner__right-spin 1333ms cubic-bezier(.4,0,.2,1) infinite both;animation:mdl-spinner__right-spin 1333ms cubic-bezier(.4,0,.2,1) infinite both}@-webkit-keyframes mdl-spinner__left-spin{0%{-webkit-transform:rotate(130deg);transform:rotate(130deg)}50%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}to{-webkit-transform:rotate(130deg);transform:rotate(130deg)}}@keyframes mdl-spinner__left-spin{0%{-webkit-transform:rotate(130deg);transform:rotate(130deg)}50%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}to{-webkit-transform:rotate(130deg);transform:rotate(130deg)}}@-webkit-keyframes mdl-spinner__right-spin{0%{-webkit-transform:rotate(-130deg);transform:rotate(-130deg)}50%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}to{-webkit-transform:rotate(-130deg);transform:rotate(-130deg)}}@keyframes mdl-spinner__right-spin{0%{-webkit-transform:rotate(-130deg);transform:rotate(-130deg)}50%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}to{-webkit-transform:rotate(-130deg);transform:rotate(-130deg)}}.docspinner{contain:layout style size;height:10vh;left:50%;margin-left:-5vh;margin-top:-5vh;position:fixed;top:50%;width:10vh;z-index:9999999}",""]),t.Z=o},44027:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,".searchFieldsInner{margin:0 auto;max-width:60em}.searchfields-icon{-webkit-align-self:flex-end;align-self:flex-end;font-size:2em;margin-bottom:.1em;margin-right:.25em}",""]),t.Z=o},6593:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,".syncPlayGroupMenu .actionSheetText{margin-left:.6em;margin-top:0}",""]),t.Z=o},16710:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,".toastContainer{bottom:0;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;left:0;padding:1em 1em max(env(safe-area-inset-bottom),1em) max(env(safe-area-inset-left),1em);pointer-events:none;position:fixed;z-index:9999999}.toast{border-radius:.15em;box-shadow:0 .0725em .29em 0 rgba(0,0,0,.37);box-sizing:border-box;cursor:default;font-size:110%;margin:.25em auto .25em 0;min-height:0;min-height:auto;min-width:20em;padding:1em 1.5em;pointer-events:auto;transition:-webkit-transform .3s ease-out;transition:transform .3s ease-out;transition:transform .3s ease-out,-webkit-transform .3s ease-out}.toast:first-child{margin-top:0}.toast:last-child{margin-bottom:0;-webkit-transform:translateY(16em);transform:translateY(16em)}.toast.toastVisible{-webkit-transform:none;transform:none}.toast.toastHide{opacity:0;transition:opacity .3s ease-out}",""]),t.Z=o},84810:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,".mainAnimatedPage{bottom:0;contain:layout style size;left:0;position:absolute;right:0;top:0}@-webkit-keyframes view-fadeout{0%{opacity:1}to{opacity:0}}@keyframes view-fadeout{0%{opacity:1}to{opacity:0}}@-webkit-keyframes view-fadein{0%{opacity:0}to{opacity:1}}@keyframes view-fadein{0%{opacity:0}to{opacity:1}}@-webkit-keyframes view-slideleft{0%{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}to{-webkit-transform:none;transform:none}}@keyframes view-slideleft{0%{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}to{-webkit-transform:none;transform:none}}@-webkit-keyframes view-slideleft-r{0%{-webkit-transform:none;transform:none}to{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}@keyframes view-slideleft-r{0%{-webkit-transform:none;transform:none}to{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}@-webkit-keyframes view-slideright{0%{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}to{-webkit-transform:none;transform:none}}@keyframes view-slideright{0%{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}to{-webkit-transform:none;transform:none}}@-webkit-keyframes view-slideright-r{0%{-webkit-transform:none;transform:none}to{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}@keyframes view-slideright-r{0%{-webkit-transform:none;transform:none}to{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}",""]),t.Z=o},16639:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,".emby-button{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-align-items:center;align-items:center;border:0;border-radius:.2em;box-sizing:border-box;color:inherit;cursor:pointer;display:-webkit-inline-flex;display:inline-flex;font-family:inherit;font-size:inherit;font-weight:600;line-height:1.35;margin:.3em;outline:none!important;outline-width:0;padding:.9em 1em;position:relative;text-align:center;text-decoration:none;-webkit-transform-origin:center;transform-origin:center;transition:.2s;-ms-user-select:none;-webkit-user-select:none;user-select:none;vertical-align:middle;z-index:0}.emby-button.show-focus:focus{-webkit-transform:scale(1.2);transform:scale(1.2);z-index:1}.emby-button::-moz-focus-inner{border:0}.button-flat,.button-link{background:transparent}.button-link{cursor:pointer;margin:0;padding:0;vertical-align:initial}.button-link:hover{text-decoration:underline}.emby-button>.material-icons{font-size:1.36em}.button-link>.material-icons{font-size:1em}.fab{border-radius:50%;box-sizing:border-box;display:-webkit-inline-flex;display:inline-flex;padding:.6em;text-align:center}.emby-button.block,.fab{-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center}.emby-button.block{display:block;margin:.25em 0;width:100%}.paper-icon-button-light{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-align-items:center;align-items:center;background:transparent;border:0;border-radius:50%;box-sizing:border-box;color:inherit;cursor:pointer;display:-webkit-inline-flex;display:inline-flex;font-family:inherit;font-size:inherit;height:auto;-webkit-justify-content:center;justify-content:center;margin:0 .29em;min-height:0;min-height:auto;min-width:0;min-width:auto;outline:none!important;overflow:hidden;padding:.556em;position:relative;text-align:center;-webkit-transform-origin:center;transform-origin:center;transition:.2s;-ms-user-select:none;-webkit-user-select:none;user-select:none;vertical-align:middle;width:auto;z-index:0}.paper-icon-button-light.show-focus:focus{-webkit-transform:scale(1.3);transform:scale(1.3);z-index:1}.paper-icon-button-light::-moz-focus-inner{border:0}.paper-icon-button-light:disabled{cursor:default;opacity:.3}.paper-icon-button-light>.material-icons{font-size:1.6695652174em;position:relative;vertical-align:middle;z-index:1}.paper-icon-button-light>div{display:inline;margin:0 auto;max-height:100%;position:relative;-webkit-transform:scale(1.8);transform:scale(1.8);vertical-align:middle;z-index:1}.emby-button-foreground{position:relative;z-index:1}.btnFilterWithBubble{position:relative}.filterButtonBubble{-webkit-align-items:center;align-items:center;background:#03a9f4;border-radius:100em;box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.2);color:#fff;display:-webkit-flex;display:flex;font-size:82%;font-weight:700;height:1.6em;-webkit-justify-content:center;justify-content:center;position:absolute;right:0;top:0;width:1.6em;z-index:100000000}",""]),t.Z=o},21950:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,".emby-checkbox-label{-webkit-align-items:center;align-items:center;box-sizing:border-box;cursor:pointer;display:-webkit-inline-flex;display:inline-flex;height:2.35em;margin:0;padding:0 0 0 2.4em;position:relative;vertical-align:middle;width:100%;z-index:1}.checkboxFieldDescription{padding-left:2.4em}.checkboxContainer{display:-webkit-flex;display:flex}.checkboxContainer,.checkboxListContainer{margin-bottom:1.8em}.checkboxContainer-withDescription{-webkit-flex-direction:column;flex-direction:column}.emby-checkbox{-ms-appearance:none;-webkit-appearance:none;appearance:none;border:none;height:1px;margin:0;opacity:0;padding:0;position:absolute;width:1px}.checkboxOutline{-webkit-align-items:center;align-items:center;border:.14em solid;border-radius:.14em;box-sizing:border-box;display:-webkit-flex;display:flex;height:1.83em;-webkit-justify-content:center;justify-content:center;left:0;margin:0;overflow:hidden;position:absolute;top:3px;width:1.83em;z-index:2}.checkboxIcon{color:#fff;font-size:1.6em}.checkboxIcon-checked,.emby-checkbox-label .checkboxIcon-checked{display:none}.emby-checkbox:checked+span+.checkboxOutline>.checkboxIcon-checked{display:-webkit-flex!important;display:flex!important}.emby-checkbox:checked+span+.checkboxOutline>.checkboxIcon-unchecked{display:none!important}.emby-checkbox:checked[disabled]+span+.checkboxOutline>.checkboxIcon{background-color:rgba(0,0,0,.26)}.checkboxLabel{margin:0;position:relative}.checkboxList>.emby-checkbox-label{display:-webkit-flex;display:flex;margin:.5em 0}.checkboxList-verticalwrap{display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap}.checkboxList-verticalwrap>.emby-checkbox-label{display:-webkit-inline-flex;display:inline-flex;margin:.3em 0;width:12em}.checkboxList>.sectioncheckbox>.emby-checkbox-label{display:-webkit-flex;display:flex;margin:.5em 0}.checkboxList-paperList{padding:1em!important}.checkboxListLabel{margin-bottom:.25em}@keyframes repaintChrome{0%{padding:0}to{padding:0}}@-webkit-keyframes repaintChrome{0%{padding:0}to{padding:0}}",""]),t.Z=o},11509:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,".emby-collapse{margin:.5em 0}.collapseContent{border-width:0;height:0;overflow:hidden;padding:1.25em;transition-duration:.3s;transition-property:height}.emby-collapsible-button{-webkit-align-items:center;align-items:center;background:transparent;border-style:solid;border-width:0 0 .1em;box-shadow:none;display:-webkit-flex;display:flex;margin:0;padding-left:.1em;text-align:left;text-transform:none;width:100%}.emby-collapse-expandIcon{font-size:1.5em;position:absolute;right:.5em;-webkit-transform-origin:50% 50%;transform-origin:50% 50%;transition:-webkit-transform .18s ease-out;transition:transform .18s ease-out;transition:transform .18s ease-out,-webkit-transform .18s ease-out}.emby-collapse-expandIconExpanded{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.emby-collapsible-title{margin:0;padding:0}",""]),t.Z=o},11562:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,".emby-input{-webkit-tap-highlight-color:rgba(0,0,0,0);box-sizing:border-box;display:block;font-family:inherit;font-size:110%;font-weight:inherit;margin-bottom:0!important;margin:0;outline:none!important;padding:.4em .25em;width:100%}.emby-input[type=color]{height:2.5em;padding:0}.emby-input::-moz-focus-inner{border:0}.emby-input:required{box-shadow:none}.inputContainer{margin-bottom:1.8em}.inlineForm{display:-webkit-flex;display:flex}.inlineForm .inputContainer,.inlineForm .selectContainer{-webkit-flex-basis:0;flex-basis:0;-webkit-flex-grow:1;flex-grow:1;margin:0 .5em 1.8em}.inlineForm .inputContainer:first-child,.inlineForm .selectContainer:first-child{margin-left:0}.inlineForm .inputContainer:last-child,.inlineForm .selectContainer:last-child{margin-right:0}.inputLabel{display:inline-block;margin-bottom:.25em}.emby-input+.fieldDescription{margin-top:.25em}.emby-input-iconbutton{-webkit-align-self:flex-end;align-self:flex-end}",""]),t.Z=o},88101:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,".emby-scroller-container{position:relative}.emby-scroller{margin-left:max(env(safe-area-inset-left),3.3%);margin-right:max(env(safe-area-inset-right),3.3%)}.itemsContainer>.card>.cardBox{margin-left:0;margin-right:1.2em}.servers>.card>.cardBox{margin-left:.6em;margin-right:.6em}.layout-mobile .emby-scroller,.layout-tv .emby-scroller{margin-left:0;margin-right:0;padding-left:max(env(safe-area-inset-left),3.3%);padding-right:max(env(safe-area-inset-right),3.3%)}",""]),t.Z=o},19561:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,".emby-select{-webkit-tap-highlight-color:rgba(0,0,0,0);box-sizing:border-box;display:block;font-family:inherit;font-size:110%;font-weight:inherit;margin-bottom:0!important;margin:0;outline:none!important;padding:.5em 1.9em .5em .5em;width:100%}.emby-select[disabled]{-webkit-appearance:none;appearance:none;background:none!important;border-color:transparent!important;color:inherit!important}.emby-select::-moz-focus-inner{border:0}.selectContainer-inline>.emby-select{font-size:inherit;padding:.3em 1.9em .3em .5em}.selectContainer-inline>.emby-select[disabled]{padding-left:0;padding-right:0}.emby-select-focusscale{-webkit-transform-origin:center center;transform-origin:center center;transition:-webkit-transform .18s ease-out!important;transition:transform .18s ease-out!important;transition:transform .18s ease-out,-webkit-transform .18s ease-out!important}.emby-select-focusscale:focus{-webkit-transform:scale(1.04);transform:scale(1.04);z-index:1}.emby-select+.fieldDescription{margin-top:.25em}.selectContainer{margin-bottom:1.8em;position:relative}.selectContainer-inline{-webkit-align-items:center;align-items:center;display:-webkit-inline-flex;display:inline-flex;margin-bottom:0}.selectLabel{display:block;margin-bottom:.25em}.selectContainer-inline>.selectLabel{-webkit-flex-shrink:0;flex-shrink:0;margin-bottom:0;margin-right:.5em}.trackSelections>.selectContainer{margin:.4em 0}.emby-select-withcolor{-webkit-appearance:none;appearance:none;border-radius:.2em}.selectArrowContainer{color:inherit;pointer-events:none;position:absolute;right:.3em;top:.2em}.selectContainer-inline>.selectArrowContainer{bottom:.24em;font-size:90%;top:auto}.emby-select[disabled]+.selectArrowContainer{display:none}.selectArrow{font-size:1.7em;margin-top:1.2em}.emby-select-iconbutton{-webkit-align-self:flex-end;align-self:flex-end}",""]),t.Z=o},82911:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,":-ms-input-placeholder{appearance:none;-ms-appearance:none;height:2.223em;margin:0}.mdl-slider{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-align-self:center;align-self:center;-webkit-appearance:none;-ms-appearance:none;appearance:none;background:transparent;color:#00a4dc;cursor:pointer;display:block;font-size:inherit;height:150%;margin:0;outline:0;-webkit-user-select:none;-ms-user-select:none;user-select:none;width:100%;z-index:1}.mdl-slider::-moz-focus-outer{border:0}.mdl-slider::-ms-tooltip{display:none}.mdl-slider::-webkit-slider-runnable-track{background:transparent}.mdl-slider::-ms-track{background:none;border:none;color:transparent;height:.2em;width:100%}.mdl-slider::-ms-fill-lower,.mdl-slider::-ms-fill-upper{display:none}.slider-browser-edge{margin-left:-.16em;margin-right:-.16em;width:150%}.mdl-slider::-webkit-slider-thumb{-webkit-appearance:none;background:#00a4dc;border:none;border-radius:50%;box-sizing:border-box;height:1.08em;pointer-events:none;-webkit-transition:.2s;transition:.2s;width:1.08em}.mdl-slider-hoverthumb:hover::-webkit-slider-thumb,.mdl-slider.show-focus:focus::-webkit-slider-thumb{-webkit-transform:scale(1.3);transform:scale(1.3)}.mdl-slider::-moz-range-thumb{-moz-appearance:none;background:#00a4dc;background-image:none;border:none;border-radius:50%;box-sizing:border-box;height:1.08em;-moz-transition:.2s;transition:.2s;width:1.08em}.mdl-slider-hoverthumb:hover::-moz-range-thumb,.mdl-slider.show-focus:focus::-moz-range-thumb{transform:scale(1.3)}.mdl-slider::-ms-thumb{-webkit-appearance:none;background:#00a4dc;border:none;border-radius:50%;box-sizing:border-box;height:1.4em;transform:scale(.771429);-ms-transition:.2s;transition:.2s;width:1.4em}.mdl-slider-hoverthumb:hover::-ms-thumb,.mdl-slider.show-focus:focus::-ms-thumb{transform:none}.mdl-slider[disabled]::-webkit-slider-thumb{display:none}.mdl-slider[disabled]::-moz-range-thumb{display:none}.mdl-slider[disabled]::-ms-thumb{display:none}.mdl-slider-container{background:none;display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;height:1.25em;position:relative}.mdl-slider-background-flex-container{box-sizing:border-box;left:0;padding:0 .54em;position:absolute;top:50%;width:100%}.mdl-slider-background-flex{background:hsla(0,0%,100%,.3);border:0;display:-webkit-flex;display:flex;height:.2em;left:0;margin-top:-.1em;overflow:hidden;padding:0;top:50%;width:100%}.mdl-slider-background-flex-inner{position:relative;width:100%}.mdl-slider-background-lower{background-color:#00a4dc;bottom:0;left:0;position:absolute;top:0;width:0}.mdl-slider-background-lower-clear{background-color:transparent}.mdl-slider-background-lower-withtransform{-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transform-origin:left center;transform-origin:left center;width:100%}.mdl-slider-background-upper{background:#666;background:hsla(0,0%,100%,.4);bottom:0;left:0;position:absolute;top:0;width:0}.sliderBubbleTrack{left:0;margin:0 .54em;position:absolute;right:0}.sliderBubble{-webkit-align-items:center;align-items:center;background:#282828;color:#fff;display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;left:0;position:absolute;top:0;-webkit-transform:translate3d(-50%,-120%,0);transform:translate3d(-50%,-120%,0)}.sliderBubbleText{margin:0;padding:.5em .75em}.sliderContainer-settings{margin-bottom:1.8em;position:relative}.sliderContainer-settings .mdl-slider-container{height:2.83em}.sliderLabel{display:block;margin-bottom:.25em}",""]),t.Z=o},1841:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,".emby-tab-button{background:transparent;border-radius:0;box-shadow:none;box-sizing:border-box;cursor:pointer;display:inline-block;-webkit-flex-shrink:0;flex-shrink:0;font-family:inherit;font-size:inherit;font-weight:600;height:auto;line-height:1.25;margin:0;min-width:0;min-width:auto;outline:none;overflow:hidden;padding:1.5em;position:relative;vertical-align:middle;width:auto}.emby-tab-button.show-focus:focus{background:0!important;-webkit-transform:scale(1.3)!important;transform:scale(1.3)!important}.emby-tabs-slider{position:relative}.tabContent:not(.is-active){display:none}",""]),t.Z=o},6363:function(e,t,n){"use strict";var r=n(54933),a=n.n(r),i=n(93476),o=n.n(i)()(a());o.push([e.id,".screensaver-noScroll{overflow:hidden!important}",""]),t.Z=o},92051:function(e,t,n){"use strict";var r=n(1892),a=n.n(r),i=n(95760),o=n.n(i),s=n(38311),l=n.n(s),c=n(58192),u=n.n(c),d=n(38060),f=n.n(d),h=n(54865),p=n.n(h),m=n(64022),y={};y.styleTagTransform=p(),y.setAttributes=u(),y.insert=l().bind(null,"head"),y.domAPI=o(),y.insertStyleElement=f(),a()(m.Z,y),m.Z&&m.Z.locals&&m.Z.locals},15359:function(e,t,n){"use strict";var r=n(1892),a=n.n(r),i=n(95760),o=n.n(i),s=n(38311),l=n.n(s),c=n(58192),u=n.n(c),d=n(38060),f=n.n(d),h=n(54865),p=n.n(h),m=n(49672),y={};y.styleTagTransform=p(),y.setAttributes=u(),y.insert=l().bind(null,"head"),y.domAPI=o(),y.insertStyleElement=f(),a()(m.Z,y),m.Z&&m.Z.locals&&m.Z.locals},87201:function(e,t,n){"use strict";var r=n(1892),a=n.n(r),i=n(95760),o=n.n(i),s=n(38311),l=n.n(s),c=n(58192),u=n.n(c),d=n(38060),f=n.n(d),h=n(54865),p=n.n(h),m=n(56665),y={};y.styleTagTransform=p(),y.setAttributes=u(),y.insert=l().bind(null,"head"),y.domAPI=o(),y.insertStyleElement=f(),a()(m.Z,y),m.Z&&m.Z.locals&&m.Z.locals},46650:function(e,t,n){"use strict";var r=n(1892),a=n.n(r),i=n(95760),o=n.n(i),s=n(38311),l=n.n(s),c=n(58192),u=n.n(c),d=n(38060),f=n.n(d),h=n(54865),p=n.n(h),m=n(56375),y={};y.styleTagTransform=p(),y.setAttributes=u(),y.insert=l().bind(null,"head"),y.domAPI=o(),y.insertStyleElement=f(),a()(m.Z,y),m.Z&&m.Z.locals&&m.Z.locals},6626:function(e,t,n){"use strict";var r=n(1892),a=n.n(r),i=n(95760),o=n.n(i),s=n(38311),l=n.n(s),c=n(58192),u=n.n(c),d=n(38060),f=n.n(d),h=n(54865),p=n.n(h),m=n(37018),y={};y.styleTagTransform=p(),y.setAttributes=u(),y.insert=l().bind(null,"head"),y.domAPI=o(),y.insertStyleElement=f(),a()(m.Z,y),m.Z&&m.Z.locals&&m.Z.locals},15282:function(e,t,n){"use strict";var r=n(1892),a=n.n(r),i=n(95760),o=n.n(i),s=n(38311),l=n.n(s),c=n(58192),u=n.n(c),d=n(38060),f=n.n(d),h=n(54865),p=n.n(h),m=n(65989),y={};y.styleTagTransform=p(),y.setAttributes=u(),y.insert=l().bind(null,"head"),y.domAPI=o(),y.insertStyleElement=f(),a()(m.Z,y),m.Z&&m.Z.locals&&m.Z.locals},70739:function(e,t,n){"use strict";var r=n(1892),a=n.n(r),i=n(95760),o=n.n(i),s=n(38311),l=n.n(s),c=n(58192),u=n.n(c),d=n(38060),f=n.n(d),h=n(54865),p=n.n(h),m=n(84399),y={};y.styleTagTransform=p(),y.setAttributes=u(),y.insert=l().bind(null,"head"),y.domAPI=o(),y.insertStyleElement=f(),a()(m.Z,y),m.Z&&m.Z.locals&&m.Z.locals},664:function(e,t,n){"use strict";n.r(t);var r=n(1892),a=n.n(r),i=n(95760),o=n.n(i),s=n(38311),l=n.n(s),c=n(58192),u=n.n(c),d=n(38060),f=n.n(d),h=n(54865),p=n.n(h),m=n(46449),y={};y.styleTagTransform=p(),y.setAttributes=u(),y.insert=l().bind(null,"head"),y.domAPI=o(),y.insertStyleElement=f(),a()(m.Z,y),t.default=m.Z&&m.Z.locals?m.Z.locals:void 0},47161:function(e,t,n){"use strict";var r=n(1892),a=n.n(r),i=n(95760),o=n.n(i),s=n(38311),l=n.n(s),c=n(58192),u=n.n(c),d=n(38060),f=n.n(d),h=n(54865),p=n.n(h),m=n(16639),y={};y.styleTagTransform=p(),y.setAttributes=u(),y.insert=l().bind(null,"head"),y.domAPI=o(),y.insertStyleElement=f(),a()(m.Z,y),m.Z&&m.Z.locals&&m.Z.locals},98555:function(e,t,n){"use strict";function r(e,t){return void 0===t&&(t=!1),"true"!==e&&"false"!==e?t:"false"!==e}function a(e,t){return void 0===t&&(t=0),!e||isNaN(e)?t:parseFloat(e)}n.d(t,{f:function(){return a},s:function(){return r}})},85951:function(e,t,n){"use strict";n.d(t,{a:function(){return a},z:function(){return r}});var r=function(){if(window.location.search)return window.location.search;var e=window.location.href.indexOf("?");return-1!==e?window.location.href.substring(e):""},a=function(e,t){return t||(t=r()),new URLSearchParams(t).get(e)||""}},23935:function(e,t,n){var r={"./dashboard/apikeys":[48571,9968],"./dashboard/apikeys.html":[29249,8903],"./dashboard/apikeys.js":[48571,9968],"./dashboard/dashboard":[45124,1809,7515],"./dashboard/dashboard.html":[89853,9706],"./dashboard/dashboard.js":[45124,1809,7515],"./dashboard/devices/device":[29258,8021],"./dashboard/devices/device.html":[43542,3853],"./dashboard/devices/device.js":[29258,8021],"./dashboard/devices/devices":[69552,9375],"./dashboard/devices/devices.html":[64948,3792],"./dashboard/devices/devices.js":[69552,9375],"./dashboard/dlna/profile":[20171,3488],"./dashboard/dlna/profile.html":[52585,7442],"./dashboard/dlna/profile.js":[20171,3488],"./dashboard/dlna/profiles":[91742,7642],"./dashboard/dlna/profiles.html":[61495,9955],"./dashboard/dlna/profiles.js":[91742,7642],"./dashboard/dlna/settings":[58064,4108],"./dashboard/dlna/settings.html":[23206,3356],"./dashboard/dlna/settings.js":[58064,4108],"./dashboard/encodingsettings":[4022,2832],"./dashboard/encodingsettings.html":[11801,8602],"./dashboard/encodingsettings.js":[4022,2832],"./dashboard/general":[4282,4083],"./dashboard/general.html":[85667,9515],"./dashboard/general.js":[4282,4083],"./dashboard/library":[77693,2118],"./dashboard/library.html":[14485,3961],"./dashboard/library.js":[77693,2118],"./dashboard/librarydisplay":[44787,1181],"./dashboard/librarydisplay.html":[68315,3320],"./dashboard/librarydisplay.js":[44787,1181],"./dashboard/logs":[29206,8170],"./dashboard/logs.html":[62015,5785],"./dashboard/logs.js":[29206,8170],"./dashboard/metadataImages":[3864,1577],"./dashboard/metadataImages.js":[3864,1577],"./dashboard/metadataimages.html":[70869,9200],"./dashboard/metadatanfo":[41422,437],"./dashboard/metadatanfo.html":[30267,5421],"./dashboard/metadatanfo.js":[41422,437],"./dashboard/networking":[52566,8797],"./dashboard/networking.html":[11479,5162],"./dashboard/networking.js":[52566,8797],"./dashboard/notifications/notification":[12027,6408],"./dashboard/notifications/notification/":[12027,6408],"./dashboard/notifications/notification/index":[12027,6408],"./dashboard/notifications/notification/index.html":[73162,4795],"./dashboard/notifications/notification/index.js":[12027,6408],"./dashboard/notifications/notifications":[29431,2909],"./dashboard/notifications/notifications/":[29431,2909],"./dashboard/notifications/notifications/index":[29431,2909],"./dashboard/notifications/notifications/index.html":[41085,8399],"./dashboard/notifications/notifications/index.js":[29431,2909],"./dashboard/playback":[17860,729],"./dashboard/playback.html":[17076,2975],"./dashboard/playback.js":[17860,729],"./dashboard/plugins/add":[30473,1951,6968],"./dashboard/plugins/add/":[30473,1951,6968],"./dashboard/plugins/add/index":[30473,1951,6968],"./dashboard/plugins/add/index.html":[73238,5064],"./dashboard/plugins/add/index.js":[30473,1951,6968],"./dashboard/plugins/available":[39504,5948],"./dashboard/plugins/available/":[39504,5948],"./dashboard/plugins/available/index":[39504,5948],"./dashboard/plugins/available/index.html":[37810,7765],"./dashboard/plugins/available/index.js":[39504,5948],"./dashboard/plugins/installed":[38903,6728],"./dashboard/plugins/installed/":[38903,6728],"./dashboard/plugins/installed/index":[38903,6728],"./dashboard/plugins/installed/index.html":[57870,9655],"./dashboard/plugins/installed/index.js":[38903,6728],"./dashboard/plugins/repositories":[40058,2414],"./dashboard/plugins/repositories/":[40058,2414],"./dashboard/plugins/repositories/index":[40058,2414],"./dashboard/plugins/repositories/index.html":[89618,1591],"./dashboard/plugins/repositories/index.js":[40058,2414],"./dashboard/scheduledtasks/scheduledtask":[76293,3006],"./dashboard/scheduledtasks/scheduledtask.html":[18010,5311],"./dashboard/scheduledtasks/scheduledtask.js":[76293,3006],"./dashboard/scheduledtasks/scheduledtasks":[25810,570],"./dashboard/scheduledtasks/scheduledtasks.html":[91824,6390],"./dashboard/scheduledtasks/scheduledtasks.js":[25810,570],"./dashboard/serveractivity":[44226,1809,838],"./dashboard/serveractivity.html":[46587,704],"./dashboard/serveractivity.js":[44226,1809,838],"./dashboard/streaming":[84305,4785],"./dashboard/streaming.html":[7815,9954],"./dashboard/streaming.js":[84305,4785],"./edititemmetadata":[19048,6344],"./edititemmetadata.html":[99799,8815],"./edititemmetadata.js":[19048,6344],"./favorites":[4126,205],"./favorites.js":[4126,205],"./hometab":[42513,4806,4544],"./hometab.js":[42513,4806,4544],"./itemDetails":[71341,1809,241,3873,9337,7686],"./itemDetails/":[71341,1809,241,3873,9337,7686],"./itemDetails/index":[71341,1809,241,3873,9337,7686],"./itemDetails/index.html":[20496,9865],"./itemDetails/index.js":[71341,1809,241,3873,9337,7686],"./list":[36942,241,3873,3093],"./list.html":[19479,882],"./list.js":[36942,241,3873,3093],"./livetv.html":[15104,40],"./livetv/livetvchannels":[67007,7031],"./livetv/livetvchannels.js":[67007,7031],"./livetv/livetvguide":[8786,7425],"./livetv/livetvguide.js":[8786,7425],"./livetv/livetvrecordings":[62844,2494],"./livetv/livetvrecordings.js":[62844,2494],"./livetv/livetvschedule":[57197,1438],"./livetv/livetvschedule.js":[57197,1438],"./livetv/livetvseriestimers":[61265,6597],"./livetv/livetvseriestimers.js":[61265,6597],"./livetv/livetvsuggested":[42831,410],"./livetv/livetvsuggested.js":[42831,410],"./livetvguideprovider":[55206,8019],"./livetvguideprovider.html":[86022,6152],"./livetvguideprovider.js":[55206,8019],"./livetvsettings":[3771,5967],"./livetvsettings.html":[95279,6005],"./livetvsettings.js":[3771,5967],"./livetvstatus":[7204,745],"./livetvstatus.html":[5574,4470],"./livetvstatus.js":[7204,745],"./livetvtuner":[34300,2379],"./livetvtuner.html":[87271,3544],"./livetvtuner.js":[34300,2379],"./movies/moviecollections":[90330,241,3873,2831],"./movies/moviecollections.js":[90330,241,3873,2831],"./movies/moviegenres":[6452,1575],"./movies/moviegenres.js":[6452,1575],"./movies/movies":[35508,241,3873,7488],"./movies/movies.html":[72839,7988],"./movies/movies.js":[35508,241,3873,7488],"./movies/moviesrecommended":[12341,7578],"./movies/moviesrecommended.js":[12341,7578],"./movies/movietrailers":[14857,241,3873,3479],"./movies/movietrailers.js":[14857,241,3873,3479],"./music/music.html":[91693,9107],"./music/musicalbums":[8718,241,3873,2970],"./music/musicalbums.js":[8718,241,3873,2970],"./music/musicartists":[23504,241,3873,2642],"./music/musicartists.js":[23504,241,3873,2642],"./music/musicgenres":[43416,5523],"./music/musicgenres.js":[43416,5523],"./music/musicplaylists":[43208,9997],"./music/musicplaylists.js":[43208,9997],"./music/musicrecommended":[4608,1353],"./music/musicrecommended.js":[4608,1353],"./music/songs":[25054,241,3873,6368],"./music/songs.js":[25054,241,3873,6368],"./playback/queue":[68756,241,3873,9337,5098],"./playback/queue/":[68756,241,3873,9337,5098],"./playback/queue/index":[68756,241,3873,9337,5098],"./playback/queue/index.html":[84718,9040],"./playback/queue/index.js":[68756,241,3873,9337,5098],"./playback/video":[17919,241,2016],"./playback/video/":[17919,241,2016],"./playback/video/index":[17919,241,2016],"./playback/video/index.html":[66875,6215],"./playback/video/index.js":[17919,241,2016],"./session/addServer":[95330,5051],"./session/addServer/":[95330,5051],"./session/addServer/index":[95330,5051],"./session/addServer/index.html":[9644,3780],"./session/addServer/index.js":[95330,5051],"./session/forgotPassword":[31508,3347],"./session/forgotPassword/":[31508,3347],"./session/forgotPassword/index":[31508,3347],"./session/forgotPassword/index.html":[67366,6219],"./session/forgotPassword/index.js":[31508,3347],"./session/login":[76933,1951,7051],"./session/login/":[76933,1951,7051],"./session/login/index":[76933,1951,7051],"./session/login/index.html":[20777,3778],"./session/login/index.js":[76933,1951,7051],"./session/login/login.scss":[35075,2657],"./session/resetPassword":[3140,9661],"./session/resetPassword/":[3140,9661],"./session/resetPassword/index":[3140,9661],"./session/resetPassword/index.html":[38094,1565],"./session/resetPassword/index.js":[3140,9661],"./session/selectServer":[98515,5319],"./session/selectServer/":[98515,5319],"./session/selectServer/index":[98515,5319],"./session/selectServer/index.html":[51935,8989],"./session/selectServer/index.js":[98515,5319],"./shows/episodes":[39873,241,3873,3064],"./shows/episodes.js":[39873,241,3873,3064],"./shows/tvgenres":[19372,9322],"./shows/tvgenres.js":[19372,9322],"./shows/tvrecommended":[56612,5240],"./shows/tvrecommended.html":[26623,8601],"./shows/tvrecommended.js":[56612,5240],"./shows/tvshows":[63648,241,3873,5815],"./shows/tvshows.js":[63648,241,3873,5815],"./shows/tvstudios":[9300,858],"./shows/tvstudios.js":[9300,858],"./shows/tvupcoming":[34968,8541],"./shows/tvupcoming.js":[34968,8541],"./user/controls":[62985,5884],"./user/controls/":[62985,5884],"./user/controls/index":[62985,5884],"./user/controls/index.html":[62133,4880],"./user/controls/index.js":[62985,5884],"./user/display":[41023,1999],"./user/display/":[41023,1999],"./user/display/index":[41023,1999],"./user/display/index.html":[91596,6418],"./user/display/index.js":[41023,1999],"./user/home":[680,4806,5438],"./user/home/":[680,4806,5438],"./user/home/index":[680,4806,5438],"./user/home/index.html":[59143,4113],"./user/home/index.js":[680,4806,5438],"./user/menu":[29411,9030],"./user/menu/":[29411,9030],"./user/menu/index":[29411,9030],"./user/menu/index.html":[71477,2005],"./user/menu/index.js":[29411,9030],"./user/playback":[62088,3736],"./user/playback/":[62088,3736],"./user/playback/index":[62088,3736],"./user/playback/index.html":[77903,6526],"./user/playback/index.js":[62088,3736],"./user/quickConnect":[99724,3744],"./user/quickConnect/":[99724,3744],"./user/quickConnect/helper":[67863,9425],"./user/quickConnect/helper.js":[67863,9425],"./user/quickConnect/index":[99724,3744],"./user/quickConnect/index.html":[97835,6870],"./user/quickConnect/index.js":[99724,3744],"./user/subtitles":[14338,102],"./user/subtitles/":[14338,102],"./user/subtitles/index":[14338,102],"./user/subtitles/index.html":[42302,7938],"./user/subtitles/index.js":[14338,102],"./wizard/finish":[76892,7375],"./wizard/finish/":[76892,7375],"./wizard/finish/index":[76892,7375],"./wizard/finish/index.html":[85227,9850],"./wizard/finish/index.js":[76892,7375],"./wizard/library.html":[39802,7090],"./wizard/remote":[56029,3566],"./wizard/remote/":[56029,3566],"./wizard/remote/index":[56029,3566],"./wizard/remote/index.html":[61203,2434],"./wizard/remote/index.js":[56029,3566],"./wizard/settings":[12731,6791],"./wizard/settings/":[12731,6791],"./wizard/settings/index":[12731,6791],"./wizard/settings/index.html":[42716,1078],"./wizard/settings/index.js":[12731,6791],"./wizard/start":[64658,3827],"./wizard/start/":[64658,3827],"./wizard/start/index":[64658,3827],"./wizard/start/index.html":[60157,7523],"./wizard/start/index.js":[64658,3827],"./wizard/user":[97820,6245],"./wizard/user/":[97820,6245],"./wizard/user/index":[97820,6245],"./wizard/user/index.html":[79580,8243],"./wizard/user/index.js":[97820,6245]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=23935,e.exports=a},2706:function(e,t,n){var r={"./dashboard/apikeys":[48571,9968],"./dashboard/apikeys.html":[29249,8903],"./dashboard/apikeys.js":[48571,9968],"./dashboard/dashboard":[45124,1809,7515],"./dashboard/dashboard.html":[89853,9706],"./dashboard/dashboard.js":[45124,1809,7515],"./dashboard/devices/device":[29258,8021],"./dashboard/devices/device.html":[43542,3853],"./dashboard/devices/device.js":[29258,8021],"./dashboard/devices/devices":[69552,9375],"./dashboard/devices/devices.html":[64948,3792],"./dashboard/devices/devices.js":[69552,9375],"./dashboard/dlna/profile":[20171,3488],"./dashboard/dlna/profile.html":[52585,7442],"./dashboard/dlna/profile.js":[20171,3488],"./dashboard/dlna/profiles":[91742,7642],"./dashboard/dlna/profiles.html":[61495,9955],"./dashboard/dlna/profiles.js":[91742,7642],"./dashboard/dlna/settings":[58064,4108],"./dashboard/dlna/settings.html":[23206,3356],"./dashboard/dlna/settings.js":[58064,4108],"./dashboard/encodingsettings":[4022,2832],"./dashboard/encodingsettings.html":[11801,8602],"./dashboard/encodingsettings.js":[4022,2832],"./dashboard/general":[4282,4083],"./dashboard/general.html":[85667,9515],"./dashboard/general.js":[4282,4083],"./dashboard/library":[77693,2118],"./dashboard/library.html":[14485,3961],"./dashboard/library.js":[77693,2118],"./dashboard/librarydisplay":[44787,1181],"./dashboard/librarydisplay.html":[68315,3320],"./dashboard/librarydisplay.js":[44787,1181],"./dashboard/logs":[29206,8170],"./dashboard/logs.html":[62015,5785],"./dashboard/logs.js":[29206,8170],"./dashboard/metadataImages":[3864,1577],"./dashboard/metadataImages.js":[3864,1577],"./dashboard/metadataimages.html":[70869,9200],"./dashboard/metadatanfo":[41422,437],"./dashboard/metadatanfo.html":[30267,5421],"./dashboard/metadatanfo.js":[41422,437],"./dashboard/networking":[52566,8797],"./dashboard/networking.html":[11479,5162],"./dashboard/networking.js":[52566,8797],"./dashboard/notifications/notification":[12027,6408],"./dashboard/notifications/notification/":[12027,6408],"./dashboard/notifications/notification/index":[12027,6408],"./dashboard/notifications/notification/index.html":[73162,4795],"./dashboard/notifications/notification/index.js":[12027,6408],"./dashboard/notifications/notifications":[29431,2909],"./dashboard/notifications/notifications/":[29431,2909],"./dashboard/notifications/notifications/index":[29431,2909],"./dashboard/notifications/notifications/index.html":[41085,8399],"./dashboard/notifications/notifications/index.js":[29431,2909],"./dashboard/playback":[17860,729],"./dashboard/playback.html":[17076,2975],"./dashboard/playback.js":[17860,729],"./dashboard/plugins/add":[30473,1951,6968],"./dashboard/plugins/add/":[30473,1951,6968],"./dashboard/plugins/add/index":[30473,1951,6968],"./dashboard/plugins/add/index.html":[73238,5064],"./dashboard/plugins/add/index.js":[30473,1951,6968],"./dashboard/plugins/available":[39504,5948],"./dashboard/plugins/available/":[39504,5948],"./dashboard/plugins/available/index":[39504,5948],"./dashboard/plugins/available/index.html":[37810,7765],"./dashboard/plugins/available/index.js":[39504,5948],"./dashboard/plugins/installed":[38903,6728],"./dashboard/plugins/installed/":[38903,6728],"./dashboard/plugins/installed/index":[38903,6728],"./dashboard/plugins/installed/index.html":[57870,9655],"./dashboard/plugins/installed/index.js":[38903,6728],"./dashboard/plugins/repositories":[40058,2414],"./dashboard/plugins/repositories/":[40058,2414],"./dashboard/plugins/repositories/index":[40058,2414],"./dashboard/plugins/repositories/index.html":[89618,1591],"./dashboard/plugins/repositories/index.js":[40058,2414],"./dashboard/scheduledtasks/scheduledtask":[76293,3006],"./dashboard/scheduledtasks/scheduledtask.html":[18010,5311],"./dashboard/scheduledtasks/scheduledtask.js":[76293,3006],"./dashboard/scheduledtasks/scheduledtasks":[25810,570],"./dashboard/scheduledtasks/scheduledtasks.html":[91824,6390],"./dashboard/scheduledtasks/scheduledtasks.js":[25810,570],"./dashboard/serveractivity":[44226,1809,838],"./dashboard/serveractivity.html":[46587,704],"./dashboard/serveractivity.js":[44226,1809,838],"./dashboard/streaming":[84305,4785],"./dashboard/streaming.html":[7815,9954],"./dashboard/streaming.js":[84305,4785],"./edititemmetadata":[19048,6344],"./edititemmetadata.html":[99799,8815],"./edititemmetadata.js":[19048,6344],"./favorites":[4126,205],"./favorites.js":[4126,205],"./hometab":[42513,4806,4544],"./hometab.js":[42513,4806,4544],"./itemDetails":[71341,1809,241,3873,9337,7686],"./itemDetails/":[71341,1809,241,3873,9337,7686],"./itemDetails/index":[71341,1809,241,3873,9337,7686],"./itemDetails/index.html":[20496,9865],"./itemDetails/index.js":[71341,1809,241,3873,9337,7686],"./list":[36942,241,3873,3093],"./list.html":[19479,882],"./list.js":[36942,241,3873,3093],"./livetv.html":[15104,40],"./livetv/livetvchannels":[67007,7031],"./livetv/livetvchannels.js":[67007,7031],"./livetv/livetvguide":[8786,7425],"./livetv/livetvguide.js":[8786,7425],"./livetv/livetvrecordings":[62844,2494],"./livetv/livetvrecordings.js":[62844,2494],"./livetv/livetvschedule":[57197,1438],"./livetv/livetvschedule.js":[57197,1438],"./livetv/livetvseriestimers":[61265,6597],"./livetv/livetvseriestimers.js":[61265,6597],"./livetv/livetvsuggested":[42831,410],"./livetv/livetvsuggested.js":[42831,410],"./livetvguideprovider":[55206,8019],"./livetvguideprovider.html":[86022,6152],"./livetvguideprovider.js":[55206,8019],"./livetvsettings":[3771,5967],"./livetvsettings.html":[95279,6005],"./livetvsettings.js":[3771,5967],"./livetvstatus":[7204,745],"./livetvstatus.html":[5574,4470],"./livetvstatus.js":[7204,745],"./livetvtuner":[34300,2379],"./livetvtuner.html":[87271,3544],"./livetvtuner.js":[34300,2379],"./movies/moviecollections":[90330,241,3873,2831],"./movies/moviecollections.js":[90330,241,3873,2831],"./movies/moviegenres":[6452,1575],"./movies/moviegenres.js":[6452,1575],"./movies/movies":[35508,241,3873,7488],"./movies/movies.html":[72839,7988],"./movies/movies.js":[35508,241,3873,7488],"./movies/moviesrecommended":[12341,7578],"./movies/moviesrecommended.js":[12341,7578],"./movies/movietrailers":[14857,241,3873,3479],"./movies/movietrailers.js":[14857,241,3873,3479],"./music/music.html":[91693,9107],"./music/musicalbums":[8718,241,3873,2970],"./music/musicalbums.js":[8718,241,3873,2970],"./music/musicartists":[23504,241,3873,2642],"./music/musicartists.js":[23504,241,3873,2642],"./music/musicgenres":[43416,5523],"./music/musicgenres.js":[43416,5523],"./music/musicplaylists":[43208,9997],"./music/musicplaylists.js":[43208,9997],"./music/musicrecommended":[4608,1353],"./music/musicrecommended.js":[4608,1353],"./music/songs":[25054,241,3873,6368],"./music/songs.js":[25054,241,3873,6368],"./playback/queue":[68756,241,3873,9337,5098],"./playback/queue/":[68756,241,3873,9337,5098],"./playback/queue/index":[68756,241,3873,9337,5098],"./playback/queue/index.html":[84718,9040],"./playback/queue/index.js":[68756,241,3873,9337,5098],"./playback/video":[17919,241,2016],"./playback/video/":[17919,241,2016],"./playback/video/index":[17919,241,2016],"./playback/video/index.html":[66875,6215],"./playback/video/index.js":[17919,241,2016],"./session/addServer":[95330,5051],"./session/addServer/":[95330,5051],"./session/addServer/index":[95330,5051],"./session/addServer/index.html":[9644,3780],"./session/addServer/index.js":[95330,5051],"./session/forgotPassword":[31508,3347],"./session/forgotPassword/":[31508,3347],"./session/forgotPassword/index":[31508,3347],"./session/forgotPassword/index.html":[67366,6219],"./session/forgotPassword/index.js":[31508,3347],"./session/login":[76933,1951,7051],"./session/login/":[76933,1951,7051],"./session/login/index":[76933,1951,7051],"./session/login/index.html":[20777,3778],"./session/login/index.js":[76933,1951,7051],"./session/login/login.scss":[35075,2657],"./session/resetPassword":[3140,9661],"./session/resetPassword/":[3140,9661],"./session/resetPassword/index":[3140,9661],"./session/resetPassword/index.html":[38094,1565],"./session/resetPassword/index.js":[3140,9661],"./session/selectServer":[98515,5319],"./session/selectServer/":[98515,5319],"./session/selectServer/index":[98515,5319],"./session/selectServer/index.html":[51935,8989],"./session/selectServer/index.js":[98515,5319],"./shows/episodes":[39873,241,3873,3064],"./shows/episodes.js":[39873,241,3873,3064],"./shows/tvgenres":[19372,9322],"./shows/tvgenres.js":[19372,9322],"./shows/tvrecommended":[56612,5240],"./shows/tvrecommended.html":[26623,8601],"./shows/tvrecommended.js":[56612,5240],"./shows/tvshows":[63648,241,3873,5815],"./shows/tvshows.js":[63648,241,3873,5815],"./shows/tvstudios":[9300,858],"./shows/tvstudios.js":[9300,858],"./shows/tvupcoming":[34968,8541],"./shows/tvupcoming.js":[34968,8541],"./user/controls":[62985,5884],"./user/controls/":[62985,5884],"./user/controls/index":[62985,5884],"./user/controls/index.html":[62133,4880],"./user/controls/index.js":[62985,5884],"./user/display":[41023,1999],"./user/display/":[41023,1999],"./user/display/index":[41023,1999],"./user/display/index.html":[91596,6418],"./user/display/index.js":[41023,1999],"./user/home":[680,4806,5438],"./user/home/":[680,4806,5438],"./user/home/index":[680,4806,5438],"./user/home/index.html":[59143,4113],"./user/home/index.js":[680,4806,5438],"./user/menu":[29411,9030],"./user/menu/":[29411,9030],"./user/menu/index":[29411,9030],"./user/menu/index.html":[71477,2005],"./user/menu/index.js":[29411,9030],"./user/playback":[62088,3736],"./user/playback/":[62088,3736],"./user/playback/index":[62088,3736],"./user/playback/index.html":[77903,6526],"./user/playback/index.js":[62088,3736],"./user/quickConnect":[99724,3744],"./user/quickConnect/":[99724,3744],"./user/quickConnect/helper":[67863,9425],"./user/quickConnect/helper.js":[67863,9425],"./user/quickConnect/index":[99724,3744],"./user/quickConnect/index.html":[97835,6870],"./user/quickConnect/index.js":[99724,3744],"./user/subtitles":[14338,102],"./user/subtitles/":[14338,102],"./user/subtitles/index":[14338,102],"./user/subtitles/index.html":[42302,7938],"./user/subtitles/index.js":[14338,102],"./wizard/finish":[76892,7375],"./wizard/finish/":[76892,7375],"./wizard/finish/index":[76892,7375],"./wizard/finish/index.html":[85227,9850],"./wizard/finish/index.js":[76892,7375],"./wizard/library.html":[39802,7090],"./wizard/remote":[56029,3566],"./wizard/remote/":[56029,3566],"./wizard/remote/index":[56029,3566],"./wizard/remote/index.html":[61203,2434],"./wizard/remote/index.js":[56029,3566],"./wizard/settings":[12731,6791],"./wizard/settings/":[12731,6791],"./wizard/settings/index":[12731,6791],"./wizard/settings/index.html":[42716,1078],"./wizard/settings/index.js":[12731,6791],"./wizard/start":[64658,3827],"./wizard/start/":[64658,3827],"./wizard/start/index":[64658,3827],"./wizard/start/index.html":[60157,7523],"./wizard/start/index.js":[64658,3827],"./wizard/user":[97820,6245],"./wizard/user/":[97820,6245],"./wizard/user/index":[97820,6245],"./wizard/user/index.html":[79580,8243],"./wizard/user/index.js":[97820,6245]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=2706,e.exports=a},72982:function(e,t,n){var r={"./backdropScreensaver/plugin":[67249,8098],"./backdropScreensaver/plugin.js":[67249,8098],"./bookPlayer/plugin":[46353,7634],"./bookPlayer/plugin.js":[46353,7634],"./bookPlayer/style.scss":[49353,8506],"./bookPlayer/tableOfContents":[65055,414],"./bookPlayer/tableOfContents.js":[65055,414],"./bookPlayer/template.html":[6453,4742],"./chromecastPlayer/plugin":[99689,9601],"./chromecastPlayer/plugin.js":[99689,9601],"./comicsPlayer/plugin":[6781,9727,2430],"./comicsPlayer/plugin.js":[6781,9727,2430],"./comicsPlayer/style.scss":[33609,2126],"./experimentalWarnings/plugin":[6390,5004],"./experimentalWarnings/plugin.js":[6390,5004],"./htmlAudioPlayer/plugin":[13862,4122],"./htmlAudioPlayer/plugin.js":[13862,4122],"./htmlVideoPlayer/plugin":[13802,2169],"./htmlVideoPlayer/plugin.js":[13802,2169],"./htmlVideoPlayer/style.scss":[78159,9677],"./logoScreensaver/plugin":[56351,6777],"./logoScreensaver/plugin.js":[56351,6777],"./logoScreensaver/style.scss":[67883,6210],"./pdfPlayer/plugin":[81580,7058],"./pdfPlayer/plugin.js":[81580,7058],"./pdfPlayer/style.scss":[27120,4942],"./photoPlayer/plugin":[39244,7176],"./photoPlayer/plugin.js":[39244,7176],"./playAccessValidation/plugin":[99489,1844],"./playAccessValidation/plugin.js":[99489,1844],"./sessionPlayer/plugin":[70497,6813],"./sessionPlayer/plugin.js":[70497,6813],"./youtubePlayer/plugin":[79637,2125],"./youtubePlayer/plugin.js":[79637,2125],"./youtubePlayer/style.scss":[34641,2911]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=72982,e.exports=a},32648:function(e,t,n){var r={"./af.json":[20164,164],"./ar.json":[23897,3897],"./as.json":[48276,8276],"./be-by.json":[76885,6885],"./bg-bg.json":[14337,4337],"./bn_BD.json":[31495,1495],"./ca.json":[63929,3929],"./cs.json":[98626,8626],"./cy.json":[55672,5672],"./da.json":[74867,4867],"./de.json":[2177,2177],"./el.json":[61130,1130],"./en-gb.json":[67860,7860],"./en-us.json":[23302,3302],"./eo.json":[512,512],"./es-ar.json":[30528,528],"./es-mx.json":[20046,46],"./es.json":[17307,7307],"./es_419.json":[319,319],"./es_DO.json":[78129,8129],"./et.json":[32886,2886],"./eu.json":[16180,6180],"./fa.json":[57923,7923],"./fi.json":[96708,6708],"./fil.json":[55222,5222],"./fr-ca.json":[74373,4373],"./fr.json":[8397,8397],"./gl.json":[10249,249],"./gsw.json":[10574,574],"./he.json":[24136,4136],"./hi-in.json":[56948,6948],"./hr.json":[91975,1975],"./hu.json":[44608,4608],"./id.json":[53585,3585],"./is-is.json":[57114,7114],"./it.json":[82574,2574],"./ja.json":[84829,4829],"./kab.json":[87864,7864],"./kk.json":[99800,9800],"./kn.json":[5649,5649],"./ko.json":[64602,4602],"./lt-lt.json":[34557,4557],"./lv.json":[67507,7507],"./mk.json":[71629,1629],"./ml.json":[18537,8537],"./mn.json":[47216,7216],"./mr.json":[66641,6641],"./ms.json":[55184,5184],"./my.json":[29368,9368],"./nb.json":[73604,3604],"./ne.json":[41074,1074],"./nl.json":[85058,5058],"./nn.json":[18037,8037],"./pa.json":[14987,4987],"./pl.json":[12633,2633],"./pr.json":[26668,6668],"./pt-br.json":[31186,1186],"./pt-pt.json":[84615,4615],"./pt.json":[70471,471],"./ro.json":[96185,6185],"./ru.json":[29440,9440],"./sk.json":[39606,9606],"./sl-si.json":[31253,1253],"./sq.json":[53106,3106],"./sr.json":[8504,8504],"./sv.json":[75653,5653],"./ta.json":[43733,3733],"./te.json":[87277,7277],"./th.json":[81015,1015],"./tr.json":[79451,9451],"./ug.json":[22480,2480],"./uk.json":[90492,492],"./ur_PK.json":[68692,8692],"./uz.json":[68069,8069],"./vi.json":[89446,9446],"./zh-cn.json":[79204,9204],"./zh-hk.json":[70872,872],"./zh-tw.json":[96558,6558],"./zu.json":[44176,4176]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n.t(a,19)}))}a.keys=function(){return Object.keys(r)},a.id=32648,e.exports=a}},function(e){e.O(0,[1809,5304,8802,3831,2766,4515,3816,9667,5841,3454,6670,6154,1057,1055,2985,9340,6710],(function(){return 97238,e(e.s=97238)})),e.O()}]);