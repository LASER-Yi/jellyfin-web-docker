"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[40544],{48962:function(e,t,s){s.r(t);var a=s(62540),n=s(63696),i=s(9055),r=s(22622),l=s(46782),c=s(84849),d=s(65242),o=s(84851),m=s(69410),u=s(891),p=s(92058),y=s(5898),h=s(34789),I=s(89100),f=s(13615),x=function(e,t){var s="function"==typeof Symbol&&e[Symbol.iterator];if(!s)return e;var a,n,i=s.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)r.push(a.value)}catch(e){n={error:e}}finally{try{a&&!a.done&&(s=i.return)&&s.call(i)}finally{if(n)throw n.error}}return r};t.default=function(){var e,t=(0,m.gf)().user,s=x((0,i.ok)(),1)[0],v=(0,u.K)(),j=v.data,N=v.isPending,b=(0,p.k)().data,g=x((0,n.useState)(),2),k=g[0],A=g[1],B=(0,n.useMemo)((function(){return s.get("userId")||(null==t?void 0:t.Id)}),[t,s]),S=(0,n.useMemo)((function(){return B&&B===(null==t?void 0:t.Id)}),[t,B]);return(0,n.useEffect)((function(){B&&(B===(null==t?void 0:t.Id)?A(t):A(null==b?void 0:b.find((function(e){var t=e.Id;return B===t}))))}),[t,B,b]),B&&k&&!N?(0,a.jsx)(d.A,{id:"myPreferencesMenuPage",className:"libraryPage userPreferencesPage noSecondaryNavPage mainAnimatedPage",title:y.Ay.translate("Settings"),shouldAutoFocus:!0,children:(0,a.jsx)("div",{className:"padded-left padded-right padded-bottom-page padded-top",children:(0,a.jsxs)("div",{className:"readOnlyContent",style:{margin:"0 auto"},children:[(0,a.jsxs)("div",{className:"verticalSection verticalSection-extrabottompadding",children:[(0,a.jsx)("h2",{className:"sectionTitle headerUsername",style:{paddingLeft:"0.25em"},children:k.Name}),(0,a.jsx)(o.A,{href:"#/userprofile?userId=".concat(B),className:"lnkUserProfile listItem-border",style:{display:"block",margin:0,padding:0},children:(0,a.jsxs)("div",{className:"listItem",children:[(0,a.jsx)("span",{className:"material-icons listItemIcon listItemIcon-transparent person","aria-hidden":"true"}),(0,a.jsx)("div",{className:"listItemBody",children:(0,a.jsx)("div",{className:"listItemBodyText",children:y.Ay.translate("Profile")})})]})}),j&&(0,a.jsx)(o.A,{href:"#/quickconnect?userId=".concat(B),className:"lnkQuickConnectPreferences listItem-border",style:{display:"block",margin:0,padding:0},children:(0,a.jsxs)("div",{className:"listItem",children:[(0,a.jsx)("span",{className:"material-icons listItemIcon listItemIcon-transparent phonelink_lock","aria-hidden":"true"}),(0,a.jsx)("div",{className:"listItemBody",children:(0,a.jsx)("div",{className:"listItemBodyText",children:y.Ay.translate("QuickConnect")})})]})}),(0,a.jsx)(o.A,{href:"#/mypreferencesdisplay?userId=".concat(B),className:"lnkDisplayPreferences listItem-border",style:{display:"block",margin:0,padding:0},children:(0,a.jsxs)("div",{className:"listItem",children:[(0,a.jsx)("span",{className:"material-icons listItemIcon listItemIcon-transparent tv","aria-hidden":"true"}),(0,a.jsx)("div",{className:"listItemBody",children:(0,a.jsx)("div",{className:"listItemBodyText",children:y.Ay.translate("Display")})})]})}),(0,a.jsx)(o.A,{href:"#/mypreferenceshome?userId=".concat(B),className:"lnkHomePreferences listItem-border",style:{display:"block",margin:0,padding:0},children:(0,a.jsxs)("div",{className:"listItem",children:[(0,a.jsx)("span",{className:"material-icons listItemIcon listItemIcon-transparent home","aria-hidden":"true"}),(0,a.jsx)("div",{className:"listItemBody",children:(0,a.jsx)("div",{className:"listItemBodyText",children:y.Ay.translate("Home")})})]})}),(0,a.jsx)(o.A,{href:"#/mypreferencesplayback?userId=".concat(B),className:"lnkPlaybackPreferences listItem-border",style:{display:"block",margin:0,padding:0},children:(0,a.jsxs)("div",{className:"listItem",children:[(0,a.jsx)("span",{className:"material-icons listItemIcon listItemIcon-transparent play_circle_filled","aria-hidden":"true"}),(0,a.jsx)("div",{className:"listItemBody",children:(0,a.jsx)("div",{className:"listItemBodyText",children:y.Ay.translate("TitlePlayback")})})]})}),(0,a.jsx)(o.A,{href:"#/mypreferencessubtitles?userId=".concat(B),className:"lnkSubtitlePreferences listItem-border",style:{display:"block",margin:0,padding:0},children:(0,a.jsxs)("div",{className:"listItem",children:[(0,a.jsx)("span",{className:"material-icons listItemIcon listItemIcon-transparent closed_caption","aria-hidden":"true"}),(0,a.jsx)("div",{className:"listItemBody",children:(0,a.jsx)("div",{className:"listItemBodyText",children:y.Ay.translate("Subtitles")})})]})}),r.g.supports("clientsettings")&&(0,a.jsx)(o.A,{onClick:f.A.openClientSettings,className:"clientSettings listItem-border",style:{display:"block",margin:0,padding:0},children:(0,a.jsxs)("div",{className:"listItem",children:[(0,a.jsx)("span",{className:"material-icons listItemIcon listItemIcon-transparent devices_other","aria-hidden":"true"}),(0,a.jsx)("div",{className:"listItemBody",children:(0,a.jsx)("div",{className:"listItemBodyText",children:y.Ay.translate("ClientSettings")})})]})}),S&&!h.A.mobile&&(0,a.jsx)(o.A,{href:"#/mypreferencescontrols?userId=".concat(B),className:"lnkControlsPreferences listItem-border",style:{display:"block",margin:0,padding:0},children:(0,a.jsxs)("div",{className:"listItem",children:[(0,a.jsx)("span",{className:"material-icons listItemIcon listItemIcon-transparent keyboard","aria-hidden":"true"}),(0,a.jsx)("div",{className:"listItemBody",children:(0,a.jsx)("div",{className:"listItemBodyText",children:y.Ay.translate("Controls")})})]})})]}),S&&(null===(e=k.Policy)||void 0===e?void 0:e.IsAdministrator)&&!l.A.tv&&(0,a.jsxs)("div",{className:"adminSection verticalSection verticalSection-extrabottompadding",children:[(0,a.jsx)("h2",{className:"sectionTitle headerUsername",style:{paddingLeft:"0.25em"},children:y.Ay.translate("HeaderAdmin")}),(0,a.jsx)(o.A,{href:"#/dashboard",className:"listItem-border",style:{display:"block",margin:0,padding:0},children:(0,a.jsxs)("div",{className:"listItem",children:[(0,a.jsx)("span",{className:"material-icons listItemIcon listItemIcon-transparent dashboard","aria-hidden":"true"}),(0,a.jsx)("div",{className:"listItemBody",children:(0,a.jsx)("div",{className:"listItemBodyText",children:y.Ay.translate("TabDashboard")})})]})}),(0,a.jsx)(o.A,{href:"#/metadata",className:"listItem-border",style:{display:"block",margin:0,padding:0},children:(0,a.jsxs)("div",{className:"listItem",children:[(0,a.jsx)("span",{className:"material-icons listItemIcon listItemIcon-transparent mode_edit","aria-hidden":"true"}),(0,a.jsx)("div",{className:"listItemBody",children:(0,a.jsx)("div",{className:"listItemBodyText",children:y.Ay.translate("MetadataManager")})})]})})]}),S&&(0,a.jsxs)("div",{className:"userSection verticalSection verticalSection-extrabottompadding",children:[(0,a.jsx)("h2",{className:"sectionTitle headerUsername",style:{paddingLeft:"0.25em"},children:y.Ay.translate("HeaderUser")}),r.g.supports("multiserver")&&(0,a.jsx)(o.A,{onClick:I.default.selectServer,className:"selectServer listItem-border",style:{display:"block",margin:0,padding:0},children:(0,a.jsxs)("div",{className:"listItem",children:[(0,a.jsx)("span",{className:"material-icons listItemIcon listItemIcon-transparent storage","aria-hidden":"true"}),(0,a.jsx)("div",{className:"listItemBody",children:(0,a.jsx)("div",{className:"listItemBodyText",children:y.Ay.translate("SelectServer")})})]})}),(0,a.jsx)(o.A,{onClick:I.default.logout,className:"btnLogout listItem-border",style:{display:"block",margin:0,padding:0},children:(0,a.jsxs)("div",{className:"listItem",children:[(0,a.jsx)("span",{className:"material-icons listItemIcon listItemIcon-transparent exit_to_app","aria-hidden":"true"}),(0,a.jsx)("div",{className:"listItemBody",children:(0,a.jsx)("div",{className:"listItemBodyText",children:y.Ay.translate("ButtonSignOut")})})]})}),r.g.supports("exitmenu")&&(0,a.jsx)(o.A,{onClick:r.g.exit,className:"exitApp listItem-border",style:{display:"block",margin:0,padding:0},children:(0,a.jsxs)("div",{className:"listItem",children:[(0,a.jsx)("span",{className:"material-icons listItemIcon listItemIcon-transparent close","aria-hidden":"true"}),(0,a.jsx)("div",{className:"listItemBody",children:(0,a.jsx)("div",{className:"listItemBodyText",children:y.Ay.translate("ButtonExitApp")})})]})})]})]})})}):(0,a.jsx)(c.A,{})}},92058:function(e,t,s){s.d(t,{k:function(){return l},y:function(){return c}});var a=s(7758),n=s(61586),i=s(69410),r=function(){return r=Object.assign||function(e){for(var t,s=1,a=arguments.length;s<a;s++)for(var n in t=arguments[s])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},r.apply(this,arguments)},l=function(e){var t=(0,i.gf)().api;return(0,n.I)({queryKey:["Users"],queryFn:function(s){var n=s.signal;return function(e,t,s){return n=void 0,i=void 0,l=function(){return function(e,t){var s,a,n,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},r=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return r.next=l(0),r.throw=l(1),r.return=l(2),"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(l){return function(c){return function(l){if(s)throw new TypeError("Generator is already executing.");for(;r&&(r=0,l[0]&&(i=0)),i;)try{if(s=1,a&&(n=2&l[0]?a.return:l[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,l[1])).done)return n;switch(a=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((n=(n=i.trys).length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){i.label=l[1];break}if(6===l[0]&&i.label<n[1]){i.label=n[1],n=l;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(l);break}n[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{s=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}(this,(function(n){switch(n.label){case 0:return[4,(0,a.q)(e).getUsers(t,{signal:null==s?void 0:s.signal})];case 1:return[2,n.sent().data]}}))},new((r=void 0)||(r=Promise))((function(e,t){function s(e){try{c(l.next(e))}catch(e){t(e)}}function a(e){try{c(l.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,a)}c((l=l.apply(n,i||[])).next())}));var n,i,r,l}(t,e,{signal:n})},enabled:!!t})},c=function(){var e=l(),t=e.data,s=function(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(s[a[n]]=e[a[n]])}return s}(e,["data"]),a={},n=[];return t&&t.forEach((function(e){var t=e.Id;t&&(a[t]=e),e.Name&&n.push(e.Name)})),r({users:t,usersById:a,names:n},s)}}}]);