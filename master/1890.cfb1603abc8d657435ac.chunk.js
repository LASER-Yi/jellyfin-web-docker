"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1890],{71890:function(e,t,a){a(5769),a(63238),a(61418),a(17460),a(14078),a(27471);var r=a(65009),i=a.n(r),s=a(61570),n=a(30325),o=a(98301),l=a(94994),c=a(52050),d=a(51869),u=(a(61414),a(82427),a(24432),a(38228),a(60635)),m=a(18613);function v(e){switch(e){case 0:return"smalllibrarytiles";case 1:return"resume";case 2:return"resumeaudio";case 3:return"resumebook";case 4:return"livetv";case 5:return"nextup";case 6:return"latestmedia";case 7:return"none";default:return""}}function p(e,t){for(var a=e.querySelectorAll(".itemsContainer"),r=[],i=0,s=a.length;i<s;i++)r.push(a[i].resume(t));return Promise.all(r)}function f(e,t,a,r,u,v,p){var f=v[p],T=e.querySelector(".section"+p);if("latestmedia"===f)!function(e,t,a,r){e.classList.remove("verticalSection");for(var i=["playlists","livetv","boxsets","channels"],s=0,n=r.length;s<n;s++){var o=r[s];if(-1===a.Configuration.LatestItemsExcludes.indexOf(o.Id)&&-1===i.indexOf(o.CollectionType||[])){var l=document.createElement("div");l.classList.add("verticalSection"),l.classList.add("hide"),e.appendChild(l),h(l,t,0,o)}}}(T,t,a,u);else if("librarytiles"===f||"smalllibrarytiles"===f||"smalllibrarytiles-automobile"===f||"librarytiles-automobile"===f)y(T,0,0,0,0,u);else if("librarybuttons"===f)!function(e,t,a,r,s){e.classList.remove("verticalSection");var n=function(e){var t="";t+='<div class="verticalSection verticalSection-extrabottompadding">',t+='<h2 class="sectionTitle sectionTitle-cards padded-left">'+l.ZP.translate("HeaderMyMedia")+"</h2>",t+='<div is="emby-itemscontainer" class="itemsContainer padded-left padded-right vertical-wrap focuscontainer-x" data-multiselect="false">';for(var a=0,r=e.length;a<r;a++){var s=e[a],n=d.ZP.getLibraryIcon(s.CollectionType);t+='<a is="emby-linkbutton" href="'+c.appRouter.getRouteUrl(s)+'" class="raised homeLibraryButton"><span class="material-icons homeLibraryIcon '+n+'" aria-hidden="true"></span><span class="homeLibraryText">'+i()(s.Name)+"</span></a>"}return(t+="</div>")+"</div>"}(s);e.innerHTML=n,o.default.lazyChildren(e)}(T,0,0,0,u);else{if("resume"===f)return b(T,t,"HeaderContinueWatching","Video",r);if("resumeaudio"===f)return b(T,t,"HeaderContinueListening","Audio",r);if("activerecordings"===f)!function(e,t,a){var r="";r+='<div class="sectionTitleContainer sectionTitleContainer-cards">',r+='<h2 class="sectionTitle sectionTitle-cards padded-left">'+l.ZP.translate("HeaderActiveRecordings")+"</h2>",r+="</div>",r+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true">',r+='<div is="emby-itemscontainer" class="itemsContainer scrollSlider focuscontainer-x">',r+="</div>",r+="</div>",e.classList.add("hide"),e.innerHTML=r;var i,n=e.querySelector(".itemsContainer");n.fetchData=(i=a.serverId(),function(){var e=m.Z.getApiClient(i);return e.getLiveTvRecordings({userId:e.getCurrentUserId(),Limit:12,Fields:"PrimaryImageAspectRatio,BasicSyncInfo",EnableTotalRecordCount:!1,IsLibraryItem:null,IsInProgress:!0})}),n.getItemsHtml=function(e){return function(t){return s.default.getCardsHtml({items:t,shape:"autooverflow",showTitle:!0,showParentTitle:!0,coverImage:!0,lazy:!0,showDetailsMenu:!0,centerText:!0,overlayText:!1,showYear:!0,lines:2,overlayPlayButton:!1,allowBottomPadding:!1,preferThumb:!0,cardLayout:!1,overlayMoreButton:e,action:"none",centerPlayButton:e})}}(t),n.parentContainer=e}(T,!0,t);else{if("nextup"!==f)return"onnow"===f||"livetv"===f?function(e,t,a){return a.Policy.EnableLiveTvAccess?t.getLiveTvRecommendedPrograms({userId:t.getCurrentUserId(),IsAiring:!0,limit:1,ImageTypeLimit:1,EnableImageTypes:"Primary,Thumb,Backdrop",EnableTotalRecordCount:!1,Fields:"ChannelInfo,PrimaryImageAspectRatio"}).then((function(a){var r,i="";if(a.Items.length){e.classList.remove("padded-left"),e.classList.remove("padded-right"),e.classList.remove("padded-bottom"),e.classList.remove("verticalSection"),i+='<div class="verticalSection">',i+='<div class="sectionTitleContainer sectionTitleContainer-cards padded-left">',i+='<h2 class="sectionTitle sectionTitle-cards">'+l.ZP.translate("LiveTV")+"</h2>",i+="</div>",i+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true" data-scrollbuttons="false">',i+='<div class="padded-top padded-bottom scrollSlider focuscontainer-x">',i+='<a is="emby-linkbutton" href="'+c.appRouter.getRouteUrl("livetv",{serverId:t.serverId(),section:"programs"})+'" class="raised"><span>'+l.ZP.translate("Programs")+"</span></a>",i+='<a is="emby-linkbutton" href="'+c.appRouter.getRouteUrl("livetv",{serverId:t.serverId(),section:"guide"})+'" class="raised"><span>'+l.ZP.translate("Guide")+"</span></a>",i+='<a is="emby-linkbutton" href="'+c.appRouter.getRouteUrl("livetv",{serverId:t.serverId(),section:"channels"})+'" class="raised"><span>'+l.ZP.translate("Channels")+"</span></a>",i+='<a is="emby-linkbutton" href="'+c.appRouter.getRouteUrl("recordedtv",{serverId:t.serverId()})+'" class="raised"><span>'+l.ZP.translate("Recordings")+"</span></a>",i+='<a is="emby-linkbutton" href="'+c.appRouter.getRouteUrl("livetv",{serverId:t.serverId(),section:"dvrschedule"})+'" class="raised"><span>'+l.ZP.translate("Schedule")+"</span></a>",i+='<a is="emby-linkbutton" href="'+c.appRouter.getRouteUrl("livetv",{serverId:t.serverId(),section:"seriesrecording"})+'" class="raised"><span>'+l.ZP.translate("Series")+"</span></a>",i+="</div>",i+="</div>",i+="</div>",i+="</div>",i+='<div class="verticalSection">',i+='<div class="sectionTitleContainer sectionTitleContainer-cards padded-left">',n.Z.tv?i+='<h2 class="sectionTitle sectionTitle-cards">'+l.ZP.translate("HeaderOnNow")+"</h2>":(i+='<a is="emby-linkbutton" href="'+c.appRouter.getRouteUrl("livetv",{serverId:t.serverId(),section:"onnow"})+'" class="more button-flat button-flat-mini sectionTitleTextButton">',i+='<h2 class="sectionTitle sectionTitle-cards">',i+=l.ZP.translate("HeaderOnNow"),i+="</h2>",i+='<span class="material-icons chevron_right" aria-hidden="true"></span>',i+="</a>"),i+="</div>",i+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true">',i+='<div is="emby-itemscontainer" class="itemsContainer scrollSlider focuscontainer-x">',i+="</div>",i+="</div>",i+="</div>",e.innerHTML=i;var s=e.querySelector(".itemsContainer");s.parentContainer=e,s.fetchData=(r=t.serverId(),function(){var e=m.Z.getApiClient(r);return e.getLiveTvRecommendedPrograms({userId:e.getCurrentUserId(),IsAiring:!0,limit:24,ImageTypeLimit:1,EnableImageTypes:"Primary,Thumb,Backdrop",EnableTotalRecordCount:!1,Fields:"ChannelInfo,PrimaryImageAspectRatio"})}),s.getItemsHtml=g}})):Promise.resolve()}(T,t,a):"resumebook"===f?b(T,t,"HeaderContinueReading","Book",r):(T.innerHTML="",Promise.resolve());!function(e,t,a){var r="";r+='<div class="sectionTitleContainer sectionTitleContainer-cards padded-left">',n.Z.tv?(r+='<h2 class="sectionTitle sectionTitle-cards">',r+=l.ZP.translate("NextUp"),r+="</h2>"):(r+='<a is="emby-linkbutton" href="'+c.appRouter.getRouteUrl("nextup",{serverId:t.serverId()})+'" class="button-flat button-flat-mini sectionTitleTextButton">',r+='<h2 class="sectionTitle sectionTitle-cards">',r+=l.ZP.translate("NextUp"),r+="</h2>",r+='<span class="material-icons chevron_right" aria-hidden="true"></span>',r+="</a>"),r+="</div>",r+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true">',r+='<div is="emby-itemscontainer" class="itemsContainer scrollSlider focuscontainer-x" data-monitor="videoplayback,markplayed">',r+="</div>",r+="</div>",e.classList.add("hide"),e.innerHTML=r;var i,o=e.querySelector(".itemsContainer");o.fetchData=function(e,t){return function(){var a=m.Z.getApiClient(e),r=new Date;return r.setDate(r.getDate()-t.maxDaysForNextUp()),a.getNextUpEpisodes({Limit:24,Fields:"PrimaryImageAspectRatio,DateCreated,BasicSyncInfo,Path,MediaSourceCount",UserId:a.getCurrentUserId(),ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Banner,Thumb",EnableTotalRecordCount:!1,DisableFirstEpisode:!1,NextUpDateCutoff:r.toISOString(),EnableRewatching:t.enableRewatchingInNextUp()})}}(t.serverId(),a),o.getItemsHtml=(i=a.useEpisodeImagesInNextUpAndResume(),function(e){return s.default.getCardsHtml({items:e,preferThumb:!0,inheritThumb:!i,shape:"overflowBackdrop",overlayText:!1,showTitle:!0,showParentTitle:!0,lazy:!0,overlayPlayButton:!0,context:"home",centerText:!0,allowBottomPadding:!1,cardLayout:false})}),o.parentContainer=e}(T,t,r)}}return Promise.resolve()}function h(e,t,a,r){var o="";o+='<div class="sectionTitleContainer sectionTitleContainer-cards padded-left">',n.Z.tv?o+='<h2 class="sectionTitle sectionTitle-cards">'+l.ZP.translate("LatestFromLibrary",i()(r.Name))+"</h2>":(o+='<a is="emby-linkbutton" href="'+c.appRouter.getRouteUrl(r,{section:"latest"})+'" class="more button-flat button-flat-mini sectionTitleTextButton">',o+='<h2 class="sectionTitle sectionTitle-cards">',o+=l.ZP.translate("LatestFromLibrary",i()(r.Name)),o+="</h2>",o+='<span class="material-icons chevron_right" aria-hidden="true"></span>',o+="</a>"),o+="</div>",o+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true">',o+='<div is="emby-itemscontainer" class="itemsContainer scrollSlider focuscontainer-x">',o+="</div>",o+="</div>",e.innerHTML=o;var d,u,v,p,f,h=e.querySelector(".itemsContainer");h.fetchData=(d=t.serverId(),u=r.Id,v=r.CollectionType,function(){var e=m.Z.getApiClient(d),t=16;"music"===v&&(t=30);var a={Limit:t,Fields:"PrimaryImageAspectRatio,BasicSyncInfo,Path",ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Thumb",ParentId:u};return e.getLatestItems(a)}),h.getItemsHtml=(p=r.Type,f=r.CollectionType,function(e){var t;return t="Channel"===p||"movies"===f||"books"===f||"tvshows"===f?"overflowPortrait":"music"===f||"homevideos"===f?"overflowSquare":"overflowBackdrop",s.default.getCardsHtml({items:e,shape:t,preferThumb:"movies"!==f&&"tvshows"!==f&&"Channel"!==p&&"music"!==f?"auto":null,showUnplayedIndicator:!1,showChildCountIndicator:!0,context:"home",overlayText:!1,centerText:!0,overlayPlayButton:"photos"!==f,allowBottomPadding:!1,cardLayout:false,showTitle:"photos"!==f,showYear:"movies"===f||"tvshows"===f||!f,showParentTitle:"music"===f||"tvshows"===f||!f||false,lines:2})}),h.parentContainer=e}function y(e,t,a,r,i,n){var c="";n.length&&(c+='<h2 class="sectionTitle sectionTitle-cards padded-left">'+l.ZP.translate("HeaderMyMedia")+"</h2>",c+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true">',c+='<div is="emby-itemscontainer" class="itemsContainer scrollSlider focuscontainer-x">',c+=s.default.getCardsHtml({items:n,shape:"overflowBackdrop",showTitle:!0,centerText:!0,overlayText:!1,lazy:!0,transition:!1,allowBottomPadding:!1}),c+="</div>",c+="</div>"),e.innerHTML=c,o.default.lazyChildren(e)}var T={Audio:"audioplayback,markplayed",Video:"videoplayback,markplayed"};function b(e,t,a,r,i){var n="",o=T[r]||"markplayed";n+='<h2 class="sectionTitle sectionTitle-cards padded-left">'+l.ZP.translate(a)+"</h2>",n+='<div is="emby-scroller" class="padded-top-focusscale padded-bottom-focusscale" data-centerfocus="true">',n+='<div is="emby-itemscontainer" class="itemsContainer scrollSlider focuscontainer-x" data-monitor="'.concat(o,'">'),n+="</div>",n+="</div>",e.classList.add("hide"),e.innerHTML=n;var c=e.querySelector(".itemsContainer");c.fetchData=function(e,t){return function(){var a=m.Z.getApiClient(t),r={Limit:12,Recursive:!0,Fields:"PrimaryImageAspectRatio,BasicSyncInfo",ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Thumb",EnableTotalRecordCount:!1,MediaTypes:e};return a.getResumableItems(a.getCurrentUserId(),r)}}(r,t.serverId()),c.getItemsHtml=function(e,t){return function(a){return s.default.getCardsHtml({items:a,preferThumb:!0,inheritThumb:!e,shape:"Book"===t?"overflowPortrait":"overflowBackdrop",overlayText:!1,showTitle:!0,showParentTitle:!0,lazy:!0,showDetailsMenu:!0,overlayPlayButton:!0,context:"home",centerText:!0,allowBottomPadding:!1,cardLayout:false,showYear:!0,lines:2})}}(i.useEpisodeImagesInNextUpAndResume(),r),c.parentContainer=e}function g(e){return s.default.getCardsHtml({items:e,preferThumb:"auto",inheritThumb:!1,shape:"autooverflow",showParentTitleOrTitle:!0,showTitle:!0,centerText:!0,coverImage:!0,overlayText:!1,allowBottomPadding:!1,showAirTime:!0,showChannelName:!1,showAirDateTime:!1,showAirEndTime:!0,defaultShape:"overflowBackdrop",lines:3,overlayPlayButton:!0})}t.ZP={loadLibraryTiles:y,getDefaultSection:v,loadSections:function(e,t,a,r){return function(e,t){return e.getUserViews({},t||e.getCurrentUserId()).then((function(e){return e.Items}))}(t,a.Id).then((function(i){var s,n="";if(i.length){for(var o=0;o<7;o++)n+='<div class="verticalSection section'+o+'"></div>';e.innerHTML=n,e.classList.add("homeSectionsContainer");for(var c=[],d=function(e,t){for(var a=[],r=0;r<7;r++){var i=e.get("homesection"+r)||v(r);"folders"===i&&(i=v(0)),a.push(i)}return a}(r),m=0;m<d.length;m++)c.push(f(e,t,a,r,i,d,m));return Promise.all(c).then((function(){return p(e,{refresh:!0})}))}s=a.Policy&&a.Policy.IsAdministrator?l.ZP.translate("NoCreatedLibraries",'<br><a id="button-createLibrary" class="button-link">',"</a>"):l.ZP.translate("AskAdminToCreateLibrary"),n+='<div class="centerMessage padded-left padded-right">',n+="<h2>"+l.ZP.translate("MessageNothingHere")+"</h2>",n+="<p>"+s+"</p>",n+="</div>",e.innerHTML=n;var h=e.querySelector("#button-createLibrary");h&&h.addEventListener("click",(function(){u.ZP.navigate("library.html")}))}))},destroySections:function(e){for(var t=e.querySelectorAll(".itemsContainer"),a=0;a<t.length;a++)t[a].fetchData=null,t[a].parentContainer=null,t[a].getItemsHtml=null;e.innerHTML=""},pause:function(e){for(var t=e.querySelectorAll(".itemsContainer"),a=0;a<t.length;a++)t[a].pause()},resume:p}}}]);