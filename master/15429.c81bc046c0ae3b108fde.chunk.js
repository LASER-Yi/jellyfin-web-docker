"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[15429],{57317:function(e,t,n){n.d(t,{Z:function(){return E}});var r,a=n(24246),i=n(27378),l=n(61570),o=n(96398),s=n(60042),c=n.n(s),u=n(22406),d=n(30325),f=n(72365),p=n(57366),v=n(34643),h=n(15723),y=n(94994),m=function(){return m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},m.apply(this,arguments)},b=function(e){var t=e.className,n=e.title,r=e.icon,i=e.iconClassName,l=e.disabled,o=void 0!==l&&l,s=e.onClick,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["className","title","icon","iconClassName","disabled","onClick"]),f=c()("paper-icon-button-light",t,{"show-focus":d.Z.tv}),p=c()("material-icons",i,r);return(0,a.jsx)("button",m({className:f,title:n,disabled:o,onClick:s},u,{children:(0,a.jsx)("span",{className:p,"aria-hidden":"true"})}))},g=function(){return g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},g.apply(this,arguments)};!function(e){e[e.RIGHT=0]="RIGHT",e[e.LEFT=1]="LEFT"}(r||(r={}));var S=function(e){var t=e.scrollerFactoryRef,n=e.scrollState,l=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return l}((0,i.useState)(0),2),o=l[0],s=l[1],c=(0,i.useRef)(null),u=(0,i.useCallback)((function(e,n){t.current&&t.current.slideTo(e,n,void 0)}),[t]),d=(0,i.useCallback)((function(e){var t;t=e===r.LEFT?Math.max(0,n.scrollPos-n.scrollSize):n.scrollPos+n.scrollSize,y.ZP.getIsRTL()&&e===r.LEFT?t=n.scrollPos+n.scrollSize:y.ZP.getIsRTL()&&(t=Math.min(0,n.scrollPos-n.scrollSize)),u(t,!1)}),[n.scrollPos,n.scrollSize,u]),f=(0,i.useCallback)((function(){return d(r.LEFT)}),[d]),p=(0,i.useCallback)((function(){return d(r.RIGHT)}),[d]);return(0,i.useEffect)((function(){var e;(null===(e=c.current)||void 0===e?void 0:e.parentNode).classList.add("emby-scroller-container");var t=n.scrollPos;y.ZP.getIsElementRTL(c.current)&&(t*=-1),s(t)}),[n.scrollPos]),(0,a.jsxs)("div",g({ref:c,className:"emby-scrollbuttons padded-right"},{children:[(0,a.jsx)(b,{type:"button",className:"emby-scrollbuttons-button btnPrev",onClick:f,icon:"chevron_left",disabled:!(o>0)}),(0,a.jsx)(b,{type:"button",className:"emby-scrollbuttons-button btnNext",onClick:p,icon:"chevron_right",disabled:n.scrollWidth>0&&o+n.scrollSize>=n.scrollWidth})]}))},I=function(){return I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},I.apply(this,arguments)},w=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return l},C=function(e){var t=e.className,n=e.isHorizontalEnabled,r=e.isMouseWheelEnabled,l=e.isCenterFocusEnabled,o=e.isScrollButtonsEnabled,s=e.isSkipFocusWhenVisibleEnabled,y=e.isScrollEventEnabled,m=e.isHideScrollbarEnabled,b=e.isAllowNativeSmoothScrollEnabled,g=e.children,C=w(function(){var e=(0,i.useRef)(null),t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return l}((0,i.useState)({width:0,height:0}),2),n=t[0],r=t[1];return(0,i.useLayoutEffect)((function(){e.current&&r(e.current.getBoundingClientRect())}),[e]),(0,u.Z)(e,(function(e){return r(e.contentRect)})),[e,n]}(),2),P=C[0],O=C[1],T=w((0,i.useState)(!1),2),x=T[0],j=T[1],N=w((0,i.useState)({scrollSize:O.width,scrollPos:0,scrollWidth:0}),2),k=N[0],E=N[1],R=(0,i.useRef)(null),L=(0,i.useCallback)((function(){if(R.current)return R.current.getScrollSlider()}),[R]),M=(0,i.useCallback)((function(){return R.current?R.current.getScrollPosition():0}),[R]),F=(0,i.useCallback)((function(){return R.current?R.current.getScrollSize():0}),[R]),Z=(0,i.useCallback)((function(e,t){var n=e.getPropertyValue(t);return n&&(n=n.replace("px",""))?isNaN(parseInt(n,10))?0:Number(n):0}),[]),B=(0,i.useCallback)((function(){var e=null==P?void 0:P.current,t=e.offsetWidth,n=window.getComputedStyle(e,null),r=Z(n,"padding-left");r&&(t-=r);var a=Z(n,"padding-right");a&&(t-=a);var i=L();return n=window.getComputedStyle(i,null),(r=Z(n,"padding-left"))&&(t-=r),(a=Z(n,"padding-right"))&&(t-=a),t}),[L,Z,P]),_=(0,i.useCallback)((function(){var e=B(),t=M(),n=F();E({scrollSize:e,scrollPos:t,scrollWidth:n})}),[M,B,F]),q=(0,i.useCallback)((function(e,t){f.ZP.addEventListener(e,"focus",(function(e){var n=v.Z.focusableParent(e.target);n&&t.toCenter(n,!1)}),{capture:!0,passive:!0})}),[]),z=(0,i.useCallback)((function(e,t){R.current&&f.ZP.addEventListener(R.current.getScrollFrame(),R.current.getScrollEventName(),e,t)}),[R]),W=(0,i.useCallback)((function(e,t){R.current&&f.ZP.removeEventListener(R.current.getScrollFrame(),R.current.getScrollEventName(),e,t)}),[R]);return(0,i.useEffect)((function(){var e,t=!1!==n,a=!1!==o,i=!1!==r,c=d.Z.desktop&&t&&a,u={horizontal:t,mouseDragging:1,mouseWheel:i,touchDragging:1,slidee:null===(e=P.current)||void 0===e?void 0:e.querySelector(".scrollSlider"),scrollBy:200,speed:t?270:240,elasticBounds:1,dragHandle:1,autoImmediate:!0,skipSlideToWhenVisible:!0===s,dispatchScrollEvent:c||!0===y,hideScrollbar:c||!0===m,allowNativeSmoothScroll:!0===b&&!c,allowNativeScroll:!c,forceHideScrollbars:c,requireAnimation:c&&p.Z.edge};return R.current=new h.Z(P.current,u),R.current.init(),R.current.reload(),d.Z.tv&&l&&q(P.current,R.current),c&&(z(_,{capture:!1,passive:!0}),j(!0)),function(){R.current&&(R.current.destroy(),R.current=null),W(_,{capture:!1,passive:!0})}}),[z,q,b,l,m,n,r,o,y,s,_,W,P]),(0,a.jsxs)(a.Fragment,{children:[x&&k.scrollWidth>k.scrollSize+20&&(0,a.jsx)(S,{scrollerFactoryRef:R,scrollState:k}),(0,a.jsx)("div",I({ref:P,className:c()("emby-scroller",t)},{children:g}))]})},P=n(92581),O=n(66560),T=n(84881),x=function(){return x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},x.apply(this,arguments)},j=function(e){var t=e.className,n=e.isAutoHideEnabled,r=e.href,l=e.target,o=e.children,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["className","isAutoHideEnabled","href","target","children"]),u=(0,i.useCallback)((function(e){var t=r||"";"#"!==t?l?T.M.supports("targetblank")||(e.preventDefault(),P.Z.openUrl(t)):(e.preventDefault(),O.appRouter.show(t).catch((function(e){console.error("[LinkButton] failed to show url",t,e)}))):e.preventDefault()}),[r,l]);if(!0===n&&!T.M.supports("externallinks"))return null;var f=c()("emby-button",t,{"show-focus":d.Z.tv});return(0,a.jsx)("a",x({className:f,href:r,target:l,onClick:u},s,{children:o}))},N=n(98301),k=function(){return k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},k.apply(this,arguments)},E=function(e){var t=e.sectionTitle,n=e.url,r=e.items,s=e.cardOptions,c=(0,i.useRef)(null);return(0,i.useEffect)((function(){var e,t=null===(e=c.current)||void 0===e?void 0:e.querySelector(".itemsContainer");l.default.buildCards(r,k({itemsContainer:t,parentContainer:c.current},s)),N.default.lazyChildren(t)}),[s,r]),(0,a.jsxs)("div",k({ref:c,className:"verticalSection hide"},{children:[(0,a.jsx)("div",k({className:"sectionTitleContainer sectionTitleContainer-cards padded-left"},{children:n&&r.length>5?(0,a.jsxs)(j,k({className:"more button-flat button-flat-mini sectionTitleTextButton btnMoreFromGenre",href:n},{children:[(0,a.jsx)("h2",k({className:"sectionTitle sectionTitle-cards"},{children:t})),(0,a.jsx)("span",{className:"material-icons chevron_right","aria-hidden":"true"})]})):(0,a.jsx)("h2",k({className:"sectionTitle sectionTitle-cards"},{children:t}))})),(0,a.jsx)(C,k({className:"padded-top-focusscale padded-bottom-focusscale",isMouseWheelEnabled:!1,isCenterFocusEnabled:!0},{children:(0,a.jsx)(o.Z,{className:"itemsContainer scrollSlider focuscontainer-x"})}))]}))}},70060:function(e,t,n){n.d(t,{FS:function(){return w},mb:function(){return g},no:function(){return S},rF:function(){return I}});var r=n(86808),a=n(6884),i=n(29532),l=n(74066),o=n(4877),s=n(46973),c=n(74775),u=n(51557),d=n(23246),f=n(69091),p=n(67889),v=n(99998),h=n(59140),y=function(){return y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},y.apply(this,arguments)},m=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function l(e){try{s(r.next(e))}catch(e){i(e)}}function o(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}s((r=r.apply(e,t||[])).next())}))},b=function(e,t){var n,r,a,i,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},g=function(e){var t,n=(0,v.h_)();return(0,p.a)({queryKey:["Items",y({},e)],queryFn:function(t){var r=t.signal;return function(e,t,n){return m(void 0,void 0,void 0,(function(){var r,a;return b(this,(function(i){switch(i.label){case 0:return r=e.api,a=e.user,r&&(null==a?void 0:a.Id)?[4,(0,c.$)(r).getItems(y({userId:a.Id},t),{signal:null==n?void 0:n.signal})]:[3,2];case 1:return[2,i.sent().data];case 2:return[2]}}))}))}(n,e,{signal:r})},cacheTime:(null===(t=e.sortBy)||void 0===t?void 0:t.includes(o.X.Random))?0:void 0})},S=function(e){var t=(0,v.h_)();return(0,p.a)({queryKey:["MovieRecommendations",e],queryFn:function(n){var r=n.signal;return function(e,t,n){return m(void 0,void 0,void 0,(function(){var r,i;return b(this,(function(l){switch(l.label){case 0:return r=e.api,i=e.user,r&&(null==i?void 0:i.Id)?[4,(0,u.V)(r).getMovieRecommendations({userId:i.Id,fields:[a.h.PrimaryImageAspectRatio,a.h.MediaSourceCount,a.h.BasicSyncInfo],parentId:null!=t?t:void 0,categoryLimit:6,itemLimit:20},{signal:null==n?void 0:n.signal})]:[3,2];case 1:return[2,l.sent().data];case 2:return[2]}}))}))}(t,e,{signal:r})},enabled:!!e})},I=function(e,t){var n=(0,v.h_)();return(0,p.a)({queryKey:["ItemsBySuggestionsType",e.view],queryFn:function(l){var o=l.signal;return function(e,t,n,l){return m(void 0,void 0,void 0,(function(){var o,s,u;return b(this,(function(p){switch(p.label){case 0:if(o=e.api,s=e.user,!o||!(null==s?void 0:s.Id))return[3,10];switch(u=void 0,t.viewType){case h.M.NextUp:return[3,1];case h.M.ResumeItems:return[3,3];case h.M.LatestMedia:return[3,5]}return[3,7];case 1:return[4,(0,d.C)(o).getNextUp(y({userId:s.Id,limit:25,fields:[a.h.PrimaryImageAspectRatio,a.h.MediaSourceCount,a.h.BasicSyncInfo],parentId:null!=n?n:void 0,imageTypeLimit:1,enableImageTypes:[r._.Primary,r._.Backdrop,r._.Thumb],enableTotalRecordCount:!1},t.parametersOptions),{signal:null==l?void 0:l.signal})];case 2:case 4:case 8:return u=p.sent().data.Items,[3,9];case 3:return[4,(0,c.$)(o).getResumeItems(y({userId:null==s?void 0:s.Id,parentId:null!=n?n:void 0,fields:[a.h.PrimaryImageAspectRatio,a.h.MediaSourceCount,a.h.BasicSyncInfo],imageTypeLimit:1,enableImageTypes:[r._.Thumb],enableTotalRecordCount:!1},t.parametersOptions),{signal:null==l?void 0:l.signal})];case 5:return[4,(0,f.U)(o).getLatestMedia(y({userId:s.Id,fields:[a.h.PrimaryImageAspectRatio,a.h.MediaSourceCount,a.h.BasicSyncInfo],parentId:null!=n?n:void 0,imageTypeLimit:1,enableImageTypes:[r._.Primary]},t.parametersOptions),{signal:null==l?void 0:l.signal})];case 6:return u=p.sent().data,[3,9];case 7:return[4,(0,c.$)(o).getItems(y({userId:s.Id,parentId:null!=n?n:void 0,recursive:!0,fields:[a.h.PrimaryImageAspectRatio],filters:[i.y.IsPlayed],imageTypeLimit:1,enableImageTypes:[r._.Primary,r._.Backdrop,r._.Thumb],limit:25,enableTotalRecordCount:!1},t.parametersOptions),{signal:null==l?void 0:l.signal})];case 9:return[2,u];case 10:return[2]}}))}))}(n,e,t,{signal:o})},enabled:!!e.view})},w=function(e,t){var n=(0,v.h_)();return(0,p.a)({queryKey:["Genres",t],queryFn:function(r){var a=r.signal;return function(e,t,n,r){return m(void 0,void 0,void 0,(function(){var a,i;return b(this,(function(c){switch(c.label){case 0:return a=e.api,i=e.user,a&&(null==i?void 0:i.Id)?[4,(0,s.J)(a).getGenres({userId:i.Id,sortBy:[o.X.SortName],sortOrder:[l.A.Ascending],includeItemTypes:[t],enableTotalRecordCount:!1,parentId:null!=n?n:void 0},{signal:null==r?void 0:r.signal})]:[3,2];case 1:return[2,c.sent().data];case 2:return[2]}}))}))}(n,e,t,{signal:a})},enabled:!!t})}},59140:function(e,t,n){var r,a;n.d(t,{M:function(){return r},X:function(){return a}}),function(e){e.ResumeItems="resumeItems",e.LatestMedia="latestMedia",e.NextUp="nextUp"}(r||(r={})),function(e){e.ContinueWatchingMovies="continuewatchingmovies",e.LatestMovies="latestmovies",e.ContinueWatchingEpisode="continuewatchingepisode",e.LatestEpisode="latestepisode",e.NextUp="nextUp",e.LatestMusic="latestmusic",e.RecentlyPlayedMusic="recentlyplayedmusic",e.FrequentlyPlayedMusic="frequentlyplayedmusic"}(a||(a={}))}}]);