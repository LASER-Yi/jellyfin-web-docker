"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[10878],{17240:function(e,n,t){t.d(n,{A:function(){return o}}),t(63696);var r=t(91785),a=t(62540);function o(e){var n=e.styles,t=e.defaultTheme,o=void 0===t?{}:t,i="function"==typeof n?function(e){return n(null==(t=e)||0===Object.keys(t).length?o:e);var t}:n;return(0,a.jsx)(r.mL,{styles:i})}},9887:function(e,n,t){t.r(n),t.d(n,{Component:function(){return N},action:function(){return P},loader:function(){return D}});var r=t(62540),a=t(38345),o=t(51890),i=t(5271),l=t(77890),s=t(37538),u=t(58765),c=t(34315),f=t(11e3),p=t(99851),d=t(63696),h=t(87404),y=t(9055),b=t(94434),v=t(8280),m=t(61586),g=t(69410),w="BrandingOptions",x=function(e){return(0,v.j)({queryKey:[w],queryFn:function(n){var t=n.signal;return function(e,n){return t=void 0,r=void 0,o=function(){return function(e,n){var t,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=n.call(e,o)}catch(e){l=[6,e],r=0}finally{t=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}}(this,(function(t){if(!e)throw console.error("[fetchBrandingOptions] no Api instance provided"),new Error("No Api instance provided to fetchBrandingOptions");return[2,(0,b.g)(e).getBrandingOptions(n).then((function(e){return e.data}))]}))},new((a=void 0)||(a=Promise))((function(e,n){function i(e){try{s(o.next(e))}catch(e){n(e)}}function l(e){try{s(o.throw(e))}catch(e){n(e)}}function s(n){var t;n.done?e(n.value):(t=n.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,l)}s((o=o.apply(t,r||[])).next())}));var t,r,a,o}(e,{signal:t})},enabled:!!e})},A=t(84849),C=t(65242),S=t(86191),j=t(5898),k=t(53678),O=function(){return O=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},O.apply(this,arguments)},E=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,a,o=t.call(e),i=[];try{for(;(void 0===n||n-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i},L={CustomCss:"CustomCss",LoginDisclaimer:"LoginDisclaimer",SplashscreenEnabled:"SplashscreenEnabled"},P=function(e){return n=void 0,t=[e],o=function(e){var n,t,r,o,i,l,s,u=e.request;return function(e,n){var t,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=n.call(e,o)}catch(e){l=[6,e],r=0}finally{t=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}}(this,(function(e){switch(e.label){case 0:if(!(n=S.A.getCurrentApi()))throw new Error("No Api instance available");return[4,u.formData()];case 1:return t=e.sent(),r=Object.fromEntries(t),o={CustomCss:null===(i=r.CustomCss)||void 0===i?void 0:i.toString(),LoginDisclaimer:null===(l=r.LoginDisclaimer)||void 0===l?void 0:l.toString(),SplashscreenEnabled:"on"===(null===(s=r.SplashscreenEnabled)||void 0===s?void 0:s.toString())},[4,(0,a.T)(n).updateNamedConfiguration({key:"branding",body:JSON.stringify(o)})];case 2:return e.sent(),k.q.invalidateQueries({queryKey:[w]}),[2,{isSaved:!0}]}}))},new((r=void 0)||(r=Promise))((function(e,a){function i(e){try{s(o.next(e))}catch(e){a(e)}}function l(e){try{s(o.throw(e))}catch(e){a(e)}}function s(n){var t;n.done?e(n.value):(t=n.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,l)}s((o=o.apply(n,t||[])).next())}));var n,t,r,o},D=function(){return k.q.ensureQueryData(x(S.A.getCurrentApi()))},N=function(){var e,n=(0,h.mP)(),t=E((0,d.useState)(!1),2),a=t[0],b=t[1],v=(e=(0,g.gf)().api,(0,m.I)(x(e))),w=v.data,S=v.isPending,k=E((0,d.useState)(w||{}),2),P=k[0],D=k[1];(0,d.useEffect)((function(){b(!1)}),[n]);var N=(0,d.useCallback)((function(){b(!0)}),[]),I=(0,d.useCallback)((function(e,n){var t;D(O(O({},P),((t={})[L.SplashscreenEnabled]=n,t)))}),[P]),T=(0,d.useCallback)((function(e){var n;Object.keys(L).includes(e.target.name)&&D(O(O({},P),((n={})[e.target.name]=e.target.value,n)))}),[P]);return S?(0,r.jsx)(A.A,{}):(0,r.jsx)(C.A,{id:"brandingPage",className:"mainAnimatedPage type-interior",children:(0,r.jsx)(i.A,{className:"content-primary",children:(0,r.jsx)(y.lV,{method:"POST",onSubmit:N,children:(0,r.jsxs)(u.A,{spacing:3,children:[(0,r.jsx)(p.A,{variant:"h1",children:j.Ay.translate("HeaderBranding")}),!a&&(null==n?void 0:n.isSaved)&&(0,r.jsx)(o.A,{severity:"success",children:j.Ay.translate("SettingsSaved")}),(0,r.jsx)(s.A,{control:(0,r.jsx)(c.A,{name:L.SplashscreenEnabled,checked:null==P?void 0:P.SplashscreenEnabled,onChange:I}),label:j.Ay.translate("EnableSplashScreen")}),(0,r.jsx)(f.A,{fullWidth:!0,multiline:!0,minRows:5,maxRows:5,InputProps:{className:"textarea-mono"},name:L.LoginDisclaimer,label:j.Ay.translate("LabelLoginDisclaimer"),helperText:j.Ay.translate("LabelLoginDisclaimerHelp"),value:null==P?void 0:P.LoginDisclaimer,onChange:T}),(0,r.jsx)(f.A,{fullWidth:!0,multiline:!0,minRows:5,maxRows:20,InputProps:{className:"textarea-mono"},name:L.CustomCss,label:j.Ay.translate("LabelCustomCss"),helperText:j.Ay.translate("LabelCustomCssHelp"),value:null==P?void 0:P.CustomCss,onChange:T}),(0,r.jsx)(l.A,{type:"submit",size:"large",children:j.Ay.translate("Save")})]})})})})};N.displayName="BrandingPage"}}]);