/*! For license information please see UserPasswordPage.13d2940149158db52426.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1],{71426:function(e,t,n){n(62525);var a=n(27378),r=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var s=Symbol.for;r=s("react.element"),t.Fragment=s("react.fragment")}var o=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l=Object.prototype.hasOwnProperty,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var a,s={},c=null,u=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)l.call(t,a)&&!i.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===s[a]&&(s[a]=t[a]);return{$$typeof:r,type:e,key:c,ref:u,props:s,_owner:o.current}}t.jsx=c,t.jsxs=c},24246:function(e,t,n){e.exports=n(71426)},4007:function(e,t,n){var a=n(24246),r=n(33942),s=function(e){var t=e.type,n=e.className,a=e.title;return{__html:'<button\n        is="emby-button"\n        type="'.concat(t,'"\n        class="').concat(n,'"\n        >\n        <span>').concat(a,"</span>\n    </button>")}};t.Z=function(e){var t=e.type,n=e.className,o=e.title;return(0,a.jsx)("div",{dangerouslySetInnerHTML:s({type:t,className:n,title:r.ZP.translate(o)})})}},89663:function(e,t,n){var a=n(24246),r=n(33942),s=function(e){var t=e.labelClassName,n=e.type,a=e.className,r=e.title;return{__html:'<label class="'.concat(t,'">\n        <input\n            is="emby-checkbox"\n            type="').concat(n,'"\n            class="').concat(a,'"\n        />\n        <span>').concat(r,"</span>\n    </label>")}};t.Z=function(e){var t=e.labelClassName,n=e.type,o=e.className,l=e.title;return(0,a.jsx)("div",{className:"sectioncheckbox",dangerouslySetInnerHTML:s({labelClassName:t||"",type:n,className:o,title:r.ZP.translate(l)})})}},26670:function(e,t,n){var a=n(24246),r=n(33942),s=function(e){var t=e.type,n=e.id,a=e.label,r=e.options;return{__html:'<input\n        is="emby-input"\n        type="'.concat(t,'"\n        id="').concat(n,'"\n        label="').concat(a,'"\n        ').concat(r,"\n    />")}};t.Z=function(e){var t=e.type,n=e.id,o=e.label,l=e.options;return(0,a.jsx)("div",{dangerouslySetInnerHTML:s({type:t,id:n,label:r.ZP.translate(o),options:l||""})})}},44243:function(e,t,n){var a=n(24246),r=n(33942),s=function(e){return{__html:'<a href="#"\n        is="emby-linkbutton"\n        data-role="button"\n        class="'.concat("useredit"===e?"ui-btn-active":"",'"\n        onclick="Dashboard.navigate(\'useredit.html\', true);">\n        ').concat(r.ZP.translate("Profile"),'\n    </a>\n    <a href="#"\n        is="emby-linkbutton"\n        data-role="button"\n        class="').concat("userlibraryaccess"===e?"ui-btn-active":"",'"\n        onclick="Dashboard.navigate(\'userlibraryaccess.html\', true);">\n        ').concat(r.ZP.translate("TabAccess"),'\n    </a>\n    <a href="#"\n        is="emby-linkbutton"\n        data-role="button"\n        class="').concat("userparentalcontrol"===e?"ui-btn-active":"",'"\n        onclick="Dashboard.navigate(\'userparentalcontrol.html\', true);">\n        ').concat(r.ZP.translate("TabParentalControl"),'\n    </a>\n    <a href="#"\n        is="emby-linkbutton"\n        data-role="button"\n        class="').concat("userpassword"===e?"ui-btn-active":"",'"\n        onclick="Dashboard.navigate(\'userpassword.html\', true);">\n        ').concat(r.ZP.translate("HeaderPassword"),"\n    </a>")}};t.Z=function(e){var t=e.activeTab;return(0,a.jsx)("div",{"data-role":"controlgroup","data-type":"horizontal",className:"localnav",dangerouslySetInnerHTML:s(t)})}},62269:function(e,t,n){var a=n(24246),r=n(33942),s=function(e){var t=e.className,n=e.title,a=e.icon;return{__html:'<button\n        is="emby-button"\n        type="button"\n        class="'.concat(t,'"\n        style="margin-left:1em;"\n        title="').concat(n,'"\n    >\n        <span class="material-icons ').concat(a,'" aria-hidden="true"></span>\n    </button>')}};t.Z=function(e){var t=e.className,n=e.title,o=e.icon;return(0,a.jsx)("div",{dangerouslySetInnerHTML:s({className:t,title:r.ZP.translate(n),icon:o})})}},75159:function(e,t,n){n.d(t,{Z:function(){return c}});var a=n(24246),r=n(62269),s=n(33942),o=function(e){var t=e.className,n=e.title,a=e.href;return{__html:'<a\n        is="emby-linkbutton"\n        rel="noopener noreferrer"\n        class="'.concat(t,'"\n        target="_blank"\n        href="').concat(a,'"\n        >\n        ').concat(n,"\n    </a>")}},l=function(e){var t=e.className,n=e.title,r=e.url;return(0,a.jsx)("div",{dangerouslySetInnerHTML:o({className:t,title:s.ZP.translate(n),href:r})})},i=function(){return i=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},c=function(e){var t=e.title,n=e.isBtnVisible,s=void 0!==n&&n,o=e.titleLink;return(0,a.jsx)("div",i({className:"verticalSection"},{children:(0,a.jsxs)("div",i({className:"sectionTitleContainer flex align-items-center"},{children:[(0,a.jsx)("h2",i({className:"sectionTitle"},{children:t})),s&&(0,a.jsx)(r.Z,{className:"fab btnAddUser submit sectionTitleButton",title:"ButtonAddUser",icon:"add"}),(0,a.jsx)(l,{className:"raised button-alt headerHelpButton",title:"Help",url:o})]}))}))}},42363:function(e,t,n){var a=n(24246),r=n(27378),s=n(93586),o=n(33942),l=n(3319),i=n(56346),c=n(56705),u=n(25152),d=n(4007),f=n(89663),p=n(26670),y=function(){return y=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},y.apply(this,arguments)};t.Z=function(e){var t=e.userId,b=(0,r.useRef)(null),h=(0,r.useCallback)((function(){var e=b.current;e?(window.ApiClient.getUser(t).then((function(t){s.ZP.getCurrentUser().then((function(a){var r,s;if(!t.Policy)throw new Error("Unexpected null user.Policy");if(!t.Configuration)throw new Error("Unexpected null user.Configuration");l.Z.setTitle(t.Name);var o=!1;t.HasConfiguredPassword?(e.querySelector(".btnResetPassword").classList.remove("hide"),e.querySelector("#fldCurrentPassword").classList.remove("hide"),o=!0):(e.querySelector(".btnResetPassword").classList.add("hide"),e.querySelector("#fldCurrentPassword").classList.add("hide")),(null===(r=null==a?void 0:a.Policy)||void 0===r?void 0:r.IsAdministrator)||t.Policy.EnableUserPreferenceAccess?e.querySelector(".passwordSection").classList.remove("hide"):e.querySelector(".passwordSection").classList.add("hide"),o&&((null===(s=null==a?void 0:a.Policy)||void 0===s?void 0:s.IsAdministrator)||t.Policy.EnableUserPreferenceAccess)?e.querySelector(".localAccessSection").classList.remove("hide"):e.querySelector(".localAccessSection").classList.add("hide");var i=e.querySelector("#txtEasyPassword");i.value="",t.HasConfiguredEasyPassword?(i.placeholder="******",e.querySelector(".btnResetEasyPassword").classList.remove("hide")):(i.removeAttribute("placeholder"),i.placeholder="",e.querySelector(".btnResetEasyPassword").classList.add("hide")),e.querySelector(".chkEnableLocalEasyPassword").checked=t.Configuration.EnableLocalPassword||!1,Promise.resolve().then(n.bind(n,6610)).then((function(t){t.default.autoFocus(e)}))}))})),e.querySelector("#txtCurrentPassword").value="",e.querySelector("#txtNewPassword").value="",e.querySelector("#txtNewPasswordConfirm").value=""):console.error("Unexpected null reference")}),[t]);return(0,r.useEffect)((function(){var e=b.current;if(e){h();var n=function(){window.ApiClient.getUser(t).then((function(t){if(!t.Configuration)throw new Error("Unexpected null user.Configuration");if(!t.Id)throw new Error("Unexpected null user.Id");t.Configuration.EnableLocalPassword=e.querySelector(".chkEnableLocalEasyPassword").checked,window.ApiClient.updateUserConfiguration(t.Id,t.Configuration).then((function(){c.ZP.hide(),(0,u.Z)(o.ZP.translate("SettingsSaved")),h()}))}))};e.querySelector(".updatePasswordForm").addEventListener("submit",(function(n){return e.querySelector("#txtNewPassword").value!=e.querySelector("#txtNewPasswordConfirm").value?(0,u.Z)(o.ZP.translate("PasswordMatchError")):(c.ZP.show(),a=e.querySelector("#txtCurrentPassword").value,r=e.querySelector("#txtNewPassword").value,e.querySelector("#fldCurrentPassword").classList.contains("hide")&&(a=""),window.ApiClient.updateUserPassword(t,a,r).then((function(){c.ZP.hide(),(0,u.Z)(o.ZP.translate("PasswordSaved")),h()}),(function(){c.ZP.hide(),s.ZP.alert({title:o.ZP.translate("HeaderLoginFailure"),message:o.ZP.translate("MessageInvalidUser")})}))),n.preventDefault(),!1;var a,r})),e.querySelector(".localAccessForm").addEventListener("submit",(function(a){return c.ZP.show(),(r=e.querySelector("#txtEasyPassword").value)?window.ApiClient.updateEasyPassword(t,r).then((function(){n()})):n(),a.preventDefault(),!1;var r})),e.querySelector(".btnResetEasyPassword").addEventListener("click",(function(){var e=o.ZP.translate("PinCodeResetConfirmation");(0,i.Z)(e,o.ZP.translate("HeaderPinCodeReset")).then((function(){c.ZP.show(),window.ApiClient.resetEasyPassword(t).then((function(){c.ZP.hide(),s.ZP.alert({message:o.ZP.translate("PinCodeResetComplete"),title:o.ZP.translate("HeaderPinCodeReset")}),h()}))}))})),e.querySelector(".btnResetPassword").addEventListener("click",(function(){var e=o.ZP.translate("PasswordResetConfirmation");(0,i.Z)(e,o.ZP.translate("ResetPassword")).then((function(){c.ZP.show(),window.ApiClient.resetUserPassword(t).then((function(){c.ZP.hide(),s.ZP.alert({message:o.ZP.translate("PasswordResetComplete"),title:o.ZP.translate("ResetPassword")}),h()}))}))}))}else console.error("Unexpected null reference")}),[h,t]),(0,a.jsxs)("div",y({ref:b},{children:[(0,a.jsx)("form",y({className:"updatePasswordForm passwordSection hide",style:{margin:"0 auto 2em"}},{children:(0,a.jsxs)("div",y({className:"detailSection"},{children:[(0,a.jsx)("div",y({id:"fldCurrentPassword",className:"inputContainer hide"},{children:(0,a.jsx)(p.Z,{type:"password",id:"txtCurrentPassword",label:"LabelCurrentPassword",options:'autoComplete="off"'})})),(0,a.jsx)("div",y({className:"inputContainer"},{children:(0,a.jsx)(p.Z,{type:"password",id:"txtNewPassword",label:"LabelNewPassword",options:'autoComplete="off"'})})),(0,a.jsx)("div",y({className:"inputContainer"},{children:(0,a.jsx)(p.Z,{type:"password",id:"txtNewPasswordConfirm",label:"LabelNewPasswordConfirm",options:'autoComplete="off"'})})),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Z,{type:"submit",className:"raised button-submit block",title:"Save"}),(0,a.jsx)(d.Z,{type:"button",className:"raised btnResetPassword button-cancel block hide",title:"ResetPassword"})]})]}))})),(0,a.jsx)("br",{}),(0,a.jsx)("form",y({className:"localAccessForm localAccessSection",style:{margin:"0 auto"}},{children:(0,a.jsxs)("div",y({className:"detailSection"},{children:[(0,a.jsx)("div",y({className:"detailSectionHeader"},{children:o.ZP.translate("HeaderEasyPinCode")})),(0,a.jsx)("br",{}),(0,a.jsx)("div",{children:o.ZP.translate("EasyPasswordHelp")}),(0,a.jsx)("br",{}),(0,a.jsx)("div",y({className:"inputContainer"},{children:(0,a.jsx)(p.Z,{type:"number",id:"txtEasyPassword",label:"LabelEasyPinCode",options:'autoComplete="off" pattern="[0-9]*" step="1" maxlength="5"'})})),(0,a.jsx)("br",{}),(0,a.jsxs)("div",y({className:"checkboxContainer checkboxContainer-withDescription"},{children:[(0,a.jsx)(f.Z,{type:"checkbox",className:"chkEnableLocalEasyPassword",title:"LabelInNetworkSignInWithEasyPassword"}),(0,a.jsx)("div",y({className:"fieldDescription checkboxFieldDescription"},{children:o.ZP.translate("LabelInNetworkSignInWithEasyPasswordHelp")}))]})),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Z,{type:"submit",className:"raised button-submit block",title:"Save"}),(0,a.jsx)(d.Z,{type:"button",className:"raised btnResetEasyPassword button-cancel block hide",title:"ButtonResetEasyPassword"})]})]}))}))]}))}},99648:function(e,t,n){n.r(t);var a=n(24246),r=n(27378),s=n(44243),o=n(42363),l=n(85951),i=n(75159),c=function(){return c=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},c.apply(this,arguments)};t.default=function(){var e=(0,l.a)("userId"),t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=s.next()).done;)o.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}((0,r.useState)(""),2),n=t[0],u=t[1],d=(0,r.useCallback)((function(){window.ApiClient.getUser(e).then((function(e){if(!e.Name)throw new Error("Unexpected null user.Name");u(e.Name)}))}),[e]);return(0,r.useEffect)((function(){d()}),[d]),(0,a.jsx)("div",{children:(0,a.jsxs)("div",c({className:"content-primary"},{children:[(0,a.jsx)(i.Z,{title:n,titleLink:"https://docs.jellyfin.org/general/server/users/"}),(0,a.jsx)(s.Z,{activeTab:"userpassword"}),(0,a.jsx)("div",c({className:"readOnlyContent"},{children:(0,a.jsx)(o.Z,{userId:e})}))]}))})}}}]);