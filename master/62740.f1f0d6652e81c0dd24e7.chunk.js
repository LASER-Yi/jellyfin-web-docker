"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[62740,78130,16160,27636],{56229:function(e,t,n){n.r(t),n(81414),n(47134),n(63241),n(44901),n(62659);var a=n(61693),i=n(74131),r=n(57366),o=n(85432),s=n(30325),l=n(2513),u=n(69011),c=n(92811),d=n(72365),m=n(94994),f=n(9337),p=(n(61414),n(27636),n(18613));function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function g(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,h(a.key),a)}}function h(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=v(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==v(t)?t:String(t)}n(26031),n(95822),n(56187),n(38690),n(11908),n(33096),n(89228),n(13227),n(14011),n(11431);var y,b,P,S,I,T,w,Z,k,B,L,A,C,x,O,M,E=new(function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=((t=document.createElement("div")).classList.add("appfooter"),document.body.appendChild(t),t),this.add=function(e){this.element.appendChild(e)},this.insert=function(e){"string"==typeof e?this.element.insertAdjacentHTML("afterbegin",e):this.element.insertBefore(e,this.element.firstChild)}}var t,n;return t=e,(n=[{key:"destroy",value:function(){this.element=null}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()),q=n(61008),N=(n(42855),n(66560)),R=[],F=0,D={},U=0,_=!0;function H(){this.classList.add("hide")}function j(){l.O.playPause(y)}function V(){if(M)return M;var e,t,n=E.element;return(M=n.querySelector(".nowPlayingBar"))||(n.insertAdjacentHTML("afterbegin",(e="",e+='<div class="nowPlayingBar hide nowPlayingBar-hidden">',e+='<div class="nowPlayingBarTop">',e+='<div class="nowPlayingBarPositionContainer sliderContainer" dir="ltr">',e+='<input type="range" is="emby-slider" pin step=".01" min="0" max="100" value="0" class="slider-medium-thumb nowPlayingBarPositionSlider" data-slider-keep-progress="true"/>',e+="</div>",e+='<div class="nowPlayingBarInfoContainer">',e+='<div class="nowPlayingImage"></div>',e+='<div class="nowPlayingBarText"></div>',e+="</div>",e+='<div class="nowPlayingBarCenter" dir="ltr">',e+='<button is="paper-icon-button-light" class="previousTrackButton mediaButton" title="'.concat(m.ZP.translate("ButtonPreviousTrack"),'"><span class="material-icons skip_previous" aria-hidden="true"></span></button>'),e+='<button is="paper-icon-button-light" class="playPauseButton mediaButton" title="'.concat(m.ZP.translate("ButtonPause"),'"><span class="material-icons pause" aria-hidden="true"></span></button>'),e+='<button is="paper-icon-button-light" class="stopButton mediaButton" title="'.concat(m.ZP.translate("ButtonStop"),'"><span class="material-icons stop" aria-hidden="true"></span></button>'),s.Z.mobile||(e+='<button is="paper-icon-button-light" class="nextTrackButton mediaButton" title="'.concat(m.ZP.translate("ButtonNextTrack"),'"><span class="material-icons skip_next" aria-hidden="true"></span></button>')),e+='<div class="nowPlayingBarCurrentTime"></div>',e+="</div>",e+='<div class="nowPlayingBarRight">',e+='<button is="paper-icon-button-light" class="muteButton mediaButton" title="'.concat(m.ZP.translate("Mute"),'"><span class="material-icons volume_up" aria-hidden="true"></span></button>'),e+='<div class="sliderContainer nowPlayingBarVolumeSliderContainer hide" style="width:9em;vertical-align:middle;display:inline-flex;">',e+='<input type="range" is="emby-slider" pin step="1" min="0" max="100" value="0" class="slider-medium-thumb nowPlayingBarVolumeSlider"/>',e+="</div>",e+='<button is="paper-icon-button-light" class="btnAirPlay mediaButton" title="'.concat(m.ZP.translate("AirPlay"),'"><span class="material-icons airplay" aria-hidden="true"></span></button>'),e+='<button is="paper-icon-button-light" class="toggleRepeatButton mediaButton" title="'.concat(m.ZP.translate("Repeat"),'"><span class="material-icons repeat" aria-hidden="true"></span></button>'),e+='<button is="paper-icon-button-light" class="btnShuffleQueue mediaButton" title="'.concat(m.ZP.translate("Shuffle"),'"><span class="material-icons shuffle" aria-hidden="true"></span></button>'),e+='<div class="nowPlayingBarUserDataButtons">',e+="</div>",e+='<button is="paper-icon-button-light" class="playPauseButton mediaButton" title="'.concat(m.ZP.translate("ButtonPause"),'"><span class="material-icons pause" aria-hidden="true"></span></button>'),s.Z.mobile?e+='<button is="paper-icon-button-light" class="nextTrackButton mediaButton" title="'.concat(m.ZP.translate("ButtonNextTrack"),'"><span class="material-icons skip_next" aria-hidden="true"></span></button>'):e+='<button is="paper-icon-button-light" class="btnToggleContextMenu mediaButton" title="'.concat(m.ZP.translate("ButtonMore"),'"><span class="material-icons more_vert" aria-hidden="true"></span></button>'),e+="</div>",(e+="</div>")+"</div>")),window.CustomElements.upgradeSubtree(n),M=n.querySelector(".nowPlayingBar"),s.Z.mobile&&(W(M.querySelector(".btnShuffleQueue")),W(M.querySelector(".nowPlayingBarCenter"))),r.Z.safari&&r.Z.slow&&M.classList.add("noMediaProgress"),q.ZP.on(M),b=(t=M).querySelector(".nowPlayingBarCurrentTime"),P=t.querySelector(".nowPlayingImage"),I=t.querySelector(".nowPlayingBarText"),T=t.querySelector(".nowPlayingBarUserDataButtons"),L=t.querySelector(".nowPlayingBarPositionSlider"),w=t.querySelector(".muteButton"),B=t.querySelectorAll(".playPauseButton"),C=t.querySelector(".toggleRepeatButton"),Z=t.querySelector(".nowPlayingBarVolumeSlider"),k=t.querySelector(".nowPlayingBarVolumeSliderContainer"),w.addEventListener("click",(function(){y&&l.O.toggleMute(y)})),t.querySelector(".stopButton").addEventListener("click",(function(){y&&l.O.stop(y)})),B.forEach((function(e){e.addEventListener("click",j)})),t.querySelector(".nextTrackButton").addEventListener("click",(function(){y&&l.O.nextTrack(y)})),t.querySelector(".previousTrackButton").addEventListener("click",(function(e){if(y){if(l.O.isPlayingAudio(y)){if(e.detail>1)return;if(l.O.currentTime(y)>=5e3||l.O.getCurrentPlaylistIndex(y)<=0)return l.O.seekPercent(0,y),void(L.value=0)}l.O.previousTrack(y)}})),t.querySelector(".previousTrackButton").addEventListener("dblclick",(function(){y&&l.O.previousTrack(y)})),(A=t.querySelector(".btnAirPlay")).addEventListener("click",(function(){y&&l.O.toggleAirPlay(y)})),t.querySelector(".btnShuffleQueue").addEventListener("click",(function(){y&&l.O.toggleQueueShuffleMode()})),(C=t.querySelector(".toggleRepeatButton")).addEventListener("click",(function(){switch(l.O.getRepeatMode()){case"RepeatAll":l.O.setRepeatMode("RepeatOne");break;case"RepeatOne":l.O.setRepeatMode("RepeatNone");break;case"RepeatNone":l.O.setRepeatMode("RepeatAll")}})),x=C.querySelector(".material-icons"),k.classList.toggle("hide",c.M.supports("physicalvolumecontrol")),Z.addEventListener("input",(function(e){y&&y.setVolume(e.target.value)})),L.addEventListener("change",(function(){if(y){var e=parseFloat(this.value);l.O.seekPercent(e,y)}})),L.getBubbleText=function(e){if(null==D||!D.NowPlayingItem||!U)return"--:--";var t=U;return t/=100,t*=e,a.ZP.getDisplayRunningTime(t)},t.addEventListener("click",(function(e){d.ZP.parentWithTag(e.target,["BUTTON","INPUT"])||N.appRouter.showNowPlaying()}))),M}function W(e){e.classList.add("hide")}function Y(e){B&&B.forEach((function(t){var n=t.querySelector(".material-icons");n.classList.remove("play_arrow","pause"),n.classList.add(e?"play_arrow":"pause"),t.title=m.ZP.translate(e?"Play":"ButtonPause")}))}function Q(e){x.classList.remove("repeat","repeat_one");var t="buttonActive";switch(e){case"RepeatAll":x.classList.add("repeat"),C.classList.add(t);break;case"RepeatOne":x.classList.add("repeat_one"),C.classList.add(t);break;default:x.classList.add("repeat"),C.classList.remove(t)}}function z(e,t,n){if(L&&!L.dragging)if(t){var i=e/t;i*=100,L.value=i}else L.value=0;if(L&&L.setBufferedRanges(n,t,e),b){var r=null==e?"--:--":a.ZP.getDisplayRunningTime(e);t&&(r+=" / "+a.ZP.getDisplayRunningTime(t)),b.innerHTML=r}}function G(e,t){var n=R,a=!0,i=!0;-1===n.indexOf("ToggleMute")&&(a=!1);var r=w.querySelector(".material-icons");r.classList.remove("volume_off","volume_up"),r.classList.add(e?"volume_off":"volume_up"),w.title=m.ZP.translate(e?"Unmute":"Mute"),-1===n.indexOf("SetVolume")&&(i=!1),y.isLocalPlayer&&c.M.supports("physicalvolumecontrol")&&(a=!1,i=!1),a?w.classList.remove("hide"):W(w),Z&&(k.classList.toggle("hide",!i),Z.dragging||(Z.value=t||0))}function J(e,t){console.debug("nowplaying event: "+e.type),ne.call(this,e,t)}function K(){O&&Q(l.O.getRepeatMode())}function X(){if(O){var e=l.O.getQueueShuffleMode(),t="buttonActive",n=M.querySelector(".btnShuffleQueue");"Shuffle"===e?n.classList.add(t):n.classList.remove(t)}}function $(){O=!1;var e=document.getElementsByClassName("nowPlayingBar")[0];e&&function(e){e.offsetWidth,e.classList.add("nowPlayingBar-hidden"),d.ZP.addEventListener(e,d.ZP.whichTransitionEvent(),H,{once:!0})}(e)}function ee(e,t){console.debug("[nowPlayingBar:onPlaybackStopped] event: "+e.type),this.isLocalPlayer?"Audio"!==t.NextMediaType&&$():t.NextMediaType||$()}function te(){O&&Y(this.paused())}function ne(e,t){if("init"!==e.type){console.debug("[nowPlayingBar:onStateChanged] event: "+e.type);t.NowPlayingItem&&!s.Z.tv&&!1!==t.IsFullscreen?this.isLocalPlayer&&t.NowPlayingItem&&"Video"===t.NowPlayingItem.MediaType?$():(O=!0,M||V(),function(e,t,n){var a;_?(a=V(),d.ZP.removeEventListener(a,d.ZP.whichTransitionEvent(),H,{once:!0}),a.classList.remove("hide"),a.offsetWidth,a.classList.remove("nowPlayingBar-hidden")):$(),D=t;var i=l.O.getPlayerInfo(),r=t.PlayState||{};Y(r.IsPaused);var c=i.supportedCommands;R=c,-1===c.indexOf("SetRepeatMode")?C.classList.add("hide"):C.classList.remove("hide");var m=-1===c.indexOf("AirPlay");if(A.classList.toggle("hide",m),Q(l.O.getRepeatMode()),X(),G(r.IsMuted,r.VolumeLevel),L&&!L.dragging){L.disabled=!r.CanSeek;var v=t.MediaSource&&null==t.MediaSource.RunTimeTicks;L.setIsClear(v)}var g=t.NowPlayingItem||{};z(r.PositionTicks,g.RunTimeTicks,l.O.getBufferedRanges(n)),function(e){var t=e.NowPlayingItem,n=t?u.Z.getNowPlayingNames(t):[];if(I.innerHTML="",n){var a=document.createElement("div"),i=document.createElement("div");if(i.classList.add("nowPlayingBarSecondaryText"),n.length>1&&(n[1].secondary=!0,n[1].text)){var r=document.createElement("a");r.innerText=n[1].text,i.appendChild(r)}if(n[0].text){var l=document.createElement("a");l.innerText=n[0].text,a.appendChild(l)}I.appendChild(a),I.appendChild(i)}var c=t?function(e,t){if(!e)throw new Error("item cannot be null!");if("Episode"!==e.Type)return null;if((t=t||{}).type=t.type||"Primary","Primary"===t.type&&e.SeriesPrimaryImageTag)return t.tag=e.SeriesPrimaryImageTag,p.Z.getApiClient(e.ServerId).getScaledImageUrl(e.SeriesId,t);if("Thumb"===t.type){if(e.SeriesThumbImageTag)return t.tag=e.SeriesThumbImageTag,p.Z.getApiClient(e.ServerId).getScaledImageUrl(e.SeriesId,t);if(e.ParentThumbImageTag)return t.tag=e.ParentThumbImageTag,p.Z.getApiClient(e.ServerId).getScaledImageUrl(e.ParentThumbItemId,t)}return null}(t,{height:70})||function(e,t){var n;if(!e)throw new Error("item cannot be null!");return(t=t||{}).type=t.type||"Primary",null!==(n=e.ImageTags)&&void 0!==n&&n[t.type]?(t.tag=e.ImageTags[t.type],p.Z.getApiClient(e.ServerId).getScaledImageUrl(e.PrimaryImageItemId||e.Id,t)):e.AlbumId&&e.AlbumPrimaryImageTag?(t.tag=e.AlbumPrimaryImageTag,p.Z.getApiClient(e.ServerId).getScaledImageUrl(e.AlbumId,t)):null}(t,{height:70}):null;if(c!==S&&(c?(S=c,o.default.lazyImage(P,S),P.style.display=null,I.style.marginLeft=null):(S=null,P.style.backgroundImage="",P.style.display="none",I.style.marginLeft="1em")),t.Id){var d=p.Z.getApiClient(t.ServerId);d.getItem(d.getCurrentUserId(),t.Id).then((function(e){var t=e.UserData||{},n=null==t.Likes?"":t.Likes;if(!s.Z.mobile){var a=M.querySelector(".btnToggleContextMenu"),i=a.cloneNode(!0);a.parentNode.replaceChild(i,a);var r={play:!1,queue:!1,stopPlayback:!0,clearQueue:!0,positionTo:a=M.querySelector(".btnToggleContextMenu")};d.getCurrentUser().then((function(t){a.addEventListener("click",(function(){f.default.show(Object.assign({item:e,user:t},r)).catch((function(){}))}))}))}T.innerHTML='<button is="emby-ratingbutton" type="button" class="listItemButton mediaButton paper-icon-button-light" data-id="'+e.Id+'" data-serverid="'+e.ServerId+'" data-itemtype="'+e.Type+'" data-likes="'+n+'" data-isfavorite="'+t.IsFavorite+'"><span class="material-icons favorite" aria-hidden="true"></span></button>'}))}else T.innerHTML=""}(t)}(0,t,this)):$()}}function ae(){if(O){var e=(new Date).getTime();if(!(e-F<700)){F=e;var t=this;U=l.O.duration(t),z(1e4*l.O.currentTime(t),U,l.O.getBufferedRanges(t))}}}function ie(){O&&G(this.isMuted(),this.getVolume())}function re(e,t){var n=l.O.getPlayerState(e);ne.call(e,{type:t},n)}function oe(e){e!==y&&(function(){var e=y;e&&(i.Z.off(e,"playbackstart",J),i.Z.off(e,"statechange",J),i.Z.off(e,"repeatmodechange",K),i.Z.off(e,"shufflequeuemodechange",X),i.Z.off(e,"playbackstop",ee),i.Z.off(e,"volumechange",ie),i.Z.off(e,"pause",te),i.Z.off(e,"unpause",te),i.Z.off(e,"timeupdate",ae),y=null,$())}(),y=e,e&&(re(e,"init"),i.Z.on(e,"playbackstart",J),i.Z.on(e,"statechange",J),i.Z.on(e,"repeatmodechange",K),i.Z.on(e,"shufflequeuemodechange",X),i.Z.on(e,"playbackstop",ee),i.Z.on(e,"volumechange",ie),i.Z.on(e,"pause",te),i.Z.on(e,"unpause",te),i.Z.on(e,"timeupdate",ae)))}i.Z.on(l.O,"playerchange",(function(){oe(l.O.getCurrentPlayer())})),oe(l.O.getCurrentPlayer()),document.addEventListener("viewbeforeshow",(function(e){e.detail.options.enableMediaControl?_||(_=!0,y?re(y,"refresh"):$()):_&&(_=!1,$())}))},69011:function(e,t,n){n(96626),t.Z={getNowPlayingNames:function(e,t){var n,a,i=e,r=null,o=e.Name;e.AlbumId&&"Audio"===e.MediaType&&(i={Id:e.AlbumId,Name:e.Album,Type:"MusicAlbum",IsFolder:!0}),"Video"===e.MediaType&&(null!=e.IndexNumber&&(o=e.IndexNumber+" - "+o),null!=e.ParentIndexNumber&&(o=e.ParentIndexNumber+"."+o));var s="";null!==(n=e.ArtistItems)&&void 0!==n&&n.length?(r={Id:e.ArtistItems[0].Id,Name:e.ArtistItems[0].Name,Type:"MusicArtist",IsFolder:!0},s=e.ArtistItems.map((function(e){return e.Name})).join(", ")):null!==(a=e.Artists)&&void 0!==a&&a.length?s=e.Artists.join(", "):e.SeriesName||e.Album?(s=o,o=e.SeriesName||e.Album,r=i,i=e.SeriesId?{Id:e.SeriesId,Name:e.SeriesName,Type:"Series",IsFolder:!0}:null):e.ProductionYear&&!1!==t&&(s=e.ProductionYear);var l=[];return l.push({text:o,item:i}),s&&l.push({text:s,item:r}),l}}},27636:function(e,t,n){n.r(t);var a=n(44038),i=n(94994),r=n(74131),o=n(38228),s=n(18613);function l(){var e=this,t=e.getAttribute("data-id"),n=e.getAttribute("data-serverid"),a=s.Z.getApiClient(n),i=this.getAttribute("data-likes");i="true"===i||"false"!==i&&null,function(e,t,n,a,i){return t.updateFavoriteStatus(t.getCurrentUserId(),n,!i)}(0,a,t,0,"true"===this.getAttribute("data-isfavorite")).then((function(t){c(e,t.Likes,t.IsFavorite)}))}function u(e,t,n){n.ItemId===this.getAttribute("data-id")&&c(this,n.Likes,n.IsFavorite)}function c(e,t,n,a){var i=e.querySelector(".material-icons");n?(i&&(i.classList.add("favorite"),i.classList.add("ratingbutton-icon-withrating")),e.classList.add("ratingbutton-withrating")):(i&&(i.classList.add("favorite"),i.classList.remove("ratingbutton-icon-withrating")),e.classList.remove("ratingbutton-withrating")),!1!==a&&(e.setAttribute("data-isfavorite",n),e.setAttribute("data-likes",null===t?"":t)),d(e,n)}function d(e,t){e.title=t?i.ZP.translate("Favorite"):i.ZP.translate("AddToFavorites");var n=e.querySelector(".button-text");n&&(n.innerText=e.title)}function m(e){var t,n,i;e.removeEventListener("click",l),(i=(t=e)[n="UserDataChanged"])&&(r.Z.off(a.default,n,i),t[n]=null)}function f(e){var t,n,i;m(e),e.addEventListener("click",l),t=e,n="UserDataChanged",i=u.bind(t),r.Z.on(a.default,n,i),t[n]=i}var p=Object.create(o.Z);p.createdCallback=function(){o.Z.createdCallback&&o.Z.createdCallback.call(this)},p.attachedCallback=function(){o.Z.attachedCallback&&o.Z.attachedCallback.call(this);var e=this.getAttribute("data-id"),t=this.getAttribute("data-serverid");if(e&&t){var n=this.getAttribute("data-likes");c(this,n="true"===n||"false"!==n&&null,"true"===this.getAttribute("data-isfavorite"),!1),f(this)}else d(this)},p.detachedCallback=function(){o.Z.detachedCallback&&o.Z.detachedCallback.call(this),m(this)},p.setItem=function(e){if(e){this.setAttribute("data-id",e.Id),this.setAttribute("data-serverid",e.ServerId);var t=e.UserData||{};c(this,t.Likes,t.IsFavorite),f(this)}else this.removeAttribute("data-id"),this.removeAttribute("data-serverid"),this.removeAttribute("data-likes"),this.removeAttribute("data-isfavorite"),m(this)},document.registerElement("emby-ratingbutton",{prototype:p,extends:"button"})},78130:function(e,t,n){n.r(t),n.d(t,{show:function(){return d}});var a=n(65009),i=n.n(a),r=n(93355),o=n(30325),s=n(94994),l=n(72365),u=(n(38228),function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")});function c(e,t,a){Promise.resolve().then(n.bind(n,22652)).then((function(n){var i=a?"on":"off";n.centerFocus[i](e,t)})).catch((function(e){console.warn("Error in centerFocus",e)}))}function d(e){var t,n,a,d={removeOnClose:!0,enableHistory:e.enableHistory,scrollY:!1};o.Z.tv?(d.size="fullscreen",a=!0,d.autoFocus=!0):(d.modal=!1,d.entryAnimation=e.entryAnimation,d.exitAnimation=e.exitAnimation,d.entryAnimationDuration=e.entryAnimationDuration||140,d.exitAnimationDuration=e.exitAnimationDuration||100,d.autoFocus=!1);var m=r.default.createDialog(d);a?m.classList.add("actionsheet-fullscreen"):m.classList.add("actionsheet-not-fullscreen"),m.classList.add("actionSheet"),e.dialogClass&&m.classList.add(e.dialogClass);var f="",p=o.Z.tv?"scrollY smoothScrollY hiddenScrollY":"scrollY",v="";e.items.length>20&&(v+="min-width:"+(l.ZP.getWindowSize().innerWidth>=300?240:200)+"px;");var g,h=!1,y=[];try{for(var b=u(e.items),P=b.next();!P.done;P=b.next())(g=(Z=P.value).icon||(Z.selected?"check":null))&&(h=!0),y.push(g||"")}catch(e){t={error:e}}finally{try{P&&!P.done&&(n=b.return)&&n.call(b)}finally{if(t)throw t.error}}o.Z.tv&&(f+='<button is="paper-icon-button-light" class="btnCloseActionSheet hide-mouse-idle-tv" tabindex="-1" title="'.concat(s.ZP.translate("ButtonBack"),'">\n                     <span class="material-icons arrow_back" aria-hidden="true"></span>\n                 </button>'));var S=e.title&&!h;S||o.Z.tv?f+='<div class="actionSheetContent actionSheetContent-centered">':f+='<div class="actionSheetContent">',e.title&&(f+='<h1 class="actionSheetTitle">'+i()(e.title)+"</h1>"),e.text&&(f+='<p class="actionSheetText">'+i()(e.text)+"</p>");var I="actionSheetScroller";o.Z.tv&&(I+=" actionSheetScroller-tv focuscontainer-x focuscontainer-y"),f+='<div class="'+I+" "+p+'" style="'+v+'">';var T="listItem listItem-button actionSheetMenuItem";(e.border||e.shaded)&&(T+=" listItem-border"),e.menuItemClass&&(T+=" "+e.menuItemClass),o.Z.tv&&(T+=" listItem-focusscale"),o.Z.mobile&&(T+=" actionsheet-xlargeFont");for(var w=0;w<e.items.length;w++){var Z;(Z=e.items[w]).divider?f+='<div class="actionsheetDivider"></div>':(f+="<button"+(Z.selected&&o.Z.tv?" autoFocus":"")+' is="emby-button" type="button" class="'+T+'" data-id="'+(null==Z.id||""===Z.id?Z.value:Z.id)+'">',(g=y[w])?f+='<span class="actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons '.concat(g,'" aria-hidden="true"></span>'):h&&!S&&(f+='<span class="actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons check" aria-hidden="true" style="visibility:hidden;"></span>'),f+='<div class="listItemBody actionsheetListItemBody">',f+='<div class="listItemBodyText actionSheetItemText">',f+=i()(Z.name||Z.textContent||Z.innerText),f+="</div>",Z.secondaryText&&(f+='<div class="listItemBodyText secondary">'.concat(i()(Z.secondaryText),"</div>")),f+="</div>",Z.asideText&&(f+='<div class="listItemAside actionSheetItemAsideText">'.concat(i()(Z.asideText),"</div>")),f+="</button>")}if(e.showCancel&&(f+='<div class="buttons">',f+='<button is="emby-button" type="button" class="btnCloseActionSheet">'.concat(s.ZP.translate("ButtonCancel"),"</button>"),f+="</div>"),f+="</div>",m.innerHTML=f,o.Z.tv){var k=m.querySelector(".actionSheetScroller");k&&c(k,!1,!0)}var B=m.querySelector(".btnCloseActionSheet");B&&B.addEventListener("click",(function(){r.default.close(m)}));var L,A=null;return e.timeout&&(L=setTimeout((function(){r.default.close(m)}),e.timeout)),new Promise((function(t,n){var a=!1;m.addEventListener("click",(function(n){var i=l.ZP.parentWithClass(n.target,"actionSheetMenuItem");i&&(A=i.getAttribute("data-id"),e.resolveOnClick&&(Array.isArray(e.resolveOnClick)?-1!==e.resolveOnClick.indexOf(A)&&(t(A),a=!0):(t(A),a=!0)),r.default.close(m))})),m.addEventListener("close",(function(){if(o.Z.tv){var i=m.querySelector(".actionSheetScroller");i&&c(i,!1,!1)}L&&(clearTimeout(L),L=void 0),a||(null!=A?(e.callback&&e.callback(A),t(A)):n("ActionSheet closed without resolving"))})),r.default.open(m).catch((function(e){console.warn("DialogHelper.open error",e)}));var i=e.positionTo&&"fullscreen"!==d.size?function(e,t,n){var a=l.ZP.getWindowSize(),i=a.innerHeight,r=a.innerWidth,o=function(e){var t,n,a=[];if(!document)return a;try{for(var i=u(e),r=i.next();!r.done;r=i.next()){var o=r.value.getBoundingClientRect();a.push({top:o.top,left:o.left,width:o.width,height:o.height})}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return a}([e])[0];"top"!==t.positionY&&(o.top+=(o.height||0)/2),o.left+=(o.width||0)/2;var s=n.offsetHeight||300,c=n.offsetWidth||160;o.top-=s/2,o.left-=c/2;var d=o.left+c-r,m=o.top+s-i;return d>0&&(o.left-=d+20),m>0&&(o.top-=m+20),o.top+=t.offsetTop||0,o.left+=t.offsetLeft||0,o.top=Math.max(o.top,10),o.left=Math.max(o.left,10),o}(e.positionTo,e,m):null;i&&(m.style.position="fixed",m.style.margin="0",m.style.left=i.left+"px",m.style.top=i.top+"px")}))}t.default={show:d}}}]);