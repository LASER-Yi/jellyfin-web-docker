"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[29575],{2585:function(n,e,t){t.d(e,{A:function(){return c}});var r=t(62540),i=t(12029),o=t(92779),l=t(69856),a=(t(63696),t(90158)),s=function(){return s=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},s.apply(this,arguments)},u=function(n){var e=n.children,t=n.isLoading,i=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(n,["children","isLoading"]);return t?(0,r.jsx)(a.A,s({},i)):e},c=function(n){var e=n.isLoading,t=n.alt,a=n.url,s=n.aspectRatio,c=void 0===s?16/9:s,d=n.FallbackIcon,f=void 0===d?i.A:d;return(0,r.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",aspectRatio:c,overflow:"hidden"},children:(0,r.jsx)(u,{isLoading:e,variant:"rectangular",width:"100%",height:"100%",children:a?(0,r.jsx)("img",{src:a,alt:t,width:"100%"}):(0,r.jsx)(o.A,{sx:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)(f,{sx:{height:"25%",width:"auto"}})})})})}},18596:function(n,e,t){t.r(e),t.d(e,{default:function(){return un}});var r=t(62540),i=t(31110),o=t(47891),l=t(63703),a=t(36940),s=t(96441),u=t(85491),c=t(39156),d=t(90158),f=t(70140),v=t(67854),g=t(89348),p=t(31858),y=t(55129),h=t(65612),b=t(94568),m=t(63696),x=t(87404),j=t(9055),A=t(95605),P=t(32857),w=t(85069),O=t(55367),k=t(38596),S=t(69410),I=t(31297),C=t(83565),E=t(2097),U=t(8280),q=t(80401),L=function(n,e){return(0,U.j)({retry:!1,queryKey:[C.k.Packages,null==e?void 0:e.name,null==e?void 0:e.assemblyGuid],queryFn:function(t){var r=t.signal;return function(n,e,t){return r=void 0,i=void 0,l=function(){var r,i;return function(n,e){var t,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},l=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return l.next=a(0),l.throw=a(1),l.return=a(2),"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function a(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;l&&(l=0,a[0]&&(o=0)),o;)try{if(t=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(n,o)}catch(n){a=[6,n],r=0}finally{t=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(o){switch(o.label){case 0:return(r=I.q.getQueryData([C.k.Packages]))&&e.assemblyGuid&&(i=r.find((function(n){return n.guid===e.assemblyGuid})))?[2,i]:[4,(0,E.N)(n).getPackageInfo(e,t)];case 1:return[2,o.sent().data]}}))},new((o=void 0)||(o=Promise))((function(n,e){function t(n){try{s(l.next(n))}catch(n){e(n)}}function a(n){try{s(l.throw(n))}catch(n){e(n)}}function s(e){var r;e.done?n(e.value):(r=e.value,r instanceof o?r:new o((function(n){n(r)}))).then(t,a)}s((l=l.apply(r,i||[])).next())}));var r,i,o,l}(n,e,{signal:r})},enabled:!!e&&!!n&&!!e.name})},B=t(67087),K=t(68700),R=t(69856),D=t(40181),N=t(58164),T=t(48007),F=t(76110),M=t(27778),G=t(5898),H=function(){return H=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},H.apply(this,arguments)},Q=function(n){var e,t,i=n.isPluginLoading,o=n.isRepositoryLoading,l=n.pluginDetails,a=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(n,["isPluginLoading","isRepositoryLoading","pluginDetails"]);return(0,r.jsx)(F.A,H({component:R.A},a,{children:(0,r.jsx)(D.A,{children:(0,r.jsxs)(N.A,{children:[(0,r.jsxs)(M.A,{children:[(0,r.jsx)(T.A,{variant:"head",children:G.Ay.translate("LabelStatus")}),(0,r.jsx)(T.A,{children:i&&(0,r.jsx)(d.A,{})||(null==l?void 0:l.status)||G.Ay.translate("LabelNotInstalled")})]}),(0,r.jsxs)(M.A,{children:[(0,r.jsx)(T.A,{variant:"head",children:G.Ay.translate("LabelVersion")}),(0,r.jsx)(T.A,{children:i&&(0,r.jsx)(d.A,{})||(null===(e=null==l?void 0:l.version)||void 0===e?void 0:e.version)})]}),(0,r.jsxs)(M.A,{children:[(0,r.jsx)(T.A,{variant:"head",children:G.Ay.translate("LabelDeveloper")}),(0,r.jsx)(T.A,{children:o&&(0,r.jsx)(d.A,{})||(null==l?void 0:l.owner)||G.Ay.translate("Unknown")})]}),(0,r.jsxs)(M.A,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,r.jsx)(T.A,{variant:"head",children:G.Ay.translate("LabelRepository")}),(0,r.jsx)(T.A,{children:o&&(0,r.jsx)(d.A,{})||(null==l?void 0:l.status)&&!1===(null==l?void 0:l.canUninstall)&&G.Ay.translate("LabelBundled")||(null===(t=null==l?void 0:l.version)||void 0===t?void 0:t.repositoryUrl)&&(0,r.jsx)(K.A,{component:j.N_,to:l.version.repositoryUrl,target:"_blank",rel:"noopener noreferrer",children:l.version.repositoryName})||G.Ay.translate("Unknown")})]})]})})}))},V=t(19521),_=t(91480),z=t(98003),$=t(13584),W=t(71847),Y=t(92779),J=t(31234),X=t.n(J),Z=t(47593),nn=function(n){var e=n.markdown,t=n.fallback;return(0,r.jsx)(Y.A,{dangerouslySetInnerHTML:e?{__html:X().sanitize((0,Z.A)({html:!0}).render(e))}:void 0,sx:{"> :first-child /* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */":{marginTop:0,paddingTop:0},"> :last-child":{marginBottom:0,paddingBottom:0}},children:e?void 0:t})},en=t(98320),tn=function(n){var e,t=n.pluginDetails,i=n.onInstall;return null===(e=null==t?void 0:t.versions)||void 0===e?void 0:e.map((function(n){var e;return(0,r.jsxs)(z.A,{children:[(0,r.jsxs)(W.A,{expandIcon:(0,r.jsx)(_.A,{}),children:[n.version,n.timestamp&&(0,r.jsxs)(r.Fragment,{children:[" — ",(0,en.YU)(n.timestamp)]})]}),(0,r.jsx)($.A,{children:(0,r.jsxs)(f.A,{spacing:2,children:[(0,r.jsx)(nn,{fallback:G.Ay.translate("LabelNoChangelog"),markdown:n.changelog}),t.status&&n.version===(null===(e=t.version)||void 0===e?void 0:e.version)?(0,r.jsx)(l.A,{disabled:!0,startIcon:(0,r.jsx)(V.A,{}),variant:"outlined",children:G.Ay.translate("LabelInstalled")}):(0,r.jsx)(l.A,{startIcon:(0,r.jsx)(y.A,{}),variant:"outlined",onClick:i(n),children:G.Ay.translate("HeaderInstall")})]})})]},n.checksum)}))},rn=t(57807),on=t(2585),ln=t(65242),an=t(89100),sn=function(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var r,i,o=t.call(n),l=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)l.push(r.value)}catch(n){i={error:n}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return l},un=function(){var n,e,t=(0,S.gf)().api,U=(0,x.g)().pluginId,K=sn((0,j.ok)(),1)[0],R=function(){var n=(0,S.gf)().api;return(0,k.n)({mutationFn:function(e){return(0,O.p)(n).disablePlugin(e)},onSuccess:function(){I.q.invalidateQueries({queryKey:[C.k.Plugins]})}})}(),D=function(){var n=(0,S.gf)().api;return(0,k.n)({mutationFn:function(e){return(0,O.p)(n).enablePlugin(e)},onSuccess:function(){I.q.invalidateQueries({queryKey:[C.k.Plugins]})}})}(),N=function(){var n=(0,S.gf)().api;return(0,k.n)({mutationFn:function(e){return(0,E.N)(n).installPackage(e)},onSuccess:function(){I.q.invalidateQueries({queryKey:[C.k.ConfigurationPages]}),I.q.invalidateQueries({queryKey:[C.k.Plugins]})}})}(),T=function(){var n=(0,S.gf)().api;return(0,k.n)({mutationFn:function(e){return(0,O.p)(n).uninstallPluginByVersion(e)},onSuccess:function(){I.q.invalidateQueries({queryKey:[C.k.Plugins]}),I.q.invalidateQueries({queryKey:[C.k.ConfigurationPages]})}})}(),F=sn((0,m.useState)(),2),M=F[0],H=F[1],V=sn((0,m.useState)(!1),2),_=V[0],z=V[1],$=sn((0,m.useState)(!1),2),W=$[0],Y=$[1],J=sn((0,m.useState)(!1),2),X=J[0],Z=J[1],nn=sn((0,m.useState)(),2),en=nn[0],un=nn[1],cn=null!==(n=K.get("name"))&&void 0!==n?n:void 0,dn=(0,w.q)(),fn=dn.data,vn=dn.isError,gn=dn.isPending,pn=function(n){var e=(0,S.gf)().api;return(0,q.I)(L(e,n))}(cn?{name:cn,assemblyGuid:U}:void 0),yn=pn.data,hn=pn.isError,bn=pn.isPending,mn=(0,B.q)(),xn=mn.data,jn=mn.isError,An=mn.isPending,Pn=gn||bn||An,wn=(0,m.useMemo)((function(){var n,e,r;if(U&&!An){var o=(0,P.R)(U,xn),l=void 0;l=o?(null===(n=null==yn?void 0:yn.versions)||void 0===n?void 0:n.find((function(n){return n.version===o.Version})))||{version:o.Version,VersionNumber:o.Version}:null===(e=null==yn?void 0:yn.versions)||void 0===e?void 0:e[0];var a=void 0;return(null==o?void 0:o.HasImage)&&(a=null==t?void 0:t.getUri("/Plugins/".concat(o.Id,"/").concat(o.Version,"/Image"))),{canUninstall:!!(null==o?void 0:o.CanUninstall),description:(null==o?void 0:o.Description)||(null==yn?void 0:yn.description)||(null==yn?void 0:yn.overview),id:U,imageUrl:a||(null==yn?void 0:yn.imageUrl)||void 0,isEnabled:null!==(r=M&&(null==o?void 0:o.Status)===i.u.Restart)&&void 0!==r?r:(null==o?void 0:o.Status)!==i.u.Disabled,name:cn||(null==o?void 0:o.Name)||(null==yn?void 0:yn.name),owner:!1===(null==o?void 0:o.CanUninstall)?"jellyfin":null==yn?void 0:yn.owner,status:null==o?void 0:o.Status,configurationPage:(0,A.$)(fn||[],U),version:l,versions:(null==yn?void 0:yn.versions)||[]}}}),[t,fn,M,An,null==yn?void 0:yn.description,null==yn?void 0:yn.imageUrl,null==yn?void 0:yn.name,null==yn?void 0:yn.overview,null==yn?void 0:yn.owner,null==yn?void 0:yn.versions,U,cn,xn]),On=(0,m.useMemo)((function(){var n=[];return R.isError&&n.push({messageKey:"PluginDisableError"}),D.isError&&n.push({messageKey:"PluginEnableError"}),N.isSuccess&&n.push({severity:"success",messageKey:"MessagePluginInstalled"}),N.isError&&n.push({messageKey:"MessagePluginInstallError"}),T.isError&&n.push({messageKey:"PluginUninstallError"}),vn&&n.push({messageKey:"PluginLoadConfigError"}),!An&&(null==wn?void 0:wn.canUninstall)&&hn&&n.push({severity:"warning",messageKey:"PluginLoadRepoError"}),jn&&n.push({messageKey:"MessageGetInstalledPluginsError"}),n}),[R.isError,D.isError,N.isError,N.isSuccess,vn,hn,jn,An,null==wn?void 0:wn.canUninstall,T.isError]),kn=(0,m.useCallback)((function(){var n;(null===(n=null==wn?void 0:wn.version)||void 0===n?void 0:n.version)&&(console.debug("[PluginPage] %s plugin",wn.isEnabled?"disabling":"enabling",wn),wn.isEnabled?R.mutate({pluginId:wn.id,version:wn.version.version},{onSuccess:function(){H(!1)},onSettled:function(){N.reset(),D.reset(),T.reset()}}):D.mutate({pluginId:wn.id,version:wn.version.version},{onSuccess:function(){H(!0)},onSettled:function(){N.reset(),R.reset(),T.reset()}}))}),[R,D,N,wn,T]),Sn=(0,m.useCallback)((function(n,e){return void 0===e&&(e=!1),function(){var t;if(null==wn?void 0:wn.name){var r=n||wn.version;if(r){if(!e&&!(null===(t=r.repositoryUrl)||void 0===t?void 0:t.startsWith("https://repo.jellyfin.org/")))return console.debug("[PluginPage] plugin install needs confirmed",r),un(r),void z(!0);console.debug("[PluginPage] installing plugin",r),Y(!0),N.mutate({name:wn.name,assemblyGuid:wn.id,version:r.version,repositoryUrl:r.repositoryUrl},{onSettled:function(){Y(!1),un(void 0),R.reset(),D.reset(),T.reset()}})}}}}),[R,D,N,wn,T]),In=(0,m.useCallback)((function(){console.debug("[PluginPage] confirmed installing plugin",en),z(!1),Sn(en,!0)()}),[Sn,en]),Cn=(0,m.useCallback)((function(){un(void 0),z(!1)}),[]),En=(0,m.useCallback)((function(){Z(!0)}),[]),Un=(0,m.useCallback)((function(){var n;(null===(n=null==wn?void 0:wn.version)||void 0===n?void 0:n.version)&&(console.debug("[PluginPage] uninstalling plugin",wn),Z(!1),T.mutate({pluginId:wn.id,version:wn.version.version},{onSettled:function(){R.reset(),D.reset(),N.reset()}}))}),[R,D,N,wn,T]),qn=(0,m.useCallback)((function(){Z(!1)}),[]);return(0,r.jsxs)(ln.A,{id:"addPluginPage",title:(null==wn?void 0:wn.name)||cn,className:"mainAnimatedPage type-interior",children:[(0,r.jsxs)(a.A,{className:"content-primary",children:[On.map((function(n){var e=n.severity,t=void 0===e?"error":e,i=n.messageKey;return(0,r.jsx)(o.A,{severity:t,sx:{marginBottom:2},children:G.Ay.translate(i)},i)})),(0,r.jsxs)(c.A,{container:!0,spacing:2,sx:{marginTop:0},children:[(0,r.jsx)(c.A,{size:{xs:12,lg:8},children:(0,r.jsxs)(f.A,{spacing:2,children:[(0,r.jsx)(g.A,{variant:"h1",children:(null==wn?void 0:wn.name)||cn}),(0,r.jsx)(g.A,{sx:{maxWidth:"80ch"},children:Pn&&!(null==wn?void 0:wn.description)?(0,r.jsx)(d.A,{}):null==wn?void 0:wn.description})]})}),(0,r.jsx)(c.A,{size:{lg:4},sx:{display:{xs:"none",lg:"initial"}},children:(0,r.jsx)(on.A,{isLoading:Pn,alt:null==wn?void 0:wn.name,url:null==wn?void 0:wn.imageUrl,FallbackIcon:h.A})}),(0,r.jsx)(c.A,{size:{xs:12,lg:8},sx:{order:{xs:1,lg:"initial"}},children:!!(null==wn?void 0:wn.versions.length)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.A,{variant:"h3",sx:{marginBottom:2},children:G.Ay.translate("HeaderRevisionHistory")}),(0,r.jsx)(tn,{pluginDetails:wn,onInstall:Sn})]})}),(0,r.jsx)(c.A,{size:{xs:12,lg:4},children:(0,r.jsxs)(f.A,{spacing:2,direction:{xs:"column",sm:"row-reverse",lg:"column"},children:[(0,r.jsxs)(f.A,{spacing:1,sx:{flexBasis:"50%"},children:[!Pn&&!(null==wn?void 0:wn.status)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.A,{severity:"info",children:G.Ay.translate("ServerRestartNeededAfterPluginInstall")}),(0,r.jsx)(l.A,{startIcon:(0,r.jsx)(y.A,{}),onClick:Sn(),loading:W,children:G.Ay.translate("HeaderInstall")})]}),!Pn&&(null==wn?void 0:wn.canUninstall)&&(0,r.jsx)(u.A,{children:(0,r.jsx)(s.A,{control:(0,r.jsx)(v.A,{checked:wn.isEnabled,onChange:kn,disabled:wn.status===i.u.Restart}),label:G.Ay.translate("LabelEnablePlugin")})}),!Pn&&(null===(e=null==wn?void 0:wn.configurationPage)||void 0===e?void 0:e.Name)&&(0,r.jsx)(l.A,{component:j.N_,to:"/".concat((0,an.getPluginUrl)(wn.configurationPage.Name)),startIcon:(0,r.jsx)(b.A,{}),children:G.Ay.translate("Settings")}),!Pn&&(null==wn?void 0:wn.canUninstall)&&(0,r.jsx)(l.A,{color:"error",startIcon:(0,r.jsx)(p.A,{}),onClick:En,children:G.Ay.translate("ButtonUninstall")})]}),(0,r.jsx)(Q,{isPluginLoading:An,isRepositoryLoading:bn,pluginDetails:wn,sx:{flexBasis:"50%"}})]})})]})]}),(0,r.jsx)(rn.A,{open:_,title:G.Ay.translate("HeaderConfirmPluginInstallation"),text:G.Ay.translate("MessagePluginInstallDisclaimer"),onCancel:Cn,onConfirm:In,confirmButtonText:G.Ay.translate("HeaderInstall")}),(0,r.jsx)(rn.A,{open:X,title:G.Ay.translate("HeaderUninstallPlugin"),text:G.Ay.translate("UninstallPluginConfirmation",cn||""),onCancel:qn,onConfirm:Un,confirmButtonColor:"error",confirmButtonText:G.Ay.translate("ButtonUninstall")})]})}},32857:function(n,e,t){t.d(e,{R:function(){return i}});var r=t(31110),i=function(n,e){if(e){var t=e.filter((function(e){return e.Id===n})),i=null==t?void 0:t[0];return t.length>1&&(t.find((function(n){return n.Status===r.u.Disabled}))||t.find((function(n){return n.Status===r.u.Restart})))||i}}},38596:function(n,e,t){t.d(e,{n:function(){return v}}),t(29305),t(32733),t(84701),t(81678),t(14382),t(69892),t(44962),t(89336),t(4754),t(94),t(33087),t(36947),t(36457),t(88908),t(83810),t(78557),t(95021),t(73687),t(83994),t(23630),t(82367);var r=t(63696),i=t(427),o=t(52672),l=t(26073),a=t(9790);function s(n){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},s(n)}function u(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function c(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?u(Object(t),!0).forEach((function(e){d(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function d(n,e,t){return(e=function(n){var e=function(n){if("object"!=s(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=s(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==s(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function f(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function v(n,e){var t,s,u=(0,a.jE)(e),d=(t=r.useState((function(){return new i._(u,n)})),s=1,function(n){if(Array.isArray(n))return n}(t)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,l,a=[],s=!0,u=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);s=!0);}catch(n){u=!0,i=n}finally{try{if(!s&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(u)throw i}}return a}}(t,s)||function(n,e){if(n){if("string"==typeof n)return f(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(n,e):void 0}}(t,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];r.useEffect((function(){d.setOptions(n)}),[d,n]);var v=r.useSyncExternalStore(r.useCallback((function(n){return d.subscribe(o.jG.batchCalls(n))}),[d]),(function(){return d.getCurrentResult()}),(function(){return d.getCurrentResult()})),g=r.useCallback((function(n,e){d.mutate(n,e).catch(l.lQ)}),[d]);if(v.error&&(0,l.GU)(d.options.throwOnError,[v.error]))throw v.error;return c(c({},v),{},{mutate:g,mutateAsync:v.mutate})}},57807:function(n,e,t){var r=t(62540),i=t(63703),o=t(62010),l=t(98756),a=t(37793),s=t(75720),u=t(9042),c=(t(63696),t(5898)),d=function(){return d=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},d.apply(this,arguments)};e.A=function(n){var e=n.confirmButtonColor,t=void 0===e?"primary":e,f=n.confirmButtonText,v=n.title,g=n.text,p=n.onCancel,y=n.onConfirm,h=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(n,["confirmButtonColor","confirmButtonText","title","text","onCancel","onConfirm"]);return(0,r.jsxs)(o.A,d({onClose:p},h,{children:[(0,r.jsx)(u.A,{children:v}),(0,r.jsx)(a.A,{children:(0,r.jsx)(s.A,{children:g})}),(0,r.jsxs)(l.A,{children:[(0,r.jsx)(i.A,{variant:"text",onClick:p,children:c.Ay.translate("ButtonCancel")}),(0,r.jsx)(i.A,{color:t,onClick:y,children:f||c.Ay.translate("ButtonOk")})]})]}))}},67087:function(n,e,t){t.d(e,{q:function(){return u}});var r=t(55367),i=t(8280),o=t(80401),l=t(69410),a=t(83565),s=function(n){return(0,i.j)({queryKey:[a.k.Plugins],queryFn:function(e){var t=e.signal;return function(n,e){return t=void 0,i=void 0,l=function(){return function(n,e){var t,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},l=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return l.next=a(0),l.throw=a(1),l.return=a(2),"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function a(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;l&&(l=0,a[0]&&(o=0)),o;)try{if(t=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(n,o)}catch(n){a=[6,n],r=0}finally{t=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(t){switch(t.label){case 0:return[4,(0,r.p)(n).getPlugins(e)];case 1:return[2,t.sent().data]}}))},new((o=void 0)||(o=Promise))((function(n,e){function r(n){try{s(l.next(n))}catch(n){e(n)}}function a(n){try{s(l.throw(n))}catch(n){e(n)}}function s(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(n){n(t)}))).then(r,a)}s((l=l.apply(t,i||[])).next())}));var t,i,o,l}(n,{signal:t})},enabled:!!n})},u=function(){var n=(0,l.gf)().api;return(0,o.I)(s(n))}},83565:function(n,e,t){var r;t.d(e,{k:function(){return r}}),function(n){n.ConfigurationPages="ConfigurationPages",n.Packages="Packages",n.Plugins="Plugins",n.Repositories="Repositories"}(r||(r={}))},85069:function(n,e,t){t.d(e,{q:function(){return u}});var r=t(55990),i=t(8280),o=t(80401),l=t(69410),a=t(83565),s=function(n,e){return(0,i.j)({queryKey:[a.k.ConfigurationPages,null==e?void 0:e.enableInMainMenu],queryFn:function(t){var i=t.signal;return function(n,e,t){return i=void 0,o=void 0,a=function(){return function(n,e){var t,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},l=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return l.next=a(0),l.throw=a(1),l.return=a(2),"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function a(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;l&&(l=0,a[0]&&(o=0)),o;)try{if(t=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(n,o)}catch(n){a=[6,n],r=0}finally{t=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(i){switch(i.label){case 0:return[4,(0,r.T)(n).getConfigurationPages(e,t)];case 1:return[2,i.sent().data]}}))},new((l=void 0)||(l=Promise))((function(n,e){function t(n){try{s(a.next(n))}catch(n){e(n)}}function r(n){try{s(a.throw(n))}catch(n){e(n)}}function s(e){var i;e.done?n(e.value):(i=e.value,i instanceof l?i:new l((function(n){n(i)}))).then(t,r)}s((a=a.apply(i,o||[])).next())}));var i,o,l,a}(n,e,{signal:i})},enabled:!!n})},u=function(n){var e=(0,l.gf)().api;return(0,o.I)(s(e,n))}},95605:function(n,e,t){t.d(e,{$:function(){return r}});var r=function(n,e){var t=n.filter((function(n){return n.PluginId===e}));if(0!==t.length)return 1===t.length?t[0]:t.find((function(n){return!!n.EnableInMainMenu}))||t[0]}}}]);