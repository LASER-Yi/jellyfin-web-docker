(self.webpackChunk=self.webpackChunk||[]).push([[92016,49213,27636,83264,59841],{24102:function(e,t,a){"use strict";var i=a(61693),r=a(21776);function n(e){return"Video"===e.MediaType&&"TvChannel"!==e.Type||"AudioBook"===e.Type||"AudioPodcast"===e.Type}function s(e,t){var a="itemProgressBar";return null!=t&&t.containerClass&&(a+=" "+t.containerClass),'<div class="'+a+'"><div class="itemProgressBarForeground" style="width:'+e+'%;"></div></div>'}function o(e){return r.ZP.canMarkPlayed(e)}a(55005),t.ZP={getProgressHtml:s,getProgressBarHtml:function(e,t){var a;if(n(e)&&"Recording"!==e.Type){var r=null!=t&&t.userData?t.userData:e.UserData;if(r&&(a=r.PlayedPercentage)&&a<100)return s(a,t)}if(("Program"===e.Type||"Timer"===e.Type||"Recording"===e.Type)&&e.StartDate&&e.EndDate){var o=0,c=1;try{o=i.ZP.parseISO8601Date(e.StartDate).getTime(),c=i.ZP.parseISO8601Date(e.EndDate).getTime()}catch(e){console.error(e)}if((a=((new Date).getTime()-o)/(c-o)*100)>0&&a<100)return function(e,t,a,i,r){var n="itemProgressBar";null!=t&&t.containerClass&&(n+=" "+t.containerClass);var s="itemProgressBarForeground";return a&&(s+=" itemProgressBarForeground-recording"),'<div is="emby-progressbar" data-automode="time" data-starttime="'+i+'" data-endtime="'+r+'" class="'+n+'"><div class="'+s+'" style="width:'+e+'%;"></div></div>'}(a,t,"Timer"===e.Type||"Recording"===e.Type||e.TimerId,o,c)}return""},getPlayedIndicatorHtml:function(e){if(o(e)){var t=e.UserData||{};if(t.UnplayedItemCount)return'<div class="countIndicator indicator">'+i.ZP.toLocaleString(t.UnplayedItemCount)+"</div>";if(t.PlayedPercentage&&t.PlayedPercentage>=100||t.Played)return'<div class="playedIndicator indicator"><span class="material-icons indicatorIcon check" aria-hidden="true"></span></div>'}return""},getChildCountIndicatorHtml:function(e,t){var a=null!=t&&t.minCount?t.minCount:0;return e.ChildCount&&e.ChildCount>a?'<div class="countIndicator indicator">'+i.ZP.toLocaleString(e.ChildCount)+"</div>":""},enableProgressIndicator:n,getTimerIndicator:function(e){var t;if("SeriesTimer"===e.Type)return'<span class="material-icons timerIndicator indicatorIcon fiber_smart_record" aria-hidden="true"></span>';if(e.TimerId||e.SeriesTimerId)t=e.Status||"Cancelled";else{if("Timer"!==e.Type)return"";t=e.Status}return e.SeriesTimerId?"Cancelled"!==t?'<span class="material-icons timerIndicator indicatorIcon fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons timerIndicator timerIndicator-inactive indicatorIcon fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons timerIndicator indicatorIcon fiber_manual_record" aria-hidden="true"></span>'},enablePlayedIndicator:o,getSyncIndicator:function(e){return 100===e.SyncPercent?'<div class="syncIndicator indicator fullSyncIndicator"><span class="material-icons indicatorIcon file_download" aria-hidden="true"></span></div>':null!=e.SyncPercent?'<div class="syncIndicator indicator emptySyncIndicator"><span class="material-icons indicatorIcon file_download" aria-hidden="true"></span></div>':""},getTypeIndicator:function(e){var t={Video:"videocam",Folder:"folder",PhotoAlbum:"photo_album",Photo:"photo"}[e.Type];return t?'<div class="indicator videoIndicator"><span class="material-icons indicatorIcon '+t+'" aria-hidden="true"></span></div>':""},getMissingIndicator:function(e){if("Episode"===e.Type&&"Virtual"===e.LocationType){if(e.PremiereDate)try{if(i.ZP.parseISO8601Date(e.PremiereDate).getTime()>(new Date).getTime())return'<div class="unairedIndicator">Unaired</div>'}catch(e){console.error(e)}return'<div class="missingIndicator">Missing</div>'}return""}}},70350:function(e,t,a){"use strict";a(84159),a(96626),a(48914),a(2663),a(81414);var i=a(65009),r=a.n(i),n=a(61693),s=a(94994),o=a(66560),c=a(21776),l=a(24102),d=(a(38228),a(60934));function u(e){if("Video"===e.MediaType&&e.RunTimeTicks&&!e.StartDate){var t=(new Date).getTime()+e.RunTimeTicks/1e4;t=new Date(t);var a=n.ZP.getDisplayTime(t);return s.ZP.translate("EndsAtValue",a)}return null}function m(e,t){t=t?"".concat(t," mediaInfoItem"):"mediaInfoItem";var a=e;if("string"!=typeof e&&"number"!=typeof e){if(e.html)return e.html;a=e.text,t+=" ".concat(e.cssClass)}return'<div class="'.concat(t,'">').concat(a,"</div>")}function f(e,t,a){if(!1!==a.endsAt){var i=e.querySelector(".endsAt");i&&function(e,t){var a=setInterval((function(){document.body.contains(e)?e.innerHTML=u(t):clearInterval(a)}),6e4)}(i,t)}var r=e.querySelector(".lnkChannel");r&&r.addEventListener("click",v)}function v(e){var t=this.getAttribute("data-id"),a=this.getAttribute("data-serverid");return o.appRouter.showItem(t,a),e.preventDefault(),!1}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return void 0===t.interactive&&(t.interactive=!1),function(e){var t,a,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f="",v=[],p="MusicAlbum"===e.Type||"MusicArtist"===e.MediaType||"Playlist"===e.Type||"Playlist"===e.MediaType||"MusicGenre"===e.MediaType;if(p?((i=e.SongCount||e.ChildCount)&&v.push(s.ZP.translate("TrackCount",i)),e.RunTimeTicks&&v.push(n.ZP.getDisplayDuration(e.RunTimeTicks))):"PhotoAlbum"!==e.Type&&"BoxSet"!==e.Type||(i=e.ChildCount)&&v.push(s.ZP.translate("ItemCount",i)),("Episode"===e.Type||"Photo"===e.MediaType)&&!1!==o.originalAirDate&&e.PremiereDate)try{a=n.ZP.parseISO8601Date(e.PremiereDate,"Episode"!==e.Type),t=n.ZP.toLocaleDateString(a),v.push(t)}catch(t){console.error("error parsing date:",e.PremiereDate)}if("SeriesTimer"===e.Type&&(e.RecordAnyTime?v.push(s.ZP.translate("Anytime")):v.push(n.ZP.getDisplayTime(e.StartDate)),e.RecordAnyChannel?v.push(s.ZP.translate("AllChannels")):v.push(e.ChannelName||s.ZP.translate("OneChannel"))),e.StartDate&&"Program"!==e.Type&&"SeriesTimer"!==e.Type&&"Timer"!==e.Type)try{a=n.ZP.parseISO8601Date(e.StartDate),t=n.ZP.toLocaleDateString(a),v.push(t),"Recording"!==e.Type&&(t=n.ZP.getDisplayTime(a),v.push(t))}catch(t){console.error("error parsing date:",e.StartDate)}if(!1!==o.year&&e.ProductionYear&&"Series"===e.Type)if("Continuing"===e.Status)v.push(s.ZP.translate("SeriesYearToPresent",n.ZP.toLocaleString(e.ProductionYear,{useGrouping:!1})));else if(e.ProductionYear){if(t=n.ZP.toLocaleString(e.ProductionYear,{useGrouping:!1}),e.EndDate)try{var h=n.ZP.toLocaleString(n.ZP.parseISO8601Date(e.EndDate).getFullYear(),{useGrouping:!1});h!==t&&(t+=" - ".concat(h))}catch(t){console.error("error parsing date:",e.EndDate)}v.push(t)}if("Program"===e.Type||"Timer"===e.Type){var g=e;if("Timer"===e.Type&&(g=e.ProgramInfo),!1!==o.programIndicator&&(g.IsLive&&"true"===d.get("guide-indicator-live")?v.push({html:'<div class="mediaInfoProgramAttribute mediaInfoItem liveTvProgram">'.concat(s.ZP.translate("Live"),"</div>")}):g.IsPremiere&&"true"===d.get("guide-indicator-premiere")?v.push({html:'<div class="mediaInfoProgramAttribute mediaInfoItem premiereTvProgram">'.concat(s.ZP.translate("Premiere"),"</div>")}):g.IsSeries&&!g.IsRepeat&&"true"===d.get("guide-indicator-new")?v.push({html:'<div class="mediaInfoProgramAttribute mediaInfoItem newTvProgram">'.concat(s.ZP.translate("New"),"</div>")}):g.IsSeries&&g.IsRepeat&&"true"===d.get("guide-indicator-repeat")&&v.push({html:'<div class="mediaInfoProgramAttribute mediaInfoItem repeatTvProgram">'.concat(s.ZP.translate("Repeat"),"</div>")})),(g.IsSeries||g.EpisodeTitle)&&!1!==o.episodeTitle)(t=c.ZP.getDisplayName(g,{includeIndexNumber:o.episodeTitleIndexNumber}))&&v.push(r()(t));else if(g.IsMovie&&g.ProductionYear&&!1!==o.originalAirDate)v.push(g.ProductionYear);else if(g.PremiereDate&&!1!==o.originalAirDate)try{a=n.ZP.parseISO8601Date(g.PremiereDate),t=s.ZP.translate("OriginalAirDateValue",n.ZP.toLocaleDateString(a)),v.push(t)}catch(e){console.error("error parsing date:",g.PremiereDate)}else g.ProductionYear&&!1!==o.year&&v.push(g.ProductionYear)}if(!1!==o.year&&"Series"!==e.Type&&"Episode"!==e.Type&&"Person"!==e.Type&&"Photo"!==e.MediaType&&"Program"!==e.Type&&"Season"!==e.Type)if(e.ProductionYear)v.push(e.ProductionYear);else if(e.PremiereDate)try{t=n.ZP.toLocaleString(n.ZP.parseISO8601Date(e.PremiereDate).getFullYear(),{useGrouping:!1}),v.push(t)}catch(t){console.error("error parsing date:",e.PremiereDate)}if(e.RunTimeTicks&&"Series"!==e.Type&&"Program"!==e.Type&&"Timer"!==e.Type&&"Book"!==e.Type&&!p&&!1!==o.runtime&&("Audio"===e.Type?v.push(n.ZP.getDisplayRunningTime(e.RunTimeTicks)):v.push(n.ZP.getDisplayDuration(e.RunTimeTicks))),!1!==o.officialRating&&e.OfficialRating&&"Season"!==e.Type&&"Episode"!==e.Type&&v.push({text:e.OfficialRating,cssClass:"mediaInfoOfficialRating"}),e.Video3DFormat&&v.push("3D"),"Photo"===e.MediaType&&e.Width&&e.Height&&v.push("".concat(e.Width,"x").concat(e.Height)),!1!==o.container&&"Audio"===e.Type&&e.Container&&v.push(e.Container),f+=v.map((function(e){return m(e)})).join(""),!1!==o.starRating&&(f+=function(e){var t="";return e.CommunityRating&&(t+='<div class="starRatingContainer mediaInfoItem">',t+='<span class="material-icons starIcon star" aria-hidden="true"></span>',t+=e.CommunityRating.toFixed(1),t+="</div>"),t}(e)),e.HasSubtitles&&!1!==o.subtitles&&(f+='<div class="mediaInfoItem mediaInfoText closedCaptionMediaInfoText">CC</div>'),e.CriticRating&&!1!==o.criticRating&&(e.CriticRating>=60?f+='<div class="mediaInfoItem mediaInfoCriticRating mediaInfoCriticRatingFresh">'.concat(e.CriticRating,"</div>"):f+='<div class="mediaInfoItem mediaInfoCriticRating mediaInfoCriticRatingRotten">'.concat(e.CriticRating,"</div>")),!1!==o.endsAt){var y=u(e);y&&(f+=m(y,"endsAt"))}return f+l.ZP.getMissingIndicator(e)}(e,t)}function h(e,t){return null==(t=t||{}).interactive&&(t.interactive=!1),"Program"===e.Type?function(e,t){var a,i,s=[];if(e.StartDate&&!1!==t.programTime)try{a="",i=n.ZP.parseISO8601Date(e.StartDate),!1!==t.startDate&&(a+=n.ZP.toLocaleDateString(i,{weekday:"short",month:"short",day:"numeric"})),a+=" ".concat(n.ZP.getDisplayTime(i)),e.EndDate&&(i=n.ZP.parseISO8601Date(e.EndDate),a+=" - ".concat(n.ZP.getDisplayTime(i))),s.push(a)}catch(t){console.error("error parsing date:",e.StartDate)}if(e.ChannelNumber&&s.push("CH ".concat(e.ChannelNumber)),e.ChannelName&&(t.interactive&&e.ChannelId?s.push({html:'<a is="emby-linkbutton" class="button-flat mediaInfoItem" href="'.concat(o.appRouter.getRouteUrl({ServerId:e.ServerId,Type:"TvChannel",Name:e.ChannelName,Id:e.ChannelId}),'">').concat(r()(e.ChannelName),"</a>")}):s.push(r()(e.ChannelName))),!1!==t.timerIndicator){var c=function(e){var t;if("SeriesTimer"===e.Type)return'<span class="material-icons mediaInfoItem mediaInfoIconItem mediaInfoTimerIcon fiber_smart_record" aria-hidden="true"></span>';if(e.TimerId||e.SeriesTimerId)t=e.Status||"Cancelled";else{if("Timer"!==e.Type)return"";t=e.Status}return e.SeriesTimerId?"Cancelled"!==t?'<span class="material-icons mediaInfoItem mediaInfoIconItem mediaInfoTimerIcon fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons mediaInfoItem mediaInfoIconItem fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons mediaInfoItem mediaInfoIconItem mediaInfoTimerIcon fiber_manual_record" aria-hidden="true"></span>'}(e);c&&s.push({html:c})}return""+s.map((function(e){return m(e)})).join("")}(e,t):""}function g(e){var t=e.Width,a=e.Height;if(t&&a){if(t>=3800||a>=2e3)return"4K";if(t>=2500||a>=1400)return e.IsInterlaced?"1440i":"1440p";if(t>=1800||a>=1e3)return e.IsInterlaced?"1080i":"1080p";if(t>=1200||a>=700)return e.IsInterlaced?"720i":"720p";if(t>=700||a>=400)return e.IsInterlaced?"480i":"480p"}return null}t.ZP={getMediaInfoHtml:p,getEndsAt:u,getEndsAtFromPosition:function(e,t,a,i){var r=(new Date).getTime()+1/a*((e-(t||0))/1e4);r=new Date(r);var o=n.ZP.getDisplayTime(r);return!1===i?o:s.ZP.translate("EndsAtValue",o)},getPrimaryMediaInfoHtml:p,getSecondaryMediaInfoHtml:h,fillPrimaryMediaInfo:function(e,t,a){var i=p(t,a);e.innerHTML=i,f(e,t,a)},fillSecondaryMediaInfo:function(e,t,a){var i=h(t,a);e.innerHTML=i,f(e,t,a)},getMediaInfoStats:function(e){var t=[],a=(((e.MediaSources||[])[0]||{}).MediaStreams||[]).filter((function(e){return"Video"===e.Type}))[0]||{},i=function(e){if(!e.MediaSources)return null;var t=e.MediaSources[0];return t?(t.MediaStreams||[]).filter((function(e){return"Audio"===e.Type&&(e.Index===t.DefaultAudioStreamIndex||null==t.DefaultAudioStreamIndex)}))[0]:null}(e)||{};"Dvd"===e.VideoType&&t.push({type:"mediainfo",text:"Dvd"}),"BluRay"===e.VideoType&&t.push({type:"mediainfo",text:"BluRay"});var r=g(a);r&&t.push({type:"mediainfo",text:r}),a.Codec&&t.push({type:"mediainfo",text:a.Codec});var o,l=i.Channels;8===l?o="7.1":7===l?o="6.1":6===l?o="5.1":2===l&&(o="2.0"),o&&t.push({type:"mediainfo",text:o});var d=(i.Codec||"").toLowerCase();if("dca"!==d&&"dts"!==d||!i.Profile?i.Codec&&t.push({type:"mediainfo",text:i.Codec}):t.push({type:"mediainfo",text:i.Profile}),e.DateCreated&&c.ZP.enableDateAddedDisplay(e)){var u=n.ZP.parseISO8601Date(e.DateCreated);t.push({type:"added",text:s.ZP.translate("AddedOnValue","".concat(n.ZP.toLocaleDateString(u)," ").concat(n.ZP.getDisplayTime(u)))})}return t},getResolutionText:g}},78042:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}}),a(13227),a(81414),a(37666),a(14011),a(11431),a(86651),a(59139),a(86028),a(84159),a(44901),a(44231),a(96626),a(54112),a(63241),a(47134);var i,r,n,s,o,c=a(65009),l=a.n(c),d=a(25883),u=a(48957),m=a(57366),f=a(72365),v=a(58517),p=a(21844),h=a(61693),g=a(21776),y=a(70350),b=a(34643),P=a(67561),T=a(94994),S=a(84881),I=a(30325),k=a(60934),L=a(84280),w=(a(42855),a(61414),a(27636),a(18613)),Z=a(92581);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function O(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==C(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,"string");if("object"!==C(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i.key),"symbol"===C(r)?r:String(r)),i)}var r}function E(e){var t=document.createElement("div");function a(){var e=parseFloat(r.value);u.O.setSubtitleOffset(e,i),n.updateOffset(e)}document.body.appendChild(t),t.innerHTML='<div class="subtitleSync"> <div class="subtitleSyncContainer"> <button type="button" is="paper-icon-button-light" class="subtitleSync-closeButton"><span class="material-icons close" aria-hidden="true"></span></button> <div class="subtitleSyncTextField" contenteditable="true" spellcheck="false">0s</div> <div class="sliderContainer subtitleSyncSliderContainer"> <input is="emby-slider" type="range" step="0.1" min="-30" max="30" value="0" class="subtitleSyncSlider" data-slider-keep-progress="true"/> </div> </div> </div> ',r=t.querySelector(".subtitleSyncSlider"),n=t.querySelector(".subtitleSyncTextField"),s=t.querySelector(".subtitleSync-closeButton"),o=t.querySelector(".subtitleSyncContainer"),I.Z.tv&&(r.classList.add("focusable"),setTimeout((function(){r.enableKeyboardDragging()}),0)),o.classList.add("hide"),n.updateOffset=function(e){this.textContent=e+"s"},n.addEventListener("click",(function(){this.hasFocus=!0})),n.addEventListener("keydown",(function(e){if("Enter"===e.key){var t=/[-+]?\d+\.?\d*/g.exec(this.textContent);t?(t=t[0],t=parseFloat(t),r.updateOffset(t)):this.textContent=(u.O.getPlayerSubtitleOffset(i)||0)+"s",this.hasFocus=!1,e.preventDefault()}else this.hasFocus=!0,null===e.key.match(/[+-\d.s]/)&&e.preventDefault();e.stopPropagation()})),n.blur=function(){!this.hasFocus&&this.prototype&&this.prototype.blur()},r.updateOffset=function(e){this.value=void 0===e?0:e,a()},r.addEventListener("change",(function(){return a()})),r.getBubbleHtml=function(e,t){return'<h1 class="sliderBubbleText">'+(t>0?"+":"")+parseFloat(t)+"s</h1>"},s.addEventListener("click",(function(){u.O.disableShowingSubtitleOffset(i),D.prototype.toggle("forceToHide")})),e.element=t}a(81597),a(66066),a(26031),a(95822),a(56187),a(38690),a(11908),a(33096),a(89228);var D=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i=t,E(this)}var t,a;return t=e,(a=[{key:"destroy",value:function(){e.prototype.toggle("forceToHide"),i&&(u.O.disableShowingSubtitleOffset(i),u.O.setSubtitleOffset(0,i));var t=this.element;t&&(t.parentNode.removeChild(t),this.element=null)}},{key:"toggle",value:function(e){if(!e||["hide","forceToHide"].includes(e)){if(i&&u.O.supportSubtitleOffset(i)){if(e){if("hide"===e&&n.hasFocus)return}else if(u.O.isShowingSubtitleOffsetEnabled(i)&&u.O.canHandleOffsetOnCurrentSubtitle(i))return u.O.getPlayerSubtitleOffset(i)||n.hasFocus||(r.value="0",n.textContent="0s",u.O.setSubtitleOffset(0,i)),void o.classList.remove("hide");o.classList.add("hide")}}else console.warn("SubtitleSync.toggle called with invalid action",e)}}])&&O(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),e}(),x=D,A=a(66560),M=a(71487),R=a(57084),q=a(67932),F=a(90846),H=6e8,B=1e7;function N(){return document.querySelector(".dialogContainer .dialog.opened")}function _(e){var t;function i(t){if(!t||"Program"!==t.Type)return W&&(W.destroy(),W=null),void e.querySelector(".btnRecord").classList.add("hide");w.Z.getApiClient(t.ServerId).getCurrentUser().then((function(i){i.Policy.EnableLiveTvManagement&&a.e(3679).then(a.bind(a,3679)).then((function(a){var i=a.default;W?W.refreshItem(t):(W=new i({item:t,button:e.querySelector(".btnRecord")}),e.querySelector(".btnRecord").classList.remove("hide"))}))}))}function r(t){var a=t.originalItem;G=a;var r=t.displayItem||a;i(r);var n=r.SeriesName||r.Album;(r.EpisodeTitle||r.IsSeries)&&(n=r.Name),function(e,t){var a=g.ZP.getDisplayName(e,{includeParentInfo:"Program"!==e.Type,includeIndexNumber:"Program"!==e.Type});a&&t&&(a="".concat(t," - ").concat(a)),a||(a=t||"");var i=a;if(e.PremiereDate)try{var r=h.ZP.toLocaleString(h.ZP.parseISO8601Date(e.PremiereDate).getFullYear(),{useGrouping:!1});i+=" (".concat(r,")")}catch(e){console.error(e)}M.default.setTitle(i);var n=t||(e?e.Name:null);n&&(document.title=n)}(r,n),Qe.innerHTML=y.ZP.getPrimaryMediaInfoHtml(r,{officialRating:!1,criticRating:!0,starRating:!0,endsAt:!1,year:!1,programIndicator:!1,runtime:!1,subtitles:!1,originalAirDate:!1,episodeTitle:!1});var o=e.querySelector(".osdSecondaryMediaInfo"),c=y.ZP.getSecondaryMediaInfoHtml(r,{startDate:!1,programTime:!1});o.innerHTML=c,c?o.classList.remove("hide"):o.classList.add("hide"),J?(s(Xe,r.StartDate),s(ze,r.EndDate),Xe.classList.remove("hide"),ze.classList.remove("hide"),Ue=r.StartDate?h.ZP.parseISO8601Date(r.StartDate).getTime():0,Ve=r.EndDate?h.ZP.parseISO8601Date(r.EndDate).getTime():0):(Xe.classList.add("hide"),ze.classList.add("hide"),Xe.innerHTML="",ze.innerHTML="",Ue=0,Ve=0);var l=e.querySelector(".btnUserRating");g.ZP.canRate(G)?(l.classList.remove("hide"),l.setItem(G)):(l.classList.add("hide"),l.setItem(null))}function n(e,t){return t?h.ZP.toLocaleTimeString(e,{hour:"numeric",minute:"2-digit",second:"2-digit"}).toLowerCase().replace("am","").replace("pm","").trim():h.ZP.getDisplayTime(e).toLowerCase().replace("am","").replace("pm","").trim()}function s(e,t){var a;t&&(a=n(t=h.ZP.parseISO8601Date(t))),e.innerHTML=a||""}var o=!1;function c(e){it.classList.remove("osdHeader-hidden"),function(e){if(X)"osd"===X&&e&&!I.Z.mobile&&ee(e);else{var t=rt;X="osd",E(t),t.classList.remove("hide"),t.classList.remove("videoOsdBottom-hidden"),e||(e=t.querySelector(".btnPause")),I.Z.mobile||ee(e),Ze()}}(e),te()}function C(){it.classList.add("osdHeader-hidden"),function(){if("osd"===X){var e=rt;E(e),e.classList.add("videoOsdBottom-hidden"),f.ZP.addEventListener(e,at,D,{once:!0}),X=null,Ze("hide"),document.activeElement&&document.activeElement.blur()}}(),p.ZP.hideCursor()}function O(){$&&(clearTimeout($),$=null)}function E(e){f.ZP.removeEventListener(e,at,D,{once:!0})}function D(e){var t=e.target;t==rt&&(t.classList.add("hide"),f.ZP.removeEventListener(t,at,D,{once:!0}))}var _,U,V,K,j,Y,G,W,J,X,z,$,Q,ee=(0,d.Z)((function(e){return b.Z.focus(e)}),50);function te(){!X||o||N()?O():(O(),$=setTimeout(C,3e3))}function ae(e){if("mouse"===(e.pointerType||(I.Z.mobile?"touch":"mouse"))){var t=e.screenX||e.clientX||0,a=e.screenY||e.clientY||0,i=Q;if(!i)return void(Q={x:t,y:a});if(Math.abs(t-i.x)<10&&Math.abs(a-i.y)<10)return;i.x=t,i.y=a,c()}}function ie(t){var a,i=V;switch(t.detail.command){case"left":"osd"===X?c():X||(t.preventDefault(),u.O.rewind(i));break;case"right":"osd"===X?c():X||(t.preventDefault(),u.O.fastForward(i));break;case"pageup":u.O.nextChapter(i);break;case"pagedown":u.O.previousChapter(i);break;case"up":case"down":case"select":case"menu":case"info":case"play":case"playpause":case"pause":case"fastforward":case"rewind":case"next":case"previous":c();break;case"record":(a=e.querySelector(".btnRecord")).classList.contains("hide")||a.click(),c();break;case"togglestats":Le();break;case"back":"osd"!==X||N()||(C(),t.preventDefault())}}function re(){var t,a;!V.forcedFullscreen||u.O.isFullscreen(V)?((a=(t=e.querySelector(".btnFullscreen")).querySelector(".material-icons")).classList.remove("fullscreen_exit","fullscreen"),u.O.isFullscreen(V)?(t.setAttribute("title",T.ZP.translate("ExitFullscreen")+" (f)"),a.classList.add("fullscreen_exit")):(t.setAttribute("title",T.ZP.translate("Fullscreen")+" (f)"),a.classList.add("fullscreen"))):A.appRouter.back()}function ne(){pe(u.O.getCurrentPlayer())}function se(t,a){var n,s;a.NowPlayingItem&&(Y=!0,function(t,a,n){var s=n.PlayState||{};be(s.IsPaused);var o=u.O.getSupportedCommands(a);Be=o,Se(a,s.IsMuted,s.VolumeLevel),Ge&&!Ge.dragging&&(Ge.disabled=!s.CanSeek),tt.disabled=!s.CanSeek,et.disabled=!s.CanSeek;var c=n.NowPlayingItem||{};Ke=s.PlaybackStartTimeTicks,Te(s.PositionTicks,c.RunTimeTicks,s.PlaybackStartTimeTicks,s.PlaybackRate,s.BufferedRanges||[]),function(t,a){var n,s=a.NowPlayingItem;if(G=s,!s)return i(null),M.default.setTitle(""),je.disabled=!0,Ge.disabled=!0,tt.disabled=!0,et.disabled=!0,e.querySelector(".btnSubtitles").classList.add("hide"),e.querySelector(".btnAudio").classList.add("hide"),e.querySelector(".osdTitle").innerHTML="",void(e.querySelector(".osdMediaInfo").innerHTML="");J=function(e){return!("TvChannel"!==e.Type||!e.CurrentProgram)}(s),function(e){if("TvChannel"===e.Type){var t=w.Z.getApiClient(e.ServerId);return t.getItem(t.getCurrentUserId(),e.Id).then((function(e){return{originalItem:e,displayItem:e.CurrentProgram}}))}return Promise.resolve({originalItem:e})}(s).then(r),je.disabled=!1,Ge.disabled=!1,tt.disabled=!1,et.disabled=!1,u.O.subtitleTracks(t).length?(e.querySelector(".btnSubtitles").classList.remove("hide"),Ze()):(e.querySelector(".btnSubtitles").classList.add("hide"),Ze("forceToHide")),u.O.audioTracks(t).length>1?e.querySelector(".btnAudio").classList.remove("hide"):e.querySelector(".btnAudio").classList.add("hide"),(null===(n=G.Chapters)||void 0===n?void 0:n.length)>1?(e.querySelector(".btnPreviousChapter").classList.remove("hide"),e.querySelector(".btnNextChapter").classList.remove("hide")):(e.querySelector(".btnPreviousChapter").classList.add("hide"),e.querySelector(".btnNextChapter").classList.add("hide"))}(a,n);var l=n.MediaSource&&null==n.MediaSource.RunTimeTicks;Ge.setIsClear(l),c.RunTimeTicks&&Ge.setKeyboardSteps(1e6*k.skipBackLength()/c.RunTimeTicks,1e6*k.skipForwardLength()/c.RunTimeTicks),-1===o.indexOf("ToggleFullscreen")||a.isLocalPlayer&&I.Z.tv&&u.O.isFullscreen(a)?e.querySelector(".btnFullscreen").classList.add("hide"):e.querySelector(".btnFullscreen").classList.remove("hide"),-1===o.indexOf("PictureInPicture")?e.querySelector(".btnPip").classList.add("hide"):e.querySelector(".btnPip").classList.remove("hide"),-1===o.indexOf("AirPlay")?e.querySelector(".btnAirPlay").classList.add("hide"):e.querySelector(".btnAirPlay").classList.remove("hide"),re()}(0,this,a),n=e.querySelector(".btnPreviousTrack"),s=e.querySelector(".btnNextTrack"),n.classList.remove("hide"),s.classList.remove("hide"),s.disabled=!1,n.disabled=!1,!0,e.removeEventListener("viewbeforehide",qe),u.O.isPlayingVideo(V)&&e.addEventListener("viewbeforehide",qe),function(e){var t=sessionStorage.getItem("playbackRateSpeed");null!==t&&e.setPlaybackRate(t)}(this))}function oe(){Y&&be(this.paused())}function ce(){if(Y){var e=this;Se(e,e.isMuted(),e.getVolume())}}function le(e,t){console.debug("nowplaying event: "+e.type),se.call(this,e,t),de()}function de(){K=!1,j&&(j.destroy(),j=null)}function ue(t,a){Ne=null,de(),console.debug("nowplaying event: "+t.type),"Video"!==a.NextMediaType&&(e.removeEventListener("viewbeforehide",qe),A.appRouter.back())}function me(){var e=u.O.getPlayerState(this);se.call(this,{type:"init"},e)}function fe(){e.querySelector(".osdMediaStatus").classList.remove("hide")}function ve(){e.querySelector(".osdMediaStatus").classList.add("hide")}function pe(e){if(e===V||(he(),V=e,e)){var t=u.O.getPlayerState(e);se.call(e,{type:"init"},t),P.Z.on(e,"playbackstart",le),P.Z.on(e,"playbackstop",ue),P.Z.on(e,"volumechange",ce),P.Z.on(e,"pause",oe),P.Z.on(e,"unpause",oe),P.Z.on(e,"timeupdate",ge),P.Z.on(e,"fullscreenchange",re),P.Z.on(e,"mediastreamschange",me),P.Z.on(e,"beginFetch",fe),P.Z.on(e,"endFetch",ve),de(),e.isFetching&&fe()}}function he(){we(),Ce(),de();var e=V;e&&(P.Z.off(e,"playbackstart",le),P.Z.off(e,"playbackstop",ue),P.Z.off(e,"volumechange",ce),P.Z.off(e,"pause",oe),P.Z.off(e,"unpause",oe),P.Z.off(e,"timeupdate",ge),P.Z.off(e,"fullscreenchange",re),P.Z.off(e,"mediastreamschange",me),V=null)}function ge(){if(Y&&G){var t=(new Date).getTime();if(t-_e>=700){_e=t;var i=this;Ne=u.O.duration(i);var r=1e4*u.O.currentTime(i);Te(r,Ne,u.O.playbackStartTime(i),u.O.getPlaybackRate(i),u.O.getBufferedRanges(i));var n=G;!function(e,t){if("TvChannel"===t.Type){var a=t.CurrentProgram;if(null!=a&&a.EndDate)try{var i=h.ZP.parseISO8601Date(a.EndDate);if((new Date).getTime()>=i.getTime()){console.debug("program info needs to be refreshed");var r=u.O.getPlayerState(e);se.call(e,{type:"init"},r)}}catch(e){console.error("error parsing date: "+a.EndDate)}}}(i,n),function(t,i,r,n){if(n&&r&&!K&&!X&&"Episode"===i.Type&&k.enableNextVideoInfoOverlay()){var s=30;n>=50*H?s=40:n>=40*H&&(s=35),r>=n-s*B&&n>=10*H&&n-r>=20*B&&function(t){a.e(36542).then(a.bind(a,36542)).then((function(a){var i=a.default;X||j||(X="upnext",K=!0,u.O.nextItem(t).then((function(a){j=new i({parent:e.querySelector(".upNextContainer"),player:t,nextItem:a}),P.Z.on(j,"hide",ye)}),ye))}))}(t)}}(i,n,r,Ne)}}}function ye(){"upnext"===X&&(X=null)}function be(t){var a,i,r=e.querySelector(".btnPause"),n=r.querySelector(".material-icons");n.classList.remove("play_arrow","pause"),t?(a="play_arrow",i=T.ZP.translate("Play")):(a="pause",i=T.ZP.translate("ButtonPause")),n.classList.add(a),f.ZP.setElementTitle(r,i+" (k)",i)}function Pe(e,t,a){return(a-e)/t*100}function Te(e,t,a,i,r){if(J){if(Ge&&!Ge.dragging)if(Ue&&Ve){var n=(a+(e||0))/1e4,s=Ve-Ue;if(Ge.value=Pe(Ue,s,n),r.length){var o=Pe(Ue,s,(a+(r[0].start||0))/1e4),c=Pe(Ue,s,(a+(r[0].end||0))/1e4);Ge.setBufferedRanges([{start:o,end:c}])}else Ge.setBufferedRanges([])}else Ge.value=0,Ge.setBufferedRanges([]);We.innerHTML="",Je.innerHTML=""}else{if(Ge&&!Ge.dragging){if(t){var l=e/t;l*=100,Ge.value=l}else Ge.value=0;t&&null!=e&&Ne&&!J&&G.RunTimeTicks&&"Recording"!==G.Type&&null!==i?$e.innerHTML="&nbsp;&nbsp;&nbsp;&nbsp;"+y.ZP.getEndsAtFromPosition(t,e,i,!0):$e.innerHTML=""}if(Ge&&Ge.setBufferedRanges(r,t,e),e>=0?(Ie(We,e),We.classList.remove("hide")):We.classList.add("hide"),k.enableVideoRemainingTime()){var d=t-e;d>=0?(Ie(Je,d),Je.innerHTML="-"+Je.innerHTML,Je.classList.remove("hide")):We.classList.add("hide")}else Ie(Je,t),Je.classList.remove("hide")}}function Se(t,a,i){var r=Be,n=!0,s=!0;-1===r.indexOf("Mute")&&(n=!1),-1===r.indexOf("SetVolume")&&(s=!1),t.isLocalPlayer&&S.M.supports("physicalvolumecontrol")&&(n=!1,s=!1);var o=e.querySelector(".buttonMute"),c=o.querySelector(".material-icons");c.classList.remove("volume_off","volume_up"),a?(o.setAttribute("title",T.ZP.translate("Unmute")+" (m)"),c.classList.add("volume_off")):(o.setAttribute("title",T.ZP.translate("Mute")+" (m)"),c.classList.add("volume_up")),n?o.classList.remove("hide"):o.classList.add("hide"),je&&(s?Ye.classList.remove("hide"):Ye.classList.add("hide"),je.dragging||(je.value=i||0))}function Ie(e,t,a){if(null!=t){var i=h.ZP.getDisplayRunningTime(t);a&&(i="&nbsp;/&nbsp;"+i),e.innerHTML=i}else e.innerHTML=""}function ke(e){if("stats"===e)Le();else if("suboffset"===e){var t=V;t&&(u.O.enableShowingSubtitleOffset(t),Ze())}}function Le(){a.e(68074).then(a.bind(a,68074)).then((function(e){var t=e.default,a=V;a&&(z?z.toggle():z=new t({player:a}))}))}function we(){z&&(z.destroy(),z=null)}function Ze(e){var t=V;Fe?Fe.toggle(e):t&&(Fe=new x(t))}function Ce(){Fe&&(Fe.destroy(),Fe=null)}function Oe(e){if(!e.target.contains(_))return e.preventDefault(),e.stopPropagation(),!1}function Ee(e){_=e.target;var t=L.ZP.getKeyName(e),a=e.ctrlKey||e.altKey||e.metaKey,i=rt.querySelector(".btnPause");if(32!==e.keyCode){if(I.Z.tv&&!X)switch(t){case"ArrowLeft":case"ArrowRight":return c(Ge),void Ge.dispatchEvent(new KeyboardEvent(e.type,e));case"Enter":return u.O.playPause(V),void c(i)}if(I.Z.tv&&L.ZP.isNavigationKey(t))c();else switch(t){case"Enter":c();break;case"Escape":case"Back":"osd"!==X||N()||(C(),e.stopPropagation());break;case"k":u.O.playPause(V),c(i);break;case"ArrowUp":case"Up":u.O.volumeUp(V);break;case"ArrowDown":case"Down":u.O.volumeDown(V);break;case"l":case"ArrowRight":case"Right":u.O.fastForward(V),c(tt);break;case"j":case"ArrowLeft":case"Left":u.O.rewind(V),c(et);break;case"f":e.ctrlKey||e.metaKey||u.O.toggleFullscreen(V);break;case"m":u.O.toggleMute(V);break;case"p":case"P":e.shiftKey&&u.O.previousTrack(V);break;case"n":case"N":e.shiftKey&&u.O.nextTrack(V);break;case"NavigationLeft":case"GamepadDPadLeft":case"GamepadLeftThumbstickLeft":document.hasFocus()&&(u.O.rewind(V),c(et));break;case"NavigationRight":case"GamepadDPadRight":case"GamepadLeftThumbstickRight":document.hasFocus()&&(u.O.fastForward(V),c(tt));break;case"Home":u.O.seekPercent(0,V);break;case"End":u.O.seekPercent(100,V);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(!a){var r=10*parseInt(t,10);u.O.seekPercent(r,V)}break;case">":u.O.increasePlaybackRate(V);break;case"<":u.O.decreasePlaybackRate(V);break;case"PageUp":u.O.nextChapter(V);break;case"PageDown":u.O.previousChapter(V)}}else"BUTTON"===e.target.tagName&&I.Z.tv?c():(u.O.playPause(V),c(i),e.preventDefault(),e.stopPropagation(),_=null)}function De(){te()}function xe(e){e.deltaY<0&&u.O.volumeUp(V),e.deltaY>0&&u.O.volumeDown(V)}function Ae(e){_=e.target,o=!0,te()}function Me(){o=!1,te()}function Re(){o=!1,te()}function qe(){if(u.O.isPlayingVideo()){Z.Z.disableFullscreen(),clearTimeout(U);var t=V;e.removeEventListener("viewbeforehide",qe),he(),u.O.stop(t)}}Z.Z.enableFullscreen();var Fe,He=this,Be=[],Ne=0,_e=0,Ue=0,Ve=0,Ke=0,je=e.querySelector(".osdVolumeSlider"),Ye=e.querySelector(".osdVolumeSliderContainer"),Ge=e.querySelector(".osdPositionSlider"),We=e.querySelector(".osdPositionText"),Je=e.querySelector(".osdDurationText"),Xe=e.querySelector(".startTimeText"),ze=e.querySelector(".endTimeText"),$e=e.querySelector(".endsAtText"),Qe=e.querySelector(".osdRatingsText"),et=e.querySelector(".btnRewind"),tt=e.querySelector(".btnFastForward"),at=f.ZP.whichTransitionEvent(),it=document.querySelector(".skinHeader"),rt=e.querySelector(".videoOsdBottom-maincontrols");Ge.enableKeyboardDragging(),je.enableKeyboardDragging(),I.Z.tv&&Ge.classList.add("focusable"),Je.addEventListener("click",(function(){k.enableVideoRemainingTime(!k.enableVideoRemainingTime());var e=u.O.getPlayerState(V),t=e.PlayState,a=e.NowPlayingItem;Te(t.PositionTicks,a.RunTimeTicks,t.PlaybackStartTimeTicks,t.PlaybackRate,t.BufferedRanges||[])})),e.addEventListener("viewbeforeshow",(function(){it.classList.add("osdHeader"),(0,R.G2)(R.q3.Full)})),e.addEventListener("viewshow",(function(){try{P.Z.on(u.O,"playerchange",ne),pe(u.O.getCurrentPlayer()),f.ZP.addEventListener(document,window.PointerEvent?"pointermove":"mousemove",ae,{passive:!0}),c(),v.default.on(window,ie),document.addEventListener("keydown",Ee),f.ZP.addEventListener(document,"keydown",De,{capture:!0,passive:!0}),document.addEventListener("wheel",xe),f.ZP.addEventListener(window,window.PointerEvent?"pointerdown":"mousedown",Ae,{capture:!0,passive:!0}),f.ZP.addEventListener(window,window.PointerEvent?"pointerup":"mouseup",Me,{capture:!0,passive:!0}),f.ZP.addEventListener(window,"touchstart",Ae,{capture:!0,passive:!0}),["touchend","touchcancel"].forEach((function(e){f.ZP.addEventListener(window,e,Me,{capture:!0,passive:!0})})),f.ZP.addEventListener(window,"dragend",Re,{capture:!0,passive:!0}),(m.Z.firefox||m.Z.edge)&&f.ZP.addEventListener(document,"click",Oe,{capture:!0})}catch(e){(0,R.G2)(R.q3.None),A.appRouter.goHome()}})),e.addEventListener("viewbeforehide",(function(){z&&z.enabled(!1),document.removeEventListener("keydown",Ee),f.ZP.removeEventListener(document,"keydown",De,{capture:!0,passive:!0}),document.removeEventListener("wheel",xe),f.ZP.removeEventListener(window,window.PointerEvent?"pointerdown":"mousedown",Ae,{capture:!0,passive:!0}),f.ZP.removeEventListener(window,window.PointerEvent?"pointerup":"mouseup",Me,{capture:!0,passive:!0}),f.ZP.removeEventListener(window,"touchstart",Ae,{capture:!0,passive:!0}),["touchend","touchcancel"].forEach((function(e){f.ZP.removeEventListener(window,e,Me,{capture:!0,passive:!0})})),f.ZP.removeEventListener(window,"dragend",Re,{capture:!0,passive:!0}),(m.Z.firefox||m.Z.edge)&&f.ZP.removeEventListener(document,"click",Oe,{capture:!0}),O(),it.classList.remove("osdHeader"),it.classList.remove("osdHeader-hidden"),f.ZP.removeEventListener(document,window.PointerEvent?"pointermove":"mousemove",ae,{passive:!0}),v.default.off(window,ie),P.Z.off(u.O,"playerchange",ne),he()})),e.querySelector(".btnFullscreen").addEventListener("click",(function(){u.O.toggleFullscreen(V)})),e.querySelector(".btnPip").addEventListener("click",(function(){u.O.togglePictureInPicture(V)})),e.querySelector(".btnAirPlay").addEventListener("click",(function(){u.O.toggleAirPlay(V)})),e.querySelector(".btnVideoOsdSettings").addEventListener("click",(function(){var e=this;a.e(29078).then(a.bind(a,29078)).then((function(t){var a=V;if(a){var i,r=u.O.getPlayerState(a),n=u.O.supportSubtitleOffset(a)&&u.O.canHandleOffsetOnCurrentSubtitle(a);t.show({mediaType:"Video",player:a,positionTo:e,quality:null===(i=r.MediaSource)||void 0===i?void 0:i.SupportsTranscoding,stats:!0,suboffset:n,onOption:ke}).finally((function(){te()})),setTimeout(te,0)}}))})),e.addEventListener("viewhide",(function(){it.classList.remove("hide")})),e.addEventListener("viewdestroy",(function(){He.touchHelper&&(He.touchHelper.destroy(),He.touchHelper=null),W&&(W.destroy(),W=null),we(),Ce()}));var nt=0;f.ZP.addEventListener(e,window.PointerEvent?"pointerdown":"click",(function(e){if(f.ZP.parentWithClass(e.target,["videoOsdBottom","upNextContainer"]))c();else{var t=e.pointerType||(I.Z.mobile?"touch":"mouse"),a=(new Date).getTime();switch(t){case"touch":a-nt>300&&(nt=a,"osd"===X?C():X||c());break;case"mouse":e.button||(U?(clearTimeout(U),U=0):U=setTimeout((function(){u.O.playPause(V),c(),U=0}),300));break;default:u.O.playPause(V),c()}}}),{passive:!0}),f.ZP.addEventListener(e,"dblclick",(function(t){t.target===e&&u.O.toggleFullscreen(V)})),e.querySelector(".buttonMute").addEventListener("click",(function(){u.O.toggleMute(V)})),je.addEventListener("input",(function(e){u.O.setVolume(e.target.value,V)})),Ge.addEventListener("change",(function(){var e=V;if(e){var t=parseFloat(this.value);if(J){var a=t/100*(Ve-Ue)*1e4;a+=1e4*Ue,a-=Ke,u.O.seek(a,e)}else u.O.seekPercent(t,e)}})),Ge.getBubbleHtml=function(e){var t;if(c(),J){if(Ue&&Ve){var a=Ve-Ue;return a/=100,a*=e,a+=Ue,'<h1 class="sliderBubbleText">'+n(new Date(parseInt(a,10)),!0)+"</h1>"}return"--:--"}if(!Ne)return"--:--";var i=Ne;i/=100,i*=e;var r=G;if(null!=r&&null!==(t=r.Chapters)&&void 0!==t&&t.length&&r.Chapters[0].ImageTag){var s=function(e,t,a,i){for(var r,n=-1,s=0,o=a.length;s<o;s++){var c=a[s];i>=c.StartPositionTicks&&(r=c,n=s)}if(!r)return null;var d=function(e,t,a,i,r){return t.ImageTag?r.getScaledImageUrl(e.Id,{maxWidth:400,tag:t.ImageTag,type:"Chapter",index:a}):null}(t,r,n,0,e);if(d){var u='<div class="chapterThumbContainer">';return u+='<img class="chapterThumb" src="'+d+'" />',u+='<div class="chapterThumbTextContainer">',u+='<div class="chapterThumbText chapterThumbText-dim">',u+=l()(r.Name),u+="</div>",u+='<h2 class="chapterThumbText">',u+=h.ZP.getDisplayRunningTime(i),u+="</h2>",(u+="</div>")+"</div>"}return null}(w.Z.getApiClient(r.ServerId),r,r.Chapters,i);if(s)return s}return'<h1 class="sliderBubbleText">'+h.ZP.getDisplayRunningTime(i)+"</h1>"},Ge.getMarkerInfo=function(){var e,t=[],a=G;return null!=a&&null!==(e=a.Chapters)&&void 0!==e&&e.length&&a.Chapters.forEach((function(e){t.push({className:"chapterMarker",name:e.Name,progress:e.StartPositionTicks/a.RunTimeTicks})})),t},e.querySelector(".btnPreviousTrack").addEventListener("click",(function(){u.O.previousTrack(V)})),e.querySelector(".btnPreviousChapter").addEventListener("click",(function(){u.O.previousChapter(V)})),e.querySelector(".btnPause").addEventListener("click",(function(){u.O.playPause(V)})),e.querySelector(".btnNextChapter").addEventListener("click",(function(){u.O.nextChapter(V)})),e.querySelector(".btnNextTrack").addEventListener("click",(function(){u.O.nextTrack(V)})),et.addEventListener("click",(function(){u.O.rewind(V)})),tt.addEventListener("click",(function(){u.O.fastForward(V)})),e.querySelector(".btnAudio").addEventListener("click",(function(){var e=V,t=u.O.audioTracks(e),i=u.O.getAudioStreamIndex(e),r=t.map((function(e){var t={name:e.DisplayTitle,id:e.Index};return e.Index===i&&(t.selected=!0),t})),n=this;Promise.resolve().then(a.bind(a,12801)).then((function(t){t.default.show({items:r,title:T.ZP.translate("Audio"),positionTo:n}).then((function(t){var a=parseInt(t,10);a!==i&&u.O.setAudioStreamIndex(a,e)})).finally((function(){te()})),setTimeout(te,0)}))})),e.querySelector(".btnSubtitles").addEventListener("click",(function(){var e=V,t=u.O.subtitleTracks(e),i=u.O.secondarySubtitleTracks(e),r=u.O.getSubtitleStreamIndex(e);null==r&&(r=-1),t.unshift({Index:-1,DisplayTitle:T.ZP.translate("Off")});var n=t.map((function(e){var t={name:e.DisplayTitle,id:e.Index};return e.Index===r&&(t.selected=!0),t}));if(u.O.playerHasSecondarySubtitleSupport(e)&&t.length>1&&i.length>0&&-1!==r&&u.O.trackHasSecondarySubtitleSupport(u.O.getSubtitleStream(e,r),e)){var s={name:T.ZP.translate("SecondarySubtitles"),id:"secondarysubtitle"};n.unshift(s)}var o=this;Promise.resolve().then(a.bind(a,12801)).then((function(t){var a=t.default;a.show({title:T.ZP.translate("Subtitles"),items:n,positionTo:o}).then((function(t){if("secondarysubtitle"===t)try{!function(e,t){var a=V;if(u.O.playerHasSecondarySubtitleSupport(a)){var i=u.O.getSecondarySubtitleStreamIndex(a),r=u.O.secondarySubtitleTracks(a);null==i&&(i=-1),r.unshift({Index:-1,DisplayTitle:T.ZP.translate("Off")});var n=r.map((function(e){var t={name:e.DisplayTitle,id:e.Index};return e.Index===i&&(t.selected=!0),t}));e.show({title:T.ZP.translate("SecondarySubtitles"),items:n,positionTo:t}).then((function(e){if(e){var t=parseInt(e,10);t!==i&&u.O.setSecondarySubtitleStreamIndex(t,a)}})).finally((function(){te()})),setTimeout(te,0)}}(a,o)}catch(e){console.error(e)}else{var i=parseInt(t,10);i!==r&&u.O.setSubtitleStreamIndex(i,e)}Ze()})).finally((function(){te()})),setTimeout(te,0)}))})),e.querySelector(".btnUserRating").classList.remove("emby-button");var st=function(t){var a="",i="",r="oneShotPulse",n=1500,s=e.querySelector("#syncPlayIcon");switch(t){case"schedule-play":a="sync spin",i="play_arrow centered",r="infinitePulse",n=-1,C();break;case"unpause":a="play_circle_outline";break;case"pause":a="pause_circle_outline",c();break;case"seek":a="update",r="infinitePulse",n=-1;break;case"buffering":a="schedule",r="infinitePulse",n=-1;break;case"wait-pause":a="schedule",i="pause shifted",r="infinitePulse",n=-1;break;case"wait-unpause":a="schedule",i="play_arrow shifted",r="infinitePulse",n=-1;break;default:return void(s.style.visibility="hidden")}s.setAttribute("class","syncPlayIconCircle "+r),s.querySelector(".primary-icon").setAttribute("class","primary-icon material-icons "+a),s.querySelector(".secondary-icon").setAttribute("class","secondary-icon material-icons "+i);var o=s.cloneNode(!0);o.style.visibility="visible",s.parentNode.replaceChild(o,s),n<0||setTimeout((function(){o.style.visibility="hidden"}),n)},ot=null===(t=q.E.firstOfType(F.z.SyncPlay))||void 0===t?void 0:t.instance;ot&&(P.Z.on(ot.Manager,"enabled",(function(t,a){a||(e.querySelector("#syncPlayIcon").style.visibility="hidden")})),P.Z.on(ot.Manager,"notify-osd",(function(e,t){st(t)})),P.Z.on(ot.Manager,"group-state-update",(function(e,t,a){"Playing"===t&&"Unpause"===a||"Playing"===t&&"Ready"===a?st("schedule-play"):"Paused"===t&&"Pause"===a?st("pause"):"Paused"===t&&"Ready"===a?st("clear"):"Waiting"===t&&"Seek"===a?st("seek"):"Waiting"===t&&"Buffer"===a?st("buffering"):"Waiting"===t&&"Pause"===a?st("wait-pause"):"Waiting"===t&&"Unpause"===a&&st("wait-unpause")})))}},55005:function(e,t,a){a(54112);var i=Object.create(HTMLDivElement.prototype);function r(){var e=parseInt(this.getAttribute("data-starttime"),10),t=parseInt(this.getAttribute("data-endtime"),10),a=((new Date).getTime()-e)/(t-e)*100;a=Math.min(100,a),a=Math.max(0,a),this.querySelector(".itemProgressBarForeground").style.width=a+"%"}i.attachedCallback=function(){this.timeInterval&&clearInterval(this.timeInterval),"time"===this.getAttribute("data-automode")&&(this.timeInterval=setInterval(r.bind(this),6e4))},i.detachedCallback=function(){this.timeInterval&&(clearInterval(this.timeInterval),this.timeInterval=null)},document.registerElement("emby-progressbar",{prototype:i,extends:"div"})},27636:function(e,t,a){"use strict";a.r(t);var i=a(44038),r=a(94994),n=a(67561),s=a(38228),o=a(18613);function c(){var e=this,t=e.getAttribute("data-id"),a=e.getAttribute("data-serverid"),i=o.Z.getApiClient(a),r=this.getAttribute("data-likes");r="true"===r||"false"!==r&&null,function(e,t,a,i,r){return t.updateFavoriteStatus(t.getCurrentUserId(),a,!r)}(0,i,t,0,"true"===this.getAttribute("data-isfavorite")).then((function(t){d(e,t.Likes,t.IsFavorite)}))}function l(e,t,a){a.ItemId===this.getAttribute("data-id")&&d(this,a.Likes,a.IsFavorite)}function d(e,t,a,i){var r=e.querySelector(".material-icons");a?(r&&(r.classList.add("favorite"),r.classList.add("ratingbutton-icon-withrating")),e.classList.add("ratingbutton-withrating")):(r&&(r.classList.add("favorite"),r.classList.remove("ratingbutton-icon-withrating")),e.classList.remove("ratingbutton-withrating")),!1!==i&&(e.setAttribute("data-isfavorite",a),e.setAttribute("data-likes",null===t?"":t)),u(e,a)}function u(e,t){e.title=t?r.ZP.translate("Favorite"):r.ZP.translate("AddToFavorites");var a=e.querySelector(".button-text");a&&(a.innerText=e.title)}function m(e){var t,a,r;e.removeEventListener("click",c),(r=(t=e)[a="UserDataChanged"])&&(n.Z.off(i.default,a,r),t[a]=null)}function f(e){var t,a,r;m(e),e.addEventListener("click",c),t=e,a="UserDataChanged",r=l.bind(t),n.Z.on(i.default,a,r),t[a]=r}var v=Object.create(s.Z);v.createdCallback=function(){s.Z.createdCallback&&s.Z.createdCallback.call(this)},v.attachedCallback=function(){s.Z.attachedCallback&&s.Z.attachedCallback.call(this);var e=this.getAttribute("data-id"),t=this.getAttribute("data-serverid");if(e&&t){var a=this.getAttribute("data-likes");d(this,a="true"===a||"false"!==a&&null,"true"===this.getAttribute("data-isfavorite"),!1),f(this)}else u(this)},v.detachedCallback=function(){s.Z.detachedCallback&&s.Z.detachedCallback.call(this),m(this)},v.setItem=function(e){if(e){this.setAttribute("data-id",e.Id),this.setAttribute("data-serverid",e.ServerId);var t=e.UserData||{};d(this,t.Likes,t.IsFavorite),f(this)}else this.removeAttribute("data-id"),this.removeAttribute("data-serverid"),this.removeAttribute("data-likes"),this.removeAttribute("data-isfavorite"),m(this)},document.registerElement("emby-ratingbutton",{prototype:v,extends:"button"})},42855:function(e,t,a){"use strict";a(86225),a(33096),a(63241),a(48914),a(84159),a(59139),a(86028),a(81414),a(47134),a(96626),a(88646),a(54134),a(91270),a(14011),a(56187),a(38690),a(89228),a(13227),a(11431);var i=a(57366),r=a(72365),n=a(30325),s=a(84280),o=(a(67752),a(62033),a(94994)),c=a(34706);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}var d=Object.create(HTMLInputElement.prototype),u=!1;if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var m=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");null!=m&&m.configurable&&(u=!0)}function f(e,t){return t>0||(t=parseFloat(e.step))>0?t:1}function v(e,t){var a=e.sliderBubbleTrack.getBoundingClientRect(),i=(t-a.left)/a.width;o.ZP.getIsElementRTL(e)&&(i=(a.right-t)/a.width);var r=e.max-e.min;if("any"!==e.step&&0!==r){var n=f(e)/r;i=Math.round(i/n)*n}return Math.min(Math.max(i,0),1)}function p(e,t){var a=(e.max-e.min)*t,i=null;if("any"!==e.step){var r=f(e);i=(0,c.SN)(r),a=Math.round(a/r)*r}var n=parseFloat(e.min);return a+=n,null!=i&&(i=Math.max(i,(0,c.SN)(n)),a=parseFloat(a.toFixed(i))),Math.min(Math.max(a,e.min),e.max)}function h(e){if(!e||!this.keyboardDragging&&!this.touched){var t=this,a=t.value;cancelAnimationFrame(t.updateValuesFrame),t.updateValuesFrame=requestAnimationFrame((function(){var e=t.backgroundLower;if(e){var i=(a-t.min)/(t.max-t.min);i*=100,e.style.width=i+"%"}t.markerContainerElement&&(t.triedAddingMarkers||function(e){e.markerInfo=[],e.getMarkerInfo&&(e.markerInfo=e.getMarkerInfo()),e.markerInfo.forEach((function(t){var a,i;e.markerContainerElement.insertAdjacentHTML("beforeend",(i="","chapterMarker"===(a=t).className&&(i=a.className,"string"==typeof a.name&&a.name.length&&(i="".concat(a.className," marker-").concat(a.name.substring(0,100).toLowerCase().replace(" ","-")))),'<span class="material-icons sliderMarker '.concat(i,'" aria-hidden="true"></span>')))})),e.markerElements=e.markerContainerElement.querySelectorAll(".sliderMarker"),e.triedAddingMarkers=!0}(t),function(e,t){var a,i;if(null!==(a=e.markerInfo)&&void 0!==a&&a.length&&null!==(i=e.markerElements)&&void 0!==i&&i.length)for(var r=0,n=e.markerElements.length;r<n;r++)e.markerInfo.length>r&&y(e,p(e,e.markerInfo[r].progress),e.markerElements[r],t)}(t,a))}))}}function g(e,t,a,i){requestAnimationFrame((function(){var r,n=e.sliderBubbleTrack.getBoundingClientRect(),s=i.getBoundingClientRect(),c=n.width*t/100;o.ZP.getIsElementRTL(e)&&(c=n.width-c),c=Math.min(Math.max(c,s.width/2),n.width-s.width/2),i.style.left=c+"px",r=e.getBubbleHtml?e.getBubbleHtml(t,a):'<h1 class="sliderBubbleText">'+(r=e.getBubbleText?e.getBubbleText(t,a):a.toLocaleString())+"</h1>",i.innerHTML=r}))}function y(e,t,a,i){requestAnimationFrame((function(){var r=e.sliderBubbleTrack.getBoundingClientRect(),n=a.getBoundingClientRect();if(r.width&&n.width){var s=r.width*t/100-n.width/2;s=Math.min(Math.max(s,-n.width/2),r.width-n.width/2),a.style.left=s+"px",i>=t?(a.classList.remove("unwatched"),a.classList.add("watched")):(a.classList.add("unwatched"),a.classList.remove("watched"))}}))}d.attachedCallback=function(){if("true"!==this.getAttribute("data-embyslider")){this.setAttribute("data-embyslider","true"),this.classList.add("mdl-slider"),this.classList.add("mdl-js-slider"),i.Z.edge&&this.classList.add("slider-browser-edge"),n.Z.mobile||this.classList.add("mdl-slider-hoverthumb"),n.Z.tv&&this.classList.add("show-focus");var e=r.ZP.parentWithClass(this,"sliderContainer-settings");if(e&&this.getAttribute("label")){var t=this.ownerDocument.createElement("label");t.innerText=this.getAttribute("label"),t.classList.add("sliderLabel"),t.htmlFor=this.id,e.insertBefore(t,e.firstChild)}var a=this.parentNode;a.classList.add("mdl-slider-container"),a.insertAdjacentHTML("beforeend",'<div class="mdl-slider-background-flex-container"><div class="mdl-slider-background-flex"><div class="mdl-slider-background-flex-inner"><div class="mdl-slider-background-upper"></div><div class="mdl-slider-background-lower"></div></div></div></div><div class="sliderBubbleTrack"><div class="sliderBubble hide"></div></div>'),this.sliderBubbleTrack=a.querySelector(".sliderBubbleTrack"),this.backgroundLower=a.querySelector(".mdl-slider-background-lower"),this.backgroundUpper=a.querySelector(".mdl-slider-background-upper");var s=a.querySelector(".sliderBubble"),o=s.classList.contains("hide");this.markerContainerElement=a.querySelector(".sliderMarkerContainer"),r.ZP.addEventListener(this,"input",(function(){var e,t,a,i;this.dragging=!0,"true"!==this.dataset.sliderKeepProgress&&h.call(this),g(this,100*(e=this,t=this.value,i=0!==(a=e.max-e.min)?(t-e.min)/a:0,Math.min(Math.max(i,0),1)),parseFloat(this.value),s),o&&(s.classList.remove("hide"),o=!1)}),{passive:!0}),r.ZP.addEventListener(this,"change",(function(){this.dragging=!1,"true"===this.dataset.sliderKeepProgress&&h.call(this),s.classList.add("hide"),o=!0}),{passive:!0}),r.ZP.addEventListener(this,window.PointerEvent?"pointermove":"mousemove",(function(e){if(!this.dragging){var t=v(this,e.clientX);g(this,100*t,p(this,t),s),o&&(s.classList.remove("hide"),o=!1)}}),{passive:!0}),r.ZP.addEventListener(this,window.PointerEvent?"pointerleave":"mouseleave",(function(){s.classList.add("hide"),o=!0}),{passive:!0}),i.Z.iOS&&(r.ZP.addEventListener(this,"touchstart",(function(e){if(1===e.targetTouches.length){this.touched=!0;var t=v(this,e.targetTouches[0].clientX);this.value=p(this,t),this.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!1})),e.preventDefault()}}),{capture:!0}),r.ZP.addEventListener(this,"touchmove",(function(e){if(this.touched&&1===e.targetTouches.length){var t=v(this,e.targetTouches[0].clientX);this.value=p(this,t),this.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!1}))}}),{passive:!0}),r.ZP.addEventListener(this,"touchend",(function(){var e=this;setTimeout((function(){e.touched=!1,e.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!1}))}),0)}),{passive:!0})),u?this.addEventListener("valueset",h.bind(this,!0)):((l=(c=this).interval)&&clearInterval(l),c.interval=setInterval(h.bind(c,!0),100)),h.call(this)}var c,l};var b,P=1e3;function T(e){clearTimeout(b),b=void 0,e.keyboardDragging=!1;var t=new Event("change",{bubbles:!0,cancelable:!1});e.dispatchEvent(t)}function S(e,t){!function(e){e.keyboardDragging=!0,clearTimeout(b),b=setTimeout((function(){T(e)}),P)}(e),e.value=Math.max(e.min,Math.min(e.max,parseFloat(e.value)+t));var a=new Event("input",{bubbles:!0,cancelable:!1});e.dispatchEvent(a)}function I(e){switch(s.ZP.getKeyName(e)){case"ArrowLeft":case"Left":S(this,-f(this,this.keyboardStepDown)),e.preventDefault(),e.stopPropagation();break;case"ArrowRight":case"Right":S(this,f(this,this.keyboardStepUp)),e.preventDefault(),e.stopPropagation();break;case"Enter":this.keyboardDragging&&(T(this),e.preventDefault(),e.stopPropagation())}}function k(e,t,a){var i=e.style;o.ZP.getIsRTL()?i.right=Math.max(t,0)+"%":i.left=Math.max(t,0)+"%";var r=a-t;i.width=Math.max(Math.min(r,100),0)+"%"}d.enableKeyboardDragging=function(){this.keyboardDraggingEnabled||(this.addEventListener("keydown",I),this.keyboardDraggingEnabled=!0)},d.setKeyboardSteps=function(e,t){this.keyboardStepDown=e||t||1,this.keyboardStepUp=t||e||1},d.setBufferedRanges=function(e,t,a){var i=this.backgroundUpper;if(i){null!=t&&(e=function(e,t){return t?e.map((function(e){return{start:e.start/t*100,end:e.end/t*100}})):[]}(e,t),a=a/t*100);var r,n=function(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return l(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,n=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw n}}}}(e);try{for(n.s();!(r=n.n()).done;){var s=r.value;if(!(null!=a&&a>=s.end))return void k(i,s.start,s.end)}}catch(e){n.e(e)}finally{n.f()}k(i,0,0)}},d.setIsClear=function(e){var t=this.backgroundLower;t&&(e?t.classList.add("mdl-slider-background-lower-clear"):t.classList.remove("mdl-slider-background-lower-clear"))},d.detachedCallback=function(){var e=this.interval;e&&clearInterval(e),this.interval=null,this.backgroundUpper=null,this.backgroundLower=null},document.registerElement("emby-slider",{prototype:d,extends:"input"})},23509:function(e,t,a){"use strict";var i="assets/img/devices/";t.ZP={getDeviceIcon:function(e){var t;switch(e.AppName||e.Client){case"Samsung Smart TV":return i+"samsung.svg";case"Xbox One":return i+"xbox.svg";case"Sony PS4":return i+"playstation.svg";case"Kodi":case"Kodi JellyCon":return i+"kodi.svg";case"Jellyfin Android":case"AndroidTV":case"Android TV":return i+"android.svg";case"Jellyfin Mobile (iOS)":case"Jellyfin Mobile (iPadOS)":case"Jellyfin iOS":case"Infuse":return i+"apple.svg";case"Home Assistant":return i+"home-assistant.svg";case"Jellyfin Roku":return i+"roku.svg";case"Finamp":return i+"finamp.svg";case"Jellyfin Web":return function(e){switch(e){case"Opera":case"Opera TV":case"Opera Android":return i+"opera.svg";case"Chrome":case"Chrome Android":return i+"chrome.svg";case"Firefox":case"Firefox Android":return i+"firefox.svg";case"Safari":case"Safari iPad":case"Safari iPhone":return i+"safari.svg";case"Edge Chromium":case"Edge Chromium Android":case"Edge Chromium iPad":case"Edge Chromium iPhone":return i+"edgechromium.svg";case"Edge":return i+"edge.svg";case"Internet Explorer":return i+"msie.svg";default:return i+"html5.svg"}}(e.Name||e.DeviceName);default:if(null===(t=e.Capabilities)||void 0===t?void 0:t.IconUrl)try{return new URL(e.Capabilities.IconUrl).toString()}catch(t){console.error("[getDeviceIcon] device capabilities has invalid IconUrl",e,t)}return i+"other.svg"}},getLibraryIcon:function(e){switch(e){case"movies":return"video_library";case"music":return"library_music";case"photos":case"homevideos":return"photo_library";case"livetv":return"live_tv";case"tvshows":return"tv";case"trailers":return"local_movies";case"musicvideos":return"music_video";case"books":return"library_books";case"channels":return"videocam";case"playlists":return"view_list";default:return"folder"}}}}}]);