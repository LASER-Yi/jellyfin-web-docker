"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9983,45385],{7125:function(e,t,r){r.r(t),r.d(t,{TicksPerMillisecond:function(){return s},WaitForEventDefaultTimeout:function(){return i},WaitForPlayerEventTimeout:function(){return o},getItemsForPlayback:function(){return l},stringToGuid:function(){return d},translateItemsForPlayback:function(){return a},waitForEventOnce:function(){return u}}),r(63238),r(61418),r(55849),r(52077),r(911),r(48410),r(27471),r(69217),r(61013),r(98010);var n=r(81643),i=3e4,o=500,s=1e4;function u(e,t,r,i){var o=arguments;return new Promise((function(s,u){var d;r&&(d=setTimeout((function(){u("Timed out.")}),r));var l=function(){n.Z.off(e,t,a),d&&clearTimeout(d),Array.isArray(i)&&i.forEach((function(t){n.Z.off(e,t,f)}))},a=function(){l(),s(o)},f=function(e){l(),u(e.type)};n.Z.on(e,t,a),Array.isArray(i)&&i.forEach((function(t){n.Z.on(e,t,f)}))}))}function d(e){return e.replace(/([0-z]{8})([0-z]{4})([0-z]{4})([0-z]{4})([0-z]{12})/,"$1-$2-$3-$4-$5")}function l(e,t){if(t.Ids&&1===t.Ids.split(",").length){var r=t.Ids.split(",");return e.getItem(e.getCurrentUserId(),r).then((function(e){return{Items:[e]}}))}return t.Limit=t.Limit||300,t.Fields="Chapters",t.ExcludeLocationTypes="Virtual",t.EnableTotalRecordCount=!1,t.CollapseBoxSetItems=!1,e.getItems(e.getCurrentUserId(),t)}function a(e,t,r){t.length>1&&r&&r.ids&&t.sort((function(e,t){return r.ids.indexOf(e.Id)-r.ids.indexOf(t.Id)}));var n,i,o,s,u,d=t[0],a=r.queryOptions||{};if("Program"===d.Type)n=l(e,{Ids:d.ChannelId});else if("Playlist"===d.Type)n=l(e,{ParentId:d.Id,SortBy:r.shuffle?"Random":null});else if("MusicArtist"===d.Type)n=l(e,{ArtistIds:d.Id,Filters:"IsNotFolder",Recursive:!0,SortBy:r.shuffle?"Random":"SortName",MediaTypes:"Audio"});else if("Photo"===d.MediaType)n=l(e,{ParentId:d.ParentId,Filters:"IsNotFolder",Recursive:!1,SortBy:r.shuffle?"Random":"SortName",MediaTypes:"Photo,Video"}).then((function(e){var t=e.Items.map((function(e){return e.Id})).indexOf(d.Id);return-1===t&&(t=0),r.startIndex=t,Promise.resolve(e)}));else if("PhotoAlbum"===d.Type)n=l(e,{ParentId:d.Id,Filters:"IsNotFolder",Recursive:!1,SortBy:r.shuffle?"Random":"SortName",MediaTypes:"Photo,Video",Limit:1e3});else if("MusicGenre"===d.Type)n=l(e,{GenreIds:d.Id,Filters:"IsNotFolder",Recursive:!0,SortBy:r.shuffle?"Random":"SortName",MediaTypes:"Audio"});else if(d.IsFolder){var f=null;r.shuffle?f="Random":"BoxSet"===d.Type&&(f="SortName"),n=l(e,(i={ParentId:d.Id,Filters:"IsNotFolder",Recursive:!0,SortBy:f,MediaTypes:"Audio,Video"},o=a,-1===(u=(s=Object.assign(i,o)).Filters?s.Filters.split(","):[]).indexOf("IsNotFolder")&&u.push("IsNotFolder"),s.Filters=u.join(","),s))}else"Episode"===d.Type&&1===t.length&&(n=new Promise((function(t,r){e.getCurrentUser().then((function(n){n.Configuration.EnableNextEpisodeAutoPlay&&d.SeriesId?e.getEpisodes(d.SeriesId,{IsVirtualUnaired:!1,IsMissing:!1,UserId:e.getCurrentUserId(),Fields:"Chapters"}).then((function(e){var r=!1;e.Items=e.Items.filter((function(e){return!!r||e.Id===d.Id&&(r=!0,!0)})),e.TotalRecordCount=e.Items.length,t(e)}),r):t(null)}))})));return n?n.then((function(e){return e?e.Items:t})):Promise.resolve(t)}}}]);