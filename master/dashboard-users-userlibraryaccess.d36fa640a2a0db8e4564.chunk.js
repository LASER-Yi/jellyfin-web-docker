"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[77182,49213,71483],{1015:function(e,c,s){s.r(c),s(27471),s(61013),s(98010),s(63238),s(5769),s(61418),s(17460),s(14078),s(51789);var n=s(28540),i=s(71487),a=s(94994),r=s(60635),l=s(56663),t=s(85951);function o(e){var c=document.createEvent("HTMLEvents");c.initEvent("change",!1,!0),e.dispatchEvent(c)}function d(){var e=$(this).parents(".page");n.ZP.show();var c=(0,t.a)("userId");return ApiClient.getUser(c).then((function(c){!function(e,c){e.Policy.EnableAllFolders=$("#chkEnableAllFolders",c).is(":checked"),e.Policy.EnabledFolders=e.Policy.EnableAllFolders?[]:$(".chkFolder",c).get().filter((function(e){return e.checked})).map((function(e){return e.getAttribute("data-id")})),e.Policy.EnableAllChannels=$("#chkEnableAllChannels",c).is(":checked"),e.Policy.EnabledChannels=e.Policy.EnableAllChannels?[]:$(".chkChannel",c).get().filter((function(e){return e.checked})).map((function(e){return e.getAttribute("data-id")})),e.Policy.EnableAllDevices=$("#chkEnableAllDevices",c).is(":checked"),e.Policy.EnabledDevices=e.Policy.EnableAllDevices?[]:$(".chkDevice",c).get().filter((function(e){return e.checked})).map((function(e){return e.getAttribute("data-id")})),e.Policy.BlockedChannels=null,e.Policy.BlockedMediaFolders=null,ApiClient.updateUserPolicy(e.Id,e.Policy).then((function(){n.ZP.hide(),(0,l.Z)(a.ZP.translate("SettingsSaved"))}))}(c,e)})),!1}$(document).on("pageinit","#userLibraryAccessPage",(function(){var e=this;$("#chkEnableAllDevices",e).on("change",(function(){this.checked?$(".deviceAccessListContainer",e).hide():$(".deviceAccessListContainer",e).show()})),$("#chkEnableAllChannels",e).on("change",(function(){this.checked?$(".channelAccessListContainer",e).hide():$(".channelAccessListContainer",e).show()})),e.querySelector("#chkEnableAllFolders").addEventListener("change",(function(){this.checked?e.querySelector(".folderAccessListContainer").classList.add("hide"):e.querySelector(".folderAccessListContainer").classList.remove("hide")})),$(".userLibraryAccessForm").off("submit",d).on("submit",d)})).on("pageshow","#userLibraryAccessPage",(function(){var e,c=this;n.ZP.show();var s=(0,t.a)("userId");if(s)e=ApiClient.getUser(s);else{var l=$.Deferred();l.resolveWith(null,[{Configuration:{}}]),e=l.promise()}var d=r.default.getCurrentUser(),h=ApiClient.getJSON(ApiClient.getUrl("Library/MediaFolders",{IsHidden:!1})),u=ApiClient.getJSON(ApiClient.getUrl("Channels")),v=ApiClient.getJSON(ApiClient.getUrl("Devices"));Promise.all([e,d,h,u,v]).then((function(e){!function(e,c,s,r,l,t){e.querySelector(".username").innerHTML=c.Name,i.default.setTitle(c.Name),function(e,c,s){var n="";n+='<h3 class="checkboxListLabel">'+a.ZP.translate("Channels")+"</h3>",n+='<div class="checkboxList paperList checkboxList-paperList">';for(var i=0,r=s.length;i<r;i++){var l=s[i],t=c.Policy.EnableAllChannels||-1!=c.Policy.EnabledChannels.indexOf(l.Id)?' checked="checked"':"";n+='<label><input type="checkbox" is="emby-checkbox" class="chkChannel" data-id="'+l.Id+'" '+t+"><span>"+l.Name+"</span></label>"}n+="</div>",$(".channelAccess",e).show().html(n),s.length?$(".channelAccessContainer",e).show():$(".channelAccessContainer",e).hide();var d=e.querySelector("#chkEnableAllChannels");d.checked=c.Policy.EnableAllChannels,o(d)}(e,c,l),function(e,c,s){var n="";n+='<h3 class="checkboxListLabel">'+a.ZP.translate("HeaderLibraries")+"</h3>",n+='<div class="checkboxList paperList checkboxList-paperList">';for(var i=0,r=s.length;i<r;i++){var l=s[i],t=c.Policy.EnableAllFolders||-1!=c.Policy.EnabledFolders.indexOf(l.Id)?' checked="checked"':"";n+='<label><input type="checkbox" is="emby-checkbox" class="chkFolder" data-id="'+l.Id+'" '+t+"><span>"+l.Name+"</span></label>"}n+="</div>",e.querySelector(".folderAccess").innerHTML=n;var d=e.querySelector("#chkEnableAllFolders");d.checked=c.Policy.EnableAllFolders,o(d)}(e,c,r),function(e,c,s){var n="";n+='<h3 class="checkboxListLabel">'+a.ZP.translate("HeaderDevices")+"</h3>",n+='<div class="checkboxList paperList checkboxList-paperList">';for(var i=0,r=s.length;i<r;i++){var l=s[i],t=c.Policy.EnableAllDevices||-1!=c.Policy.EnabledDevices.indexOf(l.Id)?' checked="checked"':"";n+='<label><input type="checkbox" is="emby-checkbox" class="chkDevice" data-id="'+l.Id+'" '+t+"><span>"+l.Name+" - "+l.AppName+"</span></label>"}n+="</div>",$(".deviceAccess",e).show().html(n);var d=e.querySelector("#chkEnableAllDevices");d.checked=c.Policy.EnableAllDevices,o(d),c.Policy.IsAdministrator?e.querySelector(".deviceAccessContainer").classList.add("hide"):e.querySelector(".deviceAccessContainer").classList.remove("hide")}(e,c,t),n.ZP.hide()}(c,e[0],e[1],e[2].Items,e[3].Items,e[4].Items)}))}))},51869:function(e,c,s){var n="assets/img/devices/";c.ZP={getDeviceIcon:function(e){switch(e.AppName||e.Client){case"Samsung Smart TV":return n+"samsung.svg";case"Xbox One":return n+"xbox.svg";case"Sony PS4":return n+"playstation.svg";case"Kodi":case"Kodi JellyCon":return n+"kodi.svg";case"Jellyfin Android":case"AndroidTV":case"Android TV":return n+"android.svg";case"Jellyfin Mobile (iOS)":case"Jellyfin Mobile (iPadOS)":case"Jellyfin iOS":case"Infuse":return n+"apple.svg";case"Home Assistant":return n+"home-assistant.svg";case"Jellyfin Roku":return n+"roku.svg";case"Finamp":return n+"finamp.svg";case"Jellyfin Web":return function(e){switch(e){case"Opera":case"Opera TV":case"Opera Android":return n+"opera.svg";case"Chrome":case"Chrome Android":return n+"chrome.svg";case"Firefox":case"Firefox Android":return n+"firefox.svg";case"Safari":case"Safari iPad":case"Safari iPhone":return n+"safari.svg";case"Edge Chromium":case"Edge Chromium Android":case"Edge Chromium iPad":case"Edge Chromium iPhone":return n+"edgechromium.svg";case"Edge":return n+"edge.svg";case"Internet Explorer":return n+"msie.svg";default:return n+"html5.svg"}}(e.Name||e.DeviceName);default:return n+"other.svg"}},getLibraryIcon:function(e){switch(e){case"movies":return"video_library";case"music":return"library_music";case"photos":case"homevideos":return"photo_library";case"livetv":return"live_tv";case"tvshows":return"tv";case"trailers":return"local_movies";case"musicvideos":return"music_video";case"books":return"library_books";case"channels":return"videocam";case"playlists":return"view_list";default:return"folder"}}}}}]);