(self.webpackChunk=self.webpackChunk||[]).push([[72565],{17094:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}}),n(27378);var r=n(10043),a=n(24246);function i(e){var t=e.styles,n=e.defaultTheme,i=void 0===n?{}:n,o="function"==typeof t?function(e){return t(null==(n=e)||0===Object.keys(n).length?i:e);var n}:t;return(0,a.jsx)(r.xB,{styles:o})}},58772:function(e,t,n){"use strict";var r=n(90331);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},23615:function(e,t,n){e.exports=n(58772)()},90331:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},44905:function(e,t,n){"use strict";n.d(t,{PW:function(){return i}});var r="NOT_FOUND",a=function(e,t){return e===t};function i(e,t){var n,i,o="object"==typeof t?t:{equalityCheck:t},l=o.equalityCheck,u=void 0===l?a:l,c=o.maxSize,s=void 0===c?1:c,f=o.resultEqualityCheck,d=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e(t[a],n[a]))return!1;return!0}}(u),v=1===s?(n=d,{get:function(e){return i&&n(i.key,e)?i.value:r},put:function(e,t){i={key:e,value:t}},getEntries:function(){return i?[i]:[]},clear:function(){i=void 0}}):function(e,t){var n=[];function a(e){var a=n.findIndex((function(n){return t(e,n.key)}));if(a>-1){var i=n[a];return a>0&&(n.splice(a,1),n.unshift(i)),i.value}return r}return{get:a,put:function(t,i){a(t)===r&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(s,d);function p(){var t=v.get(arguments);if(t===r){if(t=e.apply(null,arguments),f){var n=v.getEntries().find((function(e){return f(e.value,t)}));n&&(t=n.value)}v.put(arguments,t)}return t}return p.clearCache=function(){return v.clear()},p}},80406:function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var i,o=0,l={memoizeOptions:void 0},u=r.pop();if("object"==typeof u&&(l=u,u=r.pop()),"function"!=typeof u)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var c=l.memoizeOptions,s=void 0===c?n:c,f=Array.isArray(s)?s:[s],d=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}(r),v=e.apply(void 0,[function(){return o++,u.apply(null,arguments)}].concat(f)),p=e((function(){for(var e=[],t=d.length,n=0;n<t;n++)e.push(d[n].apply(null,arguments));return i=v.apply(null,e)}));return Object.assign(p,{resultFunc:u,memoizedResultFunc:v,dependencies:d,lastResult:function(){return i},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),p}}n.d(t,{P1:function(){return a}});var a=r(n(44905).PW)},29715:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var r=n(24246),a=n(27378),i=n(56421),o=n(31991),l=n(33834),u=n(16677),c=n(12192),s=n(77901),f=n(84320),d=n(87891),v=n(70224),p=n(27851),h=n(6055),y=n(41421),b=n(99998),m=n(61693),g=n(94994),w=n(98555),x=n(16121),j=n(24009),O=function(e){var t=e.level,n=void 0;switch(t){case x.i.Information:n="info";break;case x.i.Warning:n="warning";break;case x.i.Error:case x.i.Critical:n="error"}var a=g.ZP.translate("LogLevel.".concat(t));return(0,r.jsx)(j.Z,{size:"small",color:n,label:a,title:a})},P=n(21800),Z=n(64647),k=n(56176),E=function(){return E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},E.apply(this,arguments)},S=function(e){var t=e.Overview,n=e.ShortOverview,i=null!=n?n:t,o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}((0,a.useState)(!1),2),l=o[0],s=o[1],f=(0,a.useCallback)((function(){s(!1)}),[]),d=(0,a.useCallback)((function(){s(!0)}),[]);return i?(0,r.jsxs)(u.Z,E({sx:{display:"flex",width:"100%",alignItems:"center"}},{children:[(0,r.jsx)(u.Z,E({sx:{flexGrow:1,overflow:"hidden",textOverflow:"ellipsis"},component:"div",title:i},{children:i})),n&&t&&(0,r.jsx)(Z.Z,E({onClickAway:f},{children:(0,r.jsx)(k.Z,E({title:t,placement:"top",arrow:!0,onClose:f,open:l,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0},{children:(0,r.jsx)(c.Z,E({onClick:d},{children:(0,r.jsx)(P.Z,{})}))}))}))]})):null},I=n(65927),C=function(){return C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},C.apply(this,arguments)},T=function(e){var t=e.to,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["to"]);return(0,r.jsx)(p.rU,C({to:t},{children:(0,r.jsx)(I.u,C({},n))}))},L=function(){return L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},L.apply(this,arguments)},N=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function l(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},A=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(u){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}},U=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o},_=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},R="useractivity",z=function(e){return null===e?0:(0,w.s)(e)?1:2},D=function(e){var t;return null!==(t=e.Id)&&void 0!==t?t:-1},M=function(){var e=(0,b.h_)().api,t=U((0,p.lr)(),2),n=t[0],w=t[1],x=U((0,a.useState)(z(n.get(R))),2),j=x[0],P=x[1],Z=U((0,a.useState)(!0),2),k=Z[0],E=Z[1],I=U((0,a.useState)({page:0,pageSize:25}),2),C=I[0],M=I[1],F=U((0,a.useState)(0),2),G=F[0],B=F[1],W=U((0,a.useState)([]),2),H=W[0],q=W[1],Y=U((0,a.useState)({}),2),V=Y[0],K=Y[1],X=2!==j?[{field:"User",headerName:g.ZP.translate("LabelUser"),width:60,valueGetter:function(e){var t,n=e.row;return null===(t=V[n.UserId])||void 0===t?void 0:t.Name},renderCell:function(e){var t,n,a=e.row;return(0,r.jsx)(c.Z,L({size:"large",color:"inherit",sx:{padding:0},title:null!==(n=null===(t=V[a.UserId])||void 0===t?void 0:t.Name)&&void 0!==n?n:void 0,component:p.rU,to:"/useredit.html?userId=".concat(a.UserId)},{children:(0,r.jsx)(y.Z,{user:V[a.UserId]})}))}}]:[],J=_(_([{field:"Date",headerName:g.ZP.translate("LabelDate"),width:90,type:"date",valueGetter:function(e){var t=e.value;return(0,m.Ym)(t)},valueFormatter:function(e){var t=e.value;return(0,m.ww)(t)}},{field:"Time",headerName:g.ZP.translate("LabelTime"),width:100,type:"dateTime",valueGetter:function(e){var t=e.row;return(0,m.Ym)(t.Date)},valueFormatter:function(e){var t=e.value;return(0,m.Kb)(t)}},{field:"Severity",headerName:g.ZP.translate("LabelLevel"),width:110,renderCell:function(e){var t=e.value;return t?(0,r.jsx)(O,{level:t}):void 0}}],U(X),!1),[{field:"Name",headerName:g.ZP.translate("LabelName"),width:200},{field:"Overview",headerName:g.ZP.translate("LabelOverview"),width:200,valueGetter:function(e){var t,n=e.row;return null!==(t=n.ShortOverview)&&void 0!==t?t:n.Overview},renderCell:function(e){var t=e.row;return(0,r.jsx)(S,L({},t))}},{field:"Type",headerName:g.ZP.translate("LabelType"),width:120},{field:"actions",type:"actions",getActions:function(e){var t=e.row,n=[];return t.ItemId&&n.push((0,r.jsx)(T,{size:"large",icon:(0,r.jsx)(l.Z,{}),label:g.ZP.translate("LabelMediaDetails"),title:g.ZP.translate("LabelMediaDetails"),to:"/details?id=".concat(t.ItemId)})),n}}],!1),Q=(0,a.useCallback)((function(e,t){null!==t&&P(t)}),[]);return(0,a.useEffect)((function(){e&&N(void 0,void 0,void 0,(function(){var t,n;return A(this,(function(r){switch(r.label){case 0:return[4,(0,o.X)(e).getUsers()];case 1:return t=r.sent().data,n={},t.forEach((function(e){e.Id&&(n[e.Id]=e)})),K(n),[2]}}))})).catch((function(e){console.error("[activity] failed to fetch users",e)}))}),[e]),(0,a.useEffect)((function(){e&&(E(!0),N(void 0,void 0,void 0,(function(){var t,n,r,a;return A(this,(function(o){switch(o.label){case 0:return t={startIndex:C.page*C.pageSize,limit:C.pageSize},0!==j&&(t.hasUserId=1===j),[4,(0,i.d)(e).getLogEntries(t)];case 1:return n=o.sent().data,B(null!==(r=n.TotalRecordCount)&&void 0!==r?r:0),q(null!==(a=n.Items)&&void 0!==a?a:[]),E(!1),[2]}}))})).catch((function(e){console.error("[activity] failed to fetch activity log entries",e)})))}),[j,e,C]),(0,a.useEffect)((function(){z(n.get(R))!==j&&(0===j?n.delete(R):n.set(R,"".concat(1===j)),w(n))}),[j,n,w]),(0,r.jsx)(h.Z,L({id:"serverActivityPage",title:g.ZP.translate("HeaderActivity"),className:"mainAnimatedPage type-interior"},{children:(0,r.jsxs)("div",L({className:"content-primary"},{children:[(0,r.jsxs)(u.Z,L({sx:{display:"flex",alignItems:"baseline",marginY:2}},{children:[(0,r.jsx)(u.Z,L({sx:{flexGrow:1}},{children:(0,r.jsx)(d.Z,L({variant:"h2"},{children:g.ZP.translate("HeaderActivity")}))})),(0,r.jsxs)(f.Z,L({value:j,onChange:Q,exclusive:!0},{children:[(0,r.jsx)(s.Z,L({value:0},{children:g.ZP.translate("All")})),(0,r.jsx)(s.Z,L({value:1},{children:g.ZP.translate("LabelUser")})),(0,r.jsx)(s.Z,L({value:2},{children:g.ZP.translate("LabelSystem")}))]}))]})),(0,r.jsx)(v._,{columns:J,rows:H,pageSizeOptions:[10,25,50,100],paginationMode:"server",paginationModel:C,onPaginationModelChange:M,rowCount:G,getRowId:D,loading:k,sx:{minHeight:500}})]}))}))}},6055:function(e,t,n){"use strict";var r=n(24246),a=n(27378),i=n(53424),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)};t.Z=function(e){var t=e.children,n=e.id,l=e.className,u=void 0===l?"":l,c=e.title,s=e.isBackButtonEnabled,f=void 0===s||s,d=e.isMenuButtonEnabled,v=void 0!==d&&d,p=e.isNowPlayingBarEnabled,h=void 0===p||p,y=e.isThemeMediaSupported,b=void 0!==y&&y,m=e.backDropType,g=(0,a.useRef)(null);return(0,a.useEffect)((function(){i.Z.hideView()}),[]),(0,a.useEffect)((function(){var e,t,n,r,a={bubbles:!0,cancelable:!1,detail:{isRestored:!1,options:{enableMediaControl:h,supportsThemeMedia:b}}};null===(e=g.current)||void 0===e||e.dispatchEvent(new CustomEvent("viewbeforeshow",a)),null===(t=g.current)||void 0===t||t.dispatchEvent(new CustomEvent("pagebeforeshow",a)),null===(n=g.current)||void 0===n||n.dispatchEvent(new CustomEvent("viewshow",a)),null===(r=g.current)||void 0===r||r.dispatchEvent(new CustomEvent("pageshow",a))}),[g,h,b]),(0,r.jsx)("div",o({ref:g,id:n,"data-role":"page",className:"page ".concat(u),"data-title":c,"data-backbutton":f,"data-menubutton":v,"data-backdroptype":m},{children:t}))}},41421:function(e,t,n){"use strict";var r=n(24246),a=n(49249),i=n(51336),o=n(99998);t.Z=function(e){var t,n=e.user,l=(0,o.h_)().api,u=(0,i.Z)();return n?(0,r.jsx)(a.Z,{alt:null!==(t=n.Name)&&void 0!==t?t:void 0,src:l&&n.Id&&n.PrimaryImageTag?"".concat(l.basePath,"/Users/").concat(n.Id,"/Images/Primary?tag=").concat(n.PrimaryImageTag):void 0,sx:{bgcolor:u.palette.primary.dark,color:"inherit"}}):null}}}]);