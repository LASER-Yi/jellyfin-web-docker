"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[81577],{3864:function(e,a,t){t.r(a),t(63238),t(55849),t(23938),t(5769),t(61418),t(17460),t(14078);var n=t(38463),r=(t(72326),t(28540)),o=t(71487),u=t(94994),l=t(60635);function i(e){return ApiClient.getCountries().then((function(a){var t="";t+="<option value=''></option>";for(var n=0,r=a.length;n<r;n++){var o=a[n];t+="<option value='"+o.TwoLetterISORegionName+"'>"+o.DisplayName+"</option>"}e.innerHTML=t}))}function m(){var e=this;return r.ZP.show(),ApiClient.getServerConfiguration().then((function(a){a.PreferredMetadataLanguage=e.querySelector("#selectLanguage").value,a.MetadataCountryCode=e.querySelector("#selectCountry").value,a.DummyChapterDuration=e.querySelector("#valDummyChapterDuration").value,a.DummyChapterCount=e.querySelector("#valDummyChapterCount").value,a.ChapterImageResolution=e.querySelector("#txtChapterImageResolution").value,ApiClient.updateServerConfiguration(a).then(l.ZP.processServerConfigurationUpdateResult)})),!1}function p(){return[{href:"#/library.html",name:u.ZP.translate("HeaderLibraries")},{href:"#/librarydisplay.html",name:u.ZP.translate("Display")},{href:"#/metadataimages.html",name:u.ZP.translate("Metadata")},{href:"#/metadatanfo.html",name:u.ZP.translate("TabNfoSettings")}]}$(document).on("pageinit","#metadataImagesConfigurationPage",(function(){$(".metadataImagesConfigurationForm").off("submit",m).on("submit",m)})).on("pageshow","#metadataImagesConfigurationPage",(function(){var e,a,t;o.Z.setTabs("metadata",2,p),r.ZP.show(),e=this,t=[ApiClient.getServerConfiguration(),(a=e.querySelector("#selectLanguage"),ApiClient.getCultures().then((function(e){var t="";t+="<option value=''></option>";for(var n=0,r=e.length;n<r;n++){var o=e[n];t+="<option value='"+o.TwoLetterISOLanguageName+"'>"+o.DisplayName+"</option>"}a.innerHTML=t}))),i(e.querySelector("#selectCountry"))],function(e){var a="";[{name:u.ZP.translate("ResolutionMatchSource"),value:n.m.MatchSource},{name:"2160p",value:n.m.P2160},{name:"1440p",value:n.m.P1440},{name:"1080p",value:n.m.P1080},{name:"720p",value:n.m.P720},{name:"480p",value:n.m.P480},{name:"360p",value:n.m.P360},{name:"240p",value:n.m.P240},{name:"144p",value:n.m.P144}].forEach((function(e){var t=e.value,n=e.name;a+='<option value="'.concat(t,'">').concat(n,"</option>")})),e.innerHTML=a}(e.querySelector("#txtChapterImageResolution")),Promise.all(t).then((function(a){var t=a[0];e.querySelector("#selectLanguage").value=t.PreferredMetadataLanguage||"",e.querySelector("#selectCountry").value=t.MetadataCountryCode||"",e.querySelector("#valDummyChapterDuration").value=t.DummyChapterDuration||"",e.querySelector("#valDummyChapterCount").value=t.DummyChapterCount||"",e.querySelector("#txtChapterImageResolution").value=t.ChapterImageResolution||"",r.ZP.hide()}))}))}}]);