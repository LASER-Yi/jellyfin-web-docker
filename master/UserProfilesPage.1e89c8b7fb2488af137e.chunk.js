/*! For license information please see UserProfilesPage.1e89c8b7fb2488af137e.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6600],{9785:function(e,t,n){n.d(t,{Kd:function(){return X},mF:function(){return ee}}),n(52077),n(911);var r=n(77946),a=n(42845),s=n(11401),i=n(84146),l=n(59996),o=n(78210),c=n(9477),d=n(33026),u=n(91814),f=n(88303),v=n(22410),m=n(35997),Z=n(73956),h=n(86496),p=n(6902),b=n(35163),y=n(36749),g=n(89310),x=n(22481),P=n(75710),j=n(11109),k=n(74270),w=n(37159),I=n(27324),_=n(68490),N=n(19046),C=n(81905),S=n(19656),U=n(5905),T=n(64660),O=n(69509),L=n(69984),B=n(84216),D=n(77411),A=n(23282),E=n(60754),F=n(30318),H=n(45614),M=n(83305),R=n(95861),q=n(37405),z=n(6148),W=n(63258),$=n(50281),K=n(67889),Y=n(44362),G=n(69244),J=n(96730),Q=n(44614),V=function(e){return{af:r.Z,ar:a.Z,"be-by":s.Z,"bg-bg":i.Z,bn:l.Z,ca:o.Z,cs:c.Z,da:d.Z,de:u.Z,el:f.Z,"en-gb":v.Z,"en-us":m.Z,eo:Z.Z,es:h.Z,"es-ar":h.Z,"es-do":h.Z,"es-mx":h.Z,fa:p.Z,fi:b.Z,fr:y.Z,"fr-ca":g.Z,gl:x.Z,gsw:u.Z,he:P.Z,"hi-in":j.Z,hr:k.Z,hu:w.Z,id:I.Z,is:_.Z,it:N.Z,ja:C.Z,kk:S.Z,ko:U.Z,"lt-lt":T.Z,ms:O.Z,nb:L.Z,nl:B.Z,pl:D.Z,pt:A.Z,"pt-br":E.Z,"pt-pt":A.Z,ro:F.Z,ru:H.Z,sk:M.Z,"sl-si":R.Z,sv:q.Z,ta:z.Z,th:W.Z,tr:$.Z,uk:K.Z,vi:Y.Z,"zh-cn":G.Z,"zh-hk":G.Z,"zh-tw":J.Z}[e]};function X(){return V(Q.ZP.getCurrentLocale())||V(Q.ZP.getCurrentLocale().replace(/-.*/,""))||m.Z}var ee={addSuffix:!0,locale:X()};t.ZP={getLocale:X,localeWithSuffix:ee}},71426:function(e,t,n){n(62525);var r=n(27378),a=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var s=Symbol.for;a=s("react.element"),t.Fragment=s("react.fragment")}var i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l=Object.prototype.hasOwnProperty,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,r)&&!o.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:d,props:s,_owner:i.current}}t.jsx=c,t.jsxs=c},24246:function(e,t,n){e.exports=n(71426)},62269:function(e,t,n){var r=n(24246),a=n(44614),s=function(e){var t=e.className,n=e.title,r=e.icon;return{__html:'<button\n        is="emby-button"\n        type="button"\n        class="'.concat(t,'"\n        style="margin-left:1em;"\n        title="').concat(n,'"\n    >\n        <span class="material-icons ').concat(r,'" aria-hidden="true"></span>\n    </button>')}};t.Z=function(e){var t=e.className,n=e.title,i=e.icon;return(0,r.jsx)("div",{dangerouslySetInnerHTML:s({className:t,title:a.ZP.translate(n),icon:i})},void 0)}},45754:function(e,t,n){var r=n(24246),a=n(44614),s=function(e){var t=e.className,n=e.title,r=e.href;return{__html:'<a\n        is="emby-linkbutton"\n        rel="noopener noreferrer"\n        class="'.concat(t,'"\n        target="_blank"\n        href="').concat(r,'"\n        >\n        ').concat(n,"\n    </a>")}};t.Z=function(e){var t=e.className,n=e.title,i=e.url;return(0,r.jsx)("div",{dangerouslySetInnerHTML:s({className:t,title:a.ZP.translate(n),href:i})},void 0)}},43488:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r=n(24246),a=n(27378),s=n(76543),i=n(44614),l=n(56705),o=n(83094),c=n(56346),d=n(64258),u=n(9785),f=n(61097),v=function(){return v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},v.apply(this,arguments)},m=function(e){var t=e.user,n=e.renderImgUrl;return{__html:'<a\n        is="emby-linkbutton"\n        class="cardContent"\n        href="#!/useredit.html?userId='.concat(t.Id,'"\n        >\n        ').concat(n,"\n    </a>")}},Z=function(e){var t,n,a,s=e.user,l=void 0===s?{}:s,o="card squareCard scalableCard squareCard-scalable";(null===(t=l.Policy)||void 0===t?void 0:t.IsDisabled)&&(o+=" grayscale"),l.PrimaryImageTag&&l.Id&&(a=window.ApiClient.getUserImageUrl(l.Id,{width:300,tag:l.PrimaryImageTag,type:"Primary"}));var c="cardImage";(null===(n=l.Policy)||void 0===n?void 0:n.IsDisabled)&&(c+=" disabledUser");var Z,h=(Z=l.LastActivityDate)?i.ZP.translate("LastSeen",(0,d.Z)(Date.parse(Z),u.mF)):"",p=a?"<div class='".concat(c,"' style='background-image:url(").concat(a,")'></div>"):"<div class='".concat(c," ").concat(f.default.getDefaultBackgroundClass(l.Name)," flex align-items-center justify-content-center'>\n            <span class='material-icons cardImageIcon person' aria-hidden='true'></span>\n        </div>");return(0,r.jsx)("div",v({"data-userid":l.Id,className:o},{children:(0,r.jsxs)("div",v({className:"cardBox visualCardBox"},{children:[(0,r.jsxs)("div",v({className:"cardScalable visualCardBox-cardScalable"},{children:[(0,r.jsx)("div",{className:"cardPadder cardPadder-square"},void 0),(0,r.jsx)("div",{dangerouslySetInnerHTML:m({user:l,renderImgUrl:p})},void 0)]}),void 0),(0,r.jsxs)("div",v({className:"cardFooter visualCardBox-cardFooter"},{children:[(0,r.jsxs)("div",v({className:"cardText flex align-items-center"},{children:[(0,r.jsx)("div",v({className:"flex-grow",style:{overflow:"hidden",textOverflow:"ellipsis"}},{children:l.Name}),void 0),(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:'<button\n        is="paper-icon-button-light"\n        type="button"\n        class="btnUserMenu flex-shrink-zero"\n        >\n        <span class="material-icons more_vert" aria-hidden="true"></span>\n    </button>'}},void 0)]}),void 0),(0,r.jsx)("div",v({className:"cardText cardText-secondary"},{children:""!=h?h:""}),void 0)]}),void 0)]}),void 0)}),void 0)},h=n(62269),p=n(45754),b=(n(78066),n(21865),n(46650),n(70739),n(15359),function(){return b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},b.apply(this,arguments)}),y=function(){var e=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(a)throw a.error}}return i}((0,a.useState)([]),2),t=e[0],d=e[1],u=(0,a.useRef)(null),f=function(){l.ZP.show(),window.ApiClient.getUsers().then((function(e){d(e),l.ZP.hide()}))};return(0,a.useEffect)((function(){var e=u.current;if(e){f();e.addEventListener("click",(function(e){var t=o.ZP.parentWithClass(e.target,"btnUserMenu");t&&function(e){var t=o.ZP.parentWithClass(e,"card"),r=t.getAttribute("data-userid");if(r){var a=[];a.push({name:i.ZP.translate("ButtonOpen"),id:"open",icon:"mode_edit"}),a.push({name:i.ZP.translate("ButtonLibraryAccess"),id:"access",icon:"lock"}),a.push({name:i.ZP.translate("ButtonParentalControl"),id:"parentalcontrol",icon:"person"}),a.push({name:i.ZP.translate("Delete"),id:"delete",icon:"delete"}),Promise.resolve().then(n.bind(n,78407)).then((function(e){e.default.show({items:a,positionTo:t,callback:function(e){switch(e){case"open":s.ZP.navigate("useredit.html?userId="+r);break;case"access":s.ZP.navigate("userlibraryaccess.html?userId="+r);break;case"parentalcontrol":s.ZP.navigate("userparentalcontrol.html?userId="+r);break;case"delete":!function(e){var t=i.ZP.translate("DeleteUserConfirmation");(0,c.Z)({title:i.ZP.translate("DeleteUser"),text:t,confirmText:i.ZP.translate("Delete"),primary:"delete"}).then((function(){l.ZP.show(),window.ApiClient.deleteUser(e).then((function(){f()}))}))}(r)}}})}))}else console.error("Unexpected null user id")}(t)})),e.querySelector(".btnAddUser").addEventListener("click",(function(){s.ZP.navigate("usernew.html")}))}else console.error("Unexpected null reference")}),[]),(0,r.jsx)("div",b({ref:u},{children:(0,r.jsx)("div",b({className:"content-primary"},{children:(0,r.jsxs)("div",b({className:"verticalSection verticalSection-extrabottompadding"},{children:[(0,r.jsxs)("div",b({className:"sectionTitleContainer sectionTitleContainer-cards",style:{display:"flex",alignItems:"center",paddingBottom:"1em"}},{children:[(0,r.jsx)("h2",b({className:"sectionTitle sectionTitle-cards"},{children:i.ZP.translate("HeaderUsers")}),void 0),(0,r.jsx)(h.Z,{className:"fab btnAddUser submit sectionTitleButton",title:"ButtonAddUser",icon:"add"},void 0),(0,r.jsx)(p.Z,{className:"raised button-alt headerHelpButton",title:"Help",url:"https://docs.jellyfin.org/general/server/users/adding-managing-users.html"},void 0)]}),void 0),(0,r.jsx)("div",b({className:"localUsers itemsContainer vertical-wrap"},{children:t.map((function(e){return(0,r.jsx)(Z,{user:e},e.Id)}))}),void 0)]}),void 0)}),void 0)}),void 0)}}}]);