"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[10878],{17240:function(e,n,t){t.d(n,{A:function(){return i}}),t(63696);var r=t(91785),a=t(62540);function i(e){var n=e.styles,t=e.defaultTheme,i=void 0===t?{}:t,o="function"==typeof n?function(e){return n(null==(t=e)||0===Object.keys(t).length?i:e);var t}:n;return(0,a.jsx)(r.mL,{styles:o})}},9887:function(e,n,t){t.r(n),t.d(n,{Component:function(){return D},action:function(){return L},loader:function(){return P}});var r=t(62540),a=t(38345),i=t(51890),o=t(5271),l=t(77890),s=t(37538),u=t(58765),c=t(34315),f=t(11e3),p=t(99851),d=t(63696),h=t(87404),y=t(9055),b=t(94434),v=t(8280),m=t(61586),g=t(69410),w="BrandingOptions",x=function(e){return(0,v.j)({queryKey:[w],queryFn:function(n){var t=n.signal;return function(e,n){return t=void 0,r=void 0,i=function(){return function(e,n){var t,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(s){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(i=0)),i;)try{if(t=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,r=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){i.label=l[1];break}if(6===l[0]&&i.label<a[1]){i.label=a[1],a=l;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(l);break}a[2]&&i.ops.pop(),i.trys.pop();continue}l=n.call(e,i)}catch(e){l=[6,e],r=0}finally{t=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}}(this,(function(t){if(!e)throw console.error("[fetchBrandingOptions] no Api instance provided"),new Error("No Api instance provided to fetchBrandingOptions");return[2,(0,b.g)(e).getBrandingOptions(n).then((function(e){return e.data}))]}))},new((a=void 0)||(a=Promise))((function(e,n){function o(e){try{s(i.next(e))}catch(e){n(e)}}function l(e){try{s(i.throw(e))}catch(e){n(e)}}function s(n){var t;n.done?e(n.value):(t=n.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,l)}s((i=i.apply(t,r||[])).next())}));var t,r,a,i}(e,{signal:t})},enabled:!!e})},A=t(84849),C=t(65242),S=t(86191),j=t(5898),k=t(53678),O=function(){return O=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},O.apply(this,arguments)},E={CustomCss:"CustomCss",LoginDisclaimer:"LoginDisclaimer",SplashscreenEnabled:"SplashscreenEnabled"},L=function(e){return n=void 0,t=[e],i=function(e){var n,t,r,i,o,l,s,u=e.request;return function(e,n){var t,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(s){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(i=0)),i;)try{if(t=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,r=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){i.label=l[1];break}if(6===l[0]&&i.label<a[1]){i.label=a[1],a=l;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(l);break}a[2]&&i.ops.pop(),i.trys.pop();continue}l=n.call(e,i)}catch(e){l=[6,e],r=0}finally{t=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}}(this,(function(e){switch(e.label){case 0:if(!(n=S.A.getCurrentApi()))throw new Error("No Api instance available");return[4,u.formData()];case 1:return t=e.sent(),r=Object.fromEntries(t),i={CustomCss:null===(o=r.CustomCss)||void 0===o?void 0:o.toString(),LoginDisclaimer:null===(l=r.LoginDisclaimer)||void 0===l?void 0:l.toString(),SplashscreenEnabled:"on"===(null===(s=r.SplashscreenEnabled)||void 0===s?void 0:s.toString())},[4,(0,a.T)(n).updateNamedConfiguration({key:"branding",body:JSON.stringify(i)})];case 2:return e.sent(),k.q.invalidateQueries({queryKey:[w]}),[2,{isSaved:!0}]}}))},new((r=void 0)||(r=Promise))((function(e,a){function o(e){try{s(i.next(e))}catch(e){a(e)}}function l(e){try{s(i.throw(e))}catch(e){a(e)}}function s(n){var t;n.done?e(n.value):(t=n.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,l)}s((i=i.apply(n,t||[])).next())}));var n,t,r,i},P=function(){return k.q.ensureQueryData(x(S.A.getCurrentApi()))},D=function(){var e,n=(0,h.cq)(),t=(0,h.mP)(),a="submitting"===n.state,b=(e=(0,g.gf)().api,(0,m.I)(x(e))),v=b.data,w=b.isPending,S=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,a,i=t.call(e),o=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(a)throw a.error}}return o}((0,d.useState)(v||{}),2),k=S[0],L=S[1],P=(0,d.useCallback)((function(e,n){var t;L(O(O({},k),((t={})[E.SplashscreenEnabled]=n,t)))}),[k]),D=(0,d.useCallback)((function(e){var n;Object.keys(E).includes(e.target.name)&&L(O(O({},k),((n={})[e.target.name]=e.target.value,n)))}),[k]);return w?(0,r.jsx)(A.A,{}):(0,r.jsx)(C.A,{id:"brandingPage",title:j.Ay.translate("HeaderBranding"),className:"mainAnimatedPage type-interior",children:(0,r.jsx)(o.A,{className:"content-primary",children:(0,r.jsx)(y.lV,{method:"POST",children:(0,r.jsxs)(u.A,{spacing:3,children:[(0,r.jsx)(p.A,{variant:"h1",children:j.Ay.translate("HeaderBranding")}),!a&&(null==t?void 0:t.isSaved)&&(0,r.jsx)(i.A,{severity:"success",children:j.Ay.translate("SettingsSaved")}),(0,r.jsx)(s.A,{control:(0,r.jsx)(c.A,{name:E.SplashscreenEnabled,checked:null==k?void 0:k.SplashscreenEnabled,onChange:P}),label:j.Ay.translate("EnableSplashScreen")}),(0,r.jsx)(f.A,{fullWidth:!0,multiline:!0,minRows:5,maxRows:5,InputProps:{className:"textarea-mono"},name:E.LoginDisclaimer,label:j.Ay.translate("LabelLoginDisclaimer"),helperText:j.Ay.translate("LabelLoginDisclaimerHelp"),value:null==k?void 0:k.LoginDisclaimer,onChange:D}),(0,r.jsx)(f.A,{fullWidth:!0,multiline:!0,minRows:5,maxRows:20,InputProps:{className:"textarea-mono"},name:E.CustomCss,label:j.Ay.translate("LabelCustomCss"),helperText:j.Ay.translate("LabelCustomCssHelp"),value:null==k?void 0:k.CustomCss,onChange:D}),(0,r.jsx)(l.A,{type:"submit",size:"large",children:j.Ay.translate("Save")})]})})})})};D.displayName="BrandingPage"}}]);