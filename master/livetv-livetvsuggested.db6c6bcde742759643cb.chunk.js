(self.webpackChunk=self.webpackChunk||[]).push([[410],{51849:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}}),n(5769),n(63238),n(61418),n(17460),n(14078),n(48410),n(32081),n(27471);var r=n(78695),i=n(28978),a=n(12392),s=n(56705),o=n(33942),l=n(27282),d=n(61097),c=n(21361),u=(n(87201),n(32420),n(87861),n(78066),n(93586));function v(){return!r.Z.desktop}function m(){return v()?12:9}function h(e,t){t&&(function(e){s.ZP.show();var t=m();v()&&(t*=2),ApiClient.getLiveTvRecommendedPrograms({userId:u.ZP.getCurrentUserId(),IsAiring:!0,limit:t,ImageTypeLimit:1,EnableImageTypes:"Primary,Thumb,Backdrop",EnableTotalRecordCount:!1,Fields:"ChannelInfo,PrimaryImageAspectRatio"}).then((function(t){f(e,t.Items,"activeProgramItems","play",{showAirDateTime:!1,showAirEndTime:!0}),s.ZP.hide(),Promise.resolve().then(n.bind(n,6610)).then((function(t){t.default.autoFocus(e)}))}))}(e),ApiClient.getLiveTvPrograms({userId:u.ZP.getCurrentUserId(),HasAired:!1,limit:m(),IsMovie:!1,IsSports:!1,IsKids:!1,IsNews:!1,IsSeries:!0,EnableTotalRecordCount:!1,Fields:"ChannelInfo,PrimaryImageAspectRatio",EnableImageTypes:"Primary,Thumb"}).then((function(t){f(e,t.Items,"upcomingEpisodeItems")})),ApiClient.getLiveTvPrograms({userId:u.ZP.getCurrentUserId(),HasAired:!1,limit:m(),IsMovie:!0,EnableTotalRecordCount:!1,Fields:"ChannelInfo",EnableImageTypes:"Primary,Thumb"}).then((function(t){f(e,t.Items,"upcomingTvMovieItems",null,{shape:v()?"overflowPortrait":"portrait",preferThumb:null,showParentTitle:!1})})),ApiClient.getLiveTvPrograms({userId:u.ZP.getCurrentUserId(),HasAired:!1,limit:m(),IsSports:!0,EnableTotalRecordCount:!1,Fields:"ChannelInfo,PrimaryImageAspectRatio",EnableImageTypes:"Primary,Thumb"}).then((function(t){f(e,t.Items,"upcomingSportsItems")})),ApiClient.getLiveTvPrograms({userId:u.ZP.getCurrentUserId(),HasAired:!1,limit:m(),IsKids:!0,EnableTotalRecordCount:!1,Fields:"ChannelInfo,PrimaryImageAspectRatio",EnableImageTypes:"Primary,Thumb"}).then((function(t){f(e,t.Items,"upcomingKidsItems")})),ApiClient.getLiveTvPrograms({userId:u.ZP.getCurrentUserId(),HasAired:!1,limit:m(),IsNews:!0,EnableTotalRecordCount:!1,Fields:"ChannelInfo,PrimaryImageAspectRatio",EnableImageTypes:"Primary,Thumb"}).then((function(t){f(e,t.Items,"upcomingNewsItems",null,{showParentTitleOrTitle:!0,showTitle:!1,showParentTitle:!1})})))}function f(e,t,n,r,i){var a=d.default.getCardsHtml(Object.assign({items:t,preferThumb:"auto",inheritThumb:!1,shape:v()?"autooverflow":"auto",defaultShape:v()?"overflowBackdrop":"backdrop",showParentTitle:!0,showTitle:!0,centerText:!0,coverImage:!0,overlayText:!1,lazy:!0,overlayPlayButton:"play"===r,overlayMoreButton:"more"===r,overlayInfoButton:"info"===r,allowBottomPadding:!v(),showAirTime:!0,showAirDateTime:!0},i||{})),s=e.querySelector("."+n);s.innerHTML=a,c.default.lazyChildren(s)}function g(){return[{name:o.ZP.translate("Programs")},{name:o.ZP.translate("Guide")},{name:o.ZP.translate("Channels")},{name:o.ZP.translate("Recordings")},{name:o.ZP.translate("Schedule")},{name:o.ZP.translate("Series")}]}function I(e,t){function s(e){var t;c(0,t=parseInt(e.detail.selectedTabIndex),(function(e){-1===w.indexOf(t)&&e.preRender&&e.preRender()}))}function o(e){var t,n=P[parseInt(e.detail.previousIndex)];n&&n.onHide&&n.onHide(),t=parseInt(e.detail.selectedTabIndex),p=t,c(0,t,(function(e){T=null,-1===w.indexOf(t)?(1===t&&w.push(t),e.renderTab()):e.onShow&&e.onShow(),f=e}))}function d(){return e.querySelectorAll(".pageTabContent")}function c(r,i,a){var s;switch(i){case 0:s="livetvsuggested";break;case 1:s="livetvguide";break;case 2:s="livetvchannels";break;case 3:s="livetvrecordings";break;case 4:s="livetvschedule";break;case 5:s="livetvseriestimers"}n(87282)("./".concat(s)).then((function(n){var r,s=n.default;0===i&&(r=e.querySelector('.pageTabContent[data-index="'.concat(i,'"]')),I.tabContent=r);var o=P[i];o||(r=e.querySelector('.pageTabContent[data-index="'.concat(i,'"]')),o=0===i?I:new s(e,t,r),P[i]=o,o.initTab&&o.initTab()),a(o)}))}function m(e){"search"===e.detail.command&&(e.preventDefault(),u.ZP.navigate("search.html?collectionType=livetv"))}var f,I=this,p=parseInt(t.tab||function(e){switch(i.get("landing-livetv")){case"guide":return 1;case"channels":return 2;case"recordings":return 3;case"schedule":return 4;case"series":return 5;default:return 0}}()),T=p,b=0;[].forEach.call(e.querySelectorAll(".sectionTitleTextButton-programs"),(function(e){var t=e.getAttribute("href");t&&(e.href=t+"&serverId="+ApiClient.serverId())})),I.initTab=function(){for(var t,n=e.querySelector('.pageTabContent[data-index="0"]').querySelectorAll(".itemsContainer"),i=0,a=n.length;i<a;i++)t=n[i],v()?(t.classList.add("hiddenScrollX"),r.Z.tv&&t.classList.add("smoothScrollX"),t.classList.add("scrollX"),t.classList.remove("vertical-wrap")):(t.classList.remove("hiddenScrollX"),t.classList.remove("smoothScrollX"),t.classList.remove("scrollX"),t.classList.add("vertical-wrap"))},I.renderTab=function(){var t=e.querySelector('.pageTabContent[data-index="0"]');(new Date).getTime()-b>3e5?(h(t,!0),b=(new Date).getTime()):h(t)};var P=[],w=[];e.addEventListener("viewbeforeshow",(function(t){t.detail.isRestored,l.setTabs(e,p,g,d,s,o)})),e.addEventListener("viewshow",(function(e){e.detail.isRestored||l.selectedTabIndex(T),a.default.on(window,m)})),e.addEventListener("viewbeforehide",(function(){f&&f.onHide&&f.onHide(),a.default.off(window,m)})),e.addEventListener("viewdestroy",(function(){P.forEach((function(e){e.destroy&&e.destroy()}))}))}},87282:function(e,t,n){var r={"./livetvchannels":[67097,7031],"./livetvchannels.js":[67097,7031],"./livetvguide":[5275,7425],"./livetvguide.js":[5275,7425],"./livetvrecordings":[33267,2494],"./livetvrecordings.js":[33267,2494],"./livetvschedule":[13918,1438],"./livetvschedule.js":[13918,1438],"./livetvseriestimers":[68537,6597],"./livetvseriestimers.js":[68537,6597],"./livetvsuggested":[51849],"./livetvsuggested.js":[51849]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id=87282,e.exports=i}}]);