"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[19029,62882,19069,15605],{35300:function(t,e,n){n(84734),n(77575),n(78557),n(67593),n(23630);var a=n(70267),i=n(98320),o=n(44797),r=n(34789),s=n(76542),l=n(46782),c=n(39738),u=n(65875),d=n(22622),f=n(47629),p=n(5898),v=n(55802),y=(n(15453),n(15605),n(86191));function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function m(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,g(a.key),a)}}function g(t){var e=function(t,e){if("object"!=h(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var a=n.call(t,"string");if("object"!=h(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==h(e)?e:e+""}n(29305),n(32733),n(84701),n(81678),n(44962),n(4754),n(94),n(36947),n(83994),n(82367);var b,A,S,w,L,k,B,P,T,C,x,I,E,M,q,R,N,O=new(function(){return t=function t(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=((e=document.createElement("div")).classList.add("appfooter"),document.body.appendChild(e),e),this.add=function(t){this.element.appendChild(t)},this.insert=function(t){"string"==typeof t?this.element.insertAdjacentHTML("afterbegin",t):this.element.insertBefore(t,this.element.firstChild)}},(e=[{key:"destroy",value:function(){this.element=null}}])&&m(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}()),D=n(22832),F=(n(57949),n(31524)),_=[],H=0,U={},V=0,j=!0,W=!1;function Q(){this.classList.add("hide")}function Y(){c.f.playPause(b)}function z(){if(N)return N;var t,e,n=O.element;return(N=n.querySelector(".nowPlayingBar"))||(n.insertAdjacentHTML("afterbegin",(t="",t+='<div class="nowPlayingBar hide nowPlayingBar-hidden">',t+='<div class="nowPlayingBarTop">',t+='<div class="nowPlayingBarPositionContainer sliderContainer" dir="ltr">',t+='<input type="range" is="emby-slider" pin step=".01" min="0" max="100" value="0" class="slider-medium-thumb nowPlayingBarPositionSlider" data-slider-keep-progress="true"/>',t+="</div>",t+='<div class="nowPlayingBarInfoContainer">',t+='<div class="nowPlayingImage"></div>',t+='<div class="nowPlayingBarText"></div>',t+="</div>",t+='<div class="nowPlayingBarCenter" dir="ltr">',t+='<button is="paper-icon-button-light" class="previousTrackButton mediaButton" title="'.concat(p.Ay.translate("ButtonPreviousTrack"),'"><span class="material-icons skip_previous" aria-hidden="true"></span></button>'),t+='<button is="paper-icon-button-light" class="playPauseButton mediaButton" title="'.concat(p.Ay.translate("ButtonPause"),'"><span class="material-icons pause" aria-hidden="true"></span></button>'),t+='<button is="paper-icon-button-light" class="stopButton mediaButton" title="'.concat(p.Ay.translate("ButtonStop"),'"><span class="material-icons stop" aria-hidden="true"></span></button>'),l.A.mobile||(t+='<button is="paper-icon-button-light" class="nextTrackButton mediaButton" title="'.concat(p.Ay.translate("ButtonNextTrack"),'"><span class="material-icons skip_next" aria-hidden="true"></span></button>')),t+='<div class="nowPlayingBarCurrentTime"></div>',t+="</div>",t+='<div class="nowPlayingBarRight">',t+='<button is="paper-icon-button-light" class="muteButton mediaButton" title="'.concat(p.Ay.translate("Mute"),'"><span class="material-icons volume_up" aria-hidden="true"></span></button>'),t+='<div class="sliderContainer nowPlayingBarVolumeSliderContainer hide" style="width:9em;vertical-align:middle;display:inline-flex;">',t+='<input type="range" is="emby-slider" pin step="1" min="0" max="100" value="0" class="slider-medium-thumb nowPlayingBarVolumeSlider"/>',t+="</div>",t+='<button is="paper-icon-button-light" class="btnAirPlay mediaButton" title="'.concat(p.Ay.translate("AirPlay"),'"><span class="material-icons airplay" aria-hidden="true"></span></button>'),t+='<button is="paper-icon-button-light" class="openLyricsButton mediaButton hide" title="'.concat(p.Ay.translate("Lyrics"),'"><span class="material-icons lyrics" style="top:0.1em" aria-hidden="true"></span></button>'),t+='<button is="paper-icon-button-light" class="toggleRepeatButton mediaButton" title="'.concat(p.Ay.translate("Repeat"),'"><span class="material-icons repeat" aria-hidden="true"></span></button>'),t+='<button is="paper-icon-button-light" class="btnShuffleQueue mediaButton" title="'.concat(p.Ay.translate("Shuffle"),'"><span class="material-icons shuffle" aria-hidden="true"></span></button>'),t+='<div class="nowPlayingBarUserDataButtons">',t+="</div>",t+='<button is="paper-icon-button-light" class="playPauseButton mediaButton" title="'.concat(p.Ay.translate("ButtonPause"),'"><span class="material-icons pause" aria-hidden="true"></span></button>'),l.A.mobile?t+='<button is="paper-icon-button-light" class="nextTrackButton mediaButton" title="'.concat(p.Ay.translate("ButtonNextTrack"),'"><span class="material-icons skip_next" aria-hidden="true"></span></button>'):t+='<button is="paper-icon-button-light" class="btnToggleContextMenu mediaButton" title="'.concat(p.Ay.translate("ButtonMore"),'"><span class="material-icons more_vert" aria-hidden="true"></span></button>'),t+="</div>",(t+="</div>")+"</div>")),window.CustomElements.upgradeSubtree(n),N=n.querySelector(".nowPlayingBar"),l.A.mobile&&(N.querySelector(".btnShuffleQueue").classList.add("hide"),N.querySelector(".nowPlayingBarCenter").classList.add("hide")),r.A.safari&&r.A.slow&&N.classList.add("noMediaProgress"),D.Ay.on(N),A=(e=N).querySelector(".nowPlayingBarCurrentTime"),S=e.querySelector(".nowPlayingImage"),L=e.querySelector(".nowPlayingBarText"),k=e.querySelector(".nowPlayingBarUserDataButtons"),x=e.querySelector(".nowPlayingBarPositionSlider"),B=e.querySelector(".muteButton"),C=e.querySelectorAll(".playPauseButton"),E=e.querySelector(".toggleRepeatButton"),P=e.querySelector(".nowPlayingBarVolumeSlider"),T=e.querySelector(".nowPlayingBarVolumeSliderContainer"),q=N.querySelector(".openLyricsButton"),B.addEventListener("click",(function(){b&&c.f.toggleMute(b)})),e.querySelector(".stopButton").addEventListener("click",(function(){b&&c.f.stop(b)})),C.forEach((function(t){t.addEventListener("click",Y)})),e.querySelector(".nextTrackButton").addEventListener("click",(function(){b&&c.f.nextTrack(b)})),e.querySelector(".previousTrackButton").addEventListener("click",(function(t){if(b){if(c.f.isPlayingAudio(b)){if(t.detail>1)return;if(c.f.currentTime(b)>=5e3||c.f.getCurrentPlaylistIndex(b)<=0)return c.f.seekPercent(0,b),void(x.value=0)}c.f.previousTrack(b)}})),e.querySelector(".previousTrackButton").addEventListener("dblclick",(function(){b&&c.f.previousTrack(b)})),(I=e.querySelector(".btnAirPlay")).addEventListener("click",(function(){b&&c.f.toggleAirPlay(b)})),e.querySelector(".btnShuffleQueue").addEventListener("click",(function(){b&&c.f.toggleQueueShuffleMode()})),q.addEventListener("click",(function(){W?a.appRouter.back():a.appRouter.show("lyrics")})),(E=e.querySelector(".toggleRepeatButton")).addEventListener("click",(function(){switch(c.f.getRepeatMode()){case"RepeatAll":c.f.setRepeatMode("RepeatOne");break;case"RepeatOne":c.f.setRepeatMode("RepeatNone");break;case"RepeatNone":c.f.setRepeatMode("RepeatAll")}})),M=E.querySelector(".material-icons"),T.classList.toggle("hide",d.g.supports("physicalvolumecontrol")),P.addEventListener("input",(function(t){b&&b.setVolume(t.target.value)})),x.addEventListener("change",(function(){if(b){var t=parseFloat(this.value);c.f.seekPercent(t,b)}})),x.getBubbleText=function(t){if(null==U||!U.NowPlayingItem||!V)return"--:--";var e=V;return e/=100,e*=t,i.Ay.getDisplayRunningTime(e)},e.addEventListener("click",(function(t){f.Ay.parentWithTag(t.target,["BUTTON","INPUT"])||a.appRouter.showNowPlaying()}))),N}function G(t){C&&C.forEach((function(e){var n=e.querySelector(".material-icons");n.classList.remove("play_arrow","pause"),n.classList.add(t?"play_arrow":"pause"),e.title=p.Ay.translate(t?"Play":"ButtonPause")}))}function J(t){M.classList.remove("repeat","repeat_one");var e="buttonActive";switch(t){case"RepeatAll":M.classList.add("repeat"),E.classList.add(e);break;case"RepeatOne":M.classList.add("repeat_one"),E.classList.add(e);break;default:M.classList.add("repeat"),E.classList.remove(e)}}function K(t,e,n){if(x&&!x.dragging)if(e){var a=t/e;a*=100,x.value=a}else x.value=0;if(x&&x.setBufferedRanges(n,e,t),A){var o=null==t?"--:--":i.Ay.getDisplayRunningTime(t);e&&(o+=" / "+i.Ay.getDisplayRunningTime(e)),A.innerHTML=o}}function X(t,e){var n=_,a=!0,i=!0;-1===n.indexOf("ToggleMute")&&(a=!1);var o=B.querySelector(".material-icons");o.classList.remove("volume_off","volume_up"),o.classList.add(t?"volume_off":"volume_up"),B.title=p.Ay.translate(t?"Unmute":"Mute"),-1===n.indexOf("SetVolume")&&(i=!1),b.isLocalPlayer&&d.g.supports("physicalvolumecontrol")&&(a=!1,i=!1),B.classList.toggle("hide",!a),P&&(T.classList.toggle("hide",!i),P.dragging||(P.value=e||0))}function Z(t){if(R){var e=!!t&&"Audio"===t.Type&&t.HasLyrics;q.classList.toggle("hide",!e),$()}}function $(){R&&q.classList.toggle("buttonActive",W)}function tt(t,e){console.debug("nowplaying event: "+t.type),rt.call(this,t,e)}function et(){R&&J(c.f.getRepeatMode())}function nt(){if(R){var t=c.f.getQueueShuffleMode(),e="buttonActive",n=N.querySelector(".btnShuffleQueue");"Shuffle"===t?n.classList.add(e):n.classList.remove(e)}}function at(){R=!1;var t=document.getElementsByClassName("nowPlayingBar")[0];t&&function(t){t.offsetWidth,t.classList.add("nowPlayingBar-hidden"),f.Ay.addEventListener(t,f.Ay.whichTransitionEvent(),Q,{once:!0})}(t)}function it(t,e){console.debug("[nowPlayingBar:onPlaybackStopped] event: "+t.type),this.isLocalPlayer?"Audio"!==e.NextMediaType&&at():e.NextMediaType||at()}function ot(){R&&G(this.paused())}function rt(t,e){if("init"!==t.type){console.debug("[nowPlayingBar:onStateChanged] event: "+t.type);e.NowPlayingItem&&!l.A.tv&&!1!==e.IsFullscreen?this.isLocalPlayer&&e.NowPlayingItem&&"Video"===e.NowPlayingItem.MediaType?at():(R=!0,N||(z(),Z(e.NowPlayingItem)),function(t,e,n){var a;j?(a=z(),f.Ay.removeEventListener(a,f.Ay.whichTransitionEvent(),Q,{once:!0}),a.classList.remove("hide"),a.offsetWidth,a.classList.remove("nowPlayingBar-hidden")):at(),U=e;var i=c.f.getPlayerInfo(),o=e.PlayState||{};G(o.IsPaused);var r=i.supportedCommands;_=r,-1===r.indexOf("SetRepeatMode")?E.classList.add("hide"):E.classList.remove("hide");var d=-1===r.indexOf("AirPlay");if(I.classList.toggle("hide",d),J(c.f.getRepeatMode()),nt(),X(o.IsMuted,o.VolumeLevel),x&&!x.dragging){x.disabled=!o.CanSeek;var p=e.MediaSource&&null==e.MediaSource.RunTimeTicks;x.setIsClear(p)}var h=e.NowPlayingItem||{};K(o.PositionTicks,h.RunTimeTicks,c.f.getBufferedRanges(n)),function(t){var e=t.NowPlayingItem,n=e?u.A.getNowPlayingNames(e):[];if(L.innerHTML="",n){var a=document.createElement("div"),i=document.createElement("div");if(i.classList.add("nowPlayingBarSecondaryText"),n.length>1&&(n[1].secondary=!0,n[1].text)){var o=document.createElement("a");o.innerText=n[1].text,i.appendChild(o)}if(n[0].text){var r=document.createElement("a");r.innerText=n[0].text,a.appendChild(r)}L.appendChild(a),L.appendChild(i)}var c=e?(0,F.V)(e,{height:70}):null;if(c!==w&&(c?(w=c,s.default.lazyImage(S,w),S.style.display=null,L.style.marginLeft=null):(w=null,S.style.backgroundImage="",S.style.display="none",L.style.marginLeft="1em")),e.Id){var d=y.A.getApiClient(e.ServerId);d.getItem(d.getCurrentUserId(),e.Id).then((function(t){var e=t.UserData||{},n=null==e.Likes?"":e.Likes;if(!l.A.mobile){var a=N.querySelector(".btnToggleContextMenu"),i=a.cloneNode(!0);a.parentNode.replaceChild(i,a);var o={play:!1,queue:!1,stopPlayback:!0,clearQueue:!0,positionTo:a=N.querySelector(".btnToggleContextMenu")};d.getCurrentUser().then((function(e){a.addEventListener("click",(function(){v.default.show(Object.assign({item:t,user:e},o)).catch((function(){}))}))}))}k.innerHTML='<button is="emby-ratingbutton" type="button" class="mediaButton paper-icon-button-light" data-id="'+t.Id+'" data-serverid="'+t.ServerId+'" data-itemtype="'+t.Type+'" data-likes="'+n+'" data-isfavorite="'+e.IsFavorite+'"><span class="material-icons favorite" aria-hidden="true"></span></button>'}))}else k.innerHTML=""}(e),Z(h)}(0,e,this)):at()}}function st(){if(R){var t=(new Date).getTime();if(!(t-H<700)){H=t;var e=this;V=c.f.duration(e),K(1e4*c.f.currentTime(e),V,c.f.getBufferedRanges(e))}}}function lt(){R&&X(this.isMuted(),this.getVolume())}function ct(t,e){var n=c.f.getPlayerState(t);rt.call(t,{type:e},n)}function ut(t){W=(0,a.isLyricsPage)(),t!==b&&(function(){var t=b;t&&(o.A.off(t,"playbackstart",tt),o.A.off(t,"statechange",tt),o.A.off(t,"repeatmodechange",et),o.A.off(t,"shufflequeuemodechange",nt),o.A.off(t,"playbackstop",it),o.A.off(t,"volumechange",lt),o.A.off(t,"pause",ot),o.A.off(t,"unpause",ot),o.A.off(t,"timeupdate",st),b=null,at())}(),b=t,t&&(ct(t,"init"),o.A.on(t,"playbackstart",tt),o.A.on(t,"statechange",tt),o.A.on(t,"repeatmodechange",et),o.A.on(t,"shufflequeuemodechange",nt),o.A.on(t,"playbackstop",it),o.A.on(t,"volumechange",lt),o.A.on(t,"pause",ot),o.A.on(t,"unpause",ot),o.A.on(t,"timeupdate",st)))}o.A.on(c.f,"playerchange",(function(){ut(c.f.getCurrentPlayer())})),ut(c.f.getCurrentPlayer()),document.addEventListener("viewbeforeshow",(function(t){W=(0,a.isLyricsPage)(),$(),t.detail.options.enableMediaControl?j||(j=!0,b?ct(b,"refresh"):at()):j&&(j=!1,at())}))},15605:function(t,e,n){n.r(e);var a=n(10736),i=n(5898),o=n(44797),r=n(10353),s=n(86191);function l(){var t=this,e=t.getAttribute("data-id"),n=t.getAttribute("data-serverid"),a=s.A.getApiClient(n),i=this.getAttribute("data-likes");i="true"===i||"false"!==i&&null,function(t,e,n,a,i){return e.updateFavoriteStatus(e.getCurrentUserId(),n,!i)}(0,a,e,0,"true"===this.getAttribute("data-isfavorite")).then((function(e){u(t,e.Likes,e.IsFavorite)}))}function c(t,e,n){n.ItemId===this.getAttribute("data-id")&&u(this,n.Likes,n.IsFavorite)}function u(t,e,n,a){var i=t.querySelector(".material-icons");n?(i&&(i.classList.add("favorite"),i.classList.add("ratingbutton-icon-withrating")),t.classList.add("ratingbutton-withrating")):(i&&(i.classList.add("favorite"),i.classList.remove("ratingbutton-icon-withrating")),t.classList.remove("ratingbutton-withrating")),!1!==a&&(t.setAttribute("data-isfavorite",n),t.setAttribute("data-likes",null===e?"":e)),d(t,n)}function d(t,e){t.title=e?i.Ay.translate("Favorite"):i.Ay.translate("AddToFavorites");var n=t.querySelector(".button-text");n&&(n.innerText=t.title)}function f(t){var e,n,i;t.removeEventListener("click",l),(i=(e=t)[n="UserDataChanged"])&&(o.A.off(a.default,n,i),e[n]=null)}function p(t){var e,n,i;f(t),t.addEventListener("click",l),e=t,n="UserDataChanged",i=c.bind(e),o.A.on(a.default,n,i),e[n]=i}var v=Object.create(r.A);v.createdCallback=function(){r.A.createdCallback&&r.A.createdCallback.call(this)},v.attachedCallback=function(){r.A.attachedCallback&&r.A.attachedCallback.call(this);var t=this.getAttribute("data-id"),e=this.getAttribute("data-serverid");if(t&&e){var n=this.getAttribute("data-likes");u(this,n="true"===n||"false"!==n&&null,"true"===this.getAttribute("data-isfavorite"),!1),p(this)}else d(this)},v.detachedCallback=function(){r.A.detachedCallback&&r.A.detachedCallback.call(this),f(this)},v.setItem=function(t){if(t){this.setAttribute("data-id",t.Id),this.setAttribute("data-serverid",t.ServerId);var e=t.UserData||{};u(this,e.Likes,e.IsFavorite),p(this)}else this.removeAttribute("data-id"),this.removeAttribute("data-serverid"),this.removeAttribute("data-likes"),this.removeAttribute("data-isfavorite"),f(this)},document.registerElement("emby-ratingbutton",{prototype:v,extends:"button"})},62882:function(t,e,n){n.r(e),n.d(e,{show:function(){return d}});var a=n(22696),i=n.n(a),o=n(79754),r=n(46782),s=n(5898),l=n(47629),c=(n(10353),function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],a=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")});function u(t,e,a){Promise.resolve().then(n.bind(n,10838)).then((function(n){var i=a?"on":"off";n.centerFocus[i](t,e)})).catch((function(t){console.warn("Error in centerFocus",t)}))}function d(t){var e,n,a,d={removeOnClose:!0,enableHistory:t.enableHistory,scrollY:!1};r.A.tv?(d.size="fullscreen",a=!0,d.autoFocus=!0):(d.modal=!1,d.entryAnimation=t.entryAnimation,d.exitAnimation=t.exitAnimation,d.entryAnimationDuration=t.entryAnimationDuration||140,d.exitAnimationDuration=t.exitAnimationDuration||100,d.autoFocus=!1);var f=o.default.createDialog(d);a?f.classList.add("actionsheet-fullscreen"):f.classList.add("actionsheet-not-fullscreen"),f.classList.add("actionSheet"),t.dialogClass&&f.classList.add(t.dialogClass);var p="",v=r.A.tv?"scrollY smoothScrollY hiddenScrollY":"scrollY",y="";t.items.length>20&&(y+="min-width:"+(l.Ay.getWindowSize().innerWidth>=300?240:200)+"px;");var h,m=!1,g=[];try{for(var b=c(t.items),A=b.next();!A.done;A=b.next())(h=(B=A.value).icon||(B.selected?"check":null))&&(m=!0),g.push(h||"")}catch(t){e={error:t}}finally{try{A&&!A.done&&(n=b.return)&&n.call(b)}finally{if(e)throw e.error}}r.A.tv&&(p+='<button is="paper-icon-button-light" class="btnCloseActionSheet hide-mouse-idle-tv" tabindex="-1" title="'.concat(s.Ay.translate("ButtonBack"),'">\n                     <span class="material-icons arrow_back" aria-hidden="true"></span>\n                 </button>'));var S=t.title&&!m;S||r.A.tv?p+='<div class="actionSheetContent actionSheetContent-centered">':p+='<div class="actionSheetContent">',t.title&&(p+='<h1 class="actionSheetTitle">'+i()(t.title)+"</h1>"),t.text&&(p+='<p class="actionSheetText">'+i()(t.text)+"</p>");var w="actionSheetScroller";r.A.tv&&(w+=" actionSheetScroller-tv focuscontainer-x focuscontainer-y"),p+='<div class="'+w+" "+v+'" style="'+y+'">';var L="listItem listItem-button actionSheetMenuItem";(t.border||t.shaded)&&(L+=" listItem-border"),t.menuItemClass&&(L+=" "+t.menuItemClass),r.A.tv&&(L+=" listItem-focusscale"),r.A.mobile&&(L+=" actionsheet-xlargeFont");for(var k=0;k<t.items.length;k++){var B;(B=t.items[k]).divider?p+='<div class="actionsheetDivider"></div>':(p+="<button"+(B.selected&&r.A.tv?" autoFocus":"")+' is="emby-button" type="button" class="'+L+'" data-id="'+(null==B.id||""===B.id?B.value:B.id)+'">',(h=g[k])?p+='<span class="actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons '.concat(h,'" aria-hidden="true"></span>'):m&&!S&&(p+='<span class="actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons check" aria-hidden="true" style="visibility:hidden;"></span>'),p+='<div class="listItemBody actionsheetListItemBody">',p+='<div class="listItemBodyText actionSheetItemText">',p+=i()(B.name||B.textContent||B.innerText),p+="</div>",B.secondaryText&&(p+='<div class="listItemBodyText secondary">'.concat(i()(B.secondaryText),"</div>")),p+="</div>",B.asideText&&(p+='<div class="listItemAside actionSheetItemAsideText">'.concat(i()(B.asideText),"</div>")),p+="</button>")}if(t.showCancel&&(p+='<div class="buttons">',p+='<button is="emby-button" type="button" class="btnCloseActionSheet">'.concat(s.Ay.translate("ButtonCancel"),"</button>"),p+="</div>"),p+="</div>",f.innerHTML=p,r.A.tv){var P=f.querySelector(".actionSheetScroller");P&&u(P,!1,!0)}var T=f.querySelector(".btnCloseActionSheet");T&&T.addEventListener("click",(function(){o.default.close(f)}));var C,x=null;return t.timeout&&(C=setTimeout((function(){o.default.close(f)}),t.timeout)),new Promise((function(e,n){var a=!1;f.addEventListener("click",(function(n){var i=l.Ay.parentWithClass(n.target,"actionSheetMenuItem");i&&(x=i.getAttribute("data-id"),t.resolveOnClick&&(Array.isArray(t.resolveOnClick)?-1!==t.resolveOnClick.indexOf(x)&&(e(x),a=!0):(e(x),a=!0)),o.default.close(f))})),f.addEventListener("close",(function(){if(r.A.tv){var i=f.querySelector(".actionSheetScroller");i&&u(i,!1,!1)}C&&(clearTimeout(C),C=void 0),a||(null!=x?(t.callback&&t.callback(x),e(x)):n(new Error("ActionSheet closed without resolving")))})),o.default.open(f).catch((function(t){console.warn("DialogHelper.open error",t)}));var i=t.positionTo&&"fullscreen"!==d.size?function(t,e,n){var a=l.Ay.getWindowSize(),i=a.innerHeight,o=a.innerWidth,r=function(t){var e,n,a=[];if(!document)return a;try{for(var i=c(t),o=i.next();!o.done;o=i.next()){var r=o.value.getBoundingClientRect();a.push({top:r.top,left:r.left,width:r.width,height:r.height})}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return a}([t])[0];"top"!==e.positionY&&(r.top+=(r.height||0)/2),r.left+=(r.width||0)/2;var s=n.offsetHeight||300,u=n.offsetWidth||160;r.top-=s/2,r.left-=u/2;var d=r.left+u-o,f=r.top+s-i;return d>0&&(r.left-=d+20),f>0&&(r.top-=f+20),r.top+=e.offsetTop||0,r.left+=e.offsetLeft||0,r.top=Math.max(r.top,10),r.left=Math.max(r.left,10),r}(t.positionTo,t,f):null;i&&(f.style.position="fixed",f.style.margin="0",f.style.left=i.left+"px",f.style.top=i.top+"px")}))}e.default={show:d}}}]);