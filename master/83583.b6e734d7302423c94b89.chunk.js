"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[83583],{8156:function(e,t,r){r.r(t),r.d(t,{default:function(){return S},startMultiSelect:function(){return w}}),r(13227),r(2663),r(81414),r(84159),r(37666),r(96626),r(14011),r(11431),r(88646),r(47134),r(66066);var n,i=r(57366),a=r(92811),o=r(34862),l=r(94994),s=r(72365),u=r(18613),c=r(37099),d=r(3137),v=r(21776),m=r(61693),p=[],f=[];function h(){var e=n;if(e){e.parentNode.removeChild(e),n=null,p=[],f=[];for(var t=document.querySelectorAll(".itemSelectionPanel"),r=0,i=t.length;r<i;r++){var a=t[r].parentNode;a.removeChild(t[r]),a.classList.remove("withMultiSelect")}}}function g(e,t){var r=s.ZP.parentWithAttribute(e,"data-id").getAttribute("data-id");if(t?p.filter((function(e){return e===r})).length||(p.push(r),f.push(e)):(p=p.filter((function(e){return e!==r})),f=f.filter((function(t){return t!==e}))),p.length){var n=document.querySelector(".itemSelectionCount");n&&(n.innerHTML=m.ZP.toLocaleString(p.length))}else h()}function y(){g(this,this.checked)}function b(e,t){var r=e.querySelector(".itemSelectionPanel");if(!r){(r=document.createElement("div")).classList.add("itemSelectionPanel");var n=e.querySelector(".cardBox")||e.querySelector(".cardContent");n.classList.add("withMultiSelect"),n.appendChild(r);var a="chkItemSelect";t&&!i.Z.firefox&&(a+=" checkedInitial");var o=t?" checked":"";r.innerHTML='<label class="checkboxContainer"><input type="checkbox" is="emby-checkbox" data-outlineclass="multiSelectCheckboxOutline" class="'.concat(a,'"').concat(o,"/><span></span></label>"),r.querySelector(".chkItemSelect").addEventListener("change",y)}}function I(e){var t=u.Z.currentApiClient();t.getCurrentUser().then((function(n){t.getItem(t.getCurrentUserId(),p[0]).then((function(i){var s=[];s.push({name:l.ZP.translate("SelectAll"),id:"selectall",icon:"select_all"}),s.push({name:l.ZP.translate("AddToCollection"),id:"addtocollection",icon:"add"}),s.push({name:l.ZP.translate("AddToPlaylist"),id:"playlist",icon:"playlist_add"}),n.Policy.EnableContentDeletion&&s.push({name:l.ZP.translate("Delete"),id:"delete",icon:"delete"}),n.Policy.EnableContentDownloading&&a.M.supports("filedownload"),n.Policy.IsAdministrator&&s.push({name:l.ZP.translate("GroupVersions"),id:"groupvideos",icon:"call_merge"}),s.push({name:l.ZP.translate("MarkPlayed"),id:"markplayed",icon:"check_box"}),s.push({name:l.ZP.translate("MarkUnplayed"),id:"markunplayed",icon:"check_box_outline_blank"}),v.ZP.canRefreshMetadata(i,n)&&s.push({name:l.ZP.translate("RefreshMetadata"),id:"refresh",icon:"refresh"}),r.e(78130).then(r.bind(r,78130)).then((function(n){n.show({items:s,positionTo:e.target,callback:function(e){var n=p.slice(0),i=t.serverInfo().Id;switch(e){case"selectall":for(var a=document.querySelectorAll(".itemSelectionPanel"),s=0,u=a.length;s<u;s++){var v=a[s].querySelector(".chkItemSelect");!v||v.classList.contains("checkedInitial")||v.checked||0==v.getBoundingClientRect().width||(v.checked=!0,g(v,!0))}break;case"addtocollection":r.e(19449).then(r.bind(r,19449)).then((function(e){(new(0,e.default)).show({items:n,serverId:i})})),h(),T();break;case"playlist":r.e(43126).then(r.bind(r,43126)).then((function(e){(new(0,e.default)).show({items:n,serverId:i}).catch((function(){}))})).catch((function(e){console.error("[AddToPlaylist] failed to load playlist editor",e)})),h(),T();break;case"delete":(function(e,t){return new Promise((function(r,n){var i=l.ZP.translate("ConfirmDeleteItem"),a=l.ZP.translate("HeaderDeleteItem");t.length>1&&(i=l.ZP.translate("ConfirmDeleteItems"),a=l.ZP.translate("HeaderDeleteItems")),(0,d.Z)(i,a).then((function(){var i=t.map((function(t){return e.deleteItem(t)}));Promise.all(i).then(r,(function(){var e;(e=l.ZP.translate("ErrorDeletingItem"),new Promise((function(t){(0,c.Z)(e).then(t,t)}))).then(n,n)}))}),n)}))})(t,n).then(T),h(),T();break;case"groupvideos":!function(e,t){t.length<2?(0,c.Z)({text:l.ZP.translate("PleaseSelectTwoItems")}):(o.ZP.show(),e.ajax({type:"POST",url:e.getUrl("Videos/MergeVersions",{Ids:t.join(",")})}).then((function(){o.ZP.hide(),h(),T()})))}(t,n);break;case"markplayed":n.forEach((function(e){t.markPlayed(t.getCurrentUserId(),e)})),h(),T();break;case"markunplayed":n.forEach((function(e){t.markUnplayed(t.getCurrentUserId(),e)})),h(),T();break;case"refresh":r.e(36929).then(r.bind(r,36929)).then((function(e){new(0,e.default)({itemIds:n,serverId:i}).show()})),h(),T()}}})}))}))}))}function T(){var e=[];[].forEach.call(f,(function(t){var r=s.ZP.parentWithAttribute(t,"is","emby-itemscontainer");r&&!e.includes(r)&&e.push(r)}));for(var t=0,r=e.length;t<r;t++)e[t].notifyRefreshNeeded(!0)}function x(e){Promise.resolve().then(r.bind(r,12291)).then((function(){for(var t=document.querySelectorAll(".card"),r=0,i=t.length;r<i;r++)b(t[r],e===t[r]);!function(){var e=n;if(!e){(e=document.createElement("div")).classList.add("selectionCommandsPanel"),document.body.appendChild(e),n=e;var t="";t+='<button is="paper-icon-button-light" class="btnCloseSelectionPanel autoSize"><span class="material-icons close" aria-hidden="true"></span></button>',t+='<h1 class="itemSelectionCount"></h1>',t+='<button is="paper-icon-button-light" class="btnSelectionPanelOptions autoSize"><span class="material-icons '.concat("more_vert",'" aria-hidden="true"></span></button>'),e.innerHTML=t,e.querySelector(".btnCloseSelectionPanel").addEventListener("click",h);var r=e.querySelector(".btnSelectionPanelOptions");s.ZP.addEventListener(r,"click",I,{passive:!0})}}(),g(e,!0)}))}function P(e){var t=e.target;if(p.length){var r=s.ZP.parentWithClass(t,"card");if(r){var n=r.querySelector(".itemSelectionPanel");if(n)return function(e,t){if(!s.ZP.parentWithClass(e.target,"chkItemSelect")){var r=t.querySelector(".chkItemSelect");if(r)if(r.classList.contains("checkedInitial"))r.classList.remove("checkedInitial");else{var n=!r.checked;r.checked=n,g(r,n)}}return e.preventDefault(),e.stopPropagation(),!1}(e,n)}return e.preventDefault(),e.stopPropagation(),!1}}function S(e){var t,r,n,a,o,l=e.container;function u(e){var t=s.ZP.parentWithClass(e.target,"card");return t&&x(t),e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1}function c(e){return e.changedTouches||e.targetTouches||e.touches}function d(e){var i=c(e)[0];if(t=null,n=0,a=0,i){n=i.clientX,a=i.clientY;var o=i.target;if(o){var l=s.ZP.parentWithClass(o,"card");l&&(r&&(clearTimeout(r),r=null),t=l,r=setTimeout(h,550))}}}function v(e){if(t){var r,i,o=c(e)[0];if(o){var l=o.clientX||0,s=o.clientY||0;r=Math.abs(l-(n||0)),i=Math.abs(s-(a||0))}else r=100,i=100;(r>=5||i>=5)&&f()}}function m(){f()}function p(e){r&&(clearTimeout(r),r=null),t=e.target,r=setTimeout(h,550)}function f(){r&&(clearTimeout(r),r=null),t=null}function h(){if(t){var e=s.ZP.parentWithClass(t,"card");t=null,e&&x(e)}}o=l,i.Z.touch&&!i.Z.safari?o.addEventListener("contextmenu",u):(s.ZP.addEventListener(o,"touchstart",d,{passive:!0}),s.ZP.addEventListener(o,"touchmove",v,{passive:!0}),s.ZP.addEventListener(o,"touchend",m,{passive:!0}),s.ZP.addEventListener(o,"touchcancel",m,{passive:!0}),s.ZP.addEventListener(o,"mousedown",p,{passive:!0}),s.ZP.addEventListener(o,"mouseleave",f,{passive:!0}),s.ZP.addEventListener(o,"mouseup",f,{passive:!0})),!1!==e.bindOnClick&&l.addEventListener("click",P),this.onContainerClick=P,this.destroy=function(){l.removeEventListener("click",P),l.removeEventListener("contextmenu",u);var e=l;s.ZP.removeEventListener(e,"touchstart",d,{passive:!0}),s.ZP.removeEventListener(e,"touchmove",v,{passive:!0}),s.ZP.removeEventListener(e,"touchend",m,{passive:!0}),s.ZP.removeEventListener(e,"mousedown",p,{passive:!0}),s.ZP.removeEventListener(e,"mouseleave",f,{passive:!0}),s.ZP.removeEventListener(e,"mouseup",f,{passive:!0})}}document.addEventListener("viewbeforehide",h);var w=function(e){x(e)}},21694:function(e,t,r){r(54112),r(67752);var n=r(72365),i=r(15723),a=r(57366),o=r(34643),l=r(30325),s=Object.create(HTMLDivElement.prototype),u="emby-tab-button",c=u+"-active";function d(e){e.classList.add(c)}function v(e,t,r){var n;e.dispatchEvent(new CustomEvent("beforetabchange",{detail:{selectedTabIndex:t,previousIndex:r}})),null!=r&&r!==t&&(n=null)&&n.classList.remove("is-active")}function m(e){var t=this,r=t.querySelector("."+c),i=n.ZP.parentWithClass(e.target,u);if(i&&i!==r){r&&r.classList.remove(c);var a=r?parseInt(r.getAttribute("data-index"),10):null;d(i);var o=parseInt(i.getAttribute("data-index"),10);v(t,o,a),setTimeout((function(){t.selectedTabIndex=o,t.dispatchEvent(new CustomEvent("tabchange",{detail:{selectedTabIndex:o,previousIndex:a}}))}),120),t.scroller&&t.scroller.toCenter(i,!1)}}function p(e){var t=n.ZP.parentWithClass(e.target,u);t&&this.scroller&&this.scroller.toCenter(t,!1)}function f(e){var t=e.target.parentNode.querySelector(".lastFocused");t&&t.classList.remove("lastFocused"),e.target.classList.add("lastFocused")}function h(e){return e.querySelector("."+c)}function g(e,t){for(var r=e[t];r;){if(r.classList.contains(u)&&!r.classList.contains("hide"))return r;r=r[t]}return null}s.createdCallback=function(){this.classList.contains("emby-tabs")||(this.classList.add("emby-tabs"),this.classList.add("focusable"),n.ZP.addEventListener(this,"click",m,{passive:!0}),l.Z.tv&&n.ZP.addEventListener(this,"focusin",p,{passive:!0}),n.ZP.addEventListener(this,"focusout",f))},s.focus=function(){var e=this.querySelector("."+c),t=this.querySelector(".lastFocused");t?o.Z.focus(t):e?o.Z.focus(e):o.Z.autoFocus(this)},s.refresh=function(){this.scroller&&this.scroller.reload()},s.attachedCallback=function(){!function(e){if(!e.scroller){var t=e.querySelector(".emby-tabs-slider");t?(e.scroller=new i.Z(e,{horizontal:1,itemNav:0,mouseDragging:1,touchDragging:1,slidee:t,smart:!0,releaseSwing:!0,scrollBy:200,speed:120,elasticBounds:1,dragHandle:1,dynamicHandle:1,clickBar:1,hiddenScroll:!0,requireAnimation:!a.Z.safari,allowNativeSmoothScroll:!0}),e.scroller.init()):(e.classList.add("scrollX"),e.classList.add("hiddenScrollX"),e.classList.add("smoothScrollX"))}}(this);var e=this.querySelector("."+c),t=e?parseInt(e.getAttribute("data-index"),10):parseInt(this.getAttribute("data-index")||"0",10);if(-1!==t){this.selectedTabIndex=t;var r=this.querySelectorAll("."+u)[t];r&&d(r)}this.readyFired||(this.readyFired=!0,this.dispatchEvent(new CustomEvent("ready",{})))},s.detachedCallback=function(){this.scroller&&(this.scroller.destroy(),this.scroller=null),n.ZP.removeEventListener(this,"click",m,{passive:!0}),l.Z.tv&&n.ZP.removeEventListener(this,"focusin",p,{passive:!0})},s.selectedIndex=function(e,t){var r=this;if(null==e)return r.selectedTabIndex||0;var n=r.selectedIndex();r.selectedTabIndex=e;var i=r.querySelectorAll("."+u);if(n===e||!1===t){v(r,e,n),r.dispatchEvent(new CustomEvent("tabchange",{detail:{selectedTabIndex:e}}));var a=i[n];d(i[e]),n!==e&&a&&a.classList.remove(c)}else m.call(r,{target:i[e]})},s.selectNext=function(){var e=g(h(this),"nextSibling");e&&m.call(this,{target:e})},s.selectPrevious=function(){var e=g(h(this),"previousSibling");e&&m.call(this,{target:e})},s.triggerBeforeTabChange=function(){v(this,this.selectedIndex())},s.triggerTabChange=function(){this.dispatchEvent(new CustomEvent("tabchange",{detail:{selectedTabIndex:this.selectedIndex()}}))},s.setTabEnabled=function(e,t){var r=this.querySelector('.emby-tab-button[data-index="'+e+'"]');t?r.classList.remove("hide"):r.classList.remove("add")},document.registerElement("emby-tabs",{prototype:s,extends:"div"})},77171:function(e,t,r){r.d(t,{Z:function(){return Ui}});var n,i,a,o,l=r(24246),s=r(27378),u=r(16991),c=r(86808),d=r(6884),v=r(29532),m=r(74066),p=r(4877),f=r(58290),h=r(72924),g=r(46973),y=r(74775),b=r(51557),I=r(45067),T=r(23246),x=r(69091),P=r(37560),S=r(63520),w=r(22397),Z=r(63975),C=r(29418),j=r(61693),O=r(94994),k=r(48215),N=r(60934),A=r(30325);!function(e){e.HasSubtitles="HasSubtitles",e.HasTrailer="HasTrailer",e.HasSpecialFeature="HasSpecialFeature",e.HasThemeSong="HasThemeSong",e.HasThemeVideo="HasThemeVideo"}(n||(n={})),function(e){e.ParentIndexNumber="ParentIndexNumber",e.IsMissing="IsMissing",e.IsUnaired="IsUnaired"}(i||(i={})),function(e){e.IsSD="IsSD",e.IsHD="IsHD",e.Is4K="Is4K",e.Is3D="Is3D"}(a||(a={})),function(e){e.GridView="grid",e.ListView="list"}(o||(o={}));var M=r(68357),E=function(){return E=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},E.apply(this,arguments)},L=function(e,t){var r=[];return e!==M.$.Networks&&r.push(d.h.MediaSourceCount),t.ImageType===c._.Primary&&r.push(d.h.PrimaryImageAspectRatio),e===M.$.Networks&&r.push(d.h.DateCreated,d.h.PrimaryImageAspectRatio),r},R=function(e,t){return{fields:L(e,t)}},F=function(){return{limit:N.libraryPageSize(void 0)||void 0}},B=function(e){var t=null!==e.Alphabet?e.Alphabet:void 0;return{nameLessThan:"#"===t?"A":void 0,nameStartsWith:"#"===t?void 0:t}},D=function(e,t){var r,o,l,s,u,c,d,v;return E(E(E(E({},function(e){var t,r,i,a,o,l,s,u,c,d;return{hasSubtitles:!!(null===(r=null===(t=e.Filters)||void 0===t?void 0:t.Features)||void 0===r?void 0:r.includes(n.HasSubtitles))||void 0,hasTrailer:!!(null===(a=null===(i=e.Filters)||void 0===i?void 0:i.Features)||void 0===a?void 0:a.includes(n.HasTrailer))||void 0,hasSpecialFeature:!!(null===(l=null===(o=e.Filters)||void 0===o?void 0:o.Features)||void 0===l?void 0:l.includes(n.HasSpecialFeature))||void 0,hasThemeSong:!!(null===(u=null===(s=e.Filters)||void 0===s?void 0:s.Features)||void 0===u?void 0:u.includes(n.HasThemeSong))||void 0,hasThemeVideo:!!(null===(d=null===(c=e.Filters)||void 0===c?void 0:c.Features)||void 0===d?void 0:d.includes(n.HasThemeVideo))||void 0}}(t)),function(e,t){var r,n,a,o,l,s;return{parentIndexNumber:(null===(n=null===(r=t.Filters)||void 0===r?void 0:r.EpisodeFilter)||void 0===n?void 0:n.includes(i.ParentIndexNumber))?0:void 0,isMissing:e===M.$.Episodes?!!(null===(o=null===(a=t.Filters)||void 0===a?void 0:a.EpisodeFilter)||void 0===o?void 0:o.includes(i.IsMissing)):void 0,isUnaired:!!(null===(s=null===(l=t.Filters)||void 0===l?void 0:l.EpisodeFilter)||void 0===s?void 0:s.includes(i.IsUnaired))||void 0}}(e,t)),function(e){var t,r,n,i,o,l,s,u,c;return(null===(r=null===(t=e.Filters)||void 0===t?void 0:t.VideoBasicFilter)||void 0===r?void 0:r.includes(a.IsHD))&&(c=!0),(null===(i=null===(n=e.Filters)||void 0===n?void 0:n.VideoBasicFilter)||void 0===i?void 0:i.includes(a.IsSD))&&(c=!1),{isHd:c,is4K:!!(null===(l=null===(o=e.Filters)||void 0===o?void 0:o.VideoBasicFilter)||void 0===l?void 0:l.includes(a.Is4K))||void 0,is3D:!!(null===(u=null===(s=e.Filters)||void 0===s?void 0:s.VideoBasicFilter)||void 0===u?void 0:u.includes(a.Is3D))||void 0}}(t)),{seriesStatus:null===(r=null==t?void 0:t.Filters)||void 0===r?void 0:r.SeriesStatus,videoTypes:null===(o=null==t?void 0:t.Filters)||void 0===o?void 0:o.VideoTypes,filters:null===(l=null==t?void 0:t.Filters)||void 0===l?void 0:l.Status,genres:null===(s=null==t?void 0:t.Filters)||void 0===s?void 0:s.Genres,officialRatings:null===(u=null==t?void 0:t.Filters)||void 0===u?void 0:u.OfficialRatings,tags:null===(c=null==t?void 0:t.Filters)||void 0===c?void 0:c.Tags,years:null===(d=null==t?void 0:t.Filters)||void 0===d?void 0:d.Years,studioIds:null===(v=null==t?void 0:t.Filters)||void 0===v?void 0:v.StudioIds})},V=function(e){return e===M.$.Episodes?p.X.SeriesSortName:p.X.SortName};function U(e){var t,r,n;return{"data-context":e.context,"data-collectionid":e.collectionId,"data-playlistid":e.playlistId,"data-parentid":e.parentId,"data-playlistitemid":e.itemPlaylistItemId,"data-action":A.Z.tv?e.action:null,"data-serverid":e.itemServerId,"data-id":e.itemId,"data-timerid":e.itemTimerId,"data-seriestimerid":e.itemSeriesTimerId,"data-channelid":e.itemChannelId,"data-type":e.itemType,"data-mediatype":e.itemMediaType,"data-collectiontype":e.itemCollectionType,"data-isfolder":e.itemIsFolder,"data-path":e.itemPath,"data-prefix":e.prefix,"data-positionticks":null===(t=e.itemUserData)||void 0===t?void 0:t.PlaybackPositionTicks,"data-startdate":null===(r=e.itemStartDate)||void 0===r?void 0:r.toString(),"data-enddate":null===(n=e.itemEndDate)||void 0===n?void 0:n.toString()}}var $=r(16918),_=r(42571),H=r(73068),q=function(){return q=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},q.apply(this,arguments)},W=function(){var e={fields:[d.h.PrimaryImageAspectRatio],filters:[v.y.IsPlayed],IsPlayed:!0,imageTypeLimit:1,enableImageTypes:[c._.Primary,c._.Backdrop,c._.Thumb]};return[{name:"HeaderContinueWatching",apiMethod:H.Im.ResumeItems,itemTypes:"Movie",type:H.bA.ContinueWatchingMovies,parametersOptions:{includeItemTypes:[$.k.Movie]},cardOptions:{overlayPlayButton:!0,preferThumb:!0,shape:_.Mg.BackdropOverflow,showYear:!0}},{name:"HeaderLatestMovies",apiMethod:H.Im.LatestMedia,itemTypes:"Movie",type:H.bA.LatestMovies,parametersOptions:{includeItemTypes:[$.k.Movie]},cardOptions:{overlayPlayButton:!0,shape:_.Mg.PortraitOverflow,showYear:!0}},{name:"HeaderContinueWatching",apiMethod:H.Im.ResumeItems,itemTypes:"Episode",type:H.bA.ContinueWatchingEpisode,parametersOptions:{includeItemTypes:[$.k.Episode]},cardOptions:{overlayPlayButton:!0,shape:_.Mg.BackdropOverflow,preferThumb:!0,inheritThumb:!N.useEpisodeImagesInNextUpAndResume(void 0),showYear:!0}},{name:"HeaderLatestEpisodes",apiMethod:H.Im.LatestMedia,itemTypes:"Episode",type:H.bA.LatestEpisode,parametersOptions:{includeItemTypes:[$.k.Episode]},cardOptions:{overlayPlayButton:!0,shape:_.Mg.BackdropOverflow,preferThumb:!0,showSeriesYear:!0,showParentTitle:!0,showUnplayedIndicator:!1,showChildCountIndicator:!0,lines:2}},{name:"NextUp",apiMethod:H.Im.NextUp,itemTypes:"nextup",type:H.bA.NextUp,cardOptions:{overlayPlayButton:!0,shape:_.Mg.BackdropOverflow,preferThumb:!0,inheritThumb:!N.useEpisodeImagesInNextUpAndResume(void 0),showParentTitle:!0}},{name:"HeaderLatestMusic",apiMethod:H.Im.LatestMedia,itemTypes:"Audio",type:H.bA.LatestMusic,parametersOptions:{includeItemTypes:[$.k.Audio]},cardOptions:{showUnplayedIndicator:!1,shape:_.Mg.SquareOverflow,showParentTitle:!0,overlayPlayButton:!0,coverImage:!0}},{name:"HeaderRecentlyPlayed",itemTypes:"Audio",type:H.bA.RecentlyPlayedMusic,parametersOptions:q({sortBy:[p.X.DatePlayed],sortOrder:[m.A.Descending],includeItemTypes:[$.k.Audio]},e),cardOptions:{showUnplayedIndicator:!1,shape:_.Mg.SquareOverflow,showParentTitle:!0,action:"instantmix",overlayMoreButton:!0,coverImage:!0}},{name:"HeaderFrequentlyPlayed",itemTypes:"Audio",type:H.bA.FrequentlyPlayedMusic,parametersOptions:q({sortBy:[p.X.PlayCount],sortOrder:[m.A.Descending],includeItemTypes:[$.k.Audio]},e),cardOptions:{showUnplayedIndicator:!1,shape:_.Mg.SquareOverflow,showParentTitle:!0,action:"instantmix",overlayMoreButton:!0,coverImage:!0}}]},X=function(){var e={inheritThumb:!1,shape:_.Mg.AutoOverflow,defaultShape:_.Mg.BackdropOverflow,centerText:!0,coverImage:!0,overlayText:!1,lazy:!0,showAirTime:!0};return[{name:"HeaderOnNow",itemTypes:"Programs",apiMethod:H.Im.RecommendedPrograms,type:H.bA.ActivePrograms,parametersOptions:{isAiring:!0},cardOptions:q({showParentTitle:!0,showTitle:!0,showAirDateTime:!1,showAirEndTime:!0,overlayPlayButton:!0,overlayMoreButton:!1,overlayInfoButton:!1,preferThumb:"auto"},e)},{name:"Shows",itemTypes:"Programs",apiMethod:H.Im.LiveTvPrograms,type:H.bA.UpcomingEpisodes,parametersOptions:{isAiring:!1,hasAired:!1,isMovie:!1,isSports:!1,isKids:!1,isNews:!1,isSeries:!0},cardOptions:q({showParentTitle:!0,showTitle:!0,overlayPlayButton:!1,overlayMoreButton:!1,overlayInfoButton:!1,preferThumb:"auto",showAirDateTime:!0},e)},{name:"Movies",itemTypes:"Programs",apiMethod:H.Im.LiveTvPrograms,type:H.bA.UpcomingMovies,parametersOptions:{isAiring:!1,hasAired:!1,isMovie:!0},cardOptions:q({preferThumb:null,showParentTitle:!1,showTitle:!0,overlayPlayButton:!1,overlayMoreButton:!1,overlayInfoButton:!1,showAirDateTime:!0},e)},{name:"Sports",itemTypes:"Programs",apiMethod:H.Im.LiveTvPrograms,type:H.bA.UpcomingSports,parametersOptions:{isAiring:!1,hasAired:!1,isSports:!0},cardOptions:q({showParentTitle:!0,showTitle:!0,overlayPlayButton:!1,overlayMoreButton:!1,overlayInfoButton:!1,preferThumb:"auto",showAirDateTime:!0},e)},{name:"HeaderForKids",itemTypes:"Programs",apiMethod:H.Im.LiveTvPrograms,type:H.bA.UpcomingKids,parametersOptions:{isAiring:!1,hasAired:!1,isKids:!0},cardOptions:q({showParentTitle:!0,showTitle:!0,overlayPlayButton:!1,overlayMoreButton:!1,overlayInfoButton:!1,preferThumb:"auto",showAirDateTime:!0},e)},{name:"News",itemTypes:"Programs",apiMethod:H.Im.LiveTvPrograms,type:H.bA.UpcomingNews,parametersOptions:{isAiring:!1,hasAired:!1,isNews:!0},cardOptions:q({overlayPlayButton:!1,overlayMoreButton:!1,overlayInfoButton:!1,showParentTitleOrTitle:!0,showTitle:!1,showParentTitle:!1,preferThumb:"auto",showAirDateTime:!0},e)},{name:"HeaderLatestRecordings",itemTypes:"Recordings",apiMethod:H.Im.Recordings,type:H.bA.LatestRecordings,parametersOptions:{limit:12,imageTypeLimit:1},cardOptions:{showYear:!0,lines:2,shape:_.Mg.AutoOverflow,defaultShape:_.Mg.BackdropOverflow,showTitle:!0,showParentTitle:!0,coverImage:!0,cardLayout:!1,centerText:!0,preferThumb:"auto",overlayText:!1}},{name:"HeaderAllRecordings",itemTypes:"Recordings",apiMethod:H.Im.RecordingFolders,type:H.bA.RecordingFolders,cardOptions:{showYear:!1,showParentTitle:!1,shape:_.Mg.AutoOverflow,defaultShape:_.Mg.BackdropOverflow,showTitle:!0,coverImage:!0,cardLayout:!1,centerText:!0,preferThumb:"auto",overlayText:!1}},{name:"HeaderActiveRecordings",itemTypes:"Recordings",apiMethod:H.Im.Recordings,type:H.bA.ActiveRecordings,parametersOptions:{isInProgress:!0},cardOptions:{shape:_.Mg.AutoOverflow,defaultShape:_.Mg.Backdrop,showParentTitle:!1,showParentTitleOrTitle:!0,showTitle:!0,showAirTime:!0,showAirEndTime:!0,showChannelName:!0,coverImage:!0,overlayText:!1,overlayMoreButton:!0,cardLayout:!1,centerText:!0,preferThumb:"auto"}}]},G=function(){return G=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},G.apply(this,arguments)},Y=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,l)}s((n=n.apply(e,t||[])).next())}))},K=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&l[0]?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;switch(n=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){o.label=l[1];break}if(6===l[0]&&o.label<i[1]){o.label=i[1],i=l;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(l);break}i[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],n=0}finally{r=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},z=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Q(e){var t,r,n=[],i="",a=[];try{for(var o=z(e),l=o.next();!l.done;l=o.next()){var s=l.value,u="";if(s.PremiereDate)try{var c=j.ZP.parseISO8601Date(s.PremiereDate,!0);u=j.ZP.isRelativeDay(c,-1)?O.ZP.translate("Yesterday"):j.ZP.toLocaleDateString(c,{weekday:"long",month:"short",day:"numeric"})}catch(e){console.error("error parsing timestamp for upcoming tv shows")}u!=i?(a.length&&n.push({name:i,items:a}),i=u,a=[s]):a.push(s)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n}var J=function(e){var t=(0,k.h_)();return(0,Z.a)({queryKey:["GroupsUpcomingEpisodes",e],queryFn:function(r){var n=r.signal;return function(e,t,r){return Y(void 0,void 0,void 0,(function(){var n,i,a,o;return K(this,(function(l){switch(l.label){case 0:return n=e.api,i=e.user,n&&(null==i?void 0:i.Id)?[4,(0,T.C)(n).getUpcomingEpisodes({userId:i.Id,limit:25,fields:[d.h.AirTime],parentId:null!=t?t:void 0,imageTypeLimit:1,enableImageTypes:[c._.Primary,c._.Backdrop,c._.Thumb]},{signal:null==r?void 0:r.signal})]:[3,2];case 1:return a=l.sent(),[2,Q(null!==(o=a.data.Items)&&void 0!==o?o:[])];case 2:return[2]}}))}))}(t,e,{signal:n})},enabled:!!e})};function ee(e,t){var r,n,i=e.map((function(e){return e.Type="Timer",e})),a=[],o="",l=[];try{for(var s=z(i),u=s.next();!u.done;u=s.next()){var c=u.value,d="";if(!1!==t&&c.StartDate)try{var v=j.ZP.parseISO8601Date(c.StartDate,!0);d=j.ZP.toLocaleDateString(v,{weekday:"long",month:"short",day:"numeric"})}catch(e){console.error("error parsing premiereDate:"+c.StartDate+"; error: "+e)}d!=o?(l.length&&a.push({name:o,timerInfo:l}),o=d,l=[c]):l.push(c)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return l.length&&a.push({name:o,timerInfo:l}),a}var te=function(e,t,r,n){return Y(void 0,void 0,void 0,(function(){var i,a,o;return K(this,(function(l){switch(l.label){case 0:if(i=e.api,a=e.user,!i||!(null==a?void 0:a.Id))return[3,18];switch(o=void 0,r.apiMethod){case H.Im.RecommendedPrograms:return[3,1];case H.Im.LiveTvPrograms:return[3,3];case H.Im.Recordings:return[3,5];case H.Im.RecordingFolders:return[3,7];case H.Im.NextUp:return[3,9];case H.Im.ResumeItems:return[3,11];case H.Im.LatestMedia:return[3,13]}return[3,15];case 1:return[4,(0,S.m)(i).getRecommendedPrograms(G({userId:a.Id,limit:12,imageTypeLimit:1,enableImageTypes:[c._.Primary,c._.Thumb,c._.Backdrop],enableTotalRecordCount:!1,fields:[d.h.ChannelInfo,d.h.PrimaryImageAspectRatio,d.h.MediaSourceCount]},r.parametersOptions),{signal:null==n?void 0:n.signal})];case 2:case 4:case 6:case 8:case 10:case 12:case 16:return o=l.sent().data.Items,[3,17];case 3:return[4,(0,S.m)(i).getLiveTvPrograms(G({userId:a.Id,limit:12,imageTypeLimit:1,enableImageTypes:[c._.Primary,c._.Thumb,c._.Backdrop],enableTotalRecordCount:!1,fields:[d.h.ChannelInfo,d.h.PrimaryImageAspectRatio]},r.parametersOptions),{signal:null==n?void 0:n.signal})];case 5:return[4,(0,S.m)(i).getRecordings(G({userId:a.Id,enableImageTypes:[c._.Primary,c._.Thumb,c._.Backdrop],enableTotalRecordCount:!1,fields:[d.h.CanDelete,d.h.PrimaryImageAspectRatio]},r.parametersOptions),{signal:null==n?void 0:n.signal})];case 7:return[4,(0,S.m)(i).getRecordingFolders({userId:a.Id},{signal:null==n?void 0:n.signal})];case 9:return[4,(0,T.C)(i).getNextUp(G({userId:a.Id,limit:25,fields:[d.h.PrimaryImageAspectRatio,d.h.MediaSourceCount],parentId:null!=t?t:void 0,imageTypeLimit:1,enableImageTypes:[c._.Primary,c._.Backdrop,c._.Thumb],enableTotalRecordCount:!1},r.parametersOptions),{signal:null==n?void 0:n.signal})];case 11:return[4,(0,y.$)(i).getResumeItems(G({userId:a.Id,parentId:null!=t?t:void 0,fields:[d.h.PrimaryImageAspectRatio,d.h.MediaSourceCount],imageTypeLimit:1,enableImageTypes:[c._.Thumb],enableTotalRecordCount:!1},r.parametersOptions),{signal:null==n?void 0:n.signal})];case 13:return[4,(0,x.U)(i).getLatestMedia(G({userId:a.Id,fields:[d.h.PrimaryImageAspectRatio,d.h.MediaSourceCount],parentId:null!=t?t:void 0,imageTypeLimit:1,enableImageTypes:[c._.Primary,c._.Thumb]},r.parametersOptions),{signal:null==n?void 0:n.signal})];case 14:return o=l.sent().data,[3,17];case 15:return[4,(0,y.$)(i).getItems(G({userId:a.Id,parentId:null!=t?t:void 0,recursive:!0,limit:25,enableTotalRecordCount:!1},r.parametersOptions),{signal:null==n?void 0:n.signal})];case 17:return[2,o];case 18:return[2]}}))}))},re=function(e,t,r,n,i){return Y(void 0,void 0,void 0,(function(){var a,o,l,s,u,c,d,v;return K(this,(function(m){switch(m.label){case 0:n&&(r=r.filter((function(e){return n.includes(e.type)}))),a=[],m.label=1;case 1:m.trys.push([1,6,7,8]),o=z(r),l=o.next(),m.label=2;case 2:return l.done?[3,5]:(s=l.value,[4,te(e,t,s,i)]);case 3:(u=m.sent())&&u.length>0&&a.push({section:s,items:u}),m.label=4;case 4:return l=o.next(),[3,2];case 5:return[3,8];case 6:return c=m.sent(),d={error:c},[3,8];case 7:try{l&&!l.done&&(v=o.return)&&v.call(o)}finally{if(d)throw d.error}return[7];case 8:return[2,a]}}))}))},ne=r(66560),ie=r(81905),ae=r(90005),oe=r.n(ae),le=r(62664),se=r(28172),ue=r(48036),ce=r(74131),de=r(44038),ve=r(58517),me=r(72365),pe=r(57366),fe=r(85432),he=r(2513),ge=r(61008),ye=r(8156),be=r(34862),Ie=r(34643),Te=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,l)}s((n=n.apply(e,t||[])).next())}))},xe=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&l[0]?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;switch(n=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){o.label=l[1];break}if(6===l[0]&&o.label<i[1]){o.label=i[1],i=l;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(l);break}i[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],n=0}finally{r=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}};function Pe(e){return e.preventDefault(),e.stopPropagation(),!1}var Se=function(e){var t,r=e.className,n=e.isContextMenuEnabled,i=e.isMultiSelectEnabled,a=e.isDragreOrderEnabled,o=e.eventsToMonitor,u=void 0===o?[]:o,c=e.parentId,d=e.queryKey,v=e.reloadItems,m=e.getItemsHtml,p=e.children,f=(0,ue.NL)(),h=(t=(0,k.h_)(),(0,C.D)({mutationFn:function(e){return function(e,t){return Y(void 0,void 0,void 0,(function(){var r,n;return K(this,(function(i){switch(i.label){case 0:return r=e.api,n=e.user,r&&(null==n?void 0:n.Id)?[4,(0,P.d)(r).moveItem(G({},t))]:[3,2];case 1:return[2,i.sent().data];case 2:return[2]}}))}))}(t,e)}})).mutateAsync,g=(0,s.useRef)(null),y=(0,s.useRef)(null),b=(0,s.useRef)(null),I=(0,s.useRef)(null),T=(0,s.useCallback)((function(e){var t=g.current,r=y.current;r&&!1===r.onContainerClick.call(t,e)||ge.ZP.onClick.call(t,e)}),[]),x=(0,s.useCallback)((function(e){var t=e.target,r=me.ZP.parentWithAttribute(t,"data-id");if(null==r?void 0:r.getAttribute("data-serverid"))return ve.default.handleCommand("menu",{sourceElement:r}),e.preventDefault(),e.stopPropagation(),!1}),[]),S=(0,s.useCallback)((function(e){y.current=new ye.default({container:e,bindOnClick:!1})}),[]),w=(0,s.useCallback)((function(){y.current&&(y.current.destroy(),y.current=null)}),[]),Z=(0,s.useCallback)((function(e){return Te(void 0,void 0,void 0,(function(){var t,r,n,i,a,o;return xe(this,(function(l){switch(l.label){case 0:if(t=e.item,r=e.newIndex,n=t.getAttribute("data-playlistitemid"),!(i=t.getAttribute("data-playlistid")))return a=e.oldIndex,t.dispatchEvent(new CustomEvent("itemdrop",{detail:{oldIndex:a,newIndex:r,playlistItemId:n},bubbles:!0,cancelable:!1})),[2];if(!n)throw new Error("null itemId");if(!r)throw new Error("null newIndex");l.label=1;case 1:return l.trys.push([1,3,,4]),be.ZP.show(),[4,h({playlistId:i,itemId:n,newIndex:r})];case 2:return l.sent(),be.ZP.hide(),[3,4];case 3:return o=l.sent(),console.error("[Drag-Drop] error playlists Move Item: "+o),be.ZP.hide(),v?(v(),[3,4]):[2];case 4:return[2]}}))}))}),[h,v]),j=(0,s.useCallback)((function(e){b.current=se.ZP.create(e,{draggable:".listItem",handle:".listViewDragHandle",onEnd:function(e){return Z(e)}})}),[Z]),O=(0,s.useCallback)((function(){b.current&&(b.current.destroy(),b.current=null)}),[]),N=(0,s.useCallback)((function(){return Te(void 0,void 0,void 0,(function(){return xe(this,(function(e){switch(e.label){case 0:return[4,f.invalidateQueries({queryKey:d,type:"all",refetchType:"active"})];case 1:return e.sent(),[2]}}))}))}),[f,d]),M=(0,s.useCallback)((function(e){v&&(!0===e?v():I.current=setTimeout((function(){return v()}),1e4))}),[v]),E=(0,s.useCallback)((function(){return Te(void 0,void 0,void 0,(function(){return xe(this,(function(e){switch(e.label){case 0:return[4,N()];case 1:return e.sent(),[2]}}))}))}),[N]),L=(0,s.useCallback)((function(){return Te(void 0,void 0,void 0,(function(){return xe(this,(function(e){switch(e.label){case 0:return[4,N()];case 1:return e.sent(),[2]}}))}))}),[N]),R=(0,s.useCallback)((function(){return Te(void 0,void 0,void 0,(function(){return xe(this,(function(e){switch(e.label){case 0:return[4,N()];case 1:return e.sent(),[2]}}))}))}),[N]),F=(0,s.useCallback)((function(){return Te(void 0,void 0,void 0,(function(){return xe(this,(function(e){switch(e.label){case 0:return[4,N()];case 1:return e.sent(),[2]}}))}))}),[N]),B=(0,s.useCallback)((function(){return Te(void 0,void 0,void 0,(function(){return xe(this,(function(e){switch(e.label){case 0:return[4,N()];case 1:return e.sent(),[2]}}))}))}),[N]),D=(0,s.useCallback)((function(e,t,r){var n,i,a,o,l;if(!u.includes("seriestimers")&&!u.includes("timers")){var s=null!==(n=r.ItemsAdded)&&void 0!==n?n:[],d=null!==(i=r.ItemsRemoved)&&void 0!==i?i:[];if(s.length||d.length){if(c){var v=null!==(a=r.FoldersAddedTo)&&void 0!==a?a:[],m=null!==(o=r.FoldersRemovedFrom)&&void 0!==o?o:[],p=null!==(l=r.CollectionFolders)&&void 0!==l?l:[];if(-1===v.indexOf(c)&&-1===m.indexOf(c)&&-1===p.indexOf(c))return}M(!1)}}}),[u,M,c]),V=(0,s.useCallback)((function(e,t,r){var n=r.state;if(n.NowPlayingItem&&"Video"===n.NowPlayingItem.MediaType){if(u.includes("videoplayback"))return void M(!0)}else if(n.NowPlayingItem&&"Audio"===n.NowPlayingItem.MediaType&&u.includes("videoplayback"))return void M(!0)}),[u,M]),U=(0,s.useCallback)((function(e,t){if(t){var r=e.querySelector('[data-id="'+t+'"]');if(r)try{return void Ie.Z.focus(r)}catch(e){console.error(e)}}Ie.Z.autoFocus(e)}),[]);(0,s.useEffect)((function(){var e=g.current;if(e){var t,r,n=document.activeElement;(null==e?void 0:e.contains(n))&&(r=!0,t=null==n?void 0:n.getAttribute("data-id")),m&&(e.innerHTML=m(),fe.default.lazyChildren(e)),r&&U(e,t)}else console.error("Unexpected null reference")}),[m,U]),(0,s.useEffect)((function(){var e=g.current;if(e)return(A.Z.desktop||A.Z.mobile&&!1!==i)&&S(e),!0===a&&j(e),e.addEventListener("click",T),pe.Z.touch?e.addEventListener("contextmenu",Pe):!1!==n&&e.addEventListener("contextmenu",x),ge.ZP.on(e,{click:!1}),ce.Z.on(de.default,"UserDataChanged",E),ce.Z.on(de.default,"TimerCreated",L),ce.Z.on(de.default,"TimerCancelled",F),ce.Z.on(de.default,"SeriesTimerCreated",R),ce.Z.on(de.default,"SeriesTimerCancelled",B),ce.Z.on(de.default,"LibraryChanged",D),ce.Z.on(he.O,"playbackstop",V),function(){I.current&&clearTimeout(I.current),w(),O(),e.removeEventListener("click",T),e.removeEventListener("contextmenu",x),e.removeEventListener("contextmenu",Pe),ge.ZP.off(e,{click:!1}),ce.Z.off(de.default,"UserDataChanged",E),ce.Z.off(de.default,"TimerCreated",L),ce.Z.off(de.default,"TimerCancelled",F),ce.Z.off(de.default,"SeriesTimerCreated",R),ce.Z.off(de.default,"SeriesTimerCancelled",B),ce.Z.off(de.default,"LibraryChanged",D),ce.Z.off(he.O,"playbackstop",V)};console.error("Unexpected null reference")}),[O,w,j,S,n,a,i,T,x,D,V,B,R,F,L,E]);var $=oe()("itemsContainer",{"itemsContainer-tv":A.Z.tv},r);return(0,l.jsx)(le.Z,{ref:g,className:$,children:p})},we=r(22406),Ze=r(15723),Ce=function(){return Ce=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ce.apply(this,arguments)},je=function(e){var t=e.className,r=e.title,n=e.icon,i=e.iconClassName,a=e.disabled,o=void 0!==a&&a,s=e.onClick,u=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(e,["className","title","icon","iconClassName","disabled","onClick"]),c=oe()("paper-icon-button-light",t,{"show-focus":A.Z.tv}),d=oe()("material-icons",i,n);return(0,l.jsx)("button",Ce({className:c,title:r,disabled:o,onClick:s},u,{children:(0,l.jsx)("span",{className:d,"aria-hidden":"true"})}))},Oe=r(65406),ke=function(e){var t=e.scrollerFactoryRef,r=e.scrollState,n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}((0,s.useState)(0),2),i=n[0],a=n[1],o=(0,s.useRef)(null),u=(0,s.useCallback)((function(e){(0,Oe.P)({direction:e,scroller:t.current,scrollState:r})}),[r,t]),c=(0,s.useCallback)((function(){return u(Oe.I.LEFT)}),[u]),d=(0,s.useCallback)((function(){return u(Oe.I.RIGHT)}),[u]);return(0,s.useEffect)((function(){var e;(null===(e=o.current)||void 0===e?void 0:e.parentNode).classList.add("emby-scroller-container");var t=r.scrollPos;O.ZP.getIsElementRTL(o.current)&&(t*=-1),a(t)}),[r.scrollPos]),(0,l.jsxs)("div",{ref:o,className:"emby-scrollbuttons padded-right",children:[(0,l.jsx)(je,{type:"button",className:"emby-scrollbuttons-button btnPrev",onClick:c,icon:"chevron_left",disabled:i<=0}),(0,l.jsx)(je,{type:"button",className:"emby-scrollbuttons-button btnNext",onClick:d,icon:"chevron_right",disabled:r.scrollWidth>0&&i+r.scrollSize>=r.scrollWidth})]})},Ne=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o},Ae=function(e){var t=e.className,r=e.isHorizontalEnabled,n=e.isMouseWheelEnabled,i=e.isCenterFocusEnabled,a=e.isScrollButtonsEnabled,o=e.isSkipFocusWhenVisibleEnabled,u=e.isScrollEventEnabled,c=e.isHideScrollbarEnabled,d=e.isAllowNativeSmoothScrollEnabled,v=e.children,m=Ne(function(){var e=(0,s.useRef)(null),t=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}((0,s.useState)({width:0,height:0}),2),r=t[0],n=t[1];return(0,s.useLayoutEffect)((function(){e.current&&n(e.current.getBoundingClientRect())}),[e]),(0,we.Z)(e,(function(e){return n(e.contentRect)})),[e,r]}(),2),p=m[0],f=m[1],h=Ne((0,s.useState)(!1),2),g=h[0],y=h[1],b=Ne((0,s.useState)({scrollSize:f.width,scrollPos:0,scrollWidth:0}),2),I=b[0],T=b[1],x=(0,s.useRef)(null),P=(0,s.useCallback)((function(){if(x.current)return x.current.getScrollSlider()}),[x]),S=(0,s.useCallback)((function(){return x.current?x.current.getScrollPosition():0}),[x]),w=(0,s.useCallback)((function(){return x.current?x.current.getScrollSize():0}),[x]),Z=(0,s.useCallback)((function(e,t){var r=e.getPropertyValue(t);return r&&(r=r.replace("px",""))?isNaN(parseInt(r,10))?0:Number(r):0}),[]),C=(0,s.useCallback)((function(){var e=null==p?void 0:p.current,t=e.offsetWidth,r=window.getComputedStyle(e,null),n=Z(r,"padding-left");n&&(t-=n);var i=Z(r,"padding-right");i&&(t-=i);var a=P();return r=window.getComputedStyle(a,null),(n=Z(r,"padding-left"))&&(t-=n),(i=Z(r,"padding-right"))&&(t-=i),t}),[P,Z,p]),j=(0,s.useCallback)((function(){var e=C(),t=S(),r=w();T({scrollSize:e,scrollPos:t,scrollWidth:r})}),[S,C,w]),O=(0,s.useCallback)((function(e,t){me.ZP.addEventListener(e,"focus",(function(e){var r=Ie.Z.focusableParent(e.target);r&&t.toCenter(r,!1)}),{capture:!0,passive:!0})}),[]),k=(0,s.useCallback)((function(e,t){x.current&&me.ZP.addEventListener(x.current.getScrollFrame(),x.current.getScrollEventName(),e,t)}),[x]),N=(0,s.useCallback)((function(e,t){x.current&&me.ZP.removeEventListener(x.current.getScrollFrame(),x.current.getScrollEventName(),e,t)}),[x]);return(0,s.useEffect)((function(){var e,t=!1!==r,l=!1!==a,s=!1!==n,v=A.Z.desktop&&t&&l,m={horizontal:t,mouseDragging:1,mouseWheel:s,touchDragging:1,slidee:null===(e=p.current)||void 0===e?void 0:e.querySelector(".scrollSlider"),scrollBy:200,speed:t?270:240,elasticBounds:1,dragHandle:1,autoImmediate:!0,skipSlideToWhenVisible:!0===o,dispatchScrollEvent:v||!0===u,hideScrollbar:v||!0===c,allowNativeSmoothScroll:!0===d&&!v,allowNativeScroll:!v,forceHideScrollbars:v,requireAnimation:v&&pe.Z.edge};return x.current=new Ze.Z(p.current,m),x.current.init(),x.current.reload(),A.Z.tv&&i&&O(p.current,x.current),v&&(k(j,{capture:!1,passive:!0}),y(!0)),function(){x.current&&(x.current.destroy(),x.current=null),N(j,{capture:!1,passive:!0})}}),[k,O,d,i,c,r,n,a,u,o,j,N,p]),(0,l.jsxs)(l.Fragment,{children:[g&&I.scrollWidth>I.scrollSize+20&&(0,l.jsx)(ke,{scrollerFactoryRef:x,scrollState:I}),(0,l.jsx)("div",{ref:p,className:oe()("emby-scroller",t),children:v})]})},Me=r(92581),Ee=r(92811),Le=function(){return Le=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Le.apply(this,arguments)},Re=function(e){var t=e.className,r=e.isAutoHideEnabled,n=e.href,i=e.target,a=e.children,o=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(e,["className","isAutoHideEnabled","href","target","children"]),u=(0,s.useCallback)((function(e){var t=n||"";"#"!==t?i?Ee.M.supports("targetblank")||(e.preventDefault(),Me.Z.openUrl(t)):(e.preventDefault(),ne.appRouter.show(t).catch((function(e){console.error("[LinkButton] failed to show url",t,e)}))):e.preventDefault()}),[n,i]);if(!0===r&&!Ee.M.supports("externallinks"))return null;var c=oe()("emby-button",t,{"show-focus":A.Z.tv});return(0,l.jsx)("a",Le({className:c,href:n,target:i,onClick:u},o,{children:a}))},Fe=r(61570),Be=r(78766),De=r(84483);function Ve(e,t){if(e&&t)return Math.round(e/t)}function Ue(e){return!(!e.preferThumb||!1===e.showTitle)}function $e(e,t){return!(!e||!t)&&Math.abs(e-t)/t<=.2}var _e=function(e){var t,r,n,i,a=e.item,o=e.cardOptions,l=e.shape,s=(0,k.h_)().api,u=function(e,t,r){var n,i,a,o,l,s,u,d,v,m,p,f,h=t.width,g=e.PrimaryImageAspectRatio,y=!1,b=!1,I=(0,De.XE)(r);if(function(e,t){return Boolean(t.preferThumb)&&!(e===$.k.Program||e===$.k.Episode)}(e.Type,t)){var T=function(e,t){var r,n,i,a,o,l,s=!1;return(null===(r=e.ImageTags)||void 0===r?void 0:r.Thumb)?(a=c._.Thumb,l=e.ImageTags.Thumb,o=e.Id):e.SeriesThumbImageTag&&!1!==t.inheritThumb?(a=c._.Thumb,l=e.SeriesThumbImageTag,o=e.SeriesId):e.ParentThumbItemId&&!1!==t.inheritThumb&&"Photo"!==e.MediaType?(a=c._.Thumb,l=e.ParentThumbImageTag,o=e.ParentThumbItemId):(null===(n=e.BackdropImageTags)||void 0===n?void 0:n.length)?(a=c._.Backdrop,l=e.BackdropImageTags[0],o=e.Id,s=!0):(null===(i=e.ParentBackdropImageTags)||void 0===i?void 0:i.length)&&!1!==t.inheritThumb&&e.Type===$.k.Episode&&(a=c._.Backdrop,l=e.ParentBackdropImageTags[0],o=e.ParentBackdropItemId),{itemId:o,imgTag:l,imgType:a,forceName:s}}(e,t);p=T.imgType,m=T.imgTag,f=T.itemId,y=T.forceName}else if(function(e,t,r){return(t.preferBanner||r===_.Mg.Banner)&&Boolean(e)}(null===(n=e.ImageTags)||void 0===n?void 0:n.Banner,t,r))p=c._.Banner,m=null===(i=e.ImageTags)||void 0===i?void 0:i.Banner,f=e.Id;else if(function(e,t){return!0===t.preferDisc&&Boolean(e)}(null===(a=e.ImageTags)||void 0===a?void 0:a.Disc,t))p=c._.Disc,m=null===(o=e.ImageTags)||void 0===o?void 0:o.Disc,f=e.Id;else if(t.preferLogo){var x=function(e){var t,r,n,i;return(null===(t=e.ImageTags)||void 0===t?void 0:t.Logo)?(r=c._.Logo,i=e.ImageTags.Logo,n=e.Id):e.ParentLogoImageTag&&e.ParentLogoItemId&&(r=c._.Logo,i=e.ParentLogoImageTag,n=e.ParentLogoItemId),{itemId:n,imgTag:i,imgType:r}}(e);p=x.imgType,m=x.imgType,f=x.itemId}else!function(e){var t;return Boolean(null===(t=e.ImageTags)||void 0===t?void 0:t.Primary)&&(e.Type!==$.k.Episode||0!==e.ChildCount)}(e)?e.SeriesPrimaryImageTag?(p=c._.Primary,m=e.SeriesPrimaryImageTag,f=e.SeriesId):e.PrimaryImageTag?(p=c._.Primary,m=e.PrimaryImageTag,f=e.PrimaryImageItemId,v=Ve(h,g),y=Ue(t),b=$e(g,I)):e.ParentPrimaryImageTag?(p=c._.Primary,m=e.ParentPrimaryImageTag,f=e.ParentPrimaryImageItemId):function(e){return Boolean(e.AlbumId)&&Boolean(e.AlbumPrimaryImageTag)}(e)?(p=c._.Primary,m=e.AlbumPrimaryImageTag,f=e.AlbumId,v=Ve(h,g),y=Ue(t),b=$e(g,I)):function(e){var t;return e.Type===$.k.Season&&Boolean(null===(t=e.ImageTags)||void 0===t?void 0:t.Thumb)}(e)?(p=c._.Thumb,m=null===(s=e.ImageTags)||void 0===s?void 0:s.Thumb,f=e.Id):(null===(u=e.BackdropImageTags)||void 0===u?void 0:u.length)?(p=c._.Backdrop,m=e.BackdropImageTags[0],f=e.Id):function(e,t){return Boolean(e)&&!1!==t.inheritThumb}(e.SeriesThumbImageTag,t)?(p=c._.Thumb,m=e.SeriesThumbImageTag,f=e.SeriesId):function(e,t){return Boolean(e)&&!1!==t.inheritThumb}(e.ParentThumbItemId,t)?(p=c._.Thumb,m=e.ParentThumbImageTag,f=e.ParentThumbItemId):(null===(d=e.ParentBackdropImageTags)||void 0===d?void 0:d.length)&&!1!==t.inheritThumb&&(p=c._.Backdrop,m=e.ParentBackdropImageTags[0],f=e.ParentBackdropItemId):(p=c._.Primary,m=null===(l=e.ImageTags)||void 0===l?void 0:l.Primary,f=e.Id,v=Ve(h,g),y=Ue(t),b=$e(g,I));return{imgType:p,imgTag:m,itemId:f,width:h,height:v,forceName:y,coverImage:b}}(a,o,l),d=u.width,v=u.height,m=u.imgTag,p=u.imgType,f=u.itemId,h=window.devicePixelRatio||1;return s&&m&&p&&f&&(d&&(d=Math.round(d*h)),v&&(v=Math.round(v*h)),n=(0,Be.I)(s).getItemImageUrlById(f,p,{quality:96,fillWidth:d,fillHeight:v,tag:m}),i=null===(r=null===(t=null==a?void 0:a.ImageBlurHashes)||void 0===t?void 0:t[p])||void 0===r?void 0:r[m]),{imgUrl:n,blurhash:i,forceName:u.forceName,coverImage:u.coverImage}},He=function(){return He=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},He.apply(this,arguments)},qe=function(e){var t=e.className,r=e.dataAttributes,n=e.children;return A.Z.tv?(0,l.jsx)("button",He({className:t},r,{children:n})):(0,l.jsx)("div",He({className:t},r,{children:n}))},We=r(79881),Xe=r(38380),Ge=r(12192),Ye=r(17200),Ke=function(e){var t=e.className,r=e.action,n=e.title,i=e.iconClassName;return(0,l.jsx)(Ge.Z,{className:t,"data-action":r,title:O.ZP.translate(n),children:(0,l.jsx)(Ye.Z,{className:i})})},ze=r(1195),Qe=function(e){var t=e.className,r=e.iconClassName;return(0,l.jsx)(Ge.Z,{className:t,"data-action":"menu",title:O.ZP.translate("ButtonMore"),children:(0,l.jsx)(ze.Z,{className:r})})},Je=function(e,t){return e&&!t.IsPlaceHolder&&(t.LocationType!==We._.Virtual||!t.MediaType||t.Type===$.k.Program)&&t.Type!==$.k.Person},et=function(e){var t=e.item,r=e.cardOptions,n=r.overlayPlayButton;null!=n||r.overlayMoreButton||r.overlayInfoButton||r.cardLayout||(n="Video"===t.MediaType);var i=ne.appRouter.getRouteUrl(t,{parentId:r.parentId}),a=oe()("paper-icon-button-light","cardOverlayButton","itemAction"),o=oe()(a,"cardOverlayButton-centered");return(0,l.jsxs)("a",{href:i,"aria-label":t.Name||"",style:{position:"absolute",top:0,left:0,bottom:0,right:0,userSelect:"none",borderRadius:"0.2em"},children:[r.centerPlayButton&&(0,l.jsx)(Ke,{className:o,action:"play",title:"Play"}),(0,l.jsxs)(Xe.Z,{className:"cardOverlayButton-br",children:[Je(n,t)&&(0,l.jsx)(Ke,{className:a,action:"play",title:"Play"}),r.overlayMoreButton&&(0,l.jsx)(Qe,{className:a})]})]})},tt=r(21776),rt=r(40196),nt=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,l)}s((n=n.apply(e,t||[])).next())}))},it=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&l[0]?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;switch(n=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){o.label=l[1];break}if(6===l[0]&&o.label<i[1]){o.label=i[1],i=l;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(l);break}i[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],n=0}finally{r=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},at=function(e){var t,r=e.className,n=e.isPlayed,i=void 0!==n&&n,a=e.itemId,o=e.itemType,u=e.queryKey,c=(0,ue.NL)(),d=(t=(0,k.h_)(),(0,C.D)({mutationFn:function(e){var r=e.itemId,n=e.isPlayed;return function(e,t,r){return Y(void 0,void 0,void 0,(function(){var n,i;return K(this,(function(a){switch(a.label){case 0:return n=e.api,i=e.user,n&&(null==i?void 0:i.Id)?r?[4,(0,w.W)(n).markUnplayedItem({userId:i.Id,itemId:t})]:[3,2]:[3,4];case 1:case 3:return[2,a.sent().data.Played];case 2:return[4,(0,w.W)(n).markPlayedItem({userId:i.Id,itemId:t})];case 4:return[2]}}))}))}(t,r,n)}})).mutateAsync,v=(0,s.useCallback)((function(){return o!==$.k.AudioBook?i?O.ZP.translate("Watched"):O.ZP.translate("MarkPlayed"):i?O.ZP.translate("Played"):O.ZP.translate("MarkPlayed")}),[o,i]),m=(0,s.useCallback)((function(){return nt(void 0,void 0,void 0,(function(){var e;return it(this,(function(t){switch(t.label){case 0:if(t.trys.push([0,2,,3]),!a)throw new Error("Item has no Id");return[4,d({itemId:a,isPlayed:i},{onSuccess:function(){return nt(void 0,void 0,void 0,(function(){return it(this,(function(e){switch(e.label){case 0:return[4,c.invalidateQueries({queryKey:u,type:"all",refetchType:"active"})];case 1:return e.sent(),[2]}}))}))}})];case 1:return t.sent(),[3,3];case 2:return e=t.sent(),console.error(e),[3,3];case 3:return[2]}}))}))}),[a,d,i,c,u]),p=oe()(r,{"playstatebutton-played":i}),f=oe()({"playstatebutton-icon-played":i});return(0,l.jsx)(Ge.Z,{title:v(),className:p,size:"small",onClick:m,children:(0,l.jsx)(rt.Z,{className:f})})},ot=r(68751),lt=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,l)}s((n=n.apply(e,t||[])).next())}))},st=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&l[0]?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;switch(n=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){o.label=l[1];break}if(6===l[0]&&o.label<i[1]){o.label=i[1],i=l;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(l);break}i[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],n=0}finally{r=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},ut=function(e){var t,r=e.className,n=e.isFavorite,i=void 0!==n&&n,a=e.itemId,o=e.queryKey,u=(0,ue.NL)(),c=(t=(0,k.h_)(),(0,C.D)({mutationFn:function(e){var r=e.itemId,n=e.isFavorite;return function(e,t,r){return Y(void 0,void 0,void 0,(function(){var n,i;return K(this,(function(a){switch(a.label){case 0:return n=e.api,i=e.user,n&&(null==i?void 0:i.Id)?r?[4,(0,x.U)(n).unmarkFavoriteItem({userId:i.Id,itemId:t})]:[3,2]:[3,4];case 1:case 3:return[2,a.sent().data.IsFavorite];case 2:return[4,(0,x.U)(n).markFavoriteItem({userId:i.Id,itemId:t})];case 4:return[2]}}))}))}(t,r,n)}})).mutateAsync,d=(0,s.useCallback)((function(){return lt(void 0,void 0,void 0,(function(){var e;return st(this,(function(t){switch(t.label){case 0:if(t.trys.push([0,2,,3]),!a)throw new Error("Item has no Id");return[4,c({itemId:a,isFavorite:i},{onSuccess:function(){return lt(void 0,void 0,void 0,(function(){return st(this,(function(e){switch(e.label){case 0:return[4,u.invalidateQueries({queryKey:o,type:"all",refetchType:"active"})];case 1:return e.sent(),[2]}}))}))}})];case 1:return t.sent(),[3,3];case 2:return e=t.sent(),console.error(e),[3,3];case 3:return[2]}}))}))}),[i,a,u,o,c]),v=oe()(r,{"ratingbutton-withrating":i}),m=oe()({"ratingbutton-icon-withrating":i});return(0,l.jsx)(Ge.Z,{title:i?O.ZP.translate("Favorite"):O.ZP.translate("AddToFavorites"),className:v,size:"small",onClick:d,children:(0,l.jsx)(ot.Z,{className:m})})},ct=function(e){var t,r=e.item,n=e.cardOptions,i=ne.appRouter.getRouteUrl(r,{parentId:n.parentId}),a="paper-icon-button-light cardOverlayButton cardOverlayButton-hover itemAction",o=oe()(a,"cardOverlayFab-primary"),s=null!==(t=r.UserData)&&void 0!==t?t:{},u=s.IsFavorite,c=s.Played;return(0,l.jsxs)(le.Z,{className:"cardOverlayContainer",children:[(0,l.jsx)("a",{href:i,"aria-label":r.Name||"",className:"cardImageContainer"}),he.O.canPlay(r)&&(0,l.jsx)(Ke,{className:o,action:"play",title:"Play"}),(0,l.jsxs)(Xe.Z,{className:"cardOverlayButton-br flex",children:[tt.ZP.canMarkPlayed(r)&&!1!==n.enablePlayedButton&&(0,l.jsx)(at,{className:a,isPlayed:c,itemId:r.Id,itemType:r.Type,queryKey:n.queryKey}),tt.ZP.canRate(r)&&!1!==n.enableRatingButton&&(0,l.jsx)(ut,{className:a,isFavorite:u,itemId:r.Id,queryKey:n.queryKey}),(0,l.jsx)(Qe,{className:a})]})]})},dt=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function vt(e,t,r){var n=t||tt.ZP.getDisplayName(e);return A.Z.tv?{title:n}:{titleAction:{url:ne.appRouter.getRouteUrl(e),title:n,dataAttributes:U({action:"link",itemServerId:null!=r?r:e.ServerId,itemId:e.Id,itemChannelId:e.ChannelId,itemType:e.Type,itemMediaType:e.MediaType,itemCollectionType:e.CollectionType,itemIsFolder:e.IsFolder})}}}function mt(e,t,r){var n="";if(e.StartDate)try{var i=j.ZP.parseISO8601Date(e.StartDate);t&&(n+=j.ZP.toLocaleDateString(i,{weekday:"short",month:"short",day:"numeric"})+" "),n+=j.ZP.getDisplayTime(i),e.EndDate&&r&&(i=j.ZP.parseISO8601Date(e.EndDate),n+=" - "+j.ZP.getDisplayTime(i))}catch(t){console.error("error parsing date: "+e.StartDate)}return n}function pt(e){if(e)return 1===e?O.ZP.translate("ValueOneSong"):O.ZP.translate("ValueSongCount",e)}function ft(e,t){var r,n,i=[],a=function(e){e&&i.push(e)};return t.Type===u.k0S.Playlist?a(function(e){if(e){var t=e/6e8;return t=t||1,O.ZP.translate("ValueMinutes",Math.round(t))}return O.ZP.translate("ValueMinutes",0)}(t.RunTimeTicks)):(n=t.Type)===u.k0S.Genre||n===u.k0S.Studio?(a(function(e){if(e)return 1===e?O.ZP.translate("ValueOneMovie"):O.ZP.translate("ValueMovieCount",e)}(t.MovieCount)),a(function(e){if(e)return 1===e?O.ZP.translate("ValueOneSeries"):O.ZP.translate("ValueSeriesCount",e)}(t.SeriesCount)),a(function(e){if(e)return 1===e?O.ZP.translate("ValueOneEpisode"):O.ZP.translate("ValueEpisodeCount",e)}(t.EpisodeCount))):!function(e,t){return e===u.k0S.MusicGenre||"MusicArtist"===t}(t.Type,e.context)?t.Type===u.k0S.Series&&a(1===(r=t.RecursiveItemCount)?O.ZP.translate("ValueOneEpisode"):O.ZP.translate("ValueEpisodeCount",r)):(a(function(e){if(e)return 1===e?O.ZP.translate("ValueOneAlbum"):O.ZP.translate("ValueAlbumCount",e)}(t.AlbumCount)),a(pt(t.SongCount)),a(function(e){if(e)return 1===e?O.ZP.translate("ValueOneMusicVideo"):O.ZP.translate("ValueMusicVideoCount",e)}(t.MusicVideoCount))),i.join(", ")}function ht(e){return e.RecordAnyChannel?O.ZP.translate("AllChannels"):e.ChannelName||O.ZP.translate("OneChannel")}function gt(e){return e.RecordAnyTime?O.ZP.translate("Anytime"):j.ZP.getDisplayTime(e.StartDate)}function yt(e){return e&&mt(e,!1,!0)||""}function bt(e){if(!e)return"";try{return j.ZP.toLocaleDateString(j.ZP.parseISO8601Date(e),{weekday:"long",month:"long",day:"numeric"})}catch(e){return""}}function It(e,t){var r,n,i=e(t);try{for(var a=dt(i),o=a.next();!o.done;o=a.next())return o.value}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}function Tt(e){var t=e.ProductionYear&&j.ZP.toLocaleString(e.ProductionYear,{useGrouping:!1});if(e.Type===u.k0S.Series){if("Continuing"===e.Status)return O.ZP.translate("SeriesYearToPresent",t||"");if(e.EndDate&&e.ProductionYear){var r=j.ZP.toLocaleString(j.ZP.parseISO8601Date(e.EndDate).getFullYear(),{useGrouping:!1});return t+(r===t?"":" - "+r)}return t||""}return t||""}function xt(e){var t,r=e.isOuterFooter,n=e.overlayText,i=e.forceName,a=e.item,o=e.cardOptions,l=e.imgUrl,s=function(e,t){return Boolean(e)||t===u.k0S.PhotoAlbum||t===u.k0S.Folder}(o.showTitle,a.Type),c=function(e,t){return e?!t:t}(r,n),d=a.ServerId||o.serverId,v=[],m=(t=a.Type)===u.k0S.MusicAlbum||t===u.k0S.Audio||t===u.k0S.MusicVideo,p=!1,f=function(e){v.push(e)};c&&(o.showParentTitle||o.showParentTitleOrTitle)&&!m&&f(function(e,t,r,n){if(e&&t.Type===u.k0S.Episode&&t.SeriesName)return t.SeriesId?vt({Id:t.SeriesId,ServerId:t.ServerId,Name:t.SeriesName,Type:u.k0S.Series,IsFolder:!0}):{title:t.SeriesName};if((0,De.aQ)(t.Type))return t.EpisodeTitle||t.IndexNumber||(p=!0),{title:t.Name};var i=t.SeriesName||t.Series||t.Album||t.AlbumArtist||"";return i||n?{title:i}:{title:""}}(r,a,0,s));var h=function(e,t,r,n,i){var a=t&&!e||n.showParentTitleOrTitle&&!i.length;return a||e||!t&&!r||(a=!0),a}(p,s,i,o,v);return h&&f(function(e,t){var r="auto"!==e.showTitle||t.IsFolder||"Photo"!==t.MediaType?tt.ZP.getDisplayName(t,{includeParentInfo:e.includeParentInfoInTitle}):"";return vt({Id:t.Id,ServerId:t.ServerId,Name:r,Type:t.Type,CollectionType:t.CollectionType,IsFolder:t.IsFolder})}(o,a)),c&&function(e,t,r,n,i,a){var o,l,s,c,d,v,m;(function(e,t){return e&&t})(e.showParentTitle,t)&&i(function(e,t,r){var n;return e&&(null===(n=r.AlbumArtists)||void 0===n?void 0:n.length)?(r.AlbumArtists[0].Type=u.k0S.MusicArtist,r.AlbumArtists[0].IsFolder=!0,vt(r.AlbumArtists[0],null,t)):{title:(0,De.aQ)(r.Type)?r.Name:r.SeriesName||r.Series||r.Album||r.AlbumArtist||""}}(r,a,n)),(o=n.ExtraType)&&"Unknown"!==o&&i({title:O.ZP.translate(n.ExtraType)}),e.showItemCounts&&i({title:ft(e,n)}),e.textLines&&i({title:It(e.textLines,n)}),e.showSongCount&&i({title:pt(n.SongCount)}),e.showPremiereDate&&i({title:bt(n.PremiereDate)}),l=e.showYear,s=e.showSeriesYear,(Boolean(l)||s)&&i({title:Tt(n)}),e.showRuntime&&i({title:(m=n.RunTimeTicks,m?j.ZP.getDisplayRunningTime(m):"")}),e.showAirTime&&i({title:mt(n,e.showAirDateTime,e.showAirEndTime)}),e.showChannelName&&i(function(e){return e.ChannelId?vt({Id:e.ChannelId,ServerId:e.ServerId,Name:e.ChannelName,Type:u.k0S.TvChannel,MediaType:e.MediaType,IsFolder:!1},e.ChannelName):{title:e.ChannelName||""}}(n)),c=e.showCurrentProgram,d=n.Type,c&&d===u.k0S.TvChannel&&i({title:(v=n.CurrentProgram,v?v.Name:"")}),function(e,t){return e&&t===u.k0S.TvChannel}(e.showCurrentProgramTime,n.Type)&&i({title:yt(n.CurrentProgram)}),e.showSeriesTimerTime&&i({title:gt(n)}),e.showSeriesTimerChannel&&i({title:ht(n)}),function(e,t){return e&&t.Role}(e.showCurrentProgramTime,n)&&i({title:O.ZP.translate("PersonRole",n.Role)})}(o,m,r,a,f,d),(s||!l)&&i&&n&&1===v.length&&(v=[]),n&&s&&(v=[{title:a.Name}]),{textLines:v}}var Pt=function(){return Pt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pt.apply(this,arguments)},St=function(e){var t=e.className,r=e.textLine,n=r.title,i=r.titleAction;return(0,l.jsx)(le.Z,{className:t,children:i?(0,l.jsx)("a",Pt({className:"itemAction textActionButton",href:i.url,title:i.title},i.dataAttributes,{children:i.title})):n})},wt=function(e){var t=e.item,r=e.cardOptions,n=e.forceName,i=e.imgUrl,a=e.overlayText,o=e.isOuterFooter,s=e.cssClass,u=e.forceLines,c=e.maxLines,d=xt({isOuterFooter:o,overlayText:a,forceName:n,item:t,cardOptions:r,imgUrl:i}).textLines,v=function(e,t,r,n){return e&&t&&!r&&"none"!==n&&A.Z.mobile}(o,r.cardLayout,r.centerText,r.cardFooterAside),m=function(){var e,t,r=[],n=0;try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(d),a=i.next();!a.done;a=i.next()){var m=a.value,p=oe()(s,{"cardText-secondary":n>0&&o},{"cardText-first":0===n&&o},{"cardText-rightmargin":v});if(m&&(r.push((0,l.jsx)(St,{className:p,textLine:m},n)),n++,c&&n>=c))break}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}if(u)for(var f=null!=c?c:Math.min(d.length,null!=c?c:d.length);n<f;)r.push((0,l.jsx)(le.Z,{className:s,children:""},n)),n++;return r}();return{cardTextLines:m}},Zt=r(47413),Ct=r(41875),jt=function(){return jt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},jt.apply(this,arguments)},Ot=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o},kt={position:"absolute",top:0,bottom:0,left:0,right:0,width:"100%",height:"100%",zIndex:0},Nt=function(e){var t=e.imgUrl,r=e.blurhash,n=e.containImage,i=Ot((0,s.useState)(!1),2),a=i[0],o=i[1],u=Ot((0,s.useState)(!1),2),c=u[0],d=u[1],v=(0,s.useCallback)((function(){o(!0)}),[]),m=(0,s.useCallback)((function(){d(!0)}),[]);return(0,l.jsxs)("div",{children:[!a&&c&&r&&(0,l.jsx)(Zt.c,{hash:r,width:20,height:20,punch:1,style:jt(jt({},kt),{borderRadius:"0.2em",pointerEvents:"none"})}),(0,l.jsx)(Ct.LazyLoadImage,{src:t,style:jt(jt({},kt),{objectFit:n?"contain":"cover"}),onLoad:v,beforeLoad:m},t)]})},At=function(e,t){return e.showDetailsMenu&&t&&e.cardLayout&&A.Z.mobile&&"none"!==e.cardFooterAside},Mt=function(e){var t=e.logoUrl;return(0,l.jsx)(le.Z,{className:"cardFooterLogo",children:(0,l.jsx)(Nt,{imgUrl:t,containImage:!0})})},Et=function(e){var t=e.item,r=e.cardOptions,n=e.forceName,i=e.imgUrl,a=e.footerClass,o=e.overlayText,s=e.progressBar,u=e.logoUrl,c=e.isOuterFooter,d=wt({item:t.ProgramInfo||t,cardOptions:r,forceName:n,imgUrl:i,overlayText:o,isOuterFooter:c,cssClass:r.centerText?"cardText cardTextCentered":"cardText",forceLines:!r.overlayText,maxLines:r.lines}).cardTextLines;return(0,l.jsxs)(le.Z,{className:a,children:[u&&(0,l.jsx)(Mt,{logoUrl:u}),At(r,c)&&(0,l.jsx)(Qe,{className:"itemAction btnCardOptions"}),d,s]})},Lt=function(e){var t=e.item,r=e.cardOptions,n=e.overlayText,i=e.imgUrl,a=e.forceName,o=function(e,t,r){var n,i,a;return r.showChannelLogo&&e.ChannelPrimaryImageTag?(n=u.__M.Primary,i=e.ChannelPrimaryImageTag,a=e.ChannelId):r.showLogo&&e.ParentLogoImageTag&&(n=u.__M.Logo,i=e.ParentLogoImageTag,a=e.ParentLogoItemId),a||(a=e.Id),t&&i&&n&&a?{logoUrl:(0,Be.I)(t).getItemImageUrlById(a,n,{height:40,tag:i})}:{logoUrl:void 0}}(t,(0,k.h_)().api,r),s=o.logoUrl,c=oe()("cardFooter",{"cardFooter-transparent":r.cardLayout},{"cardFooter-withlogo":s});return(0,l.jsx)(Et,{item:t,cardOptions:r,forceName:a,overlayText:n,imgUrl:i,footerClass:c,progressBar:void 0,logoUrl:s,isOuterFooter:!0})},Rt=r(82559),Ft=r(29782),Bt=r(1992),Dt=r(18339),Vt=r(75628),Ut=r(15487),$t=r(89419),_t=r(18169),Ht=r(51336),qt=function(e){var t,r=e.pct,n=e.dataAutoMode,i=e.isRecording,a=e.starTtime,o=e.endTtime,u=e.progressOptions,c=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}((0,s.useState)(r),2),d=c[0],v=c[1],m=(0,s.useRef)(null),p=(0,Ht.Z)(),f=(0,s.useCallback)((function(){var e=parseInt(a.toString(),10),t=parseInt(o.toString(),10),r=((new Date).getTime()-e)/(t-e)*100;r=Math.min(100,r),r=Math.max(0,r),v(r)}),[o,a]);(0,s.useEffect)((function(){return m.current&&clearInterval(m.current),"time"===n&&(m.current=setInterval(f,6e4)),function(){m.current&&(clearInterval(m.current),m.current=null)}}),[n,f]);var h=oe()("itemLinearProgress",null==u?void 0:u.containerClass);return(0,l.jsx)(Rt.Z,{className:h,variant:"determinate",value:d,sx:(t={},t["& .".concat(Ft.Z.bar)]={borderRadius:5,backgroundColor:i?p.palette.error.main:p.palette.primary.main},t)})},Wt={Video:(0,l.jsx)(Vt.Z,{className:"indicatorIcon"}),Folder:(0,l.jsx)(Ut.Z,{className:"indicatorIcon"}),PhotoAlbum:(0,l.jsx)($t.Z,{className:"indicatorIcon"}),Photo:(0,l.jsx)(_t.Z,{className:"indicatorIcon"})},Xt=function(e){var t=function(e,t){var r,n=oe()("itemLinearProgress",null==t?void 0:t.containerClass);return(0,l.jsx)(Rt.Z,{className:n,variant:"determinate",value:e,sx:(r={},r["& .".concat(Ft.Z.bar)]={borderRadius:5,backgroundColor:"#00a4dc"},r)})};return{getProgress:t,getProgressBar:function(r){var n,i,a;if(a=e.Type,("Video"===e.MediaType&&a!==$.k.TvChannel||a===$.k.AudioBook||"AudioPodcast"===a)&&e.Type!==$.k.Recording){var o=(null===(n=null==r?void 0:r.userData)||void 0===n?void 0:n.PlayedPercentage)?r.userData.PlayedPercentage:null===(i=null==e?void 0:e.UserData)||void 0===i?void 0:i.PlayedPercentage;if(o&&o<100)return t(o)}if(function(e,t,r){return(e===$.k.Program||"Timer"===e||e===$.k.Recording)&&Boolean(t)&&Boolean(r)}(e.Type,e.StartDate,e.EndDate)){var s=0,u=1;try{s=j.ZP.parseISO8601Date(e.StartDate).getTime(),u=j.ZP.parseISO8601Date(e.EndDate).getTime()}catch(e){console.error(e)}var c=((new Date).getTime()-s)/(u-s)*100;if(c>0&&c<100){var d="Timer"===e.Type||e.Type===$.k.Recording||Boolean(e.TimerId);return(0,l.jsx)(qt,{pct:c,progressOptions:r,isRecording:d,starTtime:s,endTtime:u,dataAutoMode:"time"})}}return null},getMediaSourceIndicator:function(){var t,r=null!==(t=e.MediaSourceCount)&&void 0!==t?t:0;return r>1?(0,l.jsx)(le.Z,{className:"mediaSourceIndicator",children:r}):null},getMissingIndicator:function(){if(e.Type===$.k.Episode&&e.LocationType===We._.Virtual){if(e.PremiereDate)try{if(j.ZP.parseISO8601Date(e.PremiereDate).getTime()>(new Date).getTime())return(0,l.jsx)(le.Z,{className:"unairedIndicator",children:"Unaired"})}catch(e){console.error(e)}return(0,l.jsx)(le.Z,{className:"missingIndicator",children:"Missing"})}return null},getTimerIndicator:function(t){var r,n=oe()("timerIndicator",t);if("SeriesTimer"===e.Type)return(0,l.jsx)(Bt.Z,{className:n});if(e.TimerId||e.SeriesTimerId)r=e.Status||"Cancelled";else{if("Timer"!==e.Type)return null;r=e.Status}return e.SeriesTimerId?(0,l.jsx)(Bt.Z,{className:"".concat(n," ").concat("Cancelled"===r?"timerIndicator-inactive":"")}):(0,l.jsx)(Dt.Z,{className:n})},getTypeIndicator:function(){var t,r=(t=e.Type,Wt[t]);return r?(0,l.jsx)(le.Z,{className:"indicator videoIndicator",children:r}):null},getChildCountIndicator:function(){var t;return(null!==(t=e.ChildCount)&&void 0!==t?t:0)>1?(0,l.jsx)(le.Z,{className:"countIndicator indicator childCountIndicator",children:j.ZP.toLocaleString(e.ChildCount)}):null},getPlayedIndicator:function(){if(function(e){return tt.ZP.canMarkPlayed(e)}(e)){var t=e.UserData||{};if(t.UnplayedItemCount)return(0,l.jsx)(le.Z,{className:"countIndicator indicator unplayedItemCount",children:j.ZP.toLocaleString(t.UnplayedItemCount)});if(t.PlayedPercentage&&t.PlayedPercentage>=100||t.Played)return(0,l.jsx)(le.Z,{className:"playedIndicator indicator",children:(0,l.jsx)(rt.Z,{className:"indicatorIcon"})})}return null}}},Gt=r(87665),Yt=r(87891),Kt=r(1934),zt=function(){return zt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zt.apply(this,arguments)};function Qt(e){return(0,l.jsxs)(le.Z,{sx:{position:"relative",display:"inline-flex"},children:[(0,l.jsx)(Gt.Z,zt({variant:"determinate"},e)),(0,l.jsx)(le.Z,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,l.jsx)(Yt.Z,{variant:"caption",component:"div",color:"text.secondary",children:(0,Kt.yI)(e.value/100,(0,O.cQ)())})})]})}var Jt,er=function(e){var t=e.item,r=e.className,n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}((0,s.useState)(t.RefreshProgress||0),2),i=n[0],a=n[1],o=(0,s.useCallback)((function(e,r,n){n.ItemId===(null==t?void 0:t.Id)&&a(parseFloat(n.Progress))}),[null==t?void 0:t.Id]),u=(0,s.useCallback)((function(){ce.Z.off(de.default,"RefreshProgress",o)}),[o]),c=(0,s.useCallback)((function(){u(),(null==t?void 0:t.Id)&&ce.Z.on(de.default,"RefreshProgress",o)}),[null==t?void 0:t.Id,o,u]);(0,s.useEffect)((function(){return c(),function(){u()}}),[c,t.Id,u]);var d=oe()("progressring",r,{hide:!i||i>=100});return(0,l.jsx)("div",{className:d,children:(0,l.jsx)(Qt,{value:Math.floor(i)})})},tr=r(60534),rr=r(31606),nr=function(e){var t=e.item,r=(0,De.aQ)(t.Type)?t.Name:tt.ZP.getDisplayName(t);return(0,l.jsx)(le.Z,{className:"cardText cardDefaultText",children:r})},ir=function(e){var t=e.item,r=e.defaultCardImageIcon;return t.CollectionType?(0,l.jsx)(tr.Z,{className:"cardImageIcon",sx:{color:"inherit",fontSize:"5em"},"aria-hidden":"true",children:rr.ZP.getLibraryIcon(t.CollectionType)}):t.Type&&t.Type!==$.k.TvChannel&&t.Type!==$.k.Studio?(0,l.jsx)(tr.Z,{className:"cardImageIcon",sx:{color:"inherit",fontSize:"5em"},"aria-hidden":"true",children:rr.ZP.getItemTypeIcon(t.Type)}):r?(0,l.jsx)(tr.Z,{className:"cardImageIcon",sx:{color:"inherit",fontSize:"5em"},"aria-hidden":"true",children:r}):(0,l.jsx)(nr,{item:t})},ar=function(e){var t=e.item,r=e.imgUrl,n=e.blurhash,i=e.imageType,a=e.defaultCardImageIcon;return r?(0,l.jsx)(Nt,{imgUrl:r,blurhash:n,containImage:t.Type===u.k0S.TvChannel||i===u.__M.Logo}):(0,l.jsx)(ir,{item:t,defaultCardImageIcon:a})},or=function(e){var t=e.item,r=e.cardOptions,n=e.imgUrl,i=e.overlayText,a=e.progressBar,o=e.forceName,s=oe()("innerCardFooter",{fullInnerCardFooter:a});return(0,l.jsx)(Et,{item:t,cardOptions:r,forceName:o,overlayText:i,imgUrl:n,footerClass:s,progressBar:a,isOuterFooter:!1})},lr=function(e){var t=e.item,r=e.cardOptions,n=e.coveredImage,i=e.overlayText,a=e.imgUrl,o=e.blurhash,s=e.forceName,u=Xt(t),c=oe()("cardImageContainer",{coveredImage:n},{"coveredImage-contain":n&&t.Type===$.k.TvChannel});return(0,l.jsxs)("div",{className:c,children:[!0!==r.disableIndicators&&(0,l.jsxs)(le.Z,{className:"indicators",children:[u.getMediaSourceIndicator(),(0,l.jsxs)(le.Z,{className:"cardIndicators",children:[!1!==r.missingIndicator&&u.getMissingIndicator(),u.getTimerIndicator(),u.getTypeIndicator(),r.showGroupCount?u.getChildCountIndicator():u.getPlayedIndicator(),(t.Type===$.k.CollectionFolder||t.CollectionType)&&t.RefreshProgress&&(0,l.jsx)(er,{item:t})]})]}),(0,l.jsx)(ar,{item:t,imgUrl:a,blurhash:o,imageType:r.imageType}),i&&(0,l.jsx)(or,{item:t,cardOptions:r,forceName:s,overlayText:i,imgUrl:a,progressBar:u.getProgressBar()}),!i&&u.getProgressBar()]})},sr=function(e){var t,r=e.item,n=e.cardOptions,i=e.coveredImage,a=e.overlayText,o=e.imgUrl,s=e.blurhash,u=e.forceName,c=oe()("cardContent",((t={})[(0,De.Rk)(r.Name)]=!o,t));return(0,l.jsx)("div",{className:c,children:(0,l.jsx)(lr,{item:r,cardOptions:n,coveredImage:i,overlayText:a,imgUrl:o,blurhash:s,forceName:u})})},ur=function(e){var t=e.item,r=e.cardOptions,n=e.className,i=e.shape,a=e.imgUrl,o=e.blurhash,s=e.forceName,u=e.coveredImage,c=e.overlayText;return(0,l.jsxs)("div",{className:n,children:[(0,l.jsxs)("div",{className:"cardScalable",children:[(0,l.jsx)("div",{className:"cardPadder cardPadder-".concat(i)}),(0,l.jsx)(sr,{item:t,cardOptions:r,coveredImage:u,overlayText:c,imgUrl:a,blurhash:o,forceName:s}),A.Z.mobile&&(0,l.jsx)(et,{item:t,cardOptions:r}),A.Z.desktop&&!r.disableHoverMenu&&(0,l.jsx)(ct,{item:t,cardOptions:r})]}),!c&&(0,l.jsx)(Lt,{item:t,cardOptions:r,forceName:s,overlayText:c,imgUrl:a})]})},cr=function(){return cr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},cr.apply(this,arguments)},dr=function(e){var t=e.item,r=function(e){var t,r,n,i,a,o,l,s,u=e.item,c=e.cardOptions,d=(0,De.Yg)({defaultAction:null!==(r=c.action)&&void 0!==r?r:"link",isFolder:null!==(n=u.IsFolder)&&void 0!==n&&n,isPhoto:"Photo"===u.MediaType}),v=c.shape;v===_.Mg.Mixed&&(v=(0,De.nm)(u.PrimaryImageAspectRatio));var m=_e({item:null!==(i=u.ProgramInfo)&&void 0!==i?i:u,cardOptions:c,shape:v}),p=m.imgUrl,f=m.blurhash,h=m.forceName,g=null!==(a=c.coverImage)&&void 0!==a?a:m.coverImage,y=c.overlayText,b=null!==(l=null!==(o=u.SortName)&&void 0!==o?o:u.Name)&&void 0!==l?l:"",I=b.substring(0,Math.min(3,b.length));I&&(I=I.toUpperCase());var T=U({action:d,itemServerId:null!==(s=u.ServerId)&&void 0!==s?s:c.serverId,context:c.context,parentId:c.parentId,collectionId:c.collectionId,playlistId:c.playlistId,itemId:u.Id,itemTimerId:u.TimerId,itemSeriesTimerId:u.SeriesTimerId,itemChannelId:u.ChannelId,itemType:u.Type,itemMediaType:u.MediaType,itemCollectionType:u.CollectionType,itemIsFolder:u.IsFolder,itemPath:u.Path,itemStartDate:u.StartDate,itemEndDate:u.EndDate,itemUserData:u.UserData,prefix:I}),x=oe()("card",((t={})["".concat(v,"Card")]=v,t),c.cardCssClass,c.cardClass,{"card-hoverable":A.Z.desktop},{groupedCard:c.showChildCountIndicator&&u.ChildCount},{"card-withuserdata":u.Type!==$.k.MusicAlbum&&u.Type!==$.k.MusicArtist&&u.Type!==$.k.Audio},{itemAction:A.Z.tv}),P=oe()("cardBox",{visualCardBox:c.cardLayout},{"cardBox-bottompadded":!c.cardLayout});return{getCardWrapperProps:function(){return{className:x,dataAttributes:T}},getCardBoxProps:function(){return{item:u,cardOptions:c,className:P,shape:v,imgUrl:p,blurhash:f,forceName:h,coveredImage:g,overlayText:y}}}}({item:void 0===t?{}:t,cardOptions:e.cardOptions}),n=r.getCardWrapperProps,i=r.getCardBoxProps,a=n(),o=i();return(0,l.jsx)(qe,cr({},a,{children:(0,l.jsx)(ur,cr({},o))}))},vr=function(e){var t=e.items,r=e.cardOptions;return(0,Fe.setCardData)(t,r),(0,l.jsx)(l.Fragment,{children:t.map((function(e){return(0,l.jsx)(dr,{item:e,cardOptions:r},e.Id)}))})},mr=function(e){var t=e.sectionTitle,r=e.url,n=e.items,i=e.cardOptions,a=e.reloadItems;return(0,l.jsxs)("div",{className:"verticalSection",children:[(0,l.jsx)("div",{className:"sectionTitleContainer sectionTitleContainer-cards padded-left",children:r&&n.length>5?(0,l.jsxs)(Re,{className:"more button-flat button-flat-mini sectionTitleTextButton btnMoreFromGenre",href:r,children:[(0,l.jsx)("h2",{className:"sectionTitle sectionTitle-cards",children:t}),(0,l.jsx)("span",{className:"material-icons chevron_right","aria-hidden":"true"})]}):(0,l.jsx)("h2",{className:"sectionTitle sectionTitle-cards",children:t})}),(0,l.jsx)(Ae,{className:"padded-top-focusscale padded-bottom-focusscale",isMouseWheelEnabled:!1,isCenterFocusEnabled:!0,children:(0,l.jsx)(Se,{className:"itemsContainer scrollSlider focuscontainer-x",reloadItems:a,queryKey:i.queryKey,children:(0,l.jsx)(vr,{items:n,cardOptions:i})})})]})},pr=function(){return pr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pr.apply(this,arguments)},fr=function(e){var t=e.parentId,r=e.sectionType,n=e.isMovieRecommendationEnabled,i=void 0!==n&&n,a=function(e,t){var r=(0,k.h_)(),n=W();return(0,Z.a)({queryKey:["SuggestionSectionWithItems",{suggestionSectionType:t}],queryFn:function(i){var a=i.signal;return re(r,e,n,t,{signal:a})},enabled:!!e})}(t,r),o=a.isLoading,s=a.data,c=function(e,t){var r=(0,k.h_)();return(0,Z.a)({queryKey:["MovieRecommendations",e,t],queryFn:function(n){var i=n.signal;return e?function(e,t,r){return Y(void 0,void 0,void 0,(function(){var n,i;return K(this,(function(a){switch(a.label){case 0:return n=e.api,i=e.user,n&&(null==i?void 0:i.Id)?[4,(0,b.V)(n).getMovieRecommendations({userId:i.Id,fields:[d.h.PrimaryImageAspectRatio,d.h.MediaSourceCount],parentId:null!=t?t:void 0,categoryLimit:6,itemLimit:20},{signal:null==r?void 0:r.signal})]:[3,2];case 1:return[2,a.sent().data];case 2:return[2]}}))}))}(r,t,{signal:i}):[]}})}(i,t),v=c.isLoading,m=c.data;if(o||v)return(0,l.jsx)(ie.Z,{});if(!(null==s?void 0:s.length)&&!(null==m?void 0:m.length))return(0,l.jsxs)("div",{className:"noItemsMessage centerMessage",children:[(0,l.jsx)("h1",{children:O.ZP.translate("MessageNothingHere")}),(0,l.jsx)("p",{children:O.ZP.translate("MessageNoItemsAvailable")})]});var p=function(e){return ne.appRouter.getRouteUrl("list",{serverId:window.ApiClient.serverId(),itemTypes:e.itemTypes,parentId:t})},f=function(e){var t="";switch(e.RecommendationType){case u.WNr.SimilarToRecentlyPlayed:t=O.ZP.translate("RecommendationBecauseYouWatched",e.BaselineItemName);break;case u.WNr.SimilarToLikedItem:t=O.ZP.translate("RecommendationBecauseYouLike",e.BaselineItemName);break;case u.WNr.HasDirectorFromRecentlyPlayed:case u.WNr.HasLikedDirector:t=O.ZP.translate("RecommendationDirectedBy",e.BaselineItemName);break;case u.WNr.HasActorFromRecentlyPlayed:case u.WNr.HasLikedActor:t=O.ZP.translate("RecommendationStarring",e.BaselineItemName)}return t};return(0,l.jsxs)(l.Fragment,{children:[null==s?void 0:s.map((function(e){var t=e.section,r=e.items;return(0,l.jsx)(mr,{sectionTitle:O.ZP.translate(t.name),items:null!=r?r:[],url:p(t),cardOptions:pr(pr({},t.cardOptions),{queryKey:["SuggestionSectionWithItems"],showTitle:!0,centerText:!0,cardLayout:!1,overlayText:!1})},t.type)})),null==m?void 0:m.map((function(e,t){var r;return(0,l.jsx)(mr,{sectionTitle:f(e),items:null!==(r=e.Items)&&void 0!==r?r:[],cardOptions:{queryKey:["MovieRecommendations"],shape:_.Mg.PortraitOverflow,showYear:!0,scalable:!0,overlayPlayButton:!0,showTitle:!0,centerText:!0,cardLayout:!1}},"".concat(e.CategoryId,"-").concat(t))}))]})},hr=function(e){var t=e.parentId,r=J(t),n=r.isLoading,i=r.data;return n?(0,l.jsx)(ie.Z,{}):(0,l.jsx)(le.Z,{children:(null==i?void 0:i.length)?null==i?void 0:i.map((function(e){var t;return(0,l.jsx)(mr,{sectionTitle:e.name,items:null!==(t=e.items)&&void 0!==t?t:[],cardOptions:{shape:_.Mg.BackdropOverflow,showLocationTypeIndicator:!1,showParentTitle:!0,preferThumb:!0,lazy:!0,showDetailsMenu:!0,missingIndicator:!1,cardLayout:!1}},e.name)})):(0,l.jsxs)("div",{className:"noItemsMessage centerMessage",children:[(0,l.jsx)("h1",{children:O.ZP.translate("MessageNothingHere")}),(0,l.jsx)("p",{children:O.ZP.translate("MessagePleaseEnsureInternetMetadata")})]})})},gr=r(13868),yr=function(e){var t,r=e.parentId,n=e.collectionType,i=e.itemType,a=e.genre,o=function(e){var t,r=(0,k.h_)();return(0,Z.a)({queryKey:["Items",G({},e)],queryFn:function(t){var n=t.signal;return function(e,t,r){return Y(void 0,void 0,void 0,(function(){var n,i;return K(this,(function(a){switch(a.label){case 0:return n=e.api,i=e.user,n&&(null==i?void 0:i.Id)?[4,(0,y.$)(n).getItems(G({userId:i.Id},t),{signal:null==r?void 0:r.signal})]:[3,2];case 1:return[2,a.sent().data];case 2:return[2]}}))}))}(r,e,{signal:n})},cacheTime:(null===(t=e.sortBy)||void 0===t?void 0:t.includes(p.X.Random))?0:void 0})}({sortBy:[p.X.Random],sortOrder:[m.A.Ascending],includeItemTypes:i,recursive:!0,fields:[d.h.PrimaryImageAspectRatio,d.h.MediaSourceCount],imageTypeLimit:1,enableImageTypes:[c._.Primary],limit:25,genreIds:a.Id?[a.Id]:void 0,enableTotalRecordCount:!1,parentId:null!=r?r:void 0}),s=o.isLoading,u=o.data;return s?(0,l.jsx)(ie.Z,{}):(0,l.jsx)(mr,{sectionTitle:a.Name||"",items:(null==u?void 0:u.Items)||[],url:(t=a,ne.appRouter.getRouteUrl(t,{context:n,parentId:r})),cardOptions:{scalable:!0,overlayPlayButton:!0,showTitle:!0,centerText:!0,cardLayout:!1,shape:n===gr.y.Music?_.Mg.SquareOverflow:_.Mg.PortraitOverflow,showParentTitle:n===gr.y.Music,showYear:n!==gr.y.Music}})},br=function(e){var t,r=e.parentId,n=e.collectionType,i=e.itemType,a=function(e,t){var r=(0,k.h_)();return(0,Z.a)({queryKey:["Genres",t],queryFn:function(n){var i=n.signal;return function(e,t,r,n){return Y(void 0,void 0,void 0,(function(){var i,a;return K(this,(function(o){switch(o.label){case 0:return i=e.api,a=e.user,i&&(null==a?void 0:a.Id)?[4,(0,g.J)(i).getGenres({userId:a.Id,sortBy:[p.X.SortName],sortOrder:[m.A.Ascending],includeItemTypes:t,enableTotalRecordCount:!1,parentId:null!=r?r:void 0},{signal:null==n?void 0:n.signal})]:[3,2];case 1:return[2,o.sent().data];case 2:return[2]}}))}))}(r,e,t,{signal:i})},enabled:!!t})}(i,r),o=a.isLoading,s=a.data;return o?(0,l.jsx)(ie.Z,{}):(null===(t=null==s?void 0:s.Items)||void 0===t?void 0:t.length)?(0,l.jsx)(l.Fragment,{children:s.Items.map((function(e){return(0,l.jsx)(yr,{collectionType:n,parentId:r,itemType:i,genre:e},e.Id)}))}):(0,l.jsxs)("div",{className:"noItemsMessage centerMessage",children:[(0,l.jsx)("h1",{children:O.ZP.translate("MessageNothingHere")}),(0,l.jsx)("p",{children:O.ZP.translate("MessageNoGenresAvailable")})]})},Ir=function(e){var t=e.parentId,r=e.collectionType,n=e.itemType;return(0,l.jsx)(br,{parentId:t,collectionType:r,itemType:n})},Tr=r(94655),xr=r(37129),Pr=function(){return Pr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pr.apply(this,arguments)},Sr=function(e){var t=e.className,r=e.libraryViewSettings,n=e.setLibraryViewSettings,i=(0,s.useCallback)((function(e,t){n((function(e){return Pr(Pr({},e),{StartIndex:0,Alphabet:t})}))}),[n]),a=oe()("alphaPicker",t,"alphaPicker-fixed-right"),o=oe()("paper-icon-button-light","alphaPickerButton");return(0,l.jsx)(le.Z,{className:a,sx:{position:"fixed",bottom:"1.5em",fontSize:{xs:"80%",lg:"88%"}},children:(0,l.jsx)(xr.Z,{orientation:"vertical",value:r.Alphabet,exclusive:!0,color:"primary",size:"small",onChange:i,children:["#","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"].map((function(e){return(0,l.jsx)(Tr.Z,{value:e,className:o,children:e},e)}))})})},wr=r(41854),Zr=r(9082),Cr=r(87673),jr=r(60549),Or=r(57876),kr=r(50131),Nr=r(80552),Ar=r(37914),Mr=r(12026),Er=r(53298),Lr=r(88388),Rr=function(){return Rr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Rr.apply(this,arguments)},Fr=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},Br=[{label:"Subtitles",value:n.HasSubtitles},{label:"Trailers",value:n.HasTrailer},{label:"Extras",value:n.HasSpecialFeature},{label:"ThemeSongs",value:n.HasThemeSong},{label:"ThemeVideos",value:n.HasThemeVideo}],Dr=function(e){var t,r=e.libraryViewSettings,n=e.setLibraryViewSettings,i=(0,s.useCallback)((function(e){var t,i;e.preventDefault();var a=e.target.value,o=null!==(i=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.Features)&&void 0!==i?i:[],l=o.includes(a)?o.filter((function(e){return e!==a})):Fr(Fr([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(o),!1),[a],!1);n((function(e){return Rr(Rr({},e),{StartIndex:0,Filters:Rr(Rr({},e.Filters),{Features:l.length?l:void 0})})}))}),[n,null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.Features]);return(0,l.jsx)(Mr.Z,{children:Br.map((function(e){var t,n;return(0,l.jsx)(Er.Z,{control:(0,l.jsx)(Lr.Z,{checked:!!(null===(n=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.Features)||void 0===n?void 0:n.includes(e.value)),onChange:i,value:e.value}),label:O.ZP.translate(e.label)},e.value)}))})},Vr=function(){return Vr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Vr.apply(this,arguments)},Ur=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},$r=function(e){var t,r=e.genresOptions,n=e.libraryViewSettings,i=e.setLibraryViewSettings,a=(0,s.useCallback)((function(e){var t,r;e.preventDefault();var a=e.target.value,o=null!==(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.Genres)&&void 0!==r?r:[],l=o.includes(a)?o.filter((function(e){return e!==a})):Ur(Ur([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(o),!1),[a],!1);i((function(e){return Vr(Vr({},e),{StartIndex:0,Filters:Vr(Vr({},e.Filters),{Genres:l.length?l:void 0})})}))}),[i,null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.Genres]);return(0,l.jsx)(Mr.Z,{children:r.map((function(e){var t,r;return(0,l.jsx)(Er.Z,{control:(0,l.jsx)(Lr.Z,{checked:!!(null===(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.Genres)||void 0===r?void 0:r.includes(String(e))),onChange:a,value:String(e)}),label:e},e)}))})},_r=function(){return _r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_r.apply(this,arguments)},Hr=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},qr=function(e){var t,r=e.OfficialRatingsOptions,n=e.libraryViewSettings,i=e.setLibraryViewSettings,a=(0,s.useCallback)((function(e){var t,r;e.preventDefault();var a=e.target.value,o=null!==(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.OfficialRatings)&&void 0!==r?r:[],l=o.includes(a)?o.filter((function(e){return e!==a})):Hr(Hr([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(o),!1),[a],!1);i((function(e){return _r(_r({},e),{StartIndex:0,Filters:_r(_r({},e.Filters),{OfficialRatings:l.length?l:void 0})})}))}),[i,null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.OfficialRatings]);return(0,l.jsx)(Mr.Z,{children:r.map((function(e){var t,r;return(0,l.jsx)(Er.Z,{control:(0,l.jsx)(Lr.Z,{checked:!!(null===(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.OfficialRatings)||void 0===r?void 0:r.includes(String(e))),onChange:a,value:String(e)}),label:e},e)}))})},Wr=function(){return Wr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Wr.apply(this,arguments)},Xr=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},Gr=[{label:"OptionSpecialEpisode",value:i.ParentIndexNumber},{label:"OptionMissingEpisode",value:i.IsMissing},{label:"OptionUnairedEpisode",value:i.IsUnaired}],Yr=function(e){var t,r=e.libraryViewSettings,n=e.setLibraryViewSettings,i=(0,s.useCallback)((function(e){var t,i;e.preventDefault();var a=e.target.value,o=null!==(i=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.EpisodeFilter)&&void 0!==i?i:[],l=o.includes(a)?o.filter((function(e){return e!==a})):Xr(Xr([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(o),!1),[a],!1);n((function(e){return Wr(Wr({},e),{StartIndex:0,Filters:Wr(Wr({},e.Filters),{EpisodeFilter:l.length?l:void 0})})}))}),[n,null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.EpisodeFilter]);return(0,l.jsx)(Mr.Z,{children:Gr.map((function(e){var t,n;return(0,l.jsx)(Er.Z,{control:(0,l.jsx)(Lr.Z,{checked:!!(null===(n=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.EpisodeFilter)||void 0===n?void 0:n.includes(e.value)),onChange:i,value:e.value}),label:O.ZP.translate(e.label)},e.value)}))})},Kr=function(){return Kr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Kr.apply(this,arguments)},zr=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},Qr=[{label:"Continuing",value:u.v0p.Continuing},{label:"Ended",value:u.v0p.Ended},{label:"Unreleased",value:u.v0p.Unreleased}],Jr=function(e){var t,r=e.libraryViewSettings,n=e.setLibraryViewSettings,i=(0,s.useCallback)((function(e){var t,i;e.preventDefault();var a=e.target.value,o=null!==(i=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.SeriesStatus)&&void 0!==i?i:[],l=o.includes(a)?o.filter((function(e){return e!==a})):zr(zr([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(o),!1),[a],!1);n((function(e){return Kr(Kr({},e),{StartIndex:0,Filters:Kr(Kr({},e.Filters),{SeriesStatus:l.length?l:void 0})})}))}),[n,null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.SeriesStatus]);return(0,l.jsx)(Mr.Z,{children:Qr.map((function(e){var t,n;return(0,l.jsx)(Er.Z,{control:(0,l.jsx)(Lr.Z,{checked:!!(null===(n=null===(t=null==r?void 0:r.Filters)||void 0===t?void 0:t.SeriesStatus)||void 0===n?void 0:n.includes(e.value)),onChange:i,value:e.value}),label:O.ZP.translate(e.label)},e.value)}))})},en=function(){return en=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},en.apply(this,arguments)},tn=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},rn=[{label:"Played",value:u.yrR.IsPlayed},{label:"Unplayed",value:u.yrR.IsUnplayed},{label:"Favorite",value:u.yrR.IsFavorite},{label:"ContinueWatching",value:u.yrR.IsResumable}],nn=function(e){var t,r=e.viewType,n=e.libraryViewSettings,i=e.setLibraryViewSettings,a=(0,s.useCallback)((function(e){var t,r;e.preventDefault();var a=e.target.value,o=null!==(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.Status)&&void 0!==r?r:[],l=o.includes(a)?o.filter((function(e){return e!==a})):tn(tn([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(o),!1),[a],!1);i((function(e){return en(en({},e),{StartIndex:0,Filters:en(en({},e.Filters),{Status:l.length?l:void 0})})}))}),[i,null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.Status]);return(0,l.jsx)(Mr.Z,{children:rn.filter((function(e){return(t=[u.yrR.IsFavorite],r!==M.$.Albums&&r!==M.$.Artists&&r!==M.$.AlbumArtists&&r!==M.$.Songs&&r!==M.$.Channels&&(t.push(u.yrR.IsUnplayed),t.push(u.yrR.IsPlayed),t.push(u.yrR.IsResumable)),t).includes(e.value);var t})).map((function(e){var t,r;return(0,l.jsx)(Er.Z,{control:(0,l.jsx)(Lr.Z,{checked:!!(null===(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.Status)||void 0===r?void 0:r.includes(e.value)),onChange:a,value:e.value}),label:O.ZP.translate(e.label)},e.value)}))})},an=function(){return an=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},an.apply(this,arguments)},on=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},ln=function(e){var t,r=e.studiosOptions,n=e.libraryViewSettings,i=e.setLibraryViewSettings,a=(0,s.useCallback)((function(e){var t,r;e.preventDefault();var a=e.target.value,o=null!==(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.StudioIds)&&void 0!==r?r:[],l=o.includes(a)?o.filter((function(e){return e!==a})):on(on([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(o),!1),[a],!1);i((function(e){return an(an({},e),{StartIndex:0,Filters:an(an({},e.Filters),{StudioIds:l.length?l:void 0})})}))}),[i,null===(t=n.Filters)||void 0===t?void 0:t.StudioIds]);return(0,l.jsx)(Mr.Z,{children:null==r?void 0:r.map((function(e){var t,r;return(0,l.jsx)(Er.Z,{control:(0,l.jsx)(Lr.Z,{checked:!!(null===(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.StudioIds)||void 0===r?void 0:r.includes(String(e.Id))),onChange:a,value:String(e.Id)}),label:e.Name},e.Id)}))})},sn=function(){return sn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},sn.apply(this,arguments)},un=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},cn=function(e){var t,r=e.tagsOptions,n=e.libraryViewSettings,i=e.setLibraryViewSettings,a=(0,s.useCallback)((function(e){var t,r;e.preventDefault();var a=e.target.value,o=null!==(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.Tags)&&void 0!==r?r:[],l=o.includes(a)?o.filter((function(e){return e!==a})):un(un([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(o),!1),[a],!1);i((function(e){return sn(sn({},e),{StartIndex:0,Filters:sn(sn({},e.Filters),{Tags:l.length?l:void 0})})}))}),[i,null===(t=n.Filters)||void 0===t?void 0:t.Tags]);return(0,l.jsx)(Mr.Z,{children:r.map((function(e){var t,r;return(0,l.jsx)(Er.Z,{control:(0,l.jsx)(Lr.Z,{checked:!!(null===(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.Tags)||void 0===r?void 0:r.includes(String(e))),onChange:a,value:String(e)}),label:e},e)}))})},dn=function(){return dn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},dn.apply(this,arguments)},vn=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o},mn=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},pn=[{label:"SD",value:a.IsSD},{label:"HD",value:a.IsHD},{label:"4K",value:a.Is4K},{label:"3D",value:a.Is3D}],fn=[{label:"DVD",value:u.ZSX.Dvd},{label:"Blu-ray",value:u.ZSX.BluRay},{label:"ISO",value:u.ZSX.Iso}],hn=function(e){var t,r,n=e.libraryViewSettings,i=e.setLibraryViewSettings,a=(0,s.useCallback)((function(e){var t,r;e.preventDefault();var a=e.target.value,o=null!==(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.VideoBasicFilter)&&void 0!==r?r:[],l=o.includes(a)?o.filter((function(e){return e!==a})):mn(mn([],vn(o),!1),[a],!1);i((function(e){return dn(dn({},e),{Filters:dn(dn({},e.Filters),{VideoBasicFilter:l.length?l:void 0})})}))}),[i,null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.VideoBasicFilter]),o=(0,s.useCallback)((function(e){var t,r;e.preventDefault();var a=e.target.value,o=null!==(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.VideoTypes)&&void 0!==r?r:[],l=o.includes(a)?o.filter((function(e){return e!==a})):mn(mn([],vn(o),!1),[a],!1);i((function(e){return dn(dn({},e),{StartIndex:0,Filters:dn(dn({},e.Filters),{VideoTypes:l.length?l:void 0})})}))}),[i,null===(r=null==n?void 0:n.Filters)||void 0===r?void 0:r.VideoTypes]);return(0,l.jsxs)(Mr.Z,{children:[pn.map((function(e){var t,r;return(0,l.jsx)(Er.Z,{control:(0,l.jsx)(Lr.Z,{checked:!!(null===(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.VideoBasicFilter)||void 0===r?void 0:r.includes(e.value)),onChange:a,value:e.value}),label:e.label},e.value)})),fn.map((function(e){var t,r;return(0,l.jsx)(Er.Z,{control:(0,l.jsx)(Lr.Z,{checked:!!(null===(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.VideoTypes)||void 0===r?void 0:r.includes(e.value)),onChange:o,value:e.value}),label:e.label},e.value)}))]})},gn=function(){return gn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},gn.apply(this,arguments)},yn=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},bn=function(e){var t,r=e.yearsOptions,n=e.libraryViewSettings,i=e.setLibraryViewSettings,a=(0,s.useCallback)((function(e){var t,r;e.preventDefault();var a=Number(e.target.value),o=null!==(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.Years)&&void 0!==r?r:[],l=o.includes(a)?o.filter((function(e){return e!==a})):yn(yn([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(o),!1),[a],!1);i((function(e){return gn(gn({},e),{StartIndex:0,Filters:gn(gn({},e.Filters),{Years:l.length?l:void 0})})}))}),[i,null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.Years]);return(0,l.jsx)(Mr.Z,{children:r.map((function(e){var t,r;return(0,l.jsx)(Er.Z,{control:(0,l.jsx)(Lr.Z,{checked:!!(null===(r=null===(t=null==n?void 0:n.Filters)||void 0===t?void 0:t.Years)||void 0===r?void 0:r.includes(Number(e))),onChange:a,value:String(e)}),label:e},e)}))})},In=function(){return In=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},In.apply(this,arguments)},Tn=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o},xn=(0,Ar.ZP)((function(e){return(0,l.jsx)(jr.Z,In({disableGutters:!0,elevation:0,TransitionProps:{unmountOnExit:!0},square:!0},e))}))((function(e){var t=e.theme;return{border:"1px solid ".concat(t.palette.divider),"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}}})),Pn=(0,Ar.ZP)((function(e){return(0,l.jsx)(kr.Z,In({expandIcon:(0,l.jsx)(wr.Z,{sx:{fontSize:"0.9rem"}})},e))}))((function(e){var t=e.theme;return{backgroundColor:"dark"===t.palette.mode?"rgba(255, 255, 255, .05)":"rgba(0, 0, 0, .03)","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:t.spacing(1)}}})),Sn=(0,Ar.ZP)(Or.Z)((function(e){return{padding:e.theme.spacing(2),borderTop:"1px solid rgba(0, 0, 0, .125)"}})),wn=function(e){var t,r,n,i=e.parentId,a=e.itemType,o=e.viewType,u=e.hasFilters,v=e.libraryViewSettings,m=e.setLibraryViewSettings,p=Tn(s.useState(null),2),f=p[0],g=p[1],y=Tn(s.useState(!1),2),b=y[0],T=y[1],x=Boolean(f),P=x?"filter-popover":void 0,S=function(e,t){var r=(0,k.h_)(),n="livetv"===e;return(0,Z.a)({queryKey:["QueryFiltersLegacy",e,t],queryFn:function(n){var i=n.signal;return function(e,t,r,n){return Y(void 0,void 0,void 0,(function(){var i,a;return K(this,(function(o){switch(o.label){case 0:return i=e.api,a=e.user,i&&(null==a?void 0:a.Id)?[4,(0,h.W)(i).getQueryFiltersLegacy({userId:a.Id,parentId:null!=t?t:void 0,includeItemTypes:r},{signal:null==n?void 0:n.signal})]:[3,2];case 1:return[2,o.sent().data];case 2:return[2]}}))}))}(r,e,t,{signal:i})},enabled:!!e&&!n})}(i,a).data,w=function(e,t){var r=(0,k.h_)(),n="livetv"===e;return(0,Z.a)({queryKey:["Studios",e,t],queryFn:function(n){var i=n.signal;return function(e,t,r,n){return Y(void 0,void 0,void 0,(function(){var i,a;return K(this,(function(o){switch(o.label){case 0:return i=e.api,a=e.user,i&&(null==a?void 0:a.Id)?[4,(0,I.q)(i).getStudios({userId:a.Id,includeItemTypes:r,fields:[d.h.DateCreated,d.h.PrimaryImageAspectRatio],enableImageTypes:[c._.Thumb],parentId:null!=t?t:void 0,enableTotalRecordCount:!1},{signal:null==n?void 0:n.signal})]:[3,2];case 1:return[2,o.sent().data.Items];case 2:return[2]}}))}))}(r,e,t,{signal:i})},enabled:!!e&&!n})}(i,a).data,C=function(e){return function(t,r){T(!!r&&e)}},j=(0,s.useCallback)((function(e){g(e.currentTarget)}),[]),N=(0,s.useCallback)((function(){g(null)}),[]);return(0,l.jsxs)(le.Z,{children:[(0,l.jsx)(Ge.Z,{title:O.ZP.translate("Filter"),sx:{ml:2},"aria-describedby":P,className:"paper-icon-button-light btnFilter autoSize",onClick:j,children:(0,l.jsx)(Nr.Z,{color:"info",variant:"dot",invisible:!u,children:(0,l.jsx)(Zr.Z,{})})}),(0,l.jsxs)(Cr.ZP,{id:P,open:x,anchorEl:f,onClose:N,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},PaperProps:{style:{maxHeight:"50%",width:250}},children:[(0,l.jsxs)(xn,{expanded:"filtersStatus"===b,onChange:C("filtersStatus"),children:[(0,l.jsx)(Pn,{"aria-controls":"filtersStatus-content",id:"filtersStatus-header",children:(0,l.jsx)(Yt.Z,{children:O.ZP.translate("Filters")})}),(0,l.jsx)(Sn,{children:(0,l.jsx)(nn,{viewType:o,libraryViewSettings:v,setLibraryViewSettings:m})})]}),o===M.$.Series&&(0,l.jsxs)(xn,{expanded:"filtersSeriesStatus"===b,onChange:C("filtersSeriesStatus"),children:[(0,l.jsx)(Pn,{"aria-controls":"filtersSeriesStatus-content",id:"filtersSeriesStatus-header",children:(0,l.jsx)(Yt.Z,{children:O.ZP.translate("HeaderSeriesStatus")})}),(0,l.jsx)(Sn,{children:(0,l.jsx)(Jr,{libraryViewSettings:v,setLibraryViewSettings:m})})]}),o===M.$.Episodes&&(0,l.jsxs)(xn,{expanded:"filtersEpisodesStatus"===b,onChange:C("filtersEpisodesStatus"),children:[(0,l.jsx)(Pn,{"aria-controls":"filtersEpisodesStatus-content",id:"filtersEpisodesStatus-header",children:(0,l.jsx)(Yt.Z,{children:O.ZP.translate("HeaderEpisodesStatus")})}),(0,l.jsx)(Sn,{children:(0,l.jsx)(Yr,{libraryViewSettings:v,setLibraryViewSettings:m})})]}),(o===M.$.Movies||o===M.$.Series||o===M.$.Episodes)&&(0,l.jsxs)(xn,{expanded:"filtersFeatures"===b,onChange:C("filtersFeatures"),children:[(0,l.jsx)(Pn,{"aria-controls":"filtersFeatures-content",id:"filtersFeatures-header",children:(0,l.jsx)(Yt.Z,{children:O.ZP.translate("Features")})}),(0,l.jsx)(Sn,{children:(0,l.jsx)(Dr,{libraryViewSettings:v,setLibraryViewSettings:m})})]}),(o===M.$.Movies||o===M.$.Episodes)&&(0,l.jsxs)(xn,{expanded:"filtersVideoTypes"===b,onChange:C("filtersVideoTypes"),children:[(0,l.jsx)(Pn,{"aria-controls":"filtersVideoTypes-content",id:"filtersVideoTypes-header",children:(0,l.jsx)(Yt.Z,{children:O.ZP.translate("HeaderVideoType")})}),(0,l.jsx)(Sn,{children:(0,l.jsx)(hn,{libraryViewSettings:v,setLibraryViewSettings:m})})]}),(o===M.$.Movies||o===M.$.Series||o===M.$.Albums||o===M.$.AlbumArtists||o===M.$.Artists||o===M.$.Songs||o===M.$.Episodes)&&(0,l.jsxs)(l.Fragment,{children:[(null==S?void 0:S.Genres)&&(null===(t=null==S?void 0:S.Genres)||void 0===t?void 0:t.length)>0&&(0,l.jsxs)(xn,{expanded:"filtersGenres"===b,onChange:C("filtersGenres"),children:[(0,l.jsx)(Pn,{"aria-controls":"filtersGenres-content",id:"filtersGenres-header",children:(0,l.jsx)(Yt.Z,{children:O.ZP.translate("Genres")})}),(0,l.jsx)(Sn,{children:(0,l.jsx)($r,{genresOptions:S.Genres,libraryViewSettings:v,setLibraryViewSettings:m})})]}),(null==S?void 0:S.OfficialRatings)&&(null===(r=null==S?void 0:S.OfficialRatings)||void 0===r?void 0:r.length)>0&&(0,l.jsxs)(xn,{expanded:"filtersOfficialRatings"===b,onChange:C("filtersOfficialRatings"),children:[(0,l.jsx)(Pn,{"aria-controls":"filtersOfficialRatings-content",id:"filtersOfficialRatings-header",children:(0,l.jsx)(Yt.Z,{children:O.ZP.translate("HeaderParentalRatings")})}),(0,l.jsx)(Sn,{children:(0,l.jsx)(qr,{OfficialRatingsOptions:S.OfficialRatings,libraryViewSettings:v,setLibraryViewSettings:m})})]}),(null==S?void 0:S.Tags)&&(null==S?void 0:S.Tags.length)>0&&(0,l.jsxs)(xn,{expanded:"filtersTags"===b,onChange:C("filtersTags"),children:[(0,l.jsx)(Pn,{"aria-controls":"filtersTags-content",id:"filtersTags-header",children:(0,l.jsx)(Yt.Z,{children:O.ZP.translate("Tags")})}),(0,l.jsx)(Sn,{children:(0,l.jsx)(cn,{tagsOptions:S.Tags,libraryViewSettings:v,setLibraryViewSettings:m})})]}),(null==S?void 0:S.Years)&&(null===(n=null==S?void 0:S.Years)||void 0===n?void 0:n.length)>0&&(0,l.jsxs)(xn,{expanded:"filtersYears"===b,onChange:C("filtersYears"),children:[(0,l.jsx)(Pn,{"aria-controls":"filtersYears-content",id:"filtersYears-header",children:(0,l.jsx)(Yt.Z,{children:O.ZP.translate("HeaderYears")})}),(0,l.jsx)(Sn,{children:(0,l.jsx)(bn,{yearsOptions:S.Years,libraryViewSettings:v,setLibraryViewSettings:m})})]})]}),(o===M.$.Movies||o===M.$.Series)&&w&&(0,l.jsxs)(xn,{expanded:"filtersStudios"===b,onChange:C("filtersStudios"),children:[(0,l.jsx)(Pn,{"aria-controls":"filtersStudios-content",id:"filtersStudios-header",children:(0,l.jsx)(Yt.Z,{children:O.ZP.translate("Studios")})}),(0,l.jsx)(Sn,{children:(0,l.jsx)(ln,{studiosOptions:w,libraryViewSettings:v,setLibraryViewSettings:m})})]})]})]})},Zn=r(78633),Cn=function(){var e=(0,s.useCallback)((function(){r.e(19449).then(r.bind(r,19449)).then((function(e){var t=e.default,r=window.ApiClient.serverId();(new t).show({items:[],serverId:r}).catch((function(){}))})).catch((function(e){console.error("[NewCollection] failed to load collection editor",e)}))}),[]);return(0,l.jsx)(Ge.Z,{title:O.ZP.translate("Add"),className:"paper-icon-button-light btnNewCollection autoSize",onClick:e,children:(0,l.jsx)(Zn.Z,{})})},jn=r(91434),On=r(97210),kn=function(){return kn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},kn.apply(this,arguments)},Nn=function(e){var t,r=e.libraryViewSettings,n=e.setLibraryViewSettings,i=e.totalRecordCount,a=e.isPreviousData,o=N.libraryPageSize(void 0),u=null!==(t=r.StartIndex)&&void 0!==t?t:0,c=i?u+1:0,d=o?Math.min(u+o,i):i,v=o>0&&o<i,m=(0,s.useCallback)((function(){var e=u+o;n((function(t){return kn(kn({},t),{StartIndex:e})}))}),[o,n,u]),p=(0,s.useCallback)((function(){var e=Math.max(0,u-o);n((function(t){return kn(kn({},t),{StartIndex:e})}))}),[o,n,u]);return(0,l.jsx)(le.Z,{className:"paging",children:(0,l.jsxs)(le.Z,{className:"listPaging",style:{display:"flex",alignItems:"center"},children:[(0,l.jsx)("span",{children:O.ZP.translate("ListPaging",c,d,i)}),v&&(0,l.jsxs)(Xe.Z,{children:[(0,l.jsx)(Ge.Z,{title:O.ZP.translate("Previous"),className:"paper-icon-button-light btnPreviousPage autoSize",disabled:0==u||a,onClick:p,children:(0,l.jsx)(jn.Z,{})}),(0,l.jsx)(Ge.Z,{title:O.ZP.translate("Next"),className:"paper-icon-button-light btnNextPage autoSize",disabled:u+o>=i||a,onClick:m,children:(0,l.jsx)(On.Z,{})})]})]})})},An=function(){return An=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},An.apply(this,arguments)},Mn=function(e){var t=e.item,r=e.items,n=e.viewType,i=e.hasFilters,a=e.libraryViewSettings,o=(0,s.useCallback)((function(){var e;t&&!i?he.O.play({items:[t],autoplay:!0,queryOptions:{SortBy:[a.SortBy],SortOrder:[a.SortOrder]}}):he.O.play({items:r,autoplay:!0,queryOptions:An(An({ParentId:null!==(e=null==t?void 0:t.Id)&&void 0!==e?e:void 0},D(n,a)),{SortBy:[a.SortBy],SortOrder:[a.SortOrder]})})}),[i,t,r,a,n]);return(0,l.jsx)(Ge.Z,{title:O.ZP.translate("HeaderPlayAll"),className:"paper-icon-button-light btnPlay autoSize",onClick:o,children:(0,l.jsx)(Ye.Z,{})})},En=r(11501),Ln=function(e){var t=e.item,r=e.items,n=e.hasFilters,i=(0,s.useCallback)((function(){t&&!n?he.O.queue({items:[t]}):he.O.queue({items:r})}),[n,t,r]);return(0,l.jsx)(Ge.Z,{title:O.ZP.translate("AddToPlayQueue"),className:"paper-icon-button-light btnQueue autoSize",onClick:i,children:(0,l.jsx)(En.Z,{})})},Rn=r(8199),Fn=function(){return Fn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Fn.apply(this,arguments)},Bn=function(e){var t=e.item,r=e.items,n=e.viewType,i=e.hasFilters,a=e.libraryViewSettings,o=(0,s.useCallback)((function(){var e;t&&!i?he.O.shuffle(t):he.O.play({items:r,autoplay:!0,queryOptions:Fn(Fn({ParentId:null!==(e=null==t?void 0:t.Id)&&void 0!==e?e:void 0},D(n,a)),{SortBy:[p.X.Random]})})}),[i,t,r,a,n]);return(0,l.jsx)(Ge.Z,{title:O.ZP.translate("Shuffle"),className:"paper-icon-button-light btnShuffle autoSize",onClick:o,children:(0,l.jsx)(Rn.Z,{})})},Dn=r(28103),Vn=r(60006),Un=r(78972),$n=r(14264),_n=r(55599),Hn=r(59701),qn=function(){return qn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qn.apply(this,arguments)},Wn=[{label:"Name",value:p.X.SortName},{label:"OptionRandom",value:p.X.Random},{label:"OptionImdbRating",value:p.X.CommunityRating},{label:"OptionCriticRating",value:p.X.CriticRating},{label:"OptionDateAdded",value:p.X.DateCreated},{label:"OptionDatePlayed",value:p.X.DatePlayed},{label:"OptionParentalRating",value:p.X.OfficialRating},{label:"OptionPlayCount",value:p.X.PlayCount},{label:"OptionReleaseDate",value:p.X.PremiereDate},{label:"Runtime",value:p.X.Runtime}],Xn=((Jt={})[M.$.Movies]=Wn,Jt[M.$.Trailers]=[{label:"Name",value:p.X.SortName},{label:"OptionImdbRating",value:p.X.CommunityRating},{label:"OptionDateAdded",value:p.X.DateCreated},{label:"OptionDatePlayed",value:p.X.DatePlayed},{label:"OptionParentalRating",value:p.X.OfficialRating},{label:"OptionPlayCount",value:p.X.PlayCount},{label:"OptionReleaseDate",value:p.X.PremiereDate}],Jt[M.$.Favorites]=Wn,Jt[M.$.Series]=[{label:"Name",value:p.X.SortName},{label:"OptionRandom",value:p.X.Random},{label:"OptionImdbRating",value:p.X.CommunityRating},{label:"OptionDateShowAdded",value:p.X.DateCreated},{label:"OptionDateEpisodeAdded",value:p.X.DateLastContentAdded},{label:"OptionDatePlayed",value:p.X.SeriesDatePlayed},{label:"OptionParentalRating",value:p.X.OfficialRating},{label:"OptionReleaseDate",value:p.X.PremiereDate}],Jt[M.$.Episodes]=[{label:"Name",value:p.X.SeriesSortName},{label:"OptionImdbRating",value:p.X.CommunityRating},{label:"OptionDateAdded",value:p.X.DateCreated},{label:"OptionReleaseDate",value:p.X.PremiereDate},{label:"OptionDatePlayed",value:p.X.DatePlayed},{label:"OptionParentalRating",value:p.X.OfficialRating},{label:"OptionPlayCount",value:p.X.PlayCount},{label:"Runtime",value:p.X.Runtime},{label:"OptionRandom",value:p.X.Random}],Jt[M.$.Albums]=[{label:"Name",value:p.X.SortName},{label:"OptionRandom",value:p.X.Random},{label:"AlbumArtist",value:p.X.AlbumArtist},{label:"OptionImdbRating",value:p.X.CommunityRating},{label:"OptionCriticRating",value:p.X.CriticRating},{label:"OptionReleaseDate",value:p.X.ProductionYear},{label:"OptionDateAdded",value:p.X.DateCreated}],Jt[M.$.Songs]=[{label:"Name",value:p.X.SortName},{label:"Album",value:p.X.Album},{label:"AlbumArtist",value:p.X.AlbumArtist},{label:"Artist",value:p.X.Artist},{label:"OptionDateAdded",value:p.X.DateCreated},{label:"OptionDatePlayed",value:p.X.DatePlayed},{label:"OptionPlayCount",value:p.X.PlayCount},{label:"OptionReleaseDate",value:p.X.PremiereDate},{label:"Runtime",value:p.X.Runtime},{label:"OptionRandom",value:p.X.Random}],Jt),Gn=[{label:"Ascending",value:u.Asd.Ascending},{label:"Descending",value:u.Asd.Descending}],Yn=function(e){var t=e.viewType,r=e.libraryViewSettings,n=e.setLibraryViewSettings,i=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(s.useState(null),2),a=i[0],o=i[1],u=Boolean(a),c=u?"sort-popover":void 0,d=(0,s.useCallback)((function(e){o(e.currentTarget)}),[]),v=(0,s.useCallback)((function(){o(null)}),[]),m=(0,s.useCallback)((function(e){var t=e.target.name;n((function(r){var n;return qn(qn({},r),((n={StartIndex:0})[t]=e.target.value,n))}))}),[n]),p=function(e){return Xn[e]||[]}(t);return(0,l.jsxs)(le.Z,{children:[(0,l.jsx)(Ge.Z,{title:O.ZP.translate("Sort"),sx:{ml:2},"aria-describedby":c,className:"paper-icon-button-light btnSort autoSize",onClick:d,children:(0,l.jsx)(Hn.Z,{})}),(0,l.jsxs)(Cr.ZP,{id:c,open:u,anchorEl:a,onClose:v,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},sx:{"& .MuiFormControl-root":{m:1,width:200}},children:[(0,l.jsxs)($n.Z,{fullWidth:!0,children:[(0,l.jsx)(Un.Z,{id:"select-sort-label",children:(0,l.jsx)(Yt.Z,{component:"span",children:O.ZP.translate("LabelSortBy")})}),(0,l.jsx)(_n.Z,{labelId:"select-sort-label",id:"selectSortBy",value:r.SortBy,label:O.ZP.translate("LabelSortBy"),name:"SortBy",onChange:m,children:p.map((function(e){return(0,l.jsx)(Dn.Z,{value:e.value,children:(0,l.jsx)(Yt.Z,{component:"span",children:O.ZP.translate(e.label)})},e.value)}))})]}),(0,l.jsx)(Vn.Z,{}),(0,l.jsxs)($n.Z,{fullWidth:!0,children:[(0,l.jsx)(Un.Z,{id:"select-sortorder-label",children:(0,l.jsx)(Yt.Z,{component:"span",children:O.ZP.translate("LabelSortOrder")})}),(0,l.jsx)(_n.Z,{labelId:"select-sortorder-label",id:"selectSortOrder",value:r.SortOrder,label:O.ZP.translate("LabelSortOrder"),name:"SortOrder",onChange:m,children:Gn.map((function(e){return(0,l.jsx)(Dn.Z,{value:e.value,children:(0,l.jsx)(Yt.Z,{component:"span",children:e.label})},e.value)}))})]})]})]})},Kn=r(15665),zn=r(51157),Qn=r(18313),Jn=function(){return Jn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Jn.apply(this,arguments)},ei=[M.$.Episodes,M.$.Artists,M.$.AlbumArtists,M.$.Albums],ti=[{label:"Primary",value:u.__M.Primary},{label:"Banner",value:u.__M.Banner},{label:"Disc",value:u.__M.Disc},{label:"Logo",value:u.__M.Logo},{label:"Thumb",value:u.__M.Thumb}],ri=function(e){var t=e.viewType,r=e.libraryViewSettings,n=e.setLibraryViewSettings,i=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(s.useState(null),2),a=i[0],o=i[1],u=Boolean(a),c=u?"selectview-popover":void 0,d=(0,s.useCallback)((function(e){o(e.currentTarget)}),[]),v=(0,s.useCallback)((function(){o(null)}),[]),m=(0,s.useCallback)((function(e){var t=e.target.name;n((function(r){var n;return Jn(Jn({},r),((n={})[t]=e.target.checked,n))}))}),[n]),p=(0,s.useCallback)((function(e){n((function(t){return Jn(Jn({},t),{ImageType:e.target.value})}))}),[n]),f=!ei.includes(t);return(0,l.jsxs)(le.Z,{children:[(0,l.jsx)(Ge.Z,{title:O.ZP.translate("ButtonSelectView"),sx:{ml:2},"aria-describedby":c,className:"paper-icon-button-light btnSelectView autoSize",onClick:d,children:(0,l.jsx)(Qn.Z,{})}),(0,l.jsxs)(Cr.ZP,{id:c,open:u,anchorEl:a,onClose:v,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},sx:{"& .MuiFormControl-root":{m:1,width:220}},children:[f&&(0,l.jsxs)($n.Z,{children:[(0,l.jsx)(Un.Z,{id:"select-sort-label",children:(0,l.jsx)(Yt.Z,{component:"span",children:O.ZP.translate("LabelImageType")})}),(0,l.jsx)(_n.Z,{value:r.ImageType,label:O.ZP.translate("LabelImageType"),onChange:p,children:ti.map((function(e){return(0,l.jsx)(Dn.Z,{value:e.value,children:(0,l.jsx)(Yt.Z,{component:"span",children:O.ZP.translate(e.label)})},e.value)}))})]}),(0,l.jsx)(Vn.Z,{}),(0,l.jsx)($n.Z,{children:(0,l.jsxs)(Mr.Z,{children:[(0,l.jsx)(Er.Z,{control:(0,l.jsx)(Lr.Z,{checked:r.ShowTitle,onChange:m,name:"ShowTitle"}),label:O.ZP.translate("ShowTitle")}),f&&(0,l.jsx)(Er.Z,{control:(0,l.jsx)(Lr.Z,{checked:r.ShowYear,onChange:m,name:"ShowYear"}),label:O.ZP.translate("ShowYear")}),(0,l.jsx)(Er.Z,{control:(0,l.jsx)(Lr.Z,{checked:r.CardLayout,onChange:m,name:"CardLayout"}),label:O.ZP.translate("EnableCardLayout")})]})})]})]})},ni=function(){return ni=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ni.apply(this,arguments)},ii=function(e){var t=e.viewType,r=e.libraryViewSettings,n=e.setLibraryViewSettings,i=(0,s.useCallback)((function(){n((function(e){return ni(ni({},e),{ViewMode:e.ViewMode===o.ListView?o.GridView:o.ListView})}))}),[n]),a=r.ViewMode===o.GridView;return(0,l.jsxs)(Xe.Z,{children:[a?(0,l.jsx)(ri,{viewType:t,libraryViewSettings:r,setLibraryViewSettings:n}):(0,l.jsx)(Ge.Z,{title:O.ZP.translate("GridView"),className:"paper-icon-button-light autoSize",disabled:a,onClick:i,children:(0,l.jsx)(Kn.Z,{})}),(0,l.jsx)(Ge.Z,{title:O.ZP.translate("ListView"),className:"paper-icon-button-light autoSize",disabled:!a,onClick:i,children:(0,l.jsx)(zn.Z,{})})]})},ai=function(e){var t=e.noItemsMessage,r=void 0===t?"MessageNoItemsAvailable":t;return(0,l.jsxs)(le.Z,{className:"noItemsMessage centerMessage",children:[(0,l.jsx)(Yt.Z,{variant:"h2",children:O.ZP.translate("MessageNothingHere")}),(0,l.jsx)(Yt.Z,{paragraph:!0,variant:"h2",children:O.ZP.translate(r)})]})},oi=r(3316);function li(e){return Boolean(e&&e>0)}var si=function(e){var t=e.index,r=e.children;return 0===t?(0,l.jsx)(Yt.Z,{className:"listGroupHeader listGroupHeader-first",variant:"h2",children:r}):(0,l.jsx)(Yt.Z,{className:"listGroupHeader",variant:"h2",children:r})},ui=r(83315);var ci=function(e){var t,r,n=e.item,i=e.isYearEnabled,a=void 0!==i&&i,o=e.isContainerEnabled,l=void 0!==o&&o,s=e.isEpisodeTitleEnabled,u=void 0!==s&&s,c=e.isOriginalAirDateEnabled,d=void 0!==c&&c,v=e.isRuntimeEnabled,m=void 0!==v&&v,p=e.isProgramIndicatorEnabled,f=void 0!==p&&p,h=e.isEpisodeTitleIndexNumberEnabled,g=void 0!==h&&h,y=e.isOfficialRatingEnabled,b=void 0!==y&&y,I=n.EndDate,T=n.Status,x=n.StartDate,P=n.ProductionYear,S=n.Video3DFormat,w=n.Type,Z=n.Width,C=n.Height,k=n.MediaType,A=n.SongCount,M=n.RecordAnyTime,E=n.RecordAnyChannel,L=n.ChannelName,R=n.ChildCount,F=n.RunTimeTicks,B=n.PremiereDate,D=n.OfficialRating,V=n.Container,U=[],_=function(e){e&&U.push(e)},H=(r=k,(t=w)===$.k.MusicAlbum||"MusicArtist"===r||t===$.k.Playlist||"Playlist"===r||"MusicGenre"===r);return function(e,t,r,n,i,a){if(e)(o=null!=t?t:r)&&a({text:O.ZP.translate("TrackCount",o)}),n&&a({text:j.ZP.getDisplayDuration(n)});else if(i===$.k.PhotoAlbum||i===$.k.BoxSet){var o;(o=r)&&a({text:O.ZP.translate("ItemCount",o)})}}(H,A,R,F,w,_),function(e,t,r,n,i){if(n&&(e===$.k.Episode||"Photo"===t)&&r)try{var a=j.ZP.parseISO8601Date(n,e!==$.k.Episode);i({text:j.ZP.toLocaleDateString(a)})}catch(e){console.error("error parsing date:",n)}}(w,k,d,B,_),function(e,t,r,n,i,a){"SeriesTimer"===e&&(a(t?{text:O.ZP.translate("Anytime")}:{text:j.ZP.getDisplayTime(r)}),a(n?{text:O.ZP.translate("AllChannels")}:{text:null!=i?i:O.ZP.translate("OneChannel")}))}(w,M,x,E,L,_),function(e,t,r){if(e&&t!==$.k.Program&&"SeriesTimer"!==t&&"Timer"!==t)try{var n=j.ZP.parseISO8601Date(e);r({text:j.ZP.toLocaleDateString(n)}),t!==$.k.Recording&&r({text:j.ZP.getDisplayTime(n)})}catch(t){console.error("error parsing date:",e)}}(x,w,_),function(e,t,r,n,i,a){e&&r&&t===$.k.Series&&("Continuing"===n?a({text:O.ZP.translate("SeriesYearToPresent",j.ZP.toLocaleString(e,{useGrouping:!1}))}):function(e,t,r){var n=j.ZP.toLocaleString(e,{useGrouping:!1});if(t)try{var i=j.ZP.toLocaleString(j.ZP.parseISO8601Date(t).getFullYear(),{useGrouping:!1});i!==e&&(n+="-".concat(i))}catch(e){console.error("error parsing date:",t)}r({text:n})}(e,i,a))}(P,w,a,T,I,_),function(e,t,r,n,i,a,o){if(e.Type===$.k.Program||"Timer"===e.Type){var l=e;"Timer"===e.Type&&e.ProgramInfo&&(l=e.ProgramInfo),!1!==i&&function(e,t){(null==e?void 0:e.IsLive)&&"true"===N.get("guide-indicator-live",!1)?t({text:O.ZP.translate("Live"),cssClass:"mediaInfoProgramAttribute liveTvProgram"}):(null==e?void 0:e.IsPremiere)&&"true"===N.get("guide-indicator-premiere",!1)?t({text:O.ZP.translate("Premiere"),cssClass:"mediaInfoProgramAttribute premiereTvProgram"}):(null==e?void 0:e.IsSeries)&&!(null==e?void 0:e.IsRepeat)&&"true"===N.get("guide-indicator-new",!1)?t({text:O.ZP.translate("New"),cssClass:"mediaInfoProgramAttribute newTvProgram"}):(null==e?void 0:e.IsSeries)&&(null==e?void 0:e.IsRepeat)&&"true"===N.get("guide-indicator-repeat",!1)&&t({text:O.ZP.translate("Repeat"),cssClass:"mediaInfoProgramAttribute repeatTvProgram"})}(l,o),function(e,t,r,n,i,a){if(((null==e?void 0:e.IsSeries)||(null==e?void 0:e.EpisodeTitle))&&!1!==t)(o=tt.ZP.getDisplayName(e,{includeIndexNumber:r}))&&a({text:o});else if((null==e?void 0:e.ProductionYear)&&((null==e?void 0:e.IsMovie)&&!1!==n||!1!==i))a({text:e.ProductionYear});else if((null==e?void 0:e.PremiereDate)&&!1!==n)try{var o,l=j.ZP.parseISO8601Date(e.PremiereDate);a({text:o=O.ZP.translate("OriginalAirDateValue",j.ZP.toLocaleDateString(l))})}catch(t){console.error("error parsing date:",e.PremiereDate)}}(l,r,a,n,t,o)}}(n,f,u,g,d,a,_),function(e,t,r,n,i,a){if(e&&t!==$.k.Series&&t!==$.k.Episode&&t!==$.k.Person&&"Photo"!==r&&t!==$.k.Program&&t!==$.k.Season)if(n)a({text:n});else if(i)try{a({text:j.ZP.toLocaleString(j.ZP.parseISO8601Date(i).getFullYear(),{useGrouping:!1})})}catch(e){console.error("error parsing date:",i)}}(a,w,k,P,B,_),function(e,t,r,n,i){e&&t!==$.k.Series&&t!==$.k.Program&&"Timer"!==t&&t!==$.k.Book&&!r&&n&&(t===$.k.Audio?i({text:j.ZP.getDisplayRunningTime(e)}):i({text:j.ZP.getDisplayDuration(e)}))}(F,w,H,m,_),function(e,t,r,n){e&&r&&t!==$.k.Season&&t!==$.k.Episode&&n({text:e,cssClass:"mediaInfoOfficialRating"})}(D,w,b,_),function(e,t){e&&t({text:"3D"})}(S,_),function(e,t,r,n){"Photo"===e&&t&&r&&n({text:"".concat(t,"x").concat(r)})}(k,Z,C,_),function(e,t,r,n){e&&t&&r===$.k.Audio&&n({text:e})}(V,l,w,_),U},di=function(e){var t=e.className,r=e.miscInfo,n=oe()("mediaInfoItem","mediaInfoText",t,null==r?void 0:r.cssClass);return(0,l.jsx)(le.Z,{className:n,children:null==r?void 0:r.text})},vi=r(78011),mi=function(e){var t=e.className,r=e.communityRating,n=(0,Ht.Z)(),i=oe()("mediaInfoItem","mediaInfoText","starRatingContainer",t);return(0,l.jsxs)(le.Z,{className:i,children:[(0,l.jsx)(vi.Z,{fontSize:"small",sx:{color:n.palette.starIcon.main}}),r.toFixed(1)]})},pi=r(58056),fi=function(e){var t=e.className,r=oe()("mediaInfoItem","mediaInfoText","closedCaptionMediaInfoText",t);return(0,l.jsx)(le.Z,{className:r,children:(0,l.jsx)(pi.Z,{fontSize:"small"})})},hi=function(e){var t=e.className,r=e.criticRating,n=oe()("mediaInfoCriticRating","mediaInfoItem",r>=60?"mediaInfoCriticRatingFresh":"mediaInfoCriticRatingRotten",t);return(0,l.jsx)(le.Z,{className:n,children:r})},gi=function(e){var t=e.runTimeTicks,r=e.className,n=oe()("mediaInfoItem","mediaInfoText","endsAt",r),i=(new Date).getTime()+t/1e4,a=new Date(i),o=j.ZP.getDisplayTime(a);return(0,l.jsx)(le.Z,{className:n,children:O.ZP.translate("EndsAtValue",o)})},yi=function(e){var t=e.className,r=e.item,n=e.isYearEnabled,i=void 0!==n&&n,a=e.isContainerEnabled,o=void 0!==a&&a,s=e.isEpisodeTitleEnabled,u=void 0!==s&&s,c=e.isCriticRatingEnabled,d=void 0!==c&&c,v=e.isEndsAtEnabled,m=void 0!==v&&v,p=e.isOriginalAirDateEnabled,f=void 0!==p&&p,h=e.isRuntimeEnabled,g=void 0!==h&&h,y=e.isProgramIndicatorEnabled,b=void 0!==y&&y,I=e.isEpisodeTitleIndexNumberEnabled,T=void 0!==I&&I,x=e.isOfficialRatingEnabled,P=void 0!==x&&x,S=e.isStarRatingEnabled,w=void 0!==S&&S,Z=e.isCaptionIndicatorEnabled,C=void 0!==Z&&Z,j=e.isMissingIndicatorEnabled,O=void 0!==j&&j,k=e.getMissingIndicator,N=ci({item:r,isYearEnabled:i,isContainerEnabled:o,isEpisodeTitleEnabled:u,isOriginalAirDateEnabled:f,isRuntimeEnabled:g,isProgramIndicatorEnabled:b,isEpisodeTitleIndexNumberEnabled:T,isOfficialRatingEnabled:P}),A=r.StartDate,M=r.HasSubtitles,E=r.MediaType,L=r.RunTimeTicks,R=r.CommunityRating,F=r.CriticRating,B=oe()(t);return(0,l.jsxs)(le.Z,{className:B,children:[N.map((function(e,t){return function(e,t){return(0,l.jsx)(di,{miscInfo:e},t)}(e,t)})),w&&R&&(0,l.jsx)(mi,{communityRating:R}),M&&C&&(0,l.jsx)(fi,{}),F&&d&&(0,l.jsx)(hi,{criticRating:F}),m&&"Video"===E&&L&&!A&&(0,l.jsx)(gi,{runTimeTicks:L}),O&&k()]})},bi=function(e){var t=e.itemOverview,r=e.enableContentWrapper,n=e.enableOverview,i=e.children;return r?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(le.Z,{className:"listItem-content",children:i}),n&&t&&(0,l.jsx)(le.Z,{className:"listItem-bottomoverview secondary",children:(0,l.jsx)("bdi",{children:t})})]}):(0,l.jsx)(l.Fragment,{children:i})},Ii=function(e){var t=e.index,r=e.isLargeStyle,n=e.children;return 0===t?r?(0,l.jsx)(Yt.Z,{className:"listItemBodyText",variant:"h2",children:n}):(0,l.jsx)(le.Z,{className:"listItemBodyText",children:n}):(0,l.jsx)(le.Z,{className:"secondary listItemBodyText",children:n})},Ti=function(e){var t=e.item,r=void 0===t?{}:t,n=e.listOptions,i=void 0===n?{}:n,a=e.action,o=e.isLargeStyle,s=e.clickEntireItem,u=e.enableContentWrapper,c=e.enableOverview,d=e.enableSideMediaInfo,v=e.getMissingIndicator,m=function(e){var t=e.item,r=void 0===t?{}:t,n=e.listOptions,i=void 0===n?{}:n,a=e.isLargeStyle,o=i.showProgramDateTime,s=i.showProgramTime,u=i.showChannel,c=i.showParentTitle,d=i.showIndexNumber,v=i.parentTitleWithTitle,m=i.artist,p=[],f=function(e){e&&p.push(e)},h=function(e,t,r){var n=tt.ZP.getDisplayName(e,{includeParentInfo:t.includeParentInfoInTitle});return r&&null!=e.IndexNumber&&(n="".concat(e.IndexNumber,". ").concat(n)),n}(r,i,d),g=function(e,t,r,n){var i=null;return e&&(t.Type===$.k.Episode?i=t.SeriesName:(t.IsSeries||t.EpisodeTitle&&t.Name)&&(i=t.Name)),e&&r&&(n&&(i+=" - "),i=(null!=i?i:"")+n),i}(c,r,v,h);return function(){if(o){var e=j.ZP.toLocaleString(j.ZP.parseISO8601Date(r.StartDate),{weekday:"long",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"});f(e)}}(),function(){if(s){var e=j.ZP.getDisplayTime(j.ZP.parseISO8601Date(r.StartDate));f(e)}}(),u&&r.ChannelName&&f(r.ChannelName),f(null!=g?g:""),h&&!v&&f(h),function(){if(r.IsFolder&&!1!==m)r.AlbumArtist&&r.Type===$.k.MusicAlbum&&f(r.AlbumArtist);else if(m){var e=r.ArtistItems;if(e&&r.Type!==$.k.MusicAlbum){var t=e.map((function(e){return e.Name})).join(", ");f(t)}}}(),function(){if(r.Type===$.k.TvChannel&&r.CurrentProgram){var e=tt.ZP.getDisplayName(r.CurrentProgram);f(e)}}(),{listTextLines:null==p?void 0:p.map((function(e,t){return function(e,t){return(0,l.jsx)(Ii,{index:t,isLargeStyle:a,children:(0,l.jsx)("bdi",{children:e})},t)}(e,t)}))}}({item:r,listOptions:i,isLargeStyle:o}).listTextLines,p=oe()("listItemBody",{itemAction:!s},{"listItemBody-noleftpadding":!1===i.image});return(0,l.jsxs)(le.Z,{"data-action":a,className:p,children:[m,!1!==i.mediaInfo&&!d&&(0,l.jsx)(yi,{className:"secondary listItemMediaInfo listItemBodyText",item:r,isEpisodeTitleEnabled:!0,isOriginalAirDateEnabled:!0,isCaptionIndicatorEnabled:!0,getMissingIndicator:v}),!u&&c&&r.Overview&&(0,l.jsx)(le.Z,{className:"secondary listItem-overview listItemBodyText",children:(0,l.jsx)("bdi",{children:r.Overview})})]})},xi=function(e){var t,r,n=e.item,i=void 0===n?{}:n,a=e.listOptions,o=e.action,s=e.isLargeStyle,c=e.clickEntireItem,d=e.downloadWidth,v=(0,k.h_)().api,m=Xt(i),p=m.getMediaSourceIndicator,f=m.getProgressBar,h=m.getPlayedIndicator,g="channel"===a.imageSource?function(e,t,r){var n,i,a,o,l=r,s=r,c=u.__M.Primary;return e.ChannelId&&e.ChannelPrimaryImageTag&&(a=e.ChannelPrimaryImageTag,o=e.ChannelId),t&&a&&c&&o?{imgUrl:t.getItemImageUrl(o,c,{fillWidth:l,fillHeight:s,tag:a}),blurhash:null===(i=null===(n=e.ImageBlurHashes)||void 0===n?void 0:n[c])||void 0===i?void 0:i[a]}:{imgUrl:void 0,blurhash:void 0}}(i,v,d):function(e,t,r){var n,i,a,o,l,s=r,c=r,d=u.__M.Primary;return(null===(n=e.ImageTags)||void 0===n?void 0:n.Primary)?(o=e.ImageTags.Primary,l=e.Id):e.AlbumId&&e.AlbumPrimaryImageTag?(o=e.AlbumPrimaryImageTag,l=e.AlbumId):e.SeriesId&&e.SeriesPrimaryImageTag?(o=e.SeriesPrimaryImageTag,l=e.SeriesId):e.ParentPrimaryImageTag&&(o=e.ParentPrimaryImageTag,l=e.ParentPrimaryImageItemId),t&&o&&d&&l?{imgUrl:(0,Be.I)(t).getItemImageUrlById(l,d,{fillWidth:s,fillHeight:c,tag:o}),blurhash:null===(a=null===(i=e.ImageBlurHashes)||void 0===i?void 0:i[d])||void 0===a?void 0:a[o]}:{imgUrl:void 0,blurhash:void 0}}(i,v,d),y=a.defaultCardImageIcon,b=a.disableIndicators,I=null==g?void 0:g.imgUrl,T=g.blurhash,x=oe()("listItemImage",{"listItemImage-large":s},{"listItemImage-channel":"channel"===a.imageSource},{"listItemImage-large-tv":s&&A.Z.tv},{itemAction:!c},((t={})[(0,De.Rk)(i.Name)]=!I,t)),P=a.imagePlayButton&&!A.Z.tv,S=P?"link":o,w=p(),Z=h(),C=f(),j=null===(r=null==i?void 0:i.UserData)||void 0===r?void 0:r.PlaybackPositionTicks;return(0,l.jsxs)(le.Z,{"data-action":S,className:x,children:[(0,l.jsx)(ar,{item:i,imgUrl:I,blurhash:T,defaultCardImageIcon:y}),!0!==b&&w,Z&&(0,l.jsx)(le.Z,{className:"indicators listItemIndicators",children:Z}),P&&(0,l.jsx)(Ke,{className:"paper-icon-button-light listItemImageButton itemAction",action:li(j)?"resume":"play",title:li(j)?"ButtonResume":"Play"}),C]})},Pi=r(60877),Si=function(e){var t=e.className;return(0,l.jsx)(Ge.Z,{className:t,"data-action":"addtoplaylist",title:O.ZP.translate("AddToPlaylist"),children:(0,l.jsx)(Pi.Z,{})})},wi=r(21800),Zi=function(e){var t=e.className;return(0,l.jsx)(Ge.Z,{className:t,"data-action":"link",title:O.ZP.translate("ButtonInfo"),children:(0,l.jsx)(wi.Z,{})})},Ci=function(e){var t=e.className,r=e.id,n=e.title,i=e.icon;return(0,l.jsx)(Ge.Z,{className:t,"data-action":"custom","data-customaction":r,title:n,children:i})},ji=function(e){var t,r=e.item,n=void 0===r?{}:r,i=e.listOptions,a=null!==(t=n.UserData)&&void 0!==t?t:{},o=a.IsFavorite,s=a.Played;return(0,l.jsxs)(le.Z,{className:"listViewUserDataButtons",children:[i.addToListButton&&(0,l.jsx)(Si,{className:"paper-icon-button-light listItemButton itemAction"}),i.infoButton&&(0,l.jsx)(Zi,{className:"paper-icon-button-light listItemButton itemAction"}),i.rightButtons&&function(){var e;return null===(e=i.rightButtons)||void 0===e?void 0:e.map((function(e,t){return(0,l.jsx)(Ci,{className:"listItemButton itemAction",id:e.id,title:e.title,icon:e.icon},t)}))}(),!1!==i.enableUserDataButtons&&(0,l.jsxs)(l.Fragment,{children:[tt.ZP.canMarkPlayed(n)&&!1!==i.enablePlayedButton&&(0,l.jsx)(at,{className:"listItemButton",isPlayed:s,itemId:n.Id,itemType:n.Type}),tt.ZP.canRate(n)&&!1!==i.enableRatingButton&&(0,l.jsx)(ut,{className:"listItemButton",isFavorite:o,itemId:n.Id})]}),!1!==i.moreButton&&(0,l.jsx)(Qe,{className:"paper-icon-button-light listItemButton itemAction"})]})},Oi=function(e){var t,r=e.item,n=e.listOptions,i=e.enableContentWrapper,a=e.enableOverview,o=e.enableSideMediaInfo,s=e.clickEntireItem,u=e.action,c=e.isLargeStyle,d=e.downloadWidth,v=Xt(r);return(0,l.jsxs)(bi,{itemOverview:r.Overview,enableContentWrapper:i,enableOverview:a,children:[!s&&n.dragHandle&&(0,l.jsx)(ui.Z,{className:"listViewDragHandle listItemIcon listItemIcon-transparent"}),!1!==n.image&&(0,l.jsx)(xi,{item:r,listOptions:n,action:u,isLargeStyle:c,clickEntireItem:s,downloadWidth:d}),n.showIndexNumberLeft&&(0,l.jsx)(le.Z,{className:"listItem-indexnumberleft",children:null!==(t=r.IndexNumber)&&void 0!==t?t:(0,l.jsx)("span",{children:""})}),(0,l.jsx)(Ti,{item:r,listOptions:n,action:u,enableContentWrapper:i,enableOverview:a,enableSideMediaInfo:o,getMissingIndicator:v.getMissingIndicator}),!1!==n.mediaInfo&&o&&(0,l.jsx)(yi,{className:"secondary listItemMediaInfo",item:r,isRuntimeEnabled:!0,isStarRatingEnabled:!0,isCaptionIndicatorEnabled:!0,isEpisodeTitleEnabled:!0,isOfficialRatingEnabled:!0,getMissingIndicator:v.getMissingIndicator}),n.recordButton&&("Timer"===r.Type||r.Type===$.k.Program)&&v.getTimerIndicator("listItemAside"),!s&&(0,l.jsx)(ji,{item:r,listOptions:n})]})},ki=r(79073),Ni=function(){return Ni=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ni.apply(this,arguments)},Ai=function(e){var t=e.index,r=e.action,n=e.title,i=e.className,a=e.dataAttributes,o=e.children;return A.Z.tv?(0,l.jsx)(ki.Z,Ni({"data-index":t,className:oe()(i,"itemAction listItem-button listItem-focusscale"),"data-action":r,"aria-label":n||""},a,{children:o})):(0,l.jsx)(le.Z,Ni({"data-index":t,className:i},a,{children:o}))},Mi=function(){return Mi=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Mi.apply(this,arguments)},Ei=function(e){var t=e.index,r=e.item,n=e.listOptions,i=function(e){var t,r,n,i=e.item,a=e.listOptions,o=null!==(t=a.action)&&void 0!==t?t:"link",l="large"===a.imageSize,s=a.enableOverview,u=!!A.Z.tv,c=null===(r=a.enableSideMediaInfo)||void 0===r||r,d=a.enableOverview&&!A.Z.tv,v=l?500:80,m=U({action:o,itemServerId:i.ServerId,itemId:i.Id,collectionId:a.collectionId,playlistId:a.playlistId,itemChannelId:i.ChannelId,itemType:i.Type,itemMediaType:i.MediaType,itemCollectionType:i.CollectionType,itemIsFolder:i.IsFolder,itemPlaylistItemId:i.PlaylistItemId}),p=oe()("listItem",{"listItem-border":null!==(n=a.border)&&void 0!==n?n:!1!==a.highlight&&!A.Z.tv},{"itemAction listItem-button":u},{"listItem-focusscale":A.Z.tv},{"listItem-largeImage":l},{"listItem-withContentWrapper":d});return{getListdWrapperProps:function(){return{className:p,title:i.Name,action:o,dataAttributes:m}},getListContentProps:function(){return{item:i,listOptions:a,enableContentWrapper:d,enableOverview:s,enableSideMediaInfo:c,clickEntireItem:u,action:o,isLargeStyle:l,downloadWidth:v}}}}({item:r,listOptions:void 0===n?{}:n}),a=i.getListdWrapperProps,o=i.getListContentProps,s=a(),u=o();return(0,l.jsx)(Ai,Mi({index:t},s,{children:(0,l.jsx)(Oi,Mi({},u))}),t)},Li=function(e){var t=e.items,r=void 0===t?[]:t,n=e.listOptions,i=void 0===n?{}:n,a=(0,oi.Z)(r,(function(e){return i.showIndex?function(e,t){var r;if("disc"===t.index)return null==e.ParentIndexNumber?"":O.ZP.translate("ValueDiscNumber",e.ParentIndexNumber);var n=(null!==(r=t.sortBy)&&void 0!==r?r:"").toLowerCase();return n.startsWith("sortname")?function(e){var t,r;if(e.Type===u.k0S.Episode)return"";var n=(null!==(r=null!==(t=e.SortName)&&void 0!==t?t:e.Name)&&void 0!==r?r:"?")[0].toUpperCase(),i=n.charCodeAt(0);return i<65||i>90?"#":n.toUpperCase()}(e):n.startsWith("officialrating")?function(e){var t;return null!==(t=e.OfficialRating)&&void 0!==t?t:O.ZP.translate("Unrated")}(e):n.startsWith("communityrating")?function(e){return null==e.CommunityRating?O.ZP.translate("Unrated"):String(Math.floor(e.CommunityRating))}(e):n.startsWith("criticrating")?function(e){return null==e.CriticRating?O.ZP.translate("Unrated"):String(Math.floor(e.CriticRating))}(e):n.startsWith("albumartist")?function(e){if(!e.AlbumArtist)return"";var t=e.AlbumArtist[0].toUpperCase(),r=t.charCodeAt(0);return r<65||r>90?"#":t.toUpperCase()}(e):""}(e,i):""}));return(0,l.jsx)(l.Fragment,{children:Object.entries(a).map((function(e,t){var r=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(e,2),n=r[0],a=r[1];return(0,l.jsxs)(le.Z,{children:[n&&(0,l.jsx)(si,{index:t,children:n}),a.map((function(e){return function(e,t){return(0,l.jsx)(Ei,{index:t,item:e,listOptions:i},"".concat(e.Id,"-").concat(t))}(e,t)}))]},t)}))})},Ri=function(e){var t,r,n,i=e.viewType,a=e.parentId,h=e.collectionType,g=e.isPaginationEnabled,b=void 0===g||g,T=e.isBtnPlayAllEnabled,P=void 0!==T&&T,w=e.isBtnQueueEnabled,C=void 0!==w&&w,j=e.isBtnShuffleEnabled,O=void 0!==j&&j,N=e.isBtnSortEnabled,A=void 0===N||N,E=e.isBtnFilterEnabled,L=void 0===E||E,U=e.isBtnNewCollectionEnabled,$=void 0!==U&&U,H=e.isBtnGridListEnabled,q=void 0===H||H,W=e.isAlphabetPickerEnabled,X=void 0===W||W,z=e.itemType,Q=e.noItemsMessage,J=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(function(e,t){var r=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}((0,s.useState)((function(){var r=localStorage.getItem(e);return null!=r?JSON.parse(r):"function"==typeof t?t():t})),2),n=r[0],i=r[1];return(0,s.useEffect)((function(){localStorage.setItem(e,JSON.stringify(n))}),[e,n]),[n,i]}(function(e,t){return"".concat(e," - ").concat(t)}(i,a),function(e){return{ShowTitle:!0,ShowYear:!1,ViewMode:e===M.$.Songs?o.ListView:o.GridView,ImageType:e===M.$.Networks?c._.Thumb:c._.Primary,CardLayout:!1,SortBy:V(e),SortOrder:m.A.Ascending,StartIndex:0}}(i)),2),ee=J[0],te=J[1],re=function(e,t,r,n){var i=(0,k.h_)();return(0,Z.a)({queryKey:["ItemsViewByType",{viewType:e,parentId:t,itemType:r,libraryViewSettings:n}],queryFn:function(a){var o=a.signal;return function(e,t,r,n,i,a){return Y(void 0,void 0,void 0,(function(){var o,l,s,u,p;return K(this,(function(h){switch(h.label){case 0:if(o=e.api,l=e.user,!o||!(null==l?void 0:l.Id))return[3,14];switch(s=void 0,t){case M.$.AlbumArtists:return[3,1];case M.$.Artists:return[3,3];case M.$.Networks:return[3,5];case M.$.Channels:return[3,7];case M.$.SeriesTimers:return[3,9]}return[3,11];case 1:return[4,(0,f.b)(o).getAlbumArtists(G(G(G(G(G({userId:l.Id,parentId:null!=r?r:void 0,enableImageTypes:[i.ImageType,c._.Backdrop]},R(t,i)),D(t,i)),F()),B(i)),{sortBy:[i.SortBy],sortOrder:[i.SortOrder],includeItemTypes:n,startIndex:i.StartIndex}),{signal:null==a?void 0:a.signal})];case 2:case 4:case 6:case 8:case 10:case 12:return s=h.sent(),[3,13];case 3:return[4,(0,f.b)(o).getArtists(G(G(G(G(G({userId:l.Id,parentId:null!=r?r:void 0,enableImageTypes:[i.ImageType,c._.Backdrop]},R(t,i)),D(t,i)),F()),B(i)),{sortBy:[i.SortBy],sortOrder:[i.SortOrder],includeItemTypes:n,startIndex:i.StartIndex}),{signal:null==a?void 0:a.signal})];case 5:return[4,(0,I.q)(o).getStudios(G(G({userId:l.Id,parentId:null!=r?r:void 0},R(t,i)),{includeItemTypes:n,enableImageTypes:[c._.Thumb],startIndex:i.StartIndex}),{signal:null==a?void 0:a.signal})];case 7:return[4,(0,S.m)(o).getLiveTvChannels({userId:l.Id,fields:[d.h.PrimaryImageAspectRatio],startIndex:i.StartIndex,isFavorite:!!(null===(p=null===(u=i.Filters)||void 0===u?void 0:u.Status)||void 0===p?void 0:p.includes(v.y.IsFavorite))||void 0,enableImageTypes:[c._.Primary]},{signal:null==a?void 0:a.signal})];case 9:return[4,(0,S.m)(o).getSeriesTimers({sortBy:"SortName",sortOrder:m.A.Ascending},{signal:null==a?void 0:a.signal})];case 11:return[4,(0,y.$)(o).getItems(G(G(G(G(G({userId:l.Id,recursive:!0,imageTypeLimit:1,parentId:null!=r?r:void 0,enableImageTypes:[i.ImageType,c._.Backdrop]},R(t,i)),D(t,i)),F()),B(i)),{isFavorite:t===M.$.Favorites||void 0,sortBy:[i.SortBy],sortOrder:[i.SortOrder],includeItemTypes:n,startIndex:i.StartIndex}),{signal:null==a?void 0:a.signal})];case 13:return[2,s.data];case 14:return[2]}}))}))}(i,e,t,r,n,{signal:o})},refetchOnWindowFocus:!1,keepPreviousData:!0,enabled:[M.$.Movies,M.$.Favorites,M.$.Collections,M.$.Trailers,M.$.Series,M.$.Episodes,M.$.Networks,M.$.Albums,M.$.AlbumArtists,M.$.Artists,M.$.Playlists,M.$.Songs,M.$.Books,M.$.Photos,M.$.Videos,M.$.Channels,M.$.SeriesTimers].includes(e)})}(i,a,z,ee),ne=re.isLoading,ae=re.data,se=re.isPreviousData,ue=re.refetch,ce=function(e){var t=(0,k.h_)(),r="livetv"===e;return(0,Z.a)({queryKey:["Item",e],queryFn:function(r){var n=r.signal;return function(e,t,r){return Y(void 0,void 0,void 0,(function(){var n,i;return K(this,(function(a){switch(a.label){case 0:return n=e.api,i=e.user,n&&(null==i?void 0:i.Id)&&t?[4,(0,x.U)(n).getItem({userId:i.Id,itemId:t},{signal:null==r?void 0:r.signal})]:[3,2];case 1:return[2,a.sent().data];case 2:return[2]}}))}))}(t,e,{signal:n})},enabled:!!e&&!r})}(a).data,de=(0,s.useCallback)((function(){var e,t={items:null!==(e=null==ae?void 0:ae.Items)&&void 0!==e?e:[],context:h};return i===M.$.Songs?(t.showParentTitle=!0,t.action="playallfromhere",t.smallIcon=!0,t.artist=!0,t.addToListButton=!0):i===M.$.Albums?(t.sortBy=ee.SortBy,t.addToListButton=!0):i===M.$.Episodes&&(t.showParentTitle=!0),t}),[null==ae?void 0:ae.Items,h,i,ee.SortBy]),ve=(0,s.useCallback)((function(){var e,t,r,n;ee.ImageType===u.__M.Banner?e=_.Mg.Banner:ee.ImageType===u.__M.Disc?(e=_.Mg.Square,r=!0):ee.ImageType===u.__M.Logo?(e=_.Mg.Backdrop,n=!0):ee.ImageType===u.__M.Thumb?(e=_.Mg.Backdrop,t=!0):e=_.Mg.Auto;var a={shape:e,showTitle:ee.ShowTitle,showYear:ee.ShowYear,cardLayout:ee.CardLayout,centerText:!0,context:h,coverImage:!0,preferThumb:t,preferDisc:r,preferLogo:n,overlayText:!ee.ShowTitle,imageType:ee.ImageType,queryKey:["ItemsViewByType"]};return i===M.$.Songs||i===M.$.Albums||i===M.$.Episodes?(a.showParentTitle=ee.ShowTitle,a.overlayPlayButton=!0):i===M.$.Artists?(a.lines=1,a.showYear=!1,a.overlayPlayButton=!0):i===M.$.Channels?(a.shape=_.Mg.Square,a.showDetailsMenu=!0,a.showCurrentProgram=!0,a.showCurrentProgramTime=!0):i===M.$.SeriesTimers?(a.shape=_.Mg.Backdrop,a.showSeriesTimerTime=!0,a.showSeriesTimerChannel=!0,a.overlayMoreButton=!0,a.lines=3):i===M.$.Movies?a.overlayPlayButton=!0:i!==M.$.Series&&i!==M.$.Networks||(a.overlayMoreButton=!0),a}),[ee.ShowTitle,ee.ImageType,ee.ShowYear,ee.CardLayout,h,i]),me=(0,s.useCallback)((function(){var e,t,r;return(null===(e=null==ae?void 0:ae.Items)||void 0===e?void 0:e.length)?ee.ViewMode===o.ListView?(0,l.jsx)(Li,{items:null!==(t=null==ae?void 0:ae.Items)&&void 0!==t?t:[],listOptions:de()}):(0,l.jsx)(vr,{items:null!==(r=null==ae?void 0:ae.Items)&&void 0!==r?r:[],cardOptions:ve()}):(0,l.jsx)(ai,{noItemsMessage:Q})}),[ee.ViewMode,null==ae?void 0:ae.Items,de,ve,Q]),pe=null!==(t=null==ae?void 0:ae.TotalRecordCount)&&void 0!==t?t:0,fe=null!==(r=null==ae?void 0:ae.Items)&&void 0!==r?r:[],ge=Object.values(null!==(n=ee.Filters)&&void 0!==n?n:{}).some((function(e){return!!e})),ye=ee.SortBy.includes(p.X.SortName),be=oe()("centered padded-left padded-right padded-right-withalphapicker",ee.ViewMode===o.ListView?"vertical-list":"vertical-wrap");return(0,l.jsxs)(le.Z,{children:[(0,l.jsxs)(le.Z,{className:"flex align-items-center justify-content-center flex-wrap-wrap padded-top padded-left padded-right padded-bottom focuscontainer-x",children:[b&&(0,l.jsx)(Nn,{totalRecordCount:pe,libraryViewSettings:ee,isPreviousData:se,setLibraryViewSettings:te}),P&&(0,l.jsx)(Mn,{item:ce,items:fe,viewType:i,hasFilters:ge,libraryViewSettings:ee}),C&&ce&&he.O.canQueue(ce)&&(0,l.jsx)(Ln,{item:ce,items:fe,hasFilters:ge}),O&&pe>1&&(0,l.jsx)(Bn,{item:ce,items:fe,viewType:i,hasFilters:ge,libraryViewSettings:ee}),A&&(0,l.jsx)(Yn,{viewType:i,libraryViewSettings:ee,setLibraryViewSettings:te}),L&&(0,l.jsx)(wn,{parentId:a,itemType:z,viewType:i,hasFilters:ge,libraryViewSettings:ee,setLibraryViewSettings:te}),$&&(0,l.jsx)(Cn,{}),q&&(0,l.jsx)(ii,{viewType:i,libraryViewSettings:ee,setLibraryViewSettings:te})]}),X&&ye&&(0,l.jsx)(Sr,{libraryViewSettings:ee,setLibraryViewSettings:te}),ne?(0,l.jsx)(ie.Z,{}):(0,l.jsx)(Se,{className:be,parentId:a,reloadItems:ue,queryKey:["ItemsViewByType"],children:me()}),b&&(0,l.jsx)(le.Z,{className:"flex align-items-center justify-content-center flex-wrap-wrap padded-top padded-left padded-right padded-bottom focuscontainer-x",children:(0,l.jsx)(Nn,{totalRecordCount:pe,libraryViewSettings:ee,isPreviousData:se,setLibraryViewSettings:te})})]})},Fi=r(10005),Bi=(r(32994),r(38228),r(61414),r(21694),r(24432),function(){var e=(0,s.useRef)(),t=(0,s.useRef)(null),r=(0,s.useCallback)((function(t){e.current=new Fi.Z({element:t,serverId:window.ApiClient.serverId()})}),[]);return(0,s.useEffect)((function(){var n=t.current;n?e.current||r(n):console.error("Unexpected null reference")}),[r]),(0,s.useEffect)((function(){return e.current&&e.current.resume(),function(){e.current&&e.current.pause()}}),[r]),(0,l.jsx)("div",{ref:t})}),Di=function(){return Di=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Di.apply(this,arguments)},Vi=function(e){var t=e.parentId,r=e.sectionType,n=e.isUpcomingRecordingsEnabled,i=void 0!==n&&n,a=function(e,t){var r=(0,k.h_)(),n=X();return(0,Z.a)({queryKey:["ProgramSectionWithItems",{programSectionType:t}],queryFn:function(i){var a=i.signal;return re(r,e,n,t,{signal:a})}})}(t,r),o=a.isLoading,s=a.data,u=a.refetch,c=function(e,t){var r=(0,k.h_)();return(0,Z.a)({queryKey:["Timers",{isUpcomingRecordingsEnabled:e,indexByDate:t}],queryFn:function(n){var i=n.signal;return e?function(e,t,r){return Y(void 0,void 0,void 0,(function(){var n,i,a;return K(this,(function(o){switch(o.label){case 0:return(n=e.api)?[4,(0,S.m)(n).getTimers({isActive:!1,isScheduled:!0},{signal:null==r?void 0:r.signal})]:[3,2];case 1:return i=o.sent(),[2,ee(null!==(a=i.data.Items)&&void 0!==a?a:[],t)];case 2:return[2]}}))}))}(r,t,{signal:i}):[]}})}(i),d=c.isLoading,v=c.data;if(o||d)return(0,l.jsx)(ie.Z,{});if(!(null==s?void 0:s.length)&&!(null==v?void 0:v.length))return(0,l.jsxs)("div",{className:"noItemsMessage centerMessage",children:[(0,l.jsx)("h1",{children:O.ZP.translate("MessageNothingHere")}),(0,l.jsx)("p",{children:O.ZP.translate("MessageNoItemsAvailable")})]});var m=function(e){var t,r,n,i,a,o;return ne.appRouter.getRouteUrl("list",{serverId:window.ApiClient.serverId(),itemTypes:e.itemTypes,isAiring:null===(t=e.parametersOptions)||void 0===t?void 0:t.isAiring,isMovie:null===(r=e.parametersOptions)||void 0===r?void 0:r.isMovie,isSports:null===(n=e.parametersOptions)||void 0===n?void 0:n.isSports,isKids:null===(i=e.parametersOptions)||void 0===i?void 0:i.isKids,isNews:null===(a=e.parametersOptions)||void 0===a?void 0:a.isNews,isSeries:null===(o=e.parametersOptions)||void 0===o?void 0:o.isSeries})};return(0,l.jsxs)(l.Fragment,{children:[null==s?void 0:s.map((function(e){var t=e.section,r=e.items;return(0,l.jsx)(mr,{sectionTitle:O.ZP.translate(t.name),items:null!=r?r:[],url:m(t),reloadItems:u,cardOptions:Di(Di({},t.cardOptions),{queryKey:["ProgramSectionWithItems"]})},t.type)})),null==v?void 0:v.map((function(e){var t;return(0,l.jsx)(mr,{sectionTitle:e.name,items:null!==(t=e.timerInfo)&&void 0!==t?t:[],cardOptions:{queryKey:["Timers"],shape:_.Mg.BackdropOverflow,showTitle:!0,showParentTitleOrTitle:!0,showAirTime:!0,showAirEndTime:!0,showChannelName:!1,cardLayout:!0,centerText:!1,action:"edit",cardFooterAside:"none",preferThumb:!0,coverImage:!0,allowBottomPadding:!1,overlayText:!1,showChannelLogo:!0}},e.name)}))]})},Ui=function(e){var t,r,n,i,a,o,s=e.parentId,u=e.currentTab;return u.viewType===M.$.Suggestions?(0,l.jsx)(fr,{parentId:s,sectionType:null!==(r=null===(t=u.sectionsView)||void 0===t?void 0:t.suggestionSections)&&void 0!==r?r:[],isMovieRecommendationEnabled:null===(n=u.sectionsView)||void 0===n?void 0:n.isMovieRecommendations}):u.viewType===M.$.Programs||u.viewType===M.$.Recordings||u.viewType===M.$.Schedule?(0,l.jsx)(Vi,{parentId:s,sectionType:null!==(a=null===(i=u.sectionsView)||void 0===i?void 0:i.programSections)&&void 0!==a?a:[],isUpcomingRecordingsEnabled:null===(o=u.sectionsView)||void 0===o?void 0:o.isLiveTvUpcomingRecordings}):u.viewType===M.$.Upcoming?(0,l.jsx)(hr,{parentId:s}):u.viewType===M.$.Genres?(0,l.jsx)(Ir,{parentId:s,collectionType:u.collectionType,itemType:u.itemType||[]}):u.viewType===M.$.Guide?(0,l.jsx)(Bi,{}):(0,l.jsx)(Ri,{viewType:u.viewType,parentId:s,collectionType:u.collectionType,isPaginationEnabled:u.isPaginationEnabled,isBtnPlayAllEnabled:u.isBtnPlayAllEnabled,isBtnQueueEnabled:u.isBtnQueueEnabled,isBtnShuffleEnabled:u.isBtnShuffleEnabled,isBtnNewCollectionEnabled:u.isBtnNewCollectionEnabled,isBtnFilterEnabled:u.isBtnFilterEnabled,isBtnGridListEnabled:u.isBtnGridListEnabled,isBtnSortEnabled:u.isBtnSortEnabled,isAlphabetPickerEnabled:u.isAlphabetPickerEnabled,itemType:u.itemType||[],noItemsMessage:u.noItemsMessage||"MessageNoItemsAvailable"})}},28422:function(e,t,r){r.d(t,{Yr:function(){return l},oV:function(){return o}});var n=r(94994),i=r(60934),a=r(68357),o=function(e){return s.some((function(t){return t.path===e}))},l=function(e,t){var r,n,a,o,l,u;if(!t)return 0;var c=null!==(n=null===(r=s.find((function(t){return t.path===e})))||void 0===r?void 0:r.tabs)&&void 0!==n?n:[],d=i.get("landing-"+t,!1);return null!==(u=null!==(o=null===(a=c.find((function(e){return e.value===d})))||void 0===a?void 0:a.index)&&void 0!==o?o:null===(l=c.find((function(e){return e.isDefault})))||void 0===l?void 0:l.index)&&void 0!==u?u:0},s=[{path:"/livetv.html",tabs:[{index:0,label:n.ZP.translate("Programs"),value:a.$.Programs,isDefault:!0},{index:1,label:n.ZP.translate("Guide"),value:a.$.Guide},{index:2,label:n.ZP.translate("Channels"),value:a.$.Channels},{index:3,label:n.ZP.translate("Recordings"),value:a.$.Recordings},{index:4,label:n.ZP.translate("Schedule"),value:a.$.Schedule},{index:5,label:n.ZP.translate("Series"),value:a.$.SeriesTimers}]},{path:"/movies.html",tabs:[{index:0,label:n.ZP.translate("Movies"),value:a.$.Movies,isDefault:!0},{index:1,label:n.ZP.translate("Suggestions"),value:a.$.Suggestions},{index:2,label:n.ZP.translate("Trailers"),value:a.$.Trailers},{index:3,label:n.ZP.translate("Favorites"),value:a.$.Favorites},{index:4,label:n.ZP.translate("Collections"),value:a.$.Collections},{index:5,label:n.ZP.translate("Genres"),value:a.$.Genres}]},{path:"/music.html",tabs:[{index:0,label:n.ZP.translate("Albums"),value:a.$.Albums,isDefault:!0},{index:1,label:n.ZP.translate("Suggestions"),value:a.$.Suggestions},{index:2,label:n.ZP.translate("HeaderAlbumArtists"),value:a.$.AlbumArtists},{index:3,label:n.ZP.translate("Artists"),value:a.$.Artists},{index:4,label:n.ZP.translate("Playlists"),value:a.$.Playlists},{index:5,label:n.ZP.translate("Songs"),value:a.$.Songs},{index:6,label:n.ZP.translate("Genres"),value:a.$.Genres}]},{path:"/tv.html",tabs:[{index:0,label:n.ZP.translate("Shows"),value:a.$.Series,isDefault:!0},{index:1,label:n.ZP.translate("Suggestions"),value:a.$.Suggestions},{index:2,label:n.ZP.translate("TabUpcoming"),value:a.$.Upcoming},{index:3,label:n.ZP.translate("Genres"),value:a.$.Genres},{index:4,label:n.ZP.translate("TabNetworks"),value:a.$.Networks},{index:5,label:n.ZP.translate("Episodes"),value:a.$.Episodes}]}];t.ZP=s},32459:function(e,t,r){var n=r(24246),i=r(27378),a=r(93110);t.Z=function(e){var t=e.children,r=e.id,o=e.className,l=void 0===o?"":o,s=e.title,u=e.isBackButtonEnabled,c=void 0===u||u,d=e.isMenuButtonEnabled,v=void 0!==d&&d,m=e.isNowPlayingBarEnabled,p=void 0===m||m,f=e.isThemeMediaSupported,h=void 0!==f&&f,g=e.backDropType,y=(0,i.useRef)(null);return(0,i.useEffect)((function(){a.Z.hideView()}),[]),(0,i.useEffect)((function(){var e,t,r,n,i={bubbles:!0,cancelable:!1,detail:{isRestored:!1,options:{enableMediaControl:p,supportsThemeMedia:h}}};null===(e=y.current)||void 0===e||e.dispatchEvent(new CustomEvent("viewbeforeshow",i)),null===(t=y.current)||void 0===t||t.dispatchEvent(new CustomEvent("pagebeforeshow",i)),null===(r=y.current)||void 0===r||r.dispatchEvent(new CustomEvent("viewshow",i)),null===(n=y.current)||void 0===n||n.dispatchEvent(new CustomEvent("pageshow",i))}),[y,p,h]),(0,n.jsx)("div",{ref:y,id:r,"data-role":"page",className:"page ".concat(l),"data-title":s,"data-backbutton":c,"data-menubutton":v,"data-backdroptype":g,children:t})}},65406:function(e,t,r){r.d(t,{I:function(){return n},P:function(){return l}});var n,i=r(94994),a=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o},o=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};function l(e){var t=e.direction,r=e.scroller,l=e.scrollState;if(r){var s=r.getScrollSlider();!function(e){var t,r,o,l=e.scroller,s=e.items,u=e.scrollState,c=e.direction,d=void 0===c?n.RIGHT:c,v=i.ZP.getIsRTL()?-1:1,m=null!==(r=null===(t=l.getScrollFrame)||void 0===t?void 0:t.call(l))&&void 0!==r?r:l,p=a(function(e,t,r){var n=r.scrollPos*(i.ZP.getIsRTL()?-1:1),a=e.offsetWidth,o=t[0].offsetWidth;return[Math.max(Math.floor(n/o)-1,0),Math.floor((n+a)/o)]}(m,s,u),2),f=p[0],h=p[1];if(d===n.RIGHT)o=h*s[h].offsetWidth*v;else{var g=s[f];o=(f*g.offsetWidth-(Math.floor(m.offsetWidth/g.offsetWidth)-1)*g.offsetWidth)*v}l.slideTo?l.slideTo(o,!1,void 0):l.scrollToPosition(o)}({scroller:r,items:o([],a(s.children),!1),scrollState:l,direction:t})}}!function(e){e.RIGHT="right",e.LEFT="left"}(n||(n={}))},29134:function(e,t,r){var n=r(28422),i=r(22910),a=r(27851);t.Z=function(){var e=(0,i.TH)(),t=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}((0,a.lr)(),2),r=t[0],o=t[1],l=r.get("tab"),s="/livetv.html"===e.pathname?"livetv":r.get("topParentId");return{searchParams:r,setSearchParams:o,libraryId:s,activeTab:null!==l?parseInt(l,10):(0,n.Yr)(e.pathname,s)}}},68357:function(e,t,r){var n;r.d(t,{$:function(){return n}}),function(e){e.Albums="albums",e.AlbumArtists="albumartists",e.Artists="artists",e.Channels="channels",e.Collections="collections",e.Episodes="episodes",e.Favorites="favorites",e.Genres="genres",e.Guide="guide",e.Movies="movies",e.Networks="networks",e.Playlists="playlists",e.Programs="programs",e.Recordings="recordings",e.Schedule="schedule",e.Series="series",e.SeriesTimers="seriestimers",e.Songs="songs",e.Suggestions="suggestions",e.Trailers="trailers",e.Upcoming="upcoming",e.Photos="photos",e.Videos="videos",e.Books="books"}(n||(n={}))},73068:function(e,t,r){var n,i;r.d(t,{Im:function(){return n},M0:function(){return c},PK:function(){return l},bA:function(){return i},d3:function(){return u},gs:function(){return s},oU:function(){return o},vo:function(){return a}}),function(e){e.ResumeItems="resumeItems",e.LatestMedia="latestMedia",e.NextUp="nextUp",e.RecommendedPrograms="RecommendedPrograms",e.LiveTvPrograms="liveTvPrograms",e.Recordings="Recordings",e.RecordingFolders="RecordingFolders"}(n||(n={})),function(e){e.ContinueWatchingMovies="continuewatchingmovies",e.LatestMovies="latestmovies",e.ContinueWatchingEpisode="continuewatchingepisode",e.LatestEpisode="latestepisode",e.NextUp="nextUp",e.LatestMusic="latestmusic",e.RecentlyPlayedMusic="recentlyplayedmusic",e.FrequentlyPlayedMusic="frequentlyplayedmusic",e.ActivePrograms="ActivePrograms",e.UpcomingEpisodes="UpcomingEpisodes",e.UpcomingMovies="UpcomingMovies",e.UpcomingSports="UpcomingSports",e.UpcomingKids="UpcomingKids",e.UpcomingNews="UpcomingNews",e.LatestRecordings="LatestRecordings",e.RecordingFolders="RecordingFolders",e.ActiveRecordings="ActiveRecordings",e.UpcomingRecordings="UpcomingRecordings"}(i||(i={}));var a={suggestionSections:[i.ContinueWatchingMovies,i.LatestMovies],isMovieRecommendations:!0},o={suggestionSections:[i.ContinueWatchingEpisode,i.LatestEpisode,i.NextUp]},l={suggestionSections:[i.LatestMusic,i.FrequentlyPlayedMusic,i.RecentlyPlayedMusic]},s={programSections:[i.ActivePrograms,i.UpcomingEpisodes,i.UpcomingMovies,i.UpcomingSports,i.UpcomingKids,i.UpcomingNews]},u={programSections:[i.LatestRecordings,i.RecordingFolders]},c={programSections:[i.ActiveRecordings],isLiveTvUpcomingRecordings:!0}}}]);