"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[23995,96084,40367],{40833:function(e,t,r){r.r(t),r.d(t,{default:function(){return p}}),r(14382),r(78557),r(64062),r(23630);var n=r(56869),a=r(73233),i=r(9482),s=r(79754),o=r(40532),l=(r(10353),r(77157),r(63001),[]);function c(e){n.Ay.show(),ApiClient.getJSON(ApiClient.getUrl("Repositories")).then((function(t){var r,a;l=t,r={listElement:e.querySelector("#repositories"),noneElement:e.querySelector("#none"),repositories:l},(a=document.createElement("div")).className="paperList",r.repositories.forEach((function(e){a.appendChild(function(e){var t=document.createElement("div");t.className="listItem listItem-border";var r=document.createElement("a","emby-linkbutton");r.classList.add("clearLink","listItemIconContainer"),r.style.margin="0",r.style.padding="0",r.rel="noopener noreferrer",r.target="_blank",r.href=e.Url,r.innerHTML='<span class="material-icons listItemIcon open_in_new" aria-hidden="true"></span>',t.appendChild(r);var n=document.createElement("div");n.className="listItemBody two-line";var a=document.createElement("h3");a.className="listItemBodyText",a.innerText=e.Name,n.appendChild(a);var s=document.createElement("div");s.className="listItemBodyText secondary",s.innerText=e.Url,n.appendChild(s),t.appendChild(n);var o=document.createElement("button","paper-icon-button-light");return o.type="button",o.classList.add("btnDelete"),o.id=e.Url,o.title=i.Ay.translate("Delete"),o.innerHTML='<span class="material-icons delete" aria-hidden="true"></span>',t.appendChild(o),t}(e))})),r.repositories.length?r.noneElement.classList.add("hide"):r.noneElement.classList.remove("hide"),r.listElement.innerHTML="",r.listElement.appendChild(a),n.Ay.hide()})).catch((function(t){console.error("error loading repositories",t),e.querySelector("#none").classList.remove("hide"),n.Ay.hide()}))}function u(e){n.Ay.show(),ApiClient.ajax({type:"POST",url:ApiClient.getUrl("Repositories"),data:JSON.stringify(l),contentType:"application/json"}).then((function(){c(e)})).catch((function(e){console.error("error saving repositories",e),n.Ay.hide()}))}function d(){return[{href:"#/dashboard/plugins",name:i.Ay.translate("TabMyPlugins")},{href:"#/dashboard/plugins/catalog",name:i.Ay.translate("TabCatalog")},{href:"#/dashboard/plugins/repositories",name:i.Ay.translate("TabRepositories")}]}function p(e){e.addEventListener("viewshow",(function(){a.default.setTabs("plugins",2,d),c(this);var t=this;$("#repositories",e).on("click",".btnDelete",(function(){var e=this;l=l.filter((function(t){return t.Url!==e.id})),u(t)}))})),e.querySelector(".btnNewRepository").addEventListener("click",(function(){var t=s.default.createDialog({scrollY:!1,size:"large",modal:!1,removeOnClose:!0}),r="";r+='<div class="formDialogHeader">',r+='<button type="button" is="paper-icon-button-light" class="btnCancel autoSize" tabindex="-1" title="'.concat(i.Ay.translate("ButtonBack"),'"><span class="material-icons arrow_back" aria-hidden="true"></span></button>'),r+='<h3 class="formDialogHeaderTitle">'.concat(i.Ay.translate("HeaderNewRepository"),"</h3>"),r+="</div>",r+='<form class="newPluginForm" style="margin:4em">',r+='<div class="inputContainer">',r+='<input is="emby-input" id="txtRepositoryName" label="'.concat(i.Ay.translate("LabelRepositoryName"),'" type="text" required />'),r+='<div class="fieldDescription">'.concat(i.Ay.translate("LabelRepositoryNameHelp"),"</div>"),r+="</div>",r+='<div class="inputContainer">',r+='<input is="emby-input" id="txtRepositoryUrl" label="'.concat(i.Ay.translate("LabelRepositoryUrl"),'" type="url" required />'),r+='<div class="fieldDescription">'.concat(i.Ay.translate("LabelRepositoryUrlHelp"),"</div>"),r+="</div>",r+='<button is="emby-button" type="submit" class="raised button-submit block"><span>'.concat(i.Ay.translate("Save"),"</span></button>"),r+="</div>",r+="</form>",t.innerHTML=r,t.querySelector(".btnCancel").addEventListener("click",(function(){s.default.close(t)})),t.querySelector(".newPluginForm").addEventListener("submit",(function(r){r.preventDefault();var n=t.querySelector("#txtRepositoryUrl").value.toLowerCase(),a=function(){l.push({Name:t.querySelector("#txtRepositoryName").value,Url:t.querySelector("#txtRepositoryUrl").value,Enabled:!0}),u(e),s.default.close(t)};if(n.startsWith("https://repo.jellyfin.org/"))a();else{var c=i.Ay.translate("MessageRepositoryInstallDisclaimer");c+="<br/>",c+="<br/>",c+=i.Ay.translate("PleaseConfirmRepositoryInstallation"),(0,o.A)(c,i.Ay.translate("HeaderConfirmRepositoryInstallation")).then((function(){a()})).catch((function(){console.debug("repository not installed"),s.default.close(t)}))}return!1})),s.default.open(t)}))}},40782:function(e,t,r){var n=r(11444),a="assets/img/devices/";t.Ay={getDeviceIcon:function(e){var t;switch(e.AppName||e.Client){case"Samsung Smart TV":return a+"samsung.svg";case"Xbox One":return a+"xbox.svg";case"Sony PS4":return a+"playstation.svg";case"Kodi":case"Kodi JellyCon":return a+"kodi.svg";case"Jellyfin Android":case"AndroidTV":case"Android TV":return a+"android.svg";case"Jellyfin Mobile (iOS)":case"Jellyfin Mobile (iPadOS)":case"Jellyfin iOS":case"Infuse":return a+"apple.svg";case"Home Assistant":return a+"home-assistant.svg";case"Jellyfin Roku":return a+"roku.svg";case"Finamp":return a+"finamp.svg";case"Jellyfin Web":return function(e){switch(e){case"Opera":case"Opera TV":case"Opera Android":return a+"opera.svg";case"Chrome":case"Chrome Android":return a+"chrome.svg";case"Firefox":case"Firefox Android":return a+"firefox.svg";case"Safari":case"Safari iPad":case"Safari iPhone":return a+"safari.svg";case"Edge Chromium":case"Edge Chromium Android":case"Edge Chromium iPad":case"Edge Chromium iPhone":return a+"edgechromium.svg";case"Edge":return a+"edge.svg";case"Internet Explorer":return a+"msie.svg";default:return a+"html5.svg"}}(e.Name||e.DeviceName);default:if(null===(t=e.Capabilities)||void 0===t?void 0:t.IconUrl)try{return new URL(e.Capabilities.IconUrl).toString()}catch(t){console.error("[getDeviceIcon] device capabilities has invalid IconUrl",e,t)}return a+"other.svg"}},getLibraryIcon:function(e){switch(e){case"movies":return"video_library";case"music":return"library_music";case"photos":case"homevideos":return"photo_library";case"livetv":return"live_tv";case"tvshows":return"tv";case"trailers":return"local_movies";case"musicvideos":return"music_video";case"books":return"library_books";case"channels":return"videocam";case"playlists":return"view_list";default:return"folder"}},getItemTypeIcon:function(e){switch(e){case n.D.MusicAlbum:return"album";case n.D.MusicArtist:case n.D.Person:return"person";case n.D.Audio:return"audiotrack";case n.D.Movie:return"movie";case n.D.Episode:case n.D.Series:return"tv";case n.D.Program:return"live_tv";case n.D.Book:return"book";case n.D.Folder:return"folder";case n.D.BoxSet:return"collections";case n.D.Playlist:return"view_list";case n.D.Photo:return"photo";case n.D.PhotoAlbum:return"photo_album";default:return"folder"}}}}}]);