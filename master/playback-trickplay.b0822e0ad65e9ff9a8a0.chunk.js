"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[86821],{65256:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var a=n(24246),i=n(27378),l=n(94994),c=n(32459),r=n(94266),o=n(83636),s=n(34650),d=n(65329),u=n(88226),p=function(e){var t=e.className,n=e.title,a=e.href;return{__html:'<a\n        is="emby-linkbutton"\n        rel="noopener noreferrer"\n        class="'.concat(t,'"\n        href="').concat(a,'"\n        >\n        ').concat(n,"\n    </a>")}},v=function(e){var t=e.className,n=e.title,i=e.href;return(0,a.jsx)("div",{dangerouslySetInnerHTML:p({className:t,title:l.ZP.translate(n),href:i})})},h=n(34862),m=n(56663),b=n(18613),f=function(){var e,t=(0,i.useRef)(null),n=(0,i.useCallback)((function(e){var n=t.current,a=e.TrickplayOptions;n?(n.querySelector(".chkEnableHwAcceleration").checked=a.EnableHwAcceleration,n.querySelector("#selectScanBehavior").value=a.ScanBehavior,n.querySelector("#selectProcessPriority").value=a.ProcessPriority,n.querySelector("#txtInterval").value=a.Interval,n.querySelector("#txtWidthResolutions").value=a.WidthResolutions.join(","),n.querySelector("#txtTileWidth").value=a.TileWidth,n.querySelector("#txtTileHeight").value=a.TileHeight,n.querySelector("#txtQscale").value=a.Qscale,n.querySelector("#txtJpegQuality").value=a.JpegQuality,n.querySelector("#txtProcessThreads").value=a.ProcessThreads,h.ZP.hide()):console.error("Unexpected null reference")}),[]),p=(0,i.useCallback)((function(){var e;h.ZP.show(),null===(e=b.Z.currentApiClient())||void 0===e||e.getServerConfiguration().then((function(e){n(e)})).catch((function(e){console.error("[PlaybackTrickplay] failed to fetch server config",e)}))}),[n]);return(0,i.useEffect)((function(){var e=t.current;if(e){e.querySelector(".trickplayConfigurationForm").addEventListener("submit",(function(t){var n=b.Z.currentApiClient();if(n)return h.ZP.show(),n.getServerConfiguration().then((function(t){!function(t){var n=b.Z.currentApiClient();if(n){if(!t.TrickplayOptions)throw new Error("Unexpected null TrickplayOptions");var a=t.TrickplayOptions;a.EnableHwAcceleration=e.querySelector(".chkEnableHwAcceleration").checked,a.ScanBehavior=e.querySelector("#selectScanBehavior").value,a.ProcessPriority=e.querySelector("#selectProcessPriority").value,a.Interval=Math.max(1,parseInt(e.querySelector("#txtInterval").value||"10000",10)),a.WidthResolutions=e.querySelector("#txtWidthResolutions").value.replace(" ","").split(",").map(Number),a.TileWidth=Math.max(1,parseInt(e.querySelector("#txtTileWidth").value||"10",10)),a.TileHeight=Math.max(1,parseInt(e.querySelector("#txtTileHeight").value||"10",10)),a.Qscale=Math.min(31,parseInt(e.querySelector("#txtQscale").value||"4",10)),a.JpegQuality=Math.min(100,parseInt(e.querySelector("#txtJpegQuality").value||"90",10)),a.ProcessThreads=parseInt(e.querySelector("#txtProcessThreads").value||"1",10),n.updateServerConfiguration(t).then((function(){h.ZP.hide(),(0,m.Z)(l.ZP.translate("SettingsSaved"))})).catch((function(e){console.error("[PlaybackTrickplay] failed to update config",e)}))}else console.error("[PlaybackTrickplay] No current apiclient instance")}(t)})).catch((function(e){console.error("[PlaybackTrickplay] failed to fetch server config",e)})),t.preventDefault(),t.stopPropagation(),!1;console.error("[PlaybackTrickplay] No current apiclient instance")})),p()}else console.error("Unexpected null reference")}),[p]),(0,a.jsx)(c.Z,{id:"trickplayConfigurationPage",className:"mainAnimatedPage type-interior playbackConfigurationPage",children:(0,a.jsxs)("div",{ref:t,className:"content-primary",children:[(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsx)(r.Z,{title:l.ZP.translate("Trickplay"),isLinkVisible:!1})}),(0,a.jsxs)("form",{className:"trickplayConfigurationForm",children:[(0,a.jsxs)("div",{className:"checkboxContainer checkboxContainer-withDescription",children:[(0,a.jsx)(s.Z,{className:"chkEnableHwAcceleration",title:"LabelTrickplayAccel"}),(0,a.jsx)("div",{className:"fieldDescription checkboxFieldDescription",children:(0,a.jsx)(v,{title:"LabelTrickplayAccelHelp",href:"#/dashboard/playback/transcoding",className:"button-link"})})]}),(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsxs)("div",{className:"selectContainer fldSelectScanBehavior",children:[(0,a.jsx)(d.Z,{id:"selectScanBehavior",label:"LabelScanBehavior",children:(e="",e+="<option value='NonBlocking'>".concat(l.ZP.translate("NonBlockingScan"),"</option>"),e+="<option value='Blocking'>".concat(l.ZP.translate("BlockingScan"),"</option>"))}),(0,a.jsx)("div",{className:"fieldDescription",children:l.ZP.translate("LabelScanBehaviorHelp")})]})}),(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsxs)("div",{className:"selectContainer fldSelectProcessPriority",children:[(0,a.jsx)(d.Z,{id:"selectProcessPriority",label:"LabelProcessPriority",children:function(){var e="";return e+="<option value='High'>".concat(l.ZP.translate("PriorityHigh"),"</option>"),e+="<option value='AboveNormal'>".concat(l.ZP.translate("PriorityAboveNormal"),"</option>"),e+="<option value='Normal'>".concat(l.ZP.translate("PriorityNormal"),"</option>"),(e+="<option value='BelowNormal'>".concat(l.ZP.translate("PriorityBelowNormal"),"</option>"))+"<option value='Idle'>".concat(l.ZP.translate("PriorityIdle"),"</option>")}()}),(0,a.jsx)("div",{className:"fieldDescription",children:l.ZP.translate("LabelProcessPriorityHelp")})]})}),(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsxs)("div",{className:"inputContainer",children:[(0,a.jsx)(u.Z,{type:"number",id:"txtInterval",label:"LabelImageInterval",options:'required inputMode="numeric" pattern="[0-9]*" min="1"'}),(0,a.jsx)("div",{className:"fieldDescription",children:l.ZP.translate("LabelImageIntervalHelp")})]})}),(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsxs)("div",{className:"inputContainer",children:[(0,a.jsx)(u.Z,{type:"text",id:"txtWidthResolutions",label:"LabelWidthResolutions",options:'required pattern="[0-9,]*"'}),(0,a.jsx)("div",{className:"fieldDescription",children:l.ZP.translate("LabelWidthResolutionsHelp")})]})}),(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsxs)("div",{className:"inputContainer",children:[(0,a.jsx)(u.Z,{type:"number",id:"txtTileWidth",label:"LabelTileWidth",options:'required inputMode="numeric" pattern="[0-9]*" min="1"'}),(0,a.jsx)("div",{className:"fieldDescription",children:l.ZP.translate("LabelTileWidthHelp")})]})}),(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsxs)("div",{className:"inputContainer",children:[(0,a.jsx)(u.Z,{type:"number",id:"txtTileHeight",label:"LabelTileHeight",options:'required inputMode="numeric" pattern="[0-9]*" min="1"'}),(0,a.jsx)("div",{className:"fieldDescription",children:l.ZP.translate("LabelTileHeightHelp")})]})}),(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsxs)("div",{className:"inputContainer",children:[(0,a.jsx)(u.Z,{type:"number",id:"txtJpegQuality",label:"LabelJpegQuality",options:'required inputMode="numeric" pattern="[0-9]*" min="1" max="100"'}),(0,a.jsx)("div",{className:"fieldDescription",children:l.ZP.translate("LabelJpegQualityHelp")})]})}),(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsxs)("div",{className:"inputContainer",children:[(0,a.jsx)(u.Z,{type:"number",id:"txtQscale",label:"LabelQscale",options:'required inputMode="numeric" pattern="[0-9]*" min="2" max="31"'}),(0,a.jsx)("div",{className:"fieldDescription",children:l.ZP.translate("LabelQscaleHelp")})]})}),(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsxs)("div",{className:"inputContainer",children:[(0,a.jsx)(u.Z,{type:"number",id:"txtProcessThreads",label:"LabelTrickplayThreads",options:'required inputMode="numeric" pattern="[0-9]*" min="0"'}),(0,a.jsx)("div",{className:"fieldDescription",children:l.ZP.translate("LabelTrickplayThreadsHelp")})]})}),(0,a.jsx)("div",{children:(0,a.jsx)(o.Z,{type:"submit",className:"raised button-submit block",title:"Save"})})]})]})})}},32459:function(e,t,n){var a=n(24246),i=n(27378),l=n(93110);t.Z=function(e){var t=e.children,n=e.id,c=e.className,r=void 0===c?"":c,o=e.title,s=e.isBackButtonEnabled,d=void 0===s||s,u=e.isMenuButtonEnabled,p=void 0!==u&&u,v=e.isNowPlayingBarEnabled,h=void 0===v||v,m=e.isThemeMediaSupported,b=void 0!==m&&m,f=e.backDropType,y=(0,i.useRef)(null);return(0,i.useEffect)((function(){l.Z.hideView()}),[]),(0,i.useEffect)((function(){var e,t,n,a,i={bubbles:!0,cancelable:!1,detail:{isRestored:!1,options:{enableMediaControl:h,supportsThemeMedia:b}}};null===(e=y.current)||void 0===e||e.dispatchEvent(new CustomEvent("viewbeforeshow",i)),null===(t=y.current)||void 0===t||t.dispatchEvent(new CustomEvent("pagebeforeshow",i)),null===(n=y.current)||void 0===n||n.dispatchEvent(new CustomEvent("viewshow",i)),null===(a=y.current)||void 0===a||a.dispatchEvent(new CustomEvent("pageshow",i))}),[y,h,b]),(0,a.jsx)("div",{ref:y,id:n,"data-role":"page",className:"page ".concat(r),"data-title":o,"data-backbutton":d,"data-menubutton":p,"data-backdroptype":f,children:t})}},83636:function(e,t,n){var a=n(24246),i=(n(27378),n(94994)),l=function(e){var t=e.type,n=e.id,a=e.className,i=e.title,l=e.leftIcon,c=e.rightIcon;return{__html:'<button\n        is="emby-button"\n        type="'.concat(t,'"\n        ').concat(n,'\n        class="').concat(a,'"\n        >\n        ').concat(l,"\n        <span>").concat(i,"</span>\n        ").concat(c,"\n    </button>")}};t.Z=function(e){var t=e.type,n=e.id,c=e.className,r=e.title,o=e.leftIcon,s=e.rightIcon;return(0,a.jsx)("div",{dangerouslySetInnerHTML:l({type:t,id:n?'id="'.concat(n,'"'):"",className:c,title:i.ZP.translate(r),leftIcon:o?'<span class="material-icons '.concat(o,'" aria-hidden="true"></span>'):"",rightIcon:s?'<span class="material-icons '.concat(s,'" aria-hidden="true"></span>'):""})})}},34650:function(e,t,n){var a=n(24246),i=n(65009),l=n.n(i),c=(n(27378),n(94994)),r=function(e){var t=e.labelClassName,n=e.className,a=e.id,i=e.dataFilter,l=e.dataItemType,c=e.dataId,r=e.checkedAttribute,o=e.renderContent;return{__html:"<label ".concat(t,'>\n        <input\n            is="emby-checkbox"\n            type="checkbox"\n            class="').concat(n,'"\n            ').concat(a,"\n            ").concat(i,"\n            ").concat(l,"\n            ").concat(c,"\n            ").concat(r,"\n        />\n        ").concat(o,"\n    </label>")}};t.Z=function(e){var t=e.labelClassName,n=e.className,i=e.elementId,o=e.dataFilter,s=e.itemType,d=e.itemId,u=e.itemAppName,p=e.itemCheckedAttribute,v=e.itemName,h=e.title,m=u?"- ".concat(u):"",b=v?"<span>".concat(l()(v||"")," ").concat(m,"</span>"):"<span>".concat(c.ZP.translate(h),"</span>");return(0,a.jsx)("div",{className:"sectioncheckbox",dangerouslySetInnerHTML:r({labelClassName:t?"class='".concat(t,"'"):"",className:n,id:i?"id='".concat(i,"'"):"",dataFilter:o?"data-filter='".concat(o,"'"):"",dataItemType:s?"data-itemtype='".concat(s,"'"):"",dataId:d?"data-id='".concat(d,"'"):"",checkedAttribute:p||"",renderContent:b})})}},93714:function(e,t,n){var a=n(24246),i=(n(27378),n(94994)),l=function(e){var t=e.is,n=e.id,a=e.className,i=e.title,l=e.icon,c=e.dataIndex,r=e.dataTag,o=e.dataProfileid;return{__html:'<button\n        is="'.concat(t,'"\n        type="button"\n        ').concat(n,'\n        class="').concat(a,'"\n        ').concat(i,"\n        ").concat(c,"\n        ").concat(r,"\n        ").concat(o,'\n    >\n        <span class="material-icons ').concat(l,'" aria-hidden="true"></span>\n    </button>')}};t.Z=function(e){var t=e.is,n=e.id,c=e.className,r=e.title,o=e.icon,s=e.dataIndex,d=e.dataTag,u=e.dataProfileid;return(0,a.jsx)("div",{dangerouslySetInnerHTML:l({is:t,id:n?'id="'.concat(n,'"'):"",className:c,title:r?'title="'.concat(i.ZP.translate(r),'"'):"",icon:o,dataIndex:s?'data-index="'.concat(s,'"'):"",dataTag:d?'data-tag="'.concat(d,'"'):"",dataProfileid:u?'data-profileid="'.concat(u,'"'):""})})}},88226:function(e,t,n){var a=n(24246),i=n(27378),l=n(94994);t.Z=function(e){var t=e.containerClassName,n=e.initialValue,c=e.onChange,r=void 0===c?function(){}:c,o=e.type,s=e.id,d=e.label,u=e.options,p=void 0===u?"":u,v=(0,i.useRef)(null),h=(0,i.useMemo)((function(){return function(e){var t=e.id,n=e.label,a=e.initialValue,i=e.options;return{__html:'<input\n        is="emby-input"\n        type="'.concat(e.type,'"\n        id="').concat(t,'"\n        label="').concat(n,'"\n        value="').concat(a,'"\n        ').concat(i,"\n    />")}}({type:o,id:s,label:l.ZP.translate(d),initialValue:n,options:p})}),[]),m=(0,i.useCallback)((function(e){r(e.target.value)}),[r]);return(0,i.useEffect)((function(){var e,t=null===(e=null==v?void 0:v.current)||void 0===e?void 0:e.querySelector("input");return null==t||t.addEventListener("input",m),function(){null==t||t.removeEventListener("input",m)}}),[v,m]),(0,a.jsx)("div",{ref:v,className:t,dangerouslySetInnerHTML:h})}},94266:function(e,t,n){n.d(t,{Z:function(){return o}});var a=n(24246),i=(n(27378),n(93714)),l=n(94994),c=function(e){var t=e.className,n=e.title,a=e.href;return{__html:'<a\n        is="emby-linkbutton"\n        rel="noopener noreferrer"\n        class="'.concat(t,'"\n        target="_blank"\n        href="').concat(a,'"\n        >\n        ').concat(n,"\n    </a>")}},r=function(e){var t=e.className,n=e.title,i=e.url;return(0,a.jsx)("div",{dangerouslySetInnerHTML:c({className:t,title:l.ZP.translate(n),href:i})})},o=function(e){var t=e.SectionClassName,n=e.title,l=e.isBtnVisible,c=void 0!==l&&l,o=e.btnId,s=e.btnClassName,d=e.btnTitle,u=e.btnIcon,p=e.isLinkVisible,v=void 0===p||p,h=e.url;return(0,a.jsxs)("div",{className:"".concat(t," sectionTitleContainer flex align-items-center"),children:[(0,a.jsx)("h2",{className:"sectionTitle",children:n}),c&&(0,a.jsx)(i.Z,{is:"emby-button",id:o,className:s,title:d,icon:u}),v&&(0,a.jsx)(r,{className:"raised button-alt headerHelpButton",title:"Help",url:h})]})}},65329:function(e,t,n){var a=n(24246),i=(n(27378),n(94994)),l=function(e){var t=e.name,n=e.id,a=e.required,i=e.label,l=e.option;return{__html:'<select\n        is="emby-select"\n        '.concat(t,'\n        id="').concat(n,'"\n        ').concat(a,'\n        label="').concat(i,'"\n    >\n        ').concat(l,"\n    </select>")}};t.Z=function(e){var t=e.name,n=e.id,c=e.required,r=e.label,o=e.children;return(0,a.jsx)("div",{dangerouslySetInnerHTML:l({name:t?"name='".concat(t,"'"):"",id:n,required:c?"required='".concat(c,"'"):"",label:i.ZP.translate(r),option:o})})}}}]);