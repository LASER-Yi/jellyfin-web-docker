/*! For license information please see dashboard-library.933cc82f41995afe5026.chunk.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[5007,96084,84158,40367],{10856:function(e,r,t){"use strict";t.r(r),t(44962),t(14382),t(78557),t(96054),t(90076),t(83994),t(82367);var a=t(22696),n=t.n(a),s=(t(63855),t(54048)),i=t(56869),o=t(73233),c=t(9482),u=t(47629),d=t(40782),l=(t(84158),t(89100)),f=t(40532),h=t(36668);function m(e,r){Promise.all([t.e(95454),t.e(35830)]).then(t.bind(t,73696)).then((function(t){new(0,t.default)({refresh:p(e),library:r}).then((function(r){r&&v(e)}))}))}function v(e){i.Ay.show(),ApiClient.getVirtualFolders().then((function(r){!function(e,r){var a="";r.push({Name:c.Ay.translate("ButtonAddMediaLibrary"),icon:"add_circle",Locations:[],showType:!1,showLocations:!1,showMenu:!1,showNameWithIcon:!1,elementId:"addLibrary"});for(var n=0;n<r.length;n++){var s=r[n];a+=g(e,s,n)}var o=e.querySelector("#divVirtualFolders");o.innerHTML=a,o.classList.add("itemsContainer"),o.classList.add("vertical-wrap"),$(".btnCardMenu",o).on("click",(function(){!function(e,r,a){var n=u.Ay.parentWithClass(r,"card"),s=a[parseInt(n.getAttribute("data-index"),10)],i=[];i.push({name:c.Ay.translate("EditImages"),id:"editimages",icon:"photo"}),i.push({name:c.Ay.translate("ManageLibrary"),id:"edit",icon:"folder"}),i.push({name:c.Ay.translate("ButtonRename"),id:"rename",icon:"mode_edit"}),i.push({name:c.Ay.translate("ScanLibrary"),id:"refresh",icon:"refresh"}),i.push({name:c.Ay.translate("ButtonRemove"),id:"delete",icon:"delete"}),Promise.resolve().then(t.bind(t,79617)).then((function(a){a.show({items:i,positionTo:r,callback:function(r){switch(r){case"edit":m(e,s);break;case"editimages":!function(e,r){t.e(4350).then(t.bind(t,4350)).then((function(t){t.show({itemId:r.ItemId,serverId:ApiClient.serverId()}).then((function(){v(e)}))}))}(e,s);break;case"rename":!function(e,r){t.e(72521).then(t.bind(t,72521)).then((function(t){(0,t.default)({label:c.Ay.translate("LabelNewName"),description:c.Ay.translate("MessageRenameMediaFolder"),confirmText:c.Ay.translate("ButtonRename")}).then((function(t){if(t&&t!=r.Name){var a=p(e);ApiClient.renameVirtualFolder(r.Name,t,a).then((function(){v(e)}))}}))}))}(e,s);break;case"delete":!function(e,r){var t=c.Ay.translate("MessageAreYouSureYouWishToRemoveMediaFolder");r.Locations.length&&(t+="<br/><br/>"+c.Ay.translate("MessageTheFollowingLocationWillBeRemovedFromLibrary")+"<br/><br/>",t+=r.Locations.join("<br/>")),(0,f.A)({text:t,title:c.Ay.translate("HeaderRemoveMediaFolder"),confirmText:c.Ay.translate("Delete"),primary:"delete"}).then((function(){var t=p(e);ApiClient.removeVirtualFolder(r.Name,t).then((function(){v(e)}))}))}(e,s);break;case"refresh":!function(e,r){t.e(32242).then(t.bind(t,77004)).then((function(e){new(0,e.default)({itemIds:[r.ItemId],serverId:ApiClient.serverId(),mode:"scan"}).show()}))}(0,s)}}})}))}(e,this,r)})),o.querySelector("#addLibrary").addEventListener("click",(function(){!function(e){Promise.all([t.e(95454),t.e(63364)]).then(t.bind(t,84826)).then((function(r){new(0,r.default)({collectionTypeOptions:b().filter((function(e){return!e.hidden})),refresh:p(e)}).then((function(r){r&&v(e)}))}))}(e)})),$(".editLibrary",o).on("click",(function(){var t=$(this).parents(".card")[0],a=parseInt(t.getAttribute("data-index"),10),n=r[a];n.ItemId&&m(e,n)})),i.Ay.hide()}(e,r)}))}function p(e){return"mediaLibraryPage"===e.id}function y(e,r){return c.Ay.translate(e,'<a is="emby-linkbutton" class="button-link" href="'+r+'" target="_blank" data-autohide="true">',"</a>")}function b(){return[{name:"",value:""},{name:c.Ay.translate("Movies"),value:"movies",message:y("MovieLibraryHelp","https://jellyfin.org/docs/general/server/media/movies")},{name:c.Ay.translate("TabMusic"),value:"music",message:y("MusicLibraryHelp","https://jellyfin.org/docs/general/server/media/music")},{name:c.Ay.translate("Shows"),value:"tvshows",message:y("TvLibraryHelp","https://jellyfin.org/docs/general/server/media/shows")},{name:c.Ay.translate("Books"),value:"books",message:y("BookLibraryHelp","https://jellyfin.org/docs/general/server/media/books")},{name:c.Ay.translate("HomeVideosPhotos"),value:"homevideos"},{name:c.Ay.translate("MusicVideos"),value:"musicvideos"},{name:c.Ay.translate("MixedMoviesShows"),value:"mixed",message:c.Ay.translate("MessageUnsetContentHelp")}]}function g(e,r,t){var a="",s="";e.classList.contains("wizardPage")&&(s+="min-width:33.3%;"),a+="<div "+(r.elementId?'id="'.concat(r.elementId,'" '):"")+'class="card backdropCard scalableCard backdropCard-scalable" style="'+s+'" data-index="'+t+'" data-id="'+r.ItemId+'">',a+='<div class="cardBox visualCardBox">',a+='<div class="cardScalable visualCardBox-cardScalable">',a+='<div class="cardPadder cardPadder-backdrop"></div>',a+='<div class="cardContent">';var i,o="";if(r.PrimaryImageItemId&&(o=ApiClient.getScaledImageUrl(r.PrimaryImageItemId,{maxWidth:Math.round(.4*u.Ay.getScreenWidth()),type:"Primary"})),o?(a+='<div class="cardImageContainer editLibrary '.concat(o?"":(0,h.Qp)(),'" style="cursor:pointer">'),a+='<img src="'.concat(o,'" style="width:100%" />'),i=!0):r.showNameWithIcon||(a+='<div class="cardImageContainer editLibrary '.concat((0,h.Qp)(),'" style="cursor:pointer;">'),a+='<span class="cardImageIcon material-icons '+(r.icon||d.Ay.getLibraryIcon(r.CollectionType))+'" aria-hidden="true"></span>',i=!0),i&&(a+='<div class="cardIndicators backdropCardIndicators">',a+='<div is="emby-itemrefreshindicator"'+(r.RefreshProgress||r.RefreshStatus&&"Idle"!==r.RefreshStatus?"":' class="hide"')+' data-progress="'+(r.RefreshProgress||0)+'" data-status="'+r.RefreshStatus+'"></div>',a+="</div>",a+="</div>"),!o&&r.showNameWithIcon&&(a+='<h3 class="cardImageContainer addLibrary" style="position:absolute;top:0;left:0;right:0;bottom:0;cursor:pointer;flex-direction:column;">',a+='<span class="cardImageIcon material-icons '+(r.icon||d.Ay.getLibraryIcon(r.CollectionType))+'" aria-hidden="true"></span>',r.showNameWithIcon&&(a+='<div style="margin:1em 0;position:width:100%;">',a+=n()(r.Name),a+="</div>"),a+="</h3>"),a+="</div>",a+="</div>",a+='<div class="cardFooter visualCardBox-cardFooter">',!1!==r.showMenu){var l=c.Ay.getIsRTL()?"left":"right";a+='<div style="text-align:'+l+"; float:"+l+';padding-top:5px;">',a+='<button type="button" is="paper-icon-button-light" class="btnCardMenu autoSize"><span class="material-icons more_vert" aria-hidden="true"></span></button>',a+="</div>"}a+="<div class='cardText'>",r.showNameWithIcon?a+="&nbsp;":a+=n()(r.Name),a+="</div>";var f=b().filter((function(e){return e.value==r.CollectionType}))[0];return f=f?f.name:c.Ay.translate("Other"),a+="<div class='cardText cardText-secondary'>",!1===r.showType?a+="&nbsp;":a+=f,a+="</div>",!1===r.showLocations?(a+="<div class='cardText cardText-secondary'>",a+="&nbsp;",a+="</div>"):r.Locations.length&&1===r.Locations.length?(a+="<div class='cardText cardText-secondary' dir='ltr' style='text-align:left;'>",a+=r.Locations[0],a+="</div>"):(a+="<div class='cardText cardText-secondary'>",a+=c.Ay.translate("NumLocationsValue",r.Locations.length),a+="</div>"),a+="</div>",(a+="</div>")+"</div>"}function w(){return[{href:"#/dashboard/libraries",name:c.Ay.translate("HeaderLibraries")},{href:"#/dashboard/libraries/display",name:c.Ay.translate("Display")},{href:"#/dashboard/libraries/metadata",name:c.Ay.translate("Metadata")},{href:"#/dashboard/libraries/nfo",name:c.Ay.translate("TabNfoSettings")}]}window.WizardLibraryPage={next:function(){l.default.navigate("wizardsettings.html")}},(0,l.pageClassOn)("pageshow","mediaLibraryPage",(function(){v(this)})),(0,l.pageIdOn)("pageshow","mediaLibraryPage",(function(){o.default.setTabs("librarysetup",0,w),(0,s.A)({mode:"on",progressElem:this.querySelector(".refreshProgress"),taskKey:"RefreshLibrary",button:this.querySelector(".btnRefresh")})})),(0,l.pageIdOn)("pagebeforehide","mediaLibraryPage",(function(){(0,s.A)({mode:"off",progressElem:this.querySelector(".refreshProgress"),taskKey:"RefreshLibrary",button:this.querySelector(".btnRefresh")})}))},84158:function(e,r,t){"use strict";t.r(r),t(67593),t(78557),t(23630),t(69177);var a=t(9482),n=t(51686),s=Object.create(HTMLDivElement.prototype);s.createdCallback=function(){this.classList.add("progressring"),this.setAttribute("dir","ltr");var e=this;if(e.innerHTML='<div class="progressring-bg"> <div class="progressring-text"></div> </div> <div class="spiner-holder-one animate-0-25-a"> <div class="spiner-holder-two animate-0-25-b"> <div class="progressring-spiner"></div> </div> </div> <div class="spiner-holder-one animate-25-50-a"> <div class="spiner-holder-two animate-25-50-b"> <div class="progressring-spiner"></div> </div> </div> <div class="spiner-holder-one animate-50-75-a"> <div class="spiner-holder-two animate-50-75-b"> <div class="progressring-spiner"></div> </div> </div> <div class="spiner-holder-one animate-75-100-a"> <div class="spiner-holder-two animate-75-100-b"> <div class="progressring-spiner"></div> </div> </div> ',window.MutationObserver){var r=new MutationObserver((function(r){r.forEach((function(){e.setProgress(parseFloat(e.getAttribute("data-progress")||"0"))}))}));r.observe(e,{attributes:!0,childList:!1,characterData:!1}),e.observer=r}e.setProgress(parseFloat(e.getAttribute("data-progress")||"0"))},s.setProgress=function(e){var r;(e=Math.floor(e))<25?(r=e/100*360-90,this.querySelector(".animate-0-25-b").style.transform="rotate("+r+"deg)",this.querySelector(".animate-25-50-b").style.transform="rotate(-90deg)",this.querySelector(".animate-50-75-b").style.transform="rotate(-90deg)",this.querySelector(".animate-75-100-b").style.transform="rotate(-90deg)"):e>=25&&e<50?(r=(e-25)/100*360-90,this.querySelector(".animate-0-25-b").style.transform="none",this.querySelector(".animate-25-50-b").style.transform="rotate("+r+"deg)",this.querySelector(".animate-50-75-b").style.transform="rotate(-90deg)",this.querySelector(".animate-75-100-b").style.transform="rotate(-90deg)"):e>=50&&e<75?(r=(e-50)/100*360-90,this.querySelector(".animate-0-25-b").style.transform="none",this.querySelector(".animate-25-50-b").style.transform="none",this.querySelector(".animate-50-75-b").style.transform="rotate("+r+"deg)",this.querySelector(".animate-75-100-b").style.transform="rotate(-90deg)"):e>=75&&e<=100&&(r=(e-75)/100*360-90,this.querySelector(".animate-0-25-b").style.transform="none",this.querySelector(".animate-25-50-b").style.transform="none",this.querySelector(".animate-50-75-b").style.transform="none",this.querySelector(".animate-75-100-b").style.transform="rotate("+r+"deg)"),this.querySelector(".progressring-text").innerHTML=(0,n.BY)(e/100,(0,a.jE)())},s.attachedCallback=function(){},s.detachedCallback=function(){var e=this.observer;e&&(e.disconnect(),this.observer=null)},document.registerElement("emby-progressring",{prototype:s,extends:"div"});var i=s,o=t(47629),c=t(10736),u=t(62014);function d(e,r,t){var a=this;if(a.itemId||(a.itemId=o.Ay.parentWithAttribute(a,"data-id").getAttribute("data-id")),t.ItemId===a.itemId){var n=parseFloat(t.Progress);n&&n<100?this.classList.remove("hide"):this.classList.add("hide"),this.setAttribute("data-progress",n)}}var l=Object.create(i);l.createdCallback=function(){var e,r;i.createdCallback&&i.createdCallback.call(this),e="RefreshProgress",r=d.bind(this),u.A.on(c.default,e,r),this[e]=r},l.attachedCallback=function(){i.attachedCallback&&i.attachedCallback.call(this)},l.detachedCallback=function(){var e,r;i.detachedCallback&&i.detachedCallback.call(this),(r=this[e="RefreshProgress"])&&(u.A.off(c.default,e,r),this[e]=null),this.itemId=null},document.registerElement("emby-itemrefreshindicator",{prototype:l,extends:"div"})},36668:function(e,r,t){"use strict";t.d(r,{QW:function(){return w},Qp:function(){return y},Rn:function(){return p},Tj:function(){return h},a_:function(){return m},hn:function(){return d},n5:function(){return l},uA:function(){return v},w:function(){return f},zo:function(){return g}});var a=t(80633),n=t(51686),s=t(4452),i=t.n(s),o=2/3,c=16/9,u=1e3/185,d=function(e){return"Program"===e||"Timer"===e||"Recording"===e},l=function(e){return"play"===e.defaultAction&&e.isFolder?"link":e.isPhoto?"play":e.defaultAction},f=function(e){var r=window.screen;return!!(r&&r.availWidth-e>20)},h=function(e){return null==e?a.G8.MixedSquare:e>=1.33?a.G8.MixedBackdrop:e>.71?a.G8.MixedSquare:a.G8.MixedPortrait},m=function(e){var r;return i()(((r={card:!0})["".concat(e.shape,"Card")]=e.shape,r["".concat(e.cardCssClass)]=e.cardCssClass,r["".concat(e.cardClass)]=e.cardClass,r["card-hoverable"]=e.isDesktop,r["show-focus"]=e.isTV,r["show-animation"]=e.isTV&&e.enableFocusTransform,r.groupedCard=e.showChildCountIndicator&&e.childCount,r["card-withuserdata"]=!["MusicAlbum","MusicArtist","Audio"].includes(e.itemType),r.itemAction="button"===e.tagName,r))},v=function(e){var r;return i()(((r={cardImageContainer:!0,coveredImage:e.hasCoverImage,"coveredImage-contain":e.hasCoverImage&&"TvChannel"===e.itemType})[y(e.itemName)]=!e.imgUrl,r))},p=function(e){return i()({cardBox:!0,visualCardBox:e.cardLayout,"cardBox-bottompadded":e.hasOuterCardFooter&&!e.cardLayout})},y=function(e){return"defaultCardBackground defaultCardBackground".concat(b(e))},b=function(e){if(e){for(var r=Math.floor(e.length/2),t=String(e.slice(r,r+1).charCodeAt(0)),a=0,s=0;s<t.length;s++)a+=parseInt(t.charAt(s),10);return parseInt(String(a).slice(-1),10)%5+1}return(0,n.HO)(1,5)},g=function(e){return e?-1!==(e=e.toLowerCase()).indexOf("portrait")?o:-1!==e.indexOf("backdrop")?c:-1!==e.indexOf("square")?1:-1!==e.indexOf("banner")?u:null:null},w=function(e,r,t,a){switch(e){case"portrait":return A(r,a);case"square":return S(r,a);case"banner":return I(r);case"backdrop":return C(r,a);case"smallBackdrop":return x(r);case"overflowSmallBackdrop":return k(r,t,a);case"overflowPortrait":return L(r,t,a);case"overflowSquare":return P(r,t,a);case"overflowBackdrop":return M(r,t,a);default:return 4}},A=function(e,r){switch(!0){case r:return 5.9999999988;case e>=2200:return 10;case e>=1920:return 9.000000000009;case e>=1600:return 8;case e>=1400:return 7.0000000000021;case e>=1200:return 5.9999999988;case e>=800:return 5;case e>=700:return 4;default:return 3.0000000003}},S=function(e,r){switch(!0){case r:return 5.9999999988;case e>=2200:return 10;case e>=1920:return 9.000000000009;case e>=1600:return 8;case e>=1400:return 7.0000000000021;case e>=1200:return 5.9999999988;case e>=800:return 5;case e>=700:return 4;case e>=500:return 3.0000000003;default:return 2}},I=function(e){switch(!0){case e>=2200:return 4;case e>=1200:return 3.0000000003;case e>=800:return 2;default:return 1}},C=function(e,r){switch(!0){case r:return 4;case e>=2500:return 6;case e>=1600:return 5;case e>=1200:return 4;case e>=770:return 3;case e>=420:return 2;default:return 1}},x=function(e){switch(!0){case e>=1600:return 8;case e>=1400:return 7.000000000007001;case e>=1200:return 5.9999999988;case e>=1e3:return 5;case e>=800:return 4;case e>=500:return 3.0000000003;default:return 2}},k=function(e,r,t){switch(!0){case t:return 100/18.9;case r&&e>=800:return 100/15.5;case r:return 100/23.3;case e>=540:return 100/30;default:return 100/72}},L=function(e,r,t){switch(!0){case t:return 100/15.5;case r&&e>=1700:return 100/11.6;case r:return 100/15.5;case e>=1400:return 100/15;case e>=1200:return 100/18;case e>=760:return 100/23;case e>=400:return 100/31.5;default:return 100/42}},P=function(e,r,t){switch(!0){case t:return 100/15.5;case r&&e>=1700:return 100/11.6;case r:return 100/15.5;case e>=1400:return 100/15;case e>=1200:return 100/18;case e>=760:return 100/23;case e>=540:return 100/31.5;default:return 100/42}},M=function(e,r,t){switch(!0){case t:return 100/23.3;case r&&e>=1700:return 100/18.5;case r:return 100/23.3;case e>=1800:return 100/23.5;case e>=1400:return 100/30;case e>=760:return 2.5;case e>=640:return 100/56;default:return 100/72}}},80633:function(e,r,t){"use strict";var a;function n(e){return void 0===e&&(e=!0),e?a.SquareOverflow:a.Square}function s(e){return void 0===e&&(e=!0),e?a.BackdropOverflow:a.Backdrop}function i(e){return void 0===e&&(e=!0),e?a.PortraitOverflow:a.Portrait}t.d(r,{G8:function(){return a},UI:function(){return s},xK:function(){return i},zP:function(){return n}}),function(e){e.Backdrop="backdrop",e.BackdropOverflow="overflowBackdrop",e.Banner="banner",e.Portrait="portrait",e.PortraitOverflow="overflowPortrait",e.Square="square",e.SquareOverflow="overflowSquare",e.Auto="auto",e.AutoHome="autohome",e.AutoOverflow="autooverflow",e.AutoVertical="autoVertical",e.Mixed="mixed",e.MixedSquare="mixedSquare",e.MixedBackdrop="mixedBackdrop",e.MixedPortrait="mixedPortrait"}(a||(a={}))},40782:function(e,r,t){"use strict";var a=t(11444),n="assets/img/devices/";r.Ay={getDeviceIcon:function(e){var r;switch(e.AppName||e.Client){case"Samsung Smart TV":return n+"samsung.svg";case"Xbox One":return n+"xbox.svg";case"Sony PS4":return n+"playstation.svg";case"Kodi":case"Kodi JellyCon":return n+"kodi.svg";case"Jellyfin Android":case"AndroidTV":case"Android TV":return n+"android.svg";case"Jellyfin Mobile (iOS)":case"Jellyfin Mobile (iPadOS)":case"Jellyfin iOS":case"Infuse":return n+"apple.svg";case"Home Assistant":return n+"home-assistant.svg";case"Jellyfin Roku":return n+"roku.svg";case"Finamp":return n+"finamp.svg";case"Jellyfin Web":return function(e){switch(e){case"Opera":case"Opera TV":case"Opera Android":return n+"opera.svg";case"Chrome":case"Chrome Android":return n+"chrome.svg";case"Firefox":case"Firefox Android":return n+"firefox.svg";case"Safari":case"Safari iPad":case"Safari iPhone":return n+"safari.svg";case"Edge Chromium":case"Edge Chromium Android":case"Edge Chromium iPad":case"Edge Chromium iPhone":return n+"edgechromium.svg";case"Edge":return n+"edge.svg";case"Internet Explorer":return n+"msie.svg";default:return n+"html5.svg"}}(e.Name||e.DeviceName);default:if(null===(r=e.Capabilities)||void 0===r?void 0:r.IconUrl)try{return new URL(e.Capabilities.IconUrl).toString()}catch(r){console.error("[getDeviceIcon] device capabilities has invalid IconUrl",e,r)}return n+"other.svg"}},getLibraryIcon:function(e){switch(e){case"movies":return"video_library";case"music":return"library_music";case"photos":case"homevideos":return"photo_library";case"livetv":return"live_tv";case"tvshows":return"tv";case"trailers":return"local_movies";case"musicvideos":return"music_video";case"books":return"library_books";case"channels":return"videocam";case"playlists":return"view_list";default:return"folder"}},getItemTypeIcon:function(e){switch(e){case a.D.MusicAlbum:return"album";case a.D.MusicArtist:case a.D.Person:return"person";case a.D.Audio:return"audiotrack";case a.D.Movie:return"movie";case a.D.Episode:case a.D.Series:return"tv";case a.D.Program:return"live_tv";case a.D.Book:return"book";case a.D.Folder:return"folder";case a.D.BoxSet:return"collections";case a.D.Playlist:return"view_list";case a.D.Photo:return"photo";case a.D.PhotoAlbum:return"photo_album";default:return"folder"}}}},35840:function(e,r,t){"use strict";function a(e){return e}t.d(r,{j:function(){return a}})},78779:function(e,r,t){"use strict";var a=t(63696),n="function"==typeof Object.is?Object.is:function(e,r){return e===r&&(0!==e||1/e==1/r)||e!=e&&r!=r},s=a.useState,i=a.useEffect,o=a.useLayoutEffect,c=a.useDebugValue;function u(e){var r=e.getSnapshot;e=e.value;try{var t=r();return!n(e,t)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,r){return r()}:function(e,r){var t=r(),a=s({inst:{value:t,getSnapshot:r}}),n=a[0].inst,d=a[1];return o((function(){n.value=t,n.getSnapshot=r,u(n)&&d({inst:n})}),[e,t,r]),i((function(){return u(n)&&d({inst:n}),e((function(){u(n)&&d({inst:n})}))}),[e]),c(t),t};r.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:d},43676:function(e,r,t){"use strict";e.exports=t(78779)},4452:function(e,r){var t;!function(){"use strict";var a={}.hasOwnProperty;function n(){for(var e="",r=0;r<arguments.length;r++){var t=arguments[r];t&&(e=i(e,s(t)))}return e}function s(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var r="";for(var t in e)a.call(e,t)&&e[t]&&(r=i(r,t));return r}function i(e,r){return r?e?e+" "+r:e+r:e}e.exports?(n.default=n,e.exports=n):void 0===(t=function(){return n}.apply(r,[]))||(e.exports=t)}()}}]);