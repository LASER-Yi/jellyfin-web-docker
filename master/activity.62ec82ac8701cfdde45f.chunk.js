(self.webpackChunk=self.webpackChunk||[]).push([[88788],{17240:function(e,t,n){"use strict";n.d(t,{A:function(){return i}}),n(63696);var r=n(91785),a=n(62540);function i(e){var t=e.styles,n=e.defaultTheme,i=void 0===n?{}:n,o="function"==typeof t?function(e){return t(null==(n=e)||0===Object.keys(n).length?i:e);var n}:t;return(0,a.jsx)(r.mL,{styles:o})}},40362:function(e,t,n){"use strict";var r=n(56441);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},62688:function(e,t,n){e.exports=n(40362)()},56441:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},20446:function(e,t,n){"use strict";n.d(t,{UI:function(){return i}});var r="NOT_FOUND",a=function(e,t){return e===t};function i(e,t){var n,i,o="object"==typeof t?t:{equalityCheck:t},l=o.equalityCheck,u=void 0===l?a:l,c=o.maxSize,s=void 0===c?1:c,f=o.resultEqualityCheck,d=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e(t[a],n[a]))return!1;return!0}}(u),v=1===s?(n=d,{get:function(e){return i&&n(i.key,e)?i.value:r},put:function(e,t){i={key:e,value:t}},getEntries:function(){return i?[i]:[]},clear:function(){i=void 0}}):function(e,t){var n=[];function a(e){var a=n.findIndex((function(n){return t(e,n.key)}));if(a>-1){var i=n[a];return a>0&&(n.splice(a,1),n.unshift(i)),i.value}return r}return{get:a,put:function(t,i){a(t)===r&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(s,d);function p(){var t=v.get(arguments);if(t===r){if(t=e.apply(null,arguments),f){var n=v.getEntries().find((function(e){return f(e.value,t)}));n&&(t=n.value)}v.put(arguments,t)}return t}return p.clearCache=function(){return v.clear()},p}},24885:function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var i,o=0,l={memoizeOptions:void 0},u=r.pop();if("object"==typeof u&&(l=u,u=r.pop()),"function"!=typeof u)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var c=l.memoizeOptions,s=void 0===c?n:c,f=Array.isArray(s)?s:[s],d=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}(r),v=e.apply(void 0,[function(){return o++,u.apply(null,arguments)}].concat(f)),p=e((function(){for(var e=[],t=d.length,n=0;n<t;n++)e.push(d[n].apply(null,arguments));return i=v.apply(null,e)}));return Object.assign(p,{resultFunc:u,memoizedResultFunc:v,dependencies:d,lastResult:function(){return i},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),p}}n.d(t,{Mz:function(){return a}});var a=r(n(20446).UI)},94209:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G}});var r,a=n(62540),i=n(63696),o=n(55099),l=n(7758),u=n(46999),c=n(5271),s=n(34907),f=n(19044),d=n(99502),v=n(99851),p=n(58337),y=n(9055),h=n(7397),b=n(92342),m=n(14847),w=n(98320),g=n(9482),x=n(67202),A=n(10104),j=n(23392),O=function(e){var t,n=e.level;switch(n){case A.$.Information:t="info";break;case A.$.Warning:t="warning";break;case A.$.Error:case A.$.Critical:t="error"}var r=g.Ay.translate("LogLevel.".concat(n));return(0,a.jsx)(j.A,{size:"small",color:t,label:r,title:r})},S=n(10789),k=n(36161),E=n(20541),C=function(e){var t=e.Overview,n=e.ShortOverview,r=null!=n?n:t,o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}((0,i.useState)(!1),2),l=o[0],u=o[1],f=(0,i.useCallback)((function(){u(!1)}),[]),d=(0,i.useCallback)((function(){u(!0)}),[]);return r?(0,a.jsxs)(c.A,{sx:{display:"flex",width:"100%",alignItems:"center"},children:[(0,a.jsx)(c.A,{sx:{flexGrow:1,overflow:"hidden",textOverflow:"ellipsis"},component:"div",title:r,children:r}),n&&t&&(0,a.jsx)(k.x,{onClickAway:f,children:(0,a.jsx)(E.A,{title:t,placement:"top",arrow:!0,onClose:f,open:l,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,children:(0,a.jsx)(s.A,{onClick:d,children:(0,a.jsx)(S.A,{})})})})]}):null},I=n(7743),T=function(){return T=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},T.apply(this,arguments)},L=function(e){var t=e.to,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["to"]);return(0,a.jsx)(y.N_,{to:t,children:(0,a.jsx)(I.Z,T({},n))})},N=function(){return N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},N.apply(this,arguments)},U=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function l(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},P=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(u){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}},z=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o},R=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},_="useractivity";!function(e){e[e.All=0]="All",e[e.User=1]="User",e[e.System=2]="System"}(r||(r={}));var M=function(e){return null===e?r.All:(0,x.G)(e)?r.User:r.System},D=function(e){var t;return null!==(t=e.Id)&&void 0!==t?t:-1},G=function(){var e=(0,m.gf)().api,t=z((0,y.ok)(),2),n=t[0],x=t[1],A=z((0,i.useState)(M(n.get(_))),2),j=A[0],S=A[1],k=z((0,i.useState)(!0),2),E=k[0],I=k[1],T=z((0,i.useState)({page:0,pageSize:25}),2),G=T[0],F=T[1],q=z((0,i.useState)(0),2),B=q[0],H=q[1],W=z((0,i.useState)([]),2),$=W[0],Y=W[1],V=z((0,i.useState)({}),2),J=V[0],Z=V[1],K=j!==r.System?[{field:"User",headerName:g.Ay.translate("LabelUser"),width:60,valueGetter:function(e){var t,n=e.row;return null===(t=J[n.UserId])||void 0===t?void 0:t.Name},renderCell:function(e){var t,n,r=e.row;return(0,a.jsx)(s.A,{size:"large",color:"inherit",sx:{padding:0},title:null!==(n=null===(t=J[r.UserId])||void 0===t?void 0:t.Name)&&void 0!==n?n:void 0,component:y.N_,to:"/dashboard/users/profile?userId=".concat(r.UserId),children:(0,a.jsx)(b.A,{user:J[r.UserId]})})}}]:[],Q=R(R([{field:"Date",headerName:g.Ay.translate("LabelDate"),width:90,type:"date",valueGetter:function(e){var t=e.value;return(0,w.mk)(t)},valueFormatter:function(e){var t=e.value;return(0,w.hJ)(t)}},{field:"Time",headerName:g.Ay.translate("LabelTime"),width:100,type:"dateTime",valueGetter:function(e){var t=e.row;return(0,w.mk)(t.Date)},valueFormatter:function(e){var t=e.value;return(0,w.kY)(t)}},{field:"Severity",headerName:g.Ay.translate("LabelLevel"),width:110,renderCell:function(e){var t=e.value;return t?(0,a.jsx)(O,{level:t}):void 0}}],z(K),!1),[{field:"Name",headerName:g.Ay.translate("LabelName"),width:300},{field:"Overview",headerName:g.Ay.translate("LabelOverview"),width:200,valueGetter:function(e){var t,n=e.row;return null!==(t=n.ShortOverview)&&void 0!==t?t:n.Overview},renderCell:function(e){var t=e.row;return(0,a.jsx)(C,N({},t))}},{field:"Type",headerName:g.Ay.translate("LabelType"),width:180},{field:"actions",type:"actions",width:50,getActions:function(e){var t=e.row,n=[];return t.ItemId&&n.push((0,a.jsx)(L,{size:"large",icon:(0,a.jsx)(u.A,{}),label:g.Ay.translate("LabelMediaDetails"),title:g.Ay.translate("LabelMediaDetails"),to:"/details?id=".concat(t.ItemId)})),n}}],!1),X=(0,i.useCallback)((function(e,t){null!==t&&S(t)}),[]);return(0,i.useEffect)((function(){e&&U(void 0,void 0,void 0,(function(){var t,n;return P(this,(function(r){switch(r.label){case 0:return[4,(0,l.q)(e).getUsers()];case 1:return t=r.sent().data,n={},t.forEach((function(e){e.Id&&(n[e.Id]=e)})),Z(n),[2]}}))})).catch((function(e){console.error("[activity] failed to fetch users",e)}))}),[e]),(0,i.useEffect)((function(){e&&(I(!0),U(void 0,void 0,void 0,(function(){var t,n,a,i;return P(this,(function(l){switch(l.label){case 0:return t={startIndex:G.page*G.pageSize,limit:G.pageSize},j!==r.All&&(t.hasUserId=j===r.User),[4,(0,o.A)(e).getLogEntries(t)];case 1:return n=l.sent().data,H(null!==(a=n.TotalRecordCount)&&void 0!==a?a:0),Y(null!==(i=n.Items)&&void 0!==i?i:[]),I(!1),[2]}}))})).catch((function(e){console.error("[activity] failed to fetch activity log entries",e)})))}),[j,e,G]),(0,i.useEffect)((function(){M(n.get(_))!==j&&(j===r.All?n.delete(_):n.set(_,"".concat(j===r.User)),x(n))}),[j,n,x]),(0,a.jsx)(h.A,{id:"serverActivityPage",title:g.Ay.translate("HeaderActivity"),className:"mainAnimatedPage type-interior",children:(0,a.jsxs)("div",{className:"content-primary",children:[(0,a.jsxs)(c.A,{sx:{display:"flex",alignItems:"baseline",marginY:2},children:[(0,a.jsx)(c.A,{sx:{flexGrow:1},children:(0,a.jsx)(v.A,{variant:"h2",children:g.Ay.translate("HeaderActivity")})}),(0,a.jsxs)(d.A,{value:j,onChange:X,exclusive:!0,children:[(0,a.jsx)(f.A,{value:r.All,children:g.Ay.translate("All")}),(0,a.jsx)(f.A,{value:r.User,children:g.Ay.translate("LabelUser")}),(0,a.jsx)(f.A,{value:r.System,children:g.Ay.translate("LabelSystem")})]})]}),(0,a.jsx)(p.zh,{columns:Q,rows:$,pageSizeOptions:[10,25,50,100],paginationMode:"server",paginationModel:G,onPaginationModelChange:F,rowCount:B,getRowId:D,loading:E,sx:{minHeight:500}})]})})}},7397:function(e,t,n){"use strict";var r=n(62540),a=n(63696),i=n(62156);t.A=function(e){var t=e.children,n=e.id,o=e.className,l=void 0===o?"":o,u=e.title,c=e.isBackButtonEnabled,s=void 0===c||c,f=e.isMenuButtonEnabled,d=void 0!==f&&f,v=e.isNowPlayingBarEnabled,p=void 0===v||v,y=e.isThemeMediaSupported,h=void 0!==y&&y,b=e.backDropType,m=(0,a.useRef)(null);return(0,a.useEffect)((function(){i.A.hideView()}),[]),(0,a.useEffect)((function(){var e,t,n,r,a={bubbles:!0,cancelable:!1,detail:{isRestored:!1,options:{enableMediaControl:p,supportsThemeMedia:h}}};null===(e=m.current)||void 0===e||e.dispatchEvent(new CustomEvent("viewbeforeshow",a)),null===(t=m.current)||void 0===t||t.dispatchEvent(new CustomEvent("pagebeforeshow",a)),null===(n=m.current)||void 0===n||n.dispatchEvent(new CustomEvent("viewshow",a)),null===(r=m.current)||void 0===r||r.dispatchEvent(new CustomEvent("pageshow",a))}),[m,p,h]),(0,r.jsx)("div",{ref:m,id:n,"data-role":"page",className:"page ".concat(l),"data-title":u,"data-backbutton":s,"data-menubutton":d,"data-backdroptype":b,children:t})}}}]);