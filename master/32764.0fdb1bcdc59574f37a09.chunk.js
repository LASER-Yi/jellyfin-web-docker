"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[32764,78938,23346,58782],{58782:function(e,t,n){n.r(t),n.d(t,{default:function(){return A},fillImage:function(){return f},fillImages:function(){return g},getPrimaryImageAspectRatio:function(){return v},lazyChildren:function(){return m},lazyImage:function(){return c},setLazyImage:function(){return b}}),n(29305),n(32733),n(84701),n(14382),n(69892),n(44962),n(89336),n(26448),n(78557),n(95021),n(73687),n(83994),n(93062),n(82367);var r=n(99891),a=n(82885);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=new function(){return new Worker(n.p+"blurhash.worker.bundle.js")},l={};function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getAttribute("data-src");t&&y(e,t)}function u(e,t,n,r){var a=document.createElement("canvas");a.setAttribute("aria-hidden","true"),a.width=n,a.height=r;var i=a.getContext("2d"),o=i.createImageData(n,r);o.data.set(t),i.putImageData(o,0,0),requestAnimationFrame((function(){a.classList.add("blurhash-canvas"),e.parentNode.insertBefore(a,e),e.classList.add("blurhashed"),e.removeAttribute("data-blurhash")}))}function d(e,t){try{l[t]=(l[t]||[]).filter((function(t){return t!==e})),l[t].push(e),s.postMessage({hash:t,width:20,height:20})}catch(t){return console.error(t),void e.classList.add("non-blurhashable")}}function f(e){if(!e)throw new Error("entry cannot be null");var t,n=e.target;t=n?n.getAttribute("data-src"):e,e.isIntersecting?t&&y(n,t):t||function(e){var t;e.removeEventListener("animationend",h);var n,r=e.previousSibling;"CANVAS"===(null==r?void 0:r.tagName)&&r.classList.remove("lazy-hidden"),null===(t=e.parentNode)||void 0===t||null===(t=t.querySelector(".cardPadder"))||void 0===t||t.classList.remove("lazy-hidden-children"),"IMG"!==e.tagName?(n=e.style.backgroundImage.slice(4,-1).replace(/"/g,""),e.style.backgroundImage="none"):(n=e.getAttribute("src"),e.setAttribute("src","")),e.setAttribute("data-src",n),e.classList.remove("lazy-image-fadein-fast","lazy-image-fadein"),e.classList.add("lazy-hidden")}(n)}function h(e){var t=e.target;requestAnimationFrame((function(){var e,n=t.previousSibling;t.classList.contains("blurhashed")&&"CANVAS"===(null==n?void 0:n.tagName)&&n.classList.add("lazy-hidden"),null===(e=t.parentNode)||void 0===e||null===(e=e.querySelector(".cardPadder"))||void 0===e||e.classList.add("lazy-hidden-children")})),t.removeEventListener("animationend",h)}function y(e,t){if(void 0===t)throw new TypeError("url cannot be undefined");var n=new Image;n.src=t,e.classList.add("lazy-hidden"),e.addEventListener("animationend",h),n.addEventListener("load",(function(){requestAnimationFrame((function(){"IMG"!==e.tagName?e.style.backgroundImage="url('"+t+"')":e.setAttribute("src",t),e.removeAttribute("data-src"),a.enableFastFadein()?e.classList.add("lazy-image-fadein-fast"):e.classList.add("lazy-image-fadein"),e.classList.remove("lazy-hidden")}))}))}function m(e){if(a.enableBlurhash()){var t,n=i(e.querySelectorAll(".lazy"));try{for(n.s();!(t=n.n()).done;){var o=t.value,s=o.getAttribute("data-blurhash");!o.classList.contains("blurhashed","non-blurhashable")&&s?d(o,s):s||o.classList.contains("blurhashed")||o.classList.add("non-blurhashable")}}catch(e){n.e(e)}finally{n.f()}}r.WK(e,f)}function v(e){for(var t=[],n=0,r=e.length;n<r;n++){var a=e[n].PrimaryImageAspectRatio||0;a&&(t[t.length]=a)}if(!t.length)return null;t.sort((function(e,t){return e-t}));var i,o=Math.floor(t.length/2);i=t.length%2?t[o]:(t[o-1]+t[o])/2;var s=2/3;if(Math.abs(s-i)<=.15)return s;var l=16/9;if(Math.abs(l-i)<=.2)return l;if(Math.abs(1-i)<=.15)return 1;var c=4/3;return Math.abs(c-i)<=.15?c:i}function g(e){for(var t=0,n=e.length;t<n;t++)f(e[0])}function b(e,t){e.classList.add("lazy"),e.setAttribute("data-src",t),c(e)}s.addEventListener("message",(function(e){var t=e.data,n=t.pixels,r=t.hsh,a=t.width,o=t.height,s=l[r];if(null!=s&&s.length){var c,d=i(s);try{for(d.s();!(c=d.n()).done;)u(c.value,n,a,o)}catch(e){d.e(e)}finally{d.f()}delete l[r]}}));var A={setLazyImage:b,fillImages:g,fillImage:f,lazyImage:c,lazyChildren:m,getPrimaryImageAspectRatio:v}},99891:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}n.d(t,{WK:function(){return s}}),n(29305),n(32733),n(84701),n(81678),n(69892),n(44962),n(4754),n(94),n(36947),n(78557),n(83994),n(23630),n(82367);var o=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t},(t=[{key:"createObserver",value:function(){var e=this.options.callback,t=new IntersectionObserver((function(t){t.forEach((function(t){e(t)}))}),{rootMargin:"50%",threshold:0});this.observer=t}},{key:"addElements",value:function(e){var t=this.observer;t||(this.createObserver(),t=this.observer),Array.from(e).forEach((function(e){t.observe(e)}))}},{key:"destroyObserver",value:function(){var e=this.observer;e&&(e.disconnect(),this.observer=null)}},{key:"destroy",value:function(){this.destroyObserver(),this.options=null}}])&&a(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function s(e,t){!function(e,t,n){e.length&&new o({callback:n}).addElements(e)}(e.getElementsByClassName("lazy"),0,t)}t.Ay={LazyLoader:o,lazyChildren:s}},78938:function(e,t,n){n.r(t),n(78557),n(90076);var r=n(9482),a=n(56869),i=n(86191),o=n(50764),s=n(40532),l=n(48080);function c(e,t,n,i){return a.Ay.show(),e.getItem(e.getCurrentUserId(),n).then((function(s){return s.IsSeries?e.getNewLiveTvTimerDefaults({programId:n}).then((function(t){return e.createLiveTvSeriesTimer(t).then((function(){a.Ay.hide(),(0,o.A)(r.Ay.translate("SeriesRecordingScheduled"))}))})):i?u(t,e.serverId()):d(e.serverId(),t,!0)}))}function u(e,t){return new Promise((function(n,o){(0,s.A)({text:r.Ay.translate("MessageConfirmRecordingCancellation"),primary:"delete",confirmText:r.Ay.translate("HeaderCancelRecording"),cancelText:r.Ay.translate("HeaderKeepRecording")}).then((function(){a.Ay.show(),d(i.A.getApiClient(t),e,!0).then(n,o)}),o)}))}function d(e,t,n){return a.Ay.show(),e.cancelLiveTvTimer(t).then((function(){!1!==n&&(a.Ay.hide(),(0,o.A)(r.Ay.translate("RecordingCancelled")))}))}function f(e,t,n){return a.Ay.show(),e.getNewLiveTvTimerDefaults({programId:t}).then((function(t){return(n?e.createLiveTvSeriesTimer(t):e.createLiveTvTimer(t)).then((function(){a.Ay.hide(),(0,o.A)(r.Ay.translate("RecordingScheduled"))}))}))}t.default={cancelTimer:d,createRecording:f,changeRecordingToSeries:c,toggleRecording:function(e,t,n,s,u){var h=i.A.getApiClient(e),y=n&&"Cancelled"!==s;return u&&y?function(e,t,n,s,c){return new Promise((function(t,u){var f=[];f.push({name:r.Ay.translate("HeaderKeepRecording"),id:"cancel",type:"submit"}),"InProgress"===s?f.push({name:r.Ay.translate("HeaderStopRecording"),id:"canceltimer",type:"cancel"}):f.push({name:r.Ay.translate("HeaderCancelRecording"),id:"canceltimer",type:"cancel"}),f.push({name:r.Ay.translate("HeaderCancelSeries"),id:"cancelseriestimer",type:"cancel"}),l.A.show({text:r.Ay.translate("MessageConfirmRecordingCancellation"),buttons:f}).then((function(s){var l=i.A.getApiClient(e);"canceltimer"===s?(a.Ay.show(),d(l,n,!0).then(t,u)):"cancelseriestimer"===s?(a.Ay.show(),l.cancelLiveTvSeriesTimer(c).then((function(){(0,o.A)(r.Ay.translate("SeriesCancelled")),a.Ay.hide(),t()}),u)):t()}),u)}))}(e,0,n,s,u):y&&t?c(h,n,t,!0):t?f(h,t):Promise.reject()},cancelTimerWithConfirmation:u,cancelSeriesTimerWithConfirmation:function(e,t){return new Promise((function(n,l){(0,s.A)({text:r.Ay.translate("MessageConfirmRecordingCancellation"),primary:"delete",confirmText:r.Ay.translate("HeaderCancelSeries"),cancelText:r.Ay.translate("HeaderKeepSeries")}).then((function(){a.Ay.show(),i.A.getApiClient(t).cancelLiveTvSeriesTimer(e).then((function(){(0,o.A)(r.Ay.translate("SeriesCancelled")),a.Ay.hide(),n()}),l)}),l)}))}}}}]);