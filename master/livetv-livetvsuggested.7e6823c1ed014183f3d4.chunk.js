(self.webpackChunk=self.webpackChunk||[]).push([[40410,67345],{67345:function(e,t,n){"use strict";n.r(t),n.d(t,{getTabsElement:function(){return m},selectedTabIndex:function(){return h},setTabs:function(){return v}}),n(5769),n(63238),n(61418),n(17460),n(14078),n(61013);var s,r,a,i=n(72365),o=n(57366),l=n(81643),c=(n(21694),n(38228),document.querySelector(".skinHeader"));function d(){this.selectedIndex(this.readySelectedIndex),this.readySelectedIndex=null}function u(e){function t(e){if(i.ZP.parentWithTag(e,"input"))return!1;var t=e.classList;return!t||!t.contains("scrollX")&&!t.contains("animatedScrollX")}for(var n=e;null!=n;){if(!t(n))return!1;n=n.parentNode}return!0}function v(e,t,i,v,h,m,f){if(r||(r=c.querySelector(".headerTabs")),!e)return s&&(document.body.classList.remove("withSectionTabs"),r.innerHTML="",r.classList.add("hide"),s=null),{tabsContainer:r,replaced:!1};var b=r;if(s||b.classList.remove("hide"),s!==e){var g=0,p='<div is="emby-tabs"'+(null==t?"":' data-index="'+t+'"')+' class="tabs-viewmenubar"><div class="emby-tabs-slider" style="white-space:nowrap;">'+i().map((function(e){var t,n="emby-tab-button";return!1===e.enabled&&(n+=" hide"),e.cssClass&&(n+=" "+e.cssClass),t=e.href?'<a href="'+e.href+'" is="emby-linkbutton" class="'+n+'" data-index="'+g+'"><div class="emby-button-foreground">'+e.name+"</div></a>":'<button type="button" is="emby-button" class="'+n+'" data-index="'+g+'"><div class="emby-button-foreground">'+e.name+"</div></button>",g++,t})).join("")+"</div></div>";return b.innerHTML=p,window.CustomElements.upgradeSubtree(b),document.body.classList.add("withSectionTabs"),s=e,function(e,t){if(o.Z.touch){var s=function(n,s){u(s)&&e.contains(s)&&t.selectNext()},r=function(n,s){u(s)&&e.contains(s)&&t.selectPrevious()};n.e(14810).then(n.bind(n,14810)).then((function(t){var n=new(0,t.default)(e.parentNode.parentNode);l.Z.on(n,"swipeleft",s),l.Z.on(n,"swiperight",r),e.addEventListener("viewdestroy",(function(){n.destroy()}))}))}}(e,a=b.querySelector('[is="emby-tabs"]')),v&&a.addEventListener("beforetabchange",(function(e){var t=v();if(null!=e.detail.previousIndex){var n=t[e.detail.previousIndex];n&&n.classList.remove("is-active")}var s=t[e.detail.selectedTabIndex];s&&s.classList.add("is-active")})),h&&a.addEventListener("beforetabchange",h),m&&a.addEventListener("tabchange",m),!1!==f&&(a.selectedIndex?a.selectedIndex(t):(a.readySelectedIndex=t,a.addEventListener("ready",d))),{tabsContainer:b,tabs:a,replaced:!0}}return a.selectedIndex(t),{tabsContainer:b,tabs:a,replaced:!1}}function h(e){null!=e?a.selectedIndex(e):a.triggerTabChange()}function m(){return document.querySelector(".tabs-viewmenubar")}},42831:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}}),n(5769),n(63238),n(61418),n(17460),n(14078),n(48410),n(32081),n(27471);var s=n(30325),r=n(60934),a=n(58517),i=n(28540),o=n(94994),l=n(67345),c=n(61570),d=n(98301),u=(n(82427),n(21694),n(38228),n(60635));function v(){return!s.Z.desktop}function h(){return v()?12:9}function m(e,t){t&&(function(e){i.ZP.show();var t=h();v()&&(t*=2),ApiClient.getLiveTvRecommendedPrograms({userId:u.ZP.getCurrentUserId(),IsAiring:!0,limit:t,ImageTypeLimit:1,EnableImageTypes:"Primary,Thumb,Backdrop",EnableTotalRecordCount:!1,Fields:"ChannelInfo,PrimaryImageAspectRatio"}).then((function(t){f(e,t.Items,"activeProgramItems","play",{showAirDateTime:!1,showAirEndTime:!0}),i.ZP.hide(),Promise.resolve().then(n.bind(n,87680)).then((function(t){t.default.autoFocus(e)}))}))}(e),ApiClient.getLiveTvPrograms({userId:u.ZP.getCurrentUserId(),HasAired:!1,limit:h(),IsMovie:!1,IsSports:!1,IsKids:!1,IsNews:!1,IsSeries:!0,EnableTotalRecordCount:!1,Fields:"ChannelInfo,PrimaryImageAspectRatio",EnableImageTypes:"Primary,Thumb"}).then((function(t){f(e,t.Items,"upcomingEpisodeItems")})),ApiClient.getLiveTvPrograms({userId:u.ZP.getCurrentUserId(),HasAired:!1,limit:h(),IsMovie:!0,EnableTotalRecordCount:!1,Fields:"ChannelInfo",EnableImageTypes:"Primary,Thumb"}).then((function(t){f(e,t.Items,"upcomingTvMovieItems",null,{shape:v()?"overflowPortrait":"portrait",preferThumb:null,showParentTitle:!1})})),ApiClient.getLiveTvPrograms({userId:u.ZP.getCurrentUserId(),HasAired:!1,limit:h(),IsSports:!0,EnableTotalRecordCount:!1,Fields:"ChannelInfo,PrimaryImageAspectRatio",EnableImageTypes:"Primary,Thumb"}).then((function(t){f(e,t.Items,"upcomingSportsItems")})),ApiClient.getLiveTvPrograms({userId:u.ZP.getCurrentUserId(),HasAired:!1,limit:h(),IsKids:!0,EnableTotalRecordCount:!1,Fields:"ChannelInfo,PrimaryImageAspectRatio",EnableImageTypes:"Primary,Thumb"}).then((function(t){f(e,t.Items,"upcomingKidsItems")})),ApiClient.getLiveTvPrograms({userId:u.ZP.getCurrentUserId(),HasAired:!1,limit:h(),IsNews:!0,EnableTotalRecordCount:!1,Fields:"ChannelInfo,PrimaryImageAspectRatio",EnableImageTypes:"Primary,Thumb"}).then((function(t){f(e,t.Items,"upcomingNewsItems",null,{showParentTitleOrTitle:!0,showTitle:!1,showParentTitle:!1})})))}function f(e,t,n,s,r){var a=c.default.getCardsHtml(Object.assign({items:t,preferThumb:"auto",inheritThumb:!1,shape:v()?"autooverflow":"auto",defaultShape:v()?"overflowBackdrop":"backdrop",showParentTitle:!0,showTitle:!0,centerText:!0,coverImage:!0,overlayText:!1,lazy:!0,overlayPlayButton:"play"===s,overlayMoreButton:"more"===s,overlayInfoButton:"info"===s,allowBottomPadding:!v(),showAirTime:!0,showAirDateTime:!0},r||{})),i=e.querySelector("."+n);i.innerHTML=a,d.default.lazyChildren(i)}function b(){return[{name:o.ZP.translate("Programs")},{name:o.ZP.translate("Guide")},{name:o.ZP.translate("Channels")},{name:o.ZP.translate("Recordings")},{name:o.ZP.translate("Schedule")},{name:o.ZP.translate("Series")}]}function g(e,t){function i(e){var t;d(0,t=parseInt(e.detail.selectedTabIndex),(function(e){-1===w.indexOf(t)&&e.preRender&&e.preRender()}))}function o(e){var t,n=T[parseInt(e.detail.previousIndex)];n&&n.onHide&&n.onHide(),t=parseInt(e.detail.selectedTabIndex),p=t,d(0,t,(function(e){I=null,-1===w.indexOf(t)?(1===t&&w.push(t),e.renderTab()):e.onShow&&e.onShow(),f=e}))}function c(){return e.querySelectorAll(".pageTabContent")}function d(s,r,a){var i;switch(r){case 0:i="livetvsuggested";break;case 1:i="livetvguide";break;case 2:i="livetvchannels";break;case 3:i="livetvrecordings";break;case 4:i="livetvschedule";break;case 5:i="livetvseriestimers"}n(87282)("./".concat(i)).then((function(n){var s,i=n.default;0===r&&(s=e.querySelector('.pageTabContent[data-index="'.concat(r,'"]')),g.tabContent=s);var o=T[r];o||(s=e.querySelector('.pageTabContent[data-index="'.concat(r,'"]')),o=0===r?g:new i(e,t,s),T[r]=o,o.initTab&&o.initTab()),a(o)}))}function h(e){"search"===e.detail.command&&(e.preventDefault(),u.ZP.navigate("search.html?collectionType=livetv"))}var f,g=this,p=parseInt(t.tab||function(e){switch(r.get("landing-livetv")){case"guide":return 1;case"channels":return 2;case"recordings":return 3;case"schedule":return 4;case"series":return 5;default:return 0}}()),I=p,y=0;[].forEach.call(e.querySelectorAll(".sectionTitleTextButton-programs"),(function(e){var t=e.getAttribute("href");t&&(e.href=t+"&serverId="+ApiClient.serverId())})),g.initTab=function(){for(var t,n=e.querySelector('.pageTabContent[data-index="0"]').querySelectorAll(".itemsContainer"),r=0,a=n.length;r<a;r++)t=n[r],v()?(t.classList.add("hiddenScrollX"),s.Z.tv&&t.classList.add("smoothScrollX"),t.classList.add("scrollX"),t.classList.remove("vertical-wrap")):(t.classList.remove("hiddenScrollX"),t.classList.remove("smoothScrollX"),t.classList.remove("scrollX"),t.classList.add("vertical-wrap"))},g.renderTab=function(){var t=e.querySelector('.pageTabContent[data-index="0"]');(new Date).getTime()-y>3e5?(m(t,!0),y=(new Date).getTime()):m(t)};var T=[],w=[];e.addEventListener("viewbeforeshow",(function(t){t.detail.isRestored,l.setTabs(e,p,b,c,i,o)})),e.addEventListener("viewshow",(function(e){e.detail.isRestored||l.selectedTabIndex(I),a.default.on(window,h)})),e.addEventListener("viewbeforehide",(function(){f&&f.onHide&&f.onHide(),a.default.off(window,h)})),e.addEventListener("viewdestroy",(function(){T.forEach((function(e){e.destroy&&e.destroy()}))}))}},21694:function(e,t,n){"use strict";n(32081),n(67752);var s=n(72365),r=n(15723),a=n(57366),i=n(34643),o=n(30325),l=Object.create(HTMLDivElement.prototype),c="emby-tab-button",d=c+"-active";function u(e){e.classList.add(d)}function v(e,t,n){var s;e.dispatchEvent(new CustomEvent("beforetabchange",{detail:{selectedTabIndex:t,previousIndex:n}})),null!=n&&n!==t&&(s=null)&&s.classList.remove("is-active")}function h(e){var t=this,n=t.querySelector("."+d),r=s.ZP.parentWithClass(e.target,c);if(r&&r!==n){n&&n.classList.remove(d);var a=n?parseInt(n.getAttribute("data-index")):null;u(r);var i=parseInt(r.getAttribute("data-index"));v(t,i,a),setTimeout((function(){t.selectedTabIndex=i,t.dispatchEvent(new CustomEvent("tabchange",{detail:{selectedTabIndex:i,previousIndex:a}}))}),120),t.scroller&&t.scroller.toCenter(r,!1)}}function m(e){var t=s.ZP.parentWithClass(e.target,c);t&&this.scroller&&this.scroller.toCenter(t,!1)}function f(e){var t=e.target.parentNode.querySelector(".lastFocused");t&&t.classList.remove("lastFocused"),e.target.classList.add("lastFocused")}function b(e){return e.querySelector("."+d)}function g(e,t){for(var n=e[t];n;){if(n.classList.contains(c)&&!n.classList.contains("hide"))return n;n=n[t]}return null}l.createdCallback=function(){this.classList.contains("emby-tabs")||(this.classList.add("emby-tabs"),this.classList.add("focusable"),s.ZP.addEventListener(this,"click",h,{passive:!0}),o.Z.tv&&s.ZP.addEventListener(this,"focusin",m,{passive:!0}),s.ZP.addEventListener(this,"focusout",f))},l.focus=function(){var e=this.querySelector("."+d),t=this.querySelector(".lastFocused");t?i.Z.focus(t):e?i.Z.focus(e):i.Z.autoFocus(this)},l.refresh=function(){this.scroller&&this.scroller.reload()},l.attachedCallback=function(){!function(e){if(!e.scroller){var t=e.querySelector(".emby-tabs-slider");t?(e.scroller=new r.Z(e,{horizontal:1,itemNav:0,mouseDragging:1,touchDragging:1,slidee:t,smart:!0,releaseSwing:!0,scrollBy:200,speed:120,elasticBounds:1,dragHandle:1,dynamicHandle:1,clickBar:1,hiddenScroll:!0,requireAnimation:!a.Z.safari,allowNativeSmoothScroll:!0}),e.scroller.init()):(e.classList.add("scrollX"),e.classList.add("hiddenScrollX"),e.classList.add("smoothScrollX"))}}(this);var e=this.querySelector("."+d),t=e?parseInt(e.getAttribute("data-index")):parseInt(this.getAttribute("data-index")||"0");if(-1!==t){this.selectedTabIndex=t;var n=this.querySelectorAll("."+c)[t];n&&u(n)}this.readyFired||(this.readyFired=!0,this.dispatchEvent(new CustomEvent("ready",{})))},l.detachedCallback=function(){this.scroller&&(this.scroller.destroy(),this.scroller=null),s.ZP.removeEventListener(this,"click",h,{passive:!0}),o.Z.tv&&s.ZP.removeEventListener(this,"focusin",m,{passive:!0})},l.selectedIndex=function(e,t){var n=this;if(null==e)return n.selectedTabIndex||0;var s=n.selectedIndex();n.selectedTabIndex=e;var r=n.querySelectorAll("."+c);if(s===e||!1===t){v(n,e,s),n.dispatchEvent(new CustomEvent("tabchange",{detail:{selectedTabIndex:e}}));var a=r[s];u(r[e]),s!==e&&a&&a.classList.remove(d)}else h.call(n,{target:r[e]})},l.selectNext=function(){var e=g(b(this),"nextSibling");e&&h.call(this,{target:e})},l.selectPrevious=function(){var e=g(b(this),"previousSibling");e&&h.call(this,{target:e})},l.triggerBeforeTabChange=function(){v(this,this.selectedIndex())},l.triggerTabChange=function(){this.dispatchEvent(new CustomEvent("tabchange",{detail:{selectedTabIndex:this.selectedIndex()}}))},l.setTabEnabled=function(e,t){var n=this.querySelector('.emby-tab-button[data-index="'+e+'"]');t?n.classList.remove("hide"):n.classList.remove("add")},document.registerElement("emby-tabs",{prototype:l,extends:"div"})},87282:function(e,t,n){var s={"./livetvchannels":[67007,87031],"./livetvchannels.js":[67007,87031],"./livetvguide":[57018,57018,49657],"./livetvguide.js":[57018,57018,49657],"./livetvrecordings":[62844,2494],"./livetvrecordings.js":[62844,2494],"./livetvschedule":[57197,11438],"./livetvschedule.js":[57197,11438],"./livetvseriestimers":[61265,16597],"./livetvseriestimers.js":[61265,16597],"./livetvsuggested":[42831],"./livetvsuggested.js":[42831]};function r(e){if(!n.o(s,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(r)}))}r.keys=function(){return Object.keys(s)},r.id=87282,e.exports=r}}]);