"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[48797,12801,49213,31473],{12801:function(e,t,n){n.r(t),n.d(t,{show:function(){return h}}),n(13227),n(81414),n(37666),n(14011),n(11431),n(44901),n(88646),n(54134),n(91270),n(59139),n(56187),n(38690),n(89228);var r=n(65009),i=n.n(r),l=n(93355),o=n(30325),s=n(94994),c=n(72365);function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,l=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw l}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,r){Promise.resolve().then(n.bind(n,54517)).then((function(n){var i=r?"on":"off";n.centerFocus[i](e,t)}))}function h(e){var t,n={removeOnClose:!0,enableHistory:e.enableHistory,scrollY:!1};o.Z.tv?(n.size="fullscreen",t=!0,n.autoFocus=!0):(n.modal=!1,n.entryAnimation=e.entryAnimation,n.exitAnimation=e.exitAnimation,n.entryAnimationDuration=e.entryAnimationDuration||140,n.exitAnimationDuration=e.exitAnimationDuration||100,n.autoFocus=!1);var r=l.default.createDialog(n);t?r.classList.add("actionsheet-fullscreen"):r.classList.add("actionsheet-not-fullscreen"),r.classList.add("actionSheet"),e.dialogClass&&r.classList.add(e.dialogClass);var u="",h=o.Z.tv?"scrollY smoothScrollY hiddenScrollY":"scrollY",v="";e.items.length>20&&(v+="min-width:"+(c.ZP.getWindowSize().innerWidth>=300?240:200)+"px;");var f,b,p=!1,y=[],m=a(e.items);try{for(m.s();!(b=m.n()).done;){var S=b.value;(f=S.icon||(S.selected?"check":null))&&(p=!0),y.push(f||"")}}catch(e){m.e(e)}finally{m.f()}o.Z.tv&&(u+='<button is="paper-icon-button-light" class="btnCloseActionSheet hide-mouse-idle-tv" tabindex="-1" title="'.concat(s.ZP.translate("ButtonBack"),'">\n                     <span class="material-icons arrow_back" aria-hidden="true"></span>\n                 </button>'));var P=e.title&&!p;P||o.Z.tv?u+='<div class="actionSheetContent actionSheetContent-centered">':u+='<div class="actionSheetContent">',e.title&&(u+='<h1 class="actionSheetTitle">'+i()(e.title)+"</h1>"),e.text&&(u+='<p class="actionSheetText">'+i()(e.text)+"</p>");var x="actionSheetScroller";o.Z.tv&&(x+=" actionSheetScroller-tv focuscontainer-x focuscontainer-y"),u+='<div class="'+x+" "+h+'" style="'+v+'">';var k="listItem listItem-button actionSheetMenuItem";(e.border||e.shaded)&&(k+=" listItem-border"),e.menuItemClass&&(k+=" "+e.menuItemClass),o.Z.tv&&(k+=" listItem-focusscale"),o.Z.mobile&&(k+=" actionsheet-xlargeFont");for(var q=0;q<e.items.length;q++){var w=e.items[q];w.divider?u+='<div class="actionsheetDivider"></div>':(u+="<button"+(w.selected&&o.Z.tv?" autoFocus":"")+' is="emby-button" type="button" class="'+k+'" data-id="'+(null==w.id||""===w.id?w.value:w.id)+'">',(f=y[q])?u+='<span class="actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons '.concat(f,'" aria-hidden="true"></span>'):p&&!P&&(u+='<span class="actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons check" aria-hidden="true" style="visibility:hidden;"></span>'),u+='<div class="listItemBody actionsheetListItemBody">',u+='<div class="listItemBodyText actionSheetItemText">',u+=i()(w.name||w.textContent||w.innerText),u+="</div>",w.secondaryText&&(u+='<div class="listItemBodyText secondary">'.concat(i()(w.secondaryText),"</div>")),u+="</div>",w.asideText&&(u+='<div class="listItemAside actionSheetItemAsideText">'.concat(i()(w.asideText),"</div>")),u+="</button>")}e.showCancel&&(u+='<div class="buttons">',u+='<button is="emby-button" type="button" class="btnCloseActionSheet">'.concat(s.ZP.translate("ButtonCancel"),"</button>"),u+="</div>"),u+="</div>",r.innerHTML=u,o.Z.tv&&d(r.querySelector(".actionSheetScroller"),!1,!0);var g,E,A=r.querySelector(".btnCloseActionSheet");return A&&A.addEventListener("click",(function(){l.default.close(r)})),e.timeout&&(E=setTimeout((function(){l.default.close(r)}),e.timeout)),new Promise((function(t,i){var s;r.addEventListener("click",(function(n){var i=c.ZP.parentWithClass(n.target,"actionSheetMenuItem");i&&(g=i.getAttribute("data-id"),e.resolveOnClick&&(e.resolveOnClick.indexOf?-1!==e.resolveOnClick.indexOf(g)&&(t(g),s=!0):(t(g),s=!0)),l.default.close(r))})),r.addEventListener("close",(function(){o.Z.tv&&d(r.querySelector(".actionSheetScroller"),!1,!1),E&&(clearTimeout(E),E=null),s||(null!=g?(e.callback&&e.callback(g),t(g)):i("ActionSheet closed without resolving"))})),l.default.open(r);var u=e.positionTo&&"fullscreen"!==n.size?function(e,t){var n=c.ZP.getWindowSize(),r=n.innerHeight,i=n.innerWidth,l=function(e){var t=[];if(!document)return t;var n,r=a(e);try{for(r.s();!(n=r.n()).done;){var i=n.value.getBoundingClientRect();t.push({top:i.top,left:i.left,width:i.width,height:i.height})}}catch(e){r.e(e)}finally{r.f()}return t}([e.positionTo])[0];"top"!==e.positionY&&(l.top+=(l.height||0)/2),l.left+=(l.width||0)/2;var o=t.offsetHeight||300,s=t.offsetWidth||160;l.top-=o/2,l.left-=s/2;var u=l.left+s-i,d=l.top+o-r;return u>0&&(l.left-=u+20),d>0&&(l.top-=d+20),l.top+=e.offsetTop||0,l.left+=e.offsetLeft||0,l.top=Math.max(l.top,10),l.left=Math.max(l.left,10),l}(e,r):null;u&&(r.style.position="fixed",r.style.margin=0,r.style.left=u.left+"px",r.style.top=u.top+"px")}))}n(38228),t.default={show:h}},52566:function(e,t,n){n.r(t),n.d(t,{default:function(){return a}}),n(13227),n(2663),n(81414),n(96626),n(86651),n(37666),n(14011),n(11431);var r=n(84597),i=n(94994),l=(n(12291),n(15856),n(60635)),o=n(37099);function s(e){var t=this,n=t.querySelector("#txtLocalAddress").value,o=t.querySelector("#chkEnableUpnp").checked;!function(e,t,n){e||!t?c({title:i.ZP.translate("TitleHostingSettings"),text:i.ZP.translate("SettingsWarning")}).then(n):n()}(n,o,(function(){var e=function(e){return e.querySelector("#txtPublicHttpPort").value===e.querySelector("#txtPublicHttpsPort").value?"The public http and https ports must be different.":e.querySelector("#txtPortNumber").value===e.querySelector("#txtHttpsPort").value?"The http and https ports must be different.":e.querySelector("#chkEnableIP6").checked||e.querySelector("#chkEnableIP4").checked?null:"Either IPv4 or IPv6 need to be checked."}(t);e?c(e):function(e){var t=e.querySelector("#txtCertificatePath").value||null;return e.querySelector("#chkEnableHttps").checked&&!t?c({title:i.ZP.translate("TitleHostingSettings"),text:i.ZP.translate("HttpsRequiresCert")}).then(Promise.reject):Promise.resolve()}(t).then((function(){r.ZP.show(),ApiClient.getNamedConfiguration("network").then((function(e){e.LocalNetworkSubnets=t.querySelector("#txtLanNetworks").value.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0})),e.RemoteIPFilter=t.querySelector("#txtExternalAddressFilter").value.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0})),e.KnownProxies=t.querySelector("#txtKnownProxies").value.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0})),e.LocalNetworkAddresses=t.querySelector("#txtLocalAddress").value.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0})),e.PublishedServerUriBySubnet=t.querySelector("#txtPublishedServer").value.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0})),e.IsRemoteIPFilterBlacklist="blacklist"===t.querySelector("#selectExternalAddressFilterMode").value,e.PublicHttpPort=t.querySelector("#txtPublicHttpPort").value,e.PublicHttpsPort=t.querySelector("#txtPublicHttpsPort").value,e.InternalHttpPort=t.querySelector("#txtPortNumber").value,e.InternalHttpsPort=t.querySelector("#txtHttpsPort").value,e.EnableHttps=t.querySelector("#chkEnableHttps").checked,e.RequireHttps=t.querySelector("#chkRequireHttps").checked,e.EnableUPnP=o,e.BaseUrl=t.querySelector("#txtBaseUrl").value,e.EnableRemoteAccess=t.querySelector("#chkRemoteAccess").checked,e.CertificatePath=t.querySelector("#txtCertificatePath").value||null,e.CertificatePassword=t.querySelector("#txtCertPassword").value||null,e.AutoDiscovery=t.querySelector("#chkAutodiscovery").checked,e.EnableIPv6=t.querySelector("#chkEnableIP6").checked,e.EnableIPv4=t.querySelector("#chkEnableIP4").checked,ApiClient.updateNamedConfiguration("network",e).then(l.default.processServerConfigurationUpdateResult,l.default.processErrorResponse)}))}))})),e.preventDefault()}function c(e){return new Promise((function(t,n){(0,o.Z)(e).then(t,n)}))}function a(e){e.querySelector("#chkRemoteAccess").addEventListener("change",(function(){this.checked?(e.querySelector(".fldExternalAddressFilter").classList.remove("hide"),e.querySelector(".fldExternalAddressFilterMode").classList.remove("hide"),e.querySelector(".fldPublicHttpPort").classList.remove("hide"),e.querySelector(".fldPublicHttpsPort").classList.remove("hide"),e.querySelector(".fldEnableUpnp").classList.remove("hide")):(e.querySelector(".fldExternalAddressFilter").classList.add("hide"),e.querySelector(".fldExternalAddressFilterMode").classList.add("hide"),e.querySelector(".fldPublicHttpPort").classList.add("hide"),e.querySelector(".fldPublicHttpsPort").classList.add("hide"),e.querySelector(".fldEnableUpnp").classList.add("hide"))})),e.querySelector("#btnSelectCertPath").addEventListener("click",(function(){Promise.resolve().then(n.bind(n,98043)).then((function(t){var n=new(0,t.default);n.show({includeFiles:!0,includeDirectories:!0,callback:function(t){t&&(e.querySelector("#txtCertificatePath").value=t),n.close()},header:i.ZP.translate("HeaderSelectCertificatePath")})}))})),e.querySelector(".dashboardHostingForm").addEventListener("submit",s),e.addEventListener("viewshow",(function(){r.ZP.show(),ApiClient.getNamedConfiguration("network").then((function(t){!function(e,t){var n,i;e.querySelector("#txtPortNumber").value=t.InternalHttpPort,e.querySelector("#txtPublicHttpPort").value=t.PublicHttpPort,e.querySelector("#txtPublicHttpsPort").value=t.PublicHttpsPort,e.querySelector("#txtLocalAddress").value=(t.LocalNetworkAddresses||[]).join(", "),e.querySelector("#txtLanNetworks").value=(t.LocalNetworkSubnets||[]).join(", "),e.querySelector("#txtKnownProxies").value=(t.KnownProxies||[]).join(", "),e.querySelector("#txtExternalAddressFilter").value=(t.RemoteIPFilter||[]).join(", "),e.querySelector("#selectExternalAddressFilterMode").value=t.IsRemoteIPFilterBlacklist?"blacklist":"whitelist",e.querySelector("#chkRemoteAccess").checked=null==t.EnableRemoteAccess||t.EnableRemoteAccess,e.querySelector("#txtHttpsPort").value=t.InternalHttpsPort,e.querySelector("#chkEnableHttps").checked=t.EnableHttps,e.querySelector("#chkRequireHttps").checked=t.RequireHttps,e.querySelector("#txtBaseUrl").value=t.BaseUrl||"",e.querySelector("#txtCertificatePath").value=t.CertificatePath||"",e.querySelector("#txtCertPassword").value=t.CertificatePassword||"",e.querySelector("#chkEnableUpnp").checked=t.EnableUPnP,n=e.querySelector("#chkRemoteAccess"),i=new Event("change",{bubbles:!1,cancelable:!0}),n.dispatchEvent(i),e.querySelector("#chkAutodiscovery").checked=t.AutoDiscovery,e.querySelector("#chkEnableIP6").checked=t.EnableIPv6,e.querySelector("#chkEnableIP4").checked=t.EnableIPv4,e.querySelector("#txtPublishedServer").value=(t.PublishedServerUriBySubnet||[]).join(", "),r.ZP.hide()}(e,t)}))}))}},15856:function(e,t,n){var r=n(30325),i=n(57366),l=n(12801),o=(n(67752),Object.create(HTMLSelectElement.prototype));function s(){return!(!i.Z.edgeUwp&&!i.Z.xboxOne&&(i.Z.tizen||i.Z.orsay||i.Z.web0s||!i.Z.tv&&r.Z.tv))}function c(e){var t=a(e),n=t?t.textContent||t.innerText:null;l.default.show({items:e.options,positionTo:e,title:n}).then((function(t){!function(e,t){e.value=t}(e,t),function(e){var t=new Event("change",{bubbles:!1,cancelable:!0});e.dispatchEvent(t)}(e)}))}function a(e){for(var t=e.previousSibling;t&&"LABEL"!==t.tagName;)t=t.previousSibling;return t}function u(){var e=a(this);e&&e.classList.add("selectLabelFocused")}function d(){var e=a(this);e&&e.classList.remove("selectLabelFocused")}function h(e){e.button||s()||(e.preventDefault(),c(this))}function v(e){switch(e.keyCode){case 13:return void(s()||(e.preventDefault(),c(this)));case 37:case 38:case 39:case 40:return void(r.Z.tv&&e.preventDefault())}}var f=0;o.createdCallback=function(){this.id||(this.id="embyselect"+f,f++),this.classList.add("emby-select-withcolor"),r.Z.tv&&this.classList.add("emby-select-focusscale"),this.addEventListener("mousedown",h),this.addEventListener("keydown",v),this.addEventListener("focus",u),this.addEventListener("blur",d)},o.attachedCallback=function(){var e;if(!this.classList.contains("emby-select")){this.classList.add("emby-select");var t,n=this.ownerDocument.createElement("label");n.innerText=this.getAttribute("label")||"",n.classList.add("selectLabel"),n.htmlFor=this.id,null===(e=this.parentNode)||void 0===e||e.insertBefore(n,this),this.classList.contains("emby-select-withcolor")&&(null===(t=this.parentNode)||void 0===t||t.insertAdjacentHTML("beforeend",'<div class="selectArrowContainer"><div style="visibility:hidden;display:none;">0</div><span class="selectArrow material-icons keyboard_arrow_down" aria-hidden="true"></span></div>'))}},o.setLabel=function(e){var t;(null===(t=this.parentNode)||void 0===t?void 0:t.querySelector("label")).innerText=e},document.registerElement("emby-select",{prototype:o,extends:"select"})}}]);