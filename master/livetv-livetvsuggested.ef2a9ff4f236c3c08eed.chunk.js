(self.webpackChunk=self.webpackChunk||[]).push([[40410,83264,67345],{67345:function(e,t,n){"use strict";n.r(t),n.d(t,{getTabsElement:function(){return v},selectedTabIndex:function(){return f},setTabs:function(){return h}}),n(5769),n(63238),n(61418),n(17460),n(14078),n(61013);var i,r,s,a=n(72365),l=n(57366),o=n(81643),d=(n(21694),n(38228),document.querySelector(".skinHeader"));function c(){this.selectedIndex(this.readySelectedIndex),this.readySelectedIndex=null}function u(e){function t(e){if(a.ZP.parentWithTag(e,"input"))return!1;var t=e.classList;return!t||!t.contains("scrollX")&&!t.contains("animatedScrollX")}for(var n=e;null!=n;){if(!t(n))return!1;n=n.parentNode}return!0}function h(e,t,a,h,f,v,m){if(r||(r=d.querySelector(".headerTabs")),!e)return i&&(document.body.classList.remove("withSectionTabs"),r.innerHTML="",r.classList.add("hide"),i=null),{tabsContainer:r,replaced:!1};var b=r;if(i||b.classList.remove("hide"),i!==e){var g=0,p='<div is="emby-tabs"'+(null==t?"":' data-index="'+t+'"')+' class="tabs-viewmenubar"><div class="emby-tabs-slider" style="white-space:nowrap;">'+a().map((function(e){var t,n="emby-tab-button";return!1===e.enabled&&(n+=" hide"),e.cssClass&&(n+=" "+e.cssClass),t=e.href?'<a href="'+e.href+'" is="emby-linkbutton" class="'+n+'" data-index="'+g+'"><div class="emby-button-foreground">'+e.name+"</div></a>":'<button type="button" is="emby-button" class="'+n+'" data-index="'+g+'"><div class="emby-button-foreground">'+e.name+"</div></button>",g++,t})).join("")+"</div></div>";return b.innerHTML=p,window.CustomElements.upgradeSubtree(b),document.body.classList.add("withSectionTabs"),i=e,function(e,t){if(l.Z.touch){var i=function(n,i){u(i)&&e.contains(i)&&t.selectNext()},r=function(n,i){u(i)&&e.contains(i)&&t.selectPrevious()};n.e(14810).then(n.bind(n,14810)).then((function(t){var n=new(0,t.default)(e.parentNode.parentNode);o.Z.on(n,"swipeleft",i),o.Z.on(n,"swiperight",r),e.addEventListener("viewdestroy",(function(){n.destroy()}))}))}}(e,s=b.querySelector('[is="emby-tabs"]')),h&&s.addEventListener("beforetabchange",(function(e){var t=h();if(null!=e.detail.previousIndex){var n=t[e.detail.previousIndex];n&&n.classList.remove("is-active")}var i=t[e.detail.selectedTabIndex];i&&i.classList.add("is-active")})),f&&s.addEventListener("beforetabchange",f),v&&s.addEventListener("tabchange",v),!1!==m&&(s.selectedIndex?s.selectedIndex(t):(s.readySelectedIndex=t,s.addEventListener("ready",c))),{tabsContainer:b,tabs:s,replaced:!0}}return s.selectedIndex(t),{tabsContainer:b,tabs:s,replaced:!1}}function f(e){null!=e?s.selectedIndex(e):s.triggerTabChange()}function v(){return document.querySelector(".tabs-viewmenubar")}},42831:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}}),n(5769),n(63238),n(61418),n(17460),n(14078),n(48410),n(32081),n(27471);var i=n(30325),r=n(60934),s=n(58517),a=n(28540),l=n(94994),o=n(67345),d=n(61570),c=n(98301),u=(n(82427),n(21694),n(38228),n(60635));function h(){return!i.Z.desktop}function f(){return h()?12:9}function v(e,t){t&&(function(e){a.ZP.show();var t=f();h()&&(t*=2),ApiClient.getLiveTvRecommendedPrograms({userId:u.default.getCurrentUserId(),IsAiring:!0,limit:t,ImageTypeLimit:1,EnableImageTypes:"Primary,Thumb,Backdrop",EnableTotalRecordCount:!1,Fields:"ChannelInfo,PrimaryImageAspectRatio"}).then((function(t){m(e,t.Items,"activeProgramItems","play",{showAirDateTime:!1,showAirEndTime:!0}),a.ZP.hide(),Promise.resolve().then(n.bind(n,87680)).then((function(t){t.default.autoFocus(e)}))}))}(e),ApiClient.getLiveTvPrograms({userId:u.default.getCurrentUserId(),HasAired:!1,limit:f(),IsMovie:!1,IsSports:!1,IsKids:!1,IsNews:!1,IsSeries:!0,EnableTotalRecordCount:!1,Fields:"ChannelInfo,PrimaryImageAspectRatio",EnableImageTypes:"Primary,Thumb"}).then((function(t){m(e,t.Items,"upcomingEpisodeItems")})),ApiClient.getLiveTvPrograms({userId:u.default.getCurrentUserId(),HasAired:!1,limit:f(),IsMovie:!0,EnableTotalRecordCount:!1,Fields:"ChannelInfo",EnableImageTypes:"Primary,Thumb"}).then((function(t){m(e,t.Items,"upcomingTvMovieItems",null,{shape:h()?"overflowPortrait":"portrait",preferThumb:null,showParentTitle:!1})})),ApiClient.getLiveTvPrograms({userId:u.default.getCurrentUserId(),HasAired:!1,limit:f(),IsSports:!0,EnableTotalRecordCount:!1,Fields:"ChannelInfo,PrimaryImageAspectRatio",EnableImageTypes:"Primary,Thumb"}).then((function(t){m(e,t.Items,"upcomingSportsItems")})),ApiClient.getLiveTvPrograms({userId:u.default.getCurrentUserId(),HasAired:!1,limit:f(),IsKids:!0,EnableTotalRecordCount:!1,Fields:"ChannelInfo,PrimaryImageAspectRatio",EnableImageTypes:"Primary,Thumb"}).then((function(t){m(e,t.Items,"upcomingKidsItems")})),ApiClient.getLiveTvPrograms({userId:u.default.getCurrentUserId(),HasAired:!1,limit:f(),IsNews:!0,EnableTotalRecordCount:!1,Fields:"ChannelInfo,PrimaryImageAspectRatio",EnableImageTypes:"Primary,Thumb"}).then((function(t){m(e,t.Items,"upcomingNewsItems",null,{showParentTitleOrTitle:!0,showTitle:!1,showParentTitle:!1})})))}function m(e,t,n,i,r){var s=d.default.getCardsHtml(Object.assign({items:t,preferThumb:"auto",inheritThumb:!1,shape:h()?"autooverflow":"auto",defaultShape:h()?"overflowBackdrop":"backdrop",showParentTitle:!0,showTitle:!0,centerText:!0,coverImage:!0,overlayText:!1,lazy:!0,overlayPlayButton:"play"===i,overlayMoreButton:"more"===i,overlayInfoButton:"info"===i,allowBottomPadding:!h(),showAirTime:!0,showAirDateTime:!0},r||{})),a=e.querySelector("."+n);a.innerHTML=s,c.default.lazyChildren(a)}function b(){return[{name:l.ZP.translate("Programs")},{name:l.ZP.translate("Guide")},{name:l.ZP.translate("Channels")},{name:l.ZP.translate("Recordings")},{name:l.ZP.translate("Schedule")},{name:l.ZP.translate("Series")}]}function g(e,t){function a(e){var t;c(0,t=parseInt(e.detail.selectedTabIndex,10),(function(e){-1===C.indexOf(t)&&e.preRender&&e.preRender()}))}function l(e){var t,n=T[parseInt(e.detail.previousIndex,10)];n&&n.onHide&&n.onHide(),t=parseInt(e.detail.selectedTabIndex,10),p=t,c(0,t,(function(e){I=null,-1===C.indexOf(t)?(1===t&&C.push(t),e.renderTab()):e.onShow&&e.onShow(),m=e}))}function d(){return e.querySelectorAll(".pageTabContent")}function c(i,r,s){var a;switch(r){case 0:a="livetvsuggested";break;case 1:a="livetvguide";break;case 2:a="livetvchannels";break;case 3:a="livetvrecordings";break;case 4:a="livetvschedule";break;case 5:a="livetvseriestimers"}n(87282)("./".concat(a)).then((function(n){var i,a=n.default;0===r&&(i=e.querySelector('.pageTabContent[data-index="'.concat(r,'"]')),g.tabContent=i);var l=T[r];l||(i=e.querySelector('.pageTabContent[data-index="'.concat(r,'"]')),l=0===r?g:new a(e,t,i),T[r]=l,l.initTab&&l.initTab()),s(l)}))}function f(e){"search"===e.detail.command&&(e.preventDefault(),u.default.navigate("search.html?collectionType=livetv"))}var m,g=this,p=parseInt(t.tab||function(e){switch(r.get("landing-livetv")){case"guide":return 1;case"channels":return 2;case"recordings":return 3;case"schedule":return 4;case"series":return 5;default:return 0}}(),10),I=p,y=0;[].forEach.call(e.querySelectorAll(".sectionTitleTextButton-programs"),(function(e){var t=e.getAttribute("href");t&&(e.href=t+"&serverId="+ApiClient.serverId())})),g.initTab=function(){for(var t,n=e.querySelector('.pageTabContent[data-index="0"]').querySelectorAll(".itemsContainer"),r=0,s=n.length;r<s;r++)t=n[r],h()?(t.classList.add("hiddenScrollX"),i.Z.tv&&t.classList.add("smoothScrollX"),t.classList.add("scrollX"),t.classList.remove("vertical-wrap")):(t.classList.remove("hiddenScrollX"),t.classList.remove("smoothScrollX"),t.classList.remove("scrollX"),t.classList.add("vertical-wrap"))},g.renderTab=function(){var t=e.querySelector('.pageTabContent[data-index="0"]');(new Date).getTime()-y>3e5?(v(t,!0),y=(new Date).getTime()):v(t)};var T=[],C=[];e.addEventListener("viewbeforeshow",(function(t){t.detail.isRestored,o.setTabs(e,p,b,d,a,l)})),e.addEventListener("viewshow",(function(e){e.detail.isRestored||o.selectedTabIndex(I),s.default.on(window,f)})),e.addEventListener("viewbeforehide",(function(){m&&m.onHide&&m.onHide(),s.default.off(window,f)})),e.addEventListener("viewdestroy",(function(){T.forEach((function(e){e.destroy&&e.destroy()}))}))}},82427:function(e,t,n){"use strict";n(5769),n(63238),n(61418),n(17460),n(14078),n(27471),n(32081);var i=n(61008),r=n(58517),s=n(48957),a=n(98301),l=n(30325),o=n(57366),d=n(72365),c=n(28540),u=n(34643),h=n(44038),f=n(81643),v=(n(67752),n(18613)),m=n(28172),b=Object.create(HTMLDivElement.prototype);function g(e){var t=this,n=t.multiSelect;!1!==(null==n?void 0:n.onContainerClick.call(t,e))&&i.ZP.onClick.call(t,e)}function p(e){return e.preventDefault(),e.stopPropagation(),!1}function I(e){var t=e.target,n=d.ZP.parentWithAttribute(t,"data-id");if(n&&n.getAttribute("data-serverid"))return r.default.handleCommand("menu",{sourceElement:n}),e.preventDefault(),e.stopPropagation(),!1}function y(e,t,i){var r=this;Promise.all([n.e(61570),n.e(83264)]).then(n.bind(n,61570)).then((function(e){e.onUserDataChanged(i,r)}));var s=T(r);-1===s.indexOf("markfavorite")&&-1===s.indexOf("markplayed")||r.notifyRefreshNeeded()}function T(e){var t=e.getAttribute("data-monitor");return t?t.split(","):[]}function C(e,t,i){var r=this;if(-1===T(r).indexOf("timers")){var s=i.ProgramId,a=i.Id;Promise.all([n.e(61570),n.e(83264)]).then(n.bind(n,61570)).then((function(e){e.onTimerCreated(s,a,r)}))}else r.notifyRefreshNeeded()}function x(){-1!==T(this).indexOf("seriestimers")&&this.notifyRefreshNeeded()}function w(e,t,i){var r=this;-1===T(r).indexOf("timers")?Promise.all([n.e(61570),n.e(83264)]).then(n.bind(n,61570)).then((function(e){e.onTimerCancelled(i.Id,r)})):r.notifyRefreshNeeded()}function L(e,t,i){var r=this;-1===T(r).indexOf("seriestimers")?Promise.all([n.e(61570),n.e(83264)]).then(n.bind(n,61570)).then((function(e){e.onSeriesTimerCancelled(i.Id,r)})):r.notifyRefreshNeeded()}function P(e,t,n){var i=this,r=T(i);if(-1===r.indexOf("seriestimers")&&-1===r.indexOf("timers")){var s=n.ItemsAdded||[],a=n.ItemsRemoved||[];if(s.length||a.length){var l=i.getAttribute("data-parentid");if(l){var o=n.FoldersAddedTo||[],d=n.FoldersRemovedFrom||[],c=n.CollectionFolders||[];if(-1===o.indexOf(l)&&-1===d.indexOf(l)&&-1===c.indexOf(l))return}i.notifyRefreshNeeded()}}}function E(e,t){var n,i=this,r=t.state,s=T(i);if(r.NowPlayingItem&&"Video"===r.NowPlayingItem.MediaType){if(-1!==s.indexOf("videoplayback"))return void i.notifyRefreshNeeded(!0)}else if("Audio"===(null===(n=r.NowPlayingItem)||void 0===n?void 0:n.MediaType)&&-1!==s.indexOf("audioplayback"))return void i.notifyRefreshNeeded(!0)}function S(e,t,n,i){var r=n.bind(e);i=i||h.default,f.Z.on(i,t,r),e["event_"+t]=r}function A(e,t,n){var i=e["event_"+t];i&&(n=n||h.default,f.Z.off(n,t,i),e["event_"+t]=null)}function Z(e,t){e.refreshInterval&&(clearInterval(e.refreshInterval),e.refreshInterval=null,t||(e.refreshIntervalEndTime=null))}function k(e,t){Z(e),t||(t=parseInt(e.getAttribute("data-refreshinterval")||"0",10)),t&&(e.refreshInterval=setInterval(e.notifyRefreshNeeded.bind(e),t),e.refreshIntervalEndTime=(new Date).getTime()+t)}function R(e){var t=e.Items||e,n=this.parentContainer;n&&(t.length?n.classList.remove("hide"):n.classList.add("hide"));var i,r,s=document.activeElement;this.contains(s)&&(r=!0,i=s.getAttribute("data-id")),this.innerHTML=this.getItemsHtml(t),a.default.lazyChildren(this),r&&function(e,t){if(t){var n=e.querySelector('[data-id="'+t+'"]');if(n)try{return void u.Z.focus(n)}catch(e){console.error(e)}}u.Z.autoFocus(e)}(this,i),k(this),this.afterRefresh&&this.afterRefresh(e)}b.enableMultiSelect=function(e){var t=this.multiSelect;if(e){if(!t){var i=this;n.e(52943).then(n.bind(n,52943)).then((function(e){var t=e.default;i.multiSelect=new t({container:i,bindOnClick:!1})}))}}else t&&(t.destroy(),this.multiSelect=null)},b.enableDragReordering=function(e){var t=this.sortable;if(e){if(!t){var n=this;n.sortable=new m.ZP(n,{draggable:".listItem",handle:".listViewDragHandle",onEnd:function(e){return function(e,t){var n=e.item,i=e.newIndex,r=n.getAttribute("data-playlistitemid"),s=n.getAttribute("data-playlistid");if(s){var a=n.getAttribute("data-serverid"),l=v.Z.getApiClient(a);c.ZP.show(),l.ajax({url:l.getUrl("Playlists/"+s+"/Items/"+r+"/Move/"+i),type:"POST"}).then((function(){c.ZP.hide()}),(function(){c.ZP.hide(),t.refreshItems()}))}else{var o=e.oldIndex;n.dispatchEvent(new CustomEvent("itemdrop",{detail:{oldIndex:o,newIndex:i,playlistItemId:r},bubbles:!0,cancelable:!1}))}}(e,n)}})}}else t&&(t.destroy(),this.sortable=null)},b.createdCallback=function(){this.classList.add("itemsContainer")},b.attachedCallback=function(){this.addEventListener("click",g),o.Z.touch?this.addEventListener("contextmenu",p):"false"!==this.getAttribute("data-contextmenu")&&this.addEventListener("contextmenu",I),(l.Z.desktop||l.Z.mobile&&"false"!==this.getAttribute("data-multiselect"))&&this.enableMultiSelect(!0),l.Z.tv&&this.classList.add("itemsContainer-tv"),i.ZP.on(this,{click:!1}),S(this,"UserDataChanged",y),S(this,"TimerCreated",C),S(this,"SeriesTimerCreated",x),S(this,"TimerCancelled",w),S(this,"SeriesTimerCancelled",L),S(this,"LibraryChanged",P),S(this,"playbackstop",E,s.O),"true"===this.getAttribute("data-dragreorder")&&this.enableDragReordering(!0)},b.detachedCallback=function(){Z(this),this.enableMultiSelect(!1),this.enableDragReordering(!1),this.removeEventListener("click",g),this.removeEventListener("contextmenu",I),this.removeEventListener("contextmenu",p),i.ZP.off(this,{click:!1}),A(this,"UserDataChanged"),A(this,"TimerCreated"),A(this,"SeriesTimerCreated"),A(this,"TimerCancelled"),A(this,"SeriesTimerCancelled"),A(this,"LibraryChanged"),A(this,"playbackstop",s.O),this.fetchData=null,this.getItemsHtml=null,this.parentContainer=null},b.pause=function(){Z(this,!0),this.paused=!0},b.resume=function(e){this.paused=!1;var t=this.refreshIntervalEndTime;if(t){var n=t-(new Date).getTime();n>0&&!this.needsRefresh?k(this,n):(this.needsRefresh=!0,this.refreshIntervalEndTime=null)}return this.needsRefresh||e&&e.refresh?this.refreshItems():Promise.resolve()},b.refreshItems=function(){return this.fetchData?this.paused?(this.needsRefresh=!0,Promise.resolve()):(this.needsRefresh=!1,this.fetchData().then(R.bind(this))):Promise.resolve()},b.notifyRefreshNeeded=function(e){if(this.paused)this.needsRefresh=!0;else{var t=this.refreshTimeout;t&&clearTimeout(t),!0===e?this.refreshItems():this.refreshTimeout=setTimeout(this.refreshItems.bind(this),1e4)}},document.registerElement("emby-itemscontainer",{prototype:b,extends:"div"})},21694:function(e,t,n){"use strict";n(32081),n(67752);var i=n(72365),r=n(15723),s=n(57366),a=n(34643),l=n(30325),o=Object.create(HTMLDivElement.prototype),d="emby-tab-button",c=d+"-active";function u(e){e.classList.add(c)}function h(e,t,n){var i;e.dispatchEvent(new CustomEvent("beforetabchange",{detail:{selectedTabIndex:t,previousIndex:n}})),null!=n&&n!==t&&(i=null)&&i.classList.remove("is-active")}function f(e){var t=this,n=t.querySelector("."+c),r=i.ZP.parentWithClass(e.target,d);if(r&&r!==n){n&&n.classList.remove(c);var s=n?parseInt(n.getAttribute("data-index"),10):null;u(r);var a=parseInt(r.getAttribute("data-index"),10);h(t,a,s),setTimeout((function(){t.selectedTabIndex=a,t.dispatchEvent(new CustomEvent("tabchange",{detail:{selectedTabIndex:a,previousIndex:s}}))}),120),t.scroller&&t.scroller.toCenter(r,!1)}}function v(e){var t=i.ZP.parentWithClass(e.target,d);t&&this.scroller&&this.scroller.toCenter(t,!1)}function m(e){var t=e.target.parentNode.querySelector(".lastFocused");t&&t.classList.remove("lastFocused"),e.target.classList.add("lastFocused")}function b(e){return e.querySelector("."+c)}function g(e,t){for(var n=e[t];n;){if(n.classList.contains(d)&&!n.classList.contains("hide"))return n;n=n[t]}return null}o.createdCallback=function(){this.classList.contains("emby-tabs")||(this.classList.add("emby-tabs"),this.classList.add("focusable"),i.ZP.addEventListener(this,"click",f,{passive:!0}),l.Z.tv&&i.ZP.addEventListener(this,"focusin",v,{passive:!0}),i.ZP.addEventListener(this,"focusout",m))},o.focus=function(){var e=this.querySelector("."+c),t=this.querySelector(".lastFocused");t?a.Z.focus(t):e?a.Z.focus(e):a.Z.autoFocus(this)},o.refresh=function(){this.scroller&&this.scroller.reload()},o.attachedCallback=function(){!function(e){if(!e.scroller){var t=e.querySelector(".emby-tabs-slider");t?(e.scroller=new r.Z(e,{horizontal:1,itemNav:0,mouseDragging:1,touchDragging:1,slidee:t,smart:!0,releaseSwing:!0,scrollBy:200,speed:120,elasticBounds:1,dragHandle:1,dynamicHandle:1,clickBar:1,hiddenScroll:!0,requireAnimation:!s.Z.safari,allowNativeSmoothScroll:!0}),e.scroller.init()):(e.classList.add("scrollX"),e.classList.add("hiddenScrollX"),e.classList.add("smoothScrollX"))}}(this);var e=this.querySelector("."+c),t=e?parseInt(e.getAttribute("data-index"),10):parseInt(this.getAttribute("data-index")||"0",10);if(-1!==t){this.selectedTabIndex=t;var n=this.querySelectorAll("."+d)[t];n&&u(n)}this.readyFired||(this.readyFired=!0,this.dispatchEvent(new CustomEvent("ready",{})))},o.detachedCallback=function(){this.scroller&&(this.scroller.destroy(),this.scroller=null),i.ZP.removeEventListener(this,"click",f,{passive:!0}),l.Z.tv&&i.ZP.removeEventListener(this,"focusin",v,{passive:!0})},o.selectedIndex=function(e,t){var n=this;if(null==e)return n.selectedTabIndex||0;var i=n.selectedIndex();n.selectedTabIndex=e;var r=n.querySelectorAll("."+d);if(i===e||!1===t){h(n,e,i),n.dispatchEvent(new CustomEvent("tabchange",{detail:{selectedTabIndex:e}}));var s=r[i];u(r[e]),i!==e&&s&&s.classList.remove(c)}else f.call(n,{target:r[e]})},o.selectNext=function(){var e=g(b(this),"nextSibling");e&&f.call(this,{target:e})},o.selectPrevious=function(){var e=g(b(this),"previousSibling");e&&f.call(this,{target:e})},o.triggerBeforeTabChange=function(){h(this,this.selectedIndex())},o.triggerTabChange=function(){this.dispatchEvent(new CustomEvent("tabchange",{detail:{selectedTabIndex:this.selectedIndex()}}))},o.setTabEnabled=function(e,t){var n=this.querySelector('.emby-tab-button[data-index="'+e+'"]');t?n.classList.remove("hide"):n.classList.remove("add")},document.registerElement("emby-tabs",{prototype:o,extends:"div"})},87282:function(e,t,n){var i={"./livetvchannels":[67007,67007],"./livetvchannels.js":[67007,67007],"./livetvguide":[57018,57018,54024],"./livetvguide.js":[57018,57018,54024],"./livetvrecordings":[62844,62844],"./livetvrecordings.js":[62844,62844],"./livetvschedule":[57197,57197],"./livetvschedule.js":[57197,57197],"./livetvseriestimers":[61265,61265],"./livetvseriestimers.js":[61265,61265],"./livetvsuggested":[42831],"./livetvsuggested.js":[42831]};function r(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(r)}))}r.keys=function(){return Object.keys(i)},r.id=87282,e.exports=r}}]);