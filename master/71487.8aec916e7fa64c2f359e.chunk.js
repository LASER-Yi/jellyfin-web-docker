/*! For license information please see 71487.8aec916e7fa64c2f359e.chunk.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[71487,89824],{17369:function(e,t,n){"use strict";n.r(t),n(61013),n(19068),n(87211),n(25901),n(92189),n(63238),n(95163),n(99785),n(91047),n(5769),n(17460),n(14078);var a=n(17081),i=n(28540),s=n(56663),o=n(12801),r=n(94994),l=n(94915),c=n(67932),u=n(18613),d=n(20484),h=n(81643);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!==p(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===p(i)?i:String(i)),a)}var i}var m=new(function(){function e(){var t,n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.syncPlayEnabled=!1,this.SyncPlay=null===(t=c.E.firstOfType(d.z.SyncPlay))||void 0===t?void 0:t.instance,this.SyncPlay&&h.Z.on(this.SyncPlay.Manager,"enabled",(function(e,t){n.syncPlayEnabled=t})),h.Z.on(c.E,"registered",(function(e,t){t.type===d.z.SyncPlay&&(n.SyncPlay=t.instance,h.Z.on(t.instance.Manager,"enabled",(function(e,t){n.syncPlayEnabled=t})))}))}var t,n;return t=e,(n=[{key:"showNewJoinGroupSelection",value:function(e,t,n){var a=t.localUser?t.localUser.Policy:{};n.getSyncPlayGroups().then((function(l){l.json().then((function(l){var c=l.map((function(e){return{name:e.GroupName,icon:"person",id:e.GroupId,selected:!1,secondaryText:e.Participants.join(", ")}}));if("CreateAndJoinGroups"===a.SyncPlayAccess&&c.push({name:r.ZP.translate("LabelSyncPlayNewGroup"),icon:"add",id:"new-group",selected:!0,secondaryText:r.ZP.translate("LabelSyncPlayNewGroupDescription")}),0===c.length&&"JoinGroups"===a.SyncPlayAccess)return(0,s.Z)({text:r.ZP.translate("MessageSyncPlayCreateGroupDenied")}),void i.ZP.hide();var u={title:r.ZP.translate("HeaderSyncPlaySelectGroup"),items:c,positionTo:e,border:!0,dialogClass:"syncPlayGroupMenu"};o.default.show(u).then((function(e){"new-group"==e?n.createSyncPlayGroup({GroupName:r.ZP.translate("SyncPlayGroupDefaultTitle",t.localUser.Name)}):e&&n.joinSyncPlayGroup({GroupId:e})})).catch((function(e){e&&console.error("SyncPlay: unexpected error listing groups:",e)})),i.ZP.hide()}))})).catch((function(e){console.error(e),i.ZP.hide(),(0,s.Z)({text:r.ZP.translate("MessageSyncPlayErrorAccessingGroups")})}))}},{key:"showLeaveGroupSelection",value:function(e,t,n){var s,l,c,u,d=this,h=null===(s=this.SyncPlay)||void 0===s?void 0:s.Manager.getGroupInfo(),p=[];null!==(l=this.SyncPlay)&&void 0!==l&&l.Manager.isPlaylistEmpty()||null!==(c=this.SyncPlay)&&void 0!==c&&c.Manager.isPlaybackActive()?null!==(u=this.SyncPlay)&&void 0!==u&&u.Manager.isPlaybackActive()&&p.push({name:r.ZP.translate("LabelSyncPlayHaltPlayback"),icon:"pause_circle_filled",id:"halt-playback",selected:!1,secondaryText:r.ZP.translate("LabelSyncPlayHaltPlaybackDescription")}):p.push({name:r.ZP.translate("LabelSyncPlayResumePlayback"),icon:"play_circle_filled",id:"resume-playback",selected:!1,secondaryText:r.ZP.translate("LabelSyncPlayResumePlaybackDescription")}),p.push({name:r.ZP.translate("Settings"),icon:"video_settings",id:"settings",selected:!1,secondaryText:r.ZP.translate("LabelSyncPlaySettingsDescription")}),p.push({name:r.ZP.translate("LabelSyncPlayLeaveGroup"),icon:"meeting_room",id:"leave-group",selected:!0,secondaryText:r.ZP.translate("LabelSyncPlayLeaveGroupDescription")});var f={title:h.GroupName,text:h.Participants.join(", "),dialogClass:"syncPlayGroupMenu",items:p,positionTo:e,border:!0};o.default.show(f).then((function(e){var t;if("resume-playback"==e)null===(t=d.SyncPlay)||void 0===t||t.Manager.resumeGroupPlayback(n);else if("halt-playback"==e){var i;null===(i=d.SyncPlay)||void 0===i||i.Manager.haltGroupPlayback(n)}else if("leave-group"==e)n.leaveSyncPlayGroup();else if("settings"==e){var s;new a.default(n,null===(s=d.SyncPlay)||void 0===s?void 0:s.Manager.getTimeSyncCore(),{groupInfo:h}).embed().catch((function(e){e&&console.error("Error creating SyncPlay settings editor",e)}))}})).catch((function(e){e&&console.error("SyncPlay: unexpected error showing group menu:",e)})),i.ZP.hide()}},{key:"show",value:function(e){var t=this;i.ZP.show(),l.default.check().then((function(){console.debug("Playback is allowed.")})).catch((function(e){console.error("Playback not allowed!",e),(0,s.Z)({text:r.ZP.translate("MessageSyncPlayPlaybackPermissionRequired")})}));var n=u.Z.currentApiClient();u.Z.user(n).then((function(a){t.syncPlayEnabled?t.showLeaveGroupSelection(e,a,n):t.showNewJoinGroupSelection(e,a,n)})).catch((function(e){console.error(e),i.ZP.hide(),(0,s.Z)({text:r.ZP.translate("MessageSyncPlayNoGroupsAvailable")})}))}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());t.default=m},94915:function(e,t,n){"use strict";n.r(t),n(63238),n(61418),n(61370),n(19068),n(87211),n(25901),n(92189),n(95163),n(99785),n(91047),n(5769),n(17460),n(14078);var a=n(84881);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,s=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!==i(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===i(s)?s:String(s)),a)}var s}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"check",value:function(){if(a.M.supports("htmlaudioautoplay"))return Promise.resolve(!0);var e,t=((e=document.createElement("audio")).classList.add("testMediaPlayerAudio"),e.classList.add("hide"),document.body.appendChild(e),e.volume=1,e.src="assets/audio/silence.mp3",e);return t.play().finally((function(){!function(e){e.pause(),e.remove()}(t)}))}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=new o},71487:function(e,t,n){"use strict";n.r(t),n(72410),n(15610),n(52077),n(25901),n(92189),n(91047),n(5769),n(63238),n(61418),n(17460),n(14078),n(27471),n(40895),n(98010),n(20266),n(48410),n(55849),n(61013),n(23938);var a,i,s,o,r,l,c,u,d,h,p,f,m,v,y,g=n(65009),b=n.n(g),P=n(40275),S=n.n(P),L=n(72365),T=n(30325),M=n(58517),w=n(53424),k=n(66560),Z=n(84881),O=n(48957),C=n(67932),B=n(17369),E=n(57366),x=n(94994),I=n(51869),H=n(25446),A=n(60635),D=n(18613),U=n(20484),G=n(81643),N=n(85951),q=n(61693);function j(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,r=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){r=!0,s=e},f:function(){try{o||null==n.return||n.return()}finally{if(r)throw s}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function R(){return h&&h.localUser?D.Z.getApiClient(h.localUser.ServerId):D.Z.currentApiClient()}function z(){u&&(u.title=x.ZP.translate("ButtonBack")),r&&(r.title=x.ZP.translate("Home")),o&&(o.title=x.ZP.translate("Menu")),v&&(v.title=x.ZP.translate("ButtonSyncPlay")),m&&(m.title=x.ZP.translate("ButtonPlayer")),p&&(p.title=x.ZP.translate("ButtonCast")),f&&(f.title=x.ZP.translate("Search")),d&&(d.title=x.ZP.translate("Settings"))}function F(e){var t;if(z(),e&&e.name?(e.imageUrl&&(V(e.imageUrl),t=!0),d.title=e.name,d.classList.remove("hide")):d.classList.add("hide"),t||V(null),e&&e.localUser){r&&r.classList.remove("hide"),f&&f.classList.remove("hide"),T.Z.tv||p.classList.remove("hide");var n=e.Policy?e.Policy:e.localUser.Policy;v&&C.E.ofType(U.z.SyncPlay).length>0&&"None"!==(null==n?void 0:n.SyncPlayAccess)&&v.classList.remove("hide")}else r.classList.add("hide"),p.classList.add("hide"),v.classList.add("hide"),f&&f.classList.add("hide");ve=!1}function V(e){e?(d.classList.add("headerUserButtonRound"),d.innerHTML='<div class="headerButton headerButtonRight paper-icon-button-light headerUserButtonRound" style="background-image:url(\''+e+"');\"></div>"):(d.classList.remove("headerUserButtonRound"),d.innerHTML='<span class="material-icons person" aria-hidden="true"></span>')}function W(){s.isVisible?Y():s.open()}function Y(){s.close()}function J(){s.isVisible?T.Z.mobile&&document.body.classList.add("bodyWithPopupOpen"):document.body.classList.remove("bodyWithPopupOpen")}function K(e){return-1!==window.location.href.toString().toLowerCase().indexOf(e.toLowerCase())}function $(e){for(var t=i.querySelectorAll(".navMenuOption"),n=e.id,a=0,s=t.length;a<s;a++){var o=t[a],r=!1,l=o.getAttribute("data-pageids");l&&(r=-1!=(l=l.split("|")).indexOf(n));var c=o.getAttribute("data-pageurls");if(c&&(r=(c=c.split("|")).filter(K).length>0),r){o.classList.add("navMenuOption-selected");var u="";u+=((o=o.querySelector(".navMenuOptionText")||o).innerText||o.textContent).trim(),be.setTitle(u)}else o.classList.remove("navMenuOption-selected")}}function Q(e){var t=[{name:x.ZP.translate("TabServer")},{name:x.ZP.translate("TabDashboard"),href:"#/dashboard.html",pageIds:["dashboardPage"],icon:"dashboard"},{name:x.ZP.translate("General"),href:"#/dashboardgeneral.html",pageIds:["dashboardGeneralPage"],icon:"settings"},{name:x.ZP.translate("HeaderUsers"),href:"#/userprofiles.html",pageIds:["userProfilesPage","newUserPage","editUserPage","userLibraryAccessPage","userParentalControlPage","userPasswordPage"],icon:"people"},{name:x.ZP.translate("HeaderLibraries"),href:"#/library.html",pageIds:["mediaLibraryPage","librarySettingsPage","libraryDisplayPage","metadataImagesConfigurationPage","metadataNfoPage"],icon:"folder"},{name:x.ZP.translate("TitlePlayback"),icon:"play_arrow",href:"#/encodingsettings.html",pageIds:["encodingSettingsPage","playbackConfigurationPage","streamingSettingsPage"]}];return X(t,e,"server"),t.push({divider:!0,name:x.ZP.translate("HeaderDevices")}),t.push({name:x.ZP.translate("HeaderDevices"),href:"#/devices.html",pageIds:["devicesPage","devicePage"],icon:"devices"}),t.push({name:x.ZP.translate("HeaderActivity"),href:"#/serveractivity.html",pageIds:["serverActivityPage"],icon:"assessment"}),t.push({name:x.ZP.translate("DLNA"),href:"#/dlnasettings.html",pageIds:["dlnaSettingsPage","dlnaProfilesPage","dlnaProfilePage"],icon:"input"}),t.push({divider:!0,name:x.ZP.translate("LiveTV")}),t.push({name:x.ZP.translate("LiveTV"),href:"#/livetvstatus.html",pageIds:["liveTvStatusPage","liveTvTunerPage"],icon:"live_tv"}),t.push({name:x.ZP.translate("HeaderDVR"),href:"#/livetvsettings.html",pageIds:["liveTvSettingsPage"],icon:"dvr"}),X(t,e,"livetv"),t.push({divider:!0,name:x.ZP.translate("TabAdvanced")}),t.push({name:x.ZP.translate("TabNetworking"),icon:"cloud",href:"#/networking.html",pageIds:["networkingPage"]}),t.push({name:x.ZP.translate("HeaderApiKeys"),icon:"vpn_key",href:"#/apikeys.html",pageIds:["apiKeysPage"]}),t.push({name:x.ZP.translate("TabLogs"),href:"#/log.html",pageIds:["logPage"],icon:"bug_report"}),t.push({name:x.ZP.translate("TabNotifications"),icon:"notifications",href:"#/notificationsettings.html",pageIds:["notificationSettingsPage","notificationSettingPage"]}),t.push({name:x.ZP.translate("TabPlugins"),icon:"shopping_cart",href:"#/installedplugins.html",pageIds:["pluginsPage","pluginCatalogPage"]}),t.push({name:x.ZP.translate("TabScheduledTasks"),href:"#/scheduledtasks.html",pageIds:["scheduledTasksPage","scheduledTaskPage"],icon:"schedule"}),function(e){var t,n=j(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a.EnableInMainMenu&&void 0===a.MenuSection)return!0}}catch(e){n.e(e)}finally{n.f()}return!1}(e)&&(t.push({divider:!0,name:x.ZP.translate("TabPlugins")}),X(t,e)),t}function X(e,t,n){var a,i=j(t);try{for(i.s();!(a=i.n()).done;){var s=a.value;s.EnableInMainMenu&&s.MenuSection===n&&e.push({name:s.DisplayName,icon:s.MenuIcon||"folder",href:A.default.getPluginUrl(s.Name),pageUrls:[A.default.getPluginUrl(s.Name)]})}}catch(e){i.e(e)}finally{i.f()}}function ee(e){var t="",n=e.pageIds?e.pageIds.join("|"):"";n=n?' data-pageids="'+n+'"':"";var a=e.pageUrls?e.pageUrls.join("|"):"";return a=a?' data-pageurls="'+a+'"':"",t+='<a is="emby-linkbutton" class="navMenuOption" href="'+e.href+'"'+n+a+">",e.icon&&(t+='<span class="material-icons navMenuOptionIcon '+e.icon+'" aria-hidden="true"></span>'),t+='<span class="navMenuOptionText">',t+=b()(e.name),(t+="</span>")+"</a>"}function te(){var e=this.getElementsByClassName("sectionName")[0],t=e?e.innerHTML:this.innerHTML;be.setTitle(t)}function ne(e,t){var n=document.querySelector(e);n&&(t?n.classList.remove("hide"):n.classList.add("hide"))}function ae(){return(0,N.a)("topParentId")||null}function ie(e){L.ZP.parentWithTag(e.target,"A")&&setTimeout(Y,30)}function se(){A.default.selectServer()}function oe(){A.default.navigate("mypreferencesmenu.html")}function re(){Z.M.exit()}function le(){A.default.logout()}function ce(){var e=document,t=O.O.getPlayerInfo(),n=p.querySelector(".material-icons");n.classList.remove("cast_connected","cast"),t&&!t.isLocalPlayer?(n.classList.add("cast_connected"),p.classList.add("castButton-active"),e.querySelector(".headerSelectedPlayer").innerText=t.deviceName||t.name):(n.classList.add("cast"),p.classList.remove("castButton-active"),e.querySelector(".headerSelectedPlayer").innerHTML="")}function ue(e){de(),l="library",e?Promise.resolve(e):D.Z.user(R()).then((function(e){!function(e){var t="";t+='<div style="height:.5em;"></div>',t+='<a is="emby-linkbutton" class="navMenuOption lnkMediaFolder" href="#/home.html"><span class="material-icons navMenuOptionIcon home" aria-hidden="true"></span><span class="navMenuOptionText">'.concat(x.ZP.translate("Home"),"</span></a>"),t+='<div class="customMenuOptions"></div>',t+='<div class="libraryMenuOptions"></div>',e.localUser&&e.localUser.Policy.IsAdministrator&&(t+='<div class="adminMenuOptions">',t+='<h3 class="sidebarHeader">',t+=x.ZP.translate("HeaderAdmin"),t+="</h3>",t+='<a is="emby-linkbutton" class="navMenuOption lnkMediaFolder lnkManageServer" data-itemid="dashboard" href="#/dashboard.html"><span class="material-icons navMenuOptionIcon dashboard" aria-hidden="true"></span><span class="navMenuOptionText">'.concat(x.ZP.translate("TabDashboard"),"</span></a>"),t+='<a is="emby-linkbutton" class="navMenuOption lnkMediaFolder editorViewMenu" data-itemid="editor" href="#/edititemmetadata.html"><span class="material-icons navMenuOptionIcon mode_edit" aria-hidden="true"></span><span class="navMenuOptionText">'.concat(x.ZP.translate("Metadata"),"</span></a>"),t+="</div>"),e.localUser&&(t+='<div class="userMenuOptions">',t+='<h3 class="sidebarHeader">',t+=x.ZP.translate("HeaderUser"),t+="</h3>",Z.M.supports("multiserver")&&(t+='<a is="emby-linkbutton" class="navMenuOption lnkMediaFolder btnSelectServer" data-itemid="selectserver" href="#"><span class="material-icons navMenuOptionIcon storage" aria-hidden="true"></span><span class="navMenuOptionText">'.concat(x.ZP.translate("SelectServer"),"</span></a>")),t+='<a is="emby-linkbutton" class="navMenuOption lnkMediaFolder btnSettings" data-itemid="settings" href="#"><span class="material-icons navMenuOptionIcon settings" aria-hidden="true"></span><span class="navMenuOptionText">'.concat(x.ZP.translate("Settings"),"</span></a>"),t+='<a is="emby-linkbutton" class="navMenuOption lnkMediaFolder btnLogout" data-itemid="logout" href="#"><span class="material-icons navMenuOptionIcon exit_to_app" aria-hidden="true"></span><span class="navMenuOptionText">'.concat(x.ZP.translate("ButtonSignOut"),"</span></a>"),Z.M.supports("exitmenu")&&(t+='<a is="emby-linkbutton" class="navMenuOption lnkMediaFolder exitApp" data-itemid="exitapp" href="#"><span class="material-icons navMenuOptionIcon close" aria-hidden="true"></span><span class="navMenuOptionText">'.concat(x.ZP.translate("ButtonExitApp"),"</span></a>")),t+="</div>"),i.innerHTML=t;var n=i.querySelector(".btnSelectServer");n&&n.addEventListener("click",se);var a=i.querySelector(".btnSettings");a&&a.addEventListener("click",oe);var s=i.querySelector(".exitApp");s&&s.addEventListener("click",re);var o=i.querySelector(".btnLogout");o&&o.addEventListener("click",le)}(e),function(e){if(!e)return ne(".libraryMenuDownloads",!1),ne(".lnkSyncToOtherDevices",!1),void ne(".userMenuOptions",!1);e.Policy.EnableContentDownloading?ne(".lnkSyncToOtherDevices",!0):ne(".lnkSyncToOtherDevices",!1),e.Policy.EnableContentDownloading&&Z.M.supports("sync")?ne(".libraryMenuDownloads",!0):ne(".libraryMenuDownloads",!1);var t=A.default.getCurrentUserId(),n=R(),a=document.querySelector(".customMenuOptions");a&&(0,H.hi)().then((function(e){e.forEach((function(e){var t=document.createElement("a","emby-linkbutton");t.classList.add("navMenuOption","lnkMediaFolder"),t.rel="noopener noreferrer",t.target="_blank",t.href=e.url;var n=document.createElement("span");n.className="material-icons navMenuOptionIcon ".concat(e.icon||"link"),n.setAttribute("aria-hidden","true"),t.appendChild(n);var i=document.createElement("span");i.className="navMenuOptionText",i.textContent=e.name,t.appendChild(i),a.appendChild(t)}))}));var i=document.querySelector(".libraryMenuOptions");i&&function(e,t){return e.getUserViews({},t).then((function(e){for(var t=e.Items,n=[],a=0,i=t.length;a<i;a++){var s=t[a];if(n.push(s),"livetv"==s.CollectionType){s.ImageTags={},s.icon="live_tv";var o=Object.assign({},s);o.Name=x.ZP.translate("Guide"),o.ImageTags={},o.icon="dvr",o.url="#/livetv.html?tab=1",n.push(o)}}return n}))}(n,t).then((function(e){var t=e,n='<h3 class="sidebarHeader">'.concat(x.ZP.translate("HeaderMedia"),"</h3>");n+=t.map((function(e){var t,n,a=e.icon||I.ZP.getLibraryIcon(e.CollectionType),i=e.Id;return'<a is="emby-linkbutton" data-itemid="'.concat(i,'" class="lnkMediaFolder navMenuOption" href="').concat((t=e,n=e.CollectionType,k.appRouter.getRouteUrl(t,{context:n})),'">\n                                    <span class="material-icons navMenuOptionIcon ').concat(a,'" aria-hidden="true"></span>\n                                    <span class="sectionName navMenuOptionText">').concat(b()(e.Name),"</span>\n                                  </a>")})).join(""),i.innerHTML=n;var a,s=j(i.querySelectorAll(".navMenuOption"));try{for(s.s();!(a=s.n()).done;){var o=a.value;o.removeEventListener("click",te),o.addEventListener("click",te)}}catch(e){s.e(e)}finally{s.f()}}))}(e.localUser)}))}function de(){return s?Promise.resolve(s):(a=document.querySelector(".mainDrawer"),(i=a.querySelector(".scrollContainer")).addEventListener("click",ie),new Promise((function(e){n.e(64529).then(n.bind(n,64529)).then((function(t){var n,i=t.default;s=new i((n=window.screen.availWidth-50,n=Math.max(n,240),n=Math.min(n,320),{target:a,onChange:J,width:n})),T.Z.tv||a.classList.remove("hide"),e(s)}))})))}n(61414);var he,pe=T.Z.desktop,fe=!T.Z.tv,me=document.querySelector(".skinHeader"),ve=!0;(0,A.pageClassOn)("pagebeforeshow","page",(function(){this.classList.contains("withTabs")||be.setTabs(null)})),(0,A.pageClassOn)("pageshow","page",(function(e){var t=this,n=t.classList.contains("type-interior"),a=t.classList.contains("homePage"),r=!n&&t.classList.contains("libraryPage"),c=R();n?(o&&o.classList.remove("hide"),function(e,t){l="admin",de(),i.querySelector(".adminDrawerLogo")?$(e):function(e,t){(function(e){return function(e){return e.getJSON(e.getUrl("web/configurationpages")+"?pageType=PluginConfiguration&EnableInMainMenu=true").then(Q,(function(){return Q([])}))}(e).then((function(e){var t="";t+='<div class="drawerContent">';var n,a=j(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;i.href?t+=ee(i):i.name&&(t+='<h3 class="sidebarHeader">',t+=b()(i.name),t+="</h3>")}}catch(e){a.e(e)}finally{a.f()}return t+"</div>"}))})(t).then((function(t){var n="";n+='<a class="adminDrawerLogo clearLink" is="emby-linkbutton" href="#/home.html">',n+='<img src="assets/img/icon-transparent.png" />',n+="</a>",n+=t,i.innerHTML=n,$(e)}))}(e,t)}(t,c)):(o&&(pe||a&&fe?o.classList.remove("hide"):o.classList.add("hide")),"library"!==l&&ue()),function(e,t){var n=3;if(e?n=2:t&&(n=1),he!==n){he=n,e&&!T.Z.mobile?me.classList.add("headroomDisabled"):me.classList.remove("headroomDisabled");var a=document.body.classList;t?(a.add("libraryDocument"),a.remove("dashboardDocument"),a.remove("hideMainDrawer"),s&&s.setEdgeSwipeEnabled(!0)):e?(a.remove("libraryDocument"),a.add("dashboardDocument"),a.remove("hideMainDrawer"),s&&s.setEdgeSwipeEnabled(!0)):(a.remove("libraryDocument"),a.remove("dashboardDocument"),a.add("hideMainDrawer"),s&&s.setEdgeSwipeEnabled(!1))}ve&&D.Z.user(R()).then(F)}(n,r),e.detail.isRestored||window.scrollTo(0,0),function(e){var t=e.getAttribute("data-title");t?be.setTitle(t):e.classList.contains("standalonePage")&&be.setDefaultTitle()}(t),function(e){u&&("false"!==e.getAttribute("data-backbutton")&&k.appRouter.canGoBack()?u.classList.remove("hide"):u.classList.add("hide"))}(t),function(e){for(var t=e.classList.contains("liveTvPage"),n=e.classList.contains("channelsPage"),a=e.classList.contains("metadataEditorPage"),i=e.classList.contains("mySyncPage"),s=t||n||a||i||e.classList.contains("allLibraryPage")?"":ae()||"",o=document.getElementsByClassName("lnkMediaFolder"),r=0,l=o.length;r<l;r++){var c=o[r],u=c.getAttribute("data-itemid");n&&"channels"===u||t&&"livetv"===u||a&&"editor"===u||i&&"manageoffline"===u&&-1!=window.location.href.toString().indexOf("mode=download")||i&&"syncotherdevices"===u&&-1==window.location.href.toString().indexOf("mode=download")||s&&u==s?c.classList.add("navMenuOption-selected"):c.classList.remove("navMenuOption-selected")}}(t)})),G.Z.on(D.Z,"localusersignedin",(function(e,t){var n=D.Z.getApiClient(t.ServerId);l=null,h={localUser:t},de(),D.Z.user(n).then((function(e){h=e,F(e)}))})),G.Z.on(D.Z,"localusersignedout",(function(){h={},F()})),G.Z.on(O.O,"playerchange",ce),de();var ye,ge,be={getTopParentId:ae,onHardwareMenuButtonClick:function(){W()},setTabs:function(e,t,a){Promise.all([n.e(15723),n.e(67345)]).then(n.bind(n,67345)).then((function(n){e?n.setTabs(w.Z.currentView(),t,a,(function(){return[]})):n.setTabs(null)}))},setDefaultTitle:function(){c||(c=document.querySelector(".pageTitle")),c&&(c.classList.add("pageTitleWithLogo"),c.classList.add("pageTitleWithDefaultLogo"),c.style.backgroundImage=null,c.innerHTML=""),document.title="Jellyfin"},setTitle:function(e){if(null!=e){"-"===e&&(e="");var t=e;c||(c=document.querySelector(".pageTitle")),c&&(c.classList.remove("pageTitleWithLogo"),c.classList.remove("pageTitleWithDefaultLogo"),c.style.backgroundImage=null,c.innerText=t||""),document.title=e||"Jellyfin"}else be.setDefaultTitle()},setTransparentMenu:function(e){e?me.classList.add("semiTransparent"):me.classList.remove("semiTransparent")}};window.LibraryMenu=be,ge="",ge+='<div class="flex align-items-center flex-grow headerTop">',ge+='<div class="headerLeft">',ge+='<button type="button" is="paper-icon-button-light" class="headerButton headerButtonLeft headerBackButton hide"><span class="material-icons '+(E.Z.safari?"chevron_left":"arrow_back")+'" aria-hidden="true"></span></button>',ge+='<button type="button" is="paper-icon-button-light" class="headerButton headerHomeButton hide barsMenuButton headerButtonLeft"><span class="material-icons home" aria-hidden="true"></span></button>',ge+='<button type="button" is="paper-icon-button-light" class="headerButton mainDrawerButton barsMenuButton headerButtonLeft hide"><span class="material-icons menu" aria-hidden="true"></span></button>',ge+='<h3 class="pageTitle" aria-hidden="true"></h3>',ge+="</div>",ge+='<div class="headerRight">',ge+='<button is="paper-icon-button-light" class="headerSyncButton syncButton headerButton headerButtonRight hide"><span class="material-icons groups" aria-hidden="true"></span></button>',ge+='<span class="headerSelectedPlayer"></span>',ge+='<button is="paper-icon-button-light" class="headerAudioPlayerButton audioPlayerButton headerButton headerButtonRight hide"><span class="material-icons music_note" aria-hidden="true"></span></button>',ge+='<button is="paper-icon-button-light" class="headerCastButton castButton headerButton headerButtonRight hide"><span class="material-icons cast" aria-hidden="true"></span></button>',ge+='<button type="button" is="paper-icon-button-light" class="headerButton headerButtonRight headerSearchButton hide"><span class="material-icons search" aria-hidden="true"></span></button>',ge+='<button is="paper-icon-button-light" class="headerButton headerButtonRight headerUserButton hide"><span class="material-icons person" aria-hidden="true"></span></button>',ge+='<div class="currentTimeText hide"></div>',ge+="</div>",ge+="</div>",ge+='<div class="headerTabs sectionTabs hide">',ge+="</div>",me.classList.add("skinHeader-withBackground"),me.classList.add("skinHeader-blurred"),me.innerHTML=ge,u=me.querySelector(".headerBackButton"),r=me.querySelector(".headerHomeButton"),o=me.querySelector(".mainDrawerButton"),d=me.querySelector(".headerUserButton"),p=me.querySelector(".headerCastButton"),m=me.querySelector(".headerAudioPlayerButton"),f=me.querySelector(".headerSearchButton"),v=me.querySelector(".headerSyncButton"),y=me.querySelector(".currentTimeText"),z(),n.e(98301).then(n.bind(n,98301)).then((function(e){e.lazyChildren(me)})),o&&o.addEventListener("click",W),u&&u.addEventListener("click",(function(){k.appRouter.back()})),f&&f.addEventListener("click",(function(){M.default.handleCommand("search")})),d.addEventListener("click",(function(){A.default.navigate("mypreferencesmenu.html")})),r.addEventListener("click",(function(){A.default.navigate("home.html")})),T.Z.tv||p.addEventListener("click",(function(){var e=this;Promise.resolve().then(n.bind(n,68156)).then((function(t){t.show(e)}))})),m.addEventListener("click",(function(){return k.appRouter.showNowPlaying()})),v.addEventListener("click",(function(){B.default.show(this)})),T.Z.mobile&&(ye=me,new(S())(ye).init()),G.Z.on(O.O,"playbackstart",(function(){O.O.isPlayingAudio()&&T.Z.tv?m.classList.remove("hide"):m.classList.add("hide")})),G.Z.on(O.O,"playbackstop",(function(e,t){"Audio"!=t.nextMediaType&&m.classList.add("hide")})),ce(),T.Z.tv?(y.classList.remove("hide"),setInterval((function(){y.innerText=q.ZP.getDisplayTime(new Date)}),1e3)):y.classList.add("hide"),t.default=be},40275:function(e){e.exports=function(){"use strict";function e(){return"undefined"!=typeof window}function t(e){return(s=e)&&s.document&&function(e){return 9===e.nodeType}(s.document)?(n=(t=e).document,a=n.body,i=n.documentElement,{scrollHeight:function(){return Math.max(a.scrollHeight,i.scrollHeight,a.offsetHeight,i.offsetHeight,a.clientHeight,i.clientHeight)},height:function(){return t.innerHeight||i.clientHeight||a.clientHeight},scrollY:function(){return void 0!==t.pageYOffset?t.pageYOffset:(i||a.parentNode||a).scrollTop}}):function(e){return{scrollHeight:function(){return Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight)},height:function(){return Math.max(e.offsetHeight,e.clientHeight)},scrollY:function(){return e.scrollTop}}}(e);var t,n,a,i,s}function n(e,n,a){var i,s=function(){var e=!1;try{var t={get passive(){e=!0}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){e=!1}return e}(),o=!1,r=t(e),l=r.scrollY(),c={};function u(){var e=Math.round(r.scrollY()),t=r.height(),i=r.scrollHeight();c.scrollY=e,c.lastScrollY=l,c.direction=e>l?"down":"up",c.distance=Math.abs(e-l),c.isOutOfBounds=e<0||e+t>i,c.top=e<=n.offset[c.direction],c.bottom=e+t>=i,c.toleranceExceeded=c.distance>n.tolerance[c.direction],a(c),l=e,o=!1}function d(){o||(o=!0,i=requestAnimationFrame(u))}var h=!!s&&{passive:!0,capture:!1};return e.addEventListener("scroll",d,h),u(),{destroy:function(){cancelAnimationFrame(i),e.removeEventListener("scroll",d,h)}}}function a(e){return e===Object(e)?e:{down:e,up:e}}function i(e,t){t=t||{},Object.assign(this,i.options,t),this.classes=Object.assign({},i.options.classes,t.classes),this.elem=e,this.tolerance=a(this.tolerance),this.offset=a(this.offset),this.initialised=!1,this.frozen=!1}return i.prototype={constructor:i,init:function(){return i.cutsTheMustard&&!this.initialised&&(this.addClass("initial"),this.initialised=!0,setTimeout((function(e){e.scrollTracker=n(e.scroller,{offset:e.offset,tolerance:e.tolerance},e.update.bind(e))}),100,this)),this},destroy:function(){this.initialised=!1,Object.keys(this.classes).forEach(this.removeClass,this),this.scrollTracker.destroy()},unpin:function(){!this.hasClass("pinned")&&this.hasClass("unpinned")||(this.addClass("unpinned"),this.removeClass("pinned"),this.onUnpin&&this.onUnpin.call(this))},pin:function(){this.hasClass("unpinned")&&(this.addClass("pinned"),this.removeClass("unpinned"),this.onPin&&this.onPin.call(this))},freeze:function(){this.frozen=!0,this.addClass("frozen")},unfreeze:function(){this.frozen=!1,this.removeClass("frozen")},top:function(){this.hasClass("top")||(this.addClass("top"),this.removeClass("notTop"),this.onTop&&this.onTop.call(this))},notTop:function(){this.hasClass("notTop")||(this.addClass("notTop"),this.removeClass("top"),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){this.hasClass("bottom")||(this.addClass("bottom"),this.removeClass("notBottom"),this.onBottom&&this.onBottom.call(this))},notBottom:function(){this.hasClass("notBottom")||(this.addClass("notBottom"),this.removeClass("bottom"),this.onNotBottom&&this.onNotBottom.call(this))},shouldUnpin:function(e){return"down"===e.direction&&!e.top&&e.toleranceExceeded},shouldPin:function(e){return"up"===e.direction&&e.toleranceExceeded||e.top},addClass:function(e){this.elem.classList.add.apply(this.elem.classList,this.classes[e].split(" "))},removeClass:function(e){this.elem.classList.remove.apply(this.elem.classList,this.classes[e].split(" "))},hasClass:function(e){return this.classes[e].split(" ").every((function(e){return this.classList.contains(e)}),this.elem)},update:function(e){e.isOutOfBounds||!0!==this.frozen&&(e.top?this.top():this.notTop(),e.bottom?this.bottom():this.notBottom(),this.shouldUnpin(e)?this.unpin():this.shouldPin(e)&&this.pin())}},i.options={tolerance:{up:0,down:0},offset:0,scroller:e()?window:null,classes:{frozen:"headroom--frozen",pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},i.cutsTheMustard=!!(e()&&function(){}.bind&&"classList"in document.documentElement&&Object.assign&&Object.keys&&requestAnimationFrame),i}()}}]);