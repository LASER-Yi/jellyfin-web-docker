(self.webpackChunk=self.webpackChunk||[]).push([[57018],{57018:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}}),r(88646),r(91270),r(56187),r(38690),r(89228),r(13227),r(81414),r(37666),r(14011),r(11431),r(63241),r(59139),r(86028),r(44901),r(96626),r(54134),r(19131),r(54112);var a=r(65009),i=r.n(a),n=r(58517),o=r(57366),s=r(94994),l=r(67561),d=r(54517),c=r(44038),u=r(84597),m=r(61693),g=r(34643),f=r(48957),v=r(60934),h=r(81038),p=r(30325),b=r(61008),y=r(72365),S=(r(32994),r(38228),r(61414),r(21694),r(24432),r(67752),r(18613));function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function T(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,n=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw n}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function w(e,t){var r=e.posLeft;r||(r=parseFloat(e.style.left.replace("%","")),e.posLeft=r);var a=e.posWidth;a||(a=parseFloat(e.style.width.replace("%","")),e.posWidth=a);var i=r+a,n=(Math.max(Math.min(t,i),r)-r)/a*100,o=e.guideProgramName;o||(o=e.querySelector(".guideProgramName"),e.guideProgramName=o);var s=e.caret;s||(s=e.querySelector(".guide-programNameCaret"),e.caret=s),o&&(n>0&&n<=100?(o.style.transform="translateX("+n+"%)",s.classList.remove("hide")):(o.style.transform="none",s.classList.add("hide")))}var D=!1;function C(e,t){D||(D=!0,requestAnimationFrame((function(){var r,a=e.scrollLeft,i=a?a/e.scrollWidth*100:0,n=T(t);try{for(n.s();!(r=n.n()).done;)w(r.value,i)}catch(e){n.e(e)}finally{n.f()}D=!1})))}function Z(e){if(p.Z.tv){var t=y.ZP.parentWithClass(e.target,"programCell");if(t){var r=t.getAttribute("data-startdate"),a=t.getAttribute("data-enddate");r=m.ZP.parseISO8601Date(r,{toLocal:!0}).getTime(),a=m.ZP.parseISO8601Date(a,{toLocal:!0}).getTime();var i=(new Date).getTime();if(i>=r&&i<a){var n=t.getAttribute("data-channelid"),o=t.getAttribute("data-serverid");e.preventDefault(),e.stopPropagation(),f.O.play({ids:[n],serverId:o})}}}}var L=function(e){var t=this,a={};t.options=e,t.categoryOptions={categories:[]};var f,P,w,D,L=30,x=60*L*1e3,A=864e5,H=0,E=0;function O(){N(),P=setInterval((function(){t.refresh()}),9e5)}function N(){P&&(clearInterval(P),P=null)}function M(){u.ZP.show()}function q(e){if("string"===I(e).toString().toLowerCase())try{e=m.ZP.parseISO8601Date(e,{toLocal:!0})}catch(t){return e}return m.ZP.getDisplayTime(e).toLowerCase()}function k(e){if(!e.StartDateLocal)try{e.StartDateLocal=m.ZP.parseISO8601Date(e.StartDate,{toLocal:!0})}catch(e){console.error("error parsing timestamp for start date")}if(!e.EndDateLocal)try{e.EndDateLocal=m.ZP.parseISO8601Date(e.EndDate,{toLocal:!0})}catch(e){console.error("error parsing timestamp for end date")}return null}function W(e){var t;if("SeriesTimer"===e.Type)return'<span class="material-icons programIcon seriesTimerIcon fiber_smart_record" aria-hidden="true"></span>';if(e.TimerId||e.SeriesTimerId)t=e.Status||"Cancelled";else{if("Timer"!==e.Type)return"";t=e.Status}return e.SeriesTimerId?"Cancelled"!==t?'<span class="material-icons programIcon seriesTimerIcon fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons programIcon seriesTimerIcon seriesTimerIcon-inactive fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons programIcon timerIcon fiber_manual_record" aria-hidden="true"></span>'}function F(e,r,n,o,l,d){var c="",u=r.getTime(),m=u+A-1;c+='<div class="'+(p.Z.tv?"channelPrograms channelPrograms-tv":"channelPrograms")+'" data-channelid="'+n.Id+'">';for(var g,f=p.Z.tv?"link":"programdialog",h=t.categoryOptions.categories||[],b=!h.length||-1!==h.indexOf("movies"),y=!h.length||-1!==h.indexOf("sports"),S=!h.length||-1!==h.indexOf("news"),I=!h.length||-1!==h.indexOf("kids"),T=!h.length||-1!==h.indexOf("series"),P="true"===v.get("guide-colorcodedbackgrounds"),w=(new Date).getTime(),D=d.startIndex,C=o.length;D<C;D++){var Z=o[D];if(Z.ChannelId===n.Id){g=!0,d.startIndex++,k(Z);var L=Z.StartDateLocal.getTime(),x=Z.EndDateLocal.getTime();if(!(x<u)){if(L>m)break;a[Z.Id]=Z;var H=Math.max(L,u),E=(L-u)/A;E*=100,E=Math.max(E,0);var O=(Math.min(x,m)-H)/A;O*=100;var N="programCell itemAction",M=null,q=!0;Z.IsKids?(q=I,M="kids"):Z.IsSports?(q=y,M="sports"):Z.IsNews?(q=S,M="news"):Z.IsMovie?(q=b,M="movie"):q=(Z.IsSeries||b&&S&&y&&I)&&T,q&&P&&M&&(N+=" programCell-"+M),w>=L&&w<x&&(N+=" programCell-active");var F="";if(Z.TimerId&&(F+=' data-timerid="'+Z.TimerId+'"'),Z.SeriesTimerId&&(F+=' data-seriestimerid="'+Z.SeriesTimerId+'"'),c+="<button"+(O>=2?' is="emby-programcell"':"")+' data-action="'+f+'"'+F+' data-channelid="'+Z.ChannelId+'" data-id="'+Z.Id+'" data-serverid="'+Z.ServerId+'" data-startdate="'+Z.StartDate+'" data-enddate="'+Z.EndDate+'" data-type="'+Z.Type+'" class="'+N+'" style="left:'+E+"%;width:"+O+'%;">',q){c+='<div class="guideProgramName">',c+='<div class="guide-programNameCaret hide"><span class="guideProgramNameCaretIcon material-icons keyboard_arrow_left" aria-hidden="true"></span></div>',c+='<div class="guideProgramNameText">'+i()(Z.Name);var _=null;Z.IsLive&&l.showLiveIndicator?_='<span class="liveTvProgram guideProgramIndicator">'+s.ZP.translate("Live")+"</span>":Z.IsPremiere&&l.showPremiereIndicator?_='<span class="premiereTvProgram guideProgramIndicator">'+s.ZP.translate("Premiere")+"</span>":Z.IsSeries&&!Z.IsRepeat&&l.showNewIndicator?_='<span class="newTvProgram guideProgramIndicator">'+s.ZP.translate("New")+"</span>":Z.IsSeries&&Z.IsRepeat&&l.showRepeatIndicator&&(_='<span class="repeatTvProgram guideProgramIndicator">'+s.ZP.translate("Repeat")+"</span>"),c+=_||"",Z.EpisodeTitle&&l.showEpisodeTitle&&(c+='<div class="guideProgramSecondaryInfo">',Z.EpisodeTitle&&l.showEpisodeTitle&&(c+='<span class="programSecondaryTitle">'+i()(Z.EpisodeTitle)+"</span>"),c+="</div>"),c+="</div>",Z.IsHD&&l.showHdIcon&&(p.Z.tv?c+='<div class="programIcon guide-programTextIcon guide-programTextIcon-tv">HD</div>':c+='<div class="programIcon guide-programTextIcon">HD</div>'),c+=W(Z),c+="</div>"}c+="</button>"}}else if(g)break}return c+"</div>"}function _(e,t){for(var r=e.ChannelId,a=-1,i=0,n=t.length;i<n;i++)if(r===t[i].Id){a=i;break}return 1e7*a+m.ZP.parseISO8601Date(e.StartDate,{toLocal:!0}).getTime()/6e4}function R(e,t,r){e.scrollTo?r?e.scrollTo(t,0):e.scrollTo(0,t):r?e.scrollLeft=Math.round(t):e.scrollTop=Math.round(t)}t.refresh=function(){f=null,G(e.element),O()},t.pause=function(){N()},t.resume=function(e){e?t.refresh():O()},t.destroy=function(){N(),l.Z.off(c.default,"TimerCreated",Y),l.Z.off(c.default,"TimerCancelled",J),l.Z.off(c.default,"SeriesTimerCancelled",Q),X(e.element,!1),b.ZP.off(e.element),a={}};var j=0,B=0,U=0;function z(r,n,o,s,l,d){var c=function(e){return e.getMinutes()-L>=0?e.setHours(e.getHours(),L,0,0):e.setHours(e.getHours(),0,0,0),e}(n);f=c,function(r,n,o,s,l,d){var c=S.Z.getApiClient(e.serverId),m={StartIndex:0,EnableFavoriteSorting:"false"!==v.get("livetv-favoritechannelsattop")};m.UserId=c.getCurrentUserId();var f=500;E=f,M(),m.StartIndex=H,m.Limit=f,m.AddCurrentProgram=!1,m.EnableUserData=!1,m.EnableImageTypes="Primary";var b=t.categoryOptions.categories||[],I=!b.length||-1!==b.indexOf("movies"),P=!b.length||-1!==b.indexOf("sports"),D=!b.length||-1!==b.indexOf("news"),Z=!b.length||-1!==b.indexOf("kids"),L=!b.length||-1!==b.indexOf("series");I&&P&&D&&Z?(m.IsMovie=null,m.IsSports=null,m.IsKids=null,m.IsNews=null,m.IsSeries=null):(D&&(m.IsNews=!0),P&&(m.IsSports=!0),Z&&(m.IsKids=!0),I&&(m.IsMovie=!0),L&&(m.IsSeries=!0)),"DatePlayed"===v.get("livetv-channelorder")?(m.SortBy="DatePlayed",m.SortOrder="Descending"):(m.SortBy=null,m.SortOrder=null);var O=n;O=new Date(O.getTime()+1e3);var N=new Date(O.getTime()+A-2e3),k=y.ZP.getWindowSize().innerWidth>=600,W={showHdIcon:k&&"true"===v.get("guide-indicator-hd"),showLiveIndicator:k&&"false"!==v.get("guide-indicator-live"),showPremiereIndicator:k&&"false"!==v.get("guide-indicator-premiere"),showNewIndicator:k&&"false"!==v.get("guide-indicator-new"),showRepeatIndicator:k&&"true"===v.get("guide-indicator-repeat"),showEpisodeTitle:!p.Z.tv};c.getLiveTvChannels(m).then((function(e){var t=r.querySelector(".btnPreviousPage"),n=r.querySelector(".btnNextPage");e.TotalRecordCount>f?(r.querySelector(".guideOptions").classList.remove("hide"),t.classList.remove("hide"),n.classList.remove("hide"),m.StartIndex?r.querySelector(".btnPreviousPage").disabled=!1:r.querySelector(".btnPreviousPage").disabled=!0,m.StartIndex+f<e.TotalRecordCount?n.disabled=!1:n.disabled=!0):r.querySelector(".guideOptions").classList.add("hide");var v=[],b={UserId:c.getCurrentUserId(),MaxStartDate:N.toISOString(),MinEndDate:O.toISOString(),channelIds:e.Items.map((function(e){return e.Id})).join(","),ImageTypeLimit:1,EnableImages:!1,SortBy:"StartDate",EnableTotalRecordCount:!1,EnableUserData:!1};W.showHdIcon&&v.push("IsHD"),v.length&&(b.Fields=v.join("")),c.getLiveTvPrograms(b).then((function(t){var n={focusProgramOnRender:d,scrollToTimeMs:o,focusToTimeMs:s,startTimeOfDayMs:l};!function(e,t,r,n,o,s,l){n.sort((function(e,t){return _(e,r)-_(t,r)}));var d,c=document.activeElement,u=null!=c&&c.getAttribute?c.getAttribute("data-id"):null,m=null;c&&(m=null!==(d=m=y.ZP.parentWithClass(c,"channelPrograms"))&&void 0!==d&&d.getAttribute?m.getAttribute("data-channelid"):null),function(e,t,r){var a,n="",o=T(t);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=s.ImageTags.Primary,d="guide-channelHeaderCell itemAction";p.Z.tv&&(d+=" guide-channelHeaderCell-tv");var c=[];s.ChannelNumber&&c.push(s.ChannelNumber),s.Name&&c.push(s.Name),n+='<button title="'+i()(c.join(" "))+'" type="button" class="'+d+'" data-action="link" data-isfolder="'+s.IsFolder+'" data-id="'+s.Id+'" data-serverid="'+s.ServerId+'" data-type="'+s.Type+'">',l&&(n+='<div class="guideChannelImage lazy" data-src="'+r.getScaledImageUrl(s.Id,{maxHeight:220,tag:s.ImageTags.Primary,type:"Primary"})+'"></div>'),s.ChannelNumber&&(n+='<h3 class="guideChannelNumber">'+s.ChannelNumber+"</h3>"),!l&&s.Name&&(n+='<div class="guideChannelName">'+i()(s.Name)+"</div>"),n+="</button>"}}catch(e){o.e(e)}finally{o.f()}var u=e.querySelector(".channelsContainer");u.innerHTML=n,h.default.lazyChildren(u)}(e,r,l);var f=t,v=new Date(f.getTime()+A);e.querySelector(".timeslotHeaders").innerHTML=function(e,t){var r="";for(e=new Date(e.getTime()),r+='<div class="timeslotHeadersInner">';e.getTime()<t;)r+='<div class="timeslotHeader">',r+=q(e),r+="</div>",e.setTime(e.getTime()+x);return r}(f,v),a={},function(e,t,r,a,i){var n,o={startIndex:0},s=[],l=T(r);try{for(l.s();!(n=l.n()).done;){var d=n.value;s.push(F(0,t,d,a,i,o))}}catch(e){l.e(e)}finally{l.f()}te.innerHTML=s.join(""),w=te.querySelectorAll("[is=emby-programcell]"),C(te,w)}(0,t,r,n,o),s.focusProgramOnRender&&function(e,t,r,a,i){var n;if(t&&(n=e.querySelector('[data-id="'+t+'"]')),n)g.Z.focus(n);else{var o;r&&(o=e.querySelector('[data-channelid="'+r+'"]')),o||(o=te);for(var s=(a-=i)/A*100,l=o.querySelector(".programCell");l;){var d=(l.style.left||"").replace("%","");d=d?parseFloat(d):0;var c=(l.style.width||"").replace("%","");if(c=c?parseFloat(c):0,d>=s||d+c>=s)break;l=l.nextSibling}l?g.Z.focus(l):g.Z.autoFocus(o,!0)}}(e,u,m,s.focusToTimeMs,s.startTimeOfDayMs),function(e,t,r){var a=(t-=r)/A;te.scrollTop=0;var i=a*te.scrollWidth;R(te,i,!0)}(0,s.scrollToTimeMs,s.startTimeOfDayMs)}(r,O,e.Items,t.Items,W,n,c),u.ZP.hide()}))}))}(r,c,o,s,l,d)}function V(e,t,r){var a='<button is="emby-button" class="'+(t?"emby-tab-button guide-date-tab-button emby-tab-button-active":"emby-tab-button guide-date-tab-button")+'" data-index="'+r+'" data-date="'+e.getTime()+'">',i=m.ZP.toLocaleDateString(e,{weekday:"short"});return i+="<br/>",(a+='<div class="emby-button-foreground">'+(i+=e.getDate())+"</div>")+"</button>"}function G(t){M(),S.Z.getApiClient(e.serverId).getLiveTvGuideInfo().then((function(e){!function(e,t){var r=new Date,a=r.getHours();r.setHours(a,0,0,0);var i=m.ZP.parseISO8601Date(t.StartDate,{toLocal:!0}),n=m.ZP.parseISO8601Date(t.EndDate,{toLocal:!0});i.setHours(a,0,0,0),n.setHours(0,0,0,0),i.getTime()>=n.getTime()&&n.setDate(i.getDate()+1),i=new Date(Math.max(r,i));var o="",s=0,l=new Date;f&&l.setTime(f.getTime()),l.setHours(a,0,0,0);var d=60*i.getHours()*60*1e3;for(d+=60*i.getMinutes()*1e3;i<=n;){var c=l.getDate()===i.getDate()&&l.getMonth()===i.getMonth()&&l.getFullYear()===i.getFullYear();o+=V(i,c,s),i.setDate(i.getDate()+1),i.setHours(0,0,0,0),s++}e.querySelector(".emby-tabs-slider").innerHTML=o,e.querySelector(".guideDateTabs").refresh();var u=new Date,g=u.getHours(),v=60*g*60*1e3,h=u.getMinutes();h>=30&&(v+=18e5),z(e,l,v,60*(60*g+h)*1e3,d,p.Z.tv)}(t,e)}))}function $(e){var t,r=e.querySelectorAll(".programCell"),a=[],i=U+1,n=T(r);try{for(n.s();!(t=n.n()).done;){var o=t.value,s=(o.style.left||"").replace("%","");s=s?parseFloat(s):0;var l=(o.style.width||"").replace("%","");s+(l=l?parseFloat(l):0)>=i&&a.push(o)}}catch(e){n.e(e)}finally{n.f()}return a}function K(e){var t,r,a,i=e.target,n=y.ZP.parentWithClass(i,"programCell");switch(e.detail.command){case"up":n?(t=te,(a=y.ZP.parentWithClass(n,"channelPrograms").previousSibling)?(r=$(a)).length?t=a:r=null:t=null):t=null,D=e.detail.command,g.Z.moveUp(i,{container:t,focusableElements:r});break;case"down":n?(t=te,(a=y.ZP.parentWithClass(n,"channelPrograms").nextSibling)?(r=$(a)).length?t=a:r=null:t=null):t=null,D=e.detail.command,g.Z.moveDown(i,{container:t,focusableElements:r});break;case"left":(t=n?y.ZP.parentWithClass(n,"channelPrograms"):null)&&!n.previousSibling&&(t=null),D=e.detail.command,g.Z.moveLeft(i,{container:t});break;case"right":t=n?y.ZP.parentWithClass(n,"channelPrograms"):null,D=e.detail.command,g.Z.moveRight(i,{container:t});break;default:return}e.preventDefault(),e.stopPropagation()}function X(e,t){if(p.Z.tv){var r=e.querySelector(".guideVerticalScroller");t?n.default.on(r,K):n.default.off(r,K)}}function Y(t,r,a){var i,n=a.ProgramId,o=a.Id,s=T(e.element.querySelectorAll('.programCell[data-id="'+n+'"]'));try{for(s.s();!(i=s.n()).done;){var l=i.value;l.querySelector(".timerIcon")||l.querySelector(".guideProgramName").insertAdjacentHTML("beforeend",'<span class="timerIcon material-icons programIcon fiber_manual_record"></span>'),o&&l.setAttribute("data-timerid",o)}}catch(e){s.e(e)}finally{s.f()}}function J(t,r,a){var i,n=a.Id,o=T(e.element.querySelectorAll('.programCell[data-timerid="'+n+'"]'));try{for(o.s();!(i=o.n()).done;){var s=i.value,l=s.querySelector(".timerIcon");l&&l.parentNode.removeChild(l),s.removeAttribute("data-timerid")}}catch(e){o.e(e)}finally{o.f()}}function Q(t,r,a){var i,n=a.Id,o=T(e.element.querySelectorAll('.programCell[data-seriestimerid="'+n+'"]'));try{for(o.s();!(i=o.n()).done;){var s=i.value,l=s.querySelector(".seriesTimerIcon");l&&l.parentNode.removeChild(l),s.removeAttribute("data-seriestimerid")}}catch(e){o.e(e)}finally{o.f()}}var ee=e.element;ee.classList.add("tvguide"),ee.innerHTML=s.ZP.translateHtml('<div class="tvGuideHeader"> <div class="guideHeaderDateSelection"> <div is="emby-tabs" class="guideDateTabs focuscontainer-x" data-selectionbar="false"> <div class="emby-tabs-slider guideDateTabsSlider"> </div> </div> </div> <div class="guide-headerTimeslots"> <div class="guide-channelTimeslotHeader"> <button is="paper-icon-button-light" type="button" class="btnGuideViewSettings" title="${ButtonMore}"> <span class="material-icons btnGuideViewSettingsIcon more_vert" aria-hidden="true"></span> </button> </div> <div class="timeslotHeaders scrollX guideScroller"></div> </div> </div> <div is="emby-scroller" class="guideVerticalScroller flex flex-grow programContainer guideScroller" data-skipfocuswhenvisible="true" data-horizontal="false"> <div class="scrollSlider flex flex-grow flex-direction-row" style="overflow:hidden;contain:layout style paint"> <div class="channelsContainer"> <div class="channelList"></div> </div> <div class="programGrid scrollX guideScroller flex-grow focuscontainer-right" style="white-space:nowrap"> </div> </div> </div> <div class="guideOptions hide"> <button is="paper-icon-button-light" type="button" class="btnPreviousPage" title="${Previous}"> <span class="material-icons arrow_back" aria-hidden="true"></span> </button> <button is="paper-icon-button-light" type="button" class="btnNextPage" title="${Next}"> <span class="material-icons arrow_forward" aria-hidden="true"></span> </button> </div> ',"core");var te=ee.querySelector(".programGrid"),re=ee.querySelector(".timeslotHeaders");p.Z.tv?y.ZP.addEventListener(ee.querySelector(".guideVerticalScroller"),"focus",(function(e){var r=e.target,i=y.ZP.parentWithClass(r,"programCell");if(i){var n=r.getAttribute("data-id"),o=a[n];o&&l.Z.trigger(t,"focus",[{item:o}])}if("left"===D)i&&d.default.toStart(te,i,!0,!0);else if("right"===D)i&&d.default.toCenter(te,i,!0,!0);else if("up"===D||"down"===D){var s=y.ZP.parentWithClass(r,"guideVerticalScroller");if(s){var c=i||y.ZP.parentWithTag(r,"BUTTON");s.toCenter(c,!0)}}}),{capture:!0,passive:!0}):p.Z.desktop&&re.classList.add("timeslotHeaders-desktop"),(o.Z.iOS||o.Z.osx)&&(ee.querySelector(".channelsContainer").classList.add("noRubberBanding"),te.classList.add("noRubberBanding")),y.ZP.addEventListener(te,"scroll",(function(){!function(e,t,r){if((new Date).getTime()-B>=1e3){j=(new Date).getTime();var a=t.scrollLeft;U=100*a/t.scrollWidth,R(r,a,!0)}C(t,w)}(0,this,re)}),{passive:!0}),y.ZP.addEventListener(re,"scroll",(function(){(new Date).getTime()-j>=1e3&&(B=(new Date).getTime(),R(te,this.scrollLeft,!0))}),{passive:!0}),te.addEventListener("click",Z),ee.querySelector(".btnNextPage").addEventListener("click",(function(){H+=E,G(ee),O()})),ee.querySelector(".btnPreviousPage").addEventListener("click",(function(){H=Math.max(H-E,0),G(ee),O()})),ee.querySelector(".btnGuideViewSettings").addEventListener("click",(function(){var e;e=t,r.e(87931).then(r.bind(r,87931)).then((function(t){t.default.show(e.categoryOptions).then((function(){e.refresh()}))})),O()})),ee.querySelector(".guideDateTabs").addEventListener("tabchange",(function(e){var t=e.target.querySelectorAll(".guide-date-tab-button"),r=t[parseInt(e.detail.selectedTabIndex,10)];if(r){var a=null==e.detail.previousIndex?null:t[parseInt(e.detail.previousIndex,10)],i=new Date;i.setTime(parseInt(r.getAttribute("data-date"),10));var n,o=te.scrollWidth;if(n=o?te.scrollLeft/o*A:0,a){var s=new Date;s.setTime(parseInt(a.getAttribute("data-date"),10)),n+=60*s.getHours()*60*1e3,n+=60*s.getMinutes()*1e3}var l=60*i.getHours()*60*1e3;l+=60*i.getMinutes()*1e3,z(ee,i,n,n,l,!1)}})),X(ee,!0),b.ZP.on(ee),l.Z.trigger(t,"load"),l.Z.on(c.default,"TimerCreated",Y),l.Z.on(c.default,"TimerCancelled",J),l.Z.on(c.default,"SeriesTimerCancelled",Q),t.refresh()};function x(e,t,r){var a,i=this;i.renderTab=function(){a||(a=new L({element:r,serverId:ApiClient.serverId()}))},i.onShow=function(){a&&a.resume()},i.onHide=function(){a&&a.pause()}}},32994:function(){var e=Object.create(HTMLButtonElement.prototype);e.detachedCallback=function(){this.posLeft=null,this.posWidth=null,this.guideProgramName=null},document.registerElement("emby-programcell",{prototype:e,extends:"button"})},24432:function(e,t,r){"use strict";r(13227),r(81414),r(37666),r(14011),r(11431);var a=r(15723),i=r(72365),n=r(30325),o=r(58517),s=r(34643),l=r(57366),d=(r(67752),Object.create(HTMLDivElement.prototype));function c(e){var t=e.detail.command;"end"===t?(s.Z.focusLast(this,"."+this.getAttribute("data-navcommands")),e.preventDefault(),e.stopPropagation()):"pageup"===t?(s.Z.moveFocus(e.target,this,"."+this.getAttribute("data-navcommands"),-12),e.preventDefault(),e.stopPropagation()):"pagedown"===t&&(s.Z.moveFocus(e.target,this,"."+this.getAttribute("data-navcommands"),12),e.preventDefault(),e.stopPropagation())}d.createdCallback=function(){this.classList.add("emby-scroller")},d.scrollToBeginning=function(){this.scroller&&this.scroller.slideTo(0,!0)},d.toStart=function(e,t){this.scroller&&this.scroller.toStart(e,t)},d.toCenter=function(e,t){this.scroller&&this.scroller.toCenter(e,t)},d.scrollToPosition=function(e,t){this.scroller&&this.scroller.slideTo(e,t)},d.getScrollPosition=function(){if(this.scroller)return this.scroller.getScrollPosition()},d.getScrollSize=function(){if(this.scroller)return this.scroller.getScrollSize()},d.getScrollEventName=function(){if(this.scroller)return this.scroller.getScrollEventName()},d.getScrollSlider=function(){if(this.scroller)return this.scroller.getScrollSlider()},d.addScrollEventListener=function(e,t){this.scroller&&i.ZP.addEventListener(this.scroller.getScrollFrame(),this.scroller.getScrollEventName(),e,t)},d.removeScrollEventListener=function(e,t){this.scroller&&i.ZP.removeEventListener(this.scroller.getScrollFrame(),this.scroller.getScrollEventName(),e,t)},d.attachedCallback=function(){this.getAttribute("data-navcommands")&&o.default.on(this,c);var e="false"!==this.getAttribute("data-horizontal"),t=this.querySelector(".scrollSlider");e&&(t.style["white-space"]="nowrap");var d,u,m=n.Z.desktop&&e&&"false"!==this.getAttribute("data-scrollbuttons"),g={horizontal:e,mouseDragging:1,mouseWheel:"false"!==this.getAttribute("data-mousewheel"),touchDragging:1,slidee:t,scrollBy:200,speed:e?270:240,elasticBounds:1,dragHandle:1,autoImmediate:!0,skipSlideToWhenVisible:"true"===this.getAttribute("data-skipfocuswhenvisible"),dispatchScrollEvent:m||"true"===this.getAttribute("data-scrollevent"),hideScrollbar:m||"true"===this.getAttribute("data-hidescrollbar"),allowNativeSmoothScroll:"true"===this.getAttribute("data-allownativesmoothscroll")&&!m,allowNativeScroll:!m,forceHideScrollbars:m,requireAnimation:m&&l.Z.edge};this.scroller=new a.Z(this,g),this.scroller.init(),this.scroller.reload(),n.Z.tv&&this.getAttribute("data-centerfocus")&&(this,d=this.scroller,i.ZP.addEventListener(this,"focus",(function(e){var t=s.Z.focusableParent(e.target);t&&d.toCenter(t)}),{capture:!0,passive:!0})),m&&(u=this,r.e(39346).then(r.bind(r,39346)).then((function(){u.insertAdjacentHTML("beforebegin",'<div is="emby-scrollbuttons" class="emby-scrollbuttons padded-right"></div>')})))},d.pause=function(){var e=this.headroom;e&&e.pause()},d.resume=function(){var e=this.headroom;e&&e.resume()},d.detachedCallback=function(){this.getAttribute("data-navcommands")&&o.default.off(this,c);var e=this.headroom;e&&(e.destroy(),this.headroom=null);var t=this.scroller;t&&(t.destroy(),this.scroller=null)},document.registerElement("emby-scroller",{prototype:d,extends:"div"})}}]);