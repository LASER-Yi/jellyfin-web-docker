"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[96],{40096:function(e,t,i){i.r(t),i.d(t,{default:function(){return g}}),i(5769),i(52077),i(911),i(43512),i(63238),i(61418),i(17460),i(14078),i(25901),i(92189);var n=i(93355),a=i(58517),o=i(30325),r=i(34643),s=i(57366),l=i(84881),d=i(72365),u=(i(61414),i(18613)),c=i(10341),h=d.ZP.whichTransitionEvent(),v=s.Z.safari;function f(e,t){var i=u.Z.getApiClient(e.ServerId),n={};return e.BackdropImageTags&&e.BackdropImageTags.length?function(e,t,i){return(t=t||{}).type=t.type||"Backdrop",t.maxWidth||t.width||t.maxHeight||t.height||t.fillWidth||t.fillHeight||(t.quality=100),e.BackdropImageTags&&e.BackdropImageTags.length?(t.tag=e.BackdropImageTags[0],i.getScaledImageUrl(e.Id,t)):null}(e,n,i):"Photo"===e.MediaType&&t&&t.Policy.EnableContentDownloading?i.getItemDownloadUrl(e.Id):(n.type="Primary",function(e,t,i){return(t=t||{}).type=t.type||"Primary","string"==typeof e?i.getScaledImageUrl(e,t):e.ImageTags&&e.ImageTags[t.type]?(t.tag=e.ImageTags[t.type],i.getScaledImageUrl(e.Id,t)):"Primary"===t.type&&e.AlbumId&&e.AlbumPrimaryImageTag?(t.tag=e.AlbumPrimaryImageTag,i.getScaledImageUrl(e.AlbumId,t)):null}(e,n,i))}function m(e,t,i,n){return'<button is="paper-icon-button-light" class="autoSize '+t+'"'+(i?"":' tabindex="-1"')+(n=n?" autofocus":"")+'><span class="material-icons slideshowButtonIcon '+e+'" aria-hidden="true"></span></button>'}function p(e){try{l.M.setUserScalable(e)}catch(e){console.error("error in appHost.setUserScalable: "+e)}}function g(e){var t,s,d,u,g;function w(){var e=s.querySelector(".btnSlideshowPause .material-icons");e&&e.classList.replace("play_arrow","pause")}function y(){var e=s.querySelector(".btnSlideshowPause .material-icons");e&&e.classList.replace("pause","play_arrow")}function b(e,t,i,n){var a=n.querySelector(".swiper-zoom-fakeimg");a&&(a.style.width=a.style.height=100*t+"%",t>1?a.classList.contains("swiper-zoom-fakeimg-hidden")&&setTimeout((function(){var e=function e(){i.removeEventListener(h,e),a.classList.remove("swiper-zoom-fakeimg-hidden")};parseFloat(i.style.transitionDuration.replace(/[a-z]/i,""))>0?i.addEventListener(h,e):e()}),0):a.classList.add("swiper-zoom-fakeimg-hidden"))}function S(e){return d.slides?I(e):function(e){return I({originalImage:f(e,d.user),Id:e.Id,ServerId:e.ServerId})}(e)}function I(e){var t="";return t+='<div class="swiper-slide" data-original="'+e.originalImage+'" data-itemid="'+e.Id+'" data-serverid="'+e.ServerId+'">',t+='<div class="swiper-zoom-container">',v&&(t+='<div class="swiper-zoom-fakeimg swiper-zoom-fakeimg-hidden" style="background-image: url(\''.concat(e.originalImage,"')\"></div>")),t+='<img src="'+e.originalImage+'" class="swiper-slide-img">',t+="</div>",(e.title||e.subtitle)&&(t+='<div class="slideText">',t+='<div class="slideTextInner">',e.title&&(t+='<h1 class="slideTitle">',t+=e.title,t+="</h1>"),e.description&&(t+='<div class="slideSubtitle">',t+=e.description,t+="</div>"),t+="</div>",t+="</div>"),t+"</div>"}function k(){if(t){var e=document.querySelector(".swiper-slide-active");return e?{url:e.getAttribute("data-original"),shareUrl:e.getAttribute("data-original"),itemId:e.getAttribute("data-itemid"),serverId:e.getAttribute("data-serverid")}:null}return null}function q(){var e=k();i.e(6381).then(i.bind(i,26381)).then((function(t){t.download([e])}))}function x(){var e=k();navigator.share({url:e.shareUrl})}function E(){c.Z.isFullscreen||c.Z.request(),P(!0)}function L(){c.Z.isFullscreen&&c.Z.exit(),P(!1)}function P(e){var t=s.querySelector(".btnFullscreen"),i=s.querySelector(".btnFullscreenExit");t&&t.classList.toggle("hide",e),i&&i.classList.toggle("hide",!e)}function B(){t.autoplay&&t.autoplay.start()}function T(){t.autoplay&&t.autoplay.stop()}function A(){s.querySelector(".btnSlideshowPause .material-icons").classList.contains("pause")?T():B()}function Z(){L(),t&&(t.destroy(!0,!0),t=null),a.default.off(window,U),document.removeEventListener(window.PointerEvent?"pointermove":"mousemove",M)}function F(){var e=s.querySelector(".slideshowBottomBar");e&&C(e,"down");var t=s.querySelector(".topActionButtons");t&&C(t,"up");var i=s.querySelector(".btnSlideshowPrevious");i&&C(i,"left");var n=s.querySelector(".btnSlideshowNext");n&&C(n,"right"),u&&(clearTimeout(u),u=null),u=setTimeout(z,3e3)}function z(){var e=s.querySelector(".slideshowBottomBar");e&&D(e,"down");var t=s.querySelector(".topActionButtons");t&&D(t,"up");var i=s.querySelector(".btnSlideshowPrevious");i&&D(i,"left");var n=s.querySelector(".btnSlideshowNext");n&&D(n,"right")}function _(e,t,i){var n={transform:"translate(0,0)",opacity:"1"},a={opacity:".3"};return"up"===e||"down"===e?a.transform="translate3d(0,"+i.offsetHeight*("down"===e?1:-1)+"px,0)":"left"!==e&&"right"!==e||(a.transform="translate3d("+i.offsetWidth*("right"===e?1:-1)+"px,0,0)"),t?[n,a]:[a,n]}function C(e,t){if(e.classList.contains("hide")){e.classList.remove("hide");var i=function(){var t=e.querySelector(".btnSlideshowPause");t&&r.Z.focus(t)};e.animate?requestAnimationFrame((function(){var n=_(t,!1,e);e.animate(n,{duration:300,iterations:1,easing:"ease-out"}).onfinish=i})):i()}}function D(e,t){if(!e.classList.contains("hide")){var i=function(){e.classList.add("hide")};e.animate?requestAnimationFrame((function(){var n=_(t,!0,e);e.animate(n,{duration:300,iterations:1,easing:"ease-out"}).onfinish=i})):i()}}function M(e){if("mouse"===(e.pointerType||(o.Z.mobile?"touch":"mouse"))){var t=e.screenX||0,i=e.screenY||0,n=g;if(!n)return void(g={x:t,y:i});if(Math.abs(t-n.x)<10&&Math.abs(i-n.y)<10)return;n.x=t,n.y=i,F()}}function U(e){switch(e.detail.command){case"up":case"down":case"select":case"menu":case"info":F();break;case"play":B();break;case"pause":T();break;case"playpause":A()}}function N(e){return function(t){F(),null==e||e(t)}}this.show=function(){!function(e){d=e,(s=n.default.createDialog({exitAnimationDuration:e.interactive?400:800,size:"fullscreen",autoFocus:!1,scrollY:!1,exitAnimation:"fadeout",removeOnClose:!0})).classList.add("slideshowDialog");var r="";if(r+='<div class="slideshowSwiperContainer"><div class="swiper-wrapper"></div></div>',e.interactive&&!o.Z.tv){var u=o.Z.mobile;r+=m("keyboard_arrow_left","btnSlideshowPrevious slideshowButton hide-mouse-idle-tv",!1),r+=m("keyboard_arrow_right","btnSlideshowNext slideshowButton hide-mouse-idle-tv",!1),r+='<div class="topActionButtons">',u&&(r+=m("play_arrow","btnSlideshowPause slideshowButton",!0),l.M.supports("filedownload")&&e.user&&e.user.Policy.EnableContentDownloading&&(r+=m("file_download","btnDownload slideshowButton",!0)),l.M.supports("sharing")&&(r+=m("share","btnShare slideshowButton",!0)),c.Z.isEnabled&&(r+=m("fullscreen","btnFullscreen",!0),r+=m("fullscreen_exit","btnFullscreenExit hide",!0))),r+=m("close","slideshowButton btnSlideshowExit hide-mouse-idle-tv",!1),r+="</div>",u||(r+='<div class="slideshowBottomBar hide">',r+=m("play_arrow","btnSlideshowPause slideshowButton",!0,!0),l.M.supports("filedownload")&&e.user&&e.user.Policy.EnableContentDownloading&&(r+=m("file_download","btnDownload slideshowButton",!0)),l.M.supports("sharing")&&(r+=m("share","btnShare slideshowButton",!0)),c.Z.isEnabled&&(r+=m("fullscreen","btnFullscreen",!0),r+=m("fullscreen_exit","btnFullscreenExit hide",!0)),r+="</div>")}else r+='<div class="slideshowImage"></div><h1 class="slideshowImageText"></h1>';if(s.innerHTML=r,e.interactive&&!o.Z.tv){var h,f;s.querySelector(".btnSlideshowExit").addEventListener("click",(function(){n.default.close(s)})),null===(h=s.querySelector(".btnSlideshowPrevious"))||void 0===h||h.addEventListener("click",N(null)),null===(f=s.querySelector(".btnSlideshowNext"))||void 0===f||f.addEventListener("click",N(null));var g=s.querySelector(".btnSlideshowPause");g&&g.addEventListener("click",N(A));var I=s.querySelector(".btnDownload");I&&I.addEventListener("click",N(q));var k=s.querySelector(".btnShare");k&&k.addEventListener("click",N(x));var B=s.querySelector(".btnFullscreen");B&&B.addEventListener("click",N(E));var T=s.querySelector(".btnFullscreenExit");T&&T.addEventListener("click",N(L)),c.Z.isEnabled&&c.Z.on("change",(function(){P(c.Z.isFullscreen)}))}if(p(!0),n.default.open(s).then((function(){p(!1)})),a.default.on(window,U),document.addEventListener(window.PointerEvent?"pointermove":"mousemove",M),s.addEventListener("close",Z),function(e,n){var a;a=d.slides?d.slides:d.items,Promise.all([i.e(5359),i.e(8620)]).then(i.bind(i,40270)),Promise.all([i.e(5359),i.e(4259)]).then(i.bind(i,16870)).then((function(i){var o,r=i.Swiper;(t=new r(e.querySelector(".slideshowSwiperContainer"),{direction:"horizontal",loop:!1,zoom:{minRatio:1,toggle:!0},autoplay:!n.interactive||!!n.autoplay,keyboard:{enabled:!0},preloadImages:!0,slidesPerView:1,slidesPerColumn:1,initialSlide:n.startIndex||0,speed:240,navigation:{nextEl:".btnSlideshowNext",prevEl:".btnSlideshowPrevious"},virtual:{slides:a,cache:!0,renderSlide:S,addSlidesBefore:1,addSlidesAfter:1}})).on("autoplayStart",w),t.on("autoplayStop",y),v&&t.on("zoomChange",b),null!==(o=t.autoplay)&&void 0!==o&&o.running&&w()}))}(s,e),o.Z.desktop){var F=s.querySelector(".topActionButtons");F&&F.classList.add("hide")}var z=s.querySelector(".btnSlideshowPrevious");z&&z.classList.add("hide");var _=s.querySelector(".btnSlideshowNext");_&&_.classList.add("hide")}(e)},this.hide=function(){s&&n.default.close(s)}}}}]);