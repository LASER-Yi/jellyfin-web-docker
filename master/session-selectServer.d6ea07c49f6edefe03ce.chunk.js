"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[55319],{98515:function(e,t,r){r.r(t),r.d(t,{default:function(){return y}}),r(61013),r(98010),r(63238);var a=r(65009),s=r.n(a),l=r(28540),i=r(52050),n=r(30325),o=r(71487),c=r(59858),d=r(34643),u=r(94994),h=r(12801),v=r(72365),g=r(57366),f=(r(24432),r(82427),r(38228),r(60635)),m=r(18613),b=r(37099),p=r(61570),S=r(25600),Z=!g.Z.slow&&!g.Z.edge;function P(e){(0,b.Z)(e)}function y(e,t){function r(e){var t=[];t.push({name:u.ZP.translate("Connect"),id:"connect"}),t.push({name:u.ZP.translate("Delete"),id:"delete"}),h.default.show({items:t,title:e.Name}).then((function(t){switch(t){case"connect":!function(e){l.ZP.show(),m.Z.connectToServer(e,{enableAutoLogin:c.Z.enableAutoLogin()}).then((function(e){l.ZP.hide();var t=e.ApiClient;switch(e.State){case S.e.SignedIn:f.ZP.onServerChanged(t.getCurrentUserId(),t.accessToken(),t),f.ZP.navigate("home.html");break;case S.e.ServerSignIn:f.ZP.onServerChanged(null,null,t),f.ZP.navigate("login.html?serverid="+e.Servers[0].Id);break;case S.e.ServerUpdateNeeded:P({text:u.ZP.translate("core#ServerUpdateNeeded","https://github.com/jellyfin/jellyfin"),html:u.ZP.translate("core#ServerUpdateNeeded",'<a href="https://github.com/jellyfin/jellyfin">https://github.com/jellyfin/jellyfin</a>')});break;default:P({text:u.ZP.translate("MessageUnableToConnectToServer")})}}))}(e);break;case"delete":!function(e){l.ZP.show(),m.Z.deleteServer(e.Id).then((function(){l.ZP.hide(),g()}))}(e)}}))}function a(t){b=t,function(e,t){var r=t.map((function(e){return{name:e.Name,icon:"storage",cardType:"",id:e.Id,server:e}})),a=r.map((function(e){var t='<span class="cardImageIcon material-icons '+e.icon+'" aria-hidden="true"></span>',r="card overflowSquareCard loginSquareCard scalableCard overflowSquareCard-scalable";n.Z.tv&&(r+=" show-focus",Z&&(r+=" show-animation"));var a="";return a+='<button raised class="'+r+'" style="display:inline-block;" data-id="'+e.id+'" data-url="'+(e.url||"")+'" data-cardtype="'+e.cardType+'">',a+='<div class="cardBox">',a+='<div class="cardScalable">',a+='<div class="cardPadder cardPadder-square">',a+="</div>",a+='<div class="cardContent">',a+='<div class="cardImageContainer coveredImage '.concat(p.default.getDefaultBackgroundClass(),'">'),a+=t,a+="</div>",a+="</div>",a+="</div>",a+='<div class="cardFooter">',(a+='<div class="cardText cardTextCentered">'+s()(e.name)+"</div>")+"</div></div></button>"})).join(""),i=e.querySelector(".servers");r.length||(a="<p>"+u.ZP.translate("MessageNoServersAvailable")+"</p>"),i.innerHTML=a,l.ZP.hide()}(e,t),n.Z.tv&&d.Z.autoFocus(e)}function g(){l.ZP.show(),m.Z.getAvailableServers().then(a)}var b;!function(e,t){"1"==t.showuser?(e.classList.add("libraryPage"),e.classList.remove("standalonePage"),e.classList.add("noSecondaryNavPage")):(e.classList.add("standalonePage"),e.classList.remove("libraryPage"),e.classList.remove("noSecondaryNavPage"))}(e,t),e.addEventListener("viewshow",(function(e){var t=e.detail.isRestored;o.Z.setTitle(null),o.Z.setTransparentMenu(!0),t||g()})),e.querySelector(".servers").addEventListener("click",(function(e){var t=v.ZP.parentWithClass(e.target,"card");if(t){var a=t.getAttribute("data-url");if(a)i.appRouter.show(a);else{var s=t.getAttribute("data-id");r(b.filter((function(e){return e.Id===s}))[0])}}}))}},24432:function(e,t,r){r(5769),r(63238),r(61418),r(17460),r(14078);var a=r(15723),s=r(72365),l=r(30325),i=r(58517),n=r(34643),o=r(57366),c=(r(67752),Object.create(HTMLDivElement.prototype));function d(e){var t=e.detail.command;"end"===t?(n.Z.focusLast(this,"."+this.getAttribute("data-navcommands")),e.preventDefault(),e.stopPropagation()):"pageup"===t?(n.Z.moveFocus(e.target,this,"."+this.getAttribute("data-navcommands"),-12),e.preventDefault(),e.stopPropagation()):"pagedown"===t&&(n.Z.moveFocus(e.target,this,"."+this.getAttribute("data-navcommands"),12),e.preventDefault(),e.stopPropagation())}c.createdCallback=function(){this.classList.add("emby-scroller")},c.scrollToBeginning=function(){this.scroller&&this.scroller.slideTo(0,!0)},c.toStart=function(e,t){this.scroller&&this.scroller.toStart(e,t)},c.toCenter=function(e,t){this.scroller&&this.scroller.toCenter(e,t)},c.scrollToPosition=function(e,t){this.scroller&&this.scroller.slideTo(e,t)},c.getScrollPosition=function(){if(this.scroller)return this.scroller.getScrollPosition()},c.getScrollSize=function(){if(this.scroller)return this.scroller.getScrollSize()},c.getScrollEventName=function(){if(this.scroller)return this.scroller.getScrollEventName()},c.getScrollSlider=function(){if(this.scroller)return this.scroller.getScrollSlider()},c.addScrollEventListener=function(e,t){this.scroller&&s.ZP.addEventListener(this.scroller.getScrollFrame(),this.scroller.getScrollEventName(),e,t)},c.removeScrollEventListener=function(e,t){this.scroller&&s.ZP.removeEventListener(this.scroller.getScrollFrame(),this.scroller.getScrollEventName(),e,t)},c.attachedCallback=function(){this.getAttribute("data-navcommands")&&i.default.on(this,d);var e="false"!==this.getAttribute("data-horizontal"),t=this.querySelector(".scrollSlider");e&&(t.style["white-space"]="nowrap");var c,u,h=l.Z.desktop&&e&&"false"!==this.getAttribute("data-scrollbuttons"),v={horizontal:e,mouseDragging:1,mouseWheel:"false"!==this.getAttribute("data-mousewheel"),touchDragging:1,slidee:t,scrollBy:200,speed:e?270:240,elasticBounds:1,dragHandle:1,autoImmediate:!0,skipSlideToWhenVisible:"true"===this.getAttribute("data-skipfocuswhenvisible"),dispatchScrollEvent:h||"true"===this.getAttribute("data-scrollevent"),hideScrollbar:h||"true"===this.getAttribute("data-hidescrollbar"),allowNativeSmoothScroll:"true"===this.getAttribute("data-allownativesmoothscroll")&&!h,allowNativeScroll:!h,forceHideScrollbars:h,requireAnimation:h&&o.Z.edge};this.scroller=new a.Z(this,v),this.scroller.init(),this.scroller.reload(),l.Z.tv&&this.getAttribute("data-centerfocus")&&(this,c=this.scroller,s.ZP.addEventListener(this,"focus",(function(e){var t=n.Z.focusableParent(e.target);t&&c.toCenter(t)}),{capture:!0,passive:!0})),h&&(u=this,r.e(39346).then(r.bind(r,39346)).then((function(){u.insertAdjacentHTML("beforebegin",'<div is="emby-scrollbuttons" class="emby-scrollbuttons padded-right"></div>')})))},c.pause=function(){var e=this.headroom;e&&e.pause()},c.resume=function(){var e=this.headroom;e&&e.resume()},c.detachedCallback=function(){this.getAttribute("data-navcommands")&&i.default.off(this,d);var e=this.headroom;e&&(e.destroy(),this.headroom=null);var t=this.scroller;t&&(t.destroy(),this.scroller=null)},document.registerElement("emby-scroller",{prototype:c,extends:"div"})}}]);