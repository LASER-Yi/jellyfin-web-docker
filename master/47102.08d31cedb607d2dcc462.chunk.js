/*! For license information please see 47102.08d31cedb607d2dcc462.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[47102],{47102:function(t,e,n){n.r(e),n(29305),n(32733),n(84701),n(81678),n(2623),n(44962),n(4754),n(10849),n(70389),n(94),n(36947),n(26437),n(52697),n(78557),n(90076),n(83994),n(82367);var r=n(36300),i=n(39738),o=n(44797),a=n(82180),u=n(46782),s=n(9164),c=n(5898),l=n(67430),f=n(23648);function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function d(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var s=r&&r.prototype instanceof u?r:u,c=Object.create(s.prototype);return y(c,"_invoke",function(n,r,i){var o,u,s,c=0,l=i||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,u=0,s=t,p.n=n,a}};function d(n,r){for(u=n,s=r,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],d=p.p,y=o[2];n>3?(i=y===r)&&(s=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=n<2&&d<o[1])?(u=0,p.v=r,p.n=o[1]):d<y&&(i=n<3||o[0]>r||r>y)&&(o[4]=n,o[5]=r,p.n=y,u=0))}if(i||n>1)return a;throw f=!0,r}return function(i,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),u=l,s=y;(e=u<2?t:s)||!f;){o||(u?u<3?(u>1&&(p.n=-1),d(u,s)):p.n=s:p.v=s);try{if(c=2,o){if(u||(i="next"),e=o[i]){if(!(e=e.call(o,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,u<2&&(u=0)}else 1===u&&(e=o.return)&&e.call(o),u<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),u=1);o=t}else if((e=(f=p.n<0)?s:n.call(r,p))!==a)break}catch(e){o=t,u=1,s=e}finally{c=1}}return{value:e,done:f}}}(n,i,o),!0),c}var a={};function u(){}function s(){}function c(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(y(e={},r,(function(){return this})),e),f=c.prototype=u.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,y(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=c,y(f,"constructor",c),y(c,"constructor",s),s.displayName="GeneratorFunction",y(c,i,"GeneratorFunction"),y(f),y(f,i,"Generator"),y(f,r,(function(){return this})),y(f,"toString",(function(){return"[object Generator]"})),(d=function(){return{w:o,m:p}})()}function y(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}y=function(t,e,n,r){if(e)i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var o=function(e,n){y(t,e,(function(t){return this._invoke(e,n,t)}))};o("next",0),o("throw",1),o("return",2)}},y(t,e,n,r)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v(r.key),r)}}function v(t){var e=function(t){if("object"!=p(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==p(e)?e:e+""}function m(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function b(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){m(o,r,i,a,u,"next",t)}function u(t){m(o,r,i,a,u,"throw",t)}a(void 0)}))}}n(10353);var x=r.Ay.whichTransitionEvent();function w(){var t=this,e=t.options.parent,n=Math.max(Math.round(L(t)/1e3),0);console.debug("up next seconds remaining: "+n);var r,i='<span class="upNextDialog-countdownText">'+c.Ay.translate("HeaderSecondsValue",n)+"</span>";r="Episode"===t.itemType?t.showStaticNextText?c.Ay.translate("HeaderNextEpisode"):c.Ay.translate("HeaderNextEpisodePlayingInValue",i):t.showStaticNextText?c.Ay.translate("HeaderNextVideo"):c.Ay.translate("HeaderNextVideoPlayingInValue",i),e.querySelector(".upNextDialog-nextVideoText").innerHTML=r}function g(t){var e=this,n=e.options.parent;n.querySelector(".upNextDialog-mediainfo").innerHTML=a.Ay.getPrimaryMediaInfoHtml(t,{criticRating:!0,originalAirDate:!1,starRating:!0,subtitles:!1});var r=f.Ay.getDisplayName(t);t.SeriesName&&(r=t.SeriesName+" - "+r),n.querySelector(".upNextDialog-title").innerText=r||"",e.itemType=t.Type,e.show()}function T(t){t._countdownTextTimeout&&(clearInterval(t._countdownTextTimeout),t._countdownTextTimeout=null)}function N(){return S.apply(this,arguments)}function S(){return(S=b(d().m((function t(){var e,n;return d().w((function(t){for(;;)switch(t.n){case 0:if(!(e=this.options)){t.n=2;break}return n=e.player,t.n=1,this.hide();case 1:i.f.nextTrack(n);case 2:return t.a(2)}}),t,this)})))).apply(this,arguments)}function A(){return(A=b(d().m((function t(e,n){return d().w((function(t){for(;;)switch(t.n){case 0:return t.n=1,P(n.nextItem);case 1:e.showStaticNextText=t.v,n.parent.innerHTML=(r=void 0,r="",r+='<div class="flex flex-direction-column flex-grow">',r+='<h2 class="upNextDialog-nextVideoText" style="margin:.25em 0;">&nbsp;</h2>',r+='<h3 class="upNextDialog-title" style="margin:.25em 0 .5em;"></h3>',r+='<div class="flex flex-direction-row upNextDialog-mediainfo">',r+="</div>",r+='<div class="flex flex-direction-row upNextDialog-buttons" style="margin-top:1em;">',r+='<button type="button" is="emby-button" class="raised raised-mini btnStartNow upNextDialog-button">',r+=c.Ay.translate("HeaderStartNow"),r+="</button>",r+='<button type="button" is="emby-button" class="raised raised-mini btnHide upNextDialog-button">',r+=c.Ay.translate("Hide"),r+="</button>",r+="</div>",r+="</div>"),n.parent.classList.add("hide"),n.parent.classList.add("upNextDialog"),n.parent.classList.add("upNextDialog-hidden"),g.call(e,n.nextItem),n.parent.querySelector(".btnHide").addEventListener("click",e.hide.bind(e)),n.parent.querySelector(".btnStartNow").addEventListener("click",N.bind(e));case 2:return t.a(2)}var r}),t)})))).apply(this,arguments)}function k(t,e){var n=t._onHideAnimationComplete;n&&r.Ay.removeEventListener(e,x,n,{once:!0})}function D(t){var e=t.target;e.classList.add("hide"),k(this,e),o.A.trigger(this,"hide")}function H(){return E.apply(this,arguments)}function E(){return(E=b(d().m((function t(){var e,n,i,o;return d().w((function(t){for(;;)switch(t.n){case 0:if(e=this,T(this),e.options){t.n=1;break}return t.a(2);case 1:if(n=e.options.parent){t.n=2;break}return t.a(2);case 2:if(k(this,n),!n.classList.contains("upNextDialog-hidden")){t.n=3;break}return t.a(2);case 3:return i=D.bind(e),e._onHideAnimationComplete=i,t.n=4,new Promise((function(t){r.Ay.addEventListener(n,x,t,{once:!0}),n.offsetWidth,n.classList.add("upNextDialog-hidden")}));case 4:o=t.v,e._onHideAnimationComplete(o);case 5:return t.a(2)}}),t,this)})))).apply(this,arguments)}function L(t){var e=t.options;if(e){var n=i.f.duration(e.player);if(n){var r=n-1e4*i.f.currentTime(e.player);return Math.round(r/1e4)}}return 0}function P(t){return j.apply(this,arguments)}function j(){return(j=b(d().m((function t(e){var n,r;return d().w((function(t){for(;;)switch(t.n){case 0:return n=l.tF.getApiClient(e),t.n=1,n.getCurrentUser();case 1:return r=t.v,t.a(2,!r.Configuration.EnableNextEpisodeAutoPlay)}}),t)})))).apply(this,arguments)}var _=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.showStaticNextText=!1,function(t,e){A.apply(this,arguments)}(this,e)},e=[{key:"show",value:function(){var t,e=this.options.parent;k(this,e),e.classList.remove("hide"),e.offsetWidth,e.classList.remove("upNextDialog-hidden"),u.A.tv&&setTimeout((function(){s.A.focus(e.querySelector(".btnStartNow"))}),50),L(t=this)<=0||(w.call(t),T(t),t.showStaticNextText||(t._countdownTextTimeout=setInterval(w.bind(t),400)))}},{key:"hide",value:(n=b(d().m((function t(){return d().w((function(t){for(;;)switch(t.n){case 0:return t.n=1,H.bind(this)();case 1:return t.a(2)}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"destroy",value:function(){H.call(this),this.options=null,this.showStaticNextText=!1,this.itemType=null}}],e&&h(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.default=_}}]);