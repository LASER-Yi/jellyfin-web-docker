"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4201],{96398:function(e,a,t){var n=t(24246),r=function(e){var a=e.className,t=e.dataId;return{__html:'<div\n        is="emby-itemscontainer"\n        class="'.concat(a,'"\n        ').concat(t,"\n    >\n    </div>")}};a.Z=function(e){var a=e.className,t=e.dataId;return(0,n.jsx)("div",{dangerouslySetInnerHTML:r({className:a,dataId:t?'data-id="'.concat(t,'"'):""})})}},66079:function(e,a,t){var n=t(24246),r=function(e){var a=e.scrollerclassName,t=e.dataHorizontal,n=e.dataMousewheel,r=e.dataCenterfocus,i=e.dataId,o=e.className;return{__html:'<div is="emby-scroller"\n    class="'.concat(a,'"\n    ').concat(t,"\n    ").concat(n,"\n    ").concat(r,'\n    >\n        <div\n            is="emby-itemscontainer"\n            class="').concat(o,'"\n            ').concat(i,"\n        >\n        </div>\n    </div>")}};a.Z=function(e){var a=e.scrollerclassName,t=e.dataHorizontal,i=e.dataMousewheel,o=e.dataCenterfocus,s=e.dataId,c=e.className;return(0,n.jsx)("div",{dangerouslySetInnerHTML:r({scrollerclassName:a,dataHorizontal:t?'data-horizontal="'.concat(t,'"'):"",dataMousewheel:i?'data-mousewheel="'.concat(i,'"'):"",dataCenterfocus:o?'data-centerfocus="'.concat(o,'"'):"",dataId:s?'data-id="'.concat(s,'"'):"",className:c})})}},55287:function(e,a,t){t.r(a),t.d(a,{default:function(){return I}});var n=t(24246),r=t(27378),i=t(30325),o=t(28540),s=t(72365),c=t(94994),l=t(65009),d=t.n(l),u=(t(82427),t(61570)),m=t(96398),f=t(66079),p=function(){return p=Object.assign||function(e){for(var a,t=1,n=arguments.length;t<n;t++)for(var r in a=arguments[t])Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);return e},p.apply(this,arguments)},h=function(e){var a=e.sectionTitle,t=e.enableScrollX,i=e.items,o=void 0===i?[]:i,s=e.cardOptions,c=void 0===s?{}:s,l=(0,r.useRef)(null);return(0,r.useEffect)((function(){var e,a;u.default.buildCards(o,p({itemsContainer:null===(e=l.current)||void 0===e?void 0:e.querySelector(".itemsContainer"),parentContainer:null===(a=l.current)||void 0===a?void 0:a.querySelector(".verticalSection"),scalable:!0,overlayPlayButton:!0,showTitle:!0,centerText:!0,cardLayout:!1},c))}),[c,t,o]),(0,n.jsx)("div",p({ref:l},{children:(0,n.jsxs)("div",p({className:"verticalSection hide"},{children:[(0,n.jsx)("div",p({className:"sectionTitleContainer sectionTitleContainer-cards"},{children:(0,n.jsx)("h2",p({className:"sectionTitle sectionTitle-cards padded-left"},{children:a}))})),t()?(0,n.jsx)(f.Z,{scrollerclassName:"padded-top-focusscale padded-bottom-focusscale",dataMousewheel:"false",dataCenterfocus:"true",className:"itemsContainer scrollSlider focuscontainer-x"}):(0,n.jsx)(m.Z,{className:"itemsContainer focuscontainer-x padded-left padded-right vertical-wrap"})]}))}))},v=function(e){var a=e.getPortraitShape,t=e.enableScrollX,r=e.recommendation,i=void 0===r?{}:r,o="";switch(i.RecommendationType){case"SimilarToRecentlyPlayed":o=c.ZP.translate("RecommendationBecauseYouWatched",i.BaselineItemName);break;case"SimilarToLikedItem":o=c.ZP.translate("RecommendationBecauseYouLike",i.BaselineItemName);break;case"HasDirectorFromRecentlyPlayed":case"HasLikedDirector":o=c.ZP.translate("RecommendationDirectedBy",i.BaselineItemName);break;case"HasActorFromRecentlyPlayed":case"HasLikedActor":o=c.ZP.translate("RecommendationStarring",i.BaselineItemName)}return(0,n.jsx)(h,{sectionTitle:d()(o),enableScrollX:t,items:i.Items||[],cardOptions:{shape:a(),showYear:!0}})},y=function(){return y=Object.assign||function(e){for(var a,t=1,n=arguments.length;t<n;t++)for(var r in a=arguments[t])Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);return e},y.apply(this,arguments)},b=function(e,a){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,r,i=t.call(e),o=[];try{for(;(void 0===a||a-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}return o},I=function(e){var a=e.topParentId,l=b((0,r.useState)([]),2),d=l[0],u=l[1],m=b((0,r.useState)({}),2),f=m[0],p=m[1],I=b((0,r.useState)([]),2),g=I[0],S=I[1],C=(0,r.useRef)(null),w=(0,r.useCallback)((function(){return!i.Z.desktop}),[]),P=(0,r.useCallback)((function(){return w()?"overflowPortrait":"portrait"}),[w]),T=(0,r.useCallback)((function(){return w()?"overflowBackdrop":"backdrop"}),[w]),k=(0,r.useCallback)((function(e){Promise.resolve().then(t.bind(t,87680)).then((function(a){a.default.autoFocus(e)}))}),[]),N=(0,r.useCallback)((function(e,a,t){o.ZP.show();var n={SortBy:"DatePlayed",SortOrder:"Descending",IncludeItemTypes:"Movie",Filters:"IsResumable",Limit:s.ZP.getWindowSize().innerWidth>=1600?5:3,Recursive:!0,Fields:"PrimaryImageAspectRatio,MediaSourceCount,BasicSyncInfo",CollapseBoxSetItems:!1,ParentId:t,ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Banner,Thumb",EnableTotalRecordCount:!1};window.ApiClient.getItems(a,n).then((function(a){p(a),o.ZP.hide(),k(e)}))}),[k]),x=(0,r.useCallback)((function(e,a,t){var n={IncludeItemTypes:"Movie",Limit:18,Fields:"PrimaryImageAspectRatio,MediaSourceCount,BasicSyncInfo",ParentId:t,ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Banner,Thumb",EnableTotalRecordCount:!1};window.ApiClient.getJSON(window.ApiClient.getUrl("Users/"+a+"/Items/Latest",n)).then((function(a){u(a),k(e)}))}),[k]),j=(0,r.useCallback)((function(e,a){var t=s.ZP.getWindowSize().innerWidth,n=5;t>=1600?n=8:t>=1200&&(n=6);var r=window.ApiClient.getUrl("Movies/Recommendations",{userId:a,categoryLimit:6,ItemLimit:n,Fields:"PrimaryImageAspectRatio,MediaSourceCount,BasicSyncInfo",ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Banner,Thumb"});window.ApiClient.getJSON(r).then((function(a){S(a),k(e)}))}),[k]),B=(0,r.useCallback)((function(e){var t=a,n=window.ApiClient.getCurrentUserId();N(e,n,t),x(e,n,t),j(e,n)}),[x,N,j,a]);return(0,r.useEffect)((function(){var e=C.current;e?B(e):console.error("Unexpected null reference")}),[B]),(0,n.jsxs)("div",y({ref:C},{children:[(0,n.jsx)(h,{sectionTitle:c.ZP.translate("HeaderContinueWatching"),enableScrollX:w,items:f.Items||[],cardOptions:{preferThumb:!0,shape:T(),showYear:!0}}),(0,n.jsx)(h,{sectionTitle:c.ZP.translate("HeaderLatestMovies"),enableScrollX:w,items:d,cardOptions:{shape:P(),showYear:!0}}),g.length?g.map((function(e,a){return(0,n.jsx)(v,{getPortraitShape:P,enableScrollX:w,recommendation:e},a)})):(0,n.jsxs)("div",y({className:"noItemsMessage centerMessage"},{children:[(0,n.jsx)("h1",{children:c.ZP.translate("MessageNothingHere")}),(0,n.jsx)("p",{children:c.ZP.translate("MessageNoMovieSuggestionsAvailable")})]}))]}))}}}]);