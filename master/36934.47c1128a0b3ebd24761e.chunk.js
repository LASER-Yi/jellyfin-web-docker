(self.webpackChunk=self.webpackChunk||[]).push([[36934],{36934:function(e,t,r){"use strict";r.d(t,{A:function(){return x}}),r(29305),r(32733),r(84701),r(24776),r(69892),r(84734),r(44962),r(86584),r(89336),r(26448),r(78557),r(67593),r(96054),r(90076),r(95021),r(73687),r(83994),r(93062),r(82367);var a=r(22696),i=r.n(a),n=r(33077),o=r(67430),s=r(38490),l=r(34789),c=r(5898),d=r(44797),u=r(10838),m=r(10736),g=r(8566),f=r(98320),v=r(9164),h=r(39738),p=r(82885),y=r(76542),b=r(46782),S=r(22832),I=r(36300);function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function T(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return w(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,n=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw n}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function D(e,t){var r=e.posLeft;r||(r=parseFloat(e.style.left.replace("%","")),e.posLeft=r);var a=e.posWidth;a||(a=parseFloat(e.style.width.replace("%","")),e.posWidth=a);var i=r+a,n=(Math.max(Math.min(t,i),r)-r)/a*100,o=e.guideProgramName;o||(o=e.querySelector(".guideProgramName"),e.guideProgramName=o);var s=e.caret;s||(s=e.querySelector(".guide-programNameCaret"),e.caret=s),o&&(n>0&&n<=100?(o.style.transform="translateX("+n+"%)",s.classList.remove("hide")):(o.style.transform="none",s.classList.add("hide")))}r(57447),r(10353),r(15453),r(79845),r(41765),r(69177);var C=!1;function L(e,t){C||(C=!0,requestAnimationFrame((function(){var r,a=e.scrollLeft,i=a?a/e.scrollWidth*100:0,n=T(t);try{for(n.s();!(r=n.n()).done;)D(r.value,i)}catch(e){n.e(e)}finally{n.f()}C=!1})))}function P(e){if(b.A.tv){var t=I.Ay.parentWithClass(e.target,"programCell");if(t){var r=t.getAttribute("data-startdate"),a=t.getAttribute("data-enddate");r=f.Ay.parseISO8601Date(r,{toLocal:!0}).getTime(),a=f.Ay.parseISO8601Date(a,{toLocal:!0}).getTime();var i=(new Date).getTime();if(i>=r&&i<a){var n=t.getAttribute("data-channelid"),o=t.getAttribute("data-serverid");e.preventDefault(),e.stopPropagation(),h.f.play({ids:[n],serverId:o})}}}}var x=function(e){var t=this,a={};t.options=e,t.categoryOptions={categories:[]};var h,w,D,C,x=864e5,E=0,H=0;function N(){M(),w=setInterval((function(){t.refresh()}),9e5)}function M(){w&&(clearInterval(w),w=null)}function O(){g.Ay.show()}function q(e){if("string"===A(e).toString().toLowerCase())try{e=f.Ay.parseISO8601Date(e,{toLocal:!0})}catch(t){return e}return f.Ay.getDisplayTime(e).toLowerCase()}function k(e){if(!e.StartDateLocal)try{e.StartDateLocal=f.Ay.parseISO8601Date(e.StartDate,{toLocal:!0})}catch(e){console.error("error parsing timestamp for start date",e)}if(!e.EndDateLocal)try{e.EndDateLocal=f.Ay.parseISO8601Date(e.EndDate,{toLocal:!0})}catch(e){console.error("error parsing timestamp for end date",e)}return null}function W(e){var t;if("SeriesTimer"===e.Type)return'<span class="material-icons programIcon seriesTimerIcon fiber_smart_record" aria-hidden="true"></span>';if(e.TimerId||e.SeriesTimerId)t=e.Status||"Cancelled";else{if("Timer"!==e.Type)return"";t=e.Status}return e.SeriesTimerId?"Cancelled"!==t?'<span class="material-icons programIcon seriesTimerIcon fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons programIcon seriesTimerIcon seriesTimerIcon-inactive fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons programIcon timerIcon fiber_manual_record" aria-hidden="true"></span>'}function F(e,r,o,s,l,d){var u="",m=r.getTime(),g=m+x-1;u+='<div class="'+(b.A.tv?"channelPrograms channelPrograms-tv":"channelPrograms")+'" data-channelid="'+o.Id+'">';for(var f,v=b.A.tv?n.s.Link:n.s.ProgramDialog,h=t.categoryOptions.categories||[],y=!h.length||-1!==h.indexOf("movies"),S=!h.length||-1!==h.indexOf("sports"),I=!h.length||-1!==h.indexOf("news"),A=!h.length||-1!==h.indexOf("kids"),T=!h.length||-1!==h.indexOf("series"),w="true"===p.get("guide-colorcodedbackgrounds"),D=(new Date).getTime(),C=d.startIndex,L=s.length;C<L;C++){var P=s[C];if(P.ChannelId===o.Id){f=!0,d.startIndex++,k(P);var E=P.StartDateLocal.getTime(),H=P.EndDateLocal.getTime();if(!(H<m)){if(E>g)break;a[P.Id]=P;var N=Math.max(E,m),M=(E-m)/x;M*=100,M=Math.max(M,0);var O=(Math.min(H,g)-N)/x;O*=100;var q="programCell itemAction",F=null,_=!0;P.IsKids?(_=A,F="kids"):P.IsSports?(_=S,F="sports"):P.IsNews?(_=I,F="news"):P.IsMovie?(_=y,F="movie"):_=(P.IsSeries||y&&I&&S&&A)&&T,_&&w&&F&&(q+=" programCell-"+F),D>=E&&D<H&&(q+=" programCell-active");var R="";if(P.TimerId&&(R+=' data-timerid="'+P.TimerId+'"'),P.SeriesTimerId&&(R+=' data-seriestimerid="'+P.SeriesTimerId+'"'),u+="<button"+(O>=2?' is="emby-programcell"':"")+' data-action="'+v+'"'+R+' data-channelid="'+P.ChannelId+'" data-id="'+P.Id+'" data-serverid="'+P.ServerId+'" data-startdate="'+P.StartDate+'" data-enddate="'+P.EndDate+'" data-type="'+P.Type+'" class="'+q+'" style="left:'+M+"%;width:"+O+'%;">',_){u+='<div class="guideProgramName">',u+='<div class="guide-programNameCaret hide"><span class="guideProgramNameCaretIcon material-icons keyboard_arrow_left" aria-hidden="true"></span></div>',u+='<div class="guideProgramNameText">'+i()(P.Name);var B=null;P.IsLive&&l.showLiveIndicator?B='<span class="liveTvProgram guideProgramIndicator">'+c.Ay.translate("Live")+"</span>":P.IsPremiere&&l.showPremiereIndicator?B='<span class="premiereTvProgram guideProgramIndicator">'+c.Ay.translate("Premiere")+"</span>":P.IsSeries&&!P.IsRepeat&&l.showNewIndicator?B='<span class="newTvProgram guideProgramIndicator">'+c.Ay.translate("New")+"</span>":P.IsSeries&&P.IsRepeat&&l.showRepeatIndicator&&(B='<span class="repeatTvProgram guideProgramIndicator">'+c.Ay.translate("Repeat")+"</span>"),u+=B||"",P.EpisodeTitle&&l.showEpisodeTitle&&(u+='<div class="guideProgramSecondaryInfo">',P.EpisodeTitle&&l.showEpisodeTitle&&(u+='<span class="programSecondaryTitle">'+i()(P.EpisodeTitle)+"</span>"),u+="</div>"),u+="</div>",P.IsHD&&l.showHdIcon&&(b.A.tv?u+='<div class="programIcon guide-programTextIcon guide-programTextIcon-tv">HD</div>':u+='<div class="programIcon guide-programTextIcon">HD</div>'),u+=W(P),u+="</div>"}u+="</button>"}}else if(f)break}return u+"</div>"}function _(e,t){for(var r=e.ChannelId,a=-1,i=0,n=t.length;i<n;i++)if(r===t[i].Id){a=i;break}return 1e7*a+f.Ay.parseISO8601Date(e.StartDate,{toLocal:!0}).getTime()/6e4}function R(e,t,r){e.scrollTo?r?e.scrollTo(t,0):e.scrollTo(0,t):r?e.scrollLeft=Math.round(t):e.scrollTop=Math.round(t)}t.refresh=function(){h=null,G(e.element),N()},t.pause=function(){M()},t.resume=function(e){e?t.refresh():N()},t.destroy=function(){M(),d.A.off(m.default,"TimerCreated",Y),d.A.off(m.default,"TimerCancelled",J),d.A.off(m.default,"SeriesTimerCancelled",Q),X(e.element,!1),S.Ay.off(e.element),a={}};var B=0,j=0,U=0;function z(r,s,l,c,d,u){var m=function(e){return e.getMinutes()-30>=0?e.setHours(e.getHours(),30,0,0):e.setHours(e.getHours(),0,0,0),e}(s);h=m,function(r,s,l,c,d,u){var m=o.tF.getApiClient(e.serverId),f={StartIndex:0,EnableFavoriteSorting:"false"!==p.get("livetv-favoritechannelsattop")};f.UserId=m.getCurrentUserId();var h=500;H=h,O(),f.StartIndex=E,f.Limit=h,f.AddCurrentProgram=!1,f.EnableUserData=!1,f.EnableImageTypes="Primary";var S=t.categoryOptions.categories||[],A=!S.length||-1!==S.indexOf("movies"),w=!S.length||-1!==S.indexOf("sports"),C=!S.length||-1!==S.indexOf("news"),P=!S.length||-1!==S.indexOf("kids"),N=!S.length||-1!==S.indexOf("series");A&&w&&C&&P?(f.IsMovie=null,f.IsSports=null,f.IsKids=null,f.IsNews=null,f.IsSeries=null):(C&&(f.IsNews=!0),w&&(f.IsSports=!0),P&&(f.IsKids=!0),A&&(f.IsMovie=!0),N&&(f.IsSeries=!0)),"DatePlayed"===p.get("livetv-channelorder")?(f.SortBy="DatePlayed",f.SortOrder="Descending"):(f.SortBy=null,f.SortOrder=null);var M=s;M=new Date(M.getTime()+1e3);var k=new Date(M.getTime()+x-2e3),W=I.Ay.getWindowSize().innerWidth>=600,B={showHdIcon:W&&"true"===p.get("guide-indicator-hd"),showLiveIndicator:W&&"false"!==p.get("guide-indicator-live"),showPremiereIndicator:W&&"false"!==p.get("guide-indicator-premiere"),showNewIndicator:W&&"false"!==p.get("guide-indicator-new"),showRepeatIndicator:W&&"true"===p.get("guide-indicator-repeat"),showEpisodeTitle:!b.A.tv};m.getLiveTvChannels(f).then((function(e){var t=r.querySelector(".btnPreviousPage"),o=r.querySelector(".btnNextPage");e.TotalRecordCount>h?(r.querySelector(".guideOptions").classList.remove("hide"),t.classList.remove("hide"),o.classList.remove("hide"),f.StartIndex?r.querySelector(".btnPreviousPage").disabled=!1:r.querySelector(".btnPreviousPage").disabled=!0,f.StartIndex+h<e.TotalRecordCount?o.disabled=!1:o.disabled=!0):r.querySelector(".guideOptions").classList.add("hide");var s=[],p={UserId:m.getCurrentUserId(),MaxStartDate:k.toISOString(),MinEndDate:M.toISOString(),channelIds:e.Items.map((function(e){return e.Id})).join(","),ImageTypeLimit:1,EnableImages:!1,SortBy:"StartDate",EnableTotalRecordCount:!1,EnableUserData:!1};B.showHdIcon&&s.push("IsHD"),s.length&&(p.Fields=s.join("")),m.getLiveTvPrograms(p).then((function(t){var o={focusProgramOnRender:u,scrollToTimeMs:l,focusToTimeMs:c,startTimeOfDayMs:d};!function(e,t,r,o,s,l,c){o.sort((function(e,t){return _(e,r)-_(t,r)}));var d,u=document.activeElement,m=null!=u&&u.getAttribute?u.getAttribute("data-id"):null,g=null;u&&(g=null!==(d=g=I.Ay.parentWithClass(u,"channelPrograms"))&&void 0!==d&&d.getAttribute?g.getAttribute("data-channelid"):null),function(e,t,r){var a,o="",s=T(t);try{for(s.s();!(a=s.n()).done;){var l=a.value,c=l.ImageTags.Primary,d="guide-channelHeaderCell itemAction";b.A.tv&&(d+=" guide-channelHeaderCell-tv");var u=[];l.ChannelNumber&&u.push(l.ChannelNumber),l.Name&&u.push(l.Name),o+='<button title="'.concat(i()(u.join(" ")),'" type="button" class="').concat(d,'" data-action="').concat(n.s.Link,'" data-isfolder="').concat(l.IsFolder,'" data-id="').concat(l.Id,'" data-serverid="').concat(l.ServerId,'" data-type="').concat(l.Type,'">'),c&&(o+='<div class="guideChannelImage lazy" data-src="'+r.getScaledImageUrl(l.Id,{maxHeight:220,tag:l.ImageTags.Primary,type:"Primary"})+'"></div>'),l.ChannelNumber&&(o+='<h3 class="guideChannelNumber">'+l.ChannelNumber+"</h3>"),!c&&l.Name&&(o+='<div class="guideChannelName">'+i()(l.Name)+"</div>"),o+="</button>"}}catch(e){s.e(e)}finally{s.f()}var m=e.querySelector(".channelsContainer");m.innerHTML=o,y.default.lazyChildren(m)}(e,r,c);var f=t,h=new Date(f.getTime()+x);e.querySelector(".timeslotHeaders").innerHTML=function(e,t){var r="";for(e=new Date(e.getTime()),r+='<div class="timeslotHeadersInner">';e.getTime()<t;)r+='<div class="timeslotHeader">',r+=q(e),r+="</div>",e.setTime(e.getTime()+18e5);return r}(f,h),a={},function(e,t,r,a,i){var n,o={startIndex:0},s=[],l=T(r);try{for(l.s();!(n=l.n()).done;){var c=n.value;s.push(F(0,t,c,a,i,o))}}catch(e){l.e(e)}finally{l.f()}ee.innerHTML=s.join(""),D=ee.querySelectorAll("[is=emby-programcell]"),L(ee,D)}(0,t,r,o,s),l.focusProgramOnRender&&function(e,t,r,a,i){var n;if(t&&(n=e.querySelector('[data-id="'+t+'"]')),n)v.A.focus(n);else{var o;r&&(o=e.querySelector('[data-channelid="'+r+'"]')),o||(o=ee);for(var s=(a-=i)/x*100,l=o.querySelector(".programCell");l;){var c=(l.style.left||"").replace("%","");c=c?parseFloat(c):0;var d=(l.style.width||"").replace("%","");if(d=d?parseFloat(d):0,c>=s||c+d>=s)break;l=l.nextSibling}l?v.A.focus(l):v.A.autoFocus(o,!0)}}(e,m,g,l.focusToTimeMs,l.startTimeOfDayMs),function(e,t,r){var a=(t-=r)/x;ee.scrollTop=0;var i=a*ee.scrollWidth;R(ee,i,!0)}(0,l.scrollToTimeMs,l.startTimeOfDayMs)}(r,M,e.Items,t.Items,B,o,m),g.Ay.hide()}))}))}(r,m,l,c,d,u)}function V(e,t,r){var a='<button is="emby-button" class="'+(t?"emby-tab-button guide-date-tab-button emby-tab-button-active":"emby-tab-button guide-date-tab-button")+'" data-index="'+r+'" data-date="'+e.getTime()+'">',i=f.Ay.toLocaleDateString(e,{weekday:"short"});return i+="<br/>",(a+='<div class="emby-button-foreground">'+(i+=e.getDate())+"</div>")+"</button>"}function G(t){O(),o.tF.getApiClient(e.serverId).getLiveTvGuideInfo().then((function(e){!function(e,t){var r=new Date,a=r.getHours();r.setHours(a,0,0,0);var i=f.Ay.parseISO8601Date(t.StartDate,{toLocal:!0}),n=f.Ay.parseISO8601Date(t.EndDate,{toLocal:!0});i.setHours(a,0,0,0),n.setHours(0,0,0,0),i.getTime()>=n.getTime()&&n.setDate(i.getDate()+1),i=new Date(Math.max(r,i));var o="",s=0,l=new Date;h&&l.setTime(h.getTime()),l.setHours(a,0,0,0);var c=60*i.getHours()*60*1e3;for(c+=60*i.getMinutes()*1e3;i<=n;){var d=l.getDate()===i.getDate()&&l.getMonth()===i.getMonth()&&l.getFullYear()===i.getFullYear();o+=V(i,d,s),i.setDate(i.getDate()+1),i.setHours(0,0,0,0),s++}e.querySelector(".emby-tabs-slider").innerHTML=o,e.querySelector(".guideDateTabs").refresh();var u=new Date,m=u.getHours(),g=60*m*60*1e3,v=u.getMinutes();v>=30&&(g+=18e5),z(e,l,g,60*(60*m+v)*1e3,c,b.A.tv)}(t,e)}))}function $(e){var t,r=e.querySelectorAll(".programCell"),a=[],i=U+1,n=T(r);try{for(n.s();!(t=n.n()).done;){var o=t.value,s=(o.style.left||"").replace("%","");s=s?parseFloat(s):0;var l=(o.style.width||"").replace("%","");s+(l=l?parseFloat(l):0)>=i&&a.push(o)}}catch(e){n.e(e)}finally{n.f()}return a}function K(e){var t,r,a,i=e.target,n=I.Ay.parentWithClass(i,"programCell");switch(e.detail.command){case"up":n?(t=ee,(a=I.Ay.parentWithClass(n,"channelPrograms").previousSibling)?(r=$(a)).length?t=a:r=null:t=null):t=null,C=e.detail.command,v.A.moveUp(i,{container:t,focusableElements:r});break;case"down":n?(t=ee,(a=I.Ay.parentWithClass(n,"channelPrograms").nextSibling)?(r=$(a)).length?t=a:r=null:t=null):t=null,C=e.detail.command,v.A.moveDown(i,{container:t,focusableElements:r});break;case"left":(t=n?I.Ay.parentWithClass(n,"channelPrograms"):null)&&!n.previousSibling&&(t=null),C=e.detail.command,v.A.moveLeft(i,{container:t});break;case"right":t=n?I.Ay.parentWithClass(n,"channelPrograms"):null,C=e.detail.command,v.A.moveRight(i,{container:t});break;default:return}e.preventDefault(),e.stopPropagation()}function X(e,t){if(b.A.tv){var r=e.querySelector(".guideVerticalScroller");t?s.default.on(r,K):s.default.off(r,K)}}function Y(t,r,a){var i,n=a.ProgramId,o=a.Id,s=T(e.element.querySelectorAll('.programCell[data-id="'+n+'"]'));try{for(s.s();!(i=s.n()).done;){var l=i.value;l.querySelector(".timerIcon")||l.querySelector(".guideProgramName").insertAdjacentHTML("beforeend",'<span class="timerIcon material-icons programIcon fiber_manual_record"></span>'),o&&l.setAttribute("data-timerid",o)}}catch(e){s.e(e)}finally{s.f()}}function J(t,r,a){var i,n=a.Id,o=T(e.element.querySelectorAll('.programCell[data-timerid="'+n+'"]'));try{for(o.s();!(i=o.n()).done;){var s=i.value,l=s.querySelector(".timerIcon");l&&l.parentNode.removeChild(l),s.removeAttribute("data-timerid")}}catch(e){o.e(e)}finally{o.f()}}function Q(t,r,a){var i,n=a.Id,o=T(e.element.querySelectorAll('.programCell[data-seriestimerid="'+n+'"]'));try{for(o.s();!(i=o.n()).done;){var s=i.value,l=s.querySelector(".seriesTimerIcon");l&&l.parentNode.removeChild(l),s.removeAttribute("data-seriestimerid")}}catch(e){o.e(e)}finally{o.f()}}var Z=e.element;Z.classList.add("tvguide"),Z.innerHTML=c.Ay.translateHtml('<div class="tvGuideHeader"> <div class="guideHeaderDateSelection"> <div is="emby-tabs" class="guideDateTabs focuscontainer-x" data-selectionbar="false"> <div class="emby-tabs-slider guideDateTabsSlider"> </div> </div> </div> <div class="guide-headerTimeslots"> <div class="guide-channelTimeslotHeader"> <button is="paper-icon-button-light" type="button" class="btnGuideViewSettings" title="${ButtonMore}"> <span class="material-icons btnGuideViewSettingsIcon more_vert" aria-hidden="true"></span> </button> </div> <div class="timeslotHeaders scrollX guideScroller"></div> </div> </div> <div is="emby-scroller" class="guideVerticalScroller flex flex-grow programContainer guideScroller" data-skipfocuswhenvisible="true" data-horizontal="false"> <div class="scrollSlider flex flex-grow flex-direction-row" style="overflow:hidden;contain:layout style paint"> <div class="channelsContainer"> <div class="channelList"></div> </div> <div class="programGrid scrollX guideScroller flex-grow focuscontainer-right" style="white-space:nowrap"> </div> </div> </div> <div class="guideOptions hide"> <button is="paper-icon-button-light" type="button" class="btnPreviousPage" title="${Previous}"> <span class="material-icons arrow_back" aria-hidden="true"></span> </button> <button is="paper-icon-button-light" type="button" class="btnNextPage" title="${Next}"> <span class="material-icons arrow_forward" aria-hidden="true"></span> </button> </div> ',"core");var ee=Z.querySelector(".programGrid"),te=Z.querySelector(".timeslotHeaders");b.A.tv?I.Ay.addEventListener(Z.querySelector(".guideVerticalScroller"),"focus",(function(e){var r=e.target,i=I.Ay.parentWithClass(r,"programCell");if(i){var n=r.getAttribute("data-id"),o=a[n];o&&d.A.trigger(t,"focus",[{item:o}])}if("left"===C)i&&u.default.toStart(ee,i,!0,!0);else if("right"===C)i&&u.default.toCenter(ee,i,!0,!0);else if("up"===C||"down"===C){var s=I.Ay.parentWithClass(r,"guideVerticalScroller");if(s){var l=i||I.Ay.parentWithTag(r,"BUTTON");s.toCenter(l,!0)}}}),{capture:!0,passive:!0}):b.A.desktop&&te.classList.add("timeslotHeaders-desktop"),(l.A.iOS||l.A.osx)&&(Z.querySelector(".channelsContainer").classList.add("noRubberBanding"),ee.classList.add("noRubberBanding")),I.Ay.addEventListener(ee,"scroll",(function(){!function(e,t,r){if((new Date).getTime()-j>=1e3){B=(new Date).getTime();var a=t.scrollLeft;U=100*a/t.scrollWidth,R(r,a,!0)}L(t,D)}(0,this,te)}),{passive:!0}),I.Ay.addEventListener(te,"scroll",(function(){(new Date).getTime()-B>=1e3&&(j=(new Date).getTime(),R(ee,this.scrollLeft,!0))}),{passive:!0}),ee.addEventListener("click",P),Z.querySelector(".btnNextPage").addEventListener("click",(function(){E+=H,G(Z),N()})),Z.querySelector(".btnPreviousPage").addEventListener("click",(function(){E=Math.max(E-H,0),G(Z),N()})),Z.querySelector(".btnGuideViewSettings").addEventListener("click",(function(){var e;e=t,r.e(25029).then(r.bind(r,25029)).then((function(t){t.default.show(e.categoryOptions).then((function(){e.refresh()}))})),N()})),Z.querySelector(".guideDateTabs").addEventListener("tabchange",(function(e){var t=e.target.querySelectorAll(".guide-date-tab-button"),r=t[parseInt(e.detail.selectedTabIndex,10)];if(r){var a=null==e.detail.previousIndex?null:t[parseInt(e.detail.previousIndex,10)],i=new Date;i.setTime(parseInt(r.getAttribute("data-date"),10));var n,o=ee.scrollWidth;if(n=o?ee.scrollLeft/o*x:0,a){var s=new Date;s.setTime(parseInt(a.getAttribute("data-date"),10)),n+=60*s.getHours()*60*1e3,n+=60*s.getMinutes()*1e3}var l=60*i.getHours()*60*1e3;l+=60*i.getMinutes()*1e3,z(Z,i,n,n,l,!1)}})),X(Z,!0),S.Ay.on(Z),d.A.trigger(t,"load"),d.A.on(m.default,"TimerCreated",Y),d.A.on(m.default,"TimerCancelled",J),d.A.on(m.default,"SeriesTimerCancelled",Q),t.refresh()}},41765:function(e,t,r){"use strict";r(44962),r(78557),r(90076),r(83994),r(82367);var a=r(4113),i=r(36300),n=r(46782),o=r(38490),s=r(9164),l=r(34789),c=(r(69177),Object.create(HTMLDivElement.prototype));function d(e){var t=e.detail.command;"end"===t?(s.A.focusLast(this,"."+this.getAttribute("data-navcommands")),e.preventDefault(),e.stopPropagation()):"pageup"===t?(s.A.moveFocus(e.target,this,"."+this.getAttribute("data-navcommands"),-12),e.preventDefault(),e.stopPropagation()):"pagedown"===t&&(s.A.moveFocus(e.target,this,"."+this.getAttribute("data-navcommands"),12),e.preventDefault(),e.stopPropagation())}c.createdCallback=function(){this.classList.add("emby-scroller")},c.scrollToBeginning=function(){this.scroller&&this.scroller.slideTo(0,!0)},c.toStart=function(e,t){this.scroller&&this.scroller.toStart(e,t)},c.toCenter=function(e,t){this.scroller&&this.scroller.toCenter(e,t)},c.scrollToPosition=function(e,t){this.scroller&&this.scroller.slideTo(e,t)},c.getScrollPosition=function(){if(this.scroller)return this.scroller.getScrollPosition()},c.getScrollSize=function(){if(this.scroller)return this.scroller.getScrollSize()},c.getScrollEventName=function(){if(this.scroller)return this.scroller.getScrollEventName()},c.getScrollSlider=function(){if(this.scroller)return this.scroller.getScrollSlider()},c.addScrollEventListener=function(e,t){this.scroller&&i.Ay.addEventListener(this.scroller.getScrollFrame(),this.scroller.getScrollEventName(),e,t)},c.removeScrollEventListener=function(e,t){this.scroller&&i.Ay.removeEventListener(this.scroller.getScrollFrame(),this.scroller.getScrollEventName(),e,t)},c.attachedCallback=function(){this.getAttribute("data-navcommands")&&o.default.on(this,d);var e="false"!==this.getAttribute("data-horizontal"),t=this.querySelector(".scrollSlider");e&&(t.style["white-space"]="nowrap");var c,u,m=n.A.desktop&&e&&"false"!==this.getAttribute("data-scrollbuttons"),g={horizontal:e,mouseDragging:1,mouseWheel:"false"!==this.getAttribute("data-mousewheel"),touchDragging:1,slidee:t,scrollBy:200,speed:e?270:240,elasticBounds:1,dragHandle:1,autoImmediate:!0,skipSlideToWhenVisible:"true"===this.getAttribute("data-skipfocuswhenvisible"),dispatchScrollEvent:m||"true"===this.getAttribute("data-scrollevent"),hideScrollbar:m||"true"===this.getAttribute("data-hidescrollbar"),allowNativeSmoothScroll:"true"===this.getAttribute("data-allownativesmoothscroll")&&!m,allowNativeScroll:!m,forceHideScrollbars:m,requireAnimation:m&&l.A.edge};this.scroller=new a.A(this,g),this.scroller.init(),this.scroller.reload(),n.A.tv&&this.getAttribute("data-centerfocus")&&(c=this.scroller,i.Ay.addEventListener(this,"focus",(function(e){var t=s.A.focusableParent(e.target);t&&c.toCenter(t)}),{capture:!0,passive:!0})),m&&(u=this,r.e(49275).then(r.bind(r,49275)).then((function(){u.insertAdjacentHTML("beforebegin",'<div is="emby-scrollbuttons" class="emby-scrollbuttons padded-right"></div>')})))},c.pause=function(){var e=this.headroom;e&&e.pause()},c.resume=function(){var e=this.headroom;e&&e.resume()},c.detachedCallback=function(){this.getAttribute("data-navcommands")&&o.default.off(this,d);var e=this.headroom;e&&(e.destroy(),this.headroom=null);var t=this.scroller;t&&(t.destroy(),this.scroller=null)},document.registerElement("emby-scroller",{prototype:c,extends:"div"})},57447:function(){var e=Object.create(HTMLButtonElement.prototype);e.detachedCallback=function(){this.posLeft=null,this.posWidth=null,this.guideProgramName=null},document.registerElement("emby-programcell",{prototype:e,extends:"button"})}}]);