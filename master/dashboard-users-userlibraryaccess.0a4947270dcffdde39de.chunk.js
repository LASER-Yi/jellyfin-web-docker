"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[77182,49213,23976],{1015:function(e,s,i){i.r(s),i(27471),i(61013),i(98010),i(63238),i(5769),i(61418),i(17460),i(14078),i(72326);var c=i(28540),a=i(71487),n=i(94994),t=i(60635),r=i(56663),l=i(85951);function o(e){var s=document.createEvent("HTMLEvents");s.initEvent("change",!1,!0),e.dispatchEvent(s)}function d(){var e=$(this).parents(".page");c.ZP.show();var s=(0,l.a)("userId");return ApiClient.getUser(s).then((function(s){!function(e,s){e.Policy.EnableAllFolders=$("#chkEnableAllFolders",s).is(":checked"),e.Policy.EnabledFolders=e.Policy.EnableAllFolders?[]:$(".chkFolder",s).get().filter((function(e){return e.checked})).map((function(e){return e.getAttribute("data-id")})),e.Policy.EnableAllChannels=$("#chkEnableAllChannels",s).is(":checked"),e.Policy.EnabledChannels=e.Policy.EnableAllChannels?[]:$(".chkChannel",s).get().filter((function(e){return e.checked})).map((function(e){return e.getAttribute("data-id")})),e.Policy.EnableAllDevices=$("#chkEnableAllDevices",s).is(":checked"),e.Policy.EnabledDevices=e.Policy.EnableAllDevices?[]:$(".chkDevice",s).get().filter((function(e){return e.checked})).map((function(e){return e.getAttribute("data-id")})),e.Policy.BlockedChannels=null,e.Policy.BlockedMediaFolders=null,ApiClient.updateUserPolicy(e.Id,e.Policy).then((function(){c.ZP.hide(),(0,r.Z)(n.ZP.translate("SettingsSaved"))}))}(s,e)})),!1}$(document).on("pageinit","#userLibraryAccessPage",(function(){var e=this;$("#chkEnableAllDevices",e).on("change",(function(){this.checked?$(".deviceAccessListContainer",e).hide():$(".deviceAccessListContainer",e).show()})),$("#chkEnableAllChannels",e).on("change",(function(){this.checked?$(".channelAccessListContainer",e).hide():$(".channelAccessListContainer",e).show()})),e.querySelector("#chkEnableAllFolders").addEventListener("change",(function(){this.checked?e.querySelector(".folderAccessListContainer").classList.add("hide"):e.querySelector(".folderAccessListContainer").classList.remove("hide")})),$(".userLibraryAccessForm").off("submit",d).on("submit",d)})).on("pageshow","#userLibraryAccessPage",(function(){var e,s=this;c.ZP.show();var i=(0,l.a)("userId");if(i)e=ApiClient.getUser(i);else{var r=$.Deferred();r.resolveWith(null,[{Configuration:{}}]),e=r.promise()}var d=t.default.getCurrentUser(),h=ApiClient.getJSON(ApiClient.getUrl("Library/MediaFolders",{IsHidden:!1})),u=ApiClient.getJSON(ApiClient.getUrl("Channels")),v=ApiClient.getJSON(ApiClient.getUrl("Devices"));Promise.all([e,d,h,u,v]).then((function(e){!function(e,s,i,t,r,l){e.querySelector(".username").innerHTML=s.Name,a.default.setTitle(s.Name),function(e,s,i){var c="";c+='<h3 class="checkboxListLabel">'+n.ZP.translate("Channels")+"</h3>",c+='<div class="checkboxList paperList checkboxList-paperList">';for(var a=0,t=i.length;a<t;a++){var r=i[a],l=s.Policy.EnableAllChannels||-1!=s.Policy.EnabledChannels.indexOf(r.Id)?' checked="checked"':"";c+='<label><input type="checkbox" is="emby-checkbox" class="chkChannel" data-id="'+r.Id+'" '+l+"><span>"+r.Name+"</span></label>"}c+="</div>",$(".channelAccess",e).show().html(c),i.length?$(".channelAccessContainer",e).show():$(".channelAccessContainer",e).hide();var d=e.querySelector("#chkEnableAllChannels");d.checked=s.Policy.EnableAllChannels,o(d)}(e,s,r),function(e,s,i){var c="";c+='<h3 class="checkboxListLabel">'+n.ZP.translate("HeaderLibraries")+"</h3>",c+='<div class="checkboxList paperList checkboxList-paperList">';for(var a=0,t=i.length;a<t;a++){var r=i[a],l=s.Policy.EnableAllFolders||-1!=s.Policy.EnabledFolders.indexOf(r.Id)?' checked="checked"':"";c+='<label><input type="checkbox" is="emby-checkbox" class="chkFolder" data-id="'+r.Id+'" '+l+"><span>"+r.Name+"</span></label>"}c+="</div>",e.querySelector(".folderAccess").innerHTML=c;var d=e.querySelector("#chkEnableAllFolders");d.checked=s.Policy.EnableAllFolders,o(d)}(e,s,t),function(e,s,i){var c="";c+='<h3 class="checkboxListLabel">'+n.ZP.translate("HeaderDevices")+"</h3>",c+='<div class="checkboxList paperList checkboxList-paperList">';for(var a=0,t=i.length;a<t;a++){var r=i[a],l=s.Policy.EnableAllDevices||-1!=s.Policy.EnabledDevices.indexOf(r.Id)?' checked="checked"':"";c+='<label><input type="checkbox" is="emby-checkbox" class="chkDevice" data-id="'+r.Id+'" '+l+"><span>"+r.Name+" - "+r.AppName+"</span></label>"}c+="</div>",$(".deviceAccess",e).show().html(c);var d=e.querySelector("#chkEnableAllDevices");d.checked=s.Policy.EnableAllDevices,o(d),s.Policy.IsAdministrator?e.querySelector(".deviceAccessContainer").classList.add("hide"):e.querySelector(".deviceAccessContainer").classList.remove("hide")}(e,s,l),c.ZP.hide()}(s,e[0],e[1],e[2].Items,e[3].Items,e[4].Items)}))}))},51869:function(e,s,i){s.ZP={getDeviceIcon:function(e){switch(e.AppName||e.Client){case"Samsung Smart TV":return"assets/img/devices/samsung.svg";case"Xbox One":return"assets/img/devices/xbox.svg";case"Sony PS4":return"assets/img/devices/playstation.svg";case"Kodi":case"Kodi JellyCon":return"assets/img/devices/kodi.svg";case"Jellyfin Android":case"AndroidTV":case"Android TV":return"assets/img/devices/android.svg";case"Jellyfin Mobile (iOS)":case"Jellyfin Mobile (iPadOS)":case"Jellyfin iOS":case"Infuse":return"assets/img/devices/apple.svg";case"Home Assistant":return"assets/img/devices/home-assistant.svg";case"Jellyfin Roku":return"assets/img/devices/roku.svg";case"Finamp":return"assets/img/devices/finamp.svg";case"Jellyfin Web":return function(e){switch(e){case"Opera":case"Opera TV":case"Opera Android":return"assets/img/devices/opera.svg";case"Chrome":case"Chrome Android":return"assets/img/devices/chrome.svg";case"Firefox":case"Firefox Android":return"assets/img/devices/firefox.svg";case"Safari":case"Safari iPad":case"Safari iPhone":return"assets/img/devices/safari.svg";case"Edge Chromium":case"Edge Chromium Android":case"Edge Chromium iPad":case"Edge Chromium iPhone":return"assets/img/devices/edgechromium.svg";case"Edge":return"assets/img/devices/edge.svg";case"Internet Explorer":return"assets/img/devices/msie.svg";default:return"assets/img/devices/html5.svg"}}(e.Name||e.DeviceName);default:return"assets/img/devices/other.svg"}},getLibraryIcon:function(e){switch(e){case"movies":return"video_library";case"music":return"library_music";case"photos":case"homevideos":return"photo_library";case"livetv":return"live_tv";case"tvshows":return"tv";case"trailers":return"local_movies";case"musicvideos":return"music_video";case"books":return"library_books";case"channels":return"videocam";case"playlists":return"view_list";default:return"folder"}}}}}]);