/*! For license information please see 73233.fa1961c31f1a488747ab.chunk.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[52011,73233],{145:function(e){e.exports=function(){"use strict";function e(){return"undefined"!=typeof window}function t(e){return(o=e)&&o.document&&function(e){return 9===e.nodeType}(o.document)?(n=(t=e).document,a=n.body,i=n.documentElement,{scrollHeight:function(){return Math.max(a.scrollHeight,i.scrollHeight,a.offsetHeight,i.offsetHeight,a.clientHeight,i.clientHeight)},height:function(){return t.innerHeight||i.clientHeight||a.clientHeight},scrollY:function(){return void 0!==t.pageYOffset?t.pageYOffset:(i||a.parentNode||a).scrollTop}}):function(e){return{scrollHeight:function(){return Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight)},height:function(){return Math.max(e.offsetHeight,e.clientHeight)},scrollY:function(){return e.scrollTop}}}(e);var t,n,a,i,o}function n(e,n,a){var i,o=function(){var e=!1;try{var t={get passive(){e=!0}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){e=!1}return e}(),r=!1,s=t(e),l=s.scrollY(),c={};function u(){var e=Math.round(s.scrollY()),t=s.height(),i=s.scrollHeight();c.scrollY=e,c.lastScrollY=l,c.direction=e>l?"down":"up",c.distance=Math.abs(e-l),c.isOutOfBounds=e<0||e+t>i,c.top=e<=n.offset[c.direction],c.bottom=e+t>=i,c.toleranceExceeded=c.distance>n.tolerance[c.direction],a(c),l=e,r=!1}function d(){r||(r=!0,i=requestAnimationFrame(u))}var h=!!o&&{passive:!0,capture:!1};return e.addEventListener("scroll",d,h),u(),{destroy:function(){cancelAnimationFrame(i),e.removeEventListener("scroll",d,h)}}}function a(e){return e===Object(e)?e:{down:e,up:e}}function i(e,t){t=t||{},Object.assign(this,i.options,t),this.classes=Object.assign({},i.options.classes,t.classes),this.elem=e,this.tolerance=a(this.tolerance),this.offset=a(this.offset),this.initialised=!1,this.frozen=!1}return i.prototype={constructor:i,init:function(){return i.cutsTheMustard&&!this.initialised&&(this.addClass("initial"),this.initialised=!0,setTimeout((function(e){e.scrollTracker=n(e.scroller,{offset:e.offset,tolerance:e.tolerance},e.update.bind(e))}),100,this)),this},destroy:function(){this.initialised=!1,Object.keys(this.classes).forEach(this.removeClass,this),this.scrollTracker.destroy()},unpin:function(){!this.hasClass("pinned")&&this.hasClass("unpinned")||(this.addClass("unpinned"),this.removeClass("pinned"),this.onUnpin&&this.onUnpin.call(this))},pin:function(){this.hasClass("unpinned")&&(this.addClass("pinned"),this.removeClass("unpinned"),this.onPin&&this.onPin.call(this))},freeze:function(){this.frozen=!0,this.addClass("frozen")},unfreeze:function(){this.frozen=!1,this.removeClass("frozen")},top:function(){this.hasClass("top")||(this.addClass("top"),this.removeClass("notTop"),this.onTop&&this.onTop.call(this))},notTop:function(){this.hasClass("notTop")||(this.addClass("notTop"),this.removeClass("top"),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){this.hasClass("bottom")||(this.addClass("bottom"),this.removeClass("notBottom"),this.onBottom&&this.onBottom.call(this))},notBottom:function(){this.hasClass("notBottom")||(this.addClass("notBottom"),this.removeClass("bottom"),this.onNotBottom&&this.onNotBottom.call(this))},shouldUnpin:function(e){return"down"===e.direction&&!e.top&&e.toleranceExceeded},shouldPin:function(e){return"up"===e.direction&&e.toleranceExceeded||e.top},addClass:function(e){this.elem.classList.add.apply(this.elem.classList,this.classes[e].split(" "))},removeClass:function(e){this.elem.classList.remove.apply(this.elem.classList,this.classes[e].split(" "))},hasClass:function(e){return this.classes[e].split(" ").every((function(e){return this.classList.contains(e)}),this.elem)},update:function(e){e.isOutOfBounds||!0!==this.frozen&&(e.top?this.top():this.notTop(),e.bottom?this.bottom():this.notBottom(),this.shouldUnpin(e)?this.unpin():this.shouldPin(e)&&this.pin())}},i.options={tolerance:{up:0,down:0},offset:0,scroller:e()?window:null,classes:{frozen:"headroom--frozen",pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},i.cutsTheMustard=!!(e()&&function(){}.bind&&"classList"in document.documentElement&&Object.assign&&Object.keys&&requestAnimationFrame),i}()},1724:function(e,t,n){"use strict";n.r(t),n(29305),n(32733),n(84701),n(81678),n(44962),n(86584),n(4754),n(94),n(36947),n(78557),n(83994),n(82367);var a=n(45568),i=n(8566),o=n(71866),r=n(62882),s=n(5898),l=n(39387),c=n(38829),u=n(67430),d=n(38783),h=n(44797);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function y(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,f(a.key),a)}}function f(e){var t=function(e){if("object"!=p(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==p(t)?t:t+""}var m=new(function(){return e=function e(){var t,n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.syncPlayEnabled=!1,this.SyncPlay=null===(t=c.X.firstOfType(d.Q.SyncPlay))||void 0===t?void 0:t.instance,this.SyncPlay&&h.A.on(this.SyncPlay.Manager,"enabled",(function(e,t){n.syncPlayEnabled=t})),h.A.on(c.X,"registered",(function(e,t){t.type===d.Q.SyncPlay&&(n.SyncPlay=t.instance,h.A.on(t.instance.Manager,"enabled",(function(e,t){n.syncPlayEnabled=t})))}))},(t=[{key:"showNewJoinGroupSelection",value:function(e,t,n){var a=t.localUser?t.localUser.Policy:{};n.getSyncPlayGroups().then((function(l){l.json().then((function(l){var c=l.map((function(e){return{name:e.GroupName,icon:"person",id:e.GroupId,selected:!1,secondaryText:e.Participants.join(", ")}}));if("CreateAndJoinGroups"===a.SyncPlayAccess&&c.push({name:s.Ay.translate("LabelSyncPlayNewGroup"),icon:"add",id:"new-group",selected:!0,secondaryText:s.Ay.translate("LabelSyncPlayNewGroupDescription")}),0===c.length&&"JoinGroups"===a.SyncPlayAccess)return(0,o.A)({text:s.Ay.translate("MessageSyncPlayCreateGroupDenied")}),void i.Ay.hide();var u={title:s.Ay.translate("HeaderSyncPlaySelectGroup"),items:c,positionTo:e,border:!0,dialogClass:"syncPlayGroupMenu"};r.default.show(u).then((function(e){"new-group"==e?n.createSyncPlayGroup({GroupName:s.Ay.translate("SyncPlayGroupDefaultTitle",t.localUser.Name)}):e&&n.joinSyncPlayGroup({GroupId:e})})).catch((function(e){e&&console.error("SyncPlay: unexpected error listing groups:",e)})),i.Ay.hide()}))})).catch((function(e){console.error(e),i.Ay.hide(),(0,o.A)({text:s.Ay.translate("MessageSyncPlayErrorAccessingGroups")})}))}},{key:"showLeaveGroupSelection",value:function(e,t,n){var o,l,c,u,d=this,h=null===(o=this.SyncPlay)||void 0===o?void 0:o.Manager.getGroupInfo(),p=[];null!==(l=this.SyncPlay)&&void 0!==l&&l.Manager.isPlaylistEmpty()||null!==(c=this.SyncPlay)&&void 0!==c&&c.Manager.isPlaybackActive()?null!==(u=this.SyncPlay)&&void 0!==u&&u.Manager.isPlaybackActive()&&p.push({name:s.Ay.translate("LabelSyncPlayHaltPlayback"),icon:"pause_circle_filled",id:"halt-playback",selected:!1,secondaryText:s.Ay.translate("LabelSyncPlayHaltPlaybackDescription")}):p.push({name:s.Ay.translate("LabelSyncPlayResumePlayback"),icon:"play_circle_filled",id:"resume-playback",selected:!1,secondaryText:s.Ay.translate("LabelSyncPlayResumePlaybackDescription")}),p.push({name:s.Ay.translate("Settings"),icon:"video_settings",id:"settings",selected:!1,secondaryText:s.Ay.translate("LabelSyncPlaySettingsDescription")}),p.push({name:s.Ay.translate("LabelSyncPlayLeaveGroup"),icon:"meeting_room",id:"leave-group",selected:!0,secondaryText:s.Ay.translate("LabelSyncPlayLeaveGroupDescription")});var y={title:h.GroupName,text:h.Participants.join(", "),dialogClass:"syncPlayGroupMenu",items:p,positionTo:e,border:!0};r.default.show(y).then((function(e){var t;if("resume-playback"==e)null===(t=d.SyncPlay)||void 0===t||t.Manager.resumeGroupPlayback(n);else if("halt-playback"==e){var i;null===(i=d.SyncPlay)||void 0===i||i.Manager.haltGroupPlayback(n)}else if("leave-group"==e)n.leaveSyncPlayGroup();else if("settings"==e){var o;new a.default(n,null===(o=d.SyncPlay)||void 0===o?void 0:o.Manager.getTimeSyncCore(),{groupInfo:h}).embed().catch((function(e){e&&console.error("Error creating SyncPlay settings editor",e)}))}})).catch((function(e){e&&console.error("SyncPlay: unexpected error showing group menu:",e)})),i.Ay.hide()}},{key:"show",value:function(e){var t=this;i.Ay.show(),l.default.check().then((function(){console.debug("Playback is allowed.")})).catch((function(e){console.error("Playback not allowed!",e),(0,o.A)({text:s.Ay.translate("MessageSyncPlayPlaybackPermissionRequired")})}));var n=u.tF.currentApiClient();u.tF.user(n).then((function(a){t.syncPlayEnabled?t.showLeaveGroupSelection(e,a,n):t.showNewJoinGroupSelection(e,a,n)})).catch((function(e){console.error(e),i.Ay.hide(),(0,o.A)({text:s.Ay.translate("MessageSyncPlayNoGroupsAvailable")})}))}}])&&y(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}());t.default=m},39387:function(e,t,n){"use strict";n.r(t),n(29305),n(32733),n(84701),n(81678),n(44962),n(4754),n(94),n(36947),n(78557),n(90076),n(45309),n(83994),n(82367);var a=n(22622),i=n(97339);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,s(a.key),a)}}function s(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}var l=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},(t=[{key:"check",value:function(){if(a.g.supports(i.Y.HtmlAudioAutoplay))return Promise.resolve(!0);var e,t=((e=document.createElement("audio")).classList.add("testMediaPlayerAudio"),e.classList.add("hide"),document.body.appendChild(e),e.volume=1,e.src="assets/audio/silence.mp3",e);return t.play().finally((function(){!function(e){e.pause(),e.remove()}(t)}))}}])&&r(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();t.default=new l},59721:function(e,t,n){"use strict";n.d(t,{D:function(){return c},q:function(){return l}});var a=n(41364),i=n(8280),o=n(61586),r=n(69410),s=function(){return s=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)},l=function(e,t,n){return(0,i.j)({queryKey:["User",t,"Views",n],queryFn:function(i){var o=i.signal;return function(e,t,n,i){return o=void 0,r=void 0,c=function(){return function(e,t){var n,a,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},r=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return r.next=s(0),r.throw=s(1),r.return=s(2),"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(o=0)),o;)try{if(n=1,a&&(i=2&s[0]?a.return:s[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,s[1])).done)return i;switch(a=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,a=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],a=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(o){switch(o.label){case 0:return[4,(0,a.a)(e).getUserViews(s(s({},n),{userId:t}),i)];case 1:return[2,o.sent().data]}}))},new((l=void 0)||(l=Promise))((function(e,t){function n(e){try{i(c.next(e))}catch(e){t(e)}}function a(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof l?i:new l((function(e){e(i)}))).then(n,a)}i((c=c.apply(o,r||[])).next())}));var o,r,l,c}(e,t,n,{signal:o})},staleTime:1e3,enabled:!!e&&!!t})},c=function(e,t){var n=(0,r.gf)().api;return(0,o.I)(l(n,e,t))}},73233:function(e,t,n){"use strict";n.r(t),n(29305),n(32733),n(84701),n(24776),n(69892),n(84734),n(44962),n(86584),n(89336),n(77575),n(78557),n(90076),n(95021),n(73687),n(83994),n(23630),n(82367);var a,i,o,r,s,l,c=n(22696),u=n.n(c),d=n(145),h=n.n(d),p=(n(92600),n(97339)),y=n(59721),f=n(5898),m=n(67430),v=n(42538),b=n(75384),g=n(31297),S=n(47629),L=n(46782),A=n(38490),P=n(62156),w=n(70267),T=n(22622),M=n(39738),k=n(38829),B=n(1724),O=n(34789),C=n(32203),E=n(51876),x=n(89100),H=n(38783),I=n(44797),q=n(83375),G=n(98320);function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function U(){var e;return null!==(e=ie)&&void 0!==e&&e.localUser?m.tF.getApiClient(ie.localUser.ServerId):m.tF.currentApiClient()}function j(){ne&&(ne.title=f.Ay.translate("ButtonBack")),s&&(s.title=f.Ay.translate("Home")),r&&(r.title=f.Ay.translate("Menu")),le&&(le.title=f.Ay.translate("ButtonSyncPlay")),se&&(se.title=f.Ay.translate("ButtonPlayer")),oe&&(oe.title=f.Ay.translate("ButtonCast")),re&&(re.title=f.Ay.translate("Search")),ae&&(ae.title=f.Ay.translate("Settings"))}function N(e){var t;if(j(),null!=e&&e.name?(e.imageUrl&&(F(e.imageUrl),t=!0),ae.title=e.name,ae.classList.remove("hide")):ae.classList.add("hide"),t||F(null),null!=e&&e.localUser){s&&s.classList.remove("hide"),re&&re.classList.remove("hide"),L.A.tv||oe.classList.remove("hide");var n=e.Policy?e.Policy:e.localUser.Policy;le&&k.X.ofType(H.Q.SyncPlay).length>0&&"None"!==(null==n?void 0:n.SyncPlayAccess)&&le.classList.remove("hide")}else s.classList.add("hide"),oe.classList.add("hide"),le.classList.add("hide"),re&&re.classList.add("hide");fe=!1}function F(e){e?(ae.classList.add("headerUserButtonRound"),ae.innerHTML='<div class="headerButton headerButtonRight paper-icon-button-light headerUserButtonRound" style="background-image:url(\''+e+"');\"></div>"):(ae.classList.remove("headerUserButtonRound"),ae.innerHTML='<span class="material-icons person" aria-hidden="true"></span>')}function R(){o.isVisible?_():o.open()}function _(){o.close()}function z(){o.isVisible?L.A.mobile&&document.body.classList.add("bodyWithPopupOpen"):document.body.classList.remove("bodyWithPopupOpen")}function Y(){var e=this.getElementsByClassName("sectionName")[0],t=e?e.innerHTML:this.innerHTML;ge.setTitle(t)}function W(e){if(!e)return void((t=document.querySelector(".userMenuOptions"))&&t.classList.add("hide"));var t,n=x.default.getCurrentUserId(),a=U(),i=document.querySelector(".customMenuOptions");i&&(0,E.T5)().then((function(e){e.forEach((function(e){var t=document.createElement("a","emby-linkbutton");t.classList.add("navMenuOption","lnkMediaFolder"),t.rel="noopener noreferrer",t.target="_blank",t.href=e.url;var n=document.createElement("span");n.className="material-icons navMenuOptionIcon ".concat(e.icon||"link"),n.setAttribute("aria-hidden","true"),t.appendChild(n);var a=document.createElement("span");a.className="navMenuOptionText",a.textContent=e.name,t.appendChild(a),i.appendChild(t)}))}));var o=document.querySelector(".libraryMenuOptions");o&&function(e,t){return g.q.fetchQuery((0,y.q)((0,b.C)(e),t)).then((function(e){for(var t=e.Items,n=[],a=0,i=t.length;a<i;a++){var o=t[a];if(n.push(o),"livetv"==o.CollectionType){o.icon="live_tv";var r=Object.assign({},o);r.Name=f.Ay.translate("Guide"),r.ImageTags={},r.icon="dvr",r.url="#/livetv?tab=1",n.push(r)}}return n}))}(a,n).then((function(e){var t=e,n='<h3 class="sidebarHeader">'.concat(f.Ay.translate("HeaderMedia"),"</h3>");n+=t.map((function(e){var t,n,a=e.icon||C.Ay.getLibraryIcon(e.CollectionType),i=e.Id;return'<a is="emby-linkbutton" data-itemid="'.concat(i,'" class="lnkMediaFolder navMenuOption" href="').concat((t=e,n=e.CollectionType,w.appRouter.getRouteUrl(t,{context:n})),'">\n                                    <span class="material-icons navMenuOptionIcon ').concat(a,'" aria-hidden="true"></span>\n                                    <span class="sectionName navMenuOptionText">').concat(u()(e.Name),"</span>\n                                  </a>")})).join(""),o.innerHTML=n;var a,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return D(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw o}}}}(o.querySelectorAll(".navMenuOption"));try{for(i.s();!(a=i.n()).done;){var r=a.value;r.removeEventListener("click",Y),r.addEventListener("click",Y)}}catch(e){i.e(e)}finally{i.f()}}))}function V(){return(0,q.E)("topParentId")||null}function J(e){S.Ay.parentWithTag(e.target,"A")&&setTimeout(_,30)}function Q(){x.default.selectServer()}function X(){x.default.navigate("mypreferencesmenu")}function K(){T.g.exit()}function $(){x.default.logout()}function Z(){var e=document,t=M.f.getPlayerInfo(),n=oe.querySelector(".material-icons");n.classList.remove("cast_connected","cast"),t&&!t.isLocalPlayer?(n.classList.add("cast_connected"),oe.classList.add("castButton-active"),e.querySelector(".headerSelectedPlayer").innerText=t.deviceName||t.name):(n.classList.add("cast"),oe.classList.remove("castButton-active"),e.querySelector(".headerSelectedPlayer").innerHTML="")}function ee(){return o?Promise.resolve(o):(a=document.querySelector(".mainDrawer"),(i=a.querySelector(".scrollContainer")).addEventListener("click",J),new Promise((function(e){n.e(69881).then(n.bind(n,69881)).then((function(t){var n,i=t.default;o=new i((n=window.screen.availWidth-50,n=Math.max(n,240),n=Math.min(n,320),{target:a,onChange:z,width:n})),L.A.tv||a.classList.remove("hide"),e(o)}))})))}n(15453);var te,ne,ae,ie,oe,re,se,le,ce,ue,de="Jellyfin",he=L.A.desktop,pe=!L.A.tv,ye=document.querySelector(".skinHeader"),fe=!0,me=function(e){null==e||e.getPublicSystemInfo().then((function(e){var t=e.ServerName;de=t||de,document.title=de})).catch((function(e){console.error("[LibraryMenu] failed to fetch system info",e)}))};(0,x.pageClassOn)("pagebeforeshow","page",(function(){this.classList.contains("withTabs")||ge.setTabs(null)})),(0,x.pageClassOn)("pageshow","page",(function(e){var t,n=this,a=n.classList.contains("type-interior"),s=n.classList.contains("homePage"),c=!a&&n.classList.contains("libraryPage");a||(r&&(he||s&&pe?r.classList.remove("hide"):r.classList.add("hide")),"library"!==l&&(ee(),l="library",t?Promise.resolve(t):m.tF.user(U()).then((function(e){!function(e){var t,n="";n+='<div style="height:.5em;"></div>',n+='<a is="emby-linkbutton" class="navMenuOption lnkMediaFolder" href="#/home"><span class="material-icons navMenuOptionIcon home" aria-hidden="true"></span><span class="navMenuOptionText">'.concat(f.Ay.translate("Home"),"</span></a>"),n+='<div class="customMenuOptions"></div>',n+='<div class="libraryMenuOptions"></div>',null!==(t=e.localUser)&&void 0!==t&&t.Policy.IsAdministrator&&(n+='<div class="adminMenuOptions">',n+='<h3 class="sidebarHeader">',n+=f.Ay.translate("HeaderAdmin"),n+="</h3>",n+='<a is="emby-linkbutton" class="navMenuOption lnkMediaFolder lnkManageServer" data-itemid="dashboard" href="#/dashboard"><span class="material-icons navMenuOptionIcon dashboard" aria-hidden="true"></span><span class="navMenuOptionText">'.concat(f.Ay.translate("TabDashboard"),"</span></a>"),n+='<a is="emby-linkbutton" class="navMenuOption lnkMediaFolder editorViewMenu" data-itemid="editor" href="#/metadata"><span class="material-icons navMenuOptionIcon mode_edit" aria-hidden="true"></span><span class="navMenuOptionText">'.concat(f.Ay.translate("MetadataManager"),"</span></a>"),n+="</div>"),e.localUser&&(n+='<div class="userMenuOptions">',n+='<h3 class="sidebarHeader">',n+=f.Ay.translate("HeaderUser"),n+="</h3>",T.g.supports(p.Y.MultiServer)&&(n+='<a is="emby-linkbutton" class="navMenuOption lnkMediaFolder btnSelectServer" data-itemid="selectserver" href="#"><span class="material-icons navMenuOptionIcon storage" aria-hidden="true"></span><span class="navMenuOptionText">'.concat(f.Ay.translate("SelectServer"),"</span></a>")),n+='<a is="emby-linkbutton" class="navMenuOption lnkMediaFolder btnSettings" data-itemid="settings" href="#"><span class="material-icons navMenuOptionIcon settings" aria-hidden="true"></span><span class="navMenuOptionText">'.concat(f.Ay.translate("Settings"),"</span></a>"),n+='<a is="emby-linkbutton" class="navMenuOption lnkMediaFolder btnLogout" data-itemid="logout" href="#"><span class="material-icons navMenuOptionIcon exit_to_app" aria-hidden="true"></span><span class="navMenuOptionText">'.concat(f.Ay.translate("ButtonSignOut"),"</span></a>"),T.g.supports(p.Y.ExitMenu)&&(n+='<a is="emby-linkbutton" class="navMenuOption lnkMediaFolder exitApp" data-itemid="exitapp" href="#"><span class="material-icons navMenuOptionIcon close" aria-hidden="true"></span><span class="navMenuOptionText">'.concat(f.Ay.translate("ButtonExitApp"),"</span></a>")),n+="</div>"),i.innerHTML=n;var a=i.querySelector(".btnSelectServer");a&&a.addEventListener("click",Q);var o=i.querySelector(".btnSettings");o&&o.addEventListener("click",X);var r=i.querySelector(".exitApp");r&&r.addEventListener("click",K);var s=i.querySelector(".btnLogout");s&&s.addEventListener("click",$)}(e),W(e.localUser)})))),function(e,t){var n=3;if(e?n=2:t&&(n=1),ue!==n){ue=n,e&&!L.A.mobile?ye.classList.add("headroomDisabled"):ye.classList.remove("headroomDisabled");var a=document.body.classList;t?(a.add("libraryDocument"),a.remove("hideMainDrawer"),o&&o.setEdgeSwipeEnabled(!0)):e?(a.remove("libraryDocument"),a.remove("hideMainDrawer"),o&&o.setEdgeSwipeEnabled(!0)):(a.remove("libraryDocument"),a.add("hideMainDrawer"),o&&o.setEdgeSwipeEnabled(!1))}fe&&m.tF.user(U()).then(N)}(a,c),e.detail.isRestored||window.scrollTo(0,0),function(e){var t=e.getAttribute("data-title");t?ge.setTitle(t):e.classList.contains("standalonePage")&&ge.setDefaultTitle()}(n),function(e){ne&&("false"!==e.getAttribute("data-backbutton")&&w.appRouter.canGoBack()?ne.classList.remove("hide"):ne.classList.add("hide"))}(n),function(e){for(var t=e.classList.contains("liveTvPage"),n=e.classList.contains("channelsPage"),a=e.classList.contains("metadataEditorPage"),i=e.classList.contains("mySyncPage"),o=t||n||a||i||e.classList.contains("allLibraryPage")?"":V()||"",r=document.getElementsByClassName("lnkMediaFolder"),s=0,l=r.length;s<l;s++){var c=r[s],u=c.getAttribute("data-itemid");n&&"channels"===u||t&&"livetv"===u||a&&"editor"===u||i&&"manageoffline"===u&&-1!=window.location.href.toString().indexOf("mode=download")||i&&"syncotherdevices"===u&&-1==window.location.href.toString().indexOf("mode=download")||o&&u==o?c.classList.add("navMenuOption-selected"):c.classList.remove("navMenuOption-selected")}}(n)})),I.A.on(m.tF,"apiclientcreated",(function(e,t){me(t)})),I.A.on(m.tF,"localusersignedin",(function(e,t){var n=m.tF.getApiClient(t.ServerId);l=null,ie={localUser:t},ee(),m.tF.user(n).then((function(e){ie=e,N(e)}))})),I.A.on(m.tF,"localusersignedout",(function(){ie={},N()})),I.A.on(M.f,"playerchange",Z),me(U()),ee();var ve,be,ge={getTopParentId:V,onHardwareMenuButtonClick:function(){R()},setTabs:function(e,t,a){I.A.trigger(document,v.B.SET_TABS,e?[e,t,a()]:[]),Promise.all([n.e(4113),n.e(47472)]).then(n.bind(n,25091)).then((function(n){e?n.setTabs(P.A.currentView(),t,a,(function(){return[]})):n.setTabs(null)}))},setDefaultTitle:function(){te||(te=document.querySelector(".pageTitle")),te&&(te.classList.add("pageTitleWithLogo"),te.classList.add("pageTitleWithDefaultLogo"),te.style.backgroundImage=null,te.innerHTML=""),document.title=de},setTitle:function(e){if(null!=e){"-"===e&&(e="");var t=e;te||(te=document.querySelector(".pageTitle")),te&&(te.classList.remove("pageTitleWithLogo"),te.classList.remove("pageTitleWithDefaultLogo"),te.style.backgroundImage=null,te.innerText=t||""),document.title=e||de}else ge.setDefaultTitle()},setTransparentMenu:function(e){e?ye.classList.add("semiTransparent"):ye.classList.remove("semiTransparent")}};window.LibraryMenu=ge,be="",be+='<div class="flex align-items-center flex-grow headerTop">',be+='<div class="headerLeft">',be+='<button type="button" is="paper-icon-button-light" class="headerButton headerButtonLeft headerBackButton hide"><span class="material-icons '+(O.A.safari?"chevron_left":"arrow_back")+'" aria-hidden="true"></span></button>',be+='<button type="button" is="paper-icon-button-light" class="headerButton headerHomeButton hide barsMenuButton headerButtonLeft"><span class="material-icons home" aria-hidden="true"></span></button>',be+='<button type="button" is="paper-icon-button-light" class="headerButton mainDrawerButton barsMenuButton headerButtonLeft hide"><span class="material-icons menu" aria-hidden="true"></span></button>',be+='<h3 class="pageTitle" aria-hidden="true"></h3>',be+="</div>",be+='<div class="headerRight">',be+='<button is="paper-icon-button-light" class="headerSyncButton syncButton headerButton headerButtonRight hide"><span class="material-icons groups" aria-hidden="true"></span></button>',be+='<span class="headerSelectedPlayer"></span>',be+='<button is="paper-icon-button-light" class="headerAudioPlayerButton audioPlayerButton headerButton headerButtonRight hide"><span class="material-icons music_note" aria-hidden="true"></span></button>',be+='<button is="paper-icon-button-light" class="headerCastButton castButton headerButton headerButtonRight hide"><span class="material-icons cast" aria-hidden="true"></span></button>',be+='<button type="button" is="paper-icon-button-light" class="headerButton headerButtonRight headerSearchButton hide"><span class="material-icons search" aria-hidden="true"></span></button>',be+='<button is="paper-icon-button-light" class="headerButton headerButtonRight headerUserButton hide"><span class="material-icons person" aria-hidden="true"></span></button>',be+='<div class="currentTimeText hide"></div>',be+="</div>",be+="</div>",be+='<div class="headerTabs sectionTabs hide">',be+="</div>",ye.classList.add("skinHeader-withBackground"),ye.classList.add("skinHeader-blurred"),ye.innerHTML=be,I.A.trigger(document,v.B.HEADER_RENDERED),ne=ye.querySelector(".headerBackButton"),s=ye.querySelector(".headerHomeButton"),r=ye.querySelector(".mainDrawerButton"),ae=ye.querySelector(".headerUserButton"),oe=ye.querySelector(".headerCastButton"),se=ye.querySelector(".headerAudioPlayerButton"),re=ye.querySelector(".headerSearchButton"),le=ye.querySelector(".headerSyncButton"),ce=ye.querySelector(".currentTimeText"),j(),n.e(76542).then(n.bind(n,76542)).then((function(e){e.lazyChildren(ye)})),r&&r.addEventListener("click",R),ne&&ne.addEventListener("click",(function(){w.appRouter.back()})),re&&re.addEventListener("click",(function(){A.default.handleCommand("search")})),ae.addEventListener("click",(function(){x.default.navigate("mypreferencesmenu")})),s.addEventListener("click",(function(){x.default.navigate("home")})),L.A.tv||oe.addEventListener("click",(function(){var e=this;Promise.resolve().then(n.bind(n,86663)).then((function(t){t.show(e)}))})),se.addEventListener("click",(function(){return w.appRouter.showNowPlaying()})),le.addEventListener("click",(function(){B.default.show(this)})),L.A.mobile&&(ve=ye,new(h())(ve).init()),I.A.on(M.f,"playbackstart",(function(){M.f.isPlayingAudio()&&L.A.tv?se.classList.remove("hide"):se.classList.add("hide")})),I.A.on(M.f,"playbackstop",(function(e,t){"Audio"!=t.nextMediaType&&se.classList.add("hide")})),Z(),L.A.tv?(ce.classList.remove("hide"),setInterval((function(){ce.innerText=G.Ay.getDisplayTime(new Date)}),1e3)):ce.classList.add("hide"),t.default=ge}}]);