"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8241],{17240:function(e,n,t){t.d(n,{A:function(){return o}}),t(63696);var r=t(91785),a=t(62540);function o(e){var n=e.styles,t=e.defaultTheme,o=void 0===t?{}:t,i="function"==typeof n?function(e){return n(null==(t=e)||0===Object.keys(t).length?o:e);var t}:n;return(0,a.jsx)(r.mL,{styles:i})}},36720:function(e,n,t){t.d(n,{_r:function(){return l},t5:function(){return i}});var r=t(38345),a=t(61586),o=t(69410),i="Configuration",l=function(){var e=(0,o.gf)().api;return(0,a.I)({queryKey:[i],queryFn:function(n){var t=n.signal;return function(e,n){return t=void 0,a=void 0,i=function(){return function(e,n){var t,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=n.call(e,o)}catch(e){l=[6,e],r=0}finally{t=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}}(this,(function(t){switch(t.label){case 0:return[4,(0,r.T)(e).getConfiguration(n)];case 1:return[2,t.sent().data]}}))},new((o=void 0)||(o=Promise))((function(e,n){function r(e){try{s(i.next(e))}catch(e){n(e)}}function l(e){try{s(i.throw(e))}catch(e){n(e)}}function s(n){var t;n.done?e(n.value):(t=n.value,t instanceof o?t:new o((function(e){e(t)}))).then(r,l)}s((i=i.apply(t,a||[])).next())}));var t,a,o,i}(e,{signal:t})},enabled:!!e})}},52433:function(e,n,t){t.r(n),t.d(n,{Component:function(){return k},action:function(){return E}});var r=t(62540),a=(t(63696),t(51890)),o=t(5271),i=t(77890),l=t(52502),s=t(37538),u=t(99797),c=t(52974),f=t(58765),d=t(94828),p=t(11e3),y=t(99851),h=t(84849),b=t(65242),v=t(86191),g=t(38345),A=t(36720),x=t(78397),w=t(5898),m=t(87404),j=t(9055),S=t(53678),C="metadata",E=function(e){return n=void 0,t=[e],a=function(e){var n,t,r,a,o,i,l,s,u,c=e.request;return function(e,n){var t,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=n.call(e,o)}catch(e){l=[6,e],r=0}finally{t=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}}(this,(function(e){switch(e.label){case 0:if(!(n=v.A.getCurrentApi()))throw new Error("No Api instance available");return[4,c.formData()];case 1:return t=e.sent(),r=Object.fromEntries(t),[4,(0,g.T)(n).getConfiguration()];case 2:return a=e.sent().data,o={UseFileCreationTimeForDateAdded:"1"===r.DateAddedBehavior.toString()},a.EnableFolderView="on"===(null===(i=r.DisplayFolderView)||void 0===i?void 0:i.toString()),a.DisplaySpecialsWithinSeasons="on"===(null===(l=r.DisplaySpecialsWithinSeasons)||void 0===l?void 0:l.toString()),a.EnableGroupingIntoCollections="on"===(null===(s=r.GroupMoviesIntoCollections)||void 0===s?void 0:s.toString()),a.EnableExternalContentInSuggestions="on"===(null===(u=r.EnableExternalContentInSuggestions)||void 0===u?void 0:u.toString()),[4,(0,g.T)(n).updateConfiguration({serverConfiguration:a})];case 3:return e.sent(),[4,(0,g.T)(n).updateNamedConfiguration({key:C,body:o})];case 4:return e.sent(),S.q.invalidateQueries({queryKey:[A.t5]}),S.q.invalidateQueries({queryKey:[x.t,C]}),[2,{isSaved:!0}]}}))},new((r=void 0)||(r=Promise))((function(e,o){function i(e){try{s(a.next(e))}catch(e){o(e)}}function l(e){try{s(a.throw(e))}catch(e){o(e)}}function s(n){var t;n.done?e(n.value):(t=n.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,l)}s((a=a.apply(n,t||[])).next())}));var n,t,r,a},k=function(){var e=(0,A._r)(),n=e.data,t=e.isPending,v=e.isError,g=(0,x.M)(C),S=g.data,E=g.isPending,k=g.isError,D=(0,m.cq)(),I=(0,m.mP)(),O="submitting"===D.state;return t||E?(0,r.jsx)(h.A,{}):(0,r.jsx)(b.A,{id:"libraryDisplayPage",title:w.Ay.translate("Display"),className:"mainAnimatedPage type-interior",children:(0,r.jsx)(o.A,{className:"content-primary",children:v||k?(0,r.jsx)(a.A,{severity:"error",children:w.Ay.translate("DisplayLoadError")}):(0,r.jsx)(j.lV,{method:"POST",children:(0,r.jsxs)(f.A,{spacing:3,children:[!O&&(null==I?void 0:I.isSaved)&&(0,r.jsx)(a.A,{severity:"success",children:w.Ay.translate("SettingsSaved")}),(0,r.jsx)(y.A,{variant:"h2",children:w.Ay.translate("Display")}),(0,r.jsxs)(p.A,{name:"DateAddedBehavior",label:w.Ay.translate("LabelDateAddedBehavior"),select:!0,defaultValue:S.UseFileCreationTimeForDateAdded?"1":"0",helperText:w.Ay.translate("LabelDateAddedBehaviorHelp"),children:[(0,r.jsx)(c.A,{value:"0",children:w.Ay.translate("OptionDateAddedImportTime")}),(0,r.jsx)(c.A,{value:"1",children:w.Ay.translate("OptionDateAddedFileTime")})]}),(0,r.jsxs)(l.A,{children:[(0,r.jsx)(s.A,{control:(0,r.jsx)(d.A,{name:"DisplayFolderView",defaultChecked:n.EnableFolderView}),label:w.Ay.translate("OptionDisplayFolderView")}),(0,r.jsx)(u.A,{children:w.Ay.translate("OptionDisplayFolderViewHelp")})]}),(0,r.jsx)(l.A,{children:(0,r.jsx)(s.A,{control:(0,r.jsx)(d.A,{name:"DisplaySpecialsWithinSeasons",defaultChecked:n.DisplaySpecialsWithinSeasons}),label:w.Ay.translate("LabelDisplaySpecialsWithinSeasons")})}),(0,r.jsxs)(l.A,{children:[(0,r.jsx)(s.A,{control:(0,r.jsx)(d.A,{name:"GroupMoviesIntoCollections",defaultChecked:n.EnableGroupingIntoCollections}),label:w.Ay.translate("LabelGroupMoviesIntoCollections")}),(0,r.jsx)(u.A,{children:w.Ay.translate("LabelGroupMoviesIntoCollectionsHelp")})]}),(0,r.jsxs)(l.A,{children:[(0,r.jsx)(s.A,{control:(0,r.jsx)(d.A,{name:"EnableExternalContentInSuggestions",defaultChecked:n.EnableExternalContentInSuggestions}),label:w.Ay.translate("OptionEnableExternalContentInSuggestions")}),(0,r.jsx)(u.A,{children:w.Ay.translate("OptionEnableExternalContentInSuggestionsHelp")})]}),(0,r.jsx)(i.A,{type:"submit",size:"large",children:w.Ay.translate("Save")})]})})})})};k.displayName="DisplayPage"},78397:function(e,n,t){t.d(n,{M:function(){return l},t:function(){return i}});var r=t(38345),a=t(61586),o=t(69410),i="NamedConfiguration",l=function(e){var n=(0,o.gf)().api;return(0,a.I)({queryKey:[i,e],queryFn:function(t){var a=t.signal;return function(e,n,t){return a=void 0,o=void 0,l=function(){return function(e,n){var t,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=n.call(e,o)}catch(e){l=[6,e],r=0}finally{t=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}}(this,(function(a){switch(a.label){case 0:return[4,(0,r.T)(e).getNamedConfiguration({key:n},t)];case 1:return[2,a.sent().data]}}))},new((i=void 0)||(i=Promise))((function(e,n){function t(e){try{s(l.next(e))}catch(e){n(e)}}function r(e){try{s(l.throw(e))}catch(e){n(e)}}function s(n){var a;n.done?e(n.value):(a=n.value,a instanceof i?a:new i((function(e){e(a)}))).then(t,r)}s((l=l.apply(a,o||[])).next())}));var a,o,i,l}(n,e,{signal:a})},enabled:!!n})}}}]);