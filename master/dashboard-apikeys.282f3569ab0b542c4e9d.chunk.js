"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[89968],{48571:function(e,t,a){a.r(t),a(13227),a(96626),a(81414),a(37666),a(14011),a(11431);var n=a(65009),i=a.n(n),l=a(61693),s=a(84597),o=a(72365),r=a(94994),d=(a(38228),a(3137)),c=a(60635);function u(e){s.ZP.show(),ApiClient.getJSON(ApiClient.getUrl("Auth/Keys")).then((function(t){!function(e,t){var a=t.map((function(e){var t="";t+='<tr class="detailTableBodyRow detailTableBodyRow-shaded">',t+='<td class="detailTableBodyCell">',t+='<button type="button" is="emby-button" data-token="'+i()(e.AccessToken)+'" class="raised raised-mini btnRevoke" data-mini="true" title="'+r.ZP.translate("ButtonRevoke")+'" style="margin:0;">'+r.ZP.translate("ButtonRevoke")+"</button>",t+="</td>",t+='<td class="detailTableBodyCell" style="vertical-align:middle;">',t+=i()(e.AccessToken),t+="</td>",t+='<td class="detailTableBodyCell" style="vertical-align:middle;">',t+=i()(e.AppName)||"",t+="</td>",t+='<td class="detailTableBodyCell" style="vertical-align:middle;">';var a=l.ZP.parseISO8601Date(e.DateCreated,!0);return t+=l.ZP.toLocaleDateString(a)+" "+l.ZP.getDisplayTime(a),(t+="</td>")+"</tr>"})).join("");e.querySelector(".resultBody").innerHTML=a,s.ZP.hide()}(e,t.Items)}))}(0,c.pageIdOn)("pageinit","apiKeysPage",(function(){var e=this;e.querySelector(".btnNewKey").addEventListener("click",(function(){!function(e){a.e(23690).then(a.bind(a,23690)).then((function(t){(0,t.default)({title:r.ZP.translate("HeaderNewApiKey"),label:r.ZP.translate("LabelAppName"),description:r.ZP.translate("LabelAppNameExample")}).then((function(t){ApiClient.ajax({type:"POST",url:ApiClient.getUrl("Auth/Keys",{App:t})}).then((function(){u(e)}))}))}))}(e)})),e.querySelector(".tblApiKeys").addEventListener("click",(function(t){var a=o.ZP.parentWithClass(t.target,"btnRevoke");a&&function(e,t){(0,d.Z)(r.ZP.translate("MessageConfirmRevokeApiKey"),r.ZP.translate("HeaderConfirmRevokeApiKey")).then((function(){s.ZP.show(),ApiClient.ajax({type:"DELETE",url:ApiClient.getUrl("Auth/Keys/"+t)}).then((function(){u(e)}))}))}(e,a.getAttribute("data-token"))}))})),(0,c.pageIdOn)("pagebeforeshow","apiKeysPage",(function(){u(this)}))}}]);