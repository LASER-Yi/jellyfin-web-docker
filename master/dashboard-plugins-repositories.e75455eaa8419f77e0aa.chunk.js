/*! For license information please see dashboard-plugins-repositories.e75455eaa8419f77e0aa.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[92414,49213,59841],{40058:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}}),n(81414),n(47134),n(2663),n(48349);var r=n(84597),a=n(71487),i=n(94994),s=n(93355),o=n(3137),l=(n(38228),n(12291),n(15856),[]);function c(e){r.ZP.show(),ApiClient.getJSON(ApiClient.getUrl("Repositories")).then((function(t){var n,a;l=t,n={listElement:e.querySelector("#repositories"),noneElement:e.querySelector("#none"),repositories:l},(a=document.createElement("div")).className="paperList",n.repositories.forEach((function(e){a.appendChild(function(e){var t=document.createElement("div");t.className="listItem listItem-border";var n=document.createElement("a","emby-linkbutton");n.classList.add("clearLink","listItemIconContainer"),n.style.margin="0",n.style.padding="0",n.rel="noopener noreferrer",n.target="_blank",n.href=e.Url,n.innerHTML='<span class="material-icons listItemIcon open_in_new" aria-hidden="true"></span>',t.appendChild(n);var r=document.createElement("div");r.className="listItemBody two-line";var a=document.createElement("h3");a.className="listItemBodyText",a.innerText=e.Name,r.appendChild(a);var s=document.createElement("div");s.className="listItemBodyText secondary",s.innerText=e.Url,r.appendChild(s),t.appendChild(r);var o=document.createElement("button","paper-icon-button-light");return o.type="button",o.classList.add("btnDelete"),o.id=e.Url,o.title=i.ZP.translate("Delete"),o.innerHTML='<span class="material-icons delete" aria-hidden="true"></span>',t.appendChild(o),t}(e))})),n.repositories.length?n.noneElement.classList.add("hide"):n.noneElement.classList.remove("hide"),n.listElement.innerHTML="",n.listElement.appendChild(a),r.ZP.hide()})).catch((function(t){console.error("error loading repositories",t),e.querySelector("#none").classList.remove("hide"),r.ZP.hide()}))}function u(e){r.ZP.show(),ApiClient.ajax({type:"POST",url:ApiClient.getUrl("Repositories"),data:JSON.stringify(l),contentType:"application/json"}).then((function(){c(e)})).catch((function(e){console.error("error saving repositories",e),r.ZP.hide()}))}function d(){return[{href:"#/dashboard/plugins",name:i.ZP.translate("TabMyPlugins")},{href:"#/dashboard/plugins/catalog",name:i.ZP.translate("TabCatalog")},{href:"#/dashboard/plugins/repositories",name:i.ZP.translate("TabRepositories")}]}function p(e){e.addEventListener("viewshow",(function(){a.default.setTabs("plugins",2,d),c(this);var t=this;$("#repositories",e).on("click",".btnDelete",(function(){var e=this;l=l.filter((function(t){return t.Url!==e.id})),u(t)}))})),e.querySelector(".btnNewRepository").addEventListener("click",(function(){var t=s.default.createDialog({scrollY:!1,size:"large",modal:!1,removeOnClose:!0}),n="";n+='<div class="formDialogHeader">',n+='<button type="button" is="paper-icon-button-light" class="btnCancel autoSize" tabindex="-1" title="'.concat(i.ZP.translate("ButtonBack"),'"><span class="material-icons arrow_back" aria-hidden="true"></span></button>'),n+='<h3 class="formDialogHeaderTitle">'.concat(i.ZP.translate("HeaderNewRepository"),"</h3>"),n+="</div>",n+='<form class="newPluginForm" style="margin:4em">',n+='<div class="inputContainer">',n+='<input is="emby-input" id="txtRepositoryName" label="'.concat(i.ZP.translate("LabelRepositoryName"),'" type="text" required />'),n+='<div class="fieldDescription">'.concat(i.ZP.translate("LabelRepositoryNameHelp"),"</div>"),n+="</div>",n+='<div class="inputContainer">',n+='<input is="emby-input" id="txtRepositoryUrl" label="'.concat(i.ZP.translate("LabelRepositoryUrl"),'" type="url" required />'),n+='<div class="fieldDescription">'.concat(i.ZP.translate("LabelRepositoryUrlHelp"),"</div>"),n+="</div>",n+='<button is="emby-button" type="submit" class="raised button-submit block"><span>'.concat(i.ZP.translate("Save"),"</span></button>"),n+="</div>",n+="</form>",t.innerHTML=n,t.querySelector(".btnCancel").addEventListener("click",(function(){s.default.close(t)})),t.querySelector(".newPluginForm").addEventListener("submit",(function(n){n.preventDefault();var r=t.querySelector("#txtRepositoryUrl").value.toLowerCase(),a=function(){l.push({Name:t.querySelector("#txtRepositoryName").value,Url:t.querySelector("#txtRepositoryUrl").value,Enabled:!0}),u(e),s.default.close(t)};if(r.startsWith("https://repo.jellyfin.org/"))a();else{var c=i.ZP.translate("MessageRepositoryInstallDisclaimer");c+="<br/>",c+="<br/>",c+=i.ZP.translate("PleaseConfirmRepositoryInstallation"),(0,o.Z)(c,i.ZP.translate("HeaderConfirmRepositoryInstallation")).then((function(){a()})).catch((function(){console.debug("repository not installed"),s.default.close(t)}))}return!1})),s.default.open(t)}))}},23509:function(e,t,n){var r="assets/img/devices/";t.ZP={getDeviceIcon:function(e){var t;switch(e.AppName||e.Client){case"Samsung Smart TV":return r+"samsung.svg";case"Xbox One":return r+"xbox.svg";case"Sony PS4":return r+"playstation.svg";case"Kodi":case"Kodi JellyCon":return r+"kodi.svg";case"Jellyfin Android":case"AndroidTV":case"Android TV":return r+"android.svg";case"Jellyfin Mobile (iOS)":case"Jellyfin Mobile (iPadOS)":case"Jellyfin iOS":case"Infuse":return r+"apple.svg";case"Home Assistant":return r+"home-assistant.svg";case"Jellyfin Roku":return r+"roku.svg";case"Finamp":return r+"finamp.svg";case"Jellyfin Web":return function(e){switch(e){case"Opera":case"Opera TV":case"Opera Android":return r+"opera.svg";case"Chrome":case"Chrome Android":return r+"chrome.svg";case"Firefox":case"Firefox Android":return r+"firefox.svg";case"Safari":case"Safari iPad":case"Safari iPhone":return r+"safari.svg";case"Edge Chromium":case"Edge Chromium Android":case"Edge Chromium iPad":case"Edge Chromium iPhone":return r+"edgechromium.svg";case"Edge":return r+"edge.svg";case"Internet Explorer":return r+"msie.svg";default:return r+"html5.svg"}}(e.Name||e.DeviceName);default:if(null===(t=e.Capabilities)||void 0===t?void 0:t.IconUrl)try{return new URL(e.Capabilities.IconUrl).toString()}catch(t){console.error("[getDeviceIcon] device capabilities has invalid IconUrl",e,t)}return r+"other.svg"}},getLibraryIcon:function(e){switch(e){case"movies":return"video_library";case"music":return"library_music";case"photos":case"homevideos":return"photo_library";case"livetv":return"live_tv";case"tvshows":return"tv";case"trailers":return"local_movies";case"musicvideos":return"music_video";case"books":return"library_books";case"channels":return"videocam";case"playlists":return"view_list";default:return"folder"}}}},94047:function(e,t,n){var r=n(27378),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useState,s=r.useEffect,o=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),a=r[0].inst,u=r[1];return o((function(){a.value=n,a.getSnapshot=t,c(a)&&u({inst:a})}),[e,n,t]),s((function(){return c(a)&&u({inst:a}),e((function(){c(a)&&u({inst:a})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},70644:function(e,t,n){e.exports=n(94047)}}]);