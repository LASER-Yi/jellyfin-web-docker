"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3736,12801,49213,31473],{12801:function(e,t,i){i.r(t),i.d(t,{show:function(){return h}}),i(13227),i(81414),i(37666),i(14011),i(11431),i(44901),i(88646),i(54134),i(91270),i(59139),i(56187),i(38690),i(89228);var n=i(65009),a=i.n(n),o=i(93355),l=i(30325),r=i(94994),s=i(72365);function c(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return u(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,r=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return l=e.done,e},e:function(e){r=!0,o=e},f:function(){try{l||null==i.return||i.return()}finally{if(r)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function d(e,t,n){Promise.resolve().then(i.bind(i,54517)).then((function(i){var a=n?"on":"off";i.centerFocus[a](e,t)}))}function h(e){var t,i={removeOnClose:!0,enableHistory:e.enableHistory,scrollY:!1};l.Z.tv?(i.size="fullscreen",t=!0,i.autoFocus=!0):(i.modal=!1,i.entryAnimation=e.entryAnimation,i.exitAnimation=e.exitAnimation,i.entryAnimationDuration=e.entryAnimationDuration||140,i.exitAnimationDuration=e.exitAnimationDuration||100,i.autoFocus=!1);var n=o.default.createDialog(i);t?n.classList.add("actionsheet-fullscreen"):n.classList.add("actionsheet-not-fullscreen"),n.classList.add("actionSheet"),e.dialogClass&&n.classList.add(e.dialogClass);var u="",h=l.Z.tv?"scrollY smoothScrollY hiddenScrollY":"scrollY",b="";e.items.length>20&&(b+="min-width:"+(s.ZP.getWindowSize().innerWidth>=300?240:200)+"px;");var v,p,m=!1,y=[],f=c(e.items);try{for(f.s();!(p=f.n()).done;){var S=p.value;(v=S.icon||(S.selected?"check":null))&&(m=!0),y.push(v||"")}}catch(e){f.e(e)}finally{f.f()}l.Z.tv&&(u+='<button is="paper-icon-button-light" class="btnCloseActionSheet hide-mouse-idle-tv" tabindex="-1" title="'.concat(r.ZP.translate("ButtonBack"),'">\n                     <span class="material-icons arrow_back" aria-hidden="true"></span>\n                 </button>'));var k=e.title&&!m;k||l.Z.tv?u+='<div class="actionSheetContent actionSheetContent-centered">':u+='<div class="actionSheetContent">',e.title&&(u+='<h1 class="actionSheetTitle">'+a()(e.title)+"</h1>"),e.text&&(u+='<p class="actionSheetText">'+a()(e.text)+"</p>");var g="actionSheetScroller";l.Z.tv&&(g+=" actionSheetScroller-tv focuscontainer-x focuscontainer-y"),u+='<div class="'+g+" "+h+'" style="'+b+'">';var x="listItem listItem-button actionSheetMenuItem";(e.border||e.shaded)&&(x+=" listItem-border"),e.menuItemClass&&(x+=" "+e.menuItemClass),l.Z.tv&&(x+=" listItem-focusscale"),l.Z.mobile&&(x+=" actionsheet-xlargeFont");for(var C=0;C<e.items.length;C++){var A=e.items[C];A.divider?u+='<div class="actionsheetDivider"></div>':(u+="<button"+(A.selected&&l.Z.tv?" autoFocus":"")+' is="emby-button" type="button" class="'+x+'" data-id="'+(null==A.id||""===A.id?A.value:A.id)+'">',(v=y[C])?u+='<span class="actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons '.concat(v,'" aria-hidden="true"></span>'):m&&!k&&(u+='<span class="actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons check" aria-hidden="true" style="visibility:hidden;"></span>'),u+='<div class="listItemBody actionsheetListItemBody">',u+='<div class="listItemBodyText actionSheetItemText">',u+=a()(A.name||A.textContent||A.innerText),u+="</div>",A.secondaryText&&(u+='<div class="listItemBodyText secondary">'.concat(a()(A.secondaryText),"</div>")),u+="</div>",A.asideText&&(u+='<div class="listItemAside actionSheetItemAsideText">'.concat(a()(A.asideText),"</div>")),u+="</button>")}e.showCancel&&(u+='<div class="buttons">',u+='<button is="emby-button" type="button" class="btnCloseActionSheet">'.concat(r.ZP.translate("ButtonCancel"),"</button>"),u+="</div>"),u+="</div>",n.innerHTML=u,l.Z.tv&&d(n.querySelector(".actionSheetScroller"),!1,!0);var L,I,w=n.querySelector(".btnCloseActionSheet");return w&&w.addEventListener("click",(function(){o.default.close(n)})),e.timeout&&(I=setTimeout((function(){o.default.close(n)}),e.timeout)),new Promise((function(t,a){var r;n.addEventListener("click",(function(i){var a=s.ZP.parentWithClass(i.target,"actionSheetMenuItem");a&&(L=a.getAttribute("data-id"),e.resolveOnClick&&(e.resolveOnClick.indexOf?-1!==e.resolveOnClick.indexOf(L)&&(t(L),r=!0):(t(L),r=!0)),o.default.close(n))})),n.addEventListener("close",(function(){l.Z.tv&&d(n.querySelector(".actionSheetScroller"),!1,!1),I&&(clearTimeout(I),I=null),r||(null!=L?(e.callback&&e.callback(L),t(L)):a("ActionSheet closed without resolving"))})),o.default.open(n);var u=e.positionTo&&"fullscreen"!==i.size?function(e,t){var i=s.ZP.getWindowSize(),n=i.innerHeight,a=i.innerWidth,o=function(e){var t=[];if(!document)return t;var i,n=c(e);try{for(n.s();!(i=n.n()).done;){var a=i.value.getBoundingClientRect();t.push({top:a.top,left:a.left,width:a.width,height:a.height})}}catch(e){n.e(e)}finally{n.f()}return t}([e.positionTo])[0];"top"!==e.positionY&&(o.top+=(o.height||0)/2),o.left+=(o.width||0)/2;var l=t.offsetHeight||300,r=t.offsetWidth||160;o.top-=l/2,o.left-=r/2;var u=o.left+r-a,d=o.top+l-n;return u>0&&(o.left-=u+20),d>0&&(o.top-=d+20),o.top+=e.offsetTop||0,o.left+=e.offsetLeft||0,o.top=Math.max(o.top,10),o.left=Math.max(o.left,10),o}(e,n):null;u&&(n.style.position="fixed",n.style.margin=0,n.style.left=u.left+"px",n.style.top=u.top+"px")}))}i(38228),t.default={show:h}},79849:function(e,t,i){var n=i(84881),a=i(94994),o=i(59858);t.ZP={getVideoQualityOptions:function(e){var t,i=e.currentMaxBitrate,l=e.videoWidth,r=e.videoHeight;l/r<16/9&&(l=r*(16/9));var s=null==e.maxVideoWidth?o.Z.maxVideoWidth():e.maxVideoWidth,c=(s<0?null===(t=n.M.screen())||void 0===t?void 0:t.maxAllowedWidth:s)||4096,u=l||4096,d=[],h={name:a.ZP.translate("Auto"),bitrate:0,selected:e.isAutomaticBitrateEnabled};if(e.enableAuto&&d.push(h),u>=3800&&c>=1930&&(d.push({name:"4K - 120 Mbps",maxHeight:2160,bitrate:12e7}),d.push({name:"4K - 80 Mbps",maxHeight:2160,bitrate:8e7})),u>=1900&&c>=1290&&(d.push({name:"1080p - 60 Mbps",maxHeight:1080,bitrate:6e7}),d.push({name:"1080p - 40 Mbps",maxHeight:1080,bitrate:4e7}),d.push({name:"1080p - 20 Mbps",maxHeight:1080,bitrate:2e7}),d.push({name:"1080p - 15 Mbps",maxHeight:1080,bitrate:15e6}),d.push({name:"1080p - 10 Mbps",maxHeight:1080,bitrate:1e7})),u>=1260&&c>=650&&(d.push({name:"720p - 8 Mbps",maxHeight:720,bitrate:8e6}),d.push({name:"720p - 6 Mbps",maxHeight:720,bitrate:6e6}),d.push({name:"720p - 4 Mbps",maxHeight:720,bitrate:4e6})),u>=620&&(d.push({name:"480p - 3 Mbps",maxHeight:480,bitrate:3e6}),d.push({name:"480p - 1.5 Mbps",maxHeight:480,bitrate:15e5}),d.push({name:"480p - 720 kbps",maxHeight:480,bitrate:72e4})),d.push({name:"360p - 420 kbps",maxHeight:360,bitrate:42e4}),i){for(var b=d.length-1,v=0,p=d.length;v<p;v++){var m=d[v];if(m.bitrate>0&&m.bitrate<=i){b=v;break}}var y=d[b];e.isAutomaticBitrateEnabled?h.autoText=y.name:y.selected=!0}return d},getAudioQualityOptions:function(e){var t=e.currentMaxBitrate,i=[],n={name:a.ZP.translate("Auto"),bitrate:0,selected:e.isAutomaticBitrateEnabled};if(e.enableAuto&&i.push(n),i.push({name:"2 Mbps",bitrate:2e6}),i.push({name:"1.5 Mbps",bitrate:15e5}),i.push({name:"1 Mbps",bitrate:1e6}),i.push({name:"320 kbps",bitrate:32e4}),i.push({name:"256 kbps",bitrate:256e3}),i.push({name:"192 kbps",bitrate:192e3}),i.push({name:"128 kbps",bitrate:128e3}),i.push({name:"96 kbps",bitrate:96e3}),i.push({name:"64 kbps",bitrate:64e3}),t){for(var o=i.length-1,l=0,r=i.length;l<r;l++){var s=i[l];if(s.bitrate>0&&s.bitrate<=t){o=l;break}}var c=i[o];e.isAutomaticBitrateEnabled?n.autoText=c.name:c.selected=!0}return i}}},62088:function(e,t,i){i.r(t),i.d(t,{default:function(){return Z}}),i(96626),i(84159),i(54112),i(88646),i(81414),i(54134),i(91270),i(14011),i(59139),i(56187),i(38690),i(89228),i(13227),i(11431),i(26031),i(95822),i(11908),i(33096);var n=i(59858),a=i(84881),o=i(34643),l=i(79849),r=i(94994),s=i(84597),c=i(67561),u=(i(15856),i(12291),i(18613)),d=i(56663),h=i(65009),b=i.n(h);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function p(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,a=function(e,t){if("object"!==v(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===v(a)?a:String(a)),n)}var a}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function y(e){e.innerHTML=[5,10,15,20,25,30].map((function(e){return{name:r.ZP.translate("ValueSeconds",e),value:1e3*e}})).map((function(e){return'<option value="'.concat(e.value,'">').concat(e.name,"</option>")})).join("")}function f(e,t,i,a){var o="Audio"===i?l.ZP.getAudioQualityOptions({currentMaxBitrate:n.Z.maxStreamingBitrate(t,i),isAutomaticBitrateEnabled:n.Z.enableAutomaticBitrateDetection(t,i),enableAuto:!0}):l.ZP.getVideoQualityOptions({currentMaxBitrate:n.Z.maxStreamingBitrate(t,i),isAutomaticBitrateEnabled:n.Z.enableAutomaticBitrateDetection(t,i),enableAuto:!0,maxVideoWidth:a});e.innerHTML=o.map((function(e){return'<option value="'.concat(e.bitrate||"",'">').concat(e.name,"</option>")})).join("")}function S(e,t,i){f(e,t,i),n.Z.enableAutomaticBitrateDetection(t,i)?e.value="":e.value=n.Z.maxStreamingBitrate(t,i)}function k(e,t){var i=l.ZP.getVideoQualityOptions({currentMaxBitrate:n.Z.maxChromecastBitrate(),isAutomaticBitrateEnabled:!n.Z.maxChromecastBitrate(),enableAuto:!0,maxVideoWidth:t});e.innerHTML=i.map((function(e){return'<option value="'.concat(e.bitrate||"",'">').concat(e.name,"</option>")})).join(""),e.value=n.Z.maxChromecastBitrate()||""}function g(e,t,i){e.value?(n.Z.maxStreamingBitrate(t,i,e.value),n.Z.enableAutomaticBitrateDetection(t,i,!1)):n.Z.enableAutomaticBitrateDetection(t,i,!0)}function x(e,t,i,o,l){var c=l.getCurrentUserId(),u=t.Id;!function(e,t,i){if(t.Policy.EnableVideoPlaybackTranscoding?e.querySelector(".videoQualitySection").classList.remove("hide"):e.querySelector(".videoQualitySection").classList.add("hide"),a.M.supports("multiserver"))return e.querySelector(".fldVideoInNetworkQuality").classList.remove("hide"),e.querySelector(".fldVideoInternetQuality").classList.remove("hide"),void(t.Policy.EnableAudioPlaybackTranscoding?e.querySelector(".musicQualitySection").classList.remove("hide"):e.querySelector(".musicQualitySection").classList.add("hide"));i.getEndpointInfo().then((function(i){i.IsInNetwork?(e.querySelector(".fldVideoInNetworkQuality").classList.remove("hide"),e.querySelector(".fldVideoInternetQuality").classList.add("hide"),e.querySelector(".musicQualitySection").classList.add("hide")):(e.querySelector(".fldVideoInNetworkQuality").classList.add("hide"),e.querySelector(".fldVideoInternetQuality").classList.remove("hide"),t.Policy.EnableAudioPlaybackTranscoding?e.querySelector(".musicQualitySection").classList.remove("hide"):e.querySelector(".musicQualitySection").classList.add("hide"))}))}(e,t,l),e.querySelector("#selectAllowedAudioChannels").value=i.allowedAudioChannels(),l.getCultures().then((function(i){!function(e,t){var i="";i+="<option value=''>".concat(r.ZP.translate("AnyLanguage"),"</option>");for(var n=0,a=t.length;n<a;n++){var o=t[n];i+="<option value='".concat(o.ThreeLetterISOLanguageName,"'>").concat(o.DisplayName,"</option>")}e.innerHTML=i}(e.querySelector("#selectAudioLanguage"),i),e.querySelector("#selectAudioLanguage",e).value=t.Configuration.AudioLanguagePreference||"",e.querySelector(".chkEpisodeAutoPlay").checked=t.Configuration.EnableNextEpisodeAutoPlay||!1})),a.M.supports("externalplayerintent")&&u===c?e.querySelector(".fldExternalPlayer").classList.remove("hide"):e.querySelector(".fldExternalPlayer").classList.add("hide"),u===c&&(t.Policy.EnableVideoPlaybackTranscoding||t.Policy.EnableAudioPlaybackTranscoding)?(e.querySelector(".qualitySections").classList.remove("hide"),a.M.supports("chromecast")&&t.Policy.EnableVideoPlaybackTranscoding?e.querySelector(".fldChromecastQuality").classList.remove("hide"):e.querySelector(".fldChromecastQuality").classList.add("hide")):(e.querySelector(".qualitySections").classList.add("hide"),e.querySelector(".fldChromecastQuality").classList.add("hide")),e.querySelector(".chkPlayDefaultAudioTrack").checked=t.Configuration.PlayDefaultAudioTrack||!1,e.querySelector(".chkPreferFmp4HlsContainer").checked=i.preferFmp4HlsContainer(),e.querySelector(".chkEnableCinemaMode").checked=i.enableCinemaMode(),e.querySelector("#selectAudioNormalization").value=i.selectAudioNormalization(),e.querySelector(".chkEnableNextVideoOverlay").checked=i.enableNextVideoInfoOverlay(),e.querySelector(".chkRememberAudioSelections").checked=t.Configuration.RememberAudioSelections||!1,e.querySelector(".chkRememberSubtitleSelections").checked=t.Configuration.RememberSubtitleSelections||!1,e.querySelector(".chkExternalVideoPlayer").checked=n.Z.enableSystemExternalPlayers(),S(e.querySelector(".selectVideoInNetworkQuality"),!0,"Video"),S(e.querySelector(".selectVideoInternetQuality"),!1,"Video"),S(e.querySelector(".selectMusicInternetQuality"),!1,"Audio"),k(e.querySelector(".selectChromecastVideoQuality"));var d,h=e.querySelector(".selectChromecastVersion"),v="",p=function(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return m(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?m(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,r=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return l=e.done,e},e:function(e){r=!0,o=e},f:function(){try{l||null==i.return||i.return()}finally{if(r)throw o}}}}(o.CastReceiverApplications);try{for(p.s();!(d=p.n()).done;){var f=d.value;v+="<option value='".concat(b()(f.Id),"'>").concat(b()(f.Name),"</option>")}}catch(e){p.e(e)}finally{p.f()}h.innerHTML=v,h.value=t.Configuration.CastReceiverId,e.querySelector(".selectLabelMaxVideoWidth").value=n.Z.maxVideoWidth();var g=e.querySelector(".selectSkipForwardLength");y(g),g.value=i.skipForwardLength();var x=e.querySelector(".selectSkipBackLength");y(x),x.value=i.skipBackLength(),s.ZP.hide()}function C(e,t,i){e.value=t,e.selectedIndex<0&&(e.value=i)}function A(e){var t=this.options.element,i=t.querySelector(".selectVideoInNetworkQuality"),n=t.querySelector(".selectVideoInternetQuality"),a=t.querySelector(".selectChromecastVideoQuality"),o=i.value,l=n.value,r=a.value,s=parseInt(e.target.value||"0",10)||0;f(i,!0,"Video",s),f(n,!1,"Video",s),k(a,s),C(i,o,""),C(n,l,""),C(a,r,"")}function L(e){var t=this,i=u.Z.getApiClient(t.options.serverId),a=t.options.userId,o=t.options.userSettings;return o.setUserInfo(a,i).then((function(){var e=t.options.enableSaveConfirmation;!function(e,t,i,a,o,l){s.ZP.show(),o.getUser(i).then((function(i){(function(e,t,i,a){return n.Z.enableSystemExternalPlayers(e.querySelector(".chkExternalVideoPlayer").checked),n.Z.maxChromecastBitrate(e.querySelector(".selectChromecastVideoQuality").value),n.Z.maxVideoWidth(e.querySelector(".selectLabelMaxVideoWidth").value),g(e.querySelector(".selectVideoInNetworkQuality"),!0,"Video"),g(e.querySelector(".selectVideoInternetQuality"),!1,"Video"),g(e.querySelector(".selectMusicInternetQuality"),!1,"Audio"),i.allowedAudioChannels(e.querySelector("#selectAllowedAudioChannels").value),t.Configuration.AudioLanguagePreference=e.querySelector("#selectAudioLanguage").value,t.Configuration.PlayDefaultAudioTrack=e.querySelector(".chkPlayDefaultAudioTrack").checked,t.Configuration.EnableNextEpisodeAutoPlay=e.querySelector(".chkEpisodeAutoPlay").checked,i.preferFmp4HlsContainer(e.querySelector(".chkPreferFmp4HlsContainer").checked),i.enableCinemaMode(e.querySelector(".chkEnableCinemaMode").checked),i.selectAudioNormalization(e.querySelector("#selectAudioNormalization").value),i.enableNextVideoInfoOverlay(e.querySelector(".chkEnableNextVideoOverlay").checked),t.Configuration.RememberAudioSelections=e.querySelector(".chkRememberAudioSelections").checked,t.Configuration.RememberSubtitleSelections=e.querySelector(".chkRememberSubtitleSelections").checked,t.Configuration.CastReceiverId=e.querySelector(".selectChromecastVersion").value,i.skipForwardLength(e.querySelector(".selectSkipForwardLength").value),i.skipBackLength(e.querySelector(".selectSkipBackLength").value),a.updateUserConfiguration(t.Id,t.Configuration)})(t,i,a,o).then((function(){s.ZP.hide(),l&&(0,d.Z)(r.ZP.translate("SettingsSaved")),c.Z.trigger(e,"saved")}),(function(){s.ZP.hide()}))}))}(t,t.options.element,a,o,i,e)})),e&&e.preventDefault(),!1}function I(e,t){e.element.innerHTML=r.ZP.translateHtml('<form style="margin:0 auto"> <div class="verticalSection verticalSection-extrabottompadding"> <h2 class="sectionTitle"> ${HeaderAudioSettings} </h2> <div class="selectContainer"> <select is="emby-select" id="selectAllowedAudioChannels" label="${LabelAllowedAudioChannels}"> <option value="-1">${Auto}</option> <option value="1">${LabelSelectMono}</option> <option value="2">${LabelSelectStereo}</option> <option value="6">5.1 ${LabelSelectAudioChannels}</option> <option value="8">7.1 ${LabelSelectAudioChannels}</option> </select> </div> <div class="selectContainer"> <select is="emby-select" id="selectAudioLanguage" label="${LabelAudioLanguagePreference}"></select> </div> <label class="checkboxContainer"> <input type="checkbox" is="emby-checkbox" class="chkPlayDefaultAudioTrack"/> <span>${LabelPlayDefaultAudioTrack}</span> </label> </div> <div class="qualitySections hide"> <div class="verticalSection verticalSection-extrabottompadding videoQualitySection hide"> <h2 class="sectionTitle"> ${HeaderVideoQuality} </h2> <div class="selectContainer fldVideoInNetworkQuality hide"> <select is="emby-select" class="selectVideoInNetworkQuality" label="${LabelHomeNetworkQuality}"></select> </div> <div class="selectContainer fldVideoInternetQuality hide"> <select is="emby-select" class="selectVideoInternetQuality" label="${LabelInternetQuality}"></select> </div> <div class="selectContainer fldChromecastQuality hide"> <select is="emby-select" class="selectChromecastVideoQuality" label="${LabelMaxChromecastBitrate}"></select> </div> <div class="selectContainer"> <select is="emby-select" class="selectLabelMaxVideoWidth" label="${LabelMaxVideoResolution}"> <option value="0">${Auto}</option> <option value="-1">${ScreenResolution}</option> <option value="640">360p</option> <option value="852">480p</option> <option value="1280">720p</option> <option value="1920">1080p</option> <option value="3840">4K</option> <option value="7680">8K</option> </select> </div> </div> <div class="verticalSection verticalSection-extrabottompadding musicQualitySection hide"> <h2> ${HeaderMusicQuality} </h2> <div class="selectContainer"> <select is="emby-select" class="selectMusicInternetQuality" label="${LabelInternetQuality}"></select> </div> </div> </div> <div class="verticalSection verticalSection-extrabottompadding"> <h2 class="sectionTitle"> ${TabAdvanced} </h2> <div class="selectContainer"> <select is="emby-select" id="selectAudioNormalization" label="${LabelSelectAudioNormalization}"> <option value="Off">${Off}</option> <option value="TrackGain">${LabelTrackGain}</option> <option value="AlbumGain">${LabelAlbumGain}</option> </select> <div class="fieldDescription">${SelectAudioNormalizationHelp}</div> </div> <div class="checkboxContainer checkboxContainer-withDescription"> <label> <input type="checkbox" is="emby-checkbox" class="chkPreferFmp4HlsContainer"/> <span>${PreferFmp4HlsContainer}</span> </label> <div class="fieldDescription checkboxFieldDescription">${PreferFmp4HlsContainerHelp}</div> </div> <div class="checkboxContainer checkboxContainer-withDescription cinemaModeOptions"> <label> <input type="checkbox" is="emby-checkbox" class="chkEnableCinemaMode"/> <span>${EnableCinemaMode}</span> </label> <div class="fieldDescription checkboxFieldDescription">${CinemaModeConfigurationHelp}</div> </div> <div class="checkboxContainer fldEpisodeAutoPlay"> <label> <input type="checkbox" is="emby-checkbox" class="chkEpisodeAutoPlay"/> <span>${PlayNextEpisodeAutomatically}</span> </label> </div> <div class="checkboxContainer checkboxContainer-withDescription"> <label> <input type="checkbox" is="emby-checkbox" class="chkRememberAudioSelections"/> <span>${RememberAudioSelections}</span> </label> <div class="fieldDescription checkboxFieldDescription">${RememberAudioSelectionsHelp}</div> </div> <div class="checkboxContainer checkboxContainer-withDescription"> <label> <input type="checkbox" is="emby-checkbox" class="chkRememberSubtitleSelections"/> <span>${RememberSubtitleSelections}</span> </label> <div class="fieldDescription checkboxFieldDescription">${RememberSubtitleSelectionsHelp}</div> </div> <div class="checkboxContainer checkboxContainer-withDescription fldEnableNextVideoOverlay"> <label> <input type="checkbox" is="emby-checkbox" class="chkEnableNextVideoOverlay"/> <span>${EnableNextVideoInfoOverlay}</span> </label> <div class="fieldDescription checkboxFieldDescription">${EnableNextVideoInfoOverlayHelp}</div> </div> <div class="checkboxContainer fldExternalPlayer checkboxContainer-withDescription hide"> <label> <input type="checkbox" is="emby-checkbox" class="chkExternalVideoPlayer"/> <span>${EnableExternalVideoPlayers}</span> </label> <div class="fieldDescription checkboxFieldDescription"> <div class="labelNativeExternalPlayers">${EnableExternalVideoPlayersHelp}</div> </div> </div> <div class="selectContainer"> <select is="emby-select" class="selectChromecastVersion" label="${LabelChromecastVersion}"></select> </div> <div class="selectContainer"> <select is="emby-select" class="selectSkipForwardLength" label="${LabelSkipForwardLength}"></select> </div> <div class="selectContainer"> <select is="emby-select" class="selectSkipBackLength" label="${LabelSkipBackLength}"></select> </div> </div> <button is="emby-button" type="submit" class="raised button-submit block btnSave hide"> <span>${Save}</span> </button> </form> ',"core"),e.element.querySelector("form").addEventListener("submit",L.bind(t)),e.enableSaveButton&&e.element.querySelector(".btnSave").classList.remove("hide"),e.element.querySelector(".selectLabelMaxVideoWidth").addEventListener("change",A.bind(t)),t.loadData(),e.autoFocus&&o.Z.autoFocus(e.element)}var w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,I(t,this)}var t,i;return t=e,i=[{key:"loadData",value:function(){var e=this,t=e.options.element;s.ZP.show();var i=e.options.userId,n=u.Z.getApiClient(e.options.serverId),a=e.options.userSettings;n.getUser(i).then((function(o){n.getSystemInfo().then((function(l){a.setUserInfo(i,n).then((function(){e.dataLoaded=!0,x(t,o,a,l,n)}))}))}))}},{key:"submit",value:function(){L.call(this)}},{key:"destroy",value:function(){this.options=null}}],i&&p(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),q=w,E=i(60934),P=i(87680),V=E.UserSettings;function Z(e,t){var i,n=t.userId||ApiClient.getCurrentUserId(),a=n===ApiClient.getCurrentUserId()?E:new V;e.addEventListener("viewshow",(function(){i?i.loadData():i=new q({serverId:ApiClient.serverId(),userId:n,element:e.querySelector(".settingsContainer"),userSettings:a,enableSaveButton:!0,enableSaveConfirmation:!0,autoFocus:P.default.isEnabled()})})),e.addEventListener("viewdestroy",(function(){i&&(i.destroy(),i=null)}))}},15856:function(e,t,i){var n=i(30325),a=i(57366),o=i(12801),l=(i(67752),Object.create(HTMLSelectElement.prototype));function r(){return!(!a.Z.edgeUwp&&!a.Z.xboxOne&&(a.Z.tizen||a.Z.orsay||a.Z.web0s||!a.Z.tv&&n.Z.tv))}function s(e){var t=c(e),i=t?t.textContent||t.innerText:null;o.default.show({items:e.options,positionTo:e,title:i}).then((function(t){!function(e,t){e.value=t}(e,t),function(e){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),e.dispatchEvent(t)}(e)}))}function c(e){for(var t=e.previousSibling;t&&"LABEL"!==t.tagName;)t=t.previousSibling;return t}function u(){var e=c(this);e&&e.classList.add("selectLabelFocused")}function d(){var e=c(this);e&&e.classList.remove("selectLabelFocused")}function h(e){e.button||r()||(e.preventDefault(),s(this))}function b(e){switch(e.keyCode){case 13:return void(r()||(e.preventDefault(),s(this)));case 37:case 38:case 39:case 40:return void(n.Z.tv&&e.preventDefault())}}var v=0;l.createdCallback=function(){this.id||(this.id="embyselect"+v,v++),this.classList.add("emby-select-withcolor"),n.Z.tv&&this.classList.add("emby-select-focusscale"),this.addEventListener("mousedown",h),this.addEventListener("keydown",b),this.addEventListener("focus",u),this.addEventListener("blur",d)},l.attachedCallback=function(){var e;if(!this.classList.contains("emby-select")){this.classList.add("emby-select");var t,i=this.ownerDocument.createElement("label");i.innerText=this.getAttribute("label")||"",i.classList.add("selectLabel"),i.htmlFor=this.id,null===(e=this.parentNode)||void 0===e||e.insertBefore(i,this),this.classList.contains("emby-select-withcolor")&&(null===(t=this.parentNode)||void 0===t||t.insertAdjacentHTML("beforeend",'<div class="selectArrowContainer"><div style="visibility:hidden;display:none;">0</div><span class="selectArrow material-icons keyboard_arrow_down" aria-hidden="true"></span></div>'))}},l.setLabel=function(e){var t;(null===(t=this.parentNode)||void 0===t?void 0:t.querySelector("label")).innerText=e},document.registerElement("emby-select",{prototype:l,extends:"select"})}}]);