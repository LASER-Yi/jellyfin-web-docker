"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[92594,79617,96084,1998,64763],{64763:function(e,t,n){function i(e,t){var n=[];switch(e.textSize||""){case"smaller":n.push({name:"font-size",value:".8em"});break;case"small":n.push({name:"font-size",value:"inherit"});break;case"larger":n.push({name:"font-size",value:"2em"});break;case"extralarge":n.push({name:"font-size",value:"2.2em"});break;case"large":n.push({name:"font-size",value:"1.72em"});break;default:n.push({name:"font-size",value:"1.36em"})}switch("bold"===(e.textWeight||"")?n.push({name:"font-weight",value:"bold"}):n.push({name:"font-weight",value:"normal"}),e.dropShadow||""){case"raised":n.push({name:"text-shadow",value:"-0.04em -0.04em #fff, 0px -0.04em #fff, -0.04em 0px #fff, 0.04em 0.04em #000, 0px 0.04em #000, 0.04em 0px #000"});break;case"depressed":n.push({name:"text-shadow",value:"0.04em 0.04em #fff, 0px 0.04em #fff, 0.04em 0px #fff, -0.04em -0.04em #000, 0px -0.04em #000, -0.04em 0px #000"});break;case"uniform":n.push({name:"text-shadow",value:"#000 0px 0.03em, #000 0px -0.03em, #000 0px 0.05em, #000 0px -0.05em, #000 0.03em 0px, #000 -0.03em 0px, #000 0.03em 0.03em, #000 -0.03em 0.03em, #000 0.03em -0.03em, #000 -0.03em -0.03em, #000 0.03em 0.05em, #000 -0.03em 0.05em, #000 0.03em -0.05em, #000 -0.03em -0.05em, #000 0.05em 0px, #000 -0.05em 0px, #000 0.05em 0.03em, #000 -0.05em 0.03em, #000 0.05em -0.03em, #000 -0.05em -0.03em"});break;case"none":n.push({name:"text-shadow",value:"none"});break;default:n.push({name:"text-shadow",value:"#000000 0px 0px 7px"})}var i=e.textBackground||"transparent";i&&n.push({name:"background-color",value:i});var a=e.textColor||"#ffffff";switch(a&&n.push({name:"color",value:a}),e.font||""){case"typewriter":n.push({name:"font-family",value:'"Courier New",monospace'}),n.push({name:"font-variant",value:"none"});break;case"print":n.push({name:"font-family",value:"Georgia,Times New Roman,Arial,Helvetica,serif"}),n.push({name:"font-variant",value:"none"});break;case"console":n.push({name:"font-family",value:"Consolas,Lucida Console,Menlo,Monaco,monospace"}),n.push({name:"font-variant",value:"none"});break;case"cursive":n.push({name:"font-family",value:"Lucida Handwriting,Brush Script MT,Segoe Script,cursive,Quintessential,system-ui,-apple-system,BlinkMacSystemFont,sans-serif"}),n.push({name:"font-variant",value:"none"});break;case"casual":n.push({name:"font-family",value:"Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Short Stack,system-ui,-apple-system,BlinkMacSystemFont,sans-serif"}),n.push({name:"font-variant",value:"none"});break;case"smallcaps":n.push({name:"font-family",value:"Copperplate Gothic,Copperplate Gothic Bold,Copperplate,system-ui,-apple-system,BlinkMacSystemFont,sans-serif"}),n.push({name:"font-variant",value:"small-caps"});break;default:n.push({name:"font-family",value:"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol"}),n.push({name:"font-variant",value:"none"})}if(!t){var l=parseInt(e.verticalPosition,10),r=Math.abs(1.35*l);l<0?(n.push({name:"min-height",value:"".concat(r,"em")}),n.push({name:"margin-top",value:""})):(n.push({name:"min-height",value:""}),n.push({name:"margin-top",value:"".concat(r,"em")}))}return n}function a(e,t){var n=[];return t||(parseInt(e.verticalPosition,10)<0?(n.push({name:"top",value:""}),n.push({name:"bottom",value:"0"})):(n.push({name:"top",value:"0"}),n.push({name:"bottom",value:""}))),n}function l(e,t){return{text:i(e,t),window:a(e,t)}}function r(e,t){for(var n=0,i=e.length;n<i;n++){var a=e[n];t.style[a.name]=a.value}}function o(e,t){var n=l(t,!!e.preview);e.text&&r(n.text,e.text),e.window&&r(n.window,e.window)}n.r(t),n.d(t,{applyStyles:function(){return o},getStyles:function(){return l}}),n(96054),t.default={getStyles:l,applyStyles:o}},9070:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}}),n(29305),n(32733),n(84701),n(81678),n(44962),n(4754),n(94),n(77575),n(36947),n(78557),n(83994),n(82367);var i=n(9482),a=n(22622),l=n(90381),r=n(83775),o=n(46782),s=n(56869),u=n(64763),c=function(e,t){var n="";n+="<option value=''>"+i.Ay.translate("AnyLanguage")+"</option>";for(var a=0,l=t.length;a<l;a++){var r=t[a];n+="<option value='"+r.ThreeLetterISOLanguageName+"'>"+r.DisplayName+"</option>"}e.innerHTML=n},d=n(47629),v=n(62014),p=(n(63001),n(57949),n(98959),n(77157),n(86191)),f=n(50764);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,b(i.key),i)}}function b(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=m(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==m(t)?t:t+""}function y(e){return{textSize:e.querySelector("#selectTextSize").value,textWeight:e.querySelector("#selectTextWeight").value,dropShadow:e.querySelector("#selectDropShadow").value,font:e.querySelector("#selectFont").value,textBackground:e.querySelector("#inputTextBackground").value,textColor:o.A.tv?e.querySelector("#selectTextColor").value:e.querySelector("#inputTextColor").value,verticalPosition:e.querySelector("#sliderVerticalPosition").value}}function g(e){for(var t=d.Ay.parentWithClass(e.target,"subtitlesettings"),n=t.querySelectorAll(".subtitlesHelp"),i=0,a=n.length;i<a;i++)n[i].classList.add("hide");t.querySelector(".subtitles"+this.value+"Help").classList.remove("hide")}function S(e){var t=d.Ay.parentWithClass(e.target,"subtitlesettings"),n=y(t),i={window:t.querySelector(".subtitleappearance-preview-window"),text:t.querySelector(".subtitleappearance-preview-text"),preview:!0};u.default.applyStyles(i,n),u.default.applyStyles({window:t.querySelector(".subtitleappearance-fullpreview-window"),text:t.querySelector(".subtitleappearance-fullpreview-text")},n)}var w;function x(e){clearTimeout(w),this._fullPreview.classList.remove("subtitleappearance-fullpreview-hide"),e&&this._refFullPreview++,0===this._refFullPreview&&(w=setTimeout(A.bind(this),1e3))}function A(e){clearTimeout(w),e&&this._refFullPreview--,0===this._refFullPreview&&this._fullPreview.classList.add("subtitleappearance-fullpreview-hide")}var L=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,function(e,t){if(e.element.classList.add("subtitlesettings"),e.element.innerHTML=i.Ay.translateHtml('<form style="margin:0 auto"> <div class="verticalSection"> <h2 class="sectionTitle"> ${Subtitles} </h2> <div class="selectContainer"> <select is="emby-select" id="selectSubtitleLanguage" label="${LabelPreferredSubtitleLanguage}"></select> </div> <div class="selectContainer"> <select is="emby-select" id="selectSubtitlePlaybackMode" label="${LabelSubtitlePlaybackMode}"> <option value="Default">${Default}</option> <option value="Smart">${Smart}</option> <option value="OnlyForced">${OnlyForcedSubtitles}</option> <option value="Always">${AlwaysPlaySubtitles}</option> <option value="None">${None}</option> </select> <div class="fieldDescription subtitlesDefaultHelp subtitlesHelp hide">${DefaultSubtitlesHelp}</div> <div class="fieldDescription subtitlesSmartHelp subtitlesHelp hide">${SmartSubtitlesHelp}</div> <div class="fieldDescription subtitlesAlwaysHelp subtitlesHelp hide">${AlwaysPlaySubtitlesHelp}</div> <div class="fieldDescription subtitlesOnlyForcedHelp subtitlesHelp hide">${OnlyForcedSubtitlesHelp}</div> <div class="fieldDescription subtitlesNoneHelp subtitlesHelp hide">${NoSubtitlesHelp}</div> </div> <div class="selectContainer fldBurnIn hide"> <select is="emby-select" id="selectSubtitleBurnIn" label="${LabelBurnSubtitles}"> <option value="">${Auto}</option> <option value="onlyimageformats">${OnlyImageFormats}</option> <option value="allcomplexformats">${AllComplexFormats}</option> <option value="all">${All}</option> </select> <div class="fieldDescription">${BurnSubtitlesHelp}</div> </div> </div> <div class="verticalSection subtitleAppearanceSection hide"> <h2 class="sectionTitle"> ${HeaderSubtitleAppearance} </h2> <div class="subtitleappearance-fullpreview subtitleappearance-fullpreview-hide"> <div class="subtitleappearance-fullpreview-window"> <div class="subtitleappearance-fullpreview-text"> ${HeaderSubtitleAppearance} <br> ${TheseSettingsAffectSubtitlesOnThisDevice} </div> </div> </div> <div style="margin:2em 0 2em"> <div class="subtitleappearance-preview flex align-items-center justify-content-center" style="margin:2em 0;padding:1.6em;color:#000;background:linear-gradient(140deg,#aa5cc3,#00a4dc)"> <div class="subtitleappearance-preview-window flex align-items-center justify-content-center" style="width:90%;padding:.25em"> <div class="subtitleappearance-preview-text flex align-items-center justify-content-center"> ${TheseSettingsAffectSubtitlesOnThisDevice} </div> </div> </div> <div class="fieldDescription">${SubtitleAppearanceSettingsDisclaimer}</div> <div class="fieldDescription">${SubtitleAppearanceSettingsAlsoPassedToCastDevices}</div> </div> <div class="selectContainer"> <select is="emby-select" id="selectTextSize" label="${LabelTextSize}"> <option value="smaller">${Smaller}</option> <option value="small">${Small}</option> <option value="">${Normal}</option> <option value="large">${Large}</option> <option value="larger">${Larger}</option> <option value="extralarge">${ExtraLarge}</option> </select> </div> <div class="selectContainer"> <select is="emby-select" id="selectTextWeight" label="${LabelTextWeight}"> <option value="normal">${Normal}</option> <option value="bold">${Bold}</option> </select> </div> <div class="selectContainer"> <select is="emby-select" id="selectFont" label="${LabelFont}"> <option value="">${Default}</option> <option value="typewriter">${Typewriter}</option> <option value="print">${Print}</option> <option value="console">${Console}</option> <option value="cursive">${Cursive}</option> <option value="casual">${Casual}</option> <option value="smallcaps">${SmallCaps}</option> </select> </div> <div class="inputContainer hide"> <input is="emby-input" id="inputTextBackground" label="${LabelTextBackgroundColor}" type="text"/> </div> <div class="selectContainer"> <input is="emby-input" id="inputTextColor" label="${LabelTextColor}" type="color"/> </div> <div class="selectContainer hide"> <select is="emby-select" id="selectTextColor" label="${LabelTextColor}"> <option value="#ffffff">${SubtitleWhite}</option> <option value="#d3d3d3">${SubtitleLightGray}</option> <option value="#808080">${SubtitleGray}</option> <option value="#ffff00">${SubtitleYellow}</option> <option value="#008000">${SubtitleGreen}</option> <option value="#00ffff">${SubtitleCyan}</option> <option value="#0000ff">${SubtitleBlue}</option> <option value="#ff00ff">${SubtitleMagenta}</option> <option value="#ff0000">${SubtitleRed}</option> <option value="#000000">${SubtitleBlack}</option> </select> </div> <div class="selectContainer"> <select is="emby-select" id="selectDropShadow" label="${LabelDropShadow}"> <option value="none">${None}</option> <option value="raised">${Raised}</option> <option value="depressed">${Depressed}</option> <option value="uniform">${Uniform}</option> <option value="">${DropShadow}</option> </select> </div> <div class="sliderContainer-settings"> <div class="sliderContainer"> <input is="emby-slider" id="sliderVerticalPosition" label="${LabelSubtitleVerticalPosition}" type="range" min="-16" max="16"/> </div> <div class="fieldDescription">${SubtitleVerticalPositionHelp}</div> </div> <div class="checkboxContainer"> <label> <input is="emby-checkbox" type="checkbox" class="chkPreview"/> <span>${Preview}</span> </label> </div> </div> <button is="emby-button" type="submit" class="raised button-submit block btnSave hide"> <span>${Save}</span> </button> </form> ',"core"),e.element.querySelector("form").addEventListener("submit",t.onSubmit.bind(t)),e.element.querySelector("#selectSubtitlePlaybackMode").addEventListener("change",g),e.element.querySelector("#selectTextSize").addEventListener("change",S),e.element.querySelector("#selectTextWeight").addEventListener("change",S),e.element.querySelector("#selectDropShadow").addEventListener("change",S),e.element.querySelector("#selectFont").addEventListener("change",S),e.element.querySelector("#selectTextColor").addEventListener("change",S),e.element.querySelector("#inputTextColor").addEventListener("change",S),e.element.querySelector("#inputTextBackground").addEventListener("change",S),e.enableSaveButton&&e.element.querySelector(".btnSave").classList.remove("hide"),a.g.supports("subtitleappearancesettings")){e.element.querySelector(".subtitleAppearanceSection").classList.remove("hide"),t._fullPreview=e.element.querySelector(".subtitleappearance-fullpreview"),t._refFullPreview=0;var n=e.element.querySelector("#sliderVerticalPosition");n.addEventListener("input",S),n.addEventListener("input",(function(){return x.call(t)}));var l=window.PointerEvent?"pointer":"mouse";n.addEventListener("".concat(l,"enter"),(function(){return x.call(t,!0)})),n.addEventListener("".concat(l,"leave"),(function(){return A.call(t,!0)})),o.A.tv&&(n.addEventListener("focus",(function(){return x.call(t,!0)})),n.addEventListener("blur",(function(){return A.call(t,!0)})),setTimeout((function(){n.classList.add("focusable"),n.enableKeyboardDragging()}),0),d.Ay.parentWithTag(e.element.querySelector("#inputTextColor"),"DIV").classList.add("hide"),d.Ay.parentWithTag(e.element.querySelector("#selectTextColor"),"DIV").classList.remove("hide")),e.element.querySelector(".chkPreview").addEventListener("change",(function(e){e.target.checked?x.call(t,!0):A.call(t,!0)}))}t.loadData(),e.autoFocus&&r.A.autoFocus(e.element)}(t,this)},t=[{key:"loadData",value:function(){var e=this,t=e.options.element;s.Ay.show();var n=e.options.userId,i=p.A.getApiClient(e.options.serverId),r=e.options.userSettings;i.getUser(n).then((function(o){r.setUserInfo(n,i).then((function(){e.dataLoaded=!0;var n=r.getSubtitleAppearanceSettings(e.options.appearanceKey);!function(e,t,n,i,r){r.getCultures().then((function(n){a.g.supports("subtitleburnsettings")&&t.Policy.EnableVideoPlaybackTranscoding&&e.querySelector(".fldBurnIn").classList.remove("hide");var r=e.querySelector("#selectSubtitleLanguage");c(r,n),r.value=t.Configuration.SubtitleLanguagePreference||"",e.querySelector("#selectSubtitlePlaybackMode").value=t.Configuration.SubtitleMode||"",e.querySelector("#selectSubtitlePlaybackMode").dispatchEvent(new CustomEvent("change",{})),e.querySelector("#selectTextSize").value=i.textSize||"",e.querySelector("#selectTextWeight").value=i.textWeight||"normal",e.querySelector("#selectDropShadow").value=i.dropShadow||"",e.querySelector("#inputTextBackground").value=i.textBackground||"transparent",e.querySelector("#selectTextColor").value=i.textColor||"#ffffff",e.querySelector("#inputTextColor").value=i.textColor||"#ffffff",e.querySelector("#selectFont").value=i.font||"",e.querySelector("#sliderVerticalPosition").value=i.verticalPosition,e.querySelector("#selectSubtitleBurnIn").value=l.A.get("subtitleburnin")||"",S({target:e.querySelector("#selectTextSize")}),s.Ay.hide()}))}(t,o,0,n,i)}))}))}},{key:"submit",value:function(){this.onSubmit(null)}},{key:"destroy",value:function(){this.options=null}},{key:"onSubmit",value:function(e){var t=this,n=p.A.getApiClient(t.options.serverId),a=t.options.userId,r=t.options.userSettings;return r.setUserInfo(a,n).then((function(){var e=t.options.enableSaveConfirmation;!function(e,t,n,a,r,o){s.Ay.show(),l.A.set("subtitleburnin",t.querySelector("#selectSubtitleBurnIn").value),r.getUser(n).then((function(n){(function(e,t,n,i,a){var l=n.getSubtitleAppearanceSettings(i);return l=Object.assign(l,y(e)),n.setSubtitleAppearanceSettings(l,i),t.Configuration.SubtitleLanguagePreference=e.querySelector("#selectSubtitleLanguage").value,t.Configuration.SubtitleMode=e.querySelector("#selectSubtitlePlaybackMode").value,a.updateUserConfiguration(t.Id,t.Configuration)})(t,n,a,e.appearanceKey,r).then((function(){s.Ay.hide(),o&&(0,f.A)(i.Ay.translate("SettingsSaved")),v.A.trigger(e,"saved")}),(function(){s.Ay.hide()}))}))}(t,t.options.element,a,r,n,e)})),e&&e.preventDefault(),!1}}],t&&h(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),k=L,C=n(82885),T=n(84069),E=C.UserSettings;function I(e,t){var n,i=t.userId||ApiClient.getCurrentUserId(),a=i===ApiClient.getCurrentUserId()?C:new E;e.addEventListener("viewshow",(function(){n?n.loadData():n=new k({serverId:ApiClient.serverId(),userId:i,element:e.querySelector(".settingsContainer"),userSettings:a,enableSaveButton:!0,enableSaveConfirmation:!0,autoFocus:T.default.isEnabled()})})),e.addEventListener("viewdestroy",(function(){n&&(n.destroy(),n=null)}))}},63001:function(e,t,n){var i=n(46782),a=n(34789),l=n(79617),r=(n(69177),Object.create(HTMLSelectElement.prototype));function o(){return!(!a.A.edgeUwp&&!a.A.xboxOne&&(a.A.tizen||a.A.orsay||a.A.web0s||!a.A.tv&&i.A.tv))}function s(e){var t=u(e),n=t?t.textContent||t.innerText:null;l.default.show({items:e.options,positionTo:e,title:n}).then((function(t){!function(e,t){e.value=t}(e,t),function(e){var t=new Event("change",{bubbles:!1,cancelable:!0});e.dispatchEvent(t)}(e)}))}function u(e){for(var t=e.previousSibling;t&&"LABEL"!==t.tagName;)t=t.previousSibling;return t}function c(){var e=u(this);e&&e.classList.add("selectLabelFocused")}function d(){var e=u(this);e&&e.classList.remove("selectLabelFocused")}function v(e){e.button||o()||(e.preventDefault(),s(this))}function p(e){switch(e.keyCode){case 13:return void(o()||(e.preventDefault(),s(this)));case 37:case 38:case 39:case 40:return void(i.A.tv&&e.preventDefault())}}var f=0;r.createdCallback=function(){this.id||(this.id="embyselect"+f,f++),this.classList.add("emby-select-withcolor"),i.A.tv&&this.classList.add("emby-select-focusscale"),this.addEventListener("mousedown",v),this.addEventListener("keydown",p),this.addEventListener("focus",c),this.addEventListener("blur",d)},r.attachedCallback=function(){var e;if(!this.classList.contains("emby-select")){this.classList.add("emby-select");var t,n=this.ownerDocument.createElement("label");n.innerText=this.getAttribute("label")||"",n.classList.add("selectLabel"),n.htmlFor=this.id,null===(e=this.parentNode)||void 0===e||e.insertBefore(n,this),this.classList.contains("emby-select-withcolor")&&(null===(t=this.parentNode)||void 0===t||t.insertAdjacentHTML("beforeend",'<div class="selectArrowContainer"><div style="visibility:hidden;display:none;">0</div><span class="selectArrow material-icons keyboard_arrow_down" aria-hidden="true"></span></div>'))}},r.setLabel=function(e){var t;(null===(t=this.parentNode)||void 0===t?void 0:t.querySelector("label")).innerText=e},document.registerElement("emby-select",{prototype:r,extends:"select"})},57949:function(e,t,n){n(29305),n(32733),n(84701),n(69892),n(44962),n(86584),n(89336),n(9698),n(36947),n(36457),n(78557),n(67593),n(95021),n(73687),n(83994),n(23630),n(82367);var i=n(98526),a=n(34789),l=n(47629),r=n(46782),o=n(74550),s=(n(69177),n(98959),n(9482)),u=n(51686);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var d=Object.create(HTMLInputElement.prototype),v=!1;if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var p=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");null!=p&&p.configurable&&(v=!0)}function f(e,t){return t>0||(t=parseFloat(e.step))>0?t:1}function m(e,t){var n=e.sliderBubbleTrack.getBoundingClientRect(),i=(t-n.left)/n.width;s.Ay.getIsElementRTL(e)&&(i=(n.right-t)/n.width);var a=e.max-e.min;if("any"!==e.step&&0!==a){var l=f(e)/a;i=Math.round(i/l)*l}return Math.min(Math.max(i,0),1)}function h(e,t){var n=(e.max-e.min)*t,i=null;if("any"!==e.step){var a=f(e);i=(0,u.lf)(a),n=Math.round(n/a)*a}var l=parseFloat(e.min);return n+=l,null!=i&&(i=Math.max(i,(0,u.lf)(l)),n=parseFloat(n.toFixed(i))),Math.min(Math.max(n,e.min),e.max)}function b(e){if(!e||!this.keyboardDragging&&!this.touched){var t=this,n=t.value;cancelAnimationFrame(t.updateValuesFrame),t.updateValuesFrame=requestAnimationFrame((function(){var e=t.backgroundLower;if(e){var a=(n-t.min)/(t.max-t.min);a*=100,e.style.width=a+"%"}t.markerContainerElement&&function(e,t){var n,a;if(e.getMarkerInfo){var l=e.getMarkerInfo();if(!e.markerInfo||!(0,i.A)(e.markerInfo,l)){e.markerInfo=l;var r="";e.markerInfo.forEach((function(){r+='<span class="sliderMarker" aria-hidden="true"></span>'})),e.markerContainerElement.innerHTML=r,e.markerElements=e.markerContainerElement.querySelectorAll(".sliderMarker")}}if(null!==(n=e.markerInfo)&&void 0!==n&&n.length&&null!==(a=e.markerElements)&&void 0!==a&&a.length)for(var o=0,s=e.markerElements.length;o<s;o++)e.markerInfo.length>o&&g(e,h(e,e.markerInfo[o].progress),e.markerElements[o],t)}(t,n)}))}}function y(e,t,n,i){requestAnimationFrame((function(){var a,l,r=e.sliderBubbleTrack.getBoundingClientRect(),o=i.getBoundingClientRect(),u=r.width*t/100;s.Ay.getIsElementRTL(e)&&(u=r.width-u),u=Math.min(Math.max(u,o.width/2),r.width-o.width/2),i.style.left=u+"px",null!==(a=e.updateBubbleHtml)&&void 0!==a&&a.call(e,i,n)||(l=e.getBubbleHtml?e.getBubbleHtml(t,n):'<h1 class="sliderBubbleText">'+(l=e.getBubbleText?e.getBubbleText(t,n):n.toLocaleString())+"</h1>",i.innerHTML=l)}))}function g(e,t,n,i){requestAnimationFrame((function(){var a=e.sliderBubbleTrack.getBoundingClientRect(),l=n.getBoundingClientRect();if(a.width&&l.width){var r=a.width*t/100-l.width/2;r=Math.min(Math.max(r,-l.width/2),a.width-l.width/2),n.style.left=r+"px",i>=t?(n.classList.remove("unwatched"),n.classList.add("watched")):(n.classList.add("unwatched"),n.classList.remove("watched"))}}))}d.attachedCallback=function(){if("true"!==this.getAttribute("data-embyslider")){this.setAttribute("data-embyslider","true"),this.classList.add("mdl-slider"),this.classList.add("mdl-js-slider"),a.A.edge&&this.classList.add("slider-browser-edge"),r.A.mobile||this.classList.add("mdl-slider-hoverthumb"),r.A.tv&&this.classList.add("show-focus");var e=l.Ay.parentWithClass(this,"sliderContainer-settings");if(e&&this.getAttribute("label")){var t=this.ownerDocument.createElement("label");t.innerText=this.getAttribute("label"),t.classList.add("sliderLabel"),t.htmlFor=this.id,e.insertBefore(t,e.firstChild)}var n=this.parentNode;n.classList.add("mdl-slider-container"),n.insertAdjacentHTML("beforeend",'<div class="mdl-slider-background-flex-container"><div class="mdl-slider-background-flex"><div class="mdl-slider-background-flex-inner"><div class="mdl-slider-background-upper"></div><div class="mdl-slider-background-lower"></div></div></div></div><div class="sliderBubbleTrack"><div class="sliderBubble hide"></div></div>'),this.sliderBubbleTrack=n.querySelector(".sliderBubbleTrack"),this.backgroundLower=n.querySelector(".mdl-slider-background-lower"),this.backgroundUpper=n.querySelector(".mdl-slider-background-upper");var i=n.querySelector(".sliderBubble"),o=i.classList.contains("hide");this.markerContainerElement=n.querySelector(".sliderMarkerContainer"),l.Ay.addEventListener(this,"input",(function(){var e,t,n,a;this.dragging=!0,"true"!==this.dataset.sliderKeepProgress&&b.call(this),y(this,100*(e=this,t=this.value,a=0!==(n=e.max-e.min)?(t-e.min)/n:0,Math.min(Math.max(a,0),1)),parseFloat(this.value),i),o&&(i.classList.remove("hide"),o=!1)}),{passive:!0}),l.Ay.addEventListener(this,"change",(function(){this.dragging=!1,"true"===this.dataset.sliderKeepProgress&&b.call(this),i.classList.add("hide"),o=!0}),{passive:!0}),l.Ay.addEventListener(this,window.PointerEvent?"pointermove":"mousemove",(function(e){if(!this.dragging){var t=m(this,e.clientX);y(this,100*t,h(this,t),i),o&&(i.classList.remove("hide"),o=!1)}}),{passive:!0}),l.Ay.addEventListener(this,window.PointerEvent?"pointerleave":"mouseleave",(function(){i.classList.add("hide"),o=!0}),{passive:!0}),a.A.iOS&&(l.Ay.addEventListener(this,"touchstart",(function(e){if(1===e.targetTouches.length){this.touched=!0;var t=m(this,e.targetTouches[0].clientX);this.value=h(this,t),this.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!1})),e.preventDefault()}}),{capture:!0}),l.Ay.addEventListener(this,"touchmove",(function(e){if(this.touched&&1===e.targetTouches.length){var t=m(this,e.targetTouches[0].clientX);this.value=h(this,t),this.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!1}))}}),{passive:!0}),l.Ay.addEventListener(this,"touchend",(function(){var e=this;setTimeout((function(){e.touched=!1,e.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!1}))}),0)}),{passive:!0})),v?this.addEventListener("valueset",b.bind(this,!0)):((u=(s=this).interval)&&clearInterval(u),s.interval=setInterval(b.bind(s,!0),100)),b.call(this)}var s,u};var S,w=1e3;function x(e){clearTimeout(S),S=void 0,e.keyboardDragging=!1;var t=new Event("change",{bubbles:!0,cancelable:!1});e.dispatchEvent(t)}function A(e,t){!function(e){e.keyboardDragging=!0,clearTimeout(S),S=setTimeout((function(){x(e)}),w)}(e),e.value=Math.max(e.min,Math.min(e.max,parseFloat(e.value)+t));var n=new Event("input",{bubbles:!0,cancelable:!1});e.dispatchEvent(n)}function L(e){switch(o.Ay.getKeyName(e)){case"ArrowLeft":case"Left":A(this,-f(this,this.keyboardStepDown)),e.preventDefault(),e.stopPropagation();break;case"ArrowRight":case"Right":A(this,f(this,this.keyboardStepUp)),e.preventDefault(),e.stopPropagation();break;case"Enter":this.keyboardDragging&&(x(this),e.preventDefault(),e.stopPropagation())}}function k(e,t,n){var i=e.style;s.Ay.getIsRTL()?i.right=Math.max(t,0)+"%":i.left=Math.max(t,0)+"%";var a=n-t;i.width=Math.max(Math.min(a,100),0)+"%"}d.enableKeyboardDragging=function(){this.keyboardDraggingEnabled||(this.addEventListener("keydown",L),this.keyboardDraggingEnabled=!0)},d.setKeyboardSteps=function(e,t){this.keyboardStepDown=e||t||1,this.keyboardStepUp=t||e||1},d.setBufferedRanges=function(e,t,n){var i=this.backgroundUpper;if(i){null!=t&&(e=function(e,t){return t?e.map((function(e){return{start:e.start/t*100,end:e.end/t*100}})):[]}(e,t),n=n/t*100);var a,l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,r=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){o=!0,l=e},f:function(){try{r||null==n.return||n.return()}finally{if(o)throw l}}}}(e);try{for(l.s();!(a=l.n()).done;){var r=a.value;if(!(null!=n&&n>=r.end))return void k(i,r.start,r.end)}}catch(e){l.e(e)}finally{l.f()}k(i,0,0)}},d.setIsClear=function(e){var t=this.backgroundLower;t&&(e?t.classList.add("mdl-slider-background-lower-clear"):t.classList.remove("mdl-slider-background-lower-clear"))},d.detachedCallback=function(){var e=this.interval;e&&clearInterval(e),this.interval=null,this.backgroundUpper=null,this.backgroundLower=null},document.registerElement("emby-slider",{prototype:d,extends:"input"})},79617:function(e,t,n){n.r(t),n.d(t,{show:function(){return d}});var i=n(22696),a=n.n(i),l=n(79754),r=n(46782),o=n(9482),s=n(47629),u=(n(10353),function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")});function c(e,t,i){Promise.resolve().then(n.bind(n,46345)).then((function(n){var a=i?"on":"off";n.centerFocus[a](e,t)})).catch((function(e){console.warn("Error in centerFocus",e)}))}function d(e){var t,n,i,d={removeOnClose:!0,enableHistory:e.enableHistory,scrollY:!1};r.A.tv?(d.size="fullscreen",i=!0,d.autoFocus=!0):(d.modal=!1,d.entryAnimation=e.entryAnimation,d.exitAnimation=e.exitAnimation,d.entryAnimationDuration=e.entryAnimationDuration||140,d.exitAnimationDuration=e.exitAnimationDuration||100,d.autoFocus=!1);var v=l.default.createDialog(d);i?v.classList.add("actionsheet-fullscreen"):v.classList.add("actionsheet-not-fullscreen"),v.classList.add("actionSheet"),e.dialogClass&&v.classList.add(e.dialogClass);var p="",f=r.A.tv?"scrollY smoothScrollY hiddenScrollY":"scrollY",m="";e.items.length>20&&(m+="min-width:"+(s.Ay.getWindowSize().innerWidth>=300?240:200)+"px;");var h,b=!1,y=[];try{for(var g=u(e.items),S=g.next();!S.done;S=g.next())(h=(k=S.value).icon||(k.selected?"check":null))&&(b=!0),y.push(h||"")}catch(e){t={error:e}}finally{try{S&&!S.done&&(n=g.return)&&n.call(g)}finally{if(t)throw t.error}}r.A.tv&&(p+='<button is="paper-icon-button-light" class="btnCloseActionSheet hide-mouse-idle-tv" tabindex="-1" title="'.concat(o.Ay.translate("ButtonBack"),'">\n                     <span class="material-icons arrow_back" aria-hidden="true"></span>\n                 </button>'));var w=e.title&&!b;w||r.A.tv?p+='<div class="actionSheetContent actionSheetContent-centered">':p+='<div class="actionSheetContent">',e.title&&(p+='<h1 class="actionSheetTitle">'+a()(e.title)+"</h1>"),e.text&&(p+='<p class="actionSheetText">'+a()(e.text)+"</p>");var x="actionSheetScroller";r.A.tv&&(x+=" actionSheetScroller-tv focuscontainer-x focuscontainer-y"),p+='<div class="'+x+" "+f+'" style="'+m+'">';var A="listItem listItem-button actionSheetMenuItem";(e.border||e.shaded)&&(A+=" listItem-border"),e.menuItemClass&&(A+=" "+e.menuItemClass),r.A.tv&&(A+=" listItem-focusscale"),r.A.mobile&&(A+=" actionsheet-xlargeFont");for(var L=0;L<e.items.length;L++){var k;(k=e.items[L]).divider?p+='<div class="actionsheetDivider"></div>':(p+="<button"+(k.selected&&r.A.tv?" autoFocus":"")+' is="emby-button" type="button" class="'+A+'" data-id="'+(null==k.id||""===k.id?k.value:k.id)+'">',(h=y[L])?p+='<span class="actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons '.concat(h,'" aria-hidden="true"></span>'):b&&!w&&(p+='<span class="actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons check" aria-hidden="true" style="visibility:hidden;"></span>'),p+='<div class="listItemBody actionsheetListItemBody">',p+='<div class="listItemBodyText actionSheetItemText">',p+=a()(k.name||k.textContent||k.innerText),p+="</div>",k.secondaryText&&(p+='<div class="listItemBodyText secondary">'.concat(a()(k.secondaryText),"</div>")),p+="</div>",k.asideText&&(p+='<div class="listItemAside actionSheetItemAsideText">'.concat(a()(k.asideText),"</div>")),p+="</button>")}if(e.showCancel&&(p+='<div class="buttons">',p+='<button is="emby-button" type="button" class="btnCloseActionSheet">'.concat(o.Ay.translate("ButtonCancel"),"</button>"),p+="</div>"),p+="</div>",v.innerHTML=p,r.A.tv){var C=v.querySelector(".actionSheetScroller");C&&c(C,!1,!0)}var T=v.querySelector(".btnCloseActionSheet");T&&T.addEventListener("click",(function(){l.default.close(v)}));var E,I=null;return e.timeout&&(E=setTimeout((function(){l.default.close(v)}),e.timeout)),new Promise((function(t,n){var i=!1;v.addEventListener("click",(function(n){var a=s.Ay.parentWithClass(n.target,"actionSheetMenuItem");a&&(I=a.getAttribute("data-id"),e.resolveOnClick&&(Array.isArray(e.resolveOnClick)?-1!==e.resolveOnClick.indexOf(I)&&(t(I),i=!0):(t(I),i=!0)),l.default.close(v))})),v.addEventListener("close",(function(){if(r.A.tv){var a=v.querySelector(".actionSheetScroller");a&&c(a,!1,!1)}E&&(clearTimeout(E),E=void 0),i||(null!=I?(e.callback&&e.callback(I),t(I)):n("ActionSheet closed without resolving"))})),l.default.open(v).catch((function(e){console.warn("DialogHelper.open error",e)}));var a=e.positionTo&&"fullscreen"!==d.size?function(e,t,n){var i=s.Ay.getWindowSize(),a=i.innerHeight,l=i.innerWidth,r=function(e){var t,n,i=[];if(!document)return i;try{for(var a=u(e),l=a.next();!l.done;l=a.next()){var r=l.value.getBoundingClientRect();i.push({top:r.top,left:r.left,width:r.width,height:r.height})}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i}([e])[0];"top"!==t.positionY&&(r.top+=(r.height||0)/2),r.left+=(r.width||0)/2;var o=n.offsetHeight||300,c=n.offsetWidth||160;r.top-=o/2,r.left-=c/2;var d=r.left+c-l,v=r.top+o-a;return d>0&&(r.left-=d+20),v>0&&(r.top-=v+20),r.top+=t.offsetTop||0,r.left+=t.offsetLeft||0,r.top=Math.max(r.top,10),r.left=Math.max(r.left,10),r}(e.positionTo,e,v):null;a&&(v.style.position="fixed",v.style.margin="0",v.style.left=a.left+"px",v.style.top=a.top+"px")}))}t.default={show:d}}}]);