"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9375],{96084:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}}),n(5769),n(86248),n(63238),n(61418),n(17460),n(14078),n(61013),n(98010),n(23938);var a=n(61097),r=n(56705),i=n(83094),c=n(44614),s=n(7816),o=n(64258),d=n(9785),l=(n(78066),n(32420),n(46650),n(76543)),u=n(56346);function Z(e,t,n,a,r,i,c){try{var s=e[i](c),o=s.value}catch(e){return void n(e)}s.done?t(o):Promise.resolve(o).then(a,r)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function c(e){Z(i,a,r,c,s,"next",e)}function s(e){Z(i,a,r,c,s,"throw",e)}c(void 0)}))}}var f=[];function p(e){return e!==ApiClient.deviceId()}function m(e){r.ZP.show(),ApiClient.getJSON(ApiClient.getUrl("Devices")).then((function(t){!function(e,t){var n="";n+=t.map((function(e){var t="";t+="<div data-id='"+e.Id+"' class='card backdropCard'>",t+='<div class="cardBox visualCardBox">',t+='<div class="cardScalable">',t+='<div class="cardPadder cardPadder-backdrop"></div>',t+='<a is="emby-linkbutton" href="'.concat(h?"#!/device.html?id="+e.Id:"#",'" class="cardContent cardImageContainer ').concat(a.default.getDefaultBackgroundClass(),'">');var n=s.ZP.getDeviceIcon(e);return n?(t+='<div class="cardImage" style="background-image:url(\''+n+"');background-size: auto 64%;background-position:center center;\">",t+="</div>"):t+='<span class="cardImageIcon material-icons tablet_android"></span>',t+="</a>",t+="</div>",t+='<div class="cardFooter">',(h||p(e.Id))&&(t+='<div style="text-align:right; float:right;padding-top:5px;">',t+='<button type="button" is="paper-icon-button-light" data-id="'+e.Id+'" title="'+c.ZP.translate("Menu")+'" class="btnDeviceMenu"><span class="material-icons more_vert"></span></button>',t+="</div>"),t+="<div class='cardText'>",t+=e.Name,t+="</div>",t+="<div class='cardText cardText-secondary'>",t+=e.AppName+" "+e.AppVersion,t+="</div>",t+="<div class='cardText cardText-secondary'>",e.LastUserName&&(t+=e.LastUserName,t+=", "+(0,o.Z)(Date.parse(e.DateLastActivity),d.mF)),t+="&nbsp;",t+="</div>",t+="</div>",(t+="</div>")+"</div>"})).join(""),e.querySelector(".devicesList").innerHTML=n}(e,t.Items),f=t.Items.map((function(e){return e.Id})),r.ZP.hide()}))}var h=ApiClient.isMinServerVersion("3.4.1.31");function g(e){e.querySelector(".devicesList").addEventListener("click",(function(t){var a=i.ZP.parentWithClass(t.target,"btnDeviceMenu");a&&function(e,t,a){var i=[];h&&i.push({name:c.ZP.translate("Edit"),id:"open",icon:"mode_edit"}),p(a)&&i.push({name:c.ZP.translate("Delete"),id:"delete",icon:"delete"}),Promise.resolve().then(n.bind(n,78407)).then((function(n){n.default.show({items:i,positionTo:t,callback:function(t){switch(t){case"open":l.ZP.navigate("device.html?id="+a);break;case"delete":!function(e,t){var n=c.ZP.translate("DeleteDeviceConfirmation");(0,u.Z)({text:n,title:c.ZP.translate("HeaderDeleteDevice"),confirmText:c.ZP.translate("Delete"),primary:"delete"}).then(v(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.ZP.show(),n.next=3,ApiClient.deleteDevice(t);case 3:m(e);case 4:case"end":return n.stop()}}),n)}))))}(e,a)}}})}))}(e,a,a.getAttribute("data-id"))})),e.addEventListener("viewshow",(function(){m(this)})),e.querySelector("#deviceDeleteAll").addEventListener("click",(function(){var t,n;t=e,n=c.ZP.translate("DeleteDevicesConfirmation"),(0,u.Z)({text:n,title:c.ZP.translate("HeaderDeleteDevices"),confirmText:c.ZP.translate("Delete"),primary:"delete"}).then(v(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.ZP.show(),e.next=3,Promise.all(f.filter(p).map((function(e){return ApiClient.deleteDevice(e)})));case 3:m(t);case 4:case"end":return e.stop()}}),e)}))))}))}},9785:function(e,t,n){n.d(t,{Kd:function(){return $},mF:function(){return ee}}),n(52077),n(911);var a=n(77946),r=n(42845),i=n(11401),c=n(84146),s=n(59996),o=n(78210),d=n(9477),l=n(33026),u=n(91814),Z=n(88303),v=n(22410),f=n(35997),p=n(73956),m=n(86496),h=n(6902),g=n(35163),b=n(36749),P=n(89310),k=n(22481),x=n(75710),D=n(11109),C=n(74270),w=n(37159),y=n(27324),I=n(68490),L=n(19046),A=n(81905),T=n(19656),S=n(5905),M=n(64660),N=n(69509),z=n(69984),E=n(84216),R=n(77411),q=n(23282),B=n(60754),F=n(30318),H=n(45614),U=n(83305),_=n(95861),j=n(37405),V=n(6148),W=n(63258),J=n(50281),K=n(67889),O=n(44362),G=n(69244),Q=n(96730),X=n(44614),Y=function(e){return{af:a.Z,ar:r.Z,"be-by":i.Z,"bg-bg":c.Z,bn:s.Z,ca:o.Z,cs:d.Z,da:l.Z,de:u.Z,el:Z.Z,"en-gb":v.Z,"en-us":f.Z,eo:p.Z,es:m.Z,"es-ar":m.Z,"es-do":m.Z,"es-mx":m.Z,fa:h.Z,fi:g.Z,fr:b.Z,"fr-ca":P.Z,gl:k.Z,gsw:u.Z,he:x.Z,"hi-in":D.Z,hr:C.Z,hu:w.Z,id:y.Z,is:I.Z,it:L.Z,ja:A.Z,kk:T.Z,ko:S.Z,"lt-lt":M.Z,ms:N.Z,nb:z.Z,nl:E.Z,pl:R.Z,pt:q.Z,"pt-br":B.Z,"pt-pt":q.Z,ro:F.Z,ru:H.Z,sk:U.Z,"sl-si":_.Z,sv:j.Z,ta:V.Z,th:W.Z,tr:J.Z,uk:K.Z,vi:O.Z,"zh-cn":G.Z,"zh-hk":G.Z,"zh-tw":Q.Z}[e]};function $(){return Y(X.ZP.getCurrentLocale())||Y(X.ZP.getCurrentLocale().replace(/-.*/,""))||f.Z}var ee={addSuffix:!0,locale:$()};t.ZP={getLocale:$,localeWithSuffix:ee}}}]);