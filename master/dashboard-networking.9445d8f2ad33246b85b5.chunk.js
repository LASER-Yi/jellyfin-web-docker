"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[48797,12801,49213,31473],{12801:function(e,t,r){r.r(t),r.d(t,{show:function(){return h}}),r(5769),r(63238),r(61418),r(17460),r(14078),r(27471),r(72410),r(15610),r(52077),r(25901),r(92189),r(91047);var n=r(65009),o=r.n(n),i=r(93355),l=r(30325),c=r(94994),a=r(72365);function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){c=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(c)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t,n){Promise.resolve().then(r.bind(r,54517)).then((function(r){var o=n?"on":"off";r.centerFocus[o](e,t)}))}function h(e){var t,r={removeOnClose:!0,enableHistory:e.enableHistory,scrollY:!1};l.Z.tv?(r.size="fullscreen",t=!0,r.autoFocus=!0):(r.modal=!1,r.entryAnimation=e.entryAnimation,r.exitAnimation=e.exitAnimation,r.entryAnimationDuration=e.entryAnimationDuration||140,r.exitAnimationDuration=e.exitAnimationDuration||100,r.autoFocus=!1);var n=i.default.createDialog(r);t?n.classList.add("actionsheet-fullscreen"):n.classList.add("actionsheet-not-fullscreen"),n.classList.add("actionSheet"),e.dialogClass&&n.classList.add(e.dialogClass);var u="",h=l.Z.tv?"scrollY smoothScrollY hiddenScrollY":"scrollY",v="";e.items.length>20&&(v+="min-width:"+(a.ZP.getWindowSize().innerWidth>=300?240:200)+"px;");var f,y,S=!1,p=[],b=s(e.items);try{for(b.s();!(y=b.n()).done;){var m=y.value;(f=m.icon||(m.selected?"check":null))&&(S=!0),p.push(f||"")}}catch(e){b.e(e)}finally{b.f()}l.Z.tv&&(u+='<button is="paper-icon-button-light" class="btnCloseActionSheet hide-mouse-idle-tv" tabindex="-1" title="'.concat(c.ZP.translate("ButtonBack"),'">\n                     <span class="material-icons arrow_back" aria-hidden="true"></span>\n                 </button>'));var P=e.title&&!S;P||l.Z.tv?u+='<div class="actionSheetContent actionSheetContent-centered">':u+='<div class="actionSheetContent">',e.title&&(u+='<h1 class="actionSheetTitle">'+o()(e.title)+"</h1>"),e.text&&(u+='<p class="actionSheetText">'+o()(e.text)+"</p>");var k="actionSheetScroller";l.Z.tv&&(k+=" actionSheetScroller-tv focuscontainer-x focuscontainer-y"),u+='<div class="'+k+" "+h+'" style="'+v+'">';var q="listItem listItem-button actionSheetMenuItem";(e.border||e.shaded)&&(q+=" listItem-border"),e.menuItemClass&&(q+=" "+e.menuItemClass),l.Z.tv&&(q+=" listItem-focusscale"),l.Z.mobile&&(q+=" actionsheet-xlargeFont");for(var x=0;x<e.items.length;x++){var g=e.items[x];g.divider?u+='<div class="actionsheetDivider"></div>':(u+="<button"+(g.selected&&l.Z.tv?" autoFocus":"")+' is="emby-button" type="button" class="'+q+'" data-id="'+(null==g.id||""===g.id?g.value:g.id)+'">',(f=p[x])?u+='<span class="actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons '.concat(f,'" aria-hidden="true"></span>'):S&&!P&&(u+='<span class="actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons check" aria-hidden="true" style="visibility:hidden;"></span>'),u+='<div class="listItemBody actionsheetListItemBody">',u+='<div class="listItemBodyText actionSheetItemText">',u+=o()(g.name||g.textContent||g.innerText),u+="</div>",g.secondaryText&&(u+='<div class="listItemBodyText secondary">'.concat(o()(g.secondaryText),"</div>")),u+="</div>",g.asideText&&(u+='<div class="listItemAside actionSheetItemAsideText">'.concat(o()(g.asideText),"</div>")),u+="</button>")}e.showCancel&&(u+='<div class="buttons">',u+='<button is="emby-button" type="button" class="btnCloseActionSheet">'.concat(c.ZP.translate("ButtonCancel"),"</button>"),u+="</div>"),u+="</div>",n.innerHTML=u,l.Z.tv&&d(n.querySelector(".actionSheetScroller"),!1,!0);var E,w,A=n.querySelector(".btnCloseActionSheet");return A&&A.addEventListener("click",(function(){i.default.close(n)})),e.timeout&&(w=setTimeout((function(){i.default.close(n)}),e.timeout)),new Promise((function(t,o){var c;n.addEventListener("click",(function(r){var o=a.ZP.parentWithClass(r.target,"actionSheetMenuItem");o&&(E=o.getAttribute("data-id"),e.resolveOnClick&&(e.resolveOnClick.indexOf?-1!==e.resolveOnClick.indexOf(E)&&(t(E),c=!0):(t(E),c=!0)),i.default.close(n))})),n.addEventListener("close",(function(){l.Z.tv&&d(n.querySelector(".actionSheetScroller"),!1,!1),w&&(clearTimeout(w),w=null),c||(null!=E?(e.callback&&e.callback(E),t(E)):o("ActionSheet closed without resolving"))})),i.default.open(n);var u=e.positionTo&&"fullscreen"!==r.size?function(e,t){var r=a.ZP.getWindowSize(),n=r.innerHeight,o=r.innerWidth,i=function(e){var t=[];if(!document)return t;var r,n=s(e);try{for(n.s();!(r=n.n()).done;){var o=r.value.getBoundingClientRect();t.push({top:o.top,left:o.left,width:o.width,height:o.height})}}catch(e){n.e(e)}finally{n.f()}return t}([e.positionTo])[0];"top"!==e.positionY&&(i.top+=(i.height||0)/2),i.left+=(i.width||0)/2;var l=t.offsetHeight||300,c=t.offsetWidth||160;i.top-=l/2,i.left-=c/2;var u=i.left+c-o,d=i.top+l-n;return u>0&&(i.left-=u+20),d>0&&(i.top-=d+20),i.top+=e.offsetTop||0,i.left+=e.offsetLeft||0,i.top=Math.max(i.top,10),i.left=Math.max(i.left,10),i}(e,n):null;u&&(n.style.position="fixed",n.style.margin=0,n.style.left=u.left+"px",n.style.top=u.top+"px")}))}r(38228),t.default={show:h}},52566:function(e,t,r){r.r(t),r.d(t,{default:function(){return s}}),r(5769),r(98010),r(63238),r(61013),r(20266),r(61418),r(17460),r(14078);var n=r(28540),o=r(94994),i=(r(12291),r(15856),r(60635)),l=r(37099);function c(e){var t=this,r=t.querySelector("#txtLocalAddress").value,l=t.querySelector("#chkEnableUpnp").checked;!function(e,t,r){e||!t?a({title:o.ZP.translate("TitleHostingSettings"),text:o.ZP.translate("SettingsWarning")}).then(r):r()}(r,l,(function(){var e=function(e){return e.querySelector("#txtPublicPort").value===e.querySelector("#txtPublicHttpsPort").value?"The public http and https ports must be different.":e.querySelector("#txtPortNumber").value===e.querySelector("#txtHttpsPort").value?"The http and https ports must be different.":e.querySelector("#chkEnableIP6").checked||e.querySelector("#chkEnableIP4").checked?null:"Either IPv4 or IPv6 need to be checked."}(t);e?a(e):function(e){var t=e.querySelector("#txtCertificatePath").value||null;return e.querySelector("#chkEnableHttps").checked&&!t?a({title:o.ZP.translate("TitleHostingSettings"),text:o.ZP.translate("HttpsRequiresCert")}).then(Promise.reject):Promise.resolve()}(t).then((function(){n.ZP.show(),ApiClient.getNamedConfiguration("network").then((function(e){e.LocalNetworkSubnets=t.querySelector("#txtLanNetworks").value.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0})),e.RemoteIPFilter=t.querySelector("#txtExternalAddressFilter").value.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0})),e.KnownProxies=t.querySelector("#txtKnownProxies").value.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0})),e.LocalNetworkAddresses=t.querySelector("#txtLocalAddress").value.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0})),e.PublishedServerUriBySubnet=t.querySelector("#txtPublishedServer").value.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0})),e.IsRemoteIPFilterBlacklist="blacklist"===t.querySelector("#selectExternalAddressFilterMode").value,e.PublicPort=t.querySelector("#txtPublicPort").value,e.PublicHttpsPort=t.querySelector("#txtPublicHttpsPort").value,e.HttpServerPortNumber=t.querySelector("#txtPortNumber").value,e.HttpsPortNumber=t.querySelector("#txtHttpsPort").value,e.EnableHttps=t.querySelector("#chkEnableHttps").checked,e.RequireHttps=t.querySelector("#chkRequireHttps").checked,e.EnableUPnP=l,e.BaseUrl=t.querySelector("#txtBaseUrl").value,e.EnableRemoteAccess=t.querySelector("#chkRemoteAccess").checked,e.CertificatePath=t.querySelector("#txtCertificatePath").value||null,e.CertificatePassword=t.querySelector("#txtCertPassword").value||null,e.UPnPCreateHttpPortMap=t.querySelector("#chkCreateHttpPortMap").checked,e.AutoDiscovery=t.querySelector("#chkAutodiscovery").checked,e.AutoDiscoveryTracing=t.querySelector("#chkAutodiscoveryTracing").checked,e.EnableIPV6=t.querySelector("#chkEnableIP6").checked,e.EnableIPV4=t.querySelector("#chkEnableIP4").checked,e.UPnPCreateHttpPortMap=t.querySelector("#chkCreateHttpPortMap").checked,e.UDPPortRange=t.querySelector("#txtUDPPortRange").value,e.HDHomerunPortRange=t.querySelector("#txtHDHomerunPortRange").value,e.EnableSSDPTracing=t.querySelector("#chkEnableSSDPTracing").checked,e.SSDPTracingFilter=t.querySelector("#txtSSDPTracingFilter").value,ApiClient.updateNamedConfiguration("network",e).then(i.default.processServerConfigurationUpdateResult,i.default.processErrorResponse)}))}))})),e.preventDefault()}function a(e){return new Promise((function(t,r){(0,l.Z)(e).then(t,r)}))}function s(e){e.querySelector("#chkRemoteAccess").addEventListener("change",(function(){this.checked?(e.querySelector(".fldExternalAddressFilter").classList.remove("hide"),e.querySelector(".fldExternalAddressFilterMode").classList.remove("hide"),e.querySelector(".fldPublicPort").classList.remove("hide"),e.querySelector(".fldPublicHttpsPort").classList.remove("hide"),e.querySelector(".fldEnableUpnp").classList.remove("hide")):(e.querySelector(".fldExternalAddressFilter").classList.add("hide"),e.querySelector(".fldExternalAddressFilterMode").classList.add("hide"),e.querySelector(".fldPublicPort").classList.add("hide"),e.querySelector(".fldPublicHttpsPort").classList.add("hide"),e.querySelector(".fldEnableUpnp").classList.add("hide"))})),e.querySelector("#btnSelectCertPath").addEventListener("click",(function(){Promise.resolve().then(r.bind(r,98043)).then((function(t){var r=new(0,t.default);r.show({includeFiles:!0,includeDirectories:!0,callback:function(t){t&&(e.querySelector("#txtCertificatePath").value=t),r.close()},header:o.ZP.translate("HeaderSelectCertificatePath")})}))})),e.querySelector(".dashboardHostingForm").addEventListener("submit",c),e.addEventListener("viewshow",(function(){n.ZP.show(),ApiClient.getNamedConfiguration("network").then((function(t){!function(e,t){var r,o;e.querySelector("#txtPortNumber").value=t.HttpServerPortNumber,e.querySelector("#txtPublicPort").value=t.PublicPort,e.querySelector("#txtPublicHttpsPort").value=t.PublicHttpsPort,e.querySelector("#txtLocalAddress").value=(t.LocalNetworkAddresses||[]).join(", "),e.querySelector("#txtLanNetworks").value=(t.LocalNetworkSubnets||[]).join(", "),e.querySelector("#txtKnownProxies").value=(t.KnownProxies||[]).join(", "),e.querySelector("#txtExternalAddressFilter").value=(t.RemoteIPFilter||[]).join(", "),e.querySelector("#selectExternalAddressFilterMode").value=t.IsRemoteIPFilterBlacklist?"blacklist":"whitelist",e.querySelector("#chkRemoteAccess").checked=null==t.EnableRemoteAccess||t.EnableRemoteAccess,e.querySelector("#txtHttpsPort").value=t.HttpsPortNumber,e.querySelector("#chkEnableHttps").checked=t.EnableHttps,e.querySelector("#chkRequireHttps").checked=t.RequireHttps,e.querySelector("#txtBaseUrl").value=t.BaseUrl||"",e.querySelector("#txtCertificatePath").value=t.CertificatePath||"",e.querySelector("#txtCertPassword").value=t.CertificatePassword||"",e.querySelector("#chkEnableUpnp").checked=t.EnableUPnP,r=e.querySelector("#chkRemoteAccess"),(o=document.createEvent("HTMLEvents")).initEvent("change",!1,!0),r.dispatchEvent(o),e.querySelector("#chkCreateHttpPortMap").checked=t.UPnPCreateHttpPortMap,e.querySelector("#chkAutodiscovery").checked=t.AutoDiscovery,e.querySelector("#chkAutodiscoveryTracing").checked=t.AutoDiscoveryTracing,e.querySelector("#chkEnableIP6").checked=t.EnableIPV6,e.querySelector("#chkEnableIP4").checked=t.EnableIPV4,e.querySelector("#chkCreateHttpPortMap").checked=t.UPnPCreateHttpPortMap,e.querySelector("#txtUDPPortRange").value=t.UDPPortRange||"",e.querySelector("#txtHDHomerunPortRange").checked=t.HDHomerunPortRange||"",e.querySelector("#chkEnableSSDPTracing").checked=t.EnableSSDPTracing,e.querySelector("#txtSSDPTracingFilter").value=t.SSDPTracingFilter||"",e.querySelector("#txtPublishedServer").value=(t.PublishedServerUriBySubnet||[]).join(", "),n.ZP.hide()}(e,t)}))}))}},15856:function(e,t,r){var n=r(30325),o=r(57366),i=r(12801),l=(r(67752),Object.create(HTMLSelectElement.prototype));function c(){return!(!o.Z.edgeUwp&&!o.Z.xboxOne&&(o.Z.tizen||o.Z.orsay||o.Z.web0s||!o.Z.tv&&n.Z.tv))}function a(e){var t=s(e),r=t?t.textContent||t.innerText:null;i.default.show({items:e.options,positionTo:e,title:r}).then((function(t){!function(e,t){e.value=t}(e,t),function(e){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),e.dispatchEvent(t)}(e)}))}function s(e){for(var t=e.previousSibling;t&&"LABEL"!==t.tagName;)t=t.previousSibling;return t}function u(){var e=s(this);e&&e.classList.add("selectLabelFocused")}function d(){var e=s(this);e&&e.classList.remove("selectLabelFocused")}function h(e){e.button||c()||(e.preventDefault(),a(this))}function v(e){switch(e.keyCode){case 13:return void(c()||(e.preventDefault(),a(this)));case 37:case 38:case 39:case 40:return void(n.Z.tv&&e.preventDefault())}}var f=0;l.createdCallback=function(){this.id||(this.id="embyselect"+f,f++),this.classList.add("emby-select-withcolor"),n.Z.tv&&this.classList.add("emby-select-focusscale"),this.addEventListener("mousedown",h),this.addEventListener("keydown",v),this.addEventListener("focus",u),this.addEventListener("blur",d)},l.attachedCallback=function(){var e;if(!this.classList.contains("emby-select")){this.classList.add("emby-select");var t,r=this.ownerDocument.createElement("label");r.innerText=this.getAttribute("label")||"",r.classList.add("selectLabel"),r.htmlFor=this.id,null===(e=this.parentNode)||void 0===e||e.insertBefore(r,this),this.classList.contains("emby-select-withcolor")&&(null===(t=this.parentNode)||void 0===t||t.insertAdjacentHTML("beforeend",'<div class="selectArrowContainer"><div style="visibility:hidden;display:none;">0</div><span class="selectArrow material-icons keyboard_arrow_down" aria-hidden="true"></span></div>'))}},l.setLabel=function(e){var t;(null===(t=this.parentNode)||void 0===t?void 0:t.querySelector("label")).innerText=e},document.registerElement("emby-select",{prototype:l,extends:"select"})}}]);