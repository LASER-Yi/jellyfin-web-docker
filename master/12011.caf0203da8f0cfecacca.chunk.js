"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[12011,78938],{22832:function(e,t,r){r(29305),r(32733),r(84701),r(81678),r(24776),r(14382),r(69892),r(44962),r(89336),r(4754),r(94),r(33087),r(36947),r(36457),r(88908),r(83810),r(78557),r(96054),r(90076),r(95021),r(73687),r(83994),r(23630),r(82367);var n=r(53096),a=r(33077),i=r(67430),o=r(75384),l=r(39738),s=r(38490),u=r(70267),c=r(5898),d=r(36300),f=r(78938),y=r(71866),m=r(82885);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e,t,r){return(t=function(e){var t=function(e){if("object"!=h(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==h(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function A(e,t,r){for(var n,a=e.parentNode,i=e.classList.length?".".concat(e.classList[0]):"",o=a.querySelectorAll("".concat(i,"[data-id]")),s=[],u=!1,c=0,f=o.length;c<f;c++)o[c]===e&&(u=!0,n=c),!u&&r||s.push(o[c].getAttribute("data-id"));var y=d.Ay.parentWithClass(e,"itemsContainer");if(null!=y&&y.fetchData){var m=r?{StartIndex:n}:{};return y.fetchData(m).then((function(e){return r?l.f.queue({items:e.Items}):l.f.play({items:e.Items,startIndex:n})}))}if(s.length)return r?l.f.queue({ids:s,serverId:t}):l.f.play({ids:s,serverId:t,startIndex:n})}function I(e){var t=(e=d.Ay.parentWithAttribute(e,"data-id")).getAttribute("data-serverid"),r=e.getAttribute("data-id"),n=e.getAttribute("data-type"),a=i.tF.getApiClient(t);return"Timer"===n?a.getLiveTvTimer(r):"SeriesTimer"===n?a.getLiveTvSeriesTimer(r):a.getItem(a.getCurrentUserId(),r)}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};I(e).then((function(a){var l=e.getAttribute("data-playlistid"),s=e.getAttribute("data-collectionid");if(l){var u=d.Ay.parentWithAttribute(e,"data-playlistitemid");a.PlaylistItemId=u?u.getAttribute("data-playlistitemid"):null;var c=d.Ay.parentWithAttribute(e,"is","emby-itemscontainer");if(c){var f,y=0,m=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=g(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){o=!0,a=e},f:function(){try{i||null==t.return||t.return()}finally{if(o)throw a}}}}(c.querySelectorAll(".listItem"));try{for(m.s();!(f=m.n()).done;)f.value.getAttribute("data-playlistitemid")==a.PlaylistItemId&&(a.PlaylistIndex=y),y++}catch(e){m.e(e)}finally{m.f()}a.PlaylistItemCount=y}}var h=i.tF.getApiClient(a.ServerId),p=(0,o.C)(h);Promise.all([Promise.all([r.e(55802),r.e(40501)]).then(r.bind(r,55802)),h.getCurrentUser(),l?(0,n.C)(p).getPlaylistUser({playlistId:l,userId:h.getCurrentUserId()}).then((function(e){return e.data})).catch((function(e){return console.info("[Shortcuts] Failed to fetch playlist permissions",e),{CanEdit:!1}})):Promise.resolve({CanEdit:!1})]).then((function(e){var r,n,i=(n=3,function(e){if(Array.isArray(e))return e}(r=e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(r,n)||g(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[0],u=i[1],c=i[2];return o.show(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({item:a,play:!0,queue:!0,playAllFromHere:"Season"===a.Type||!a.IsFolder,queueAllFromHere:!a.IsFolder,playlistId:l,canEditPlaylist:!!c.CanEdit,collectionId:s,user:u},t))})).then((function(r){"playallfromhere"===r.command||"queueallfromhere"===r.command?w(e,t.positionTo,r.command):(r.updated||r.deleted)&&function(e,t){(t=t||d.Ay.parentWithAttribute(e,"is","emby-itemscontainer"))&&t.notifyRefreshNeeded(!0)}(e,t.itemsContainer)})).catch((function(){}))}))}function P(e){return{Type:e.getAttribute("data-type"),Id:e.getAttribute("data-id"),TimerId:e.getAttribute("data-timerid"),CollectionType:e.getAttribute("data-collectiontype"),ChannelId:e.getAttribute("data-channelid"),SeriesId:e.getAttribute("data-seriesid"),ServerId:e.getAttribute("data-serverid"),MediaType:e.getAttribute("data-mediatype"),Path:e.getAttribute("data-path"),IsFolder:"true"===e.getAttribute("data-isfolder"),StartDate:e.getAttribute("data-startdate"),EndDate:e.getAttribute("data-enddate"),UserData:{PlaybackPositionTicks:parseInt(e.getAttribute("data-positionticks")||"0",10)}}}function w(e,t,n){t=t||e;var o=e.getAttribute("data-id");o||(o=(e=d.Ay.parentWithAttribute(e,"data-id")).getAttribute("data-id"));var s=P(e),h=d.Ay.parentWithClass(e,"itemsContainer"),v="items-"+(s.IsFolder?s.Id:null==h?void 0:h.getAttribute("data-parentid"))+"-Folder",b=s.ServerId,g=s.Type,p="Program"===g?s.ChannelId:s.Id;switch("Photo"===s.MediaType&&n===a.s.Link&&(n=a.s.Play),n){case a.s.Link:u.appRouter.showItem(s,{context:e.getAttribute("data-context"),parentId:e.getAttribute("data-parentid")});break;case a.s.ProgramDialog:!function(e){Promise.all([r.e(10739),r.e(22882)]).then(r.bind(r,63834)).then((function(t){t.default.show(e.Id,e.ServerId)}))}(s);break;case a.s.InstantMix:l.f.instantMix({Id:p,ServerId:b});break;case a.s.Play:case a.s.Resume:var w=parseInt(e.getAttribute("data-positionticks")||"0",10),L=m.getSortValuesLegacy(v,"SortName");l.f.canPlay(s)?l.f.play({ids:[p],startPositionTicks:w,serverId:b,queryOptions:{SortBy:L.sortBy,SortOrder:L.sortOrder}}):console.warn("Unable to play item",s);break;case a.s.Queue:l.f.isPlaying()?(l.f.queue({ids:[p],serverId:b}),(0,y.A)(c.Ay.translate("MediaQueued"))):l.f.queue({ids:[p],serverId:b});break;case a.s.PlayAllFromHere:A(e,b);break;case a.s.QueueAllFromHere:A(e,b,!0);break;case a.s.SetPlaylistIndex:l.f.setCurrentPlaylistItem(e.getAttribute("data-playlistitemid"));break;case a.s.Record:!function(e,t,r,n,a){if("Program"===r||n||a){var i="Program"===r?t:null;f.default.toggleRecording(e,i,n,a)}}(b,o,g,e.getAttribute("data-timerid"),e.getAttribute("data-seriestimerid"));break;case a.s.Menu:var k="false"===t.getAttribute("data-playoptions")?{shuffle:!1,instantMix:!1,play:!1,playAllFromHere:!1,queue:!1,queueAllFromHere:!1}:{};k.positionTo=t,S(e,k);break;case a.s.PlayMenu:!function(e,t){var n=P(e);r.e(44910).then(r.bind(r,44910)).then((function(e){e.show({item:n,positionTo:t})}))}(e,t);break;case a.s.Edit:I(t).then((function(e){!function(e,t){var n=i.tF.getApiClient(t);new Promise((function(t,a){var i=n.serverInfo().Id;"Timer"===e.Type?e.ProgramId?Promise.all([r.e(10739),r.e(22882)]).then(r.bind(r,63834)).then((function(r){r.default.show(e.ProgramId,i).then(t,a)})):r.e(59801).then(r.bind(r,59801)).then((function(r){r.default.show(e.Id,i).then(t,a)})):Promise.all([r.e(45642),r.e(26855),r.e(63741)]).then(r.bind(r,26855)).then((function(r){r.default.show(e.Id,i).then(t,a)}))}))}(e,b)}));break;case a.s.PlayTrailer:I(t).then(T);break;case a.s.AddToPlaylist:I(t).then(C);break;case a.s.Custom:var E=t.getAttribute("data-customaction");e.dispatchEvent(new CustomEvent("action-".concat(E),{detail:{playlistItemId:e.getAttribute("data-playlistitemid")},cancelable:!1,bubbles:!0}))}}function C(e){Promise.all([r.e(45642),r.e(81949)]).then(r.bind(r,4330)).then((function(t){(new(0,t.default)).show({items:[e.Id],serverId:e.ServerId}).catch((function(){}))})).catch((function(e){console.error("[addToPlaylist] failed to load playlist editor",e)}))}function T(e){var t=i.tF.getApiClient(e.ServerId);t.getLocalTrailers(t.getCurrentUserId(),e.Id).then((function(e){l.f.play({items:e})}))}function L(e){var t=d.Ay.parentWithClass(e.target,"itemAction");if(t){var r=t,n=r.getAttribute("data-action");if(n||(r=d.Ay.parentWithAttribute(r,"data-action"))&&(n=r.getAttribute("data-action")),n&&n!==a.s.None)return w(t,r,n),e.preventDefault(),e.stopPropagation(),!1}}function k(e){var t=e.detail.command;if("play"===t||"resume"===t||"record"===t||"menu"===t||"info"===t){var r=e.target,n=d.Ay.parentWithClass(r,"itemAction")||d.Ay.parentWithAttribute(r,"data-id");n&&(e.preventDefault(),e.stopPropagation(),w(n,n,t))}}t.Ay={on:function(e,t){!1!==(t=t||{}).click&&e.addEventListener("click",L),!1!==t.command&&s.default.on(e,k)},off:function(e,t){t=t||{},e.removeEventListener("click",L),!1!==t.command&&s.default.off(e,k)},onClick:L,getShortcutAttributesHtml:function(e,t){var r='data-id="'.concat(e.Id,'" data-serverid="').concat(t||e.ServerId,'" data-type="').concat(e.Type,'" data-mediatype="').concat(e.MediaType,'" data-channelid="').concat(e.ChannelId,'" data-isfolder="').concat(e.IsFolder,'"'),n=e.CollectionType;return n&&(r+=' data-collectiontype="'.concat(n,'"')),r}}},33077:function(e,t,r){var n;r.d(t,{s:function(){return n}}),function(e){e.AddToPlaylist="addtoplaylist",e.Custom="custom",e.Edit="edit",e.InstantMix="instantmix",e.Link="link",e.Menu="menu",e.None="none",e.Play="play",e.PlayAllFromHere="playallfromhere",e.PlayMenu="playmenu",e.PlayTrailer="playtrailer",e.ProgramDialog="programdialog",e.Queue="queue",e.QueueAllFromHere="queueallfromhere",e.Record="record",e.Resume="resume",e.SetPlaylistIndex="setplaylistindex"}(n||(n={}))},76542:function(e,t,r){r.r(t),r.d(t,{default:function(){return p},fillImage:function(){return f},fillImages:function(){return b},getPrimaryImageAspectRatio:function(){return v},lazyChildren:function(){return h},lazyImage:function(){return u},setLazyImage:function(){return g}}),r(29305),r(32733),r(84701),r(14382),r(69892),r(44962),r(89336),r(26448),r(78557),r(95021),r(73687),r(83994),r(93062),r(82367);var n=r(99891),a=r(82885);function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){s=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(s)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var l=new function(){return new Worker(r.p+"blurhash.worker.bundle.js")},s={};function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getAttribute("data-src");t&&m(e,t)}function c(e,t,r,n){var a=document.createElement("canvas");a.setAttribute("aria-hidden","true"),a.width=r,a.height=n;var i=a.getContext("2d"),o=i.createImageData(r,n);o.data.set(t),i.putImageData(o,0,0),requestAnimationFrame((function(){a.classList.add("blurhash-canvas"),e.parentNode.insertBefore(a,e),e.classList.add("blurhashed"),e.removeAttribute("data-blurhash")}))}function d(e,t){try{s[t]=(s[t]||[]).filter((function(t){return t!==e})),s[t].push(e),l.postMessage({hash:t,width:20,height:20})}catch(t){return console.error(t),void e.classList.add("non-blurhashable")}}function f(e){if(!e)throw new Error("entry cannot be null");var t,r=e.target;t=r?r.getAttribute("data-src"):e,e.isIntersecting?t&&m(r,t):t||function(e){var t;e.removeEventListener("animationend",y);var r,n=e.previousSibling;"CANVAS"===(null==n?void 0:n.tagName)&&n.classList.remove("lazy-hidden"),null===(t=e.parentNode)||void 0===t||null===(t=t.querySelector(".cardPadder"))||void 0===t||t.classList.remove("lazy-hidden-children"),"IMG"!==e.tagName?(r=e.style.backgroundImage.slice(4,-1).replace(/"/g,""),e.style.backgroundImage="none"):(r=e.getAttribute("src"),e.setAttribute("src","")),e.setAttribute("data-src",r),e.classList.remove("lazy-image-fadein-fast","lazy-image-fadein"),e.classList.add("lazy-hidden")}(r)}function y(e){var t=e.target;requestAnimationFrame((function(){var e,r=t.previousSibling;t.classList.contains("blurhashed")&&"CANVAS"===(null==r?void 0:r.tagName)&&r.classList.add("lazy-hidden"),null===(e=t.parentNode)||void 0===e||null===(e=e.querySelector(".cardPadder"))||void 0===e||e.classList.add("lazy-hidden-children")})),t.removeEventListener("animationend",y)}function m(e,t){if(void 0===t)throw new TypeError("url cannot be undefined");var r=new Image;r.src=t,e.classList.add("lazy-hidden"),e.addEventListener("animationend",y),r.addEventListener("load",(function(){requestAnimationFrame((function(){"IMG"!==e.tagName?e.style.backgroundImage="url('"+t+"')":e.setAttribute("src",t),e.removeAttribute("data-src"),a.enableFastFadein()?e.classList.add("lazy-image-fadein-fast"):e.classList.add("lazy-image-fadein"),e.classList.remove("lazy-hidden")}))}))}function h(e){if(a.enableBlurhash()){var t,r=i(e.querySelectorAll(".lazy"));try{for(r.s();!(t=r.n()).done;){var o=t.value,l=o.getAttribute("data-blurhash");!o.classList.contains("blurhashed","non-blurhashable")&&l?d(o,l):l||o.classList.contains("blurhashed")||o.classList.add("non-blurhashable")}}catch(e){r.e(e)}finally{r.f()}}n.WK(e,f)}function v(e){for(var t=[],r=0,n=e.length;r<n;r++){var a=e[r].PrimaryImageAspectRatio||0;a&&(t[t.length]=a)}if(!t.length)return null;t.sort((function(e,t){return e-t}));var i,o=Math.floor(t.length/2);i=t.length%2?t[o]:(t[o-1]+t[o])/2;var l=2/3;if(Math.abs(l-i)<=.15)return l;var s=16/9;if(Math.abs(s-i)<=.2)return s;if(Math.abs(1-i)<=.15)return 1;var u=4/3;return Math.abs(u-i)<=.15?u:i}function b(e){for(var t=0,r=e.length;t<r;t++)f(e[0])}function g(e,t){e.classList.add("lazy"),e.setAttribute("data-src",t),u(e)}l.addEventListener("message",(function(e){var t=e.data,r=t.pixels,n=t.hsh,a=t.width,o=t.height,l=s[n];if(null!=l&&l.length){var u,d=i(l);try{for(d.s();!(u=d.n()).done;)c(u.value,r,a,o)}catch(e){d.e(e)}finally{d.f()}delete s[n]}}));var p={setLazyImage:g,fillImages:b,fillImage:f,lazyImage:u,lazyChildren:h,getPrimaryImageAspectRatio:v}},78938:function(e,t,r){r.r(t),r(78557),r(90076);var n=r(5898),a=r(67430),i=r(8566),o=r(71866),l=r(47602),s=r(48080);function u(e,t,r,a){return i.Ay.show(),e.getItem(e.getCurrentUserId(),r).then((function(l){return l.IsSeries?e.getNewLiveTvTimerDefaults({programId:r}).then((function(t){return e.createLiveTvSeriesTimer(t).then((function(){i.Ay.hide(),(0,o.A)(n.Ay.translate("SeriesRecordingScheduled"))}))})):a?c(t,e.serverId()):d(e.serverId(),t,!0)}))}function c(e,t){return new Promise((function(r,o){(0,l.A)({text:n.Ay.translate("MessageConfirmRecordingCancellation"),primary:"delete",confirmText:n.Ay.translate("HeaderCancelRecording"),cancelText:n.Ay.translate("HeaderKeepRecording")}).then((function(){i.Ay.show(),d(a.tF.getApiClient(t),e,!0).then(r,o)}),o)}))}function d(e,t,r){return i.Ay.show(),e.cancelLiveTvTimer(t).then((function(){!1!==r&&(i.Ay.hide(),(0,o.A)(n.Ay.translate("RecordingCancelled")))}))}function f(e,t,r){return i.Ay.show(),e.getNewLiveTvTimerDefaults({programId:t}).then((function(t){return(r?e.createLiveTvSeriesTimer(t):e.createLiveTvTimer(t)).then((function(){i.Ay.hide(),(0,o.A)(n.Ay.translate("RecordingScheduled"))}))}))}t.default={cancelTimer:d,createRecording:f,changeRecordingToSeries:u,toggleRecording:function(e,t,r,l,c){var y=a.tF.getApiClient(e),m=r&&"Cancelled"!==l;return c&&m?function(e,t,r,l,u){return new Promise((function(t,c){var f=[];f.push({name:n.Ay.translate("HeaderKeepRecording"),id:"cancel",type:"submit"}),"InProgress"===l?f.push({name:n.Ay.translate("HeaderStopRecording"),id:"canceltimer",type:"cancel"}):f.push({name:n.Ay.translate("HeaderCancelRecording"),id:"canceltimer",type:"cancel"}),f.push({name:n.Ay.translate("HeaderCancelSeries"),id:"cancelseriestimer",type:"cancel"}),s.A.show({text:n.Ay.translate("MessageConfirmRecordingCancellation"),buttons:f}).then((function(l){var s=a.tF.getApiClient(e);"canceltimer"===l?(i.Ay.show(),d(s,r,!0).then(t,c)):"cancelseriestimer"===l?(i.Ay.show(),s.cancelLiveTvSeriesTimer(u).then((function(){(0,o.A)(n.Ay.translate("SeriesCancelled")),i.Ay.hide(),t()}),c)):t()}),c)}))}(e,0,r,l,c):m&&t?u(y,r,t,!0):t?f(y,t):Promise.reject()},cancelTimerWithConfirmation:c,cancelSeriesTimerWithConfirmation:function(e,t){return new Promise((function(r,s){(0,l.A)({text:n.Ay.translate("MessageConfirmRecordingCancellation"),primary:"delete",confirmText:n.Ay.translate("HeaderCancelSeries"),cancelText:n.Ay.translate("HeaderKeepSeries")}).then((function(){i.Ay.show(),a.tF.getApiClient(t).cancelLiveTvSeriesTimer(e).then((function(){(0,o.A)(n.Ay.translate("SeriesCancelled")),i.Ay.hide(),r()}),s)}),s)}))}}},99891:function(e,t,r){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}r.d(t,{WK:function(){return l}}),r(29305),r(32733),r(84701),r(81678),r(69892),r(44962),r(4754),r(94),r(36947),r(78557),r(83994),r(23630),r(82367);var o=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t},(t=[{key:"createObserver",value:function(){var e=this.options.callback,t=new IntersectionObserver((function(t,r){t.forEach((function(t){e(t,r)}))}),{rootMargin:"50%",threshold:0});this.observer=t}},{key:"addElements",value:function(e){var t=this.observer;t||(this.createObserver(),t=this.observer),Array.from(e).forEach((function(e){t.observe(e)}))}},{key:"destroyObserver",value:function(){var e=this.observer;e&&(e.disconnect(),this.observer=null)}},{key:"destroy",value:function(){this.destroyObserver(),this.options=null}}])&&a(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function l(e,t){!function(e,t,r){e.length&&new o({callback:r}).addElements(e)}(e.getElementsByClassName("lazy"),0,t)}t.Ay={LazyLoader:o,lazyChildren:l}}}]);