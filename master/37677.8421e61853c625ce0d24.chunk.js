"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[37677],{37677:function(e,t,r){r.r(t),r.d(t,{default:function(){return a}}),r(14382),r(44962),r(86584),r(78557),r(90076),r(83994),r(46968),r(82367);var n=r(8566),i=r(5898),o=(r(77157),r(63001),r(89100)),l=r(41177);function s(e){var t,r,l=this;t=l.querySelector("#txtLocalAddress").value,r=function(){var e=function(e){return e.querySelector("#txtPublicHttpPort").value===e.querySelector("#txtPublicHttpsPort").value?"The public http and https ports must be different.":e.querySelector("#txtPortNumber").value===e.querySelector("#txtHttpsPort").value?"The http and https ports must be different.":e.querySelector("#chkEnableIP6").checked||e.querySelector("#chkEnableIP4").checked?null:"Either IPv4 or IPv6 need to be checked."}(l);e?c(e):function(e){var t=e.querySelector("#txtCertificatePath").value||null;return e.querySelector("#chkEnableHttps").checked&&!t?c({title:i.Ay.translate("TitleHostingSettings"),text:i.Ay.translate("HttpsRequiresCert")}).then(Promise.reject):Promise.resolve()}(l).then((function(){n.Ay.show(),ApiClient.getNamedConfiguration("network").then((function(e){e.LocalNetworkSubnets=l.querySelector("#txtLanNetworks").value.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0})),e.RemoteIPFilter=l.querySelector("#txtExternalAddressFilter").value.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0})),e.KnownProxies=l.querySelector("#txtKnownProxies").value.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0})),e.LocalNetworkAddresses=l.querySelector("#txtLocalAddress").value.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0})),e.PublishedServerUriBySubnet=l.querySelector("#txtPublishedServer").value.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0})),e.IsRemoteIPFilterBlacklist="blacklist"===l.querySelector("#selectExternalAddressFilterMode").value,e.PublicHttpPort=l.querySelector("#txtPublicHttpPort").value,e.PublicHttpsPort=l.querySelector("#txtPublicHttpsPort").value,e.InternalHttpPort=l.querySelector("#txtPortNumber").value,e.InternalHttpsPort=l.querySelector("#txtHttpsPort").value,e.EnableHttps=l.querySelector("#chkEnableHttps").checked,e.RequireHttps=l.querySelector("#chkRequireHttps").checked,e.BaseUrl=l.querySelector("#txtBaseUrl").value,e.EnableRemoteAccess=l.querySelector("#chkRemoteAccess").checked,e.CertificatePath=l.querySelector("#txtCertificatePath").value||null,e.CertificatePassword=l.querySelector("#txtCertPassword").value||null,e.AutoDiscovery=l.querySelector("#chkAutodiscovery").checked,e.EnableIPv6=l.querySelector("#chkEnableIP6").checked,e.EnableIPv4=l.querySelector("#chkEnableIP4").checked,ApiClient.updateNamedConfiguration("network",e).then(o.default.processServerConfigurationUpdateResult,o.default.processErrorResponse)}))}))},t?c({title:i.Ay.translate("TitleHostingSettings"),text:i.Ay.translate("SettingsWarning")}).then(r):r(),e.preventDefault()}function c(e){return new Promise((function(t,r){(0,l.A)(e).then(t,r)}))}function a(e){e.querySelector("#chkRemoteAccess").addEventListener("change",(function(){this.checked?(e.querySelector(".fldExternalAddressFilter").classList.remove("hide"),e.querySelector(".fldExternalAddressFilterMode").classList.remove("hide"),e.querySelector(".fldPublicHttpPort").classList.remove("hide"),e.querySelector(".fldPublicHttpsPort").classList.remove("hide")):(e.querySelector(".fldExternalAddressFilter").classList.add("hide"),e.querySelector(".fldExternalAddressFilterMode").classList.add("hide"),e.querySelector(".fldPublicHttpPort").classList.add("hide"),e.querySelector(".fldPublicHttpsPort").classList.add("hide"))})),e.querySelector("#btnSelectCertPath").addEventListener("click",(function(){Promise.resolve().then(r.bind(r,21840)).then((function(t){var r=new(0,t.default);r.show({includeFiles:!0,includeDirectories:!0,callback:function(t){t&&(e.querySelector("#txtCertificatePath").value=t),r.close()},header:i.Ay.translate("HeaderSelectCertificatePath")})}))})),e.querySelector(".dashboardHostingForm").addEventListener("submit",s),e.addEventListener("viewshow",(function(){n.Ay.show(),ApiClient.getNamedConfiguration("network").then((function(t){!function(e,t){var r,i;e.querySelector("#txtPortNumber").value=t.InternalHttpPort,e.querySelector("#txtPublicHttpPort").value=t.PublicHttpPort,e.querySelector("#txtPublicHttpsPort").value=t.PublicHttpsPort,e.querySelector("#txtLocalAddress").value=(t.LocalNetworkAddresses||[]).join(", "),e.querySelector("#txtLanNetworks").value=(t.LocalNetworkSubnets||[]).join(", "),e.querySelector("#txtKnownProxies").value=(t.KnownProxies||[]).join(", "),e.querySelector("#txtExternalAddressFilter").value=(t.RemoteIPFilter||[]).join(", "),e.querySelector("#selectExternalAddressFilterMode").value=t.IsRemoteIPFilterBlacklist?"blacklist":"whitelist",e.querySelector("#chkRemoteAccess").checked=null==t.EnableRemoteAccess||t.EnableRemoteAccess,e.querySelector("#txtHttpsPort").value=t.InternalHttpsPort,e.querySelector("#chkEnableHttps").checked=t.EnableHttps,e.querySelector("#chkRequireHttps").checked=t.RequireHttps,e.querySelector("#txtBaseUrl").value=t.BaseUrl||"",e.querySelector("#txtCertificatePath").value=t.CertificatePath||"",e.querySelector("#txtCertPassword").value=t.CertificatePassword||"",r=e.querySelector("#chkRemoteAccess"),i=new Event("change",{bubbles:!1,cancelable:!0}),r.dispatchEvent(i),e.querySelector("#chkAutodiscovery").checked=t.AutoDiscovery,e.querySelector("#chkEnableIP6").checked=t.EnableIPv6,e.querySelector("#chkEnableIP4").checked=t.EnableIPv4,e.querySelector("#txtPublishedServer").value=(t.PublishedServerUriBySubnet||[]).join(", "),n.Ay.hide()}(e,t)}))}))}},63001:function(e,t,r){var n=r(46782),i=r(34789),o=r(62882),l=(r(69177),Object.create(HTMLSelectElement.prototype));function s(){return!(!i.A.edgeUwp&&!i.A.xboxOne&&(i.A.tizen||i.A.orsay||i.A.web0s||!i.A.tv&&n.A.tv))}function c(e){var t=a(e),r=t?t.textContent||t.innerText:null;o.default.show({items:e.options,positionTo:e,title:r}).then((function(t){!function(e,t){e.value=t}(e,t),function(e){var t=new Event("change",{bubbles:!1,cancelable:!0});e.dispatchEvent(t)}(e)}))}function a(e){for(var t=e.previousSibling;t&&"LABEL"!==t.tagName;)t=t.previousSibling;return t}function u(){var e=a(this);e&&e.classList.add("selectLabelFocused")}function d(){var e=a(this);e&&e.classList.remove("selectLabelFocused")}function h(e){e.button||s()||(e.preventDefault(),c(this))}function v(e){switch(e.keyCode){case 13:return void(s()||(e.preventDefault(),c(this)));case 37:case 38:case 39:case 40:return void(n.A.tv&&e.preventDefault())}}var f=0;l.createdCallback=function(){this.id||(this.id="embyselect"+f,f++),this.classList.add("emby-select-withcolor"),n.A.tv&&this.classList.add("emby-select-focusscale"),this.addEventListener("mousedown",h),this.addEventListener("keydown",v),this.addEventListener("focus",u),this.addEventListener("blur",d)},l.attachedCallback=function(){var e;if(!this.classList.contains("emby-select")){this.classList.add("emby-select");var t,r=this.ownerDocument.createElement("label");r.innerText=this.getAttribute("label")||"",r.classList.add("selectLabel"),r.htmlFor=this.id,null===(e=this.parentNode)||void 0===e||e.insertBefore(r,this),this.classList.contains("emby-select-withcolor")&&(null===(t=this.parentNode)||void 0===t||t.insertAdjacentHTML("beforeend",'<div class="selectArrowContainer"><div style="visibility:hidden;display:none;">0</div><span class="selectArrow material-icons keyboard_arrow_down" aria-hidden="true"></span></div>'))}},l.setLabel=function(e){var t;(null===(t=this.parentNode)||void 0===t?void 0:t.querySelector("label")).innerText=e},document.registerElement("emby-select",{prototype:l,extends:"select"})},62882:function(e,t,r){r.r(t),r.d(t,{show:function(){return d}});var n=r(22696),i=r.n(n),o=r(79754),l=r(46782),s=r(5898),c=r(47629),a=(r(10353),function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")});function u(e,t,n){Promise.resolve().then(r.bind(r,10838)).then((function(r){var i=n?"on":"off";r.centerFocus[i](e,t)})).catch((function(e){console.warn("Error in centerFocus",e)}))}function d(e){var t,r,n,d={removeOnClose:!0,enableHistory:e.enableHistory,scrollY:!1};l.A.tv?(d.size="fullscreen",n=!0,d.autoFocus=!0):(d.modal=!1,d.entryAnimation=e.entryAnimation,d.exitAnimation=e.exitAnimation,d.entryAnimationDuration=e.entryAnimationDuration||140,d.exitAnimationDuration=e.exitAnimationDuration||100,d.autoFocus=!1);var h=o.default.createDialog(d);n?h.classList.add("actionsheet-fullscreen"):h.classList.add("actionsheet-not-fullscreen"),h.classList.add("actionSheet"),e.dialogClass&&h.classList.add(e.dialogClass);var v="",f=l.A.tv?"scrollY smoothScrollY hiddenScrollY":"scrollY",y="";e.items.length>20&&(y+="min-width:"+(c.Ay.getWindowSize().innerWidth>=300?240:200)+"px;");var b,p=!1,m=[];try{for(var S=a(e.items),x=S.next();!x.done;x=S.next())(b=(w=x.value).icon||(w.selected?"check":null))&&(p=!0),m.push(b||"")}catch(e){t={error:e}}finally{try{x&&!x.done&&(r=S.return)&&r.call(S)}finally{if(t)throw t.error}}l.A.tv&&(v+='<button is="paper-icon-button-light" class="btnCloseActionSheet hide-mouse-idle-tv" tabindex="-1" title="'.concat(s.Ay.translate("ButtonBack"),'">\n                     <span class="material-icons arrow_back" aria-hidden="true"></span>\n                 </button>'));var A=e.title&&!p;A||l.A.tv?v+='<div class="actionSheetContent actionSheetContent-centered">':v+='<div class="actionSheetContent">',e.title&&(v+='<h1 class="actionSheetTitle">'+i()(e.title)+"</h1>"),e.text&&(v+='<p class="actionSheetText">'+i()(e.text)+"</p>");var P="actionSheetScroller";l.A.tv&&(P+=" actionSheetScroller-tv focuscontainer-x focuscontainer-y"),v+='<div class="'+P+" "+f+'" style="'+y+'">';var k="listItem listItem-button actionSheetMenuItem";(e.border||e.shaded)&&(k+=" listItem-border"),e.menuItemClass&&(k+=" "+e.menuItemClass),l.A.tv&&(k+=" listItem-focusscale"),l.A.mobile&&(k+=" actionsheet-xlargeFont");for(var q=0;q<e.items.length;q++){var w;(w=e.items[q]).divider?v+='<div class="actionsheetDivider"></div>':(v+="<button"+(w.selected&&l.A.tv?" autoFocus":"")+' is="emby-button" type="button" class="'+k+'" data-id="'+(null==w.id||""===w.id?w.value:w.id)+'">',(b=m[q])?v+='<span class="actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons '.concat(b,'" aria-hidden="true"></span>'):p&&!A&&(v+='<span class="actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons check" aria-hidden="true" style="visibility:hidden;"></span>'),v+='<div class="listItemBody actionsheetListItemBody">',v+='<div class="listItemBodyText actionSheetItemText">',v+=i()(w.name||w.textContent||w.innerText),v+="</div>",w.secondaryText&&(v+='<div class="listItemBodyText secondary">'.concat(i()(w.secondaryText),"</div>")),v+="</div>",w.asideText&&(v+='<div class="listItemAside actionSheetItemAsideText">'.concat(i()(w.asideText),"</div>")),v+="</button>")}if(e.showCancel&&(v+='<div class="buttons">',v+='<button is="emby-button" type="button" class="btnCloseActionSheet">'.concat(s.Ay.translate("ButtonCancel"),"</button>"),v+="</div>"),v+="</div>",h.innerHTML=v,l.A.tv){var L=h.querySelector(".actionSheetScroller");L&&u(L,!1,!0)}var g=h.querySelector(".btnCloseActionSheet");g&&g.addEventListener("click",(function(){o.default.close(h)}));var E,I=null;return e.timeout&&(E=setTimeout((function(){o.default.close(h)}),e.timeout)),new Promise((function(t,r){var n=!1;h.addEventListener("click",(function(r){var i=c.Ay.parentWithClass(r.target,"actionSheetMenuItem");i&&(I=i.getAttribute("data-id"),e.resolveOnClick&&(Array.isArray(e.resolveOnClick)?-1!==e.resolveOnClick.indexOf(I)&&(t(I),n=!0):(t(I),n=!0)),o.default.close(h))})),h.addEventListener("close",(function(){if(l.A.tv){var i=h.querySelector(".actionSheetScroller");i&&u(i,!1,!1)}E&&(clearTimeout(E),E=void 0),n||(null!=I?(e.callback&&e.callback(I),t(I)):r(new Error("ActionSheet closed without resolving")))})),o.default.open(h).catch((function(e){console.warn("DialogHelper.open error",e)}));var i=e.positionTo&&"fullscreen"!==d.size?function(e,t,r){var n=c.Ay.getWindowSize(),i=n.innerHeight,o=n.innerWidth,l=function(e){var t,r,n=[];if(!document)return n;try{for(var i=a(e),o=i.next();!o.done;o=i.next()){var l=o.value.getBoundingClientRect();n.push({top:l.top,left:l.left,width:l.width,height:l.height})}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n}([e])[0];"top"!==t.positionY&&(l.top+=(l.height||0)/2),l.left+=(l.width||0)/2;var s=r.offsetHeight||300,u=r.offsetWidth||160;l.top-=s/2,l.left-=u/2;var d=l.left+u-o,h=l.top+s-i;return d>0&&(l.left-=d+20),h>0&&(l.top-=h+20),l.top+=t.offsetTop||0,l.left+=t.offsetLeft||0,l.top=Math.max(l.top,10),l.left=Math.max(l.left,10),l}(e.positionTo,e,h):null;i&&(h.style.position="fixed",h.style.margin="0",h.style.left=i.left+"px",h.style.top=i.top+"px")}))}t.default={show:d}}}]);