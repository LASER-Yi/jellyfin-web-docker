"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[77756],{84427:function(e,t,n){n.r(t);var a=n(62540),i=n(63696),c=n(9482),l=n(7397),r=n(85757),o=n(76165),s=n(14948),d=n(70749),u=n(39057),p=n(56869),v=n(50764),h=n(86191);t.default=function(){var e,t=(0,i.useRef)(null),n=(0,i.useCallback)((function(e){var n=t.current,a=e.TrickplayOptions;n?(n.querySelector(".chkEnableHwAcceleration").checked=a.EnableHwAcceleration,n.querySelector(".chkEnableHwEncoding").checked=a.EnableHwEncoding,n.querySelector("#selectScanBehavior").value=a.ScanBehavior,n.querySelector("#selectProcessPriority").value=a.ProcessPriority,n.querySelector("#txtInterval").value=a.Interval,n.querySelector("#txtWidthResolutions").value=a.WidthResolutions.join(","),n.querySelector("#txtTileWidth").value=a.TileWidth,n.querySelector("#txtTileHeight").value=a.TileHeight,n.querySelector("#txtQscale").value=a.Qscale,n.querySelector("#txtJpegQuality").value=a.JpegQuality,n.querySelector("#txtProcessThreads").value=a.ProcessThreads,p.Ay.hide()):console.error("Unexpected null reference")}),[]),m=(0,i.useCallback)((function(){var e;p.Ay.show(),null===(e=h.A.currentApiClient())||void 0===e||e.getServerConfiguration().then((function(e){n(e)})).catch((function(e){console.error("[PlaybackTrickplay] failed to fetch server config",e)}))}),[n]);return(0,i.useEffect)((function(){var e=t.current;if(e){e.querySelector(".trickplayConfigurationForm").addEventListener("submit",(function(t){var n=h.A.currentApiClient();if(n)return p.Ay.show(),n.getServerConfiguration().then((function(t){!function(t){var n=h.A.currentApiClient();if(n){if(!t.TrickplayOptions)throw new Error("Unexpected null TrickplayOptions");var a=t.TrickplayOptions;a.EnableHwAcceleration=e.querySelector(".chkEnableHwAcceleration").checked,a.EnableHwEncoding=e.querySelector(".chkEnableHwEncoding").checked,a.ScanBehavior=e.querySelector("#selectScanBehavior").value,a.ProcessPriority=e.querySelector("#selectProcessPriority").value,a.Interval=Math.max(1,parseInt(e.querySelector("#txtInterval").value||"10000",10)),a.WidthResolutions=e.querySelector("#txtWidthResolutions").value.replace(" ","").split(",").map(Number),a.TileWidth=Math.max(1,parseInt(e.querySelector("#txtTileWidth").value||"10",10)),a.TileHeight=Math.max(1,parseInt(e.querySelector("#txtTileHeight").value||"10",10)),a.Qscale=Math.min(31,parseInt(e.querySelector("#txtQscale").value||"4",10)),a.JpegQuality=Math.min(100,parseInt(e.querySelector("#txtJpegQuality").value||"90",10)),a.ProcessThreads=parseInt(e.querySelector("#txtProcessThreads").value||"1",10),n.updateServerConfiguration(t).then((function(){p.Ay.hide(),(0,v.A)(c.Ay.translate("SettingsSaved"))})).catch((function(e){console.error("[PlaybackTrickplay] failed to update config",e)}))}else console.error("[PlaybackTrickplay] No current apiclient instance")}(t)})).catch((function(e){console.error("[PlaybackTrickplay] failed to fetch server config",e)})),t.preventDefault(),t.stopPropagation(),!1;console.error("[PlaybackTrickplay] No current apiclient instance")})),m()}else console.error("Unexpected null reference")}),[m]),(0,a.jsx)(l.A,{id:"trickplayConfigurationPage",className:"mainAnimatedPage type-interior playbackConfigurationPage",children:(0,a.jsxs)("div",{ref:t,className:"content-primary",children:[(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsx)(r.A,{title:c.Ay.translate("Trickplay"),isLinkVisible:!1})}),(0,a.jsxs)("form",{className:"trickplayConfigurationForm",children:[(0,a.jsx)("div",{className:"checkboxContainer checkboxContainer-withDescription",children:(0,a.jsx)(s.A,{className:"chkEnableHwAcceleration",title:"LabelTrickplayAccel"})}),(0,a.jsxs)("div",{className:"checkboxContainer checkboxContainer-withDescription",children:[(0,a.jsx)(s.A,{className:"chkEnableHwEncoding",title:"LabelTrickplayAccelEncoding"}),(0,a.jsx)("div",{className:"fieldDescription checkboxFieldDescription",children:(0,a.jsx)("div",{className:"fieldDescription",children:c.Ay.translate("LabelTrickplayAccelEncodingHelp")})})]}),(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsxs)("div",{className:"selectContainer fldSelectScanBehavior",children:[(0,a.jsx)(d.A,{id:"selectScanBehavior",label:"LabelScanBehavior",children:(e="",e+="<option value='NonBlocking'>".concat(c.Ay.translate("NonBlockingScan"),"</option>"),e+="<option value='Blocking'>".concat(c.Ay.translate("BlockingScan"),"</option>"))}),(0,a.jsx)("div",{className:"fieldDescription",children:c.Ay.translate("LabelScanBehaviorHelp")})]})}),(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsxs)("div",{className:"selectContainer fldSelectProcessPriority",children:[(0,a.jsx)(d.A,{id:"selectProcessPriority",label:"LabelProcessPriority",children:function(){var e="";return e+="<option value='High'>".concat(c.Ay.translate("PriorityHigh"),"</option>"),e+="<option value='AboveNormal'>".concat(c.Ay.translate("PriorityAboveNormal"),"</option>"),e+="<option value='Normal'>".concat(c.Ay.translate("PriorityNormal"),"</option>"),(e+="<option value='BelowNormal'>".concat(c.Ay.translate("PriorityBelowNormal"),"</option>"))+"<option value='Idle'>".concat(c.Ay.translate("PriorityIdle"),"</option>")}()}),(0,a.jsx)("div",{className:"fieldDescription",children:c.Ay.translate("LabelProcessPriorityHelp")})]})}),(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsxs)("div",{className:"inputContainer",children:[(0,a.jsx)(u.A,{type:"number",id:"txtInterval",label:"LabelImageInterval",options:'required inputMode="numeric" pattern="[0-9]*" min="1"'}),(0,a.jsx)("div",{className:"fieldDescription",children:c.Ay.translate("LabelImageIntervalHelp")})]})}),(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsxs)("div",{className:"inputContainer",children:[(0,a.jsx)(u.A,{type:"text",id:"txtWidthResolutions",label:"LabelWidthResolutions",options:'required pattern="[0-9,]*"'}),(0,a.jsx)("div",{className:"fieldDescription",children:c.Ay.translate("LabelWidthResolutionsHelp")})]})}),(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsxs)("div",{className:"inputContainer",children:[(0,a.jsx)(u.A,{type:"number",id:"txtTileWidth",label:"LabelTileWidth",options:'required inputMode="numeric" pattern="[0-9]*" min="1"'}),(0,a.jsx)("div",{className:"fieldDescription",children:c.Ay.translate("LabelTileWidthHelp")})]})}),(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsxs)("div",{className:"inputContainer",children:[(0,a.jsx)(u.A,{type:"number",id:"txtTileHeight",label:"LabelTileHeight",options:'required inputMode="numeric" pattern="[0-9]*" min="1"'}),(0,a.jsx)("div",{className:"fieldDescription",children:c.Ay.translate("LabelTileHeightHelp")})]})}),(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsxs)("div",{className:"inputContainer",children:[(0,a.jsx)(u.A,{type:"number",id:"txtJpegQuality",label:"LabelJpegQuality",options:'required inputMode="numeric" pattern="[0-9]*" min="1" max="100"'}),(0,a.jsx)("div",{className:"fieldDescription",children:c.Ay.translate("LabelJpegQualityHelp")})]})}),(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsxs)("div",{className:"inputContainer",children:[(0,a.jsx)(u.A,{type:"number",id:"txtQscale",label:"LabelQscale",options:'required inputMode="numeric" pattern="[0-9]*" min="2" max="31"'}),(0,a.jsx)("div",{className:"fieldDescription",children:c.Ay.translate("LabelQscaleHelp")})]})}),(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsxs)("div",{className:"inputContainer",children:[(0,a.jsx)(u.A,{type:"number",id:"txtProcessThreads",label:"LabelTrickplayThreads",options:'required inputMode="numeric" pattern="[0-9]*" min="0"'}),(0,a.jsx)("div",{className:"fieldDescription",children:c.Ay.translate("LabelTrickplayThreadsHelp")})]})}),(0,a.jsx)("div",{children:(0,a.jsx)(o.A,{type:"submit",className:"raised button-submit block",title:"Save"})})]})]})})}},7397:function(e,t,n){var a=n(62540),i=n(63696),c=n(62156);t.A=function(e){var t=e.children,n=e.id,l=e.className,r=void 0===l?"":l,o=e.title,s=e.isBackButtonEnabled,d=void 0===s||s,u=e.isMenuButtonEnabled,p=void 0!==u&&u,v=e.isNowPlayingBarEnabled,h=void 0===v||v,m=e.isThemeMediaSupported,y=void 0!==m&&m,b=e.backDropType,f=(0,i.useRef)(null);return(0,i.useEffect)((function(){c.A.hideView()}),[]),(0,i.useEffect)((function(){var e,t,n,a,i={bubbles:!0,cancelable:!1,detail:{isRestored:!1,options:{enableMediaControl:h,supportsThemeMedia:y}}};null===(e=f.current)||void 0===e||e.dispatchEvent(new CustomEvent("viewbeforeshow",i)),null===(t=f.current)||void 0===t||t.dispatchEvent(new CustomEvent("pagebeforeshow",i)),null===(n=f.current)||void 0===n||n.dispatchEvent(new CustomEvent("viewshow",i)),null===(a=f.current)||void 0===a||a.dispatchEvent(new CustomEvent("pageshow",i))}),[f,h,y]),(0,a.jsx)("div",{ref:f,id:n,"data-role":"page",className:"page ".concat(r),"data-title":o,"data-backbutton":d,"data-menubutton":p,"data-backdroptype":b,children:t})}},76165:function(e,t,n){var a=n(62540),i=(n(63696),n(9482)),c=function(e){var t=e.type,n=e.id,a=e.className,i=e.title,c=e.leftIcon,l=e.rightIcon;return{__html:'<button\n        is="emby-button"\n        type="'.concat(t,'"\n        ').concat(n,'\n        class="').concat(a,'"\n        >\n        ').concat(c,"\n        <span>").concat(i,"</span>\n        ").concat(l,"\n    </button>")}};t.A=function(e){var t=e.type,n=e.id,l=e.className,r=e.title,o=e.leftIcon,s=e.rightIcon;return(0,a.jsx)("div",{dangerouslySetInnerHTML:c({type:t,id:n?'id="'.concat(n,'"'):"",className:l,title:i.Ay.translate(r),leftIcon:o?'<span class="material-icons '.concat(o,'" aria-hidden="true"></span>'):"",rightIcon:s?'<span class="material-icons '.concat(s,'" aria-hidden="true"></span>'):""})})}},14948:function(e,t,n){var a=n(62540),i=n(22696),c=n.n(i),l=(n(63696),n(9482)),r=function(e){var t=e.labelClassName,n=e.className,a=e.id,i=e.dataFilter,c=e.dataItemType,l=e.dataId,r=e.checkedAttribute,o=e.renderContent;return{__html:"<label ".concat(t,'>\n        <input\n            is="emby-checkbox"\n            type="checkbox"\n            class="').concat(n,'"\n            ').concat(a,"\n            ").concat(i,"\n            ").concat(c,"\n            ").concat(l,"\n            ").concat(r,"\n        />\n        ").concat(o,"\n    </label>")}};t.A=function(e){var t=e.labelClassName,n=e.className,i=e.elementId,o=e.dataFilter,s=e.itemType,d=e.itemId,u=e.itemAppName,p=e.itemCheckedAttribute,v=e.itemName,h=e.title,m=u?"- ".concat(u):"",y=v?"<span>".concat(c()(v||"")," ").concat(m,"</span>"):"<span>".concat(l.Ay.translate(h),"</span>");return(0,a.jsx)("div",{className:"sectioncheckbox",dangerouslySetInnerHTML:r({labelClassName:t?"class='".concat(t,"'"):"",className:n,id:i?"id='".concat(i,"'"):"",dataFilter:o?"data-filter='".concat(o,"'"):"",dataItemType:s?"data-itemtype='".concat(s,"'"):"",dataId:d?"data-id='".concat(d,"'"):"",checkedAttribute:p||"",renderContent:y})})}},96268:function(e,t,n){var a=n(62540),i=(n(63696),n(9482)),c=function(e){var t=e.is,n=e.id,a=e.className,i=e.title,c=e.icon,l=e.dataIndex,r=e.dataTag,o=e.dataProfileid;return{__html:'<button\n        is="'.concat(t,'"\n        type="button"\n        ').concat(n,'\n        class="').concat(a,'"\n        ').concat(i,"\n        ").concat(l,"\n        ").concat(r,"\n        ").concat(o,'\n    >\n        <span class="material-icons ').concat(c,'" aria-hidden="true"></span>\n    </button>')}};t.A=function(e){var t=e.is,n=e.id,l=e.className,r=e.title,o=e.icon,s=e.dataIndex,d=e.dataTag,u=e.dataProfileid;return(0,a.jsx)("div",{dangerouslySetInnerHTML:c({is:t,id:n?'id="'.concat(n,'"'):"",className:l,title:r?'title="'.concat(i.Ay.translate(r),'"'):"",icon:o,dataIndex:s?'data-index="'.concat(s,'"'):"",dataTag:d?'data-tag="'.concat(d,'"'):"",dataProfileid:u?'data-profileid="'.concat(u,'"'):""})})}},39057:function(e,t,n){var a=n(62540),i=n(63696),c=n(9482);t.A=function(e){var t=e.containerClassName,n=e.initialValue,l=e.onChange,r=void 0===l?function(){}:l,o=e.type,s=e.id,d=e.label,u=e.options,p=void 0===u?"":u,v=(0,i.useRef)(null),h=(0,i.useMemo)((function(){return function(e){var t=e.id,n=e.label,a=e.initialValue,i=e.options;return{__html:'<input\n        is="emby-input"\n        type="'.concat(e.type,'"\n        id="').concat(t,'"\n        label="').concat(n,'"\n        value="').concat(a,'"\n        ').concat(i,"\n    />")}}({type:o,id:s,label:c.Ay.translate(d),initialValue:n,options:p})}),[]),m=(0,i.useCallback)((function(e){r(e.target.value)}),[r]);return(0,i.useEffect)((function(){var e,t=null===(e=null==v?void 0:v.current)||void 0===e?void 0:e.querySelector("input");return null==t||t.addEventListener("input",m),function(){null==t||t.removeEventListener("input",m)}}),[v,m]),(0,a.jsx)("div",{ref:v,className:t,dangerouslySetInnerHTML:h})}},85757:function(e,t,n){n.d(t,{A:function(){return o}});var a=n(62540),i=(n(63696),n(96268)),c=n(9482),l=function(e){var t=e.className,n=e.title,a=e.href;return{__html:'<a\n        is="emby-linkbutton"\n        rel="noopener noreferrer"\n        class="'.concat(t,'"\n        target="_blank"\n        href="').concat(a,'"\n        >\n        ').concat(n,"\n    </a>")}},r=function(e){var t=e.className,n=e.title,i=e.url;return(0,a.jsx)("div",{dangerouslySetInnerHTML:l({className:t,title:c.Ay.translate(n),href:i})})},o=function(e){var t=e.SectionClassName,n=e.title,c=e.isBtnVisible,l=void 0!==c&&c,o=e.btnId,s=e.btnClassName,d=e.btnTitle,u=e.btnIcon,p=e.isLinkVisible,v=void 0===p||p,h=e.url;return(0,a.jsxs)("div",{className:"".concat(t," sectionTitleContainer flex align-items-center"),children:[(0,a.jsx)("h2",{className:"sectionTitle",children:n}),l&&(0,a.jsx)(i.A,{is:"emby-button",id:o,className:s,title:d,icon:u}),v&&(0,a.jsx)(r,{className:"raised button-alt headerHelpButton",title:"Help",url:h})]})}},70749:function(e,t,n){var a=n(62540),i=(n(63696),n(9482)),c=function(e){var t=e.name,n=e.id,a=e.required,i=e.label,c=e.option;return{__html:'<select\n        is="emby-select"\n        '.concat(t,'\n        id="').concat(n,'"\n        ').concat(a,'\n        label="').concat(i,'"\n    >\n        ').concat(c,"\n    </select>")}};t.A=function(e){var t=e.name,n=e.id,l=e.required,r=e.label,o=e.children;return(0,a.jsx)("div",{dangerouslySetInnerHTML:c({name:t?"name='".concat(t,"'"):"",id:n,required:l?"required='".concat(l,"'"):"",label:i.Ay.translate(r),option:o})})}}}]);