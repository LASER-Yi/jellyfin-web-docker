"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7631,96084,40367],{95626:function(e,r,t){t.r(r),t.d(r,{default:function(){return A}}),t(24776),t(20518),t(78557),t(23630);var i,n,a,c=t(22696),o=t.n(c),s=t(84069),u=t(70267),l=t(46782),d=t(80669),f=t(86191),y=t(9482),v=t(73233),m=t(62014),p=!1;function g(e,r,t){return l.A.tv?e+='<button class="lyricsLine dynamicLyric listItem show-focus" id="lyricPosition'.concat(t,'" data-lyrictime="').concat(r.Start,'">').concat(o()(r.Text),"</button>"):e+='<div class="lyricsLine dynamicLyric" id="lyricPosition'.concat(t,'" data-lyrictime="').concat(r.Start,'">').concat(o()(r.Text),"</div>"),e}function h(e,r,t){return l.A.tv?e+='<button class="lyricsLine listItem show-focus" id="lyricPosition'.concat(t,'">').concat(o()(r.Text),"</button>"):e+='<div class="lyricsLine" id="lyricPosition'.concat(t,'">').concat(o()(r.Text),"</div>"),e}function L(e,r){return r.findLastIndex((function(r){return r.Start<=e}))}function b(){var e=d.f.currentTime();return void 0===e&&(e=0),1e4*e}function A(e){function r(r){var t=e.querySelector("#lyricPosition".concat(r));t&&(t.classList.remove("pastLyric"),t.classList.add("futureLyric"))}function t(r){var t=e.querySelector("#lyricPosition".concat(r));t&&(t.classList.remove("pastLyric"),t.classList.remove("futureLyric"))}function c(i,n){for(var a=0;a<=n.length;a++)a<i?(c=a,o=void 0,(o=e.querySelector("#lyricPosition".concat(c)))&&(o.classList.remove("futureLyric"),o.classList.add("pastLyric"))):a===i?t(a):a>i&&r(a);var c,o}function o(){var r=e.querySelector(".dynamicLyricsContainer");if(r){var t="<h1> ".concat(y.Ay.translate("HeaderNoLyrics")," </h1>");r.innerHTML=t}s.default.autoFocus()}function l(r){a=r,(p=Object.prototype.hasOwnProperty.call(r[0],"Start"))?function(r){var t=e.querySelector(".dynamicLyricsContainer");if(t){var n=r.reduce(g,"");t.innerHTML=n}t.querySelectorAll(".lyricsLine").forEach((function(e){e.addEventListener("click",(function(){return r=e.getAttribute("data-lyrictime"),d.f.seek(r),void(d.f.paused()&&d.f.playPause(i));var r}))})),c(L(b(),r),a)}(a):function(r){var t=e.querySelector(".dynamicLyricsContainer");if(t){var i=r.reduce(h,"");t.innerHTML=i}}(a),s.default.autoFocus(e)}function A(e){e!==i&&(P(),i=e,e&&(m.A.on(e,"timeupdate",S),m.A.on(e,"playbackstart",w),m.A.on(e,"playbackstop",I)))}function P(){var e=i;e&&(m.A.off(e,"timeupdate",S),m.A.off(e,"playbackstart",w),m.A.off(e,"playbackstop",I),i=null)}function S(){p&&c(L(b(),a),a)}function w(e,r){n.Id!==r.NowPlayingItem.Id&&C()}function I(e,r){r.NextMediaType||u.appRouter.goHome()}function k(){A(d.f.getCurrentPlayer())}function C(){a=null,n=null,p=!1,v.default.setTitle(y.Ay.translate("Lyrics"));var e,r,t,i=d.f.getCurrentPlayer();if(i){A(i);var c=d.f.getPlayerState(i);n=c.NowPlayingItem,(e=c.NowPlayingItem.ServerId,r=c.NowPlayingItem.Id,t=f.A.getApiClient(e),t.ajax({url:t.getUrl("Audio/"+r+"/Lyrics"),type:"GET",dataType:"json"}).then((function(e){if(!e.Lyrics)throw new Error;return e.Lyrics}))).then(l).catch(o)}else u.appRouter.goHome()}e.addEventListener("viewshow",(function(){m.A.on(d.f,"playerchange",k);try{C()}catch(e){u.appRouter.goHome()}})),e.addEventListener("viewbeforehide",(function(){m.A.off(d.f,"playerchange",k),P()}))}},40782:function(e,r,t){var i=t(11444),n="assets/img/devices/";r.Ay={getDeviceIcon:function(e){var r;switch(e.AppName||e.Client){case"Samsung Smart TV":return n+"samsung.svg";case"Xbox One":return n+"xbox.svg";case"Sony PS4":return n+"playstation.svg";case"Kodi":case"Kodi JellyCon":return n+"kodi.svg";case"Jellyfin Android":case"AndroidTV":case"Android TV":return n+"android.svg";case"Jellyfin Mobile (iOS)":case"Jellyfin Mobile (iPadOS)":case"Jellyfin iOS":case"Infuse":return n+"apple.svg";case"Home Assistant":return n+"home-assistant.svg";case"Jellyfin Roku":return n+"roku.svg";case"Finamp":return n+"finamp.svg";case"Jellyfin Web":return function(e){switch(e){case"Opera":case"Opera TV":case"Opera Android":return n+"opera.svg";case"Chrome":case"Chrome Android":return n+"chrome.svg";case"Firefox":case"Firefox Android":return n+"firefox.svg";case"Safari":case"Safari iPad":case"Safari iPhone":return n+"safari.svg";case"Edge Chromium":case"Edge Chromium Android":case"Edge Chromium iPad":case"Edge Chromium iPhone":return n+"edgechromium.svg";case"Edge":return n+"edge.svg";case"Internet Explorer":return n+"msie.svg";default:return n+"html5.svg"}}(e.Name||e.DeviceName);default:if(null===(r=e.Capabilities)||void 0===r?void 0:r.IconUrl)try{return new URL(e.Capabilities.IconUrl).toString()}catch(r){console.error("[getDeviceIcon] device capabilities has invalid IconUrl",e,r)}return n+"other.svg"}},getLibraryIcon:function(e){switch(e){case"movies":return"video_library";case"music":return"library_music";case"photos":case"homevideos":return"photo_library";case"livetv":return"live_tv";case"tvshows":return"tv";case"trailers":return"local_movies";case"musicvideos":return"music_video";case"books":return"library_books";case"channels":return"videocam";case"playlists":return"view_list";default:return"folder"}},getItemTypeIcon:function(e){switch(e){case i.D.MusicAlbum:return"album";case i.D.MusicArtist:case i.D.Person:return"person";case i.D.Audio:return"audiotrack";case i.D.Movie:return"movie";case i.D.Episode:case i.D.Series:return"tv";case i.D.Program:return"live_tv";case i.D.Book:return"book";case i.D.Folder:return"folder";case i.D.BoxSet:return"collections";case i.D.Playlist:return"view_list";case i.D.Photo:return"photo";case i.D.PhotoAlbum:return"photo_album";default:return"folder"}}}}}]);