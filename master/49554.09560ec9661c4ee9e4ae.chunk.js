"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[49554,27636],{56229:function(e,t,a){a.r(t),a(63238),a(55849),a(43512),a(27471),a(48410);var n=a(61693),i=a(81643),r=a(57366),s=a(98301),o=a(30325),l=a(48957),u=a(69011),d=a(84881),c=a(72365),m=a(9337),g=(a(61414),a(27636),a(18613));function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function f(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==h(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key,"string"),"symbol"===h(i)?i:String(i)),n)}var i}a(19068),a(87211),a(25901),a(92189),a(95163),a(99785),a(91047),a(5769),a(17460),a(14078);var p,v,b,y,k,w,P,L,I,T,S,B,A,E,C,Z=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t,a=this;a.element=((t=document.createElement("div")).classList.add("appfooter"),document.body.appendChild(t),t),a.add=function(e){a.element.appendChild(e)},a.insert=function(e){"string"==typeof e?a.element.insertAdjacentHTML("afterbegin",e):a.element.insertBefore(e,a.element.firstChild)}}var t,a;return t=e,(a=[{key:"destroy",value:function(){this.element=null}}])&&f(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),e}()),M=a(61008),x=(a(42855),a(52050)),O=[],q=0,N={},R=0,D=!0;function U(){this.classList.add("hide")}function F(){l.O.playPause(p)}function j(){if(C)return C;var e,t,a=Z.element;return(C=a.querySelector(".nowPlayingBar"))||(a.insertAdjacentHTML("afterbegin",(e="",e+='<div class="nowPlayingBar hide nowPlayingBar-hidden">',e+='<div class="nowPlayingBarTop">',e+='<div class="nowPlayingBarPositionContainer sliderContainer" dir="ltr">',e+='<input type="range" is="emby-slider" pin step=".01" min="0" max="100" value="0" class="slider-medium-thumb nowPlayingBarPositionSlider" data-slider-keep-progress="true"/>',e+="</div>",e+='<div class="nowPlayingBarInfoContainer">',e+='<div class="nowPlayingImage"></div>',e+='<div class="nowPlayingBarText"></div>',e+="</div>",e+='<div class="nowPlayingBarCenter" dir="ltr">',e+='<button is="paper-icon-button-light" class="previousTrackButton mediaButton"><span class="material-icons skip_previous" aria-hidden="true"></span></button>',e+='<button is="paper-icon-button-light" class="playPauseButton mediaButton"><span class="material-icons pause" aria-hidden="true"></span></button>',e+='<button is="paper-icon-button-light" class="stopButton mediaButton"><span class="material-icons stop" aria-hidden="true"></span></button>',o.Z.mobile||(e+='<button is="paper-icon-button-light" class="nextTrackButton mediaButton"><span class="material-icons skip_next" aria-hidden="true"></span></button>'),e+='<div class="nowPlayingBarCurrentTime"></div>',e+="</div>",e+='<div class="nowPlayingBarRight">',e+='<button is="paper-icon-button-light" class="muteButton mediaButton"><span class="material-icons volume_up" aria-hidden="true"></span></button>',e+='<div class="sliderContainer nowPlayingBarVolumeSliderContainer hide" style="width:9em;vertical-align:middle;display:inline-flex;">',e+='<input type="range" is="emby-slider" pin step="1" min="0" max="100" value="0" class="slider-medium-thumb nowPlayingBarVolumeSlider"/>',e+="</div>",e+='<button is="paper-icon-button-light" class="toggleRepeatButton mediaButton"><span class="material-icons repeat" aria-hidden="true"></span></button>',e+='<button is="paper-icon-button-light" class="btnShuffleQueue mediaButton"><span class="material-icons shuffle" aria-hidden="true"></span></button>',e+='<div class="nowPlayingBarUserDataButtons">',e+="</div>",e+='<button is="paper-icon-button-light" class="playPauseButton mediaButton"><span class="material-icons pause" aria-hidden="true"></span></button>',o.Z.mobile?e+='<button is="paper-icon-button-light" class="nextTrackButton mediaButton"><span class="material-icons skip_next" aria-hidden="true"></span></button>':e+='<button is="paper-icon-button-light" class="btnToggleContextMenu mediaButton"><span class="material-icons more_vert" aria-hidden="true"></span></button>',e+="</div>",(e+="</div>")+"</div>")),window.CustomElements.upgradeSubtree(a),C=a.querySelector(".nowPlayingBar"),o.Z.mobile&&(_(C.querySelector(".btnShuffleQueue")),_(C.querySelector(".nowPlayingBarCenter"))),r.Z.safari&&r.Z.slow&&C.classList.add("noMediaProgress"),M.ZP.on(C),v=(t=C).querySelector(".nowPlayingBarCurrentTime"),b=t.querySelector(".nowPlayingImage"),k=t.querySelector(".nowPlayingBarText"),w=t.querySelector(".nowPlayingBarUserDataButtons"),S=t.querySelector(".nowPlayingBarPositionSlider"),P=t.querySelector(".muteButton"),T=t.querySelectorAll(".playPauseButton"),B=t.querySelector(".toggleRepeatButton"),L=t.querySelector(".nowPlayingBarVolumeSlider"),I=t.querySelector(".nowPlayingBarVolumeSliderContainer"),P.addEventListener("click",(function(){p&&l.O.toggleMute(p)})),t.querySelector(".stopButton").addEventListener("click",(function(){p&&l.O.stop(p)})),T.forEach((function(e){e.addEventListener("click",F)})),t.querySelector(".nextTrackButton").addEventListener("click",(function(){p&&l.O.nextTrack(p)})),t.querySelector(".previousTrackButton").addEventListener("click",(function(e){if(p)if("Audio"===N.NowPlayingItem.MediaType&&(p._currentTime>=5||!l.O.previousTrack(p))){if(e.detail>1&&l.O.previousTrack(p))return;l.O.seekPercent(0,p),S.value=0}else l.O.previousTrack(p)})),t.querySelector(".previousTrackButton").addEventListener("dblclick",(function(){p&&l.O.previousTrack(p)})),t.querySelector(".btnShuffleQueue").addEventListener("click",(function(){p&&l.O.toggleQueueShuffleMode()})),(B=t.querySelector(".toggleRepeatButton")).addEventListener("click",(function(){switch(l.O.getRepeatMode()){case"RepeatAll":l.O.setRepeatMode("RepeatOne");break;case"RepeatOne":l.O.setRepeatMode("RepeatNone");break;case"RepeatNone":l.O.setRepeatMode("RepeatAll")}})),A=B.querySelector(".material-icons"),I.classList.toggle("hide",d.M.supports("physicalvolumecontrol")),L.addEventListener("input",(function(e){p&&p.setVolume(e.target.value)})),S.addEventListener("change",(function(){if(p){var e=parseFloat(this.value);l.O.seekPercent(e,p)}})),S.getBubbleText=function(e){if(!N||!N.NowPlayingItem||!R)return"--:--";var t=R;return t/=100,t*=e,n.ZP.getDisplayRunningTime(t)},t.addEventListener("click",(function(e){c.ZP.parentWithTag(e.target,["BUTTON","INPUT"])||x.appRouter.showNowPlaying()}))),C}function _(e){e.classList.add("hide")}function H(e){T&&T.forEach((function(t){var a=t.querySelector(".material-icons");a.classList.remove("play_arrow","pause"),a.classList.add(e?"play_arrow":"pause")}))}function V(e){A.classList.remove("repeat","repeat_one");var t="buttonActive";switch(e){case"RepeatAll":A.classList.add("repeat"),B.classList.add(t);break;case"RepeatOne":A.classList.add("repeat_one"),B.classList.add(t);break;default:A.classList.add("repeat"),B.classList.remove(t)}}function Q(e,t,a){if(S&&!S.dragging)if(t){var i=e/t;i*=100,S.value=i}else S.value=0;if(S&&S.setBufferedRanges(a,t,e),v){var r=null==e?"--:--":n.ZP.getDisplayRunningTime(e);t&&(r+=" / "+n.ZP.getDisplayRunningTime(t)),v.innerHTML=r}}function K(e,t){var a=O,n=!0,i=!0;-1===a.indexOf("ToggleMute")&&(n=!1);var r=P.querySelector(".material-icons");r.classList.remove("volume_off","volume_up"),r.classList.add(e?"volume_off":"volume_up"),-1===a.indexOf("SetVolume")&&(i=!1),p.isLocalPlayer&&d.M.supports("physicalvolumecontrol")&&(n=!1,i=!1),n?P.classList.remove("hide"):_(P),L&&(I.classList.toggle("hide",!i),L.dragging||(L.value=t||0))}function W(e,t){console.debug("nowplaying event: "+e.type),J.call(this,e,t)}function X(){E&&V(l.O.getRepeatMode())}function Y(){if(E){var e=l.O.getQueueShuffleMode(),t="buttonActive",a=C.querySelector(".btnShuffleQueue");"Shuffle"===e?a.classList.add(t):a.classList.remove(t)}}function z(){E=!1;var e=document.getElementsByClassName("nowPlayingBar")[0];e&&function(e){e.offsetWidth,e.classList.add("nowPlayingBar-hidden"),c.ZP.addEventListener(e,c.ZP.whichTransitionEvent(),U,{once:!0})}(e)}function $(e,t){console.debug("nowplaying event: "+e.type),this.isLocalPlayer?"Audio"!==t.NextMediaType&&z():t.NextMediaType||z()}function G(){E&&H(this.paused())}function J(e,t){if("init"!==e.type){console.debug("nowplaying event: "+e.type);t.NowPlayingItem&&!o.Z.tv&&!1!==t.IsFullscreen?this.isLocalPlayer&&t.NowPlayingItem&&"Video"===t.NowPlayingItem.MediaType?z():(E=!0,C||j(),function(e,t,a){var n;D?(n=j(),c.ZP.removeEventListener(n,c.ZP.whichTransitionEvent(),U,{once:!0}),n.classList.remove("hide"),n.offsetWidth,n.classList.remove("nowPlayingBar-hidden")):z(),N=t;var i=l.O.getPlayerInfo(),r=t.PlayState||{};H(r.IsPaused);var d=i.supportedCommands;if(O=d,-1===d.indexOf("SetRepeatMode")?B.classList.add("hide"):B.classList.remove("hide"),V(l.O.getRepeatMode()),Y(),K(r.IsMuted,r.VolumeLevel),S&&!S.dragging){S.disabled=!r.CanSeek;var h=t.MediaSource&&null==t.MediaSource.RunTimeTicks;S.setIsClear(h)}var f=t.NowPlayingItem||{};Q(r.PositionTicks,f.RunTimeTicks,l.O.getBufferedRanges(a)),function(e){var t=e.NowPlayingItem,a=t?u.Z.getNowPlayingNames(t):[];if(k.innerHTML="",a){var n=document.createElement("div"),i=document.createElement("div");if(i.classList.add("nowPlayingBarSecondaryText"),a.length>1&&(a[1].secondary=!0,a[1].text)){var r=document.createElement("a");r.innerText=a[1].text,i.appendChild(r)}if(a[0].text){var l=document.createElement("a");l.innerText=a[0].text,n.appendChild(l)}k.appendChild(n),k.appendChild(i)}var d=t?function(e,t){if(!e)throw new Error("item cannot be null!");if("Episode"!==e.Type)return null;if((t=t||{}).type=t.type||"Primary","Primary"===t.type&&e.SeriesPrimaryImageTag)return t.tag=e.SeriesPrimaryImageTag,g.Z.getApiClient(e.ServerId).getScaledImageUrl(e.SeriesId,t);if("Thumb"===t.type){if(e.SeriesThumbImageTag)return t.tag=e.SeriesThumbImageTag,g.Z.getApiClient(e.ServerId).getScaledImageUrl(e.SeriesId,t);if(e.ParentThumbImageTag)return t.tag=e.ParentThumbImageTag,g.Z.getApiClient(e.ServerId).getScaledImageUrl(e.ParentThumbItemId,t)}return null}(t,{height:70})||function(e,t){if(!e)throw new Error("item cannot be null!");return(t=t||{}).type=t.type||"Primary",e.ImageTags&&e.ImageTags[t.type]?(t.tag=e.ImageTags[t.type],g.Z.getApiClient(e.ServerId).getScaledImageUrl(e.PrimaryImageItemId||e.Id,t)):e.AlbumId&&e.AlbumPrimaryImageTag?(t.tag=e.AlbumPrimaryImageTag,g.Z.getApiClient(e.ServerId).getScaledImageUrl(e.AlbumId,t)):null}(t,{height:70}):null;if(d!==y&&(d?(y=d,s.default.lazyImage(b,y),b.style.display=null,k.style.marginLeft=null):(y=null,b.style.backgroundImage="",b.style.display="none",k.style.marginLeft="1em")),t.Id){var c=g.Z.getApiClient(t.ServerId);c.getItem(c.getCurrentUserId(),t.Id).then((function(e){var t=e.UserData||{},a=null==t.Likes?"":t.Likes;if(!o.Z.mobile){var n=C.querySelector(".btnToggleContextMenu"),i=n.cloneNode(!0);n.parentNode.replaceChild(i,n);var r={play:!1,queue:!1,stopPlayback:!0,clearQueue:!0,positionTo:n=C.querySelector(".btnToggleContextMenu")};c.getCurrentUser().then((function(t){n.addEventListener("click",(function(){m.default.show(Object.assign({item:e,user:t},r))}))}))}w.innerHTML='<button is="emby-ratingbutton" type="button" class="listItemButton mediaButton paper-icon-button-light" data-id="'+e.Id+'" data-serverid="'+e.ServerId+'" data-itemtype="'+e.Type+'" data-likes="'+a+'" data-isfavorite="'+t.IsFavorite+'"><span class="material-icons favorite" aria-hidden="true"></span></button>'}))}else w.innerHTML=""}(t)}(0,t,this)):z()}}function ee(){if(E){var e=(new Date).getTime();if(!(e-q<700)){q=e;var t=this;R=l.O.duration(t),Q(1e4*l.O.currentTime(t),R,l.O.getBufferedRanges(t))}}}function te(){E&&K(this.isMuted(),this.getVolume())}function ae(e,t){var a=l.O.getPlayerState(e);J.call(e,{type:t},a)}function ne(e){e!==p&&(function(){var e=p;e&&(i.Z.off(e,"playbackstart",W),i.Z.off(e,"statechange",W),i.Z.off(e,"repeatmodechange",X),i.Z.off(e,"shufflequeuemodechange",Y),i.Z.off(e,"playbackstop",$),i.Z.off(e,"volumechange",te),i.Z.off(e,"pause",G),i.Z.off(e,"unpause",G),i.Z.off(e,"timeupdate",ee),p=null,z())}(),p=e,e&&(ae(e,"init"),i.Z.on(e,"playbackstart",W),i.Z.on(e,"statechange",W),i.Z.on(e,"repeatmodechange",X),i.Z.on(e,"shufflequeuemodechange",Y),i.Z.on(e,"playbackstop",$),i.Z.on(e,"volumechange",te),i.Z.on(e,"pause",G),i.Z.on(e,"unpause",G),i.Z.on(e,"timeupdate",ee)))}i.Z.on(l.O,"playerchange",(function(){ne(l.O.getCurrentPlayer())})),ne(l.O.getCurrentPlayer()),document.addEventListener("viewbeforeshow",(function(e){e.detail.options.enableMediaControl?D||(D=!0,p?ae(p,"refresh"):z()):D&&(D=!1,z())}))},69011:function(e,t,a){a(61013),t.Z={getNowPlayingNames:function(e,t){var a=e,n=null,i=e.Name;e.AlbumId&&"Audio"===e.MediaType&&(a={Id:e.AlbumId,Name:e.Album,Type:"MusicAlbum",IsFolder:!0}),"Video"===e.MediaType&&(null!=e.IndexNumber&&(i=e.IndexNumber+" - "+i),null!=e.ParentIndexNumber&&(i=e.ParentIndexNumber+"."+i));var r="";e.ArtistItems&&e.ArtistItems.length?(n={Id:e.ArtistItems[0].Id,Name:e.ArtistItems[0].Name,Type:"MusicArtist",IsFolder:!0},r=e.ArtistItems.map((function(e){return e.Name})).join(", ")):e.Artists&&e.Artists.length?r=e.Artists.join(", "):e.SeriesName||e.Album?(r=i,i=e.SeriesName||e.Album,n=a,a=e.SeriesId?{Id:e.SeriesId,Name:e.SeriesName,Type:"Series",IsFolder:!0}:null):e.ProductionYear&&!1!==t&&(r=e.ProductionYear);var s=[];return s.push({text:i,item:a}),r&&s.push({text:r,item:n}),s}}},27636:function(e,t,a){a.r(t);var n=a(44038),i=a(94994),r=a(81643),s=a(38228),o=a(18613);function l(){var e=this,t=e.getAttribute("data-id"),a=e.getAttribute("data-serverid"),n=o.Z.getApiClient(a),i=this.getAttribute("data-likes");i="true"===i||"false"!==i&&null,function(e,t,a,n,i){return t.updateFavoriteStatus(t.getCurrentUserId(),a,!i)}(0,n,t,0,"true"===this.getAttribute("data-isfavorite")).then((function(t){d(e,t.Likes,t.IsFavorite)}))}function u(e,t,a){a.ItemId===this.getAttribute("data-id")&&d(this,a.Likes,a.IsFavorite)}function d(e,t,a,n){var i=e.querySelector(".material-icons");a?(i&&(i.classList.add("favorite"),i.classList.add("ratingbutton-icon-withrating")),e.classList.add("ratingbutton-withrating")):(i&&(i.classList.add("favorite"),i.classList.remove("ratingbutton-icon-withrating")),e.classList.remove("ratingbutton-withrating")),!1!==n&&(e.setAttribute("data-isfavorite",a),e.setAttribute("data-likes",null===t?"":t)),c(e,a)}function c(e,t){e.title=t?i.ZP.translate("Favorite"):i.ZP.translate("AddToFavorites");var a=e.querySelector(".button-text");a&&(a.innerText=e.title)}function m(e){var t,a,i;e.removeEventListener("click",l),(i=(t=e)[a="UserDataChanged"])&&(r.Z.off(n.default,a,i),t[a]=null)}function g(e){var t,a,i;m(e),e.addEventListener("click",l),t=e,a="UserDataChanged",i=u.bind(t),r.Z.on(n.default,a,i),t[a]=i}var h=Object.create(s.Z);h.createdCallback=function(){s.Z.createdCallback&&s.Z.createdCallback.call(this)},h.attachedCallback=function(){s.Z.attachedCallback&&s.Z.attachedCallback.call(this);var e=this.getAttribute("data-id"),t=this.getAttribute("data-serverid");if(e&&t){var a=this.getAttribute("data-likes");d(this,a="true"===a||"false"!==a&&null,"true"===this.getAttribute("data-isfavorite"),!1),g(this)}else c(this)},h.detachedCallback=function(){s.Z.detachedCallback&&s.Z.detachedCallback.call(this),m(this)},h.setItem=function(e){if(e){this.setAttribute("data-id",e.Id),this.setAttribute("data-serverid",e.ServerId);var t=e.UserData||{};d(this,t.Likes,t.IsFavorite),g(this)}else this.removeAttribute("data-id"),this.removeAttribute("data-serverid"),this.removeAttribute("data-likes"),this.removeAttribute("data-isfavorite"),m(this)},document.registerElement("emby-ratingbutton",{prototype:h,extends:"button"})},42855:function(e,t,a){a(20252),a(99785),a(43512),a(23938),a(52077),a(911),a(63238),a(55849),a(61013),a(72410),a(15610),a(17460),a(25901),a(92189),a(91047),a(5769),a(14078);var n=a(57366),i=a(72365),r=a(30325),s=a(84280),o=(a(67752),a(62033),a(94994));function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var u,d=Object.create(HTMLInputElement.prototype),c=!1;if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var m=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");m&&m.configurable&&(c=!0)}function g(e,t){var a=e.sliderBubbleTrack.getBoundingClientRect(),n=(t-a.left)/a.width;o.ZP.getIsElementRTL(e)&&(n=(a.right-t)/a.width);var i=e.max-e.min;if("any"!==e.step&&0!==i){var r=(e.step||1)/i;n=Math.round(n/r)*r}return Math.min(Math.max(n,0),1)}function h(e,t){var a=(e.max-e.min)*t;if("any"!==e.step){var n=e.step||1;a=Math.round(a/n)*n}return a+=parseFloat(e.min),Math.min(Math.max(a,e.min),e.max)}function f(e){if(!e||!this.keyboardDragging&&!this.touched){var t=this,a=t.value;cancelAnimationFrame(t.updateValuesFrame),t.updateValuesFrame=requestAnimationFrame((function(){var e=t.backgroundLower;if(e){var n=(a-t.min)/(t.max-t.min);n*=100,e.style.width=n+"%"}t.markerContainerElement&&(t.triedAddingMarkers||function(e){e.markerInfo=[],e.getMarkerInfo&&(e.markerInfo=e.getMarkerInfo()),e.markerInfo.forEach((function(t){var a,n;e.markerContainerElement.insertAdjacentHTML("beforeend",(n="","chapterMarker"===(a=t).className&&(n=a.className,"string"==typeof a.name&&a.name.length&&(n="".concat(a.className," marker-").concat(a.name.substring(0,100).toLowerCase().replace(" ","-")))),'<span class="material-icons sliderMarker '.concat(n,'" aria-hidden="true"></span>')))})),e.markerElements=e.markerContainerElement.querySelectorAll(".sliderMarker"),e.triedAddingMarkers=!0}(t),function(e,t){if(e.markerInfo&&e.markerInfo.length&&e.markerElements&&e.markerElements.length)for(var a=0,n=e.markerElements.length;a<n;a++)e.markerInfo.length>a&&v(e,h(e,e.markerInfo[a].progress),e.markerElements[a],t)}(t,a))}))}}function p(e,t,a){requestAnimationFrame((function(){var n=e.sliderBubbleTrack.getBoundingClientRect(),i=a.getBoundingClientRect(),r=n.width*t/100;o.ZP.getIsElementRTL(e)&&(r=n.width-r),r=Math.min(Math.max(r,i.width/2),n.width-i.width/2),a.style.left=r+"px",t=e.getBubbleHtml?e.getBubbleHtml(t):'<h1 class="sliderBubbleText">'+(t=e.getBubbleText?e.getBubbleText(t):h(e,t/100).toLocaleString())+"</h1>",a.innerHTML=t}))}function v(e,t,a,n){requestAnimationFrame((function(){var i=e.sliderBubbleTrack.getBoundingClientRect(),r=a.getBoundingClientRect();if(i.width&&r.width){var s=i.width*t/100-r.width/2;s=Math.min(Math.max(s,-r.width/2),i.width-r.width/2),a.style.left=s+"px",n>=t?(a.classList.remove("unwatched"),a.classList.add("watched")):(a.classList.add("unwatched"),a.classList.remove("watched"))}}))}function b(e,t){(function(e){e.keyboardDragging=!0,clearTimeout(u),u=setTimeout((function(){!function(e){clearTimeout(u),u=void 0,e.keyboardDragging=!1;var t=new Event("change",{bubbles:!0,cancelable:!1});e.dispatchEvent(t)}(e)}),1e3)})(e),e.value=Math.max(e.min,Math.min(e.max,parseFloat(e.value)+t));var a=new Event("input",{bubbles:!0,cancelable:!1});e.dispatchEvent(a)}function y(e){switch(s.ZP.getKeyName(e)){case"ArrowLeft":case"Left":b(this,-this.keyboardStepDown||-1),e.preventDefault(),e.stopPropagation();break;case"ArrowRight":case"Right":b(this,this.keyboardStepUp||1),e.preventDefault(),e.stopPropagation()}}function k(e,t,a){var n=e.style;o.ZP.getIsRTL()?n.right=Math.max(t,0)+"%":n.left=Math.max(t,0)+"%";var i=a-t;n.width=Math.max(Math.min(i,100),0)+"%"}d.attachedCallback=function(){if("true"!==this.getAttribute("data-embyslider")){this.setAttribute("data-embyslider","true"),this.classList.add("mdl-slider"),this.classList.add("mdl-js-slider"),n.Z.edge&&this.classList.add("slider-browser-edge"),r.Z.mobile||this.classList.add("mdl-slider-hoverthumb"),r.Z.tv&&this.classList.add("show-focus");var e=i.ZP.parentWithClass(this,"sliderContainer-settings");if(e&&this.getAttribute("label")){var t=this.ownerDocument.createElement("label");t.innerText=this.getAttribute("label"),t.classList.add("sliderLabel"),t.htmlFor=this.id,e.insertBefore(t,e.firstChild)}var a=this.parentNode;a.classList.add("mdl-slider-container"),a.insertAdjacentHTML("beforeend",'<div class="mdl-slider-background-flex-container"><div class="mdl-slider-background-flex"><div class="mdl-slider-background-flex-inner"><div class="mdl-slider-background-upper"></div><div class="mdl-slider-background-lower"></div></div></div></div><div class="sliderBubbleTrack"><div class="sliderBubble hide"></div></div>'),this.sliderBubbleTrack=a.querySelector(".sliderBubbleTrack"),this.backgroundLower=a.querySelector(".mdl-slider-background-lower"),this.backgroundUpper=a.querySelector(".mdl-slider-background-upper");var s=a.querySelector(".sliderBubble"),o=s.classList.contains("hide");this.markerContainerElement=a.querySelector(".sliderMarkerContainer"),i.ZP.addEventListener(this,"input",(function(){var e,t,a,n;this.dragging=!0,"true"!==this.dataset.sliderKeepProgress&&f.call(this),p(this,100*(e=this,t=this.value,n=0!==(a=e.max-e.min)?(t-e.min)/a:0,Math.min(Math.max(n,0),1)),s),o&&(s.classList.remove("hide"),o=!1)}),{passive:!0}),i.ZP.addEventListener(this,"change",(function(){this.dragging=!1,"true"===this.dataset.sliderKeepProgress&&f.call(this),s.classList.add("hide"),o=!0}),{passive:!0}),i.ZP.addEventListener(this,window.PointerEvent?"pointermove":"mousemove",(function(e){this.dragging||(p(this,100*g(this,e.clientX),s),o&&(s.classList.remove("hide"),o=!1))}),{passive:!0}),i.ZP.addEventListener(this,window.PointerEvent?"pointerleave":"mouseleave",(function(){s.classList.add("hide"),o=!0}),{passive:!0}),n.Z.iOS&&(i.ZP.addEventListener(this,"touchstart",(function(e){if(1===e.targetTouches.length){this.touched=!0;var t=g(this,e.targetTouches[0].clientX);this.value=h(this,t),this.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!1})),e.preventDefault()}}),{capture:!0}),i.ZP.addEventListener(this,"touchmove",(function(e){if(this.touched&&1===e.targetTouches.length){var t=g(this,e.targetTouches[0].clientX);this.value=h(this,t),this.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!1}))}}),{passive:!0}),i.ZP.addEventListener(this,"touchend",(function(){var e=this;setTimeout((function(){e.touched=!1,e.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!1}))}),0)}),{passive:!0})),c?this.addEventListener("valueset",f.bind(this,!0)):((u=(l=this).interval)&&clearInterval(u),l.interval=setInterval(f.bind(l,!0),100))}var l,u},d.enableKeyboardDragging=function(){this.keyboardDraggingEnabled||(this.addEventListener("keydown",y),this.keyboardDraggingEnabled=!0)},d.setKeyboardSteps=function(e,t){this.keyboardStepDown=e||t||1,this.keyboardStepUp=t||e||1},d.setBufferedRanges=function(e,t,a){var n=this.backgroundUpper;if(n){null!=t&&(e=function(e,t){return t?e.map((function(e){return{start:e.start/t*100,end:e.end/t*100}})):[]}(e,t),a=a/t*100);var i,r=function(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return l(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}(e);try{for(r.s();!(i=r.n()).done;){var s=i.value;if(!(null!=a&&a>=s.end))return void k(n,s.start,s.end)}}catch(e){r.e(e)}finally{r.f()}k(n,0,0)}},d.setIsClear=function(e){var t=this.backgroundLower;t&&(e?t.classList.add("mdl-slider-background-lower-clear"):t.classList.remove("mdl-slider-background-lower-clear"))},d.detachedCallback=function(){var e=this.interval;e&&clearInterval(e),this.interval=null,this.backgroundUpper=null,this.backgroundLower=null},document.registerElement("emby-slider",{prototype:d,extends:"input"})}}]);