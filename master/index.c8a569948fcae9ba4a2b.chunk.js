"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[13057],{4838:function(e,n,t){n.A={getDisplayPlayMethod:function(e){var n,t,r,a;return e.NowPlayingItem?(null!==(n=e.TranscodingInfo)&&void 0!==n&&n.IsVideoDirect||null===(t=e.TranscodingInfo)||void 0===t||!t.VideoCodec)&&null!==(r=e.TranscodingInfo)&&void 0!==r&&r.IsAudioDirect?"Remux":null!==(a=e.TranscodingInfo)&&void 0!==a&&a.IsVideoDirect?"DirectStream":"Transcode"===e.PlayState.PlayMethod?"Transcode":"DirectStream"===e.PlayState.PlayMethod||"DirectPlay"===e.PlayState.PlayMethod?"DirectPlay":void 0:null}}},6564:function(e,n,t){t.r(n),t.d(n,{Component:function(){return sn}});var r,a=t(62540),o=t(63696),i=t(65242),c=t(5898),u=t(92779),l=t(39156),s=t(28335),d=t(10822),f=t(35117),h=t(44790),y=t(60434),v=t(90158),p=t(89348),m=t(76562);!function(e){e.CDRom="CDRom",e.Fixed="Fixed",e.Network="Network",e.NoRootDirectory="NoRootDirectory",e.Ram="Ram",e.Removable="Removable",e.Unknown="Unknown"}(r||(r={}));var g=function(e){return void 0===(null==e?void 0:e.UsedSpace)||e.UsedSpace<0?-1:Math.max(0,e.FreeSpace||0)+Math.max(0,e.UsedSpace)},b=t(95326),x=t(48066),A=t(22802),j=t(13960),w=t(49107),S=function(e){switch(e.type){case r.CDRom:return(0,a.jsx)(b.A,{});case r.Network:return(0,a.jsx)(x.A,{});case r.Ram:return(0,a.jsx)(A.A,{});case r.Removable:return(0,a.jsx)(w.A,{});default:return(0,a.jsx)(j.A,{})}},I=function(e){if(e)return Object.keys(r).includes(e)?c.Ay.translate("StorageType.".concat(e)):e},k=function(e){var n,t=e.label,r=e.folder,o=void 0===(null==r?void 0:r.UsedSpace)||r.UsedSpace<0?"?":(0,m.iJ)(r.UsedSpace),i=g(r),c=i<0?"?":(0,m.iJ)(i),u=function(e){var n=g(e);if(n<=0)return 0;var t=(null==e?void 0:e.UsedSpace)||0;return Math.min(100,t/n*100)}(r),l=r?(n=u)>=90?"error":n>=80?"warning":"success":"primary";return(0,a.jsxs)(f.Ay,{children:[(0,a.jsx)(h.A,{title:I(null==r?void 0:r.StorageType),children:(0,a.jsx)(S,{type:null==r?void 0:r.StorageType})}),(0,a.jsx)(y.A,{primary:(0,a.jsx)(p.A,{component:"span",variant:"body2",children:t}),secondary:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.A,{color:"textPrimary",sx:{paddingBottom:.5,lineBreak:"anywhere"},children:r?r.Path:(0,a.jsx)(v.A,{})}),(0,a.jsx)(d.A,{variant:r?"determinate":"indeterminate",color:l,value:u}),(0,a.jsx)(p.A,{variant:"body2",color:"textSecondary",sx:{textAlign:"end"},children:"".concat(o," / ").concat(c)})]}),slots:{secondary:"div"}})]})},C=t(63703),T=t(65090),P=t(9055),O=function(e){var n=e.title,t=e.href,r=e.children;return(0,a.jsxs)(u.A,{children:[(0,a.jsx)(C.A,{component:P.N_,to:t,variant:"text",color:"inherit",endIcon:(0,a.jsx)(T.A,{}),sx:{marginTop:1,marginBottom:1},children:(0,a.jsx)(p.A,{variant:"h3",component:"span",children:n})}),r]})},D=t(48272),M=t(8280),B=t(80401),F=t(69410),L=function(e){return(0,M.j)({queryKey:["SystemStorage"],queryFn:function(n){var t=n.signal;return function(e,n){return t=void 0,r=void 0,o=function(){return function(e,n){var t,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=n.call(e,o)}catch(e){c=[6,e],r=0}finally{t=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(t){switch(t.label){case 0:return[4,(0,D.c)(e).getSystemStorage(n)];case 1:return[2,t.sent().data]}}))},new((a=void 0)||(a=Promise))((function(e,n){function i(e){try{u(o.next(e))}catch(e){n(e)}}function c(e){try{u(o.throw(e))}catch(e){n(e)}}function u(n){var t;n.done?e(n.value):(t=n.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,c)}u((o=o.apply(t,r||[])).next())}));var t,r,a,o}(e,{signal:t})},enabled:!!e,refetchOnWindowFocus:!1})},R=function(){var e,n=(e=(0,F.gf)().api,(0,B.I)(L(e))).data;return(0,a.jsx)(O,{title:c.Ay.translate("HeaderPaths"),href:"/dashboard/settings",children:(0,a.jsxs)(s.A,{sx:{bgcolor:"background.paper"},children:[(0,a.jsx)(k,{label:c.Ay.translate("LabelCache"),folder:null==n?void 0:n.CacheFolder}),(0,a.jsx)(k,{label:c.Ay.translate("LabelImageCache"),folder:null==n?void 0:n.ImageCacheFolder}),(0,a.jsx)(k,{label:c.Ay.translate("LabelProgramData"),folder:null==n?void 0:n.ProgramDataFolder}),(0,a.jsx)(k,{label:c.Ay.translate("LabelLogs"),folder:null==n?void 0:n.LogFolder}),(0,a.jsx)(k,{label:c.Ay.translate("LabelMetadata"),folder:null==n?void 0:n.InternalMetadataFolder}),(0,a.jsx)(k,{label:c.Ay.translate("LabelTranscodes"),folder:null==n?void 0:n.TranscodingTempFolder}),(0,a.jsx)(k,{label:c.Ay.translate("LabelWeb"),folder:null==n?void 0:n.WebFolder})]})})},W=t(69856),q=t(70140),N=t(42305),E=function(e){var n=e.onScanLibrariesClick,t=e.onRestartClick,r=e.onShutdownClick,o=(0,N.L)(),i=o.data,u=o.isPending;return(0,a.jsx)(O,{title:c.Ay.translate("TabServer"),href:"/dashboard/settings",children:(0,a.jsxs)(q.A,{spacing:2,children:[(0,a.jsx)(W.A,{sx:{padding:2},children:(0,a.jsxs)(q.A,{direction:"row",children:[(0,a.jsxs)(q.A,{flexGrow:1,gap:1,children:[(0,a.jsx)(p.A,{fontWeight:"bold",children:c.Ay.translate("LabelServerName")}),(0,a.jsx)(p.A,{fontWeight:"bold",children:c.Ay.translate("LabelServerVersion")}),(0,a.jsx)(p.A,{fontWeight:"bold",children:c.Ay.translate("LabelWebVersion")}),(0,a.jsx)(p.A,{fontWeight:"bold",children:c.Ay.translate("LabelBuildVersion")})]}),(0,a.jsx)(q.A,{flexGrow:5,gap:1,children:u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.A,{}),(0,a.jsx)(v.A,{}),(0,a.jsx)(v.A,{}),(0,a.jsx)(v.A,{})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.A,{children:null==i?void 0:i.ServerName}),(0,a.jsx)(p.A,{children:null==i?void 0:i.Version}),(0,a.jsx)(p.A,{children:"10.11.0"}),(0,a.jsx)(p.A,{children:"Release"})]})})]})}),(0,a.jsxs)(q.A,{direction:"row",gap:1.5,flexWrap:"wrap",children:[(0,a.jsx)(C.A,{onClick:n,sx:{fontWeight:"bold"},children:c.Ay.translate("ButtonScanAllLibraries")}),(0,a.jsx)(C.A,{onClick:t,color:"error",sx:{fontWeight:"bold"},children:c.Ay.translate("Restart")}),(0,a.jsx)(C.A,{onClick:r,color:"error",sx:{fontWeight:"bold"},children:c.Ay.translate("ButtonShutdown")})]})]})})},U=t(50501),G=t(69018),V=t(73828),H=t(79772),_=t(20558),Y=t(93721),J=t(45939),K=t(10104),Q=function(e){var n=e.item,t=e.displayShortOverview,r=(0,o.useMemo)((function(){return n.Date?(0,_.A)(Date.parse(n.Date),Date.now(),{locale:(0,Y.JK)()}):"N/A"}),[n]);return(0,a.jsx)(f.Ay,{disablePadding:!0,children:(0,a.jsxs)(H.A,{children:[(0,a.jsx)(V.A,{children:(0,a.jsx)(G.A,{sx:{bgcolor:(0,J.A)(n.Severity||K.$.Information)+".main"},children:(0,a.jsx)(U.A,{sx:{color:"#fff"}})})}),(0,a.jsx)(y.A,{primary:(0,a.jsx)(p.A,{children:n.Name}),secondary:(0,a.jsxs)(q.A,{children:[(0,a.jsx)(p.A,{variant:"body1",color:"text.secondary",children:r}),t&&(0,a.jsx)(p.A,{variant:"body1",color:"text.secondary",children:n.ShortOverview})]}),disableTypography:!0})]})})},X=t(38742),z=t(34630),$=function(){var e,n=(0,o.useMemo)((function(){return(0,z.A)(new Date,86400).toISOString()}),[]),t=(0,X.Y)({startIndex:0,limit:7,minDate:n,hasUserId:!0}),r=t.data,i=t.isPending;return(0,a.jsx)(O,{title:c.Ay.translate("HeaderActivity"),href:"/dashboard/activity?useractivity=true",children:i?(0,a.jsxs)(q.A,{spacing:2,children:[(0,a.jsx)(v.A,{variant:"rounded",height:60}),(0,a.jsx)(v.A,{variant:"rounded",height:60}),(0,a.jsx)(v.A,{variant:"rounded",height:60}),(0,a.jsx)(v.A,{variant:"rounded",height:60})]}):(0,a.jsx)(s.A,{sx:{bgcolor:"background.paper"},children:null===(e=null==r?void 0:r.Items)||void 0===e?void 0:e.map((function(e){return(0,a.jsx)(Q,{item:e,displayShortOverview:!0},e.Id)}))})})},Z=function(){var e,n,t=(0,o.useMemo)((function(){return(0,z.A)(new Date,604800).toISOString()}),[]),r=(0,X.Y)({startIndex:0,limit:4,minDate:t,hasUserId:!1}),i=r.data;return r.isPending||0===(null===(e=null==i?void 0:i.Items)||void 0===e?void 0:e.length)?null:(0,a.jsx)(O,{title:c.Ay.translate("Alerts"),href:"/dashboard/activity?useractivity=false",children:(0,a.jsx)(s.A,{sx:{bgcolor:"background.paper"},children:null===(n=null==i?void 0:i.Items)||void 0===n?void 0:n.map((function(e){return(0,a.jsx)(Q,{item:e,displayShortOverview:!1},e.Id)}))})})},ee=t(96156),ne=t(25295),te=t(38596),re=t(57807),ae=t(54861),oe=t(50909),ie=t(13478),ce=function(e){var n=e.tasks,t=(0,o.useMemo)((function(){return(null==n?void 0:n.filter((function(e){return e.State==oe.D.Running})))||[]}),[n]);return 0==t.length?null:(0,a.jsx)(O,{title:c.Ay.translate("HeaderRunningTasks"),href:"/dashboard/tasks",children:(0,a.jsx)(W.A,{sx:{padding:2},children:(0,a.jsx)(q.A,{spacing:2,maxWidth:"330px",children:t.map((function(e){return(0,a.jsxs)(u.A,{children:[(0,a.jsx)(p.A,{children:e.Name}),(0,a.jsx)(ie.A,{task:e})]},e.Id)}))})})})},ue=t(13786),le=t(47587),se=t(32203),de=t(23648),fe=t(80096),he=t(67430),ye=t(98320),ve=t(64680),pe=t(47629),me=t(36645),ge=t(30032),be=t(2066),xe=t(37631),Ae=t(7729),je=t(37745),we=t(68569),Se=t(75487),Ie=t(8375),ke=t(4838),Ce=t(61432),Te=t(59225),Pe=t(62010),Oe=t(98756),De=t(37793),Me=t(9042),Be=t(57836),Fe=function(e){var n=e.open,t=e.title,r=e.label,i=e.onClose,u=e.confirmButtonText,l=e.onConfirm,s=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,a,o=t.call(e),i=[];try{for(;(void 0===n||n-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i}((0,o.useState)(""),2),d=s[0],f=s[1],h=(0,o.useCallback)((function(e){f(e.target.value)}),[]),y=(0,o.useCallback)((function(){l(d),f("")}),[d,l]);return(0,a.jsxs)(Pe.A,{open:n,onClose:i,maxWidth:"xs",fullWidth:!0,children:[t&&(0,a.jsx)(Me.A,{children:t}),(0,a.jsx)(De.A,{children:(0,a.jsx)(q.A,{children:(0,a.jsx)(Be.A,{label:r,value:d,onChange:h,variant:"standard"})})}),(0,a.jsx)(Oe.A,{children:(0,a.jsx)(C.A,{onClick:y,children:u||c.Ay.translate("ButtonOk")})})]})},Le=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,a,o=t.call(e),i=[];try{for(;(void 0===n||n-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i},Re=function(e){var n,t,r,i,u,l=e.device,s=Le((0,o.useState)(""),2),f=s[0],h=s[1],y=Le((0,o.useState)(""),2),v=y[0],m=y[1],g=Le((0,o.useState)(!1),2),b=g[0],x=g[1],A=Le((0,o.useState)(!1),2),j=A[0],w=A[1],S=(u=(0,F.gf)().api,(0,te.n)({mutationFn:function(e){return(0,Ce.v)(u).sendMessageCommand(e)}})),I=function(){var e=(0,F.gf)().api;return(0,te.n)({mutationFn:function(n){return(0,Ce.v)(e).sendPlaystateCommand(n)}})}(),k=(0,o.useCallback)((function(){l.Id&&I.mutate({sessionId:l.Id,command:Te.t.PlayPause})}),[l,I]),C=(0,o.useCallback)((function(){l.Id&&I.mutate({sessionId:l.Id,command:Te.t.Stop})}),[l,I]),T=(0,o.useCallback)((function(e){l.Id&&(S.mutate({sessionId:l.Id,messageCommand:{Text:e,TimeoutMs:5e3}}),w(!1))}),[S,l]),P=(0,o.useCallback)((function(){w(!0)}),[]),O=(0,o.useCallback)((function(){w(!1)}),[]),D=(0,o.useCallback)((function(){x(!1)}),[]),M=(0,o.useCallback)((function(){var e;switch(ke.A.getDisplayPlayMethod(l)){case"Remux":h(c.Ay.translate("Remuxing")),m(c.Ay.translate("RemuxHelp1")+"\n"+c.Ay.translate("RemuxHelp2"));break;case"DirectStream":h(c.Ay.translate("DirectStreaming")),m(c.Ay.translate("DirectStreamHelp1")+"\n"+c.Ay.translate("DirectStreamHelp2"));break;case"DirectPlay":h(c.Ay.translate("DirectPlaying")),m(c.Ay.translate("DirectPlayHelp"));break;case"Transcode":var n=null===(e=l.TranscodingInfo)||void 0===e?void 0:e.TranscodeReasons,t=(null==n?void 0:n.map((function(e){return c.Ay.translate(e)})))||[];h(c.Ay.translate("Transcoding")),m(c.Ay.translate("MediaIsBeingConverted")+"\n\n"+function(e){var n,t="",r=!1,a=ke.A.getDisplayPlayMethod(e);if("DirectPlay"===a?t+=c.Ay.translate("DirectPlaying"):"Remux"===a?t+=c.Ay.translate("Remuxing"):"DirectStream"===a?t+=c.Ay.translate("DirectStreaming"):"Transcode"===a&&((null===(n=e.TranscodingInfo)||void 0===n?void 0:n.Framerate)&&(t+="".concat(c.Ay.translate("Framerate"),": ").concat(e.TranscodingInfo.Framerate,"fps")),r=!0),r){var o=[];e.TranscodingInfo&&(e.TranscodingInfo.Bitrate&&(e.TranscodingInfo.Bitrate>1e6?o.push((e.TranscodingInfo.Bitrate/1e6).toFixed(1)+" Mbps"):o.push(Math.floor(e.TranscodingInfo.Bitrate/1e3)+" Kbps")),e.TranscodingInfo.Container&&o.push(e.TranscodingInfo.Container.toUpperCase()),e.TranscodingInfo.VideoCodec&&o.push(e.TranscodingInfo.VideoCodec.toUpperCase()),e.TranscodingInfo.AudioCodec&&e.TranscodingInfo.AudioCodec!==e.TranscodingInfo.Container&&o.push(e.TranscodingInfo.AudioCodec.toUpperCase())),o.length&&(t+="\n\n"+o.join(" "))}return t}(l)+"\n\n"+c.Ay.translate("LabelReasonForTranscoding")+"\n"+t.join("\n"))}x(!0)}),[l]),B=(0,o.useMemo)((function(){return function(e){var n,t,r="",a=e.NowPlayingItem;if(!a)return{bottomText:c.Ay.translate("LastSeen",(0,fe.A)(Date.parse(e.LastActivityDate),(0,Y.OE)()))};var o=de.Ay.getDisplayName(a),i="";return(null===(n=a.Artists)||void 0===n?void 0:n.length)?(i=o,o=a.Artists[0]):a.SeriesName||a.Album?(i=o,o=a.SeriesName||a.Album):a.ProductionYear&&(i=a.ProductionYear.toString()),(null===(t=a.ImageTags)||void 0===t?void 0:t.Logo)?r=he.tF.getApiClient(e.ServerId).getScaledImageUrl(a.Id,{tag:a.ImageTags.Logo,maxHeight:24,maxWidth:130,type:"Logo"}):a.ParentLogoImageTag&&(r=he.tF.getApiClient(e.ServerId).getScaledImageUrl(a.ParentLogoItemId,{tag:a.ParentLogoImageTag,maxHeight:24,maxWidth:130,type:"Logo"})),{topText:o,bottomText:i,image:r}}(l)}),[l]),L=(0,o.useMemo)((function(){return l.NowPlayingItem&&function(e){var n,t;if(!e.ServerId)return null;var r=he.tF.getApiClient(e.ServerId);if((null===(n=null==e?void 0:e.BackdropImageTags)||void 0===n?void 0:n.length)&&e.Id)return r.getScaledImageUrl(e.Id,{maxWidth:Math.round(.2*pe.Ay.getScreenWidth()),type:ve.y.Backdrop,tag:e.BackdropImageTags[0]});if((null===(t=null==e?void 0:e.ParentBackdropImageTags)||void 0===t?void 0:t.length)&&e.ParentBackdropItemId)return r.getScaledImageUrl(e.ParentBackdropItemId,{maxWidth:Math.round(.2*pe.Ay.getScreenWidth()),type:ve.y.Backdrop,tag:e.ParentBackdropImageTags[0]});var a=(null==e?void 0:e.ImageTags)||{};return(null==e?void 0:e.Id)&&a.Thumb?r.getScaledImageUrl(e.Id,{maxWidth:Math.round(.2*pe.Ay.getScreenWidth()),type:ve.y.Thumb,tag:a.Thumb}):(null==e?void 0:e.ParentThumbImageTag)&&e.ParentThumbItemId?r.getScaledImageUrl(e.ParentThumbItemId,{maxWidth:Math.round(.2*pe.Ay.getScreenWidth()),type:ve.y.Thumb,tag:e.ParentThumbImageTag}):(null==e?void 0:e.Id)&&a.Primary?r.getScaledImageUrl(e.Id,{maxWidth:Math.round(.2*pe.Ay.getScreenWidth()),type:ve.y.Primary,tag:a.Primary}):(null==e?void 0:e.AlbumPrimaryImageTag)&&e.AlbumId?r.getScaledImageUrl(e.AlbumId,{maxWidth:Math.round(.2*pe.Ay.getScreenWidth()),type:ve.y.Primary,tag:e.AlbumPrimaryImageTag}):null}(l.NowPlayingItem)}),[l]),R=(0,o.useMemo)((function(){return function(e){var n,t=e.NowPlayingItem,r="0:00",a="0:00";return t&&((null===(n=e.PlayState)||void 0===n?void 0:n.PositionTicks)&&(r=ye.Ay.getDisplayRunningTime(e.PlayState.PositionTicks)),t.RunTimeTicks&&(a=ye.Ay.getDisplayRunningTime(t.RunTimeTicks))),{start:r,end:a}}(l)}),[l]),W=(0,o.useMemo)((function(){return(0,se.yq)(l)}),[l]),N=l.ServerId&&l.SupportsRemoteControl,E=!!l.NowPlayingItem;return(0,a.jsxs)(ue.A,{sx:{width:{xs:"100%",sm:"360px"}},children:[(0,a.jsx)(Fe,{open:j,onClose:O,title:c.Ay.translate("HeaderSendMessage"),label:c.Ay.translate("LabelMessageText"),confirmButtonText:c.Ay.translate("ButtonSend"),onConfirm:T}),(0,a.jsx)(Ie.A,{open:b,title:f,text:v,onClose:D}),(0,a.jsx)(le.A,{sx:{height:200,display:"flex"},className:(0,me.Qp)(l.Id),image:L||void 0,children:(0,a.jsxs)(q.A,{justifyContent:"space-between",flexGrow:1,sx:{backgroundColor:L?"rgba(0, 0, 0, 0.7)":null,padding:2},children:[(0,a.jsxs)(q.A,{direction:"row",alignItems:"center",spacing:1,children:[(0,a.jsx)("img",{src:W,style:{maxWidth:"2.5em",maxHeight:"2.5em"},alt:l.DeviceName||""}),(0,a.jsxs)(q.A,{children:[(0,a.jsx)(p.A,{children:l.DeviceName}),(0,a.jsx)(p.A,{children:l.Client+" "+l.ApplicationVersion})]})]}),(0,a.jsxs)(q.A,{direction:"row",alignItems:"end",children:[(0,a.jsxs)(q.A,{flexGrow:1,children:[B.image?(0,a.jsx)("img",{src:B.image,style:{maxHeight:"24px",maxWidth:"130px",alignSelf:"flex-start"},alt:"Media Icon"}):(0,a.jsx)(p.A,{children:B.topText}),(0,a.jsx)(p.A,{children:B.bottomText})]}),l.NowPlayingItem&&(0,a.jsxs)(p.A,{children:[R.start," / ",R.end]})]})]})}),null!=(null===(n=l.PlayState)||void 0===n?void 0:n.PositionTicks)&&null!=(null===(t=l.NowPlayingItem)||void 0===t?void 0:t.RunTimeTicks)&&(0,a.jsx)(d.A,{variant:"buffer",value:l.PlayState.PositionTicks/l.NowPlayingItem.RunTimeTicks*100,valueBuffer:(null===(r=l.TranscodingInfo)||void 0===r?void 0:r.CompletionPercentage)||0,sx:{"& .MuiLinearProgress-dashed":{animation:"none",backgroundImage:"none",backgroundColor:"background.paper"},"& .MuiLinearProgress-bar2":{backgroundColor:"#dd4919"}}}),(0,a.jsx)(we.A,{disableSpacing:!0,children:(0,a.jsxs)(q.A,{direction:"row",flexGrow:1,justifyContent:"center",children:[N&&E&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Se.A,{onClick:k,children:(null===(i=l.PlayState)||void 0===i?void 0:i.IsPaused)?(0,a.jsx)(be.A,{}):(0,a.jsx)(xe.A,{})}),(0,a.jsx)(Se.A,{onClick:C,children:(0,a.jsx)(Ae.A,{})})]}),E&&(0,a.jsx)(Se.A,{onClick:M,children:(0,a.jsx)(je.A,{})}),N&&(0,a.jsx)(Se.A,{onClick:P,children:(0,a.jsx)(ge.A,{})})]})}),l.UserName&&(0,a.jsx)(q.A,{direction:"row",flexGrow:1,justifyContent:"center",sx:{paddingBottom:2},children:(0,a.jsx)(p.A,{children:l.UserName})})]})},We=t(10749),qe=t(10736),Ne=t(44797),Ee="Sessions",Ue=function(e){var n=(0,F.gf)().api;return(0,B.I)({queryKey:[Ee,e],queryFn:function(t){var r=t.signal;return function(e,n,t){return r=void 0,a=void 0,i=function(){return function(e,n){var t,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=n.call(e,o)}catch(e){c=[6,e],r=0}finally{t=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(r){switch(r.label){case 0:return[4,(0,Ce.v)(e).getSessions(n,{signal:null==t?void 0:t.signal})];case 1:return[2,r.sent().data]}}))},new((o=void 0)||(o=Promise))((function(e,n){function t(e){try{u(i.next(e))}catch(e){n(e)}}function c(e){try{u(i.throw(e))}catch(e){n(e)}}function u(n){var r;n.done?e(n.value):(r=n.value,r instanceof o?r:new o((function(e){e(r)}))).then(t,c)}u((i=i.apply(r,a||[])).next())}));var r,a,o,i}(n,e,{signal:r})},enabled:!!n,refetchOnWindowFocus:!1})},Ge=t(31297),Ve=t(34401),He={activeWithinSeconds:960},_e=function(){var e=(0,F.gf)().__legacyApiClient__,n=Ue(He),t=(0,o.useCallback)((function(e){var n,t,r=function(e){void 0===e&&(e=[]);var n=(0,z.A)(new Date,95);return e.filter((function(e){return!!e.LastActivityDate&&!!((0,Ve.A)(e.LastActivityDate)>=n&&(e.NowPlayingItem||e.UserId))}))}(e),a=Ge.q.getQueryData([Ee,He]);if(a){var o=function(e,n,t){if(t||2===arguments.length)for(var r,a=0,o=n.length;a<o;a++)!r&&a in n||(r||(r=Array.prototype.slice.call(n,0,a)),r[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))}([],function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,a,o=t.call(e),i=[];try{for(;(void 0===n||n-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i}(a),!1),i=function(e){var n=o.findIndex((function(n){return n.DeviceId===e.DeviceId}));-1==n?o.push(e):o[n]=e};try{for(var c=function(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),u=c.next();!u.done;u=c.next())i(u.value)}catch(e){n={error:e}}finally{try{u&&!u.done&&(t=c.return)&&t.call(c)}finally{if(n)throw n.error}}return o}return r}),[]);return(0,o.useEffect)((function(){var n=function(e,n,r){Ge.q.setQueryData([Ee,He],t(r))};return null==e||e.sendMessage(We.Y.SessionsStart,"0,1500"),Ne.A.on(qe.default,We.Y.Sessions,n),function(){null==e||e.sendMessage(We.Y.SessionsStop,null),Ne.A.off(qe.default,We.Y.Sessions,n)}}),[]),n},Ye=function(){var e=_e().data;return(0,a.jsx)(O,{title:c.Ay.translate("HeaderDevices"),href:"/dashboard/devices",children:(0,a.jsx)(q.A,{direction:"row",flexWrap:"wrap",gap:2,children:null==e?void 0:e.map((function(e){return(0,a.jsx)(Re,{device:e},e.Id)}))})})},Je=t(22204),Ke=t(94200),Qe=t(3889),Xe=t(46550),ze=t(66563),$e=t(42663),Ze=t(53455),en=t(71857),nn=function(e,n){return(0,M.j)({queryKey:["ItemCounts",n],queryFn:function(t){var r=t.signal;return function(e,n,t){return r=void 0,a=void 0,i=function(){return function(e,n){var t,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=n.call(e,o)}catch(e){c=[6,e],r=0}finally{t=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(r){switch(r.label){case 0:return[4,(0,en.Q)(e).getItemCounts(n,t)];case 1:return[2,r.sent().data]}}))},new((o=void 0)||(o=Promise))((function(e,n){function t(e){try{u(i.next(e))}catch(e){n(e)}}function c(e){try{u(i.throw(e))}catch(e){n(e)}}function u(n){var r;n.done?e(n.value):(r=n.value,r instanceof o?r:new o((function(e){e(r)}))).then(t,c)}u((i=i.apply(r,a||[])).next())}));var r,a,o,i}(e,n,{signal:r})},enabled:!!e,refetchOnWindowFocus:!1})},tn=t(41906),rn=t(58953),an=function(e){var n=e.metrics,t=e.Icon,r=(0,tn.Y)().dateTimeLocale;return(0,a.jsx)(ue.A,{sx:{display:"flex",alignItems:"center",height:"100%"},children:(0,a.jsxs)(q.A,{direction:"row",sx:{width:"100%",padding:2,justifyContent:"space-between",alignItems:"center"},children:[n.map((function(e){var n=e.label,t=e.value;return(0,a.jsxs)(u.A,{children:[(0,a.jsx)(p.A,{variant:"body2",color:"text.secondary",children:n}),(0,a.jsx)(p.A,{variant:"h5",component:"div",children:void 0!==t?(0,rn.WZ)(t,r):(0,a.jsx)(v.A,{})})]},n)})),(0,a.jsx)(t,{fontSize:"large"})]})})},on=function(){return on=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},on.apply(this,arguments)},cn=[{Icon:Qe.A,metrics:[{key:"MovieCount",i18n:"Movies"}]},{Icon:$e.A,metrics:[{key:"SeriesCount",i18n:"Series"},{key:"EpisodeCount",i18n:"Episodes"}]},{Icon:Xe.A,metrics:[{key:"AlbumCount",i18n:"Albums"},{key:"SongCount",i18n:"Songs"}]},{Icon:ze.A,metrics:[{key:"MusicVideoCount",i18n:"MusicVideos"}]},{Icon:Ke.A,metrics:[{key:"BookCount",i18n:"Books"}]},{Icon:Ze.A,metrics:[{key:"BoxSetCount",i18n:"Collections"}]}],un=function(){var e,n=(e=(0,F.gf)().api,(0,B.I)(nn(e,undefined))),t=n.data,r=n.isPending,i=(0,o.useMemo)((function(){return cn.filter((function(e){return r||e.metrics.some((function(e){var n=e.key;return null==t?void 0:t[n]}))})).map((function(e){return{Icon:e.Icon,metrics:e.metrics.map((function(e){var n=e.i18n,r=e.key;return{label:c.Ay.translate(n),value:null==t?void 0:t[r]}}))}}))}),[t,r]);return(0,a.jsx)(l.A,{container:!0,spacing:2,sx:{alignItems:"stretch",marginTop:2},children:i.map((function(e){return(0,a.jsx)(l.A,{size:{xs:12,sm:6,lg:4},children:(0,a.jsx)(an,on({},e))},e.metrics.map((function(e){return e.label})).join("-"))}))})},ln=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,a,o=t.call(e),i=[];try{for(;(void 0===n||n-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i},sn=function(){var e,n=(0,ee.A)(),t=(0,ne.A)(n.breakpoints.only("md")),r=(0,ne.A)(n.breakpoints.only("xl")),s=ln((0,o.useState)(!1),2),d=s[0],f=s[1],h=ln((0,o.useState)(!1),2),y=h[0],v=h[1],p=(0,Je.V)(),m=(e=(0,F.gf)().api,(0,te.n)({mutationFn:function(){return(0,D.c)(e).restartApplication()}})),g=function(){var e=(0,F.gf)().api;return(0,te.n)({mutationFn:function(){return(0,D.c)(e).shutdownApplication()}})}(),b=(0,ae.A)({isHidden:!1}).data,x=(0,o.useCallback)((function(){f(!0)}),[]),A=(0,o.useCallback)((function(){f(!1)}),[]),j=(0,o.useCallback)((function(){v(!0)}),[]),w=(0,o.useCallback)((function(){v(!1)}),[]),S=(0,o.useCallback)((function(){var e=null==b?void 0:b.find((function(e){return"RefreshLibrary"===e.Key}));(null==e?void 0:e.Id)&&p.mutate({taskId:e.Id})}),[p,b]),I=(0,o.useCallback)((function(){m.mutate(),f(!1)}),[m]),k=(0,o.useCallback)((function(){g.mutate(),v(!1)}),[g]);return(0,a.jsxs)(i.A,{id:"dashboardPage",title:c.Ay.translate("TabDashboard"),className:"mainAnimatedPage type-interior",children:[(0,a.jsx)(re.A,{open:d,title:c.Ay.translate("Restart"),text:c.Ay.translate("MessageConfirmRestart"),onConfirm:I,onCancel:A,confirmButtonText:c.Ay.translate("Restart"),confirmButtonColor:"error"}),(0,a.jsx)(re.A,{open:y,title:c.Ay.translate("ButtonShutdown"),text:c.Ay.translate("MessageConfirmShutdown"),onConfirm:k,onCancel:w,confirmButtonText:c.Ay.translate("ButtonShutdown"),confirmButtonColor:"error"}),(0,a.jsx)(u.A,{className:"content-primary",children:(0,a.jsxs)(l.A,{container:!0,spacing:3,children:[(0,a.jsx)(l.A,{size:{xs:12,md:12,lg:8,xl:6},children:(0,a.jsxs)(q.A,{spacing:3,children:[(0,a.jsx)(E,{onScanLibrariesClick:S,onRestartClick:x,onShutdownClick:j}),(0,a.jsx)(un,{}),(0,a.jsx)(ce,{tasks:b}),(0,a.jsx)(Ye,{})]})}),(0,a.jsx)(l.A,{size:{xs:12,md:6,lg:4,xl:3},children:(0,a.jsx)($,{})}),t||r?(0,a.jsx)(l.A,{size:{md:6,xl:3},children:(0,a.jsxs)(q.A,{spacing:3,children:[(0,a.jsx)(Z,{}),(0,a.jsx)(R,{})]})}):(0,a.jsx)(l.A,{size:12,children:(0,a.jsxs)(q.A,{spacing:3,children:[(0,a.jsx)(Z,{}),(0,a.jsx)(R,{})]})})]})})]})};sn.displayName="DashboardPage"},8375:function(e,n,t){var r=t(62540),a=t(63703),o=t(62010),i=t(98756),c=t(37793),u=t(75720),l=t(9042),s=t(5898);t(63696),n.A=function(e){var n=e.open,t=e.title,d=e.text,f=e.onClose;return(0,r.jsxs)(o.A,{open:n,onClose:f,children:[t&&(0,r.jsx)(l.A,{children:t}),(0,r.jsx)(c.A,{children:(0,r.jsx)(u.A,{sx:{whiteSpace:"pre-wrap"},children:d})}),(0,r.jsx)(i.A,{children:(0,r.jsx)(a.A,{onClick:f,children:s.Ay.translate("ButtonGotIt")})})]})}},13478:function(e,n,t){var r=t(62540),a=(t(63696),t(92779)),o=t(10822),i=t(89348);n.A=function(e){var n=e.task.CurrentProgressPercentage;return(0,r.jsx)(a.A,{sx:{display:"flex",alignItems:"center",height:"1.2rem",mr:2},children:null!=n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.A,{sx:{width:"100%",mr:1},children:(0,r.jsx)(o.A,{variant:"determinate",value:n})}),(0,r.jsx)(a.A,{children:(0,r.jsx)(i.A,{variant:"body1",children:"".concat(Math.round(n),"%")})})]}):(0,r.jsx)(a.A,{sx:{width:"100%"},children:(0,r.jsx)(o.A,{})})})}},22204:function(e,n,t){t.d(n,{V:function(){return u}});var r=t(53875),a=t(38596),o=t(69410),i=t(31297),c=t(71607),u=function(){var e=(0,o.gf)().api;return(0,a.n)({mutationFn:function(n){return(0,r.g)(e).startTask(n)},onSuccess:function(){i.q.invalidateQueries({queryKey:[c.t]})}})}},32203:function(e,n,t){t.d(n,{Bq:function(){return u},Jd:function(){return c},yq:function(){return i}});var r=t(65369),a=t(11444),o="assets/img/devices/";function i(e){var n;switch(e.AppName||e.Client){case"Samsung Smart TV":return o+"samsungtv.svg";case"Xbox One":return o+"xbox.svg";case"Sony PS4":return o+"playstation.svg";case"Kodi":case"Kodi JellyCon":return o+"kodi.svg";case"Jellyfin Android":case"AndroidTV":case"Android TV":return o+"android.svg";case"Jellyfin Mobile (iOS)":case"Jellyfin Mobile (iPadOS)":case"Jellyfin iOS":case"Jellyfin iPadOS":case"Jellyfin tvOS":case"Swiftfin iPadOS":case"Swiftfin iOS":case"Swiftfin tvOS":case"Infuse":case"Infuse-Direct":case"Infuse-Library":return o+"apple.svg";case"Home Assistant":return o+"home-assistant.svg";case"Jellyfin for WebOS":case"LG Smart TV":return o+"webos.svg";case"Jellyfin Roku":return o+"roku.svg";case"Finamp":return o+"finamp.svg";case"Jellyfin Web":return function(e){switch(e){case"Opera":case"Opera TV":case"Opera Android":return o+"opera.svg";case"Chrome":case"Chrome Android":return o+"chrome.svg";case"Firefox":case"Firefox Android":return o+"firefox.svg";case"Safari":case"Safari iPad":case"Safari iPhone":return o+"safari.svg";case"Edge Chromium":case"Edge Chromium Android":case"Edge Chromium iPad":case"Edge Chromium iPhone":return o+"edgechromium.svg";case"Edge":return o+"edge.svg";case"Internet Explorer":return o+"msie.svg";default:return o+"html5.svg"}}(e.Name||e.DeviceName);default:if(null===(n=e.Capabilities)||void 0===n?void 0:n.IconUrl)try{return new URL(e.Capabilities.IconUrl).toString()}catch(n){console.error("[getDeviceIcon] device capabilities has invalid IconUrl",e,n)}return o+"other.svg"}}function c(e){switch(e){case r.X.Movies:return"movie";case r.X.Music:return"music_note";case r.X.Homevideos:case r.X.Photos:return"photo";case r.X.Livetv:return"live_tv";case r.X.Tvshows:return"tv";case r.X.Trailers:return"theaters";case r.X.Musicvideos:return"music_video";case r.X.Books:return"book";case r.X.Boxsets:return"video_library";case r.X.Playlists:return"queue";case"channels":return"videocam";case void 0:return"quiz";default:return"folder"}}function u(e,n){switch(e){case a.D.MusicAlbum:return"album";case a.D.MusicArtist:case a.D.Person:return"person";case a.D.Audio:return"audiotrack";case a.D.Movie:return"movie";case a.D.Episode:case a.D.Series:return"tv";case a.D.Program:return"live_tv";case a.D.Book:return"book";case a.D.Folder:return"folder";case a.D.BoxSet:return"video_library";case a.D.Playlist:return"queue";case a.D.Photo:return"photo";case a.D.PhotoAlbum:return"photo_album";default:return n}}n.Ay={getDeviceIcon:i,getLibraryIcon:c,getItemTypeIcon:u}},36645:function(e,n,t){t.d(n,{QW:function(){return x},Qp:function(){return m},Rn:function(){return p},Tj:function(){return h},a_:function(){return y},hn:function(){return s},n5:function(){return d},uA:function(){return v},w:function(){return f},zo:function(){return b}});var r=t(76942),a=t(58953),o=t(4452),i=t.n(o),c=2/3,u=16/9,l=1e3/185,s=function(e){return"Program"===e||"Timer"===e||"Recording"===e},d=function(e){return"play"===e.defaultAction&&e.isFolder?"link":e.isPhoto?"play":e.defaultAction},f=function(e){var n=window.screen;return!!(n&&n.availWidth-e>20)},h=function(e){return null==e?r.G8.MixedSquare:e>=1.33?r.G8.MixedBackdrop:e>.8?r.G8.MixedSquare:r.G8.MixedPortrait},y=function(e){var n;return i()(((n={card:!0})["".concat(e.shape,"Card")]=e.shape,n["".concat(e.cardCssClass)]=e.cardCssClass,n["".concat(e.cardClass)]=e.cardClass,n["card-hoverable"]=e.isDesktop,n["show-focus"]=e.isTV,n["show-animation"]=e.isTV&&e.enableFocusTransform,n.groupedCard=e.showChildCountIndicator&&e.childCount,n["card-withuserdata"]=!["MusicAlbum","MusicArtist","Audio"].includes(e.itemType),n.itemAction="button"===e.tagName,n))},v=function(e){var n;return i()(((n={cardImageContainer:!0,coveredImage:e.hasCoverImage,"coveredImage-contain":e.hasCoverImage&&"TvChannel"===e.itemType})[m(e.itemName)]=!e.imgUrl,n))},p=function(e){return i()({cardBox:!0,visualCardBox:e.cardLayout,"cardBox-bottompadded":e.hasOuterCardFooter&&!e.cardLayout})},m=function(e){return"defaultCardBackground defaultCardBackground".concat(g(e))},g=function(e){if(e){for(var n=Math.floor(e.length/2),t=String(e.slice(n,n+1).charCodeAt(0)),r=0,o=0;o<t.length;o++)r+=parseInt(t.charAt(o),10);return parseInt(String(r).slice(-1),10)%5+1}return(0,a.HO)(1,5)},b=function(e){return e?-1!==(e=e.toLowerCase()).indexOf("portrait")?c:-1!==e.indexOf("backdrop")?u:-1!==e.indexOf("square")?1:-1!==e.indexOf("banner")?l:null:null},x=function(e,n,t,r){switch(e){case"portrait":return A(n,r);case"square":return j(n,r);case"banner":return w(n);case"backdrop":return S(n,r);case"smallBackdrop":return I(n);case"overflowSmallBackdrop":return k(n,t,r);case"overflowPortrait":return C(n,t,r);case"overflowSquare":return T(n,t,r);case"overflowBackdrop":return P(n,t,r);default:return 4}},A=function(e,n){switch(!0){case n:return 5.9999999988;case e>=2200:return 10;case e>=1920:return 9.000000000009;case e>=1600:return 8;case e>=1400:return 7.0000000000021;case e>=1200:return 5.9999999988;case e>=800:return 5;case e>=700:return 4;default:return 3.0000000003}},j=function(e,n){switch(!0){case n:return 5.9999999988;case e>=2200:return 10;case e>=1920:return 9.000000000009;case e>=1600:return 8;case e>=1400:return 7.0000000000021;case e>=1200:return 5.9999999988;case e>=800:return 5;case e>=700:return 4;case e>=500:return 3.0000000003;default:return 2}},w=function(e){switch(!0){case e>=2200:return 4;case e>=1200:return 3.0000000003;case e>=800:return 2;default:return 1}},S=function(e,n){switch(!0){case n:return 4;case e>=2500:return 6;case e>=1600:return 5;case e>=1200:return 4;case e>=770:return 3;case e>=420:return 2;default:return 1}},I=function(e){switch(!0){case e>=1600:return 8;case e>=1400:return 7.000000000007001;case e>=1200:return 5.9999999988;case e>=1e3:return 5;case e>=800:return 4;case e>=500:return 3.0000000003;default:return 2}},k=function(e,n,t){switch(!0){case t:return 100/18.9;case n&&e>=800:return 100/15.5;case n:return 100/23.3;case e>=540:return 100/30;default:return 100/72}},C=function(e,n,t){switch(!0){case t:return 100/15.5;case n&&e>=1700:return 100/11.6;case n:return 100/15.5;case e>=1400:return 100/15;case e>=1200:return 100/18;case e>=760:return 100/23;case e>=400:return 100/31.5;default:return 100/42}},T=function(e,n,t){switch(!0){case t:return 100/15.5;case n&&e>=1700:return 100/11.6;case n:return 100/15.5;case e>=1400:return 100/15;case e>=1200:return 100/18;case e>=760:return 100/23;case e>=540:return 100/31.5;default:return 100/42}},P=function(e,n,t){switch(!0){case t:return 100/23.3;case n&&e>=1700:return 100/18.5;case n:return 100/23.3;case e>=1800:return 100/23.5;case e>=1400:return 100/30;case e>=760:return 2.5;case e>=640:return 100/56;default:return 100/72}}},38596:function(e,n,t){t.d(n,{n:function(){return h}}),t(29305),t(32733),t(84701),t(81678),t(14382),t(69892),t(44962),t(89336),t(4754),t(94),t(33087),t(36947),t(36457),t(88908),t(83810),t(78557),t(95021),t(73687),t(83994),t(23630),t(82367);var r=t(63696),a=t(427),o=t(52672),i=t(26073),c=t(9790);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){d(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n,t){return(n=function(e){var n=function(e){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=u(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function h(e,n){var t,u,l=(0,c.jE)(n),d=(t=r.useState((function(){return new a._(l,e)})),u=1,function(e){if(Array.isArray(e))return e}(t)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o,i,c=[],u=!0,l=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(c.push(r.value),c.length!==n);u=!0);}catch(e){l=!0,a=e}finally{try{if(!u&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(l)throw a}}return c}}(t,u)||function(e,n){if(e){if("string"==typeof e)return f(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,n):void 0}}(t,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];r.useEffect((function(){d.setOptions(e)}),[d,e]);var h=r.useSyncExternalStore(r.useCallback((function(e){return d.subscribe(o.jG.batchCalls(e))}),[d]),(function(){return d.getCurrentResult()}),(function(){return d.getCurrentResult()})),y=r.useCallback((function(e,n){d.mutate(e,n).catch(i.lQ)}),[d]);if(h.error&&(0,i.GU)(d.options.throwOnError,[h.error]))throw h.error;return s(s({},h),{},{mutate:y,mutateAsync:h.mutate})}},38742:function(e,n,t){t.d(n,{Y:function(){return i}});var r=t(24698),a=t(80401),o=t(69410),i=function(e){var n=(0,o.gf)().api;return(0,a.I)({queryKey:["ActivityLogEntries",e],queryFn:function(t){var a=t.signal;return function(e,n,t){return a=void 0,o=void 0,c=function(){return function(e,n){var t,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=n.call(e,o)}catch(e){c=[6,e],r=0}finally{t=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(a){switch(a.label){case 0:return[4,(0,r.A)(e).getLogEntries(n,{signal:null==t?void 0:t.signal})];case 1:return[2,a.sent().data]}}))},new((i=void 0)||(i=Promise))((function(e,n){function t(e){try{u(c.next(e))}catch(e){n(e)}}function r(e){try{u(c.throw(e))}catch(e){n(e)}}function u(n){var a;n.done?e(n.value):(a=n.value,a instanceof i?a:new i((function(e){e(a)}))).then(t,r)}u((c=c.apply(a,o||[])).next())}));var a,o,i,c}(n,e,{signal:a})},enabled:!!n,refetchOnMount:!1})}},40694:function(e,n,t){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.d(n,{A:function(){return r}})},41906:function(e,n,t){t.d(n,{Y:function(){return d}});var r=t(62864),a=t(63696),o=t(5898),i=t(93721),c=t(28626),u=function(e,n,t,r){return new(t||(t=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function c(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,c)}u((r=r.apply(e,n||[])).next())}))},l=function(e,n){var t,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=n.call(e,o)}catch(e){c=[6,e],r=0}finally{t=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},s=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,a,o=t.call(e),i=[];try{for(;(void 0===n||n-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i};function d(){var e=this,n=(0,c.Q)(),t=n.dateTimeLocale,d=n.language,f=s((0,a.useState)(r.A),2),h=f[0],y=f[1],v=(0,a.useMemo)((function(){return(0,o.Tl)(d||(0,o.i5)())}),[d]),p=(0,a.useMemo)((function(){return t?(0,o.Tl)(t):v}),[t,v]);return(0,a.useEffect)((function(){u(e,void 0,void 0,(function(){var e,n;return l(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,i.Fq)((0,i.QC)(p))];case 1:return e=t.sent(),y(e),[3,3];case 2:return n=t.sent(),console.warn("[useLocale] failed to fetch dateFns locale",n),[3,3];case 3:return[2]}}))}))}),[p]),{locale:v,dateTimeLocale:p,dateFnsLocale:h}}},42305:function(e,n,t){t.d(n,{L:function(){return u}});var r=t(8280),a=t(80401),o=t(48272),i=t(69410),c=function(e){return(0,r.j)({queryKey:["SystemInfo"],queryFn:function(n){var t=n.signal;return function(e,n){return t=void 0,r=void 0,i=function(){return function(e,n){var t,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=n.call(e,o)}catch(e){c=[6,e],r=0}finally{t=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(t){switch(t.label){case 0:return[4,(0,o.c)(e).getSystemInfo(n)];case 1:return[2,t.sent().data]}}))},new((a=void 0)||(a=Promise))((function(e,n){function o(e){try{u(i.next(e))}catch(e){n(e)}}function c(e){try{u(i.throw(e))}catch(e){n(e)}}function u(n){var t;n.done?e(n.value):(t=n.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,c)}u((i=i.apply(t,r||[])).next())}));var t,r,a,i}(e,{signal:t,headers:{"Cache-Control":"no-cache"}})},staleTime:1e3,enabled:!!e})},u=function(){var e=(0,i.gf)().api;return(0,a.I)(c(e))}},45939:function(e,n,t){var r=t(10104);n.A=function(e){switch(e){case r.$.Information:return"info";case r.$.Warning:return"warning";case r.$.Error:case r.$.Critical:return"error"}}},54861:function(e,n,t){var r=t(63696),a=t(69410),o=t(71607),i=t(31297),c=t(44797),u=t(10736),l=t(10749);n.A=function(e){var n=(0,a.gf)().__legacyApiClient__,t=(0,o.s)(e);return(0,r.useEffect)((function(){var e=function(e,n,t){i.q.setQueryData([o.t],t)},t=setInterval((function(){(null==n?void 0:n.isMessageChannelOpen())||i.q.invalidateQueries({queryKey:[o.t]})}),1e4);return null==n||n.sendMessage(l.Y.ScheduledTasksInfoStart,"1000,1000"),c.A.on(u.default,l.Y.ScheduledTasksInfo,e),function(){clearInterval(t),null==n||n.sendMessage(l.Y.ScheduledTasksInfoStop,null),c.A.off(u.default,l.Y.ScheduledTasksInfo,e)}}),[n]),t}},57807:function(e,n,t){var r=t(62540),a=t(63703),o=t(62010),i=t(98756),c=t(37793),u=t(75720),l=t(9042),s=(t(63696),t(5898)),d=function(){return d=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},d.apply(this,arguments)};n.A=function(e){var n=e.confirmButtonColor,t=void 0===n?"primary":n,f=e.confirmButtonText,h=e.title,y=e.text,v=e.onCancel,p=e.onConfirm,m=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t}(e,["confirmButtonColor","confirmButtonText","title","text","onCancel","onConfirm"]);return(0,r.jsxs)(o.A,d({onClose:v},m,{children:[(0,r.jsx)(l.A,{children:h}),(0,r.jsx)(c.A,{children:(0,r.jsx)(u.A,{children:y})}),(0,r.jsxs)(i.A,{children:[(0,r.jsx)(a.A,{variant:"text",onClick:v,children:s.Ay.translate("ButtonCancel")}),(0,r.jsx)(a.A,{color:t,onClick:p,children:f||s.Ay.translate("ButtonOk")})]})]}))}},71607:function(e,n,t){t.d(n,{s:function(){return c},t:function(){return i}});var r=t(53875),a=t(80401),o=t(69410),i="Tasks",c=function(e){var n=(0,o.gf)().api;return(0,a.I)({queryKey:[i],queryFn:function(t){var a=t.signal;return function(e,n,t){return a=void 0,o=void 0,c=function(){return function(e,n){var t,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=n.call(e,o)}catch(e){c=[6,e],r=0}finally{t=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(a){switch(a.label){case 0:return[4,(0,r.g)(e).getTasks(n,t)];case 1:return[2,a.sent().data]}}))},new((i=void 0)||(i=Promise))((function(e,n){function t(e){try{u(c.next(e))}catch(e){n(e)}}function r(e){try{u(c.throw(e))}catch(e){n(e)}}function u(n){var a;n.done?e(n.value):(a=n.value,a instanceof i?a:new i((function(e){e(a)}))).then(t,r)}u((c=c.apply(a,o||[])).next())}));var a,o,i,c}(n,e,{signal:a})},enabled:!!n})}},76562:function(e,n,t){function r(e){return new Promise((function(n,t){var r=new FileReader;r.onload=function(e){var t,r,a,o=null===(a=null===(r=null===(t=e.target)||void 0===t?void 0:t.result)||void 0===r?void 0:r.split)||void 0===a?void 0:a.call(r,",")[1];n(o)},r.onerror=t,r.readAsDataURL(e)}))}function a(e){return new Promise((function(n,t){var r=new FileReader;r.onload=function(e){var t,r=null===(t=e.target)||void 0===t?void 0:t.result;n(r)},r.onerror=t,r.readAsText(e)}))}function o(e,n){void 0===n&&(n=1);var t=Math.log(e)/Math.log(1024)|0;return(e/Math.pow(1024,t)).toFixed(n)+" "+(t?"KMGTPEZY"[--t]+"iB":"Bytes")}t.d(n,{Qv:function(){return a},We:function(){return r},iJ:function(){return o}})},76942:function(e,n,t){var r;function a(e){return void 0===e&&(e=!0),e?r.SquareOverflow:r.Square}function o(e){return void 0===e&&(e=!0),e?r.BackdropOverflow:r.Backdrop}function i(e){return void 0===e&&(e=!0),e?r.PortraitOverflow:r.Portrait}t.d(n,{G8:function(){return r},UI:function(){return o},xK:function(){return i},zP:function(){return a}}),function(e){e.Backdrop="backdrop",e.BackdropOverflow="overflowBackdrop",e.Banner="banner",e.Portrait="portrait",e.PortraitOverflow="overflowPortrait",e.Square="square",e.SquareOverflow="overflowSquare",e.Auto="auto",e.AutoHome="autohome",e.AutoOverflow="autooverflow",e.AutoVertical="autoVertical",e.Mixed="mixed",e.MixedSquare="mixedSquare",e.MixedBackdrop="mixedBackdrop",e.MixedPortrait="mixedPortrait"}(r||(r={}))}}]);