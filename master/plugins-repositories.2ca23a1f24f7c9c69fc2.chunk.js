"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[46390],{38596:function(e,t,r){r.d(t,{n:function(){return p}}),r(29305),r(32733),r(84701),r(81678),r(14382),r(69892),r(44962),r(89336),r(4754),r(94),r(33087),r(36947),r(36457),r(88908),r(83810),r(78557),r(95021),r(73687),r(83994),r(23630),r(82367);var n=r(63696),o=r(427),i=r(52672),a=r(26073),l=r(9790);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=function(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r,c,s=(0,l.jE)(t),f=(r=n.useState((function(){return new o._(s,e)})),c=1,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(r,c)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}(r,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];n.useEffect((function(){f.setOptions(e)}),[f,e]);var p=n.useSyncExternalStore(n.useCallback((function(e){return f.subscribe(i.jG.batchCalls(e))}),[f]),(function(){return f.getCurrentResult()}),(function(){return f.getCurrentResult()})),d=n.useCallback((function(e,t){f.mutate(e,t).catch(a.lQ)}),[f]);if(p.error&&(0,a.GU)(f.options.throwOnError,[p.error]))throw p.error;return u(u({},p),{},{mutate:d,mutateAsync:p.mutate})}},57807:function(e,t,r){var n=r(62540),o=r(63703),i=r(62010),a=r(98756),l=r(37793),c=r(75720),s=r(9042),u=(r(63696),r(5898)),f=function(){return f=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},f.apply(this,arguments)};t.A=function(e){var t=e.confirmButtonColor,r=void 0===t?"primary":t,y=e.confirmButtonText,p=e.title,d=e.text,b=e.onCancel,h=e.onConfirm,m=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["confirmButtonColor","confirmButtonText","title","text","onCancel","onConfirm"]);return(0,n.jsxs)(i.A,f({onClose:b},m,{children:[(0,n.jsx)(s.A,{children:p}),(0,n.jsx)(l.A,{children:(0,n.jsx)(c.A,{children:d})}),(0,n.jsxs)(a.A,{children:[(0,n.jsx)(o.A,{variant:"text",onClick:b,children:u.Ay.translate("ButtonCancel")}),(0,n.jsx)(o.A,{color:r,onClick:h,children:y||u.Ay.translate("ButtonOk")})]})]}))}},60159:function(e,t,r){r.r(t),r.d(t,{Component:function(){return W}});var n=r(62540),o=r(92779),i=r(63703),a=r(89348),l=r(30374),c=r(65242),s=r(5898),u=r(63696),f=r(70140),y=r(8280),p=r(80401),d=r(69410),b=r(83565),h=r(2097),m=function(e){return(0,y.j)({queryKey:[b.k.Repositories],queryFn:function(t){var r=t.signal;return function(e,t){return r=void 0,n=void 0,i=function(){return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&l[0]?n.return:l[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,l[1])).done)return o;switch(n=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,n=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],n=0}finally{r=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}(this,(function(r){switch(r.label){case 0:return[4,(0,h.N)(e).getRepositories(t)];case 1:return[2,r.sent().data]}}))},new((o=void 0)||(o=Promise))((function(e,t){function a(e){try{c(i.next(e))}catch(e){t(e)}}function l(e){try{c(i.throw(e))}catch(e){t(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof o?r:new o((function(e){e(r)}))).then(a,l)}c((i=i.apply(r,n||[])).next())}));var r,n,o,i}(e,{signal:r})},enabled:!!e})},v=r(84849),A=r(47891),x=r(28335),j=r(35117),g=r(72073),C=r(31858),O=r(75487),w=r(60434),S=r(73828),k=r(6206),P=r(69018),R=r(79772),E=r(68700),N=r(57807),I=function(e){var t=e.repository,r=e.onDelete,o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}((0,u.useState)(!1),2),i=o[0],a=o[1],l=(0,u.useCallback)((function(){a(!0)}),[]),c=(0,u.useCallback)((function(){a(!1)}),[]),f=(0,u.useCallback)((function(){r(t),a(!1)}),[r,t]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(N.A,{open:i,title:s.Ay.translate("ConfirmDeleteRepository"),text:s.Ay.translate("DeleteRepositoryConfirmation"),onConfirm:f,onCancel:c,confirmButtonColor:"error",confirmButtonText:s.Ay.translate("Delete")}),(0,n.jsx)(j.Ay,{disablePadding:!0,secondaryAction:(0,n.jsx)(g.A,{disableInteractive:!0,title:s.Ay.translate("ButtonRemove"),children:(0,n.jsx)(O.A,{onClick:l,children:(0,n.jsx)(C.A,{})})}),children:(0,n.jsxs)(R.A,{children:[(0,n.jsx)(E.A,{href:t.Url||"#",target:"_blank",rel:"noopener noreferrer",children:(0,n.jsx)(S.A,{children:(0,n.jsx)(P.A,{sx:{bgcolor:"primary.main"},children:(0,n.jsx)(k.A,{sx:{color:"#fff"}})})})}),(0,n.jsx)(w.A,{primary:t.Name,secondary:t.Url,slotProps:{primary:{variant:"h3"},secondary:{variant:"body1"}}})]})})]})},U=r(38596),D=r(31297),T=r(62010),B=r(9042),q=r(98756),L=r(37793),F=r(57836),H=function(e){var t=e.open,r=e.onClose,o=e.onAdd,a=(0,u.useCallback)((function(e){var t,r;e.preventDefault();var n=new FormData(e.currentTarget),i=Object.fromEntries(n.entries()),a={Name:null===(t=i.Name)||void 0===t?void 0:t.toString(),Url:null===(r=i.Url)||void 0===r?void 0:r.toString(),Enabled:!0};o(a)}),[o]);return(0,n.jsxs)(T.A,{open:t,maxWidth:"xs",fullWidth:!0,onClose:r,slotProps:{paper:{component:"form",onSubmit:a}},children:[(0,n.jsx)(B.A,{children:s.Ay.translate("HeaderNewRepository")}),(0,n.jsx)(L.A,{children:(0,n.jsxs)(f.A,{spacing:3,children:[(0,n.jsx)(F.A,{name:"Name",label:s.Ay.translate("LabelRepositoryName"),helperText:s.Ay.translate("LabelRepositoryNameHelp"),slotProps:{htmlInput:{required:!0}}}),(0,n.jsx)(F.A,{name:"Url",label:s.Ay.translate("LabelRepositoryUrl"),helperText:s.Ay.translate("LabelRepositoryUrlHelp"),type:"url"})]})}),(0,n.jsxs)(q.A,{children:[(0,n.jsx)(i.A,{onClick:r,variant:"text",children:s.Ay.translate("ButtonCancel")}),(0,n.jsx)(i.A,{type:"submit",children:s.Ay.translate("Add")})]})]})},G=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},M=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},W=function(){var e,t=(e=(0,d.gf)().api,(0,p.I)(m(e))),r=t.data,y=t.isPending,j=t.isError,g=G((0,u.useState)(!1),2),C=g[0],O=g[1],w=function(){var e=(0,d.gf)().api;return(0,U.n)({mutationFn:function(t){return(0,h.N)(e).setRepositories(t)},onSuccess:function(){D.q.invalidateQueries({queryKey:[b.k.Repositories]})}})}(),S=(0,u.useCallback)((function(e){r&&w.mutate({repositoryInfo:r.filter((function(t){return t.Url!==e.Url}))})}),[r,w]),k=(0,u.useCallback)((function(e){r&&w.mutate({repositoryInfo:M(M([],G(r),!1),[e],!1)},{onSettled:function(){O(!1)}})}),[r,w]),P=(0,u.useCallback)((function(){O(!0)}),[]),R=(0,u.useCallback)((function(){O(!1)}),[]);return y?(0,n.jsx)(v.A,{}):(0,n.jsxs)(c.A,{id:"repositories",title:s.Ay.translate("TabRepositories"),className:"type-interior mainAnimatedPage",children:[(0,n.jsx)(H,{open:C,onClose:R,onAdd:k}),(0,n.jsx)(o.A,{className:"content-primary",children:j?(0,n.jsx)(A.A,{severity:"error",children:s.Ay.translate("RepositoriesPageLoadError")}):(0,n.jsxs)(f.A,{spacing:3,children:[(0,n.jsx)(a.A,{variant:"h1",children:s.Ay.translate("TabRepositories")}),(0,n.jsx)(i.A,{sx:{alignSelf:"flex-start"},startIcon:(0,n.jsx)(l.A,{}),onClick:P,children:s.Ay.translate("HeaderNewRepository")}),r.length>0?(0,n.jsx)(x.A,{sx:{bgcolor:"background.paper"},children:r.map((function(e){return(0,n.jsx)(I,{repository:e,onDelete:S},e.Url)}))}):(0,n.jsxs)(f.A,{alignSelf:"center",alignItems:"center",maxWidth:"500px",spacing:2,children:[(0,n.jsx)(a.A,{variant:"h2",children:s.Ay.translate("MessageNoRepositories")}),(0,n.jsx)(a.A,{textAlign:"center",children:s.Ay.translate("MessageAddRepository")})]})]})})]})};W.displayName="PluginRepositoriesPage"},83565:function(e,t,r){var n;r.d(t,{k:function(){return n}}),function(e){e.ConfigurationPages="ConfigurationPages",e.Packages="Packages",e.Plugins="Plugins",e.Repositories="Repositories"}(n||(n={}))}}]);