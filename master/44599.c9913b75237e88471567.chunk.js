"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[44599],{44599:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}}),a(86584),a(24776),a(76281),a(99425),a(95021),a(93062),a(78557),a(90076),a(89336),a(73687),a(69892),a(83994),a(29305),a(32733),a(84701),a(44962),a(82367),a(81678),a(4754),a(94),a(36947);var i=a(47629),n=a(79754),r=a(9482),c=a(62014),s=(a(77157),a(81077),a(86191));function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function o(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,d(i.key),i)}}function d(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,"string");if("object"!=l(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:String(t)}function u(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return h(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,s=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return c=e.done,e},e:function(e){s=!0,r=e},f:function(){try{c||null==a.return||a.return()}finally{if(s)throw r}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function p(e,t,a,i,n){var r=e.querySelector(t);i.length?r.classList.remove("hide"):r.classList.add("hide");var c="";c+='<div class="checkboxList">',c+=i.map((function(e){var t="",i=n(e)?"checked":"";return t+="<label>",t+='<input is="emby-checkbox" type="checkbox" '.concat(i,' data-filter="').concat(e,'" class="').concat(a,'"/>'),(t+="<span>".concat(e,"</span>"))+"</label>"})).join(""),c+="</div>",r.querySelector(".filterOptions").innerHTML=c}function y(e){c.A.trigger(e,"filterchange")}function v(e){return"movies"===e||"series"===e||"albums"===e||"albumartists"===e||"artists"===e||"songs"===e||"episodes"===e}var b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t}var t,a;return t=e,(a=[{key:"onFavoriteChange",value:function(e){var t=this.options.query;t.StartIndex=0,t.IsFavorite=!!e.checked||null,y(this)}},{key:"onStandardFilterChange",value:function(e){var t=this.options.query,a=e.getAttribute("data-filter"),i=t.Filters||"";i=",".concat(i).replace(",".concat(a),"").substring(1),e.checked&&(i=i?"".concat(i,",").concat(a):a),t.StartIndex=0,t.Filters=i,y(this)}},{key:"onVideoTypeFilterChange",value:function(e){var t=this.options.query,a=e.getAttribute("data-filter"),i=t.VideoTypes||"";i=",".concat(i).replace(",".concat(a),"").substring(1),e.checked&&(i=i?"".concat(i,",").concat(a):a),t.StartIndex=0,t.VideoTypes=i,y(this)}},{key:"onStatusChange",value:function(e){var t=this.options.query,a=e.getAttribute("data-filter"),i=t.SeriesStatus||"";i=",".concat(i).replace(",".concat(a),"").substring(1),e.checked&&(i=i?"".concat(i,",").concat(a):a),t.SeriesStatus=i,t.StartIndex=0,y(this)}},{key:"bindEvents",value:function(e){var t=this,a=this.options.query;if("livetvchannels"===this.options.mode){var n,r=u(e.querySelectorAll(".chkFavorite"));try{var c=function(){var e=n.value;e.addEventListener("change",(function(){return t.onFavoriteChange(e)}))};for(r.s();!(n=r.n()).done;)c()}catch(e){r.e(e)}finally{r.f()}}else{var s,l=u(e.querySelectorAll(".chkStandardFilter"));try{var o=function(){var e=s.value;e.addEventListener("change",(function(){return t.onStandardFilterChange(e)}))};for(l.s();!(s=l.n()).done;)o()}catch(e){l.e(e)}finally{l.f()}}var d,h=u(e.querySelectorAll(".chkVideoTypeFilter"));try{var p=function(){var e=d.value;e.addEventListener("change",(function(){return t.onVideoTypeFilterChange(e)}))};for(h.s();!(d=h.n()).done;)p()}catch(e){h.e(e)}finally{h.f()}var v=e.querySelector(".chk3DFilter");v.addEventListener("change",(function(){a.StartIndex=0,a.Is3D=!!v.checked||null,y(t)}));var b=e.querySelector(".chk4KFilter");b.addEventListener("change",(function(){a.StartIndex=0,a.Is4K=!!b.checked||null,y(t)}));var f=e.querySelector(".chkHDFilter"),k=e.querySelector(".chkSDFilter");f.addEventListener("change",(function(){a.StartIndex=0,f.checked?(k.checked=!1,a.IsHD=!0):a.IsHD=null,y(t)})),k.addEventListener("change",(function(){a.StartIndex=0,k.checked?(f.checked=!1,a.IsHD=!1):a.IsHD=null,y(t)}));var m,S=u(e.querySelectorAll(".chkStatus"));try{var g=function(){var e=m.value;e.addEventListener("change",(function(){return t.onStatusChange(e)}))};for(S.s();!(m=S.n()).done;)g()}catch(e){S.e(e)}finally{S.f()}var x=e.querySelector("#chkTrailer");x.addEventListener("change",(function(){a.StartIndex=0,a.HasTrailer=!!x.checked||null,y(t)}));var F=e.querySelector("#chkThemeSong");F.addEventListener("change",(function(){a.StartIndex=0,a.HasThemeSong=!!F.checked||null,y(t)}));var I=e.querySelector("#chkSpecialFeature");I.addEventListener("change",(function(){a.StartIndex=0,a.HasSpecialFeature=!!I.checked||null,y(t)}));var L=e.querySelector("#chkThemeVideo");L.addEventListener("change",(function(){a.StartIndex=0,a.HasThemeVideo=!!L.checked||null,y(t)}));var q=e.querySelector("#chkMissingEpisode");q.addEventListener("change",(function(){a.StartIndex=0,a.IsMissing=!!q.checked,y(t)}));var T=e.querySelector("#chkSpecialEpisode");T.addEventListener("change",(function(){a.StartIndex=0,a.ParentIndexNumber=T.checked?0:null,y(t)}));var E=e.querySelector("#chkFutureEpisode");E.addEventListener("change",(function(){a.StartIndex=0,E.checked?(a.IsUnaired=!0,a.IsVirtualUnaired=null):(a.IsUnaired=null,a.IsVirtualUnaired=!1),y(t)}));var A=e.querySelector("#chkSubtitle");A.addEventListener("change",(function(){a.StartIndex=0,a.HasSubtitles=!!A.checked||null,y(t)})),e.addEventListener("change",(function(e){var n=i.Ay.parentWithClass(e.target,"chkGenreFilter");if(n){var r=n.getAttribute("data-filter"),c=a.Genres||"";return c=("|"+c).replace("|"+r,"").substring(1),n.checked&&(c=c?c+"|"+r:r),a.StartIndex=0,a.Genres=c,void y(t)}var s=i.Ay.parentWithClass(e.target,"chkTagFilter");if(s){var l=s.getAttribute("data-filter"),o=a.Tags||"";return o=("|"+o).replace("|"+l,"").substring(1),s.checked&&(o=o?o+"|"+l:l),a.StartIndex=0,a.Tags=o,void y(t)}var d=i.Ay.parentWithClass(e.target,"chkYearFilter");if(d){var u=d.getAttribute("data-filter"),h=a.Years||"";return h=(","+h).replace(","+u,"").substring(1),d.checked&&(h=h?h+","+u:u),a.StartIndex=0,a.Years=h,void y(t)}var p=i.Ay.parentWithClass(e.target,"chkOfficialRatingFilter");if(p){var v=p.getAttribute("data-filter"),b=a.OfficialRatings||"";b=("|"+b).replace("|"+v,"").substring(1),p.checked&&(b=b?b+"|"+v:v),a.StartIndex=0,a.OfficialRatings=b,y(t)}}))}},{key:"show",value:function(){var e=this;return new Promise((function(t){var a,i,c=n.default.createDialog({removeOnClose:!0,modal:!1});if(c.classList.add("ui-body-a"),c.classList.add("background-theme-a"),c.classList.add("formDialog"),c.classList.add("filterDialog"),c.innerHTML=r.Ay.translateHtml('<div style="margin:0;padding:1.5em 2em" class="filterDialogContent"> <div is="emby-collapse" title="${Filters}"> <div class="collapseContent"> <div class="checkboxList"> <label class="videoStandard"> <input type="checkbox" is="emby-checkbox" class="chkStandardFilter" data-filter="IsPlayed"/> <span>${Played}</span> </label> <label class="videoStandard"> <input type="checkbox" is="emby-checkbox" class="chkStandardFilter" data-filter="IsUnPlayed"/> <span>${Unplayed}</span> </label> <label class="videoStandard"> <input type="checkbox" is="emby-checkbox" class="chkStandardFilter" data-filter="IsResumable"/> <span>${OptionResumable}</span> </label> <label> <input type="checkbox" is="emby-checkbox" class="chkStandardFilter chkFavorite" data-filter="IsFavorite"/> <span>${Favorites}</span> </label> <label class="episodeFilter hide"> <input type="checkbox" is="emby-checkbox" id="chkSpecialEpisode"/> <span>${OptionSpecialEpisode}</span> </label> <label class="episodeFilter hide"> <input type="checkbox" is="emby-checkbox" id="chkMissingEpisode"/> <span>${OptionMissingEpisode}</span> </label> <label class="episodeFilter hide"> <input type="checkbox" is="emby-checkbox" id="chkFutureEpisode"/> <span>${OptionUnairedEpisode}</span> </label> </div> </div> </div> <div is="emby-collapse" title="${HeaderStatus}" class="seriesStatus hide"> <div class="collapseContent"> <div class="checkboxList"> <label> <input type="checkbox" is="emby-checkbox" class="chkStatus" data-filter="Continuing"/> <span>${Continuing}</span> </label> <label> <input type="checkbox" is="emby-checkbox" class="chkStatus" data-filter="Ended"/> <span>${Ended}</span> </label> <label> <input type="checkbox" is="emby-checkbox" class="chkStatus" data-filter="Unreleased"/> <span>${Unreleased}</span> </label> </div> </div> </div> <div is="emby-collapse" title="${Features}" class="features hide"> <div class="collapseContent"> <div class="checkboxList"> <label> <input type="checkbox" is="emby-checkbox" class="chkFeatureFilter" id="chkSubtitle"/> <span>${Subtitles}</span> </label> <label> <input type="checkbox" is="emby-checkbox" class="chkFeatureFilter" id="chkTrailer"/> <span>${ButtonTrailer}</span> </label> <label> <input type="checkbox" is="emby-checkbox" class="chkFeatureFilter" id="chkSpecialFeature"/> <span>${SpecialFeatures}</span> </label> <label> <input type="checkbox" is="emby-checkbox" class="chkFeatureFilter" id="chkThemeSong"/> <span>${OptionHasThemeSong}</span> </label> <label> <input type="checkbox" is="emby-checkbox" class="chkFeatureFilter" id="chkThemeVideo"/> <span>${OptionHasThemeVideo}</span> </label> </div> </div> </div> <div is="emby-collapse" title="${Genres}" class="genreFilters hide"> <div class="collapseContent filterOptions"> </div> </div> <div is="emby-collapse" title="${HeaderParentalRatings}" class="officialRatingFilters hide"> <div class="collapseContent filterOptions"> </div> </div> <div is="emby-collapse" title="${Tags}" class="tagFilters hide"> <div class="collapseContent filterOptions"> </div> </div> <div is="emby-collapse" title="${HeaderVideoTypes}" class="videoTypeFilters hide"> <div class="collapseContent"> <div class="checkboxList"> <label> <input type="checkbox" is="emby-checkbox" class="chkVideoTypeFilter chkBluray" data-filter="Bluray"/> <span>${OptionBluray}</span> </label> <label> <input type="checkbox" is="emby-checkbox" class="chkVideoTypeFilter chkDvd" data-filter="Dvd"/> <span>${OptionDvd}</span> </label> <label> <input type="checkbox" is="emby-checkbox" class="chkHDFilter IsHD"/> <span>${OptionIsHD}</span> </label> <label> <input type="checkbox" is="emby-checkbox" class="chk4KFilter Is4K"/> <span>4K</span> </label> <label> <input type="checkbox" is="emby-checkbox" class="chkSDFilter IsHD"/> <span>${OptionIsSD}</span> </label> <label> <input type="checkbox" is="emby-checkbox" class="chk3DFilter chk3D"/> <span>${Option3D}</span> </label> </div> </div> </div> <div is="emby-collapse" title="${HeaderYears}" class="yearFilters hide"> <div class="collapseContent filterOptions"> </div> </div> </div> '),a=c,"livetvchannels"!==(i=e.options).mode&&"albums"!==i.mode&&"artists"!==i.mode&&"albumartists"!==i.mode&&"songs"!==i.mode||function(e,t){var a,i=u(e.querySelectorAll(".".concat("videoStandard")));try{for(i.s();!(a=i.n()).done;)a.value.classList.add("hide")}catch(e){i.e(e)}finally{i.f()}}(a),v(i.mode)&&(a.querySelector(".genreFilters").classList.remove("hide"),a.querySelector(".officialRatingFilters").classList.remove("hide"),a.querySelector(".tagFilters").classList.remove("hide"),a.querySelector(".yearFilters").classList.remove("hide")),"movies"!==i.mode&&"episodes"!==i.mode||a.querySelector(".videoTypeFilters").classList.remove("hide"),"movies"!==i.mode&&"series"!==i.mode&&"episodes"!==i.mode||a.querySelector(".features").classList.remove("hide"),"series"===i.mode&&a.querySelector(".seriesStatus").classList.remove("hide"),"episodes"===i.mode&&function(e,t){var a,i=u(e.querySelectorAll(".".concat("episodeFilter")));try{for(i.s();!(a=i.n()).done;)a.value.classList.remove("hide")}catch(e){i.e(e)}finally{i.f()}}(a),n.default.open(c),c.addEventListener("close",t),function(e,t){var a=t.query;if("livetvchannels"===t.mode)e.querySelector(".chkFavorite").checked=!0===a.IsFavorite;else{var i,n=u(e.querySelectorAll(".chkStandardFilter"));try{for(n.s();!(i=n.n()).done;){var r=i.value,c=",".concat(a.Filters||""),s=r.getAttribute("data-filter");r.checked=c.includes(",".concat(s))}}catch(e){n.e(e)}finally{n.f()}}var l,o=u(e.querySelectorAll(".chkVideoTypeFilter"));try{for(o.s();!(l=o.n()).done;){var d=l.value,h=",".concat(a.VideoTypes||""),p=d.getAttribute("data-filter");d.checked=h.includes(",".concat(p))}}catch(e){o.e(e)}finally{o.f()}e.querySelector(".chk3DFilter").checked=!0===a.Is3D,e.querySelector(".chkHDFilter").checked=!0===a.IsHD,e.querySelector(".chk4KFilter").checked=!0===a.Is4K,e.querySelector(".chkSDFilter").checked=!1===a.IsHD,e.querySelector("#chkSubtitle").checked=!0===a.HasSubtitles,e.querySelector("#chkTrailer").checked=!0===a.HasTrailer,e.querySelector("#chkThemeSong").checked=!0===a.HasThemeSong,e.querySelector("#chkThemeVideo").checked=!0===a.HasThemeVideo,e.querySelector("#chkSpecialFeature").checked=!0===a.HasSpecialFeature,e.querySelector("#chkSpecialEpisode").checked=0===a.ParentIndexNumber,e.querySelector("#chkMissingEpisode").checked=!0===a.IsMissing,e.querySelector("#chkFutureEpisode").checked=!0===a.IsUnaired;var y,v=u(e.querySelectorAll(".chkStatus"));try{for(v.s();!(y=v.n()).done;){var b=y.value,f=",".concat(a.SeriesStatus||""),k=b.getAttribute("data-filter");b.checked=f.includes(",".concat(k))}}catch(e){v.e(e)}finally{v.f()}}(c,e.options),e.bindEvents(c),v(e.options.mode)){c.classList.add("dynamicFilterDialog");var l=s.A.getApiClient(e.options.serverId);!function(e,t,a,i){t.getJSON(t.getUrl("Items/Filters",{UserId:a,ParentId:i.ParentId,IncludeItemTypes:i.IncludeItemTypes})).then((function(t){!function(e,t,a){p(e,".genreFilters","chkGenreFilter",t.Genres,(function(e){var t="|";return(t+(a.Genres||"")+t).includes(t+e+t)})),p(e,".officialRatingFilters","chkOfficialRatingFilter",t.OfficialRatings,(function(e){var t="|";return(t+(a.OfficialRatings||"")+t).includes(t+e+t)})),p(e,".tagFilters","chkTagFilter",t.Tags,(function(e){var t="|";return(t+(a.Tags||"")+t).includes(t+e+t)})),p(e,".yearFilters","chkYearFilter",t.Years,(function(e){var t=",";return(t+(a.Years||"")+t).includes(t+e+t)}))}(e,t,i)}))}(c,l,l.getCurrentUserId(),e.options.query)}}))}}])&&o(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),e}()},81077:function(e,t,a){a(69177),a(10353);var i=Object.create(HTMLDivElement.prototype);function n(){var e=this,t=e.parentNode.querySelector(".collapseContent");t.expanded?(t.expanded=!1,function(e,t){requestAnimationFrame((function(){t.style.height=t.offsetHeight+"px",t.offsetHeight,t.classList.remove("expanded"),t.style.height="0",setTimeout((function(){t.classList.contains("expanded")?t.classList.remove("hide"):t.classList.add("hide")}),300),e.querySelector(".material-icons").classList.remove("emby-collapse-expandIconExpanded")}))}(e,t)):(t.expanded=!0,function(e,t){requestAnimationFrame((function(){t.classList.remove("hide"),t.classList.add("expanded"),t.style.height="auto";var a=t.offsetHeight+"px";t.style.height="0",t.offsetHeight,t.style.height=a,setTimeout((function(){t.classList.contains("expanded")?t.classList.remove("hide"):t.classList.add("hide"),t.style.height="auto"}),300),e.querySelector(".material-icons").classList.add("emby-collapse-expandIconExpanded")}))}(e,t))}i.attachedCallback=function(){if(!this.classList.contains("emby-collapse")){this.classList.add("emby-collapse");var e=this.querySelector(".collapseContent");e&&e.classList.add("hide");var t=this.getAttribute("title"),a='<button is="emby-button" type="button" on-click="toggleExpand" id="expandButton" class="emby-collapsible-button iconRight"><h3 class="emby-collapsible-title" title="'+t+'">'+t+'</h3><span class="material-icons emby-collapse-expandIcon expand_more" aria-hidden="true"></span></button>';this.insertAdjacentHTML("afterbegin",a);var i=this.querySelector(".emby-collapsible-button");i.addEventListener("click",n),"true"===this.getAttribute("data-expanded")&&n.call(i)}},document.registerElement("emby-collapse",{prototype:i,extends:"div"})}}]);