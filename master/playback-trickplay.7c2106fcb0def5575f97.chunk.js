"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[77756],{17240:function(e,t,n){n.d(t,{A:function(){return l}}),n(63696);var r=n(91785),a=n(62540);function l(e){var t=e.styles,n=e.defaultTheme,l=void 0===n?{}:n,i="function"==typeof t?function(e){return t(null==(n=e)||0===Object.keys(n).length?l:e);var n}:t;return(0,a.jsx)(r.mL,{styles:i})}},36720:function(e,t,n){n.d(t,{_r:function(){return o},t5:function(){return i}});var r=n(38345),a=n(61586),l=n(69410),i="Configuration",o=function(){var e=(0,l.gf)().api;return(0,a.I)({queryKey:[i],queryFn:function(t){var n=t.signal;return function(e,t){return n=void 0,a=void 0,i=function(){return function(e,t){var n,r,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(n){switch(n.label){case 0:return[4,(0,r.T)(e).getConfiguration(t)];case 1:return[2,n.sent().data]}}))},new((l=void 0)||(l=Promise))((function(e,t){function r(e){try{s(i.next(e))}catch(e){t(e)}}function o(e){try{s(i.throw(e))}catch(e){t(e)}}function s(t){var n;t.done?e(t.value):(n=t.value,n instanceof l?n:new l((function(e){e(n)}))).then(r,o)}s((i=i.apply(n,a||[])).next())}));var n,a,l,i}(e,{signal:n})},enabled:!!e})}},70298:function(e,t,n){n.r(t),n.d(t,{Component:function(){return S},action:function(){return P}});var r=n(62540),a=(n(63696),n(5898)),l=n(87404),i=n(9055),o=n(36720),s=n(65242),c=n(5271),u=n(58765),p=n(99851),d=n(37538),y=n(52502),h=n(94828),f=n(84849),v=n(99797),b=n(52974),A=n(11e3),m=n(77890),g=n(51890),x=n(86191),T=n(38345),k=n(49960),j=n(19437),w=n(53678),P=function(e){return t=void 0,n=[e],a=function(e){var t,n,r,a,l,i,s,c,u=e.request;return function(e,t){var n,r,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(e){switch(e.label){case 0:if(!(t=x.A.getCurrentApi()))throw new Error("No Api instance available");return[4,u.formData()];case 1:return n=e.sent(),r=Object.fromEntries(n),[4,(0,T.T)(t).getConfiguration()];case 2:if(a=e.sent().data,!(l=a.TrickplayOptions))throw new Error("Unexpected null TrickplayOptions");return l.EnableHwAcceleration="on"===(null===(i=r.HwAcceleration)||void 0===i?void 0:i.toString()),l.EnableHwEncoding="on"===(null===(s=r.HwEncoding)||void 0===s?void 0:s.toString()),l.EnableKeyFrameOnlyExtraction="on"===(null===(c=r.KeyFrameOnlyExtraction)||void 0===c?void 0:c.toString()),l.ScanBehavior=r.ScanBehavior.toString(),l.ProcessPriority=r.ProcessPriority.toString(),l.Interval=parseInt(r.ImageInterval.toString()||"10000",10),l.WidthResolutions=r.WidthResolutions.toString().replace(" ","").split(",").map(Number),l.TileWidth=parseInt(r.TileWidth.toString()||"10",10),l.TileHeight=parseInt(r.TileHeight.toString()||"10",10),l.Qscale=parseInt(r.Qscale.toString()||"4",10),l.JpegQuality=parseInt(r.JpegQuality.toString()||"90",10),l.ProcessThreads=parseInt(r.TrickplayThreads.toString()||"1",10),[4,(0,T.T)(t).updateConfiguration({serverConfiguration:a})];case 3:return e.sent(),w.q.invalidateQueries({queryKey:[o.t5]}),[2,{isSaved:!0}]}}))},new((r=void 0)||(r=Promise))((function(e,l){function i(e){try{s(a.next(e))}catch(e){l(e)}}function o(e){try{s(a.throw(e))}catch(e){l(e)}}function s(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,o)}s((a=a.apply(t,n||[])).next())}));var t,n,r,a},S=function(){var e,t,n,x,T,w,P,S,H,O,L,E,I=(0,l.cq)(),q=(0,l.mP)(),C=(0,o._r)(),N=C.data,Q=C.isPending,B="submitting"===I.state;return!N||Q?(0,r.jsx)(f.A,{}):(0,r.jsx)(s.A,{id:"trickplayConfigurationPage",className:"mainAnimatedPage type-interior",title:a.Ay.translate("Trickplay"),children:(0,r.jsx)(c.A,{className:"content-primary",children:(0,r.jsx)(i.lV,{method:"POST",children:(0,r.jsxs)(u.A,{spacing:3,children:[(0,r.jsx)(p.A,{variant:"h1",children:a.Ay.translate("Trickplay")}),!B&&(null==q?void 0:q.isSaved)&&(0,r.jsx)(g.A,{severity:"success",children:a.Ay.translate("SettingsSaved")}),(0,r.jsx)(y.A,{children:(0,r.jsx)(d.A,{control:(0,r.jsx)(h.A,{name:"HwAcceleration",defaultChecked:null===(e=N.TrickplayOptions)||void 0===e?void 0:e.EnableHwAcceleration}),label:a.Ay.translate("LabelTrickplayAccel")})}),(0,r.jsxs)(y.A,{children:[(0,r.jsx)(d.A,{control:(0,r.jsx)(h.A,{name:"HwEncoding",defaultChecked:null===(t=N.TrickplayOptions)||void 0===t?void 0:t.EnableHwEncoding}),label:a.Ay.translate("LabelTrickplayAccelEncoding")}),(0,r.jsx)(v.A,{children:a.Ay.translate("LabelTrickplayAccelEncodingHelp")})]}),(0,r.jsxs)(y.A,{children:[(0,r.jsx)(d.A,{control:(0,r.jsx)(h.A,{name:"KeyFrameOnlyExtraction",defaultChecked:null===(n=N.TrickplayOptions)||void 0===n?void 0:n.EnableKeyFrameOnlyExtraction}),label:a.Ay.translate("LabelTrickplayKeyFrameOnlyExtraction")}),(0,r.jsx)(v.A,{children:a.Ay.translate("LabelTrickplayKeyFrameOnlyExtractionHelp")})]}),(0,r.jsxs)(A.A,{name:"ScanBehavior",select:!0,defaultValue:null===(x=N.TrickplayOptions)||void 0===x?void 0:x.ScanBehavior,label:a.Ay.translate("LabelScanBehavior"),helperText:a.Ay.translate("LabelScanBehaviorHelp"),children:[(0,r.jsx)(b.A,{value:k.v.NonBlocking,children:a.Ay.translate("NonBlockingScan")}),(0,r.jsx)(b.A,{value:k.v.Blocking,children:a.Ay.translate("BlockingScan")})]}),(0,r.jsxs)(A.A,{name:"ProcessPriority",select:!0,defaultValue:null===(T=N.TrickplayOptions)||void 0===T?void 0:T.ProcessPriority,label:a.Ay.translate("LabelProcessPriority"),helperText:a.Ay.translate("LabelProcessPriorityHelp"),children:[(0,r.jsx)(b.A,{value:j._.High,children:a.Ay.translate("PriorityHigh")}),(0,r.jsx)(b.A,{value:j._.AboveNormal,children:a.Ay.translate("PriorityAboveNormal")}),(0,r.jsx)(b.A,{value:j._.Normal,children:a.Ay.translate("PriorityNormal")}),(0,r.jsx)(b.A,{value:j._.BelowNormal,children:a.Ay.translate("PriorityBelowNormal")}),(0,r.jsx)(b.A,{value:j._.Idle,children:a.Ay.translate("PriorityIdle")})]}),(0,r.jsx)(A.A,{label:a.Ay.translate("LabelImageInterval"),name:"ImageInterval",type:"number",inputMode:"numeric",defaultValue:null===(w=N.TrickplayOptions)||void 0===w?void 0:w.Interval,inputProps:{min:1,required:!0},helperText:a.Ay.translate("LabelImageIntervalHelp")}),(0,r.jsx)(A.A,{label:a.Ay.translate("LabelWidthResolutions"),name:"WidthResolutions",defaultValue:null===(P=N.TrickplayOptions)||void 0===P?void 0:P.WidthResolutions,inputProps:{required:!0,pattern:"[0-9,]*"},helperText:a.Ay.translate("LabelWidthResolutionsHelp")}),(0,r.jsx)(A.A,{label:a.Ay.translate("LabelTileWidth"),name:"TileWidth",type:"number",inputMode:"numeric",defaultValue:null===(S=N.TrickplayOptions)||void 0===S?void 0:S.TileWidth,inputProps:{min:1,required:!0},helperText:a.Ay.translate("LabelTileWidthHelp")}),(0,r.jsx)(A.A,{label:a.Ay.translate("LabelTileHeight"),name:"TileHeight",type:"number",inputMode:"numeric",defaultValue:null===(H=N.TrickplayOptions)||void 0===H?void 0:H.TileHeight,inputProps:{min:1,required:!0},helperText:a.Ay.translate("LabelTileHeightHelp")}),(0,r.jsx)(A.A,{label:a.Ay.translate("LabelJpegQuality"),name:"JpegQuality",type:"number",inputMode:"numeric",defaultValue:null===(O=N.TrickplayOptions)||void 0===O?void 0:O.JpegQuality,inputProps:{min:1,max:100,required:!0},helperText:a.Ay.translate("LabelJpegQualityHelp")}),(0,r.jsx)(A.A,{label:a.Ay.translate("LabelQscale"),name:"Qscale",type:"number",inputMode:"numeric",defaultValue:null===(L=N.TrickplayOptions)||void 0===L?void 0:L.Qscale,inputProps:{min:2,max:31,required:!0},helperText:a.Ay.translate("LabelQscaleHelp")}),(0,r.jsx)(A.A,{label:a.Ay.translate("LabelTrickplayThreads"),name:"TrickplayThreads",type:"number",inputMode:"numeric",defaultValue:null===(E=N.TrickplayOptions)||void 0===E?void 0:E.ProcessThreads,inputProps:{min:0,required:!0},helperText:a.Ay.translate("LabelTrickplayThreadsHelp")}),(0,r.jsx)(m.A,{type:"submit",size:"large",children:a.Ay.translate("Save")})]})})})})};S.displayName="TrickplayPage"}}]);