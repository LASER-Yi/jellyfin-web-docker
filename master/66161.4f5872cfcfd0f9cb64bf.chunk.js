"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[66161,79617,1998,15605],{35300:function(e,t,n){n.r(t),n(84734),n(77575),n(78557),n(67593),n(23630);var a=n(98320),i=n(62014),r=n(34789),s=n(58782),o=n(46782),l=n(80669),c=n(65875),u=n(22622),d=n(47629),h=n(9482),f=n(55802),m=(n(15453),n(15605),n(86191));function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function p(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,g(a.key),a)}}function g(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=v(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==v(t)?t:t+""}n(29305),n(32733),n(84701),n(81678),n(44962),n(4754),n(94),n(36947),n(83994),n(82367);var y,b,A,w,k,S,I,L,T,P,B,x,C,E,M,R,q,N=new(function(){return e=function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=((t=document.createElement("div")).classList.add("appfooter"),document.body.appendChild(t),t),this.add=function(e){this.element.appendChild(e)},this.insert=function(e){"string"==typeof e?this.element.insertAdjacentHTML("afterbegin",e):this.element.insertBefore(e,this.element.firstChild)}},(t=[{key:"destroy",value:function(){this.element=null}}])&&p(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}()),D=n(22832),F=(n(57949),n(70267)),O=[],U=0,H={},j=0,_=!0,V=!1;function W(){this.classList.add("hide")}function Y(){l.f.playPause(y)}function Q(){if(q)return q;var e,t,n=N.element;return(q=n.querySelector(".nowPlayingBar"))||(n.insertAdjacentHTML("afterbegin",(e="",e+='<div class="nowPlayingBar hide nowPlayingBar-hidden">',e+='<div class="nowPlayingBarTop">',e+='<div class="nowPlayingBarPositionContainer sliderContainer" dir="ltr">',e+='<input type="range" is="emby-slider" pin step=".01" min="0" max="100" value="0" class="slider-medium-thumb nowPlayingBarPositionSlider" data-slider-keep-progress="true"/>',e+="</div>",e+='<div class="nowPlayingBarInfoContainer">',e+='<div class="nowPlayingImage"></div>',e+='<div class="nowPlayingBarText"></div>',e+="</div>",e+='<div class="nowPlayingBarCenter" dir="ltr">',e+='<button is="paper-icon-button-light" class="previousTrackButton mediaButton" title="'.concat(h.Ay.translate("ButtonPreviousTrack"),'"><span class="material-icons skip_previous" aria-hidden="true"></span></button>'),e+='<button is="paper-icon-button-light" class="playPauseButton mediaButton" title="'.concat(h.Ay.translate("ButtonPause"),'"><span class="material-icons pause" aria-hidden="true"></span></button>'),e+='<button is="paper-icon-button-light" class="stopButton mediaButton" title="'.concat(h.Ay.translate("ButtonStop"),'"><span class="material-icons stop" aria-hidden="true"></span></button>'),o.A.mobile||(e+='<button is="paper-icon-button-light" class="nextTrackButton mediaButton" title="'.concat(h.Ay.translate("ButtonNextTrack"),'"><span class="material-icons skip_next" aria-hidden="true"></span></button>')),e+='<div class="nowPlayingBarCurrentTime"></div>',e+="</div>",e+='<div class="nowPlayingBarRight">',e+='<button is="paper-icon-button-light" class="muteButton mediaButton" title="'.concat(h.Ay.translate("Mute"),'"><span class="material-icons volume_up" aria-hidden="true"></span></button>'),e+='<div class="sliderContainer nowPlayingBarVolumeSliderContainer hide" style="width:9em;vertical-align:middle;display:inline-flex;">',e+='<input type="range" is="emby-slider" pin step="1" min="0" max="100" value="0" class="slider-medium-thumb nowPlayingBarVolumeSlider"/>',e+="</div>",e+='<button is="paper-icon-button-light" class="btnAirPlay mediaButton" title="'.concat(h.Ay.translate("AirPlay"),'"><span class="material-icons airplay" aria-hidden="true"></span></button>'),e+='<button is="paper-icon-button-light" class="openLyricsButton mediaButton hide" title="'.concat(h.Ay.translate("Lyrics"),'"><span class="material-icons lyrics" style="top:0.1em" aria-hidden="true"></span></button>'),e+='<button is="paper-icon-button-light" class="toggleRepeatButton mediaButton" title="'.concat(h.Ay.translate("Repeat"),'"><span class="material-icons repeat" aria-hidden="true"></span></button>'),e+='<button is="paper-icon-button-light" class="btnShuffleQueue mediaButton" title="'.concat(h.Ay.translate("Shuffle"),'"><span class="material-icons shuffle" aria-hidden="true"></span></button>'),e+='<div class="nowPlayingBarUserDataButtons">',e+="</div>",e+='<button is="paper-icon-button-light" class="playPauseButton mediaButton" title="'.concat(h.Ay.translate("ButtonPause"),'"><span class="material-icons pause" aria-hidden="true"></span></button>'),o.A.mobile?e+='<button is="paper-icon-button-light" class="nextTrackButton mediaButton" title="'.concat(h.Ay.translate("ButtonNextTrack"),'"><span class="material-icons skip_next" aria-hidden="true"></span></button>'):e+='<button is="paper-icon-button-light" class="btnToggleContextMenu mediaButton" title="'.concat(h.Ay.translate("ButtonMore"),'"><span class="material-icons more_vert" aria-hidden="true"></span></button>'),e+="</div>",(e+="</div>")+"</div>")),window.CustomElements.upgradeSubtree(n),q=n.querySelector(".nowPlayingBar"),o.A.mobile&&(q.querySelector(".btnShuffleQueue").classList.add("hide"),q.querySelector(".nowPlayingBarCenter").classList.add("hide")),r.A.safari&&r.A.slow&&q.classList.add("noMediaProgress"),D.Ay.on(q),b=(t=q).querySelector(".nowPlayingBarCurrentTime"),A=t.querySelector(".nowPlayingImage"),k=t.querySelector(".nowPlayingBarText"),S=t.querySelector(".nowPlayingBarUserDataButtons"),B=t.querySelector(".nowPlayingBarPositionSlider"),I=t.querySelector(".muteButton"),P=t.querySelectorAll(".playPauseButton"),C=t.querySelector(".toggleRepeatButton"),L=t.querySelector(".nowPlayingBarVolumeSlider"),T=t.querySelector(".nowPlayingBarVolumeSliderContainer"),M=q.querySelector(".openLyricsButton"),I.addEventListener("click",(function(){y&&l.f.toggleMute(y)})),t.querySelector(".stopButton").addEventListener("click",(function(){y&&l.f.stop(y)})),P.forEach((function(e){e.addEventListener("click",Y)})),t.querySelector(".nextTrackButton").addEventListener("click",(function(){y&&l.f.nextTrack(y)})),t.querySelector(".previousTrackButton").addEventListener("click",(function(e){if(y){if(l.f.isPlayingAudio(y)){if(e.detail>1)return;if(l.f.currentTime(y)>=5e3||l.f.getCurrentPlaylistIndex(y)<=0)return l.f.seekPercent(0,y),void(B.value=0)}l.f.previousTrack(y)}})),t.querySelector(".previousTrackButton").addEventListener("dblclick",(function(){y&&l.f.previousTrack(y)})),(x=t.querySelector(".btnAirPlay")).addEventListener("click",(function(){y&&l.f.toggleAirPlay(y)})),t.querySelector(".btnShuffleQueue").addEventListener("click",(function(){y&&l.f.toggleQueueShuffleMode()})),M.addEventListener("click",(function(){V?F.appRouter.back():F.appRouter.show("lyrics")})),(C=t.querySelector(".toggleRepeatButton")).addEventListener("click",(function(){switch(l.f.getRepeatMode()){case"RepeatAll":l.f.setRepeatMode("RepeatOne");break;case"RepeatOne":l.f.setRepeatMode("RepeatNone");break;case"RepeatNone":l.f.setRepeatMode("RepeatAll")}})),E=C.querySelector(".material-icons"),T.classList.toggle("hide",u.g.supports("physicalvolumecontrol")),L.addEventListener("input",(function(e){y&&y.setVolume(e.target.value)})),B.addEventListener("change",(function(){if(y){var e=parseFloat(this.value);l.f.seekPercent(e,y)}})),B.getBubbleText=function(e){if(null==H||!H.NowPlayingItem||!j)return"--:--";var t=j;return t/=100,t*=e,a.Ay.getDisplayRunningTime(t)},t.addEventListener("click",(function(e){d.Ay.parentWithTag(e.target,["BUTTON","INPUT"])||F.appRouter.showNowPlaying()}))),q}function z(e){P&&P.forEach((function(t){var n=t.querySelector(".material-icons");n.classList.remove("play_arrow","pause"),n.classList.add(e?"play_arrow":"pause"),t.title=h.Ay.translate(e?"Play":"ButtonPause")}))}function K(e){E.classList.remove("repeat","repeat_one");var t="buttonActive";switch(e){case"RepeatAll":E.classList.add("repeat"),C.classList.add(t);break;case"RepeatOne":E.classList.add("repeat_one"),C.classList.add(t);break;default:E.classList.add("repeat"),C.classList.remove(t)}}function X(e,t,n){if(B&&!B.dragging)if(t){var i=e/t;i*=100,B.value=i}else B.value=0;if(B&&B.setBufferedRanges(n,t,e),b){var r=null==e?"--:--":a.Ay.getDisplayRunningTime(e);t&&(r+=" / "+a.Ay.getDisplayRunningTime(t)),b.innerHTML=r}}function $(e,t){var n=O,a=!0,i=!0;-1===n.indexOf("ToggleMute")&&(a=!1);var r=I.querySelector(".material-icons");r.classList.remove("volume_off","volume_up"),r.classList.add(e?"volume_off":"volume_up"),I.title=h.Ay.translate(e?"Unmute":"Mute"),-1===n.indexOf("SetVolume")&&(i=!1),y.isLocalPlayer&&u.g.supports("physicalvolumecontrol")&&(a=!1,i=!1),I.classList.toggle("hide",!a),L&&(T.classList.toggle("hide",!i),L.dragging||(L.value=t||0))}function G(e){if(R){var t=!!e&&"Audio"===e.Type&&e.HasLyrics;M.classList.toggle("hide",!t),J()}}function J(){R&&M.classList.toggle("buttonActive",V)}function Z(e,t){console.debug("nowplaying event: "+e.type),re.call(this,e,t)}function ee(){R&&K(l.f.getRepeatMode())}function te(){if(R){var e=l.f.getQueueShuffleMode(),t="buttonActive",n=q.querySelector(".btnShuffleQueue");"Shuffle"===e?n.classList.add(t):n.classList.remove(t)}}function ne(){R=!1;var e=document.getElementsByClassName("nowPlayingBar")[0];e&&function(e){e.offsetWidth,e.classList.add("nowPlayingBar-hidden"),d.Ay.addEventListener(e,d.Ay.whichTransitionEvent(),W,{once:!0})}(e)}function ae(e,t){console.debug("[nowPlayingBar:onPlaybackStopped] event: "+e.type),this.isLocalPlayer?"Audio"!==t.NextMediaType&&ne():t.NextMediaType||ne()}function ie(){R&&z(this.paused())}function re(e,t){if("init"!==e.type){console.debug("[nowPlayingBar:onStateChanged] event: "+e.type);t.NowPlayingItem&&!o.A.tv&&!1!==t.IsFullscreen?this.isLocalPlayer&&t.NowPlayingItem&&"Video"===t.NowPlayingItem.MediaType?ne():(R=!0,q||(Q(),G(t.NowPlayingItem)),function(e,t,n){var a;_?(a=Q(),d.Ay.removeEventListener(a,d.Ay.whichTransitionEvent(),W,{once:!0}),a.classList.remove("hide"),a.offsetWidth,a.classList.remove("nowPlayingBar-hidden")):ne(),H=t;var i=l.f.getPlayerInfo(),r=t.PlayState||{};z(r.IsPaused);var u=i.supportedCommands;O=u,-1===u.indexOf("SetRepeatMode")?C.classList.add("hide"):C.classList.remove("hide");var h=-1===u.indexOf("AirPlay");if(x.classList.toggle("hide",h),K(l.f.getRepeatMode()),te(),$(r.IsMuted,r.VolumeLevel),B&&!B.dragging){B.disabled=!r.CanSeek;var v=t.MediaSource&&null==t.MediaSource.RunTimeTicks;B.setIsClear(v)}var p=t.NowPlayingItem||{};X(r.PositionTicks,p.RunTimeTicks,l.f.getBufferedRanges(n)),function(e){var t=e.NowPlayingItem,n=t?c.A.getNowPlayingNames(t):[];if(k.innerHTML="",n){var a=document.createElement("div"),i=document.createElement("div");if(i.classList.add("nowPlayingBarSecondaryText"),n.length>1&&(n[1].secondary=!0,n[1].text)){var r=document.createElement("a");r.innerText=n[1].text,i.appendChild(r)}if(n[0].text){var l=document.createElement("a");l.innerText=n[0].text,a.appendChild(l)}k.appendChild(a),k.appendChild(i)}var u=t?function(e,t){if(!e)throw new Error("item cannot be null!");if("Episode"!==e.Type)return null;if((t=t||{}).type=t.type||"Primary","Primary"===t.type&&e.SeriesPrimaryImageTag)return t.tag=e.SeriesPrimaryImageTag,m.A.getApiClient(e.ServerId).getScaledImageUrl(e.SeriesId,t);if("Thumb"===t.type){if(e.SeriesThumbImageTag)return t.tag=e.SeriesThumbImageTag,m.A.getApiClient(e.ServerId).getScaledImageUrl(e.SeriesId,t);if(e.ParentThumbImageTag)return t.tag=e.ParentThumbImageTag,m.A.getApiClient(e.ServerId).getScaledImageUrl(e.ParentThumbItemId,t)}return null}(t,{height:70})||function(e,t){var n;if(!e)throw new Error("item cannot be null!");return(t=t||{}).type=t.type||"Primary",null!==(n=e.ImageTags)&&void 0!==n&&n[t.type]?(t.tag=e.ImageTags[t.type],m.A.getApiClient(e.ServerId).getScaledImageUrl(e.PrimaryImageItemId||e.Id,t)):e.AlbumId&&e.AlbumPrimaryImageTag?(t.tag=e.AlbumPrimaryImageTag,m.A.getApiClient(e.ServerId).getScaledImageUrl(e.AlbumId,t)):null}(t,{height:70}):null;if(u!==w&&(u?(w=u,s.default.lazyImage(A,w),A.style.display=null,k.style.marginLeft=null):(w=null,A.style.backgroundImage="",A.style.display="none",k.style.marginLeft="1em")),t.Id){var d=m.A.getApiClient(t.ServerId);d.getItem(d.getCurrentUserId(),t.Id).then((function(e){var t=e.UserData||{},n=null==t.Likes?"":t.Likes;if(!o.A.mobile){var a=q.querySelector(".btnToggleContextMenu"),i=a.cloneNode(!0);a.parentNode.replaceChild(i,a);var r={play:!1,queue:!1,stopPlayback:!0,clearQueue:!0,positionTo:a=q.querySelector(".btnToggleContextMenu")};d.getCurrentUser().then((function(t){a.addEventListener("click",(function(){f.default.show(Object.assign({item:e,user:t},r)).catch((function(){}))}))}))}S.innerHTML='<button is="emby-ratingbutton" type="button" class="mediaButton paper-icon-button-light" data-id="'+e.Id+'" data-serverid="'+e.ServerId+'" data-itemtype="'+e.Type+'" data-likes="'+n+'" data-isfavorite="'+t.IsFavorite+'"><span class="material-icons favorite" aria-hidden="true"></span></button>'}))}else S.innerHTML=""}(t),G(p)}(0,t,this)):ne()}}function se(){if(R){var e=(new Date).getTime();if(!(e-U<700)){U=e;var t=this;j=l.f.duration(t),X(1e4*l.f.currentTime(t),j,l.f.getBufferedRanges(t))}}}function oe(){R&&$(this.isMuted(),this.getVolume())}function le(e,t){var n=l.f.getPlayerState(e);re.call(e,{type:t},n)}function ce(e){V="/lyrics"===F.appRouter.currentRouteInfo.path.toLowerCase(),e!==y&&(function(){var e=y;e&&(i.A.off(e,"playbackstart",Z),i.A.off(e,"statechange",Z),i.A.off(e,"repeatmodechange",ee),i.A.off(e,"shufflequeuemodechange",te),i.A.off(e,"playbackstop",ae),i.A.off(e,"volumechange",oe),i.A.off(e,"pause",ie),i.A.off(e,"unpause",ie),i.A.off(e,"timeupdate",se),y=null,ne())}(),y=e,e&&(le(e,"init"),i.A.on(e,"playbackstart",Z),i.A.on(e,"statechange",Z),i.A.on(e,"repeatmodechange",ee),i.A.on(e,"shufflequeuemodechange",te),i.A.on(e,"playbackstop",ae),i.A.on(e,"volumechange",oe),i.A.on(e,"pause",ie),i.A.on(e,"unpause",ie),i.A.on(e,"timeupdate",se)))}i.A.on(l.f,"playerchange",(function(){ce(l.f.getCurrentPlayer())})),ce(l.f.getCurrentPlayer()),document.addEventListener("viewbeforeshow",(function(e){V="/lyrics"===F.appRouter.currentRouteInfo.path.toLowerCase(),J(),e.detail.options.enableMediaControl?_||(_=!0,y?le(y,"refresh"):ne()):_&&(_=!1,ne())}))},65875:function(e,t,n){n(86584),t.A={getNowPlayingNames:function(e,t){var n,a,i=e,r=null,s=e.Name;e.AlbumId&&"Audio"===e.MediaType&&(i={Id:e.AlbumId,Name:e.Album,Type:"MusicAlbum",IsFolder:!0}),"Video"===e.MediaType&&(null!=e.IndexNumber&&(s=e.IndexNumber+" - "+s),null!=e.ParentIndexNumber&&(s=e.ParentIndexNumber+"."+s));var o="";null!==(n=e.ArtistItems)&&void 0!==n&&n.length?(r={Id:e.ArtistItems[0].Id,Name:e.ArtistItems[0].Name,Type:"MusicArtist",IsFolder:!0},o=e.ArtistItems.map((function(e){return e.Name})).join(", ")):null!==(a=e.Artists)&&void 0!==a&&a.length?o=e.Artists.join(", "):e.SeriesName||e.Album?(o=s,s=e.SeriesName||e.Album,r=i,i=e.SeriesId?{Id:e.SeriesId,Name:e.SeriesName,Type:"Series",IsFolder:!0}:null):e.ProductionYear&&!1!==t&&(o=e.ProductionYear);var l=[];return l.push({text:s,item:i}),o&&l.push({text:o,item:r}),l}}},15605:function(e,t,n){n.r(t);var a=n(10736),i=n(9482),r=n(62014),s=n(10353),o=n(86191);function l(){var e=this,t=e.getAttribute("data-id"),n=e.getAttribute("data-serverid"),a=o.A.getApiClient(n),i=this.getAttribute("data-likes");i="true"===i||"false"!==i&&null,function(e,t,n,a,i){return t.updateFavoriteStatus(t.getCurrentUserId(),n,!i)}(0,a,t,0,"true"===this.getAttribute("data-isfavorite")).then((function(t){u(e,t.Likes,t.IsFavorite)}))}function c(e,t,n){n.ItemId===this.getAttribute("data-id")&&u(this,n.Likes,n.IsFavorite)}function u(e,t,n,a){var i=e.querySelector(".material-icons");n?(i&&(i.classList.add("favorite"),i.classList.add("ratingbutton-icon-withrating")),e.classList.add("ratingbutton-withrating")):(i&&(i.classList.add("favorite"),i.classList.remove("ratingbutton-icon-withrating")),e.classList.remove("ratingbutton-withrating")),!1!==a&&(e.setAttribute("data-isfavorite",n),e.setAttribute("data-likes",null===t?"":t)),d(e,n)}function d(e,t){e.title=t?i.Ay.translate("Favorite"):i.Ay.translate("AddToFavorites");var n=e.querySelector(".button-text");n&&(n.innerText=e.title)}function h(e){var t,n,i;e.removeEventListener("click",l),(i=(t=e)[n="UserDataChanged"])&&(r.A.off(a.default,n,i),t[n]=null)}function f(e){var t,n,i;h(e),e.addEventListener("click",l),t=e,n="UserDataChanged",i=c.bind(t),r.A.on(a.default,n,i),t[n]=i}var m=Object.create(s.A);m.createdCallback=function(){s.A.createdCallback&&s.A.createdCallback.call(this)},m.attachedCallback=function(){s.A.attachedCallback&&s.A.attachedCallback.call(this);var e=this.getAttribute("data-id"),t=this.getAttribute("data-serverid");if(e&&t){var n=this.getAttribute("data-likes");u(this,n="true"===n||"false"!==n&&null,"true"===this.getAttribute("data-isfavorite"),!1),f(this)}else d(this)},m.detachedCallback=function(){s.A.detachedCallback&&s.A.detachedCallback.call(this),h(this)},m.setItem=function(e){if(e){this.setAttribute("data-id",e.Id),this.setAttribute("data-serverid",e.ServerId);var t=e.UserData||{};u(this,t.Likes,t.IsFavorite),f(this)}else this.removeAttribute("data-id"),this.removeAttribute("data-serverid"),this.removeAttribute("data-likes"),this.removeAttribute("data-isfavorite"),h(this)},document.registerElement("emby-ratingbutton",{prototype:m,extends:"button"})},57949:function(e,t,n){n(29305),n(32733),n(84701),n(24776),n(69892),n(44962),n(86584),n(89336),n(9698),n(36947),n(36457),n(78557),n(67593),n(95021),n(73687),n(83994),n(93062),n(23630),n(82367);var a=n(34789),i=n(47629),r=n(46782),s=n(74550),o=(n(69177),n(98959),n(9482)),l=n(51686);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var u=Object.create(HTMLInputElement.prototype),d=!1;if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var h=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");null!=h&&h.configurable&&(d=!0)}function f(e,t){return t>0||(t=parseFloat(e.step))>0?t:1}function m(e,t){var n=e.sliderBubbleTrack.getBoundingClientRect(),a=(t-n.left)/n.width;o.Ay.getIsElementRTL(e)&&(a=(n.right-t)/n.width);var i=e.max-e.min;if("any"!==e.step&&0!==i){var r=f(e)/i;a=Math.round(a/r)*r}return Math.min(Math.max(a,0),1)}function v(e,t){var n=(e.max-e.min)*t,a=null;if("any"!==e.step){var i=f(e);a=(0,l.lf)(i),n=Math.round(n/i)*i}var r=parseFloat(e.min);return n+=r,null!=a&&(a=Math.max(a,(0,l.lf)(r)),n=parseFloat(n.toFixed(a))),Math.min(Math.max(n,e.min),e.max)}function p(e){if(!e||!this.keyboardDragging&&!this.touched){var t=this,n=t.value;cancelAnimationFrame(t.updateValuesFrame),t.updateValuesFrame=requestAnimationFrame((function(){var e=t.backgroundLower;if(e){var a=(n-t.min)/(t.max-t.min);a*=100,e.style.width=a+"%"}t.markerContainerElement&&function(e,t){var n,a;if(e.getMarkerInfo&&(e.markerInfo=e.getMarkerInfo(),e.markerContainerElement.innerHTML="",e.markerInfo.forEach((function(t){var n,a;e.markerContainerElement.insertAdjacentHTML("beforeend",(a="","chapterMarker"===(n=t).className&&(a=n.className,"string"==typeof n.name&&n.name.length&&(a="".concat(n.className," marker-").concat(n.name.substring(0,100).toLowerCase().replace(" ","-")))),'<span class="material-icons sliderMarker '.concat(a,'" aria-hidden="true"></span>')))})),e.markerElements=e.markerContainerElement.querySelectorAll(".sliderMarker")),null!==(n=e.markerInfo)&&void 0!==n&&n.length&&null!==(a=e.markerElements)&&void 0!==a&&a.length)for(var i=0,r=e.markerElements.length;i<r;i++)e.markerInfo.length>i&&y(e,v(e,e.markerInfo[i].progress),e.markerElements[i],t)}(t,n)}))}}function g(e,t,n,a){requestAnimationFrame((function(){var i,r,s=e.sliderBubbleTrack.getBoundingClientRect(),l=a.getBoundingClientRect(),c=s.width*t/100;o.Ay.getIsElementRTL(e)&&(c=s.width-c),c=Math.min(Math.max(c,l.width/2),s.width-l.width/2),a.style.left=c+"px",null!==(i=e.updateBubbleHtml)&&void 0!==i&&i.call(e,a,n)||(r=e.getBubbleHtml?e.getBubbleHtml(t,n):'<h1 class="sliderBubbleText">'+(r=e.getBubbleText?e.getBubbleText(t,n):n.toLocaleString())+"</h1>",a.innerHTML=r)}))}function y(e,t,n,a){requestAnimationFrame((function(){var i=e.sliderBubbleTrack.getBoundingClientRect(),r=n.getBoundingClientRect();if(i.width&&r.width){var s=i.width*t/100-r.width/2;s=Math.min(Math.max(s,-r.width/2),i.width-r.width/2),n.style.left=s+"px",a>=t?(n.classList.remove("unwatched"),n.classList.add("watched")):(n.classList.add("unwatched"),n.classList.remove("watched"))}}))}u.attachedCallback=function(){if("true"!==this.getAttribute("data-embyslider")){this.setAttribute("data-embyslider","true"),this.classList.add("mdl-slider"),this.classList.add("mdl-js-slider"),a.A.edge&&this.classList.add("slider-browser-edge"),r.A.mobile||this.classList.add("mdl-slider-hoverthumb"),r.A.tv&&this.classList.add("show-focus");var e=i.Ay.parentWithClass(this,"sliderContainer-settings");if(e&&this.getAttribute("label")){var t=this.ownerDocument.createElement("label");t.innerText=this.getAttribute("label"),t.classList.add("sliderLabel"),t.htmlFor=this.id,e.insertBefore(t,e.firstChild)}var n=this.parentNode;n.classList.add("mdl-slider-container"),n.insertAdjacentHTML("beforeend",'<div class="mdl-slider-background-flex-container"><div class="mdl-slider-background-flex"><div class="mdl-slider-background-flex-inner"><div class="mdl-slider-background-upper"></div><div class="mdl-slider-background-lower"></div></div></div></div><div class="sliderBubbleTrack"><div class="sliderBubble hide"></div></div>'),this.sliderBubbleTrack=n.querySelector(".sliderBubbleTrack"),this.backgroundLower=n.querySelector(".mdl-slider-background-lower"),this.backgroundUpper=n.querySelector(".mdl-slider-background-upper");var s=n.querySelector(".sliderBubble"),o=s.classList.contains("hide");this.markerContainerElement=n.querySelector(".sliderMarkerContainer"),i.Ay.addEventListener(this,"input",(function(){var e,t,n,a;this.dragging=!0,"true"!==this.dataset.sliderKeepProgress&&p.call(this),g(this,100*(e=this,t=this.value,a=0!==(n=e.max-e.min)?(t-e.min)/n:0,Math.min(Math.max(a,0),1)),parseFloat(this.value),s),o&&(s.classList.remove("hide"),o=!1)}),{passive:!0}),i.Ay.addEventListener(this,"change",(function(){this.dragging=!1,"true"===this.dataset.sliderKeepProgress&&p.call(this),s.classList.add("hide"),o=!0}),{passive:!0}),i.Ay.addEventListener(this,window.PointerEvent?"pointermove":"mousemove",(function(e){if(!this.dragging){var t=m(this,e.clientX);g(this,100*t,v(this,t),s),o&&(s.classList.remove("hide"),o=!1)}}),{passive:!0}),i.Ay.addEventListener(this,window.PointerEvent?"pointerleave":"mouseleave",(function(){s.classList.add("hide"),o=!0}),{passive:!0}),a.A.iOS&&(i.Ay.addEventListener(this,"touchstart",(function(e){if(1===e.targetTouches.length){this.touched=!0;var t=m(this,e.targetTouches[0].clientX);this.value=v(this,t),this.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!1})),e.preventDefault()}}),{capture:!0}),i.Ay.addEventListener(this,"touchmove",(function(e){if(this.touched&&1===e.targetTouches.length){var t=m(this,e.targetTouches[0].clientX);this.value=v(this,t),this.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!1}))}}),{passive:!0}),i.Ay.addEventListener(this,"touchend",(function(){var e=this;setTimeout((function(){e.touched=!1,e.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!1}))}),0)}),{passive:!0})),d?this.addEventListener("valueset",p.bind(this,!0)):((c=(l=this).interval)&&clearInterval(c),l.interval=setInterval(p.bind(l,!0),100)),p.call(this)}var l,c};var b,A=1e3;function w(e){clearTimeout(b),b=void 0,e.keyboardDragging=!1;var t=new Event("change",{bubbles:!0,cancelable:!1});e.dispatchEvent(t)}function k(e,t){!function(e){e.keyboardDragging=!0,clearTimeout(b),b=setTimeout((function(){w(e)}),A)}(e),e.value=Math.max(e.min,Math.min(e.max,parseFloat(e.value)+t));var n=new Event("input",{bubbles:!0,cancelable:!1});e.dispatchEvent(n)}function S(e){switch(s.Ay.getKeyName(e)){case"ArrowLeft":case"Left":k(this,-f(this,this.keyboardStepDown)),e.preventDefault(),e.stopPropagation();break;case"ArrowRight":case"Right":k(this,f(this,this.keyboardStepUp)),e.preventDefault(),e.stopPropagation();break;case"Enter":this.keyboardDragging&&(w(this),e.preventDefault(),e.stopPropagation())}}function I(e,t,n){var a=e.style;o.Ay.getIsRTL()?a.right=Math.max(t,0)+"%":a.left=Math.max(t,0)+"%";var i=n-t;a.width=Math.max(Math.min(i,100),0)+"%"}u.enableKeyboardDragging=function(){this.keyboardDraggingEnabled||(this.addEventListener("keydown",S),this.keyboardDraggingEnabled=!0)},u.setKeyboardSteps=function(e,t){this.keyboardStepDown=e||t||1,this.keyboardStepUp=t||e||1},u.setBufferedRanges=function(e,t,n){var a=this.backgroundUpper;if(a){null!=t&&(e=function(e,t){return t?e.map((function(e){return{start:e.start/t*100,end:e.end/t*100}})):[]}(e,t),n=n/t*100);var i,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw r}}}}(e);try{for(r.s();!(i=r.n()).done;){var s=i.value;if(!(null!=n&&n>=s.end))return void I(a,s.start,s.end)}}catch(e){r.e(e)}finally{r.f()}I(a,0,0)}},u.setIsClear=function(e){var t=this.backgroundLower;t&&(e?t.classList.add("mdl-slider-background-lower-clear"):t.classList.remove("mdl-slider-background-lower-clear"))},u.detachedCallback=function(){var e=this.interval;e&&clearInterval(e),this.interval=null,this.backgroundUpper=null,this.backgroundLower=null},document.registerElement("emby-slider",{prototype:u,extends:"input"})},79617:function(e,t,n){n.r(t),n.d(t,{show:function(){return d}});var a=n(22696),i=n.n(a),r=n(79754),s=n(46782),o=n(9482),l=n(47629),c=(n(10353),function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")});function u(e,t,a){Promise.resolve().then(n.bind(n,46345)).then((function(n){var i=a?"on":"off";n.centerFocus[i](e,t)})).catch((function(e){console.warn("Error in centerFocus",e)}))}function d(e){var t,n,a,d={removeOnClose:!0,enableHistory:e.enableHistory,scrollY:!1};s.A.tv?(d.size="fullscreen",a=!0,d.autoFocus=!0):(d.modal=!1,d.entryAnimation=e.entryAnimation,d.exitAnimation=e.exitAnimation,d.entryAnimationDuration=e.entryAnimationDuration||140,d.exitAnimationDuration=e.exitAnimationDuration||100,d.autoFocus=!1);var h=r.default.createDialog(d);a?h.classList.add("actionsheet-fullscreen"):h.classList.add("actionsheet-not-fullscreen"),h.classList.add("actionSheet"),e.dialogClass&&h.classList.add(e.dialogClass);var f="",m=s.A.tv?"scrollY smoothScrollY hiddenScrollY":"scrollY",v="";e.items.length>20&&(v+="min-width:"+(l.Ay.getWindowSize().innerWidth>=300?240:200)+"px;");var p,g=!1,y=[];try{for(var b=c(e.items),A=b.next();!A.done;A=b.next())(p=(L=A.value).icon||(L.selected?"check":null))&&(g=!0),y.push(p||"")}catch(e){t={error:e}}finally{try{A&&!A.done&&(n=b.return)&&n.call(b)}finally{if(t)throw t.error}}s.A.tv&&(f+='<button is="paper-icon-button-light" class="btnCloseActionSheet hide-mouse-idle-tv" tabindex="-1" title="'.concat(o.Ay.translate("ButtonBack"),'">\n                     <span class="material-icons arrow_back" aria-hidden="true"></span>\n                 </button>'));var w=e.title&&!g;w||s.A.tv?f+='<div class="actionSheetContent actionSheetContent-centered">':f+='<div class="actionSheetContent">',e.title&&(f+='<h1 class="actionSheetTitle">'+i()(e.title)+"</h1>"),e.text&&(f+='<p class="actionSheetText">'+i()(e.text)+"</p>");var k="actionSheetScroller";s.A.tv&&(k+=" actionSheetScroller-tv focuscontainer-x focuscontainer-y"),f+='<div class="'+k+" "+m+'" style="'+v+'">';var S="listItem listItem-button actionSheetMenuItem";(e.border||e.shaded)&&(S+=" listItem-border"),e.menuItemClass&&(S+=" "+e.menuItemClass),s.A.tv&&(S+=" listItem-focusscale"),s.A.mobile&&(S+=" actionsheet-xlargeFont");for(var I=0;I<e.items.length;I++){var L;(L=e.items[I]).divider?f+='<div class="actionsheetDivider"></div>':(f+="<button"+(L.selected&&s.A.tv?" autoFocus":"")+' is="emby-button" type="button" class="'+S+'" data-id="'+(null==L.id||""===L.id?L.value:L.id)+'">',(p=y[I])?f+='<span class="actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons '.concat(p,'" aria-hidden="true"></span>'):g&&!w&&(f+='<span class="actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons check" aria-hidden="true" style="visibility:hidden;"></span>'),f+='<div class="listItemBody actionsheetListItemBody">',f+='<div class="listItemBodyText actionSheetItemText">',f+=i()(L.name||L.textContent||L.innerText),f+="</div>",L.secondaryText&&(f+='<div class="listItemBodyText secondary">'.concat(i()(L.secondaryText),"</div>")),f+="</div>",L.asideText&&(f+='<div class="listItemAside actionSheetItemAsideText">'.concat(i()(L.asideText),"</div>")),f+="</button>")}if(e.showCancel&&(f+='<div class="buttons">',f+='<button is="emby-button" type="button" class="btnCloseActionSheet">'.concat(o.Ay.translate("ButtonCancel"),"</button>"),f+="</div>"),f+="</div>",h.innerHTML=f,s.A.tv){var T=h.querySelector(".actionSheetScroller");T&&u(T,!1,!0)}var P=h.querySelector(".btnCloseActionSheet");P&&P.addEventListener("click",(function(){r.default.close(h)}));var B,x=null;return e.timeout&&(B=setTimeout((function(){r.default.close(h)}),e.timeout)),new Promise((function(t,n){var a=!1;h.addEventListener("click",(function(n){var i=l.Ay.parentWithClass(n.target,"actionSheetMenuItem");i&&(x=i.getAttribute("data-id"),e.resolveOnClick&&(Array.isArray(e.resolveOnClick)?-1!==e.resolveOnClick.indexOf(x)&&(t(x),a=!0):(t(x),a=!0)),r.default.close(h))})),h.addEventListener("close",(function(){if(s.A.tv){var i=h.querySelector(".actionSheetScroller");i&&u(i,!1,!1)}B&&(clearTimeout(B),B=void 0),a||(null!=x?(e.callback&&e.callback(x),t(x)):n("ActionSheet closed without resolving"))})),r.default.open(h).catch((function(e){console.warn("DialogHelper.open error",e)}));var i=e.positionTo&&"fullscreen"!==d.size?function(e,t,n){var a=l.Ay.getWindowSize(),i=a.innerHeight,r=a.innerWidth,s=function(e){var t,n,a=[];if(!document)return a;try{for(var i=c(e),r=i.next();!r.done;r=i.next()){var s=r.value.getBoundingClientRect();a.push({top:s.top,left:s.left,width:s.width,height:s.height})}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return a}([e])[0];"top"!==t.positionY&&(s.top+=(s.height||0)/2),s.left+=(s.width||0)/2;var o=n.offsetHeight||300,u=n.offsetWidth||160;s.top-=o/2,s.left-=u/2;var d=s.left+u-r,h=s.top+o-i;return d>0&&(s.left-=d+20),h>0&&(s.top-=h+20),s.top+=t.offsetTop||0,s.left+=t.offsetLeft||0,s.top=Math.max(s.top,10),s.left=Math.max(s.left,10),s}(e.positionTo,e,h):null;i&&(h.style.position="fixed",h.style.margin="0",h.style.left=i.left+"px",h.style.top=i.top+"px")}))}t.default={show:d}}}]);