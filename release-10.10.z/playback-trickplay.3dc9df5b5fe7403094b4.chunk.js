"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[77756],{70298:function(e,t,n){n.r(t);var a=n(62540),i=n(49960),l=n(19437),c=n(63696),r=n(5898),o=n(65242),s=n(30658),d=n(86068),u=n(91281),p=n(67692),v=n(63622),y=n(8566),h=n(50764),m=n(86191);t.default=function(){var e,t=(0,c.useRef)(null),n=(0,c.useCallback)((function(e){var n,a,c,r,o,s,d,u=t.current,p=e.TrickplayOptions;u?(u.querySelector(".chkEnableHwAcceleration").checked=(null==p?void 0:p.EnableHwAcceleration)||!1,u.querySelector(".chkEnableHwEncoding").checked=(null==p?void 0:p.EnableHwEncoding)||!1,u.querySelector(".chkEnableKeyFrameOnlyExtraction").checked=(null==p?void 0:p.EnableKeyFrameOnlyExtraction)||!1,u.querySelector("#selectScanBehavior").value=(null==p?void 0:p.ScanBehavior)||i.v.NonBlocking,u.querySelector("#selectProcessPriority").value=(null==p?void 0:p.ProcessPriority)||l._.Normal,u.querySelector("#txtInterval").value=(null===(n=null==p?void 0:p.Interval)||void 0===n?void 0:n.toString())||"10000",u.querySelector("#txtWidthResolutions").value=(null===(a=null==p?void 0:p.WidthResolutions)||void 0===a?void 0:a.join(","))||"",u.querySelector("#txtTileWidth").value=(null===(c=null==p?void 0:p.TileWidth)||void 0===c?void 0:c.toString())||"10",u.querySelector("#txtTileHeight").value=(null===(r=null==p?void 0:p.TileHeight)||void 0===r?void 0:r.toString())||"10",u.querySelector("#txtQscale").value=(null===(o=null==p?void 0:p.Qscale)||void 0===o?void 0:o.toString())||"4",u.querySelector("#txtJpegQuality").value=(null===(s=null==p?void 0:p.JpegQuality)||void 0===s?void 0:s.toString())||"90",u.querySelector("#txtProcessThreads").value=(null===(d=null==p?void 0:p.ProcessThreads)||void 0===d?void 0:d.toString())||"1",y.Ay.hide()):console.error("Unexpected null reference")}),[]),b=(0,c.useCallback)((function(){var e;y.Ay.show(),null===(e=m.A.currentApiClient())||void 0===e||e.getServerConfiguration().then((function(e){n(e)})).catch((function(e){console.error("[PlaybackTrickplay] failed to fetch server config",e)}))}),[n]);return(0,c.useEffect)((function(){var e=t.current;if(e){e.querySelector(".trickplayConfigurationForm").addEventListener("submit",(function(t){var n=m.A.currentApiClient();if(n)return y.Ay.show(),n.getServerConfiguration().then((function(t){!function(t){var n=m.A.currentApiClient();if(n){if(!t.TrickplayOptions)throw new Error("Unexpected null TrickplayOptions");var a=t.TrickplayOptions;a.EnableHwAcceleration=e.querySelector(".chkEnableHwAcceleration").checked,a.EnableHwEncoding=e.querySelector(".chkEnableHwEncoding").checked,a.EnableKeyFrameOnlyExtraction=e.querySelector(".chkEnableKeyFrameOnlyExtraction").checked,a.ScanBehavior=e.querySelector("#selectScanBehavior").value,a.ProcessPriority=e.querySelector("#selectProcessPriority").value,a.Interval=Math.max(1,parseInt(e.querySelector("#txtInterval").value||"10000",10)),a.WidthResolutions=e.querySelector("#txtWidthResolutions").value.replace(" ","").split(",").map(Number),a.TileWidth=Math.max(1,parseInt(e.querySelector("#txtTileWidth").value||"10",10)),a.TileHeight=Math.max(1,parseInt(e.querySelector("#txtTileHeight").value||"10",10)),a.Qscale=Math.min(31,parseInt(e.querySelector("#txtQscale").value||"4",10)),a.JpegQuality=Math.min(100,parseInt(e.querySelector("#txtJpegQuality").value||"90",10)),a.ProcessThreads=parseInt(e.querySelector("#txtProcessThreads").value||"1",10),n.updateServerConfiguration(t).then((function(){y.Ay.hide(),(0,h.A)(r.Ay.translate("SettingsSaved"))})).catch((function(e){console.error("[PlaybackTrickplay] failed to update config",e)}))}else console.error("[PlaybackTrickplay] No current apiclient instance")}(t)})).catch((function(e){console.error("[PlaybackTrickplay] failed to fetch server config",e)})),t.preventDefault(),t.stopPropagation(),!1;console.error("[PlaybackTrickplay] No current apiclient instance")})),b()}else console.error("Unexpected null reference")}),[b]),(0,a.jsx)(o.A,{id:"trickplayConfigurationPage",className:"mainAnimatedPage type-interior playbackConfigurationPage",title:r.Ay.translate("Trickplay"),children:(0,a.jsxs)("div",{ref:t,className:"content-primary",children:[(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsx)(s.A,{title:r.Ay.translate("Trickplay"),isLinkVisible:!1})}),(0,a.jsxs)("form",{className:"trickplayConfigurationForm",children:[(0,a.jsx)("div",{className:"checkboxContainer checkboxContainer-withDescription",children:(0,a.jsx)(u.A,{className:"chkEnableHwAcceleration",title:"LabelTrickplayAccel"})}),(0,a.jsxs)("div",{className:"checkboxContainer checkboxContainer-withDescription",children:[(0,a.jsx)(u.A,{className:"chkEnableHwEncoding",title:"LabelTrickplayAccelEncoding"}),(0,a.jsx)("div",{className:"fieldDescription checkboxFieldDescription",children:(0,a.jsx)("div",{className:"fieldDescription",children:r.Ay.translate("LabelTrickplayAccelEncodingHelp")})})]}),(0,a.jsxs)("div",{className:"checkboxContainer checkboxContainer-withDescription",children:[(0,a.jsx)(u.A,{className:"chkEnableKeyFrameOnlyExtraction",title:"LabelTrickplayKeyFrameOnlyExtraction"}),(0,a.jsx)("div",{className:"fieldDescription checkboxFieldDescription",children:(0,a.jsx)("div",{className:"fieldDescription",children:r.Ay.translate("LabelTrickplayKeyFrameOnlyExtractionHelp")})})]}),(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsxs)("div",{className:"selectContainer fldSelectScanBehavior",children:[(0,a.jsx)(p.A,{id:"selectScanBehavior",label:"LabelScanBehavior",children:(e="",e+="<option value='NonBlocking'>".concat(r.Ay.translate("NonBlockingScan"),"</option>"),e+="<option value='Blocking'>".concat(r.Ay.translate("BlockingScan"),"</option>"))}),(0,a.jsx)("div",{className:"fieldDescription",children:r.Ay.translate("LabelScanBehaviorHelp")})]})}),(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsxs)("div",{className:"selectContainer fldSelectProcessPriority",children:[(0,a.jsx)(p.A,{id:"selectProcessPriority",label:"LabelProcessPriority",children:function(){var e="";return e+="<option value='High'>".concat(r.Ay.translate("PriorityHigh"),"</option>"),e+="<option value='AboveNormal'>".concat(r.Ay.translate("PriorityAboveNormal"),"</option>"),e+="<option value='Normal'>".concat(r.Ay.translate("PriorityNormal"),"</option>"),(e+="<option value='BelowNormal'>".concat(r.Ay.translate("PriorityBelowNormal"),"</option>"))+"<option value='Idle'>".concat(r.Ay.translate("PriorityIdle"),"</option>")}()}),(0,a.jsx)("div",{className:"fieldDescription",children:r.Ay.translate("LabelProcessPriorityHelp")})]})}),(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsxs)("div",{className:"inputContainer",children:[(0,a.jsx)(v.A,{type:"number",id:"txtInterval",label:"LabelImageInterval",options:'required inputMode="numeric" pattern="[0-9]*" min="1"'}),(0,a.jsx)("div",{className:"fieldDescription",children:r.Ay.translate("LabelImageIntervalHelp")})]})}),(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsxs)("div",{className:"inputContainer",children:[(0,a.jsx)(v.A,{type:"text",id:"txtWidthResolutions",label:"LabelWidthResolutions",options:'required pattern="[0-9,]*"'}),(0,a.jsx)("div",{className:"fieldDescription",children:r.Ay.translate("LabelWidthResolutionsHelp")})]})}),(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsxs)("div",{className:"inputContainer",children:[(0,a.jsx)(v.A,{type:"number",id:"txtTileWidth",label:"LabelTileWidth",options:'required inputMode="numeric" pattern="[0-9]*" min="1"'}),(0,a.jsx)("div",{className:"fieldDescription",children:r.Ay.translate("LabelTileWidthHelp")})]})}),(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsxs)("div",{className:"inputContainer",children:[(0,a.jsx)(v.A,{type:"number",id:"txtTileHeight",label:"LabelTileHeight",options:'required inputMode="numeric" pattern="[0-9]*" min="1"'}),(0,a.jsx)("div",{className:"fieldDescription",children:r.Ay.translate("LabelTileHeightHelp")})]})}),(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsxs)("div",{className:"inputContainer",children:[(0,a.jsx)(v.A,{type:"number",id:"txtJpegQuality",label:"LabelJpegQuality",options:'required inputMode="numeric" pattern="[0-9]*" min="1" max="100"'}),(0,a.jsx)("div",{className:"fieldDescription",children:r.Ay.translate("LabelJpegQualityHelp")})]})}),(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsxs)("div",{className:"inputContainer",children:[(0,a.jsx)(v.A,{type:"number",id:"txtQscale",label:"LabelQscale",options:'required inputMode="numeric" pattern="[0-9]*" min="2" max="31"'}),(0,a.jsx)("div",{className:"fieldDescription",children:r.Ay.translate("LabelQscaleHelp")})]})}),(0,a.jsx)("div",{className:"verticalSection",children:(0,a.jsxs)("div",{className:"inputContainer",children:[(0,a.jsx)(v.A,{type:"number",id:"txtProcessThreads",label:"LabelTrickplayThreads",options:'required inputMode="numeric" pattern="[0-9]*" min="0"'}),(0,a.jsx)("div",{className:"fieldDescription",children:r.Ay.translate("LabelTrickplayThreadsHelp")})]})}),(0,a.jsx)("div",{children:(0,a.jsx)(d.A,{type:"submit",className:"raised button-submit block",title:"Save"})})]})]})})}},86068:function(e,t,n){var a=n(62540),i=(n(63696),n(5898)),l=function(e){var t=e.type,n=e.id,a=e.className,i=e.title,l=e.leftIcon,c=e.rightIcon;return{__html:'<button\n        is="emby-button"\n        type="'.concat(t,'"\n        ').concat(n,'\n        class="').concat(a,'"\n        >\n        ').concat(l,"\n        <span>").concat(i,"</span>\n        ").concat(c,"\n    </button>")}};t.A=function(e){var t=e.type,n=e.id,c=e.className,r=e.title,o=e.leftIcon,s=e.rightIcon;return(0,a.jsx)("div",{dangerouslySetInnerHTML:l({type:t,id:n?'id="'.concat(n,'"'):"",className:c,title:i.Ay.translate(r),leftIcon:o?'<span class="material-icons '.concat(o,'" aria-hidden="true"></span>'):"",rightIcon:s?'<span class="material-icons '.concat(s,'" aria-hidden="true"></span>'):""})})}},91281:function(e,t,n){var a=n(62540),i=n(22696),l=n.n(i),c=(n(63696),n(5898)),r=function(e){var t=e.labelClassName,n=e.className,a=e.id,i=e.dataFilter,l=e.dataItemType,c=e.dataId,r=e.checkedAttribute,o=e.renderContent;return{__html:"<label ".concat(t,'>\n        <input\n            is="emby-checkbox"\n            type="checkbox"\n            class="').concat(n,'"\n            ').concat(a,"\n            ").concat(i,"\n            ").concat(l,"\n            ").concat(c,"\n            ").concat(r,"\n        />\n        ").concat(o,"\n    </label>")}};t.A=function(e){var t=e.labelClassName,n=e.className,i=e.elementId,o=e.dataFilter,s=e.itemType,d=e.itemId,u=e.itemAppName,p=e.itemCheckedAttribute,v=e.itemName,y=e.title,h=u?"- ".concat(u):"",m=v?"<span>".concat(l()(v||"")," ").concat(h,"</span>"):"<span>".concat(c.Ay.translate(y),"</span>");return(0,a.jsx)("div",{className:"sectioncheckbox",dangerouslySetInnerHTML:r({labelClassName:t?"class='".concat(t,"'"):"",className:n,id:i?"id='".concat(i,"'"):"",dataFilter:o?"data-filter='".concat(o,"'"):"",dataItemType:s?"data-itemtype='".concat(s,"'"):"",dataId:d?"data-id='".concat(d,"'"):"",checkedAttribute:p||"",renderContent:m})})}},85817:function(e,t,n){var a=n(62540),i=(n(63696),n(5898));t.A=function(e){var t=e.is,n=e.id,l=e.className,c=e.title,r=e.icon,o=e.dataIndex,s=e.dataTag,d=e.dataProfileid,u=e.onClick,p=function(e){var t=e.id,n=e.className,a=e.title,i=e.icon,l=e.dataIndex,c=e.dataTag,r=e.dataProfileid;return{__html:'<button\n        is="'.concat(e.is,'"\n        type="button"\n        ').concat(t,'\n        class="').concat(n,'"\n        ').concat(a,"\n        ").concat(l,"\n        ").concat(c,"\n        ").concat(r,'\n    >\n        <span class="material-icons ').concat(i,'" aria-hidden="true"></span>\n    </button>')}}({is:t,id:n?'id="'.concat(n,'"'):"",className:l,title:c?'title="'.concat(i.Ay.translate(c),'"'):"",icon:r,dataIndex:o||0===o?'data-index="'.concat(o,'"'):"",dataTag:s?'data-tag="'.concat(s,'"'):"",dataProfileid:d?'data-profileid="'.concat(d,'"'):""});return void 0!==u?(0,a.jsx)("button",{style:{all:"unset"},dangerouslySetInnerHTML:p,onClick:u}):(0,a.jsx)("div",{dangerouslySetInnerHTML:p})}},63622:function(e,t,n){var a=n(62540),i=n(63696),l=n(5898);t.A=function(e){var t=e.containerClassName,n=e.initialValue,c=e.onChange,r=void 0===c?function(){}:c,o=e.type,s=e.id,d=e.label,u=e.options,p=void 0===u?"":u,v=(0,i.useRef)(null),y=(0,i.useMemo)((function(){return function(e){var t=e.id,n=e.label,a=e.initialValue,i=e.options;return{__html:'<input\n        is="emby-input"\n        type="'.concat(e.type,'"\n        id="').concat(t,'"\n        label="').concat(n,'"\n        value="').concat(a,'"\n        ').concat(i,"\n    />")}}({type:o,id:s,label:l.Ay.translate(d),initialValue:n,options:p})}),[]),h=(0,i.useCallback)((function(e){r(e.target.value)}),[r]);return(0,i.useEffect)((function(){var e,t=null===(e=null==v?void 0:v.current)||void 0===e?void 0:e.querySelector("input");return null==t||t.addEventListener("input",h),function(){null==t||t.removeEventListener("input",h)}}),[v,h]),(0,a.jsx)("div",{ref:v,className:t,dangerouslySetInnerHTML:y})}},30658:function(e,t,n){var a=n(62540),i=(n(63696),n(85817)),l=n(84851),c=n(5898);t.A=function(e){var t=e.SectionClassName,n=e.title,r=e.isBtnVisible,o=void 0!==r&&r,s=e.btnId,d=e.btnClassName,u=e.btnTitle,p=e.btnIcon,v=e.isLinkVisible,y=void 0===v||v,h=e.url;return(0,a.jsxs)("div",{className:"".concat(t," sectionTitleContainer flex align-items-center"),children:[(0,a.jsx)("h2",{className:"sectionTitle",children:n}),o&&(0,a.jsx)(i.A,{is:"emby-button",id:s,className:d,title:u,icon:p}),y&&(0,a.jsx)(l.A,{className:"raised button-alt headerHelpButton",target:"_blank",rel:"noopener noreferrer",href:h,children:c.Ay.translate("Help")})]})}},67692:function(e,t,n){var a=n(62540),i=(n(63696),n(5898)),l=function(e){var t=e.name,n=e.id,a=e.required,i=e.label,l=e.option;return{__html:'<select\n        is="emby-select"\n        '.concat(t,'\n        id="').concat(n,'"\n        ').concat(a,'\n        label="').concat(i,'"\n    >\n        ').concat(l,"\n    </select>")}};t.A=function(e){var t=e.name,n=e.id,c=e.required,r=e.label,o=e.children;return(0,a.jsx)("div",{dangerouslySetInnerHTML:l({name:t?"name='".concat(t,"'"):"",id:n,required:c?"required='".concat(c,"'"):"",label:i.Ay.translate(r),option:o})})}},84851:function(e,t,n){var a=n(62540),i=n(63696),l=n(4452),c=n.n(l),r=n(46782),o=n(13615),s=n(70267),d=n(22622),u=function(){return u=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},u.apply(this,arguments)};t.A=function(e){var t=e.className,n=e.isAutoHideEnabled,l=e.href,p=e.target,v=e.onClick,y=e.children,h=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n}(e,["className","isAutoHideEnabled","href","target","onClick","children"]),m=(0,i.useCallback)((function(e){var t=l||"";"#"!==t?p?d.g.supports("targetblank")||(e.preventDefault(),o.A.openUrl(t)):(e.preventDefault(),s.appRouter.show(t).catch((function(e){console.error("[LinkButton] failed to show url",t,e)}))):e.preventDefault(),null==v||v(e)}),[l,p,v]);if(!0===n&&!d.g.supports("externallinks"))return null;var b=c()("emby-button",t,{"show-focus":r.A.tv});return(0,a.jsx)("a",u({className:b,href:l,target:p,onClick:m},h,{children:y}))}}}]);